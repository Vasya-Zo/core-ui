{"version":3,"sources":["webpack://core/webpack/universalModuleDefinition","webpack://core/webpack/bootstrap","webpack://core/../node_modules/autosize/dist/autosize.js","webpack://core/../node_modules/babel-polyfill/lib/index.js","webpack://core/../node_modules/backbone-associations/backbone-associations.js","webpack://core/../node_modules/backbone-computedfields/lib/amd/backbone.computedfields.js","webpack://core/../node_modules/backbone.marionette/lib/backbone.marionette.js","webpack://core/../node_modules/backbone.marionette/lib/backbone.marionette.js-exposed","webpack://core/../node_modules/backbone.modelbinder/Backbone.ModelBinder.js","webpack://core/../node_modules/backbone.radio/build/backbone.radio.js","webpack://core/../node_modules/codemirror/addon/dialog/dialog.js","webpack://core/../node_modules/codemirror/addon/edit/closebrackets.js","webpack://core/../node_modules/codemirror/addon/edit/matchbrackets.js","webpack://core/../node_modules/codemirror/addon/fold/brace-fold.js","webpack://core/../node_modules/codemirror/addon/fold/comment-fold.js","webpack://core/../node_modules/codemirror/addon/fold/foldcode.js","webpack://core/../node_modules/codemirror/addon/fold/foldgutter.js","webpack://core/../node_modules/codemirror/addon/hint/show-hint.js","webpack://core/../node_modules/codemirror/addon/search/search.js","webpack://core/../node_modules/codemirror/addon/search/searchcursor.js","webpack://core/../node_modules/codemirror/lib/codemirror.js","webpack://core/../node_modules/codemirror/mode/clike/clike.js","webpack://core/../node_modules/core-js/fn/regexp/escape.js","webpack://core/../node_modules/core-js/modules/_a-function.js","webpack://core/../node_modules/core-js/modules/_a-number-value.js","webpack://core/../node_modules/core-js/modules/_add-to-unscopables.js","webpack://core/../node_modules/core-js/modules/_an-instance.js","webpack://core/../node_modules/core-js/modules/_an-object.js","webpack://core/../node_modules/core-js/modules/_array-copy-within.js","webpack://core/../node_modules/core-js/modules/_array-fill.js","webpack://core/../node_modules/core-js/modules/_array-from-iterable.js","webpack://core/../node_modules/core-js/modules/_array-includes.js","webpack://core/../node_modules/core-js/modules/_array-methods.js","webpack://core/../node_modules/core-js/modules/_array-reduce.js","webpack://core/../node_modules/core-js/modules/_array-species-constructor.js","webpack://core/../node_modules/core-js/modules/_array-species-create.js","webpack://core/../node_modules/core-js/modules/_bind.js","webpack://core/../node_modules/core-js/modules/_classof.js","webpack://core/../node_modules/core-js/modules/_cof.js","webpack://core/../node_modules/core-js/modules/_collection-strong.js","webpack://core/../node_modules/core-js/modules/_collection-to-json.js","webpack://core/../node_modules/core-js/modules/_collection-weak.js","webpack://core/../node_modules/core-js/modules/_collection.js","webpack://core/../node_modules/core-js/modules/_core.js","webpack://core/../node_modules/core-js/modules/_create-property.js","webpack://core/../node_modules/core-js/modules/_ctx.js","webpack://core/../node_modules/core-js/modules/_date-to-iso-string.js","webpack://core/../node_modules/core-js/modules/_date-to-primitive.js","webpack://core/../node_modules/core-js/modules/_defined.js","webpack://core/../node_modules/core-js/modules/_descriptors.js","webpack://core/../node_modules/core-js/modules/_dom-create.js","webpack://core/../node_modules/core-js/modules/_enum-bug-keys.js","webpack://core/../node_modules/core-js/modules/_enum-keys.js","webpack://core/../node_modules/core-js/modules/_export.js","webpack://core/../node_modules/core-js/modules/_fails-is-regexp.js","webpack://core/../node_modules/core-js/modules/_fails.js","webpack://core/../node_modules/core-js/modules/_fix-re-wks.js","webpack://core/../node_modules/core-js/modules/_flags.js","webpack://core/../node_modules/core-js/modules/_flatten-into-array.js","webpack://core/../node_modules/core-js/modules/_for-of.js","webpack://core/../node_modules/core-js/modules/_global.js","webpack://core/../node_modules/core-js/modules/_has.js","webpack://core/../node_modules/core-js/modules/_hide.js","webpack://core/../node_modules/core-js/modules/_html.js","webpack://core/../node_modules/core-js/modules/_ie8-dom-define.js","webpack://core/../node_modules/core-js/modules/_inherit-if-required.js","webpack://core/../node_modules/core-js/modules/_invoke.js","webpack://core/../node_modules/core-js/modules/_iobject.js","webpack://core/../node_modules/core-js/modules/_is-array-iter.js","webpack://core/../node_modules/core-js/modules/_is-array.js","webpack://core/../node_modules/core-js/modules/_is-integer.js","webpack://core/../node_modules/core-js/modules/_is-object.js","webpack://core/../node_modules/core-js/modules/_is-regexp.js","webpack://core/../node_modules/core-js/modules/_iter-call.js","webpack://core/../node_modules/core-js/modules/_iter-create.js","webpack://core/../node_modules/core-js/modules/_iter-define.js","webpack://core/../node_modules/core-js/modules/_iter-detect.js","webpack://core/../node_modules/core-js/modules/_iter-step.js","webpack://core/../node_modules/core-js/modules/_iterators.js","webpack://core/../node_modules/core-js/modules/_library.js","webpack://core/../node_modules/core-js/modules/_math-expm1.js","webpack://core/../node_modules/core-js/modules/_math-fround.js","webpack://core/../node_modules/core-js/modules/_math-log1p.js","webpack://core/../node_modules/core-js/modules/_math-scale.js","webpack://core/../node_modules/core-js/modules/_math-sign.js","webpack://core/../node_modules/core-js/modules/_meta.js","webpack://core/../node_modules/core-js/modules/_metadata.js","webpack://core/../node_modules/core-js/modules/_microtask.js","webpack://core/../node_modules/core-js/modules/_new-promise-capability.js","webpack://core/../node_modules/core-js/modules/_object-assign.js","webpack://core/../node_modules/core-js/modules/_object-create.js","webpack://core/../node_modules/core-js/modules/_object-dp.js","webpack://core/../node_modules/core-js/modules/_object-dps.js","webpack://core/../node_modules/core-js/modules/_object-forced-pam.js","webpack://core/../node_modules/core-js/modules/_object-gopd.js","webpack://core/../node_modules/core-js/modules/_object-gopn-ext.js","webpack://core/../node_modules/core-js/modules/_object-gopn.js","webpack://core/../node_modules/core-js/modules/_object-gops.js","webpack://core/../node_modules/core-js/modules/_object-gpo.js","webpack://core/../node_modules/core-js/modules/_object-keys-internal.js","webpack://core/../node_modules/core-js/modules/_object-keys.js","webpack://core/../node_modules/core-js/modules/_object-pie.js","webpack://core/../node_modules/core-js/modules/_object-sap.js","webpack://core/../node_modules/core-js/modules/_object-to-array.js","webpack://core/../node_modules/core-js/modules/_own-keys.js","webpack://core/../node_modules/core-js/modules/_parse-float.js","webpack://core/../node_modules/core-js/modules/_parse-int.js","webpack://core/../node_modules/core-js/modules/_perform.js","webpack://core/../node_modules/core-js/modules/_promise-resolve.js","webpack://core/../node_modules/core-js/modules/_property-desc.js","webpack://core/../node_modules/core-js/modules/_redefine-all.js","webpack://core/../node_modules/core-js/modules/_redefine.js","webpack://core/../node_modules/core-js/modules/_replacer.js","webpack://core/../node_modules/core-js/modules/_same-value.js","webpack://core/../node_modules/core-js/modules/_set-collection-from.js","webpack://core/../node_modules/core-js/modules/_set-collection-of.js","webpack://core/../node_modules/core-js/modules/_set-proto.js","webpack://core/../node_modules/core-js/modules/_set-species.js","webpack://core/../node_modules/core-js/modules/_set-to-string-tag.js","webpack://core/../node_modules/core-js/modules/_shared-key.js","webpack://core/../node_modules/core-js/modules/_shared.js","webpack://core/../node_modules/core-js/modules/_species-constructor.js","webpack://core/../node_modules/core-js/modules/_strict-method.js","webpack://core/../node_modules/core-js/modules/_string-at.js","webpack://core/../node_modules/core-js/modules/_string-context.js","webpack://core/../node_modules/core-js/modules/_string-html.js","webpack://core/../node_modules/core-js/modules/_string-pad.js","webpack://core/../node_modules/core-js/modules/_string-repeat.js","webpack://core/../node_modules/core-js/modules/_string-trim.js","webpack://core/../node_modules/core-js/modules/_string-ws.js","webpack://core/../node_modules/core-js/modules/_task.js","webpack://core/../node_modules/core-js/modules/_to-absolute-index.js","webpack://core/../node_modules/core-js/modules/_to-index.js","webpack://core/../node_modules/core-js/modules/_to-integer.js","webpack://core/../node_modules/core-js/modules/_to-iobject.js","webpack://core/../node_modules/core-js/modules/_to-length.js","webpack://core/../node_modules/core-js/modules/_to-object.js","webpack://core/../node_modules/core-js/modules/_to-primitive.js","webpack://core/../node_modules/core-js/modules/_typed-array.js","webpack://core/../node_modules/core-js/modules/_typed-buffer.js","webpack://core/../node_modules/core-js/modules/_typed.js","webpack://core/../node_modules/core-js/modules/_uid.js","webpack://core/../node_modules/core-js/modules/_user-agent.js","webpack://core/../node_modules/core-js/modules/_validate-collection.js","webpack://core/../node_modules/core-js/modules/_wks-define.js","webpack://core/../node_modules/core-js/modules/_wks-ext.js","webpack://core/../node_modules/core-js/modules/_wks.js","webpack://core/../node_modules/core-js/modules/core.get-iterator-method.js","webpack://core/../node_modules/core-js/modules/core.regexp.escape.js","webpack://core/../node_modules/core-js/modules/es6.array.copy-within.js","webpack://core/../node_modules/core-js/modules/es6.array.every.js","webpack://core/../node_modules/core-js/modules/es6.array.fill.js","webpack://core/../node_modules/core-js/modules/es6.array.filter.js","webpack://core/../node_modules/core-js/modules/es6.array.find-index.js","webpack://core/../node_modules/core-js/modules/es6.array.find.js","webpack://core/../node_modules/core-js/modules/es6.array.for-each.js","webpack://core/../node_modules/core-js/modules/es6.array.from.js","webpack://core/../node_modules/core-js/modules/es6.array.index-of.js","webpack://core/../node_modules/core-js/modules/es6.array.is-array.js","webpack://core/../node_modules/core-js/modules/es6.array.iterator.js","webpack://core/../node_modules/core-js/modules/es6.array.join.js","webpack://core/../node_modules/core-js/modules/es6.array.last-index-of.js","webpack://core/../node_modules/core-js/modules/es6.array.map.js","webpack://core/../node_modules/core-js/modules/es6.array.of.js","webpack://core/../node_modules/core-js/modules/es6.array.reduce-right.js","webpack://core/../node_modules/core-js/modules/es6.array.reduce.js","webpack://core/../node_modules/core-js/modules/es6.array.slice.js","webpack://core/../node_modules/core-js/modules/es6.array.some.js","webpack://core/../node_modules/core-js/modules/es6.array.sort.js","webpack://core/../node_modules/core-js/modules/es6.array.species.js","webpack://core/../node_modules/core-js/modules/es6.date.now.js","webpack://core/../node_modules/core-js/modules/es6.date.to-iso-string.js","webpack://core/../node_modules/core-js/modules/es6.date.to-json.js","webpack://core/../node_modules/core-js/modules/es6.date.to-primitive.js","webpack://core/../node_modules/core-js/modules/es6.date.to-string.js","webpack://core/../node_modules/core-js/modules/es6.function.bind.js","webpack://core/../node_modules/core-js/modules/es6.function.has-instance.js","webpack://core/../node_modules/core-js/modules/es6.function.name.js","webpack://core/../node_modules/core-js/modules/es6.map.js","webpack://core/../node_modules/core-js/modules/es6.math.acosh.js","webpack://core/../node_modules/core-js/modules/es6.math.asinh.js","webpack://core/../node_modules/core-js/modules/es6.math.atanh.js","webpack://core/../node_modules/core-js/modules/es6.math.cbrt.js","webpack://core/../node_modules/core-js/modules/es6.math.clz32.js","webpack://core/../node_modules/core-js/modules/es6.math.cosh.js","webpack://core/../node_modules/core-js/modules/es6.math.expm1.js","webpack://core/../node_modules/core-js/modules/es6.math.fround.js","webpack://core/../node_modules/core-js/modules/es6.math.hypot.js","webpack://core/../node_modules/core-js/modules/es6.math.imul.js","webpack://core/../node_modules/core-js/modules/es6.math.log10.js","webpack://core/../node_modules/core-js/modules/es6.math.log1p.js","webpack://core/../node_modules/core-js/modules/es6.math.log2.js","webpack://core/../node_modules/core-js/modules/es6.math.sign.js","webpack://core/../node_modules/core-js/modules/es6.math.sinh.js","webpack://core/../node_modules/core-js/modules/es6.math.tanh.js","webpack://core/../node_modules/core-js/modules/es6.math.trunc.js","webpack://core/../node_modules/core-js/modules/es6.number.constructor.js","webpack://core/../node_modules/core-js/modules/es6.number.epsilon.js","webpack://core/../node_modules/core-js/modules/es6.number.is-finite.js","webpack://core/../node_modules/core-js/modules/es6.number.is-integer.js","webpack://core/../node_modules/core-js/modules/es6.number.is-nan.js","webpack://core/../node_modules/core-js/modules/es6.number.is-safe-integer.js","webpack://core/../node_modules/core-js/modules/es6.number.max-safe-integer.js","webpack://core/../node_modules/core-js/modules/es6.number.min-safe-integer.js","webpack://core/../node_modules/core-js/modules/es6.number.parse-float.js","webpack://core/../node_modules/core-js/modules/es6.number.parse-int.js","webpack://core/../node_modules/core-js/modules/es6.number.to-fixed.js","webpack://core/../node_modules/core-js/modules/es6.number.to-precision.js","webpack://core/../node_modules/core-js/modules/es6.object.assign.js","webpack://core/../node_modules/core-js/modules/es6.object.create.js","webpack://core/../node_modules/core-js/modules/es6.object.define-properties.js","webpack://core/../node_modules/core-js/modules/es6.object.define-property.js","webpack://core/../node_modules/core-js/modules/es6.object.freeze.js","webpack://core/../node_modules/core-js/modules/es6.object.get-own-property-descriptor.js","webpack://core/../node_modules/core-js/modules/es6.object.get-own-property-names.js","webpack://core/../node_modules/core-js/modules/es6.object.get-prototype-of.js","webpack://core/../node_modules/core-js/modules/es6.object.is-extensible.js","webpack://core/../node_modules/core-js/modules/es6.object.is-frozen.js","webpack://core/../node_modules/core-js/modules/es6.object.is-sealed.js","webpack://core/../node_modules/core-js/modules/es6.object.is.js","webpack://core/../node_modules/core-js/modules/es6.object.keys.js","webpack://core/../node_modules/core-js/modules/es6.object.prevent-extensions.js","webpack://core/../node_modules/core-js/modules/es6.object.seal.js","webpack://core/../node_modules/core-js/modules/es6.object.set-prototype-of.js","webpack://core/../node_modules/core-js/modules/es6.object.to-string.js","webpack://core/../node_modules/core-js/modules/es6.parse-float.js","webpack://core/../node_modules/core-js/modules/es6.parse-int.js","webpack://core/../node_modules/core-js/modules/es6.promise.js","webpack://core/../node_modules/core-js/modules/es6.reflect.apply.js","webpack://core/../node_modules/core-js/modules/es6.reflect.construct.js","webpack://core/../node_modules/core-js/modules/es6.reflect.define-property.js","webpack://core/../node_modules/core-js/modules/es6.reflect.delete-property.js","webpack://core/../node_modules/core-js/modules/es6.reflect.enumerate.js","webpack://core/../node_modules/core-js/modules/es6.reflect.get-own-property-descriptor.js","webpack://core/../node_modules/core-js/modules/es6.reflect.get-prototype-of.js","webpack://core/../node_modules/core-js/modules/es6.reflect.get.js","webpack://core/../node_modules/core-js/modules/es6.reflect.has.js","webpack://core/../node_modules/core-js/modules/es6.reflect.is-extensible.js","webpack://core/../node_modules/core-js/modules/es6.reflect.own-keys.js","webpack://core/../node_modules/core-js/modules/es6.reflect.prevent-extensions.js","webpack://core/../node_modules/core-js/modules/es6.reflect.set-prototype-of.js","webpack://core/../node_modules/core-js/modules/es6.reflect.set.js","webpack://core/../node_modules/core-js/modules/es6.regexp.constructor.js","webpack://core/../node_modules/core-js/modules/es6.regexp.flags.js","webpack://core/../node_modules/core-js/modules/es6.regexp.match.js","webpack://core/../node_modules/core-js/modules/es6.regexp.replace.js","webpack://core/../node_modules/core-js/modules/es6.regexp.search.js","webpack://core/../node_modules/core-js/modules/es6.regexp.split.js","webpack://core/../node_modules/core-js/modules/es6.regexp.to-string.js","webpack://core/../node_modules/core-js/modules/es6.set.js","webpack://core/../node_modules/core-js/modules/es6.string.anchor.js","webpack://core/../node_modules/core-js/modules/es6.string.big.js","webpack://core/../node_modules/core-js/modules/es6.string.blink.js","webpack://core/../node_modules/core-js/modules/es6.string.bold.js","webpack://core/../node_modules/core-js/modules/es6.string.code-point-at.js","webpack://core/../node_modules/core-js/modules/es6.string.ends-with.js","webpack://core/../node_modules/core-js/modules/es6.string.fixed.js","webpack://core/../node_modules/core-js/modules/es6.string.fontcolor.js","webpack://core/../node_modules/core-js/modules/es6.string.fontsize.js","webpack://core/../node_modules/core-js/modules/es6.string.from-code-point.js","webpack://core/../node_modules/core-js/modules/es6.string.includes.js","webpack://core/../node_modules/core-js/modules/es6.string.italics.js","webpack://core/../node_modules/core-js/modules/es6.string.iterator.js","webpack://core/../node_modules/core-js/modules/es6.string.link.js","webpack://core/../node_modules/core-js/modules/es6.string.raw.js","webpack://core/../node_modules/core-js/modules/es6.string.repeat.js","webpack://core/../node_modules/core-js/modules/es6.string.small.js","webpack://core/../node_modules/core-js/modules/es6.string.starts-with.js","webpack://core/../node_modules/core-js/modules/es6.string.strike.js","webpack://core/../node_modules/core-js/modules/es6.string.sub.js","webpack://core/../node_modules/core-js/modules/es6.string.sup.js","webpack://core/../node_modules/core-js/modules/es6.string.trim.js","webpack://core/../node_modules/core-js/modules/es6.symbol.js","webpack://core/../node_modules/core-js/modules/es6.typed.array-buffer.js","webpack://core/../node_modules/core-js/modules/es6.typed.data-view.js","webpack://core/../node_modules/core-js/modules/es6.typed.float32-array.js","webpack://core/../node_modules/core-js/modules/es6.typed.float64-array.js","webpack://core/../node_modules/core-js/modules/es6.typed.int16-array.js","webpack://core/../node_modules/core-js/modules/es6.typed.int32-array.js","webpack://core/../node_modules/core-js/modules/es6.typed.int8-array.js","webpack://core/../node_modules/core-js/modules/es6.typed.uint16-array.js","webpack://core/../node_modules/core-js/modules/es6.typed.uint32-array.js","webpack://core/../node_modules/core-js/modules/es6.typed.uint8-array.js","webpack://core/../node_modules/core-js/modules/es6.typed.uint8-clamped-array.js","webpack://core/../node_modules/core-js/modules/es6.weak-map.js","webpack://core/../node_modules/core-js/modules/es6.weak-set.js","webpack://core/../node_modules/core-js/modules/es7.array.flat-map.js","webpack://core/../node_modules/core-js/modules/es7.array.flatten.js","webpack://core/../node_modules/core-js/modules/es7.array.includes.js","webpack://core/../node_modules/core-js/modules/es7.asap.js","webpack://core/../node_modules/core-js/modules/es7.error.is-error.js","webpack://core/../node_modules/core-js/modules/es7.global.js","webpack://core/../node_modules/core-js/modules/es7.map.from.js","webpack://core/../node_modules/core-js/modules/es7.map.of.js","webpack://core/../node_modules/core-js/modules/es7.map.to-json.js","webpack://core/../node_modules/core-js/modules/es7.math.clamp.js","webpack://core/../node_modules/core-js/modules/es7.math.deg-per-rad.js","webpack://core/../node_modules/core-js/modules/es7.math.degrees.js","webpack://core/../node_modules/core-js/modules/es7.math.fscale.js","webpack://core/../node_modules/core-js/modules/es7.math.iaddh.js","webpack://core/../node_modules/core-js/modules/es7.math.imulh.js","webpack://core/../node_modules/core-js/modules/es7.math.isubh.js","webpack://core/../node_modules/core-js/modules/es7.math.rad-per-deg.js","webpack://core/../node_modules/core-js/modules/es7.math.radians.js","webpack://core/../node_modules/core-js/modules/es7.math.scale.js","webpack://core/../node_modules/core-js/modules/es7.math.signbit.js","webpack://core/../node_modules/core-js/modules/es7.math.umulh.js","webpack://core/../node_modules/core-js/modules/es7.object.define-getter.js","webpack://core/../node_modules/core-js/modules/es7.object.define-setter.js","webpack://core/../node_modules/core-js/modules/es7.object.entries.js","webpack://core/../node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack://core/../node_modules/core-js/modules/es7.object.lookup-getter.js","webpack://core/../node_modules/core-js/modules/es7.object.lookup-setter.js","webpack://core/../node_modules/core-js/modules/es7.object.values.js","webpack://core/../node_modules/core-js/modules/es7.observable.js","webpack://core/../node_modules/core-js/modules/es7.promise.finally.js","webpack://core/../node_modules/core-js/modules/es7.promise.try.js","webpack://core/../node_modules/core-js/modules/es7.reflect.define-metadata.js","webpack://core/../node_modules/core-js/modules/es7.reflect.delete-metadata.js","webpack://core/../node_modules/core-js/modules/es7.reflect.get-metadata-keys.js","webpack://core/../node_modules/core-js/modules/es7.reflect.get-metadata.js","webpack://core/../node_modules/core-js/modules/es7.reflect.get-own-metadata-keys.js","webpack://core/../node_modules/core-js/modules/es7.reflect.get-own-metadata.js","webpack://core/../node_modules/core-js/modules/es7.reflect.has-metadata.js","webpack://core/../node_modules/core-js/modules/es7.reflect.has-own-metadata.js","webpack://core/../node_modules/core-js/modules/es7.reflect.metadata.js","webpack://core/../node_modules/core-js/modules/es7.set.from.js","webpack://core/../node_modules/core-js/modules/es7.set.of.js","webpack://core/../node_modules/core-js/modules/es7.set.to-json.js","webpack://core/../node_modules/core-js/modules/es7.string.at.js","webpack://core/../node_modules/core-js/modules/es7.string.match-all.js","webpack://core/../node_modules/core-js/modules/es7.string.pad-end.js","webpack://core/../node_modules/core-js/modules/es7.string.pad-start.js","webpack://core/../node_modules/core-js/modules/es7.string.trim-left.js","webpack://core/../node_modules/core-js/modules/es7.string.trim-right.js","webpack://core/../node_modules/core-js/modules/es7.symbol.async-iterator.js","webpack://core/../node_modules/core-js/modules/es7.symbol.observable.js","webpack://core/../node_modules/core-js/modules/es7.system.global.js","webpack://core/../node_modules/core-js/modules/es7.weak-map.from.js","webpack://core/../node_modules/core-js/modules/es7.weak-map.of.js","webpack://core/../node_modules/core-js/modules/es7.weak-set.from.js","webpack://core/../node_modules/core-js/modules/es7.weak-set.of.js","webpack://core/../node_modules/core-js/modules/web.dom.iterable.js","webpack://core/../node_modules/core-js/modules/web.immediate.js","webpack://core/../node_modules/core-js/modules/web.timers.js","webpack://core/../node_modules/core-js/shim.js","webpack://core/../node_modules/jquery/dist/jquery.js-exposed","webpack://core/../node_modules/handlebars/dist/handlebars.js","webpack://core/../node_modules/handlebars/dist/handlebars.js-exposed","webpack://core/../node_modules/innersvg-polyfill/innersvg.js","webpack://core/../node_modules/jquery/dist/jquery.js","webpack://core/../node_modules/jquery/dist/jquery.js-exposed?dea4","webpack://core/../node_modules/jsencrypt/bin/jsencrypt.js","webpack://core/../node_modules/jstorage/jstorage.js","webpack://core/../node_modules/moment-timezone/index.js","webpack://core/../node_modules/moment-timezone/moment-timezone-utils.js","webpack://core/../node_modules/moment-timezone/moment-timezone.js","webpack://core/../node_modules/moment/locale sync de|ru|en","webpack://core/../node_modules/moment/locale/de-at.js","webpack://core/../node_modules/moment/locale/de-ch.js","webpack://core/../node_modules/moment/locale/de.js","webpack://core/../node_modules/moment/locale/en-au.js","webpack://core/../node_modules/moment/locale/en-ca.js","webpack://core/../node_modules/moment/locale/en-gb.js","webpack://core/../node_modules/moment/locale/en-ie.js","webpack://core/../node_modules/moment/locale/en-il.js","webpack://core/../node_modules/moment/locale/en-nz.js","webpack://core/../node_modules/moment/locale/ru.js","webpack://core/../node_modules/moment/moment.js","webpack://core/../node_modules/moment/moment.js-exposed","webpack://core/../node_modules/regenerator-runtime/runtime.js","webpack://core/../node_modules/spectrum-colorpicker/spectrum.css?d7fa","webpack://core/../node_modules/spectrum-colorpicker/spectrum.js","webpack://core/../node_modules/text-mask-addons/dist/createNumberMask.js","webpack://core/../node_modules/underscore/underscore.js","webpack://core/../node_modules/underscore/underscore.js-exposed","webpack://core/../node_modules/vanilla-text-mask/dist/vanillaTextMask.js","webpack://core/../node_modules/webpack/buildin/global.js","webpack://core/../node_modules/webpack/buildin/module.js","webpack://core/../resources/styles/bootstrap-datetimepicker.css?c070","webpack://core/../resources/styles/codemirror.css?19f5","webpack://core/../resources/styles/common.css?88b9","webpack://core/../resources/styles/dropdown.css?66c6","webpack://core/../resources/styles/fonts.css?b98c","webpack://core/../resources/styles/form.css?03eb","webpack://core/../resources/styles/layout-designer.css?3f36","webpack://core/../resources/styles/list.css?6dfd","webpack://core/../resources/styles/notifications.css?268d","webpack://core/../resources/styles/popout.css?ab2c","webpack://core/../resources/styles/services/messageService.css?dd61","webpack://core/../resources/styles/services/windowService.css?9ceb","webpack://core/./../src/Application.js","webpack://core/./../src/Meta.js","webpack://core/./../src/collections/SlidingWindowCollection.js","webpack://core/./../src/collections/VirtualCollection.js","webpack://core/./../src/collections/behaviors/HighlightableBehavior.js","webpack://core/./../src/components/breadCrumbs/BreadCrumbs.js","webpack://core/./../src/components/breadCrumbs/collections/GroupsCollection.js","webpack://core/./../src/components/breadCrumbs/models/GroupModel.js","webpack://core/../src/components/breadCrumbs/templates/navigationDrawer.html","webpack://core/../src/components/breadCrumbs/templates/navigationText.html","webpack://core/./../src/components/breadCrumbs/views/CrumbTextView.js","webpack://core/./../src/components/layoutDesigner/behaviors/ComponentBehavior.js","webpack://core/./../src/components/layoutDesigner/controllers/CanvasController.js","webpack://core/./../src/components/layoutDesigner/controllers/VisualEditorController.js","webpack://core/./../src/components/layoutDesigner/index.js","webpack://core/./../src/components/layoutDesigner/models/ComponentModel.js","webpack://core/./../src/components/layoutDesigner/models/RelationalModel.js","webpack://core/./../src/components/layoutDesigner/services/ErrorService.js","webpack://core/../src/components/layoutDesigner/templates/canvas.html","webpack://core/../src/components/layoutDesigner/templates/clonePopoutButton.html","webpack://core/../src/components/layoutDesigner/templates/clonePopoutPanel.html","webpack://core/../src/components/layoutDesigner/templates/componentDragHelper.html","webpack://core/../src/components/layoutDesigner/templates/dropzone.html","webpack://core/../src/components/layoutDesigner/templates/emptyComponentDragHelper.html","webpack://core/../src/components/layoutDesigner/templates/emptyViewMask.html","webpack://core/../src/components/layoutDesigner/templates/module.html","webpack://core/../src/components/layoutDesigner/templates/saveAs.html","webpack://core/../src/components/layoutDesigner/templates/verticalLayoutComponent.html","webpack://core/./../src/components/layoutDesigner/views/CanvasView.js","webpack://core/./../src/components/layoutDesigner/views/DropzoneView.js","webpack://core/./../src/components/layoutDesigner/views/ElementsPaletteView.js","webpack://core/./../src/components/layoutDesigner/views/EmptyViewMask.js","webpack://core/./../src/components/layoutDesigner/views/ModuleView.js","webpack://core/./../src/components/layoutDesigner/views/VerticalDropzoneView.js","webpack://core/./../src/components/layoutDesigner/views/VerticalLayoutComponentView.js","webpack://core/../src/components/layoutDesigner/views/elementsPalette/templates/action.html","webpack://core/../src/components/layoutDesigner/views/elementsPalette/templates/customContextPalette.html","webpack://core/../src/components/layoutDesigner/views/elementsPalette/templates/customContextPaletteEmpty.html","webpack://core/../src/components/layoutDesigner/views/elementsPalette/templates/customContextPaletteItem.html","webpack://core/../src/components/layoutDesigner/views/elementsPalette/templates/elementsPalette.html","webpack://core/../src/components/layoutDesigner/views/elementsPalette/templates/iconItem.html","webpack://core/../src/components/layoutDesigner/views/elementsPalette/templates/iconPalette.html","webpack://core/../src/components/layoutDesigner/views/elementsPalette/templates/itemDragHelper.html","webpack://core/../src/components/layoutDesigner/views/elementsPalette/templates/paletteToolbar.html","webpack://core/./../src/components/layoutDesigner/views/elementsPalette/views/ActionView.js","webpack://core/./../src/components/layoutDesigner/views/elementsPalette/views/ContextPaletteView.js","webpack://core/./../src/components/layoutDesigner/views/elementsPalette/views/CustomAttributesEmptyView.js","webpack://core/./../src/components/layoutDesigner/views/elementsPalette/views/CustomAttributesItemView.js","webpack://core/./../src/components/layoutDesigner/views/elementsPalette/views/CustomAttributesView.js","webpack://core/./../src/components/layoutDesigner/views/elementsPalette/views/IconItemView.js","webpack://core/./../src/components/layoutDesigner/views/elementsPalette/views/IconPaletteView.js","webpack://core/./../src/components/layoutDesigner/views/elementsPalette/views/PaletteToolbarView.js","webpack://core/./../src/components/layoutDesigner/views/elementsPalette/views/ToolbarActionsView.js","webpack://core/./../src/components/layoutDesigner/views/toolbar/ClonePopoutButtonView.js","webpack://core/./../src/components/layoutDesigner/views/toolbar/ClonePopoutPanelView.js","webpack://core/./../src/components/layoutDesigner/views/toolbar/SaveAsView.js","webpack://core/./../src/components/navigationDrawer/NavigationDrawer.js","webpack://core/./../src/components/navigationDrawer/collections/GroupsCollection.js","webpack://core/./../src/components/navigationDrawer/models/GroupModel.js","webpack://core/../src/components/navigationDrawer/templates/groupItem.html","webpack://core/../src/components/navigationDrawer/templates/navigationDrawer.html","webpack://core/./../src/components/navigationDrawer/views/DrawerItemView.js","webpack://core/./../src/components/toolbar/ToolbarView.js","webpack://core/./../src/components/toolbar/meta.js","webpack://core/../src/components/toolbar/templates/button.html","webpack://core/../src/components/toolbar/templates/customActionGroupView.html","webpack://core/../src/components/toolbar/templates/toolbarView.html","webpack://core/./../src/components/toolbar/views/ActionMenuButtonView.js","webpack://core/./../src/components/toolbar/views/ActionMenuPanelView.js","webpack://core/./../src/components/toolbar/views/ActionPanelChildView.js","webpack://core/./../src/components/toolbar/views/ButtonView.js","webpack://core/./../src/components/toolbar/views/CustomActionGroupView.js","webpack://core/./../src/components/toolbar/views/CustomActionItemView.js","webpack://core/./../src/components/toolbar/views/ToolbarActionMenuView.js","webpack://core/./../src/components/toolbar/views/ToolbarCheckboxItemView.js","webpack://core/./../src/components/toolbar/views/ToolbarPopupView.js","webpack://core/./../src/components/toolbar/views/ToolbarSplitterView.js","webpack://core/./../src/components/videoChat/VideoChat.js","webpack://core/../src/components/videoChat/templates/videoChat.html","webpack://core/./../src/controller/Controller.js","webpack://core/./../src/coreApi.js","webpack://core/./../src/dropdown/factory.js","webpack://core/./../src/dropdown/index.js","webpack://core/../src/dropdown/templates/defaultButton.hbs","webpack://core/../src/dropdown/templates/menuItem.hbs","webpack://core/../src/dropdown/templates/popout.hbs","webpack://core/./../src/dropdown/utils/BlurableBehavior.js","webpack://core/./../src/dropdown/utils/ListenToElementMoveBehavior.js","webpack://core/./../src/dropdown/views/DefaultButtonView.js","webpack://core/./../src/dropdown/views/DropdownView.js","webpack://core/./../src/dropdown/views/ListPanelView.js","webpack://core/./../src/dropdown/views/MenuItemView.js","webpack://core/./../src/dropdown/views/MenuPanelView.js","webpack://core/./../src/dropdown/views/PopoutView.js","webpack://core/./../src/dropdown/views/behaviors/CustomAnchorBehavior.js","webpack://core/../src/external/backbone.js","webpack://core/./../src/external/backbone.js","webpack://core/./../src/external/backbone.trackit.js","webpack://core/./../src/form/behaviors/BackboneFormBehavior.js","webpack://core/./../src/form/editors/AudioEditor.js","webpack://core/./../src/form/editors/AvatarEditorView.js","webpack://core/./../src/form/editors/BooleanEditorView.js","webpack://core/./../src/form/editors/BooleanSwitchEditorView.js","webpack://core/./../src/form/editors/CodeEditorView.js","webpack://core/./../src/form/editors/ColorPickerEditor.js","webpack://core/./../src/form/editors/ContextSelectEditorView.js","webpack://core/./../src/form/editors/DatalistEditorView.js","webpack://core/./../src/form/editors/DateEditorView.js","webpack://core/./../src/form/editors/DateTimeEditorView.js","webpack://core/./../src/form/editors/DocumentEditorView.js","webpack://core/./../src/form/editors/DocumentExpressionEditorView.js","webpack://core/./../src/form/editors/DurationEditorView.js","webpack://core/./../src/form/editors/ExpressionEditorView.js","webpack://core/./../src/form/editors/IconEditorView.js","webpack://core/./../src/form/editors/MembersSplitEditorView.js","webpack://core/./../src/form/editors/MentionEditorView.js","webpack://core/./../src/form/editors/NewExpressionEditorView.js","webpack://core/./../src/form/editors/NumberEditorView.js","webpack://core/./../src/form/editors/PasswordEditorView.js","webpack://core/./../src/form/editors/RadioGroupEditorView.js","webpack://core/./../src/form/editors/RangeEditor.js","webpack://core/./../src/form/editors/TextAreaEditorView.js","webpack://core/./../src/form/editors/TextEditorView.js","webpack://core/./../src/form/editors/TimeEditorView.js","webpack://core/./../src/form/editors/base/BaseCollectionEditorView.js","webpack://core/./../src/form/editors/base/BaseCompositeEditorView.js","webpack://core/./../src/form/editors/base/BaseItemEditorView.js","webpack://core/./../src/form/editors/base/BaseLayoutEditorView.js","webpack://core/./../src/form/editors/base/MarionetteEditorPrototype.js","webpack://core/../src/form/editors/iconsWraps/iconWrapDate.html","webpack://core/../src/form/editors/iconsWraps/iconWrapNumber.html","webpack://core/../src/form/editors/iconsWraps/iconWrapPencil.html","webpack://core/../src/form/editors/iconsWraps/iconWrapRemove.html","webpack://core/../src/form/editors/iconsWraps/iconWrapRemoveBubble.html","webpack://core/../src/form/editors/iconsWraps/iconWrapText.html","webpack://core/./../src/form/editors/impl/avatar/controllers/BaseAvatarEditorController.js","webpack://core/./../src/form/editors/impl/avatar/controllers/DemoAvatarEditorController.js","webpack://core/./../src/form/editors/impl/codeEditor/Constants.js","webpack://core/./../src/form/editors/impl/codeEditor/models/FunctionOverloadModel.js","webpack://core/./../src/form/editors/impl/codeEditor/services/MappingService.js","webpack://core/../src/form/editors/impl/codeEditor/templates/codeEditor.html","webpack://core/../src/form/editors/impl/codeEditor/templates/codemirror.html","webpack://core/../src/form/editors/impl/codeEditor/templates/functionOverload.html","webpack://core/../src/form/editors/impl/codeEditor/templates/functionParameters.html","webpack://core/../src/form/editors/impl/codeEditor/templates/functionTooltip.html","webpack://core/../src/form/editors/impl/codeEditor/templates/output.html","webpack://core/../src/form/editors/impl/codeEditor/templates/toolbar.html","webpack://core/./../src/form/editors/impl/codeEditor/views/CodemirrorView.js","webpack://core/./../src/form/editors/impl/codeEditor/views/FunctionOverloadView.js","webpack://core/./../src/form/editors/impl/codeEditor/views/FunctionParametersView.js","webpack://core/./../src/form/editors/impl/codeEditor/views/FunctionTooltipView.js","webpack://core/./../src/form/editors/impl/codeEditor/views/OutputView.js","webpack://core/./../src/form/editors/impl/codeEditor/views/ToolbarView.js","webpack://core/../src/form/editors/impl/context/templates/popoutButton.html","webpack://core/../src/form/editors/impl/context/templates/popoutWrapperPanel.html","webpack://core/./../src/form/editors/impl/context/views/PopoutButtonView.js","webpack://core/./../src/form/editors/impl/context/views/PopoutWrapperView.js","webpack://core/./../src/form/editors/impl/datalist/models/FakeInputModel.js","webpack://core/../src/form/editors/impl/datalist/templates/addNewButton.hbs","webpack://core/../src/form/editors/impl/datalist/templates/bubbleItem.hbs","webpack://core/../src/form/editors/impl/datalist/templates/bubblePanel.hbs","webpack://core/../src/form/editors/impl/datalist/templates/button.hbs","webpack://core/../src/form/editors/impl/datalist/templates/elementsQuantityWarning.hbs","webpack://core/../src/form/editors/impl/datalist/templates/input.hbs","webpack://core/../src/form/editors/impl/datalist/templates/loading.hbs","webpack://core/../src/form/editors/impl/datalist/templates/referenceListItem.hbs","webpack://core/./../src/form/editors/impl/datalist/views/AddNewButtonView.js","webpack://core/./../src/form/editors/impl/datalist/views/BubbleCollectionView.js","webpack://core/./../src/form/editors/impl/datalist/views/BubbleItemView.js","webpack://core/./../src/form/editors/impl/datalist/views/ButtonView.js","webpack://core/./../src/form/editors/impl/datalist/views/ElementsQuantityWarningView.js","webpack://core/./../src/form/editors/impl/datalist/views/InputView.js","webpack://core/./../src/form/editors/impl/datalist/views/LoadingView.js","webpack://core/./../src/form/editors/impl/datalist/views/PanelView.js","webpack://core/./../src/form/editors/impl/datalist/views/ReferenceListItemView.js","webpack://core/../src/form/editors/impl/dateTime/templates/datePanel.hbs","webpack://core/./../src/form/editors/impl/dateTime/views/DateInputView.js","webpack://core/./../src/form/editors/impl/dateTime/views/DatePanelView.js","webpack://core/./../src/form/editors/impl/dateTime/views/DateWidget.js","webpack://core/./../src/form/editors/impl/document/collections/DocumentReferenceCollection.js","webpack://core/./../src/form/editors/impl/document/controllers/DocumentItemController.js","webpack://core/./../src/form/editors/impl/document/gallery/AttachmentsController.js","webpack://core/../src/form/editors/impl/document/gallery/templates/galleryWindow.html","webpack://core/../src/form/editors/impl/document/gallery/templates/loading.html","webpack://core/./../src/form/editors/impl/document/gallery/views/GalleryWindowView.js","webpack://core/./../src/form/editors/impl/document/gallery/views/LoadingView.js","webpack://core/./../src/form/editors/impl/document/models/DocumentReferenceModel.js","webpack://core/../src/form/editors/impl/document/templates/MultiselectItem.html","webpack://core/../src/form/editors/impl/document/templates/documentRevisionItem.html","webpack://core/../src/form/editors/impl/document/templates/documentRevisionPanel.html","webpack://core/./../src/form/editors/impl/document/views/DocumentRevisionButtonView.js","webpack://core/./../src/form/editors/impl/document/views/DocumentRevisionItemView.js","webpack://core/./../src/form/editors/impl/document/views/DocumentRevisionPanelView.js","webpack://core/./../src/form/editors/impl/document/views/MultiselectItemView.js","webpack://core/../src/form/editors/impl/expression/templates/context.html","webpack://core/../src/form/editors/impl/expression/templates/defaultScript.html","webpack://core/../src/form/editors/impl/expression/templates/expression.html","webpack://core/../src/form/editors/impl/expression/templates/optionItem.html","webpack://core/../src/form/editors/impl/expression/templates/popup.html","webpack://core/../src/form/editors/impl/expression/templates/script.html","webpack://core/../src/form/editors/impl/expression/templates/selectButton.html","webpack://core/./../src/form/editors/impl/expression/views/ContextView.js","webpack://core/./../src/form/editors/impl/expression/views/ExpressionView.js","webpack://core/./../src/form/editors/impl/expression/views/OptionItemCollectionView.js","webpack://core/./../src/form/editors/impl/expression/views/OptionItemView.js","webpack://core/./../src/form/editors/impl/expression/views/PopupView.js","webpack://core/./../src/form/editors/impl/expression/views/ScriptView.js","webpack://core/./../src/form/editors/impl/expression/views/SelectButtonView.js","webpack://core/../src/form/editors/impl/iconEditor/templates/iconButton.html","webpack://core/../src/form/editors/impl/iconEditor/templates/iconCollectionView.html","webpack://core/../src/form/editors/impl/iconEditor/templates/iconEditorComponentView.html","webpack://core/../src/form/editors/impl/iconEditor/templates/iconItemCategory.html","webpack://core/../src/form/editors/impl/iconEditor/templates/iconPanel.html","webpack://core/./../src/form/editors/impl/iconEditor/views/IconButtonView.js","webpack://core/./../src/form/editors/impl/iconEditor/views/IconCollectionView.js","webpack://core/./../src/form/editors/impl/iconEditor/views/IconItemCategoryView.js","webpack://core/./../src/form/editors/impl/iconEditor/views/IconPanelView.js","webpack://core/./../src/form/editors/impl/members/collections/MembersCollection.js","webpack://core/./../src/form/editors/impl/members/models/MemberModel.js","webpack://core/./../src/form/editors/impl/members/services/factory.js","webpack://core/../src/form/editors/impl/members/templates/panel.hbs","webpack://core/./../src/form/editors/impl/members/views/MembersListView.js","webpack://core/./../src/form/editors/impl/membersSplit/collection/ItemsCollection.js","webpack://core/./../src/form/editors/impl/membersSplit/controller/MembersSplitController.js","webpack://core/./../src/form/editors/impl/membersSplit/model/ItemModel.js","webpack://core/../src/form/editors/impl/membersSplit/templates/membersListItem.html","webpack://core/../src/form/editors/impl/membersSplit/templates/membersSplitPanel.html","webpack://core/../src/form/editors/impl/membersSplit/templates/membersToolbar.html","webpack://core/./../src/form/editors/impl/membersSplit/views/MembersListItemView.js","webpack://core/./../src/form/editors/impl/membersSplit/views/MembersSplitPanelView.js","webpack://core/./../src/form/editors/impl/membersSplit/views/membersToolbarView.js","webpack://core/../src/form/editors/impl/newExpressionEditor/templates/newExpression.html","webpack://core/./../src/form/editors/impl/radioGroup/collections/RadioGroupCollection.js","webpack://core/./../src/form/editors/impl/radioGroup/models/RadioButtonModel.js","webpack://core/../src/form/editors/impl/radioGroup/templates/radioButton.hbs","webpack://core/./../src/form/editors/impl/radioGroup/views/RadioButtonView.js","webpack://core/./../src/form/editors/services/DateTimeService.js","webpack://core/../src/form/editors/templates/avatarEditor.hbs","webpack://core/../src/form/editors/templates/booleanEditor.html","webpack://core/../src/form/editors/templates/booleanSwitchEditor.hbs","webpack://core/../src/form/editors/templates/colorPicker.hbs","webpack://core/../src/form/editors/templates/contextSelectEditor.html","webpack://core/../src/form/editors/templates/datalistEditor.hbs","webpack://core/../src/form/editors/templates/dateTimeEditor.hbs","webpack://core/../src/form/editors/templates/documentEditor.html","webpack://core/../src/form/editors/templates/documentExpressionEditor.html","webpack://core/../src/form/editors/templates/durationEditor.hbs","webpack://core/../src/form/editors/templates/expressionEditor.html","webpack://core/../src/form/editors/templates/membersSplitPanelEditor.html","webpack://core/../src/form/editors/templates/mentionEditor.hbs","webpack://core/../src/form/editors/templates/numberEditor.hbs","webpack://core/../src/form/editors/templates/passwordEditor.hbs","webpack://core/../src/form/editors/templates/textAreaEditor.hbs","webpack://core/../src/form/editors/templates/textEditor.hbs","webpack://core/./../src/form/fields/ErrorPlaceholderView.js","webpack://core/./../src/form/fields/FieldView.js","webpack://core/./../src/form/fields/SimplifiedFieldView.js","webpack://core/../src/form/fields/templates/ErrorPlaceholder.hbs","webpack://core/../src/form/fields/templates/errorButton.hbs","webpack://core/../src/form/fields/templates/errorItem.hbs","webpack://core/../src/form/fields/templates/field.hbs","webpack://core/../src/form/fields/templates/infoButton.hbs","webpack://core/../src/form/fields/templates/simplifiedButton.hbs","webpack://core/../src/form/fields/templates/simplifiedField.hbs","webpack://core/../src/form/fields/templates/simplifiedPanel.hbs","webpack://core/./../src/form/fields/views/ErrorButtonView.js","webpack://core/./../src/form/fields/views/ErrorItemView.js","webpack://core/./../src/form/fields/views/ErrosPanelView.js","webpack://core/./../src/form/fields/views/InfoButtonView.js","webpack://core/./../src/form/fields/views/SimplifiedButtonView.js","webpack://core/./../src/form/fields/views/SimplifiedPanelView.js","webpack://core/./../src/form/fields/views/TooltipPanelView.js","webpack://core/./../src/form/formRepository.js","webpack://core/./../src/form/index.js","webpack://core/./../src/form/validators/codeValidation.js","webpack://core/./../src/form/validators/emailValidator.js","webpack://core/./../src/form/validators/lengthValidator.js","webpack://core/./../src/form/validators/passwordValidator.js","webpack://core/./../src/form/validators/phoneValidator.js","webpack://core/./../src/form/validators/requiredValidator.js","webpack://core/./../src/form/validators/systemNameValidator.js","webpack://core/./../src/layout/HorizontalLayoutView.js","webpack://core/./../src/layout/VerticalLayoutView.js","webpack://core/./../src/layout/behaviors/LayoutBehavior.js","webpack://core/./../src/layout/button/ButtonView.js","webpack://core/../src/layout/button/button.hbs","webpack://core/./../src/layout/factory.js","webpack://core/./../src/layout/form/FormContentFactory.js","webpack://core/./../src/layout/form/FormEditorAnchor.js","webpack://core/./../src/layout/form/FormFieldAnchor.js","webpack://core/./../src/layout/form/FormSchemaFactory.js","webpack://core/./../src/layout/form/FormView.js","webpack://core/./../src/layout/group/GroupView.js","webpack://core/../src/layout/group/group.hbs","webpack://core/./../src/layout/index.js","webpack://core/./../src/layout/plainText/PlainTextView.js","webpack://core/./../src/layout/popup/PopupView.js","webpack://core/../src/layout/popup/popup.hbs","webpack://core/../src/layout/resources/button.css?aa0b","webpack://core/../src/layout/resources/form.css?1422","webpack://core/../src/layout/resources/group.css?ed7c","webpack://core/../src/layout/resources/horizontalLayout.css?4b8c","webpack://core/../src/layout/resources/layout.css?8456","webpack://core/../src/layout/resources/popup.css?81e7","webpack://core/../src/layout/resources/tabLayout.css?f5fa","webpack://core/../src/layout/resources/verticalLayout.css?a8a0","webpack://core/./../src/layout/tabLayout/HeaderItemView.js","webpack://core/./../src/layout/tabLayout/HeaderView.js","webpack://core/./../src/layout/tabLayout/StepperItemView.js","webpack://core/./../src/layout/tabLayout/StepperView.js","webpack://core/./../src/layout/tabLayout/TabLayoutView.js","webpack://core/../src/layout/tabLayout/templates/headerItem.hbs","webpack://core/../src/layout/tabLayout/templates/stepperItem.hbs","webpack://core/../src/layout/tabLayout/templates/tabLayout.hbs","webpack://core/./../src/lib.js","webpack://core/./../src/list/CellViewFactory.js","webpack://core/./../src/list/controllers/GridController.js","webpack://core/./../src/list/factory.js","webpack://core/./../src/list/index.js","webpack://core/./../src/list/meta.js","webpack://core/./../src/list/models/LoadingRowModel.js","webpack://core/./../src/list/models/behaviors/GridCollapsibleItemBehavior.js","webpack://core/./../src/list/models/behaviors/ListGroupBehavior.js","webpack://core/./../src/list/models/behaviors/ListItemBehavior.js","webpack://core/../src/list/templates/collection.hbs","webpack://core/../src/list/templates/editableCellField.hbs","webpack://core/../src/list/templates/emptyGrid.hbs","webpack://core/../src/list/templates/grid.hbs","webpack://core/../src/list/templates/gridheader.hbs","webpack://core/../src/list/templates/loadingRow.hbs","webpack://core/../src/list/templates/noColumns.hbs","webpack://core/../src/list/templates/selectionCell.hbs","webpack://core/../src/list/templates/selectionPanel.hbs","webpack://core/./../src/list/views/CollectionView.js","webpack://core/./../src/list/views/EditableGridFieldView.js","webpack://core/./../src/list/views/EmptyGridView.js","webpack://core/./../src/list/views/EmptyListView.js","webpack://core/./../src/list/views/GridHeaderView.js","webpack://core/./../src/list/views/GridView.js","webpack://core/./../src/list/views/LoadingRowView.js","webpack://core/./../src/list/views/NoColumnsView.js","webpack://core/./../src/list/views/RowView.js","webpack://core/./../src/list/views/SelectionCellView.js","webpack://core/./../src/list/views/SelectionPanelView.js","webpack://core/./../src/list/views/behaviors/GridItemViewBehavior.js","webpack://core/./../src/list/views/behaviors/ListItemViewBehavior.js","webpack://core/./../src/models/behaviors/CheckableBehavior.js","webpack://core/./../src/models/behaviors/CollapsibleBehavior.js","webpack://core/./../src/models/behaviors/HighlightableBehavior.js","webpack://core/./../src/models/behaviors/SelectableBehavior.js","webpack://core/./../src/services/AjaxService.js","webpack://core/./../src/services/CTEventsService.js","webpack://core/./../src/services/GlobalEventService.js","webpack://core/./../src/services/InterfaceErrorMessageService.js","webpack://core/./../src/services/LocalizationService.js","webpack://core/./../src/services/MessageService.js","webpack://core/./../src/services/MobileService.js","webpack://core/./../src/services/PresenterService.js","webpack://core/./../src/services/PromiseService.js","webpack://core/./../src/services/RoutingService.js","webpack://core/./../src/services/ThemeService.js","webpack://core/./../src/services/ToastNotificationService.js","webpack://core/./../src/services/UserService.js","webpack://core/./../src/services/WebRTCService.js","webpack://core/./../src/services/WebSocketService.js","webpack://core/./../src/services/WindowService.js","webpack://core/./../src/services/routing/ContentLoadingView.js","webpack://core/../src/services/routing/templates/contentLoading.html","webpack://core/../src/services/toastNotification/templates/toastNotification.html","webpack://core/./../src/services/toastNotification/views/NotificationCollectionView.js","webpack://core/./../src/services/toastNotification/views/ToastNotificationView.js","webpack://core/../src/services/window/templates/PopupStack.hbs","webpack://core/./../src/services/window/views/PopupStackView.js","webpack://core/../src/templates/loading.hbs","webpack://core/../src/templates/searchBar.hbs","webpack://core/../src/templates/splitPanel.hbs","webpack://core/./../src/utils/codemirror/comindwareMode.js","webpack://core/./../src/utils/codemirror/index.js","webpack://core/./../src/utils/comparators.js","webpack://core/./../src/utils/dateHelpers.js","webpack://core/./../src/utils/diffHelper.js","webpack://core/./../src/utils/handlebars/all.js","webpack://core/./../src/utils/handlebars/debug.js","webpack://core/./../src/utils/handlebars/equal.js","webpack://core/./../src/utils/handlebars/highlightFragment.js","webpack://core/./../src/utils/handlebars/isNull.js","webpack://core/./../src/utils/handlebars/join.js","webpack://core/./../src/utils/handlebars/localize.js","webpack://core/./../src/utils/handlebars/localizedText.js","webpack://core/./../src/utils/handlebars/or.js","webpack://core/./../src/utils/handlebars/renderAsHtml.js","webpack://core/./../src/utils/handlebars/renderFullDate.js","webpack://core/./../src/utils/handlebars/renderFullDateTime.js","webpack://core/./../src/utils/handlebars/renderShortDuration.js","webpack://core/./../src/utils/helpers.js","webpack://core/./../src/utils/htmlHelpers.js","webpack://core/./../src/utils/index.js","webpack://core/./../src/utils/keyCode.js","webpack://core/../src/utils/underscore.js","webpack://core/./../src/utils/underscore.js","webpack://core/./../src/views/LoadingView.js","webpack://core/./../src/views/SearchBarView.js","webpack://core/./../src/views/SplitPanelView.js","webpack://core/./../src/views/behaviors/LoadingBehavior.js"],"names":["start","options","marionetteApp","Marionette","Application","window","application","ui","registerAppModule","GlobalEventService","initialize","InterfaceErrorMessageService","toastNotificationRegion","ToastNotificationService","moduleConfiguration","ModuleService","modules","routerConfiguration","userService","UserService","WindowService","LocalizationService","localizationService","AjaxService","load","ajaxService","defaultContentView","contentView","langCode","moment","locale","CTEventsService","MobileService","navigationConfiguration","navigationController","controller","context","configurationKey","RoutingService","defaultUrl","getDefaultUrl","webSocketConfiguration","activateOnStart","WebSocketService","url","Backbone","Behaviors","behaviorsLookup","behaviors","serviceInitializer","apply","ThemeService","themeService","initializeThirdParties","$","fn","datetimepicker","dates","days","get","split","daysShort","daysMin","months","monthsShort","today","meridiem","objectPropertyTypes","STRING","BOOLEAN","DATETIME","DURATION","DECIMAL","INTEGER","DOUBLE","ACCOUNT","DOCUMENT","INSTANCE","COLLECTION","ENUM","presentingComponentsTypes","form","popup","group","field","tab","SlidingWindowCollection","Collection","extend","constructor","collection","parentCollection","innerCollection","close_with","__bindLifecycle","destroy_with","state","position","windowSize","__rebuildModels","listenTo","__onAdd","__onRemove","__onReset","__onSort","forEach","eventName","args","Array","from","arguments","unshift","trigger","newModels","chain","rest","first","value","reset","Object","assign","silent","models","length","_","clone","Error","__buildModelsInternal","list","i","len","model","at","push","_byId","cid","id","collapsed","children","view","methodName","on","bind","stopListening","sort","updateWindowSize","newWindowSize","updatePosition","newPosition","undefined","__normalizePosition","actualWindowSize","delta","oldValues","newValues","Math","abs","remove","add","last","maxPos","max","min","prototype","Events","selectableBehavior","none","single","SelectableBehavior","SingleSelect","multi","MultiSelect","getNormalizedGroupingIterator","groupingOptions","it","iterator","isString","getNormalizedGroupingComparator","cmp","comparator","getNormalizedGroupingModelFactory","modelFactory","Model","displayText","groupingModel","fixGroupingOptions","__normalized","affectedAttributes","uniq","VirtualCollection","isTree","delayedAdd","parse","grouping","filter","filterFn","_reset","visibleModels","isSliding","__debounceRebuild","debounce","__rebuildIndex","__onChange","__onSync","__onUpdate","SelectableBehaviorClass","selectableBehaviorOption","CheckableBehavior","CheckableCollection","rebuild","immediate","parentModels","__filterModels","index","__createIndexTree","oldModels","concat","visibleLength","slice","__processDiffs","__addModel","indexOf","__removeModels","removed","changes","added","merged","level","sortBy","_addReference","listenToOnce","filteredChildren","self","groupBy","map","node","v","iteratorValue","comparatorValue","n","internalUpdate","splice","diff","diffHelper","compose","diffObject","getses","a","b","t","object","elem","result","call","resp","addToIndex","ctx","targetPosition","indexModel","targetCollection","createIteratorValueChecker","m","groupItems","groupItem","item","_removeReference","updateConfiguration","__removeFromModels","isPartialUpdate","skipRebuildOnChange","changed","keys","changedAttributes","attrsAffectedByGrouping","o","rebuildRequired","any","key","previousModel","previousAttributes","cmpVal1","cmpVal2","collapse","expand","getState","HighlightableBehavior","highlight","text","each","record","unhighlight","CompositeView","GroupsCollection","absolute","isAbsolute","template","Handlebars","compile","collapseButton","events","className","childViewContainer","childView","CrumbTextView","GroupModel","Selectable","View","templateContext","isChild","regions","menuRegion","title","subtitle","mouseenter","mouseleave","onRender","menuView","Core","dropdown","factory","createDropdown","buttonView","panelView","CollectionView","panelViewOptions","panelPosition","showChildView","modelEvents","__onNameChange","__handleSubtextClick","open","__onMouseEnter","animate","marginTop","__onMouseLeave","classes","SELECTED","HOVERED","ERROR","INVALID","defaultOptions","draggable","Behavior","viewOptions","reqres","canvasAggregator","canvasReqres","componentReqres","bindAll","isOver","__isOver","selected","deselected","hovered","unhovered","click","highlightComponent","el","classList","toggle","__updateSelection","appendTo","helper","hasClass","parentElement","emptyDragHelper","componentDragHelper","cursorAt","top","left","__startDragging","stop","__stopDragging","drag","__dragDragging","render","__updateHover","__select","request","event","dragContext","operation","__updateDragElementClass","canBeDropped","__updateErrorSelection","is","__updateCollapsed","dragHelper","componentModel","find","__updateValidity","createAndBindChannel","getOption","dropZoneType","Radio","channel","uniqueId","createView","config","activeDropZones","reply","handleElementDragStart","handleElementDragMove","handleElementDragStop","hoverComponent","selectComponent","selectCanvasComponent","__toggleCollapse","CanvasView","unhoverAll","hover","deselectAll","select","parent","deselect","eachComponent","unhover","minCount","getChildren","collectDropZones","__validateDropzone","dropzone","zone","activate","zones","__isDropBack","canDrop","ctrlKey","unset","closestZone","__findClosestDropZone","drop","e","console","error","deactivate","leave","enter","handleElementDblclick","dropContext","__checkModelNesting","containerModel","draggedModelCid","siblingModels","modelBefore","modelAfter","parentModel","getParent","child","canBeNested","nestingRules","containerType","nestedRules","closestDistance","Number","MAX_VALUE","x","pageX","y","pageY","distance","getDistance","skip","root","component","isContainer","set","rootCollapsed","onBeforeDestroy","stopReplying","canvasComponents","canvas","components","__createModel","editorModel","__createView","__onActionExecute","__handleSave","__handleClear","__handleDelete","toggleEmptyViewMask","toggleMask","updateModel","newModel","newCollection","toJSON","updatePalette","performValidation","__validateCanvasComponents","__createAndBindChannel","__resolveComponent","__moveComponent","__handleAdding","__handleAddingNewColumn","__handleMovingNewColumn","__createElement","__handleRemovingColumn","canvasCollection","rootModel","has","omit","ComponentModel","rows","fieldType","childrenAttribute","SystemView","formModel","FormModel","name","propertyName","recordTypeId","formComponents","configurationModel","jStorage","tryLeave","isModified","services","MessageService","showMessageDialog","Localizer","default","ModuleView","palette","properties","toolbar","detachedToolbar","validateOnShow","__handleRemoving","actionId","editedView","destroy","elementModel","dataSourceInfo","type","defaultParams","defaults","componentType","VerticalLayoutComponentView","ComponentBehavior","behaviorClass","saveAsNew","isFormModelValid","formData","server","clearModified","clearCanvas","prefix","itemIndex","horizontalItems","dsi","propertyPath","doDelete","userRequest","confirm","then","validationErrors","ErrorService","validateCanvasComponents","Controller","extendParams","relational","relationalCollection","alias","width","data","rawForm","containerCollection","__buildChildrenModel","__handleModelChanges","__setModified","__onAttributeChanged","callback","handle","modelsToRemove","newData","userCommands","__parseChildren","container","innerModel","clear","xls","isSilent","changedPropertyName","validate","validationError","highlightInvalidComponent","formRegion","emptyViewMaskRegion","getRegion","show","__createEmptyViewMask","hideEmptyView","setAttribute","isShowed","EmptyViewMask","__mouseenter","__mouseleave","DROPZONE_ACTIVE","DROPZONE_HOVER","elPosition","offset","offsetHeight","zoneContext","elementsCollection","elementsView","__createContextView","showPaletteAsIcons","listView","toolbarView","__createToolbarView","updateSearchModel","toolbarCollection","toggleButton","toolbarRegion","listRegion","elementsRegion","showList","PaletteToolbarView","__togglePalette","paletteView","collections","IconPaletteView","ContextPaletteView","defaultToolbarButtonId","defaultToolbarButton","constants","MIN_WIDTH","paletteCollection","paletteClass","size","propertiesClass","elementsPaletteView","ElementsPaletteView","canvasController","CanvasController","palleteResizer","propertiesResizer","paletteTabsRegion","paletteContainer","canvasRegion","propertiesRegion","__showComponentProperties","__updateResizersPosition","axis","__onPaletteResizerDrag","__onDragStop","__onPropertiesResizerDrag","paletteWidth","css","propertiesWidth","focusOnShow","getToolbar","__createToolbar","outerWidth","offsetWidth","otherElementsMinWidth","maxWidth","totalWidth","configuration","removeAttribute","operations","currentView","empty","__save","__saveAs","saveAsView","SaveAsView","aliasModel","showPopup","__clear","allItemsCollection","excludeActions","action","additionalActions","cloneItems","__createPopupCollection","ClonePopoutButtonView","ClonePopoutPanelView","Toolbar","SAVE","SAVE_AS","CLEAR","onDestroy","DropzoneView","collapsedClass","helpers","ensureOption","dropzones","__collectDropzones","toggleCollapseButton","childViewOptions","childModel","onBeforeAttach","__addOneDropZone","__addDropZones","__renderColumnDropZones","onBeforeRemoveChild","dropzoneView","dropzoneColumnViewLeft","dropzoneColumnViewRight","onRemoveChild","newFirstView","findByModel","$el","prepend","renderNewColumnZone","verticalDropzoneView","VerticalDropzoneView","__onNewColumnDrop","isDropPossible","values","childMaxDesc","__onCollapsedChange","append","__onDrop","utils","throwInvalidOperationError","onAddChild","oldMostLeftView","leftDZId","after","__renderDropzone","iconClass","triggers","__refreshModel","customAttributesRegion","customAttributesView","CustomAttributesView","customCollection","isStaticTree","iconsProperty","displayPaletteAttribute","__onDragStart","__onDragMove","__onDblClick","__onContextToggle","staticModel","contextModel","instanceTypeId","propertyTypes","usePropertyTypes","staticCollection","paletteItemClassNameSuffix","displayAttribute","expanded","highlighted","unhighlighted","dragHandle","dblclick","disabled","static","itemSuffix","toLowerCase","__updateChildren","itemDragHelper","childViewEvents","__onModelCollapsed","__onModelExpanded","__toggleCollapsed","toggleCollapsed","__editAttribute","noTrigger","getCollapsed","__onChildContextToggle","parentView","__onChildDragStart","__onChildDragStop","__onChildDragMove","draggableItemSuffix","__onHighlighted","regexp","RegExp","highlightedFragment","test","html","htmlHelpers","highlightText","__onUnhighlighted","draggableHelperClassNameSuffix","CustomAttributesItemView","emptyView","CustomAttributesEmptyView","IconItemView","actionsView","__createActionsView","actions","searchToggle","searchRegion","actionsRegion","__createSearchView","searchCollection","searchBarView","views","SearchBarView","__setCollapsed","__unhighlightCollection","isFiltered","__clearFilter","__applyFilter","__highlightCollection","ToolbarActionsView","__addComponent","parents","__hasChildren","pop","setCollapsed","needToExpand","delay","__testValue","some","applyBehavior","ActionView","__handleActionClick","columns","__createColumnsList","gridView","__createGrid","grid","actionModel","rowModel","eventCenterGridRegion","eventCenterButtonClose","controllers","GridController","showFilter","editorRegion","yesButton","cancelButton","schema","required","autocommit","validators","layout","Form","content","VerticalLayout","createFieldAnchor","__accept","__closePopup","closePopup","titleContainer","GroupItemView","__updatePanelStyle","__updateTitleStyle","style","hide","actionsMenuLabel","toolbarItemsCollection","menuItemsCollection","toolbarActions","__createActionsGroupsView","popupMenu","__createDropdownActionsView","debounceRebuild","rebuildView","toolbarItemsRegion","popupMenuRegion","onAttach","CustomActionGroupView","isDestroyed","toolbarWidth","menuActionsWidth","childWidth","notFitItem","val","getBoundingClientRect","createMenu","items","popoutFlow","customAnchor","severity","None","class","Low","Normal","Major","Critical","Fatal","icons","Undefined","icon","Plus","Minus","Clone","Envelope","Pencil","Search","Ok","User","List","Remove","Trash","Cog","Star","Asterisk","Home","File","Time","Print","Download","Upload","Refresh","Repeat","Info","Warning","Exclamation","Cart","Play","Comment","Folder","Bell","Flash","Picture","Book","toolbarItemType","ACTION","GROUP","SPLITTER","POPUP","CHECKBOX","ButtonView","isGroup","ActionPanelChildView","__triggerChildSelect","height","pointerEvents","severityLevel","severityItem","meta","CustomActionItemView","ToolbarActionMenuView","ToolbarSplitterView","ToolbarPopupView","ToolbarCheckboxItemView","__handleClick","menu","ActionMenuButtonView","ActionMenuPanelView","buttonViewOptions","__handleSeveritySelect","close","CHECKED","check","checkbox","newState","__showMenu","__openPopout","__closePopout","createPopout","popoutDirection","localVideo","remoteVideo","videoCallButton","endCallButton","__handleLocalVideoButtonClick","WebRTCService","initiateCall","__handleEndCallButtonClick","endCall","contentViewOptions","moduleRegion","region","__handleEvent","isConnected","__handleSocketEvent","moduleId","isCalledByUnloadEvent","isFunction","onLeave","moduleLeaveHandler","showSystemMessage","isLoading","setModuleLoading","__onModuleReady","eventId","triggerStorageEvent","send","callParams","viewModel","additionalViewOptions","errorView","viewEvents","routingAction","urlParams","methodParams","__applyCallParamsFilter","__request","presentingView","viewParams","viewState","currentState","__handleViewResourceRequest","eventsHandlers","onWebSocketMessage","notifications","onFailure","onSuccess","params","showMask","showLoadingMask","requestFn","Ajax","functionSignature","ajaxMap","requestTemplate","requestType","httpMethod","parameters","__applyState","requestId","requestData","requestConfig","requests","callParamsDeletionItems","param","queryString","navigationUrl","filteredParams","componentQuery","PresenterService","presentComponentSequence","layoutApi","core","ToastNotifications","lib","libApi","InterfaceError","PromiseService","CollectionHighlightableBehavior","CollapsibleBehavior","LoadingBehavior","LoadingView","SplitPanelView","dropdownApi","formApi","listApi","utilsApi","meta_","NavigationDrawer","BreadCrumbs","LayoutDesigner","VideoChat","effectiveButtonModel","buttonModel","defaultActModel","findWhere","DefaultButtonView","MenuPanelView","createDialogPopout","fade","PopoutView","DropdownView","CustomAnchorBehavior","ListPanelView","MenuItemView","selector","allowNestedFocus","onBlur","pick","focus","__focus","__getFocusableEl","focusedEl","document","activeElement","addEventListener","__onBlur","isFocused","defer","removeEventListener","THROTTLE_DELAY","__observedEntities","__checkElements","throttle","listenToElementMoveOnce","__listenToElementMoveOnce","stopListeningToElementMove","__stopListeningToElementMove","anchorViewportPos","floor","findIndex","setTimeout","tagName","change","OPEN","DROPDOWN_DOWN","DROPDOWN_WRP_OVER","DROPDOWN_UP","DROPDOWN_UP_OVER","VISIBLE_COLLECTION","WINDOW_BORDER_OFFSET","MAX_DROPDOWN_PANEL_WIDTH","DOWN","UP","panelMinWidth","NONE","BUTTON_WIDTH","autoOpen","renderAfterClose","button","blur","triggerMethod","isShown","panelEl","__adjustPosition","isOpen","popupId","viewportHeight","innerHeight","buttonEl","buttonRect","bottom","panelWidth","clientWidth","minWidth","showTransientPopup","hostEl","__keyAction","__handleGlobalMousedown","__onWindowServicePopupClose","__isNestedInButton","__isNestedInPanel","__suppressHandlingBlur","body","contains","keyCode","testedEl","palet","getElementsByClassName","__handleBlur","target","getTitle","execute","__execute","DIRECTION_UP","DIRECTION_DOWN","DISPLACEMENT_LEFT","DISPLACEMENT_RIGHT","FLOW_LEFT","FLOW_RIGHT","CUSTOM_ANCHOR_BUTTON","DEFAULT_ANCHOR_BUTTON","DEFAULT_ANCHOR","LEFT","RIGHT","popoutDisplacement","AUTO","BOTTOM","direction","displacement","BlurableBehavior","ListenToElementMoveBehavior","buttonRegion","__getAnchorEl","$anchorEl","$anchor","defaultAnchor","__adjustFlowPosition","$panelEl","$buttonEl","viewport","innerWidth","anchorRect","outerHeight","panelRect","leftCenter","anchorRightCenter","right","__adjustDirectionPosition","__adjustDisplacementVerticalPosition","topCenter","bottomCenter","__adjustDisplacementHorizontalPosition","leftEdge","anchorRightEdge","fadeBackground","ANCHOR","anchor","omitDefaultStyling","module","exports","global","require","unsavedModels","updateUnsavedModels","isEmpty","_unsavedChanges","getPromptConfig","fnName","evaluateModelFn","isBoolean","_unsavedConfig","prompt","History","navigate","wrap","oldNav","fragment","when","done","doNavigate","onbeforeunload","unsaved","_trackingChanges","_originalAttrs","startTracking","unloadRouterPrompt","unloadWindowPrompt","_resetTracking","_triggerUnsavedChanges","stopTracking","restartTracking","resetAttributes","attributes","unsavedAttributes","attrs","old","attr","isEqual","oldSet","ret","trackit_silent","sync","oldSync","method","success","oldSuccess","textStatus","jqXHR","componentTypes","editor","fields","entries","fieldScema","entry","FieldType","simplified","SimplifiedFieldView","FieldView","__handleEditorEvent","ErrorPlaceholderView","logError","getId","__renderComponents","handleAttach","commit","errors","skipModelValidate","modelError","setOptions","getValue","getEditor","setValue","prop","hasFocus","focusedField","f","setErrors","setError","modelErrors","isDictionary","isObject","isArray","_others","entrie","$target","rootView","app","getView","querySelectorAll","hasAttribute","getAttribute","regionName","fieldRegion","addRegion","componentView","renderForm","__renderForm","initForm","formRepository","editors","AudioEditor","BaseLayoutEditorView","controls","audio","recorder","regionEl","createElement","HorizontalLayout","Button","handler","navigator","mediaDevices","getUserMedia","MediaRecorder","stream","__onRecordingReady","src","URL","createObjectURL","play","removable","autoUpload","refreshPreviewAfterUpload","Avatar","BaseItemEditorView","tabindex","focusElement","image","initials","tooltip","__removed","__previewURL","__initFileInput","__getInitials","__preview","getImage","getEnabled","getReadonly","revokeObjectURL","upload","file","fileInput","files","__triggerChange","Promise","resolve","accept","display","oninput","onchange","fullName","words","substr","toUpperCase","charAt","__attach","appendChild","removeChild","__remove","previewURL","toString","thirdState","CHECKED_SOME","Boolean","keydown","displayHtml","__toggle","__updateState","isEmptyValue","__setReadonly","readonly","__onKeyDown","SPACE","preventDefault","BooleanSwitch","BooleanEditorView","showModes","normal","buttonMode","mode","showMode","ontologyService","Code","editorContainer","editBtn","clearBtn","fadingPanel","__handleKeydown","ESCAPE","minimize","__onMinimize","stopPropagation","CodemirrorView","__change","__setEditBtnText","__value","updateUi","triggerChange","__onEdit","maximize","__onClear","innerHtml","setReadonly","ColorPicker","colorPicker","hexcolor","colorpicker","__changedHex","spectrum","__changedColorPicker","color","showInput","allowEmpty","showInitial","preferredFormat","__setEnabled","enabled","input","allowBlank","instanceRecordTypeId","ContextSelect","__createTreeCollection","panel","__updateDisplayValue","clearButton","contextPopoutRegion","PopoutButtonView","popoutView","dropdownFactory","PopoutWrapperView","__applyContext","updateContext","panelModel","__isInstanceInContext","newValue","__getButtonText","selectedItem","itemId","__collectPropertyPath","deepContext","cloneDeep","innerEntry","newChild","selectedModel","collectedPath","showAddNewButton","showEditButton","listItemView","ReferenceListItemView","showCheckboxes","textFilterDelay","maxQuantitySelected","canDeleteItem","valueType","showSearch","queryOptions","createValueUrl","edit","Datalist","__onResetCollection","panelCollection","__adjustValue","__updateWithDelay","__updateFilter","__onValueSet","__onValueUnset","comparatorFor","comparators","stringComparator2Asc","__onBubbleDelete","__onBubbleDeleteLast","__onInputSearch","__onInputUp","__onInputDown","__onButtonClick","__onValueSelect","__onValueEdit","__onAddNewItem","__proxyValueSelect","dropdownView","getDisplayText","__getDisplayText","PanelView","dropdownRegion","replaceElement","maxQuantity","join","fakeInputModel","__updateFakeInputModel","__onDropdownOpen","__onDropdownClose","__requestAndResetButtonViewData","isEnabled","collectionView","updateEnabled","setEnabled","__blurButton","updateFilter","searchText","trim","isFilterDeayed","openOnRender","activeText","__onFilterText","isUndefined","JSON","stringify","adjustedValue","selectedModels","firstModel","editorId","collectionItem","lastPointedModel","toggleSelected","canAddItemOldValue","__canAddItem","__updateButtonInput","__focusButton","stopAddItems","selectedItems","isAccess","setLoading","getResponse","totalCount","__tryPointFirstRow","addNewItem","createdValue","onFocus","promise","__triggerReady","catch","message","removingModelIndex","s","FakeInputModel","updateEmpty","updateInput","__sendPanelCommand","command","handleCommand","selectSmart","pointOff","Date","DateTimeEditorView","showTime","allowEmptyValue","dateDisplayFormat","timeDisplayFormat","showTitle","DateTime","timeDropdownRegion","dateDropdownRegion","toISOString","calendarDropdownView","ENTER","dateInput","newDate","updatePickerDate","__onDateChange","__updateTitle","__createTimeDropdownView","showDate","__createDateDropdownEditor","__setValueToTimeButton","timeDropdownView","__getDateByValue","__dateBlur","__timeBlur","dateDisplayValue","DateTimeService","getDateDisplayValue","timeDisplayValue","getTimeDisplayValue","resultValue","__onMouseenter","insertAdjacentHTML","iconWrapRemove","iconWrapDate","__onMouseleave","lastElementChild","DateInputView","preserveTime","DatePanelView","__onDateButtonFocus","__onDateButtonCalendarOpen","date","updateView","oldValue","newVal","isNaN","year","getFullYear","month","getMonth","getDate","timeHasFocus","dateHelpers","dateISOToDuration","__onTimeModelChange","DurationEditorView","allowDays","allowHours","allowMinutes","allowSeconds","showEmptyParts","hideClearButton","fillZero","normalTime","allFocusablePart","maxLength","seconds","time","__onTimeButtonFocus","__onTimeButtonCalendarOpen","__onTimePanelSelect","__updateTime","ISOstr","valTimeModel","dateMoment","timeDuration","duration","hours","minutes","dateISOstring","newDuration","__timeDropdownOpen","__getTimeCollection","timeArray","h","formattedTime","getDisplayTime","MultiselectAddButtonView","savedDocumentPrefix","allowDelete","multiple","fileFormat","showRevision","createDocuments","documents","doc","fileName","documentsId","removeDocuments","Document","BaseCompositeEditorView","initcollection","checkEmpty","documentId","uploadDocumentOnServer","onValueAdd","onValueNavigate","onSearchMore","onFilterText","attachmentsController","AttachmentsController","canAdd","renderDropdown","_windowResize","update","MultiselectItemView","fileUploadButton","fileUpload","showMore","invisibleCount","showMoreText","__adjustFileFormat","syncValue","renderUploadButton","DocumentReferenceCollection","tDocs","results","mappedObject","uploadDoc","DocumentReferenceModel","FileName","DocumentLink","addItem","isReadonly","removeItem","uploadUrl","__onItemClick","onSelectFiles","__validate","_uploadFiles","_readFileEntries","_sendFilesToServer","fileEntrie","_readFileTree","itemEntry","isFile","isDirectory","dirReader","createReader","readEntries","flatten","fileEntries","deferrArray","getAsEntry","webkitGetAsEntry","readFileTree","all","FormData","ajax","processData","contentType","encoding","enctype","mimeType","tempResult","resultObjects","fileIds","currFileName","obj","replace","ext","incorrectFileNames","dropdownModel","DatalistPanelView","$selectButtonEl","showDropDown","renderShowMore","fetch","toggleShowMore","collapseShowMore","expandShowMore","getChildViewContainer","affordabletWidth","childViews","visibleCounter","visibleWidth","showTemplate","valueTypes","expression","script","NewExpressionEditorView","typeContainer","valueContainer","contextContainer","scriptContainer","expressionContainer","templateContainer","valueTypeCollection","__showValueEditor","__showContextEditor","__showExpressionEditor","__showScriptEditor","__showTemplateEditor","__showTypeEditor","__updateEditorState","templateEditor","DatalistEditorView","templateEditorOptions","__updateEditorValue","typeEditor","valueEditor","contextEditor","expressionEditor","scriptEditor","focusablePartId","DAYS","HOURS","MINUTES","SECONDS","createFocusableParts","settings","daysSettings","hoursSettings","minutesSettings","secondsSettings","setting","milliseconds","hoursPerDay","FOCUSED","stateModes","EDIT","VIEW","Duration","focusableParts","displayValue","durationISOToObject","durationRegion","setPermissions","__onClick","curretPos","getCaretPos","pos","fixCaretPos","setCaretPos","__blur","getSegmentValue","newValueObject","seg","every","selectionStart","resultPosition","getSegmentIndex","focusablePart1","focusablePart2","end","setSelectionRange","segmentIndex","initSegmentStartEnd","whitespaceLength","segments","regexStr","exec","setSegmentValue","parseInt","str","atSegmentEnd","atSegmentStart","__keydown","focusablePart","PAGE_UP","PAGE_DOWN","__setCaretToPreviousPart","__setCaretToNextPart","DELETE","__replaceModeFor","BACKSPACE","TAB","shiftKey","HOME","END","charValue","NUM_0","NUM_9","NUMPAD_0","NUMPAD_9","valid","__keyup","segmentValue","__floorTime","segValue","maxValue","arrChar","insertChar","inpValue","dirClarity","caretPos","valueAfterCaret","char","__replaceChar","__createInputString","editable","isNull","filledSegments","part","reduce","p","valStr","String","isNumber","__fillZero","string","mask","__normalizeDuration","totalMilliseconds","asMilliseconds","inEditMode","iconWrapNumber","showExpression","defaultExpression","showScript","showValue","showContext","Text","valueEditorOptions","emptyText","Expression","selectType","defaultScriptText","defaultScriptTemplate","defOps","createOptionCollection","addValueEditor","addExpressionEditor","addScriptEditor","addContextEditor","renderValueOptionPopout","__showValueType","__showEditorValue","valueOptionCollection","initialValue","__updateValue","contextOptions","contextValueEditor","ContextView","selOptionModel","__updateValueType","SelectButtonView","popoutOptions","OptionItemCollectionView","__showPopup","__valueTypeSelected","updateValueEditor","updateContextEditor","updateDefaultEditor","onShowPopup","popupView","PopupView","__getEditorValueByType","innerText","valueTypeModel","editorType","iconPropertyDefaultName","modelIconProperty","iconSelectorHeaderRegion","deleteIconButton","popupPanel","IconButtonView","IconPanelView","__getConfig","iconPalette","label","search","terms","__onDeleteIconClick","exclude","hideUsers","hideGroups","hideToolbar","allowRemove","itemsToSelectText","selectedItemsText","searchPlaceholder","emptyListText","users","groups","cacheService","MembersSplit","GetUsers","user","Id","Username","abbreviation","userpicUri","GetGroups","MembersSplitController","splitPanelRegion","membersEditor","membersText","showButton","initItems","reloadCollection","fillInModel","Popup","header","buttons","customClass","cancelMembers","updateMembers","__updateText","innerHTML","editorOptions","Mention","__createViewModel","membersCollection","membersFactory","createMembersCollection","memo","TextAreaEditorView","emptyPlaceholder","getMembersListView","__onTextChange","__onFocus","__onInput","__onCaretChange","__onMemberSelect","keyboardShortcuts","k","addKeyboardListener","__updateMentionInText","NUMPAD_ENTER","caret","leftFragment","substring","regex","match","userName","applyTextFilter","mentionState","selectedMember","mention","updatedText","getMentions","members","matches","member","inline","defaultType","expressionEditorHeight","scriptEditorHeight","codeEditorMode","displayInline","NewExpression","expressionEditorOptionsOptions","scriptEditorOptionsOptions","changeMode","allowFloat","format","thousandsSeparator","thousandsSeparatorSymbol","decimalSymbol","numberMask","allowDecimal","requireDecimal","allowNegative","__setInputOptions","maskedInputController","inputElement","__checkMaxMinValue","textMaskInputElement","__parseToNumber","__parseToString","__setActive","isActive","suppressRender","force","parsed","__parse","round","POSITIVE_INFINITY","NEGATIVE_INFINITY","MIN_VALUE","step","parseFloat","number","Password","TextEditorView","radioOptions","RadioGroup","BaseCollectionEditorView","RadioGroupCollection","__onSelectChild","RadioButtonView","cv","__selectNew","currentElement","currentIndex","newElement","RangeEditor","mouseup","auto","fixed","readonlyPlaceholder","disablePlaceholder","minHeight","maxHeight","TextArea","placeholder","textarea","throwArgumentError","setPlaceholder","selectionEnd","__triggerInput","__input","oldCaret","oldText","maskPlaceholder","maskOptions","inputmask","autoUnmask","iconWrapText","MarionetteEditorPrototype","create","hidden","EMPTY","setHidden","querySelector","onKeyup","__updateEmpty","onChange","__validatedOnce","viewClass","forceCommit","updateValue","getModelValue","__getFocusElement","getHidden","internal","formValues","getValidator","validator","isRegExp","checkChange","defaultURL","throwError","BaseAvatarEditorController","__uploadOperation","sendFormData","warn","maximized","function","literal","operator","attribute","types","ListItemBehavior","HTTP_PREFIX","mapOntologyModelToAutoCompleteArray","ontologyModel","autoCompleteArray","functions","func","returns","description","hint","cm","completion","replaceRange","syntax","to","execCommand","parameter","justAdded","autoCompleteItem","overloads","literals","operators","getTooltipView","FunctionTooltipView","modes","TOOLTIP_PADDING_PX","CHECK_VISIBILITY_DELAY","tt","getOntology","MappingService","codemirror","getMode","ontologyObjects","intelliAssist","hintWords","ediorHeaderContainer","toolbarContainer","tooltipContainer","editorOutputContainer","outputTabs","output","ToolbarView","__undo","__redo","__format","__showHint","__find","__compile","__onMaximize","OutputView","hintIsShown","extraKeys","lineNumbers","lineSeparator","matchBrackets","autoCloseBrackets","styleActiveLine","lint","indentUnit","foldGutter","selectionPointer","showTrailingSpace","fixedGutter","gutters","scrollbarStyle","highlightSelectionMatches","minChars","showToken","hintOptions","completeOnSingleClick","completeSingle","closeOnUnfocus","__hideTooltip","isExternalChange","getWrapperElement","onmouseover","__onMouseover","onmouseleave","__showCSharpHint","scrollTop","currentHighlightedLine","removeLineClass","__jumpToLine","line","addLineClass","setCursor","refreshTimerId","clearTimeout","refresh","__checkVisibleAndRefresh","setOption","isMaximized","isReadOnly","__countOffset","getCursor","contentArr","ch","__countLineAndColumn","itemOffset","userCodeOffset","userOffset","curLine","curColumn","j","column","__getCSharpHints","completeHoverQuery","SourceCode","CursorOffset","SourceType","UQueryCompleteHoverType","newArr","getCSharpOntology","showHint","__noSuggestionHint","__cmwHint","autoCompleteObject","cursor","newArrErr","newArrWarn","userCompileQuery","UserCode","getCompile","offsetStart","OutputObj","warnings","charCoords","middleHeight","getScrollerElement","scrollTo","getRange","getTokenAt","out","lines","atStartOfLine","newline","StringStream","eol","token","cur","current","next","newlineAfterToken","blankLine","indentLine","formatQuery","getFormatCSharp","sourceCode","__showTooltip","hintEl","tooltipModel","__findObjectByText","tooltipView","isFull","currentSyntax","__onTooltipPeek","tooltipMargin","hintPanel","hintPanelPosition","hintPanelWidth","tooltipWidth","setPosition","charCode","which","altKey","metaKey","__highlightItem","documentWidth","documentHeight","tooltipHeightWithPadding","highlightedItem","Event","triggerOnKeyDown","__checkComments","totalChars","totalCommentsChars","lineCount","commentCh","ListItemViewBehavior","__onSelected","FUNCTION_ITEM_HEIGHT","FUNCTIONS_MAX_ROWS","functionOverloadsRegion","functionParametersRegion","FunctionOverloadModel","functionOverloads","createDefaultList","listViewOptions","FunctionOverloadView","childHeight","maxRows","FunctionParametersView","__onKeydown","compileOutput","tabsRegion","errorsGridController","__getErrorsColumns","errorsGrid","warningsGridController","__getWarningsColumns","warningsGrid","cursorPos","tabsPanelsView","TabLayout","tabs","__getTabs","createDefaultGrid","gridViewOptions","undo","redo","buttonText","itemTitleSelected","mousewheel","popoutWrapper","sorting","showHeader","expandOnShow","InputView","BubbleItemView","__findFakeInputModel","showRemoveButton","editButton","__delete","__click","__edit","__handleDrag","iconWrapPencil","iconWrapRemoveBubble","CLASS_NAME","DISABLED","collectionRegion","loadingRegion","BubbleCollection","filterValue","__updateInputPlaceholder","__getFilterValue","__getRawValue","__search","CHILD_HEIGHT","EMPTY_VIEW","addNewButtonRegion","listTitleRegion","elementsQuantityWarningRegion","emptyViewOptions","selectOnCursor","addNewButton","AddNewButtonView","ElementsQuantityWarningView","__toggleElementsQuantityWarning","moveCursorBy","collectionLength","count","warningRegion","__valueSelect","multiSelect","__markSelected","__markDeselected","pickerFormat","pickerOptions","minView","todayBtn","weekStart","getWeekStartDay","language","pickerInput","pickerFormattedDate","DPGlobal","timeZoneAbbreviation","ref","UTCDate","UTC","Datetimepicker","element","isRTL","rtl","formatType","parseFormat","getDefaultFormat","initialDate","zIndex","timezone","leftArrow","rightArrow","icontype","_attachEvents","formatViewType","convertViewMode","maxView","startViewMode","viewMode","viewSelect","picker","proxy","mousedown","clickedOutside","weekEnd","onRenderDay","res","onRenderYear","getUTCFullYear","currentYear","endYear","endDate","startDate","onRenderMonth","datesDisabled","daysOfWeekDisabled","setStartDate","setEndDate","setDatesDisabled","setDaysOfWeekDisabled","fillDow","fillMonths","_events","_detachEvents","ev","off","d","getUTCDate","getTime","getTimezoneOffset","getInitialDate","setInitialDate","setDate","setUTCDate","viewDate","fill","setFormat","getFormattedDate","formatDate","valueOf","parseDate","updateNavArrows","mThis","toDateString","setTitle","hour_minute","fromArgs","dowCnt","setUTCMonth","getUTCMonth","startYear","startMonth","endMonth","currentDate","en","prevMonth","day","getDaysInMonth","getUTCDay","nextMonth","inArray","eq","yearCont","setUTCFullYear","hour","getUTCHours","visibility","closest","nodeName","dir","navStep","moveHour","moveDate","moveMonth","moveYear","convertViewModeText","getHours","getMinutes","getSeconds","_setDate","getUTCMinutes","getUTCSeconds","moveMinute","new_date","setUTCMinutes","setUTCHours","mag","new_month","dateWithinRange","dateChanged","newViewDate","newViewMode","oldViewMode","clsName","option","shift","internal_return","$this","Constructor","suffix","navFnc","isLeapYear","validParts","nonpunctuation","separators","parts","dateUTC","setMilliseconds","part_re","setters_order","setters_map","hh","HH","H","ii","ss","setUTCSeconds","yyyy","yy","z","filtered","M","MM","mm","dd","P","Z","cnt","D","DD","Y","F","l","w","N","S","g","G","A","seps","headTemplate","contTemplate","footTemplate","noConflict","__getDocumentRevision","Documents","GetDocumentRevisions","creator","creatorName","revisionLink","creationDate","dateToDateTimeString","version","revisionIndex","IMAGE","HIDDEN","graphicFileExtensions","imagesBuffer","bindReqres","__closeGallery","__getImage","showGallery","__isImage","GalleryWindowView","imagesCollection","__togglePopupRegion","modelId","popupRegion","isImage","extension","GALLERY_WINDOW","download","__addImage","visible","__onClose","__onDownload","__onImageClick","isSingleRevision","DocumentRevisionItemView","revisionCollection","DocumentItemController","reviseRegion","revise","link","revisionList","isRevisionOpen","documentRevisionPopout","__showPreview","isRevisonButtonShown","DocumentRevisionButtonView","DocumentRevisionPanelView","contextRegion","contextSelectEditorView","ContextSelectEditorView","expressionInput","OptionItemView","updateRadio","titleText","contentRegion","ExpressionView","ScriptView","__reject","scriptInput","__setIconColor","IconItemCategoryView","itemPalette","iconItem","iconGroupsCollection","searchInputRegion","searchAreaRegion","collectionAreaRegion","colorPickerRegion","TextEditor","ColorPickerEditor","iconCollectionView","IconCollectionView","__setIconsColor","__changeSearchKey","matchesItems","__searchItem","__showSearchResult","iconItemCategoryView","matchSearch","searchStr","splitName","filterItem","isItemExistInCollection","matchesItem","MemberModel","selectFirst","matchText","MembersCollection","listUsers","createMembersListView","MembersListView","ListView","ItemModel","selectItemsByToolbar","moveItems","__onItemsMove","__getFullMemberSplitTitle","showUsers","showGroups","showAll","confirmEdit","showToolbar","resultText","membersCount","getPluralForm","MembersSplitPanelView","allSelectedModels","collectionFilterValue","__createCollection","selectNone","searchValue","collectionSearchValue","modelType","modelName","typeFrom","typeTo","modelsTo","modelsFrom","checked","selectedIndexFrom","uncheckAll","newSelectedFragment","orderEnabled","newOrder","delayed","nextIndexFrom","selectedElemFrom","availableModels","ItemCollection","groupConfig","selectedComparator","numberComparator2Asc","oldItems","availableItems","order","onHighlighted","onUnhighlighted","eventAggregator","availableItemsListRegion","availableItemsToolbarRegion","selectedItemsListRegion","selectedItemsToolbarRegion","availableItemsToolbarView","MembersToolbarView","__onAvailableItemsSelect","selectedMembersToolbarView","__onSelectedItemsSelect","availableList","showCheckbox","MembersListItemView","childViewSelector","__moveRight","selectedList","__moveLeft","__moveRightAll","__moveLeftAll","allButton","usersButton","groupsButton","resourcesButton","filterButtons","allLink","usersLink","groupsLink","resourcesLink","filterLink","active","activeLink","__filterUsers","__filterGroups","__filterAll","__filterResources","RadioButtonModel","__changeModelSelected","formattedDisplayValue","getDisplayDate","formattedValue","placeholderText","REQUIRED","READONLY","fieldId","__createEditor","__updateExternalChange","errorTextRegion","helpTextRegion","helpText","errorText","infoPopout","InfoButtonView","TooltipPanelView","textAttribute","__rendered","setRequired","clearError","__checkUiReady","errorCollection","isErrorShown","errorPopout","ErrorButtonView","ErrosPanelView","ConstructorFn","__createEditorId","SimplifiedButtonView","SimplifiedPanelView","editorConstructor","editorConfig","autoopen","ErrorItemView","gridRegion","counterRegion","counterRegionCounter","collectionValues","__formatValues","showCounter","counterValue","__getAbbreviation","_getWordAbbreviation","word","takeTwo","onChangeText","textinnerHtml","RequiredValidator","LengthValidator","password","PasswordValidator","phone","PhoneValidator","systemName","SystemNameValidator","email","EmailValidator","code","CodeValidation","api","BackboneFormBehavior","repository","Field","SimpleField","SimpleFieldView","impl","common","editorsImplCommonMembersCollection","editorsImplCommonMemberModel","editorsImplCommonMembersFactory","DateWidget","base","avatar","DemoAvatarEditorController","reference","DatalistButtonView","BooleanEditor","NumberEditor","NumberEditorView","TextAreaEditor","PasswordEditor","PasswordEditorView","DatalistEditor","DurationEditor","RadioGroupEditor","RadioGroupEditorView","DateEditor","DateEditorView","TimeEditor","TimeEditorView","DateTimeEditor","MentionEditor","MentionEditorView","AvatarEditor","AvatarEditorView","DocumentEditor","DocumentEditorView","CodeEditor","CodeEditorView","ContextSelectEditor","BooleanSwitchEditor","BooleanSwitchEditorView","MembersSplitEditor","MembersSplitEditorView","ExpressionEditor","ExpressionEditorView","DocumentExpressionEditor","DocumentExpressionEditorView","NewExpressionEditor","IconEditor","IconEditorView","totalCharsWithoutComments","temp","err","ITEM","LayoutBehavior","__columnsCtx","activeView","__handleChangeVisibility","__rowsCtx","__state","nextState","__computeViewState","createEditorAnchor","FormEditorAnchor","FormFieldAnchor","elementsFactory","__uniqueFormId","getContentFromSchema","uniqueFormId","__parseConfiguration","TabLayoutView","Group","PlainText","includes","childContructor","__parseConfigurationOld","cType","getSchema","schemaPlain","__fillConfiguration","schemaTree","anchors","FormContentFactory","FormSchemaFactory","__addUniqueFormIdToModel","modelUniqueFormId","setOfUniqueFormId","Set","COLLAPSED_CLASS","collapsible","containerRegion","onClose","headerText","buttonsRegion","__createButtonsView","__close","closeResult","loading","HeaderView","stepperItem","StepperView","__handleStepSelect","PANEL_REGION","__tabsCollection","selectedTab","__findSelectedTab","selectTab","selectTabIndex","__getSelectedTabIndex","__onSelectedChanged","headerRegion","stepperRegion","panelContainer","buttonMoveNext","buttonMovePrevious","headerView","headerClass","__handleSelect","tabModel","__updateTabRegion","stepperView","__handleStepperSelect","getViewById","tabId","__findTab","setTabError","moveToNextTab","newIndex","newTab","moveToPreviousTab","assertArgumentNotFalsy","Marionette_","Handlebars_","underscoreLib","mixin","$_","browser","msie","userAgent","moment_","backbone","codemirror_","JSEncrypt","jsencrypt","autosize","maskInput","createNumberMask","getCellViewForColumn","EditableGridFieldView","getCellHtml","columnClass","valueExplained","allToolbarActions","__getToolbarActions","getDefaultComparator","createWrappedCollection","debounceUpdateAction","__updateActions","GridView","__onSearch","__executeAction","__onItemDblClick","__onItemMoved","searchableColumns","searchable","testValueFunction","testValue","defaultActions","getDefaultActions","__getSelectedItems","__confirmUserAction","__triggerAction","yesButtonText","noButtonText","sortingColumn","sortAsc","sortDesc","getComparatorByDataType","dataType","processCollection","sourceCollection","adjustedCollection","collectionOptions","EmptyListView","onColumnSort","EmptyGridView","cellFactory","GridHeaderView","RowView","GridItemViewBehavior","LoadingRowModel","ListGroupBehavior","contextTypes","void","one","columnTypes","NUMBER","HTML","contextType","isLoadingRowModel","pointTo","pointed","uncheck","checkSome","toggleChecked","VISIBLE_COLLECTION_RESERVE","VISIBLE_COLLECTION_AUTOSIZE_RESERVE","heightOptions","FIXED","defaultElHeight","useSlidingWindow","gridEventAggregator","loadingChildView","__toggleCollapseAll","__updateCollapseAll","forbidSelection","debouncedHandleResize","handleResize","__updateChildTop","__onScroll","_showCollection","_addChild","_updateLength","_onCollectionAdd","opts","_filteredSortedModels","_shouldAddChild","_destroyEmptyView","up","down","pageup","ceil","pagedown","home","__moveCursorTo","eventResult","newCursorIndex","shiftPressed","cursorCid","nextIndex","__normalizeCollectionIndex","selectFn","cursorIndexDelta","indexDelta","criticalOffset","centerItemDelta","__updatePositionInternal","visibleCollectionSize","internalScroll","__updateTop","triggerEvents","parentNode","oldViewportHeight","oldAllItemsHeight","allItemsHeight","availableHeight","clientHeight","firstChild","isFinite","__updatePadding","scrollHeight","scrollBarWidth","paddingRight","getAdjustedElementHeight","elementHeight","adjustedElementHeight","offsetParent","parentStyles","getComputedStyle","contentHeight","paddingTop","paddingBottom","computedViewportHeight","outerBoxAdjustments","visibleCollection","requestAnimationFrame","insertFirstCellHtml","__updateTreeCollapse","__getParentCollapsed","dragover","styleSheet","__handleModelDragOver","__handleModelDragLeave","__handleModelDrop","gridHeaderColumn","dragenter","dragleave","MIN_COLUMN_WIDTH","__columnEls","c","__handleColumnSort","updateSorting","sender","__handleDraggerMousedown","__stopDrag","__startDrag","__getElementOuterWidth","dragger","draggedColumn","initialWidth","pageOffsetX","__draggerMouseMove","__draggerMouseUp","updateColumnAndNeighbourWidths","__getFullWidth","newColumnWidth","tableInitialWidth","__handleDragOver","draggingModel","__handleDragEnter","dragoverModel","__handleDragLeave","relatedTarget","__handleDrop","columnClasses","cClass","checkBoxPadding","gridColumnHeaderView","__setColumnWidth","noColumnsView","NoColumnsDefaultView","noColumnsViewOptions","showRowIndex","isEditable","editableCellsIndexes","__onCursorMove","LoadingChildView","selectionPanelView","SelectionPanelView","bindSelection","selectionHeaderView","SelectionCellView","selectionType","eventArguments","startsWith","searchView","currentSelectedIndex","pointedCell","selectionPanelRegion","selectionHeaderRegion","noColumnsViewRegion","tools","__bindListRegionScroll","headerRegionEl","selectionPanelRegionEl","scrollLeft","currentTarget","columnIndex","basis","widthCell","grow","isIE","regexpCells","newCellValue","cellFocused","cellEditable","levelMargin","collapsibleButtonWidth","cells","collapsibleButton","contextmenu","__handleSelection","__selectPointed","__handleHighlight","cellViews","updateCollapsed","collaspibleButtons","_renderTemplate","cell","gridColumn","cellView","CellViewFactory","cellClasses","insertAdjacentElement","__handleChange","hasOwnProperty","elements","__handleDblClick","__findInParents","__handleContextMenu","__handleUnhighlight","isRendered","margin","hasChildren","treeFirstCell","lastHasChildren","lastMargin","__handleModelClick","cellIndex","__getFocusedCellIndex","__handleModelDblClick","__handleDeselection","lastPointedEl","__onModelChecked","internalCheck","__updateParentChecked","__onModelUnchecked","checkedChildren","pointedEls","pointedEl","__handleMouseEnter","__handleModelMouseEnter","__handleMouseLeave","__handleModelMouseLeave","selectionTypes","checked_some","selectAllCell","dots","__handleCheckboxClick","toggleCheckAll","updateTreeNodesCheck","__handleDragStart","__handleDragEnd","__updateIndex","stateCollection","__updateHeight","eventBubblingIgnoreList","padding","__highlight","isElementInDom","triggerMethodOn","__getAvailableWidth","__handleHighlighting","__handleUnhighlighting","__debounceClickHandle","__handleDebouncedClick","unpointed","__handlePointedOn","__handlePointedOff","__updateChecked","__triggerCheck","__debounceUpdateChecked","checkAll","checkedLength","updateParent","CheckableModel","lastSelectedModel","ctrlPressed","calculateSelectedLength","lastSelectedIndex","thisIndex","startIndex","endIndex","selectAll","toggleSelectAll","selectedLength","mvc","WebApi","beforeSent","actionInfo","actionParameters","parameterInfo","typeName","actionBody","protocol","actionFn","eval","traditional","canProceed","registerPromise","getJsApiResponse","parameterNames","parametersLength","throwFormatError","successCallback","errorMessage","errorType","errorData","source","__handleStorageEvent","localStorage","setItem","windowEventList","capture","globalEventService","__windowEvents","captureSuffix","pageLoaded","exception","viewId","log","defaultLangCode","service","timeZone","tz","guess","localizationMap","formattedNumber","Intl","NumberFormat","minimumFractionDigits","utcOffset","unpacked","abbrs","offsets","untils","pack","setDefault","locId","tryGet","resolveLocalizedText","localizedText","iconIds","QUESTION","systemMessagesTypes","unsavedChanges","askYesNo","iconId","openedPopupId","messageConfiguration","systemMessages","isMobile","appName","componentSequenceString","componentSequence","__getComponentSequenceFromString","parsedComponent","__getTypeIdPare","__executeActionForComponent","__navigateToComponent","getElementById","scrollIntoView","canceledPromises","promiseQueue","rejectPromise","reject","race","cP","cancelAll","isCanceled","previousUrl","activeUrl","shouldCheckUrl","originalCheckUrl","history","checkUrl","location","hash","routes","callbackName","theArgs","__onModuleLoaded","AppRouter","appRoutes","defaultRoute","navigateToUrl","page","activeModule","canLeave","returnValue","canNavigateBack","navigateBack","back","getPreviousUrl","setDefaultUrl","newDefaultUrl","routingArgs","Module","loadingContext","leavingPromise","loaded","ContentLoadingView","movingOut","lastArg","compact","onRoute","routerAction","continueHandling","routingActions","handleRouterEvent","routingCallback","themesPath","theme","setTheme","currentTheme","_removeElement","_setStyle","_setSprite","head","div","XMLSerializer","serializeToString","documentElement","defaultTimeOfShow","notificationCollection","NotificationCollectionView","notificationTypes","INFO","SUCCESS","affectedText","dataProvider","listGroups","peerConn","peerConnCfg","websocket","wsc","remoteTarget","RTCPeerConnection","onicecandidate","__onIceCandidateHandler","onaddstream","__onAddStreamHandler","evt","candidate","createOffer","RTCSessionDescription","offer","setLocalDescription","sdp","localTarget","__prepareCall","video","localVideoStream","addStream","__createAndSendOffer","getTracks","track","isConnectionOpened","socket","WebSocket","onopen","__handleSocketOpen","onclose","__handleSocketClosed","onmessage","__handleSocketMessage","onerror","__popupStackRegionEl","__popupStackView","PopupStackView","transient","anchorEl","isPopupOpen","stack","getStack","maxNotification","ToastNotificationView","onBeforeAddChild","findByIndex","hideView","sameNotification","hideTimeout","sizeClass","fadeOut","isInfo","isError","isSuccess","POPUP_REGION","POPUP_FADE","POPUP_ID_PREFIX","__stack","__forceFadeBackground","__removeTransientPopups","parentPopup","parentPopupId","childPopupDef","lastFaded","__toggleFadedBackground","targets","popupDef","handleChildren","pId","topMostNonTransient","reverse","__removePopup","pd","removeRegion","defineMode","lexerTokens","FARROW","BARROW","PLUS","MINUS","COMMA","OR","AND","EQUAL2","NOT_EQUAL","LESS_EQUAL","GREATER_EQUAL","EQUAL","LESS","GREATER","MULTIPLY","DIVIDE","NOT","OPEN_CURLY_BRACE","CLOSE_CURLY_BRACE","SEMICOLON","OPEN_BRACE","CLOSE_BRACE","COLON","DOUBLEDOLLAR","DOLLAR","WS","DOT","OPEN_SQUARE_BRACE","CLOSE_SQUARE_BRACE","keywords","NULL","TRUE","FALSE","styles","IDENTIFIER_START","IDENTIFIER_BODY","tokenString","escaped","quote","tokenize","prev","sol","eatSpace","indentTo","idStart","idbody","startState","firstToken","indent","comindwareMode","defineMIME","extendMode","localeCompare","stringComparator2Desc","numberComparator2Desc","durationComparator2Asc","durationComparator2Desc","booleanComparator2Asc","dateComparator2Asc","dateComparator2Desc","booleanComparator2Desc","referenceComparator2Asc","effectiveA","effectiveB","referenceComparator2Desc","isDesc","stringComparator1","emptyComparator","dateTimeFormats","shortDate","general","sateISO","condensedDate","longDate","monthDay","yearMonth","fullDateShortTime","fullDateLongTime","generalDateShortTime","generalDateLongTime","condensedDateTime","shortTime","longTime","dateTimeISO","de","dateISO","ru","dateToISOString","dateISOToDate","dateIsoString","toDate","asDays","opt","years","mom","startDay","getRelativeDate","lang","now","daysFromNow","calendar","getTimeEditFormat","hasSeconds","getDateEditFormat","formatName","dateToDateString","dateToTimeString","a_","b_","ed","path","pathposi","ses","lcs","SES_DELETE","SES_COMMON","SES_ADD","tmp1","tmp2","init","seselem","snake","pp","r","recordseq","epc","px_idx","py_idx","editdistance","getlcs","fp","curpathpos","registerHelper","or","debug","equal","highlightFragment","localize","renderAsHtml","renderFullDate","renderFullDateTime","renderShortDuration","optionalValue","inverse","SafeString","escapeExpression","separator","textId","textModel","v1","v2","v3","Utils","trimRight","timeoutCache","queueCache","getPluralFormIndex","setUniqueTimeout","someUniqueId","timeoutId","nextTick","comparatorFn","createLocalizedText","defaultText","texts","formula","Function","enqueueOperation","queueId","isPending","optionName","recursiveOptions","take","ensureProperty","getPropertyOrDefault","curr","argumentValue","argumentName","throwNotSupportedError","throwNotImplementedError","throwNotFoundError","rawText","escape","lowerText","index2","highlightMentions","membersByUserName","whitespace","highlightUrls","stopAndPreventDefault","onselectstart","ondragstart","comparators_","helpers_","htmlHelpers_","dateHelpers_","keyCode_","diffHelper_","NUMPAD_ADD","NUMPAD_DECIMAL","NUMPAD_DIVIDE","NUMPAD_MULTIPLY","NUMPAD_SUBTRACT","PERIOD","CTRL","ALT","ADD","SUBTRACT","SLASH","E","__triggerSearch","__adjustClearButtonVisibility","smallSize","largeSize","throttleDelay","smallPanelSize","largePanelSize","middlePanelSize","panel1Min","panel2Min","__handleWindowResize","panel1Region","panel2Region","resizer","panel1","panel2","__handleResizerMousedown","__handleDocumentMouseMove","newPanel1Width","panel1InitialWidth","containerWidth","leftWidthPx","rightWidthPx","__handleDocumentMouseUp","__updatePanelClasses","newClass","loadingViewOptions"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA,EAAE,kBAQF;AACA,CAAC;AACD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA,0BAA0B,gBAAgB;AAC1C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,+EAA+E;;AAE/E;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC,E;;;;;;;;;;;;8CC/RD;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA,CAAC,E;;;;;;;;;;;;AC3BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AAAA;;AAET;AACA,KAAK,0BAYL;;AAEA,CAAC;AACD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;;AAEA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;;AAEA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,OAAO;AACpD;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,iCAAiC;AAC3F;AACA;AACA,iBAAiB;AACjB,uEAAuE,wBAAwB;AAC/F;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;;AAEA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oEAAoE;;AAEpE;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,iCAAiC;AACjC;;AAEA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,2FAA2F,oBAAoB,KAAK;AACpH;AACA;AACA;AACA;;AAEA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;;AAEA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;;AAEA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;;;AAGT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,wEAAwE;AACxE;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,2CAA2C,kBAAkB;AAC7D;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,oBAAoB;AAC9D,aAAa;AACb;AACA;AACA,SAAS;;AAET;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iDAAiD,+BAA+B;AAChF;;AAEA;AACA;AACA;;AAEA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA,SAAS;;AAET;AACA;AACA;AACA,2CAA2C,sCAAsC;AACjF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,+CAA+C,OAAO;AACtD;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,mCAAmC;AACnC,4BAA4B;AAC5B;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,oBAAoB;AAC1D,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;AC3zBD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,GAAG,QAIH;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;;AAEX;AACA;;AAEA;AACA;;AAEA;AACA,iDAAiD,wBAAwB;AACzE;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAwD,wBAAwB;AAChF,mBAAmB;;AAEnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf,WAAW;;AAEX;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf,WAAW;;AAEX;AACA;AACA,WAAW;;AAEX;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA,0CAA0C;;AAE1C,uCAAuC;AACvC;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA,eAAe,IAAI;AACnB;;AAEA,OAAO;;AAEP;;AAEA,GAAG;AACH;;AAEA,CAAC,G;;;;;;;;;;;ACpKD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,UACA;AACA,CAAC,qCAAqC;;AAEtC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,sFAAsF,aAAa;AACnG;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,IAAI;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oFAAoF,aAAa;AACjG;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wFAAwF,eAAe;AACvG;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;;AAGH;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA,mEAAmE,aAAa;AAChF;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAoB;;AAEpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mEAAmE,aAAa;AAChF;AACA;;AAEA;;AAEA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK,IAAI;AACT,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK,IAAI;AACT,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;AACH;AACA,mEAAmE,aAAa;AAChF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,2DAA2D,YAAY;AACvE;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,yBAAyB,uBAAuB;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,IAAI;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,IAAI;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA,OAAO,iBAAiB;AACxB;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA,OAAO,eAAe;AACtB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,qFAAqF;AACrF;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;;;AAGH;;AAEA;AACA;AACA,GAAG;;;AAGH;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,oCAAoC;;AAEpC;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA,yBAAyB,uBAAuB;AAChD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA,mEAAmE,aAAa;AAChF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA,0FAA0F,eAAe;AACzG;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,YAAY;AACZ,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,+CAA+C,uCAAuC;AACtF,GAAG;;;AAGH;AACA;AACA;AACA,uFAAuF;;AAEvF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,wBAAwB;;AAExB;AACA,oBAAoB,iBAAiB;;AAErC;AACA;;AAEA;AACA,oBAAoB,0BAA0B;;AAE9C;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAoB,0BAA0B;;AAE9C;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH,gCAAgC,8BAA8B;AAC9D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK,IAAI;AACT,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,sFAAsF,aAAa;AACnG;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA;AACA,sBAAsB,+BAA+B;AACrD;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;AACH;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA,6DAA6D;AAC7D;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,qFAAqF;AACrF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2DAA2D,YAAY;AACvE;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,OAAO;;AAEP;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;;AAGH;AACA;;AAEA;AACA;AACA;AACA,gDAAgD,iBAAiB;AACjE,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,0BAA0B;AAChD;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA,4BAA4B,eAAe;AAC3C;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA,wDAAwD,2BAA2B;AACnF,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA,iDAAiD,oBAAoB;AACrE,KAAK;AACL;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA,oDAAoD,4CAA4C;AAChG,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,qCAAqC;;AAEzE;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,4BAA4B,eAAe;AAC3C;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA,kCAAkC,sBAAsB;AACxD;AACA,sFAAsF;AACtF;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mCAAmC,gBAAgB;AACnD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,GAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA,kCAAkC,sBAAsB;AACxD;AACA,sFAAsF;AACtF;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;;AAGH;AACA;AACA;;AAEA;;AAEA;AACA;AACA,oDAAoD,uBAAuB;AAC3E,KAAK;;AAEL;AACA,GAAG;;;AAGH;AACA;AACA;AACA,2CAA2C,iBAAiB;AAC5D,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,gCAAgC,qBAAqB;;AAErD;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,sFAAsF;AACtF;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,oDAAoD,mBAAmB;AACvE,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA,0DAA0D,8CAA8C;AACxG,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA,sDAAsD,mBAAmB;AACzE,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,yDAAyD;;AAEzD,gCAAgC;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;;AAEzB;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,IAAI;AACT,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA,GAAG;;;AAGH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;;AAEA,sFAAsF,aAAa;AACnG;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iDAAiD;;AAEjD;AACA;AACA,KAAK;;AAEL;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;AACD;AACA;;;;;;;;;;;;ACjjJA,8M;;;;;;;;;;;;ACAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA,KAAK,QAUL;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,2DAA2D;;AAE3D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA,mDAAmD;AACnD;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;;AAEA;AACA,wCAAwC,mBAAmB,uBAAuB;AAClF;AACA;AACA,wCAAwC;AACxC;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;;AAEA;AACA,4CAA4C,+DAA+D;AAC3G;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;;AAEA,4BAA4B,mCAAmC;AAC/D;AACA;;AAEA;AACA;AACA,yCAAyC;AACzC,yDAAyD,0DAA0D;AACnH;AACA;AACA;AACA,wEAAwE,uEAAuE;AAC/I;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA,sCAAsC,wDAAwD;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yCAAyC,2BAA2B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA,sCAAsC,wDAAwD;AAC9F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,0CAA0C;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;;AAET;AACA;;AAEA;AACA;;AAEA,mCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,4BAA4B,qCAAqC;AACjE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA,4BAA4B,qCAAqC;AACjE;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;;AAEA,6CAA6C,+DAA+D;AAC5G;;AAEA,0CAA0C,+CAA+C;AACzF;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;;AAEA,yCAAyC,+DAA+D;AACxG;;AAEA,sCAAsC,+CAA+C;AACrF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,wBAAwB,2BAA2B;AACnD;AACA;;AAEA;AACA,yCAAyC;AACzC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kCAAkC;;AAElC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;;AAGA;;AAEA,CAAC;;;;;;;;;;;;AChkBD;;AAEA;AACA;AACA,WAC0C;AAC1C,CAAC,8BAA8B;;AAE/B;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB;AACxB;AACA;;AAEA,0CAA0C,YAAY;AACtD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA,4CAA4C;;AAE5C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA,CAAC;AACD,4C;;;;;;;;;;;AC7VA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAGA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK,OAAO;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iDAAiD,uCAAuC;AACxF;AACA,iDAAiD,sCAAsC;;AAEvF;AACA,qFAAqF,QAAQ;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,+BAA+B,4BAA4B,EAAE;AAC7D,OAAO;AACP,4CAA4C,YAAY,EAAE;AAC1D;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA,GAAG;AACH,CAAC;;;;;;;;;;;;AChKD;AACA;;AAEA;AACA;AACA;AACA,SAGA;AACA,CAAC;AACD;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA,gBAAgB;AAChB;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,2BAA2B;AACpD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA,mCAAmC,QAAQ;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mBAAmB;AACxC;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,uBAAuB,OAAO;AAC9B;AACA,OAAO;AACP;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACjMD;AACA;;AAEA;AACA;AACA;AACA,SAGA;AACA,CAAC;AACD;AACA;;AAEA;;AAEA,kBAAkB,8CAA8C,KAAK,MAAM,KAAK;;AAEhF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yEAAyE;AACzE;AACA;AACA,iCAAiC,mBAAmB;AACpD;AACA;AACA;AACA;AACA;AACA,YAAY,YAAY;AACxB;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA,qFAAqF,iBAAiB;AACtG;AACA,iFAAiF,iBAAiB;AAClG;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAyB,kBAAkB;AAC3C,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,0DAA0D,2BAA2B;AACrF;AACA;AACA;AACA;AACA,2BAA2B,aAAa;AACxC,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;;;;;AChJD;AACA;;AAEA;AACA;AACA;AACA,SAGA;AACA,CAAC;AACD;;AAEA;AACA;AACA;;AAEA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,gBAAgB,2BAA2B;AAChE;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B,eAAe;AAC1C;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,SAAS,aAAa,aAAa;AAC/D;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,QAAQ;AACtE,sDAAsD;AACtD,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,UAAU;AACV,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,CAAC;;AAED,CAAC;;;;;;;;;;;;ACxGD;AACA;;AAEA;AACA;AACA;AACA,SAGA;AACA,CAAC;AACD;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,eAAe;AAC1C;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,SAAS,aAAa,aAAa;AAC7D;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,CAAC;;AAED,CAAC;;;;;;;;;;;;AC1DD;AACA;;AAEA;AACA;AACA;AACA,SAGA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B,kBAAkB,yCAAyC,EAAE;AAC3F;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,QAAQ;AAC7D;AACA,KAAK;AACL;AACA;AACA;AACA,qDAAqD,QAAQ;AAC7D;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,qBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;;;;;ACvJD;AACA;;AAEA;AACA;AACA;AACA,SAGA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,sBAAsB,EAAE;AACxE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACjJD;AACA;;AAEA;AACA;AACA;AACA,SAGA;AACA,CAAC;AACD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4DAA4D,uBAAuB,EAAE;AACrF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,0DAA0D,eAAe;AACzE;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,sBAAsB;AAC5C,wBAAwB,qBAAqB;AAC7C,0BAA0B,gDAAgD;AAC1E,4BAA4B,+CAA+C;AAC3E,wBAAwB,oBAAoB;AAC5C,uBAAuB,oCAAoC;AAC3D;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,8BAA8B,wBAAwB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC;AAChC;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,MAAM;AACxD;;AAEA;AACA,yCAAyC,yDAAyD,EAAE;AACpG,6BAA6B,wBAAwB,EAAE;AACvD,4BAA4B,8BAA8B,EAAE;AAC5D;AACA,yBAAyB,oBAAoB,EAAE;AAC/C,wBAAwB,eAAe,EAAE;AACzC;AACA,KAAK;;AAEL;AACA;AACA,8CAA8C,wCAAwC,oBAAoB,EAAE,OAAO,EAAE;AACrH,gDAAgD,6BAA6B,EAAE;AAC/E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,kCAAkC,8BAA8B;AAChE,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,4BAA4B,YAAY;AACxC,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,qBAAqB,mBAAmB,sBAAsB;AAC9D;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,2BAA2B,sCAAsC,aAAa;AAC9E,KAAK;AACL,oCAAoC;AACpC,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA;;AAEA,8BAA8B;AAC9B,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;ACjbD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAGA;AACA,CAAC;AACD;;AAEA;AACA;AACA,mDAAmD,EAAE;AACrD;AACA;;AAEA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C,uDAAuD;AAClG;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA2B,iBAAiB,EAAE;AAC9C;AACA,KAAK;AACL;;AAEA;AACA,+CAA+C,sCAAsC;AACrF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,WAAW,oEAAoE;AAC/E,iBAAiB;AACjB,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,wBAAwB,uBAAuB;AAC1E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,qCAAqC;AAC5D,kCAAkC;AAClC;AACA,GAAG;;AAEH,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,yBAAyB,wBAAwB,uBAAuB;AACxE,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA,mDAAmD,mBAAmB;AACtE;AACA;AACA,iEAAiE,iBAAiB;AAClF,SAAS;AACT;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,qCAAqC;AACpE;AACA,uCAAuC,kBAAkB;AACzD,uCAAuC,4BAA4B;AACnE;AACA;AACA;AACA,mEAAmE,iBAAiB;AACpF;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA,2CAA2C,gBAAgB;AAC3D,qDAAqD,gBAAgB;AACrE,yDAAyD;AACzD,yDAAyD;AACzD;AACA,+CAA+C;AAC/C;AACA;AACA,iDAAiD;AACjD,CAAC;;;;;;;;;;;;AC3PD;AACA;;AAEA;AACA;AACA;AACA,SAGA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qEAAqE,cAAc;AACnF;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sDAAsD,cAAc;AACpE;AACA;AACA;AACA;AACA;AACA,qBAAqB,WAAW;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uEAAuE,eAAe;AACtF;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wDAAwD,eAAe;AACvE,qBAAqB,WAAW;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B,4BAA4B;AAC5B,GAAG;AACH,4BAA4B;AAC5B,4BAA4B;AAC5B;;AAEA;AACA;AACA;AACA;AACA,4EAA4E;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,gGAAgG,cAAc;AAC9G;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA,OAAO;AACP;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kGAAkG,eAAe;AACjH;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA,OAAO;AACP;AACA;AACA,wDAAwD,sBAAsB;AAC9E;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA,KAAK,OAAO;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,wBAAwB;AAClD,8BAA8B,uBAAuB;;AAErD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,oBAAoB;AACpB;AACA;AACA,KAAK;;AAEL,sBAAsB,4CAA4C;AAClE,oBAAoB,0CAA0C;;AAE9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,mBAAmB,mCAAmC;AACtD;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;;;;;ACpSD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UACA;AACA,CAAC,qBAAqB;;AAEtB;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC,GAAG;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,4CAA4C;AACjE,6CAA6C,gBAAgB,eAAe;AAC5E;AACA;AACA;;AAEA,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uCAAuC,WAAW;AAClD,KAAK,6BAA6B;AAClC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,yBAAyB;AAC3C,cAAc,yBAAyB;AACvC,mCAAmC,iDAAiD;AACpF,qBAAqB,gBAAgB,oBAAoB,OAAO,2BAA2B,EAAE;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA,EAAE;AACF,MAAM;AACN;AACA,OAAO,sCAAsC;AAC7C,YAAY;AACZ;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,KAAK,0BAA0B;AAC/B;AACA,KAAK;AACL;AACA,+BAA+B,oBAAoB;AACnD,0BAA0B;AAC1B,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK,wDAAwD;AAC7D;AACA;;AAEA;AACA;AACA,sCAAsC,8CAA8C;AACpF;AACA;AACA;AACA,iBAAiB,eAAe;AAChC,KAAK,0CAA0C,kBAAkB,EAAE;AACnE;AACA;;AAEA,kCAAkC,eAAe;AACjD;AACA,GAAG,+BAA+B,yBAAyB,uCAAuC,GAAG;AACrG;AACA,GAAG,+BAA+B,MAAM,eAAe,EAAE,aAAa,GAAG;;AAEzE;AACA;AACA,oBAAoB;AACpB;;AAEA;AACA,gBAAgB,aAAa;AAC7B;AACA,KAAK;AACL,OAAO,0BAA0B,EAAE;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qBAAqB;AACzC;AACA,qDAAqD;AACrD;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,kBAAkB;AACnC,KAAK,uBAAuB,WAAW;AACvC;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAY,qBAAqB;;AAEjC;AACA,sBAAsB;AACtB,iBAAiB;AACjB,gBAAgB;;AAEhB;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,wBAAwB,yBAAyB;AACjD;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,sBAAsB;AACtB;AACA;;AAEA;AACA;AACA;AACA,KAAK,sCAAsC;AAC3C;AACA;;AAEA,mBAAmB;;AAEnB;AACA;AACA,iBAAiB,kBAAkB,OAAO,yBAAyB;AACnE;AACA;;AAEA;AACA;AACA,+DAA+D,OAAO;AACtE;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,cAAc,sBAAsB;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,iEAAiE;AACjE;AACA;;AAEA;AACA,sBAAsB,uCAAuC,eAAe;AAC5E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;;AAE9B,wCAAwC;AACxC;AACA,sFAAsF,YAAY;AAClG;AACA;;AAEA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,qBAAqB;AACrB;AACA,sBAAsB;AACtB,oBAAoB,UAAU;AAC9B,UAAU,kBAAkB;AAC5B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,+BAA+B,YAAY;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,6BAA6B,mCAAmC;AAC7F,sCAAsC,6BAA6B;;AAEnE;AACA,4BAA4B,8BAA8B;AAC1D,UAAU,kBAAkB;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,oBAAoB;AACpB;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,8BAA8B;AACtD,0BAA0B,6BAA6B;AACvD;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,sCAAsC,qBAAqB,EAAE,EAAE;AAC/D;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,mBAAmB,GAAG,gBAAgB,kBAAkB,EAAE;AACvE;;AAEA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA,8BAA8B,OAAO;AACrC,oBAAoB;AACpB,qCAAqC;AACrC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB,6BAA6B;AAClD;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,QAAQ,wBAAwB;AAChC;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA,yBAAyB;;AAEzB;AACA;AACA;;AAEA;AACA;AACA;;AAEA,+BAA+B;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB;;AAEpB,+BAA+B;;AAE/B,qBAAqB;AACrB,uBAAuB;AACvB,uBAAuB;;AAEvB;AACA;AACA,2BAA2B;AAC3B;AACA,6BAA6B;AAC7B;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA,mCAAmC;AACnC,oBAAoB;AACpB,QAAQ;AACR;AACA;AACA;AACA,iBAAiB,kBAAkB,OAAO,iCAAiC;AAC3E;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB;AACnB;;AAEA;AACA;AACA,cAAc,gBAAgB,kBAAkB;AAChD;AACA,gCAAgC;AAChC,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC,KAAK,wBAAwB,gCAAgC,EAAE;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,gBAAgB,gBAAgB;AAC5C;AACA;AACA;AACA,0GAA0G;AAC1G;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,YAAY,gBAAgB,gBAAgB;AAC5C;AACA;AACA;AACA,8GAA8G;AAC9G;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,8BAA8B;;AAE9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA,qBAAqB,mBAAmB;AACxC,4BAA4B,uDAAuD;AACnF;AACA;AACA;AACA;AACA;AACA,qBAAqB,mBAAmB;AACxC;AACA,8BAA8B,qBAAqB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,sCAAsC;AAC/D;AACA,OAAO;AACP;AACA,uBAAuB,sCAAsC;AAC7D;AACA;AACA;AACA;AACA,cAAc,gCAAgC;AAC9C,8BAA8B,8BAA8B;;AAE5D;AACA;AACA;AACA;AACA;AACA,OAAO,kBAAkB,oBAAoB;AAC7C,SAAS;AACT,WAAW,uFAAuF,EAAE,EAAE;AACtG,qBAAqB,WAAW;AAChC,OAAO,6BAA6B;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA,OAAO,sBAAsB;AAC7B;AACA,sBAAsB;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA2B,gBAAgB,6BAA6B;AACxE;AACA;AACA,SAAS,wCAAwC;AACjD,KAAK;AACL,GAAG;AACH,iBAAiB;AACjB,gBAAgB,mBAAmB;AACnC,iBAAiB,oBAAoB;AACrC;AACA,mBAAmB,kBAAkB;AACrC;AACA,2DAA2D;AAC3D;AACA;AACA,SAAS,gBAAgB,yBAAyB,EAAE;AACpD;AACA,SAAS,gBAAgB,qBAAqB,EAAE;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf,iBAAiB,kBAAkB;AACnC,KAAK,kCAAkC;AACvC;AACA;AACA;AACA,eAAe;AACf,iBAAiB,kBAAkB;AACnC,KAAK,kCAAkC;AACvC;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,gBAAgB;AAChB;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,+BAA+B,gBAAgB;AAC3D;AACA;AACA;AACA,OAAO,mBAAmB;AAC1B,GAAG;AACH;AACA;AACA,qCAAqC;AACrC,mCAAmC;;AAEnC;AACA;AACA,YAAY,gBAAgB,gBAAgB;AAC5C;AACA;AACA,oEAAoE,mBAAmB;AACvF,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,gBAAgB,gBAAgB;AAC5C;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,mEAAmE;AACnE;AACA;AACA,OAAO;AACP,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,mCAAmC;AACxC;AACA;;AAEA;AACA;AACA;AACA,KAAK,kCAAkC;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;;AAEA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA,iCAAiC;AACjC;AACA,KAAK,kCAAkC;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,+BAA+B,gBAAgB;AAC3D;AACA,+BAA+B;AAC/B,0BAA0B;AAC1B,+BAA+B;AAC/B;AACA,OAAO;AACP,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,gCAAgC,6BAA6B;AAC7D;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,wBAAwB;AACzC;AACA,0BAA0B;AAC1B,UAAU,kBAAkB;AAC5B;AACA,4BAA4B,GAAG;AAC/B,qBAAqB,yBAAyB;AAC9C;AACA,yBAAyB;AACzB,YAAY,iBAAiB;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA,eAAe;AACf;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA,uCAAuC;AACvC;AACA,qDAAqD,WAAW;AAChE,YAAY,eAAe;AAC3B;AACA;AACA,qDAAqD,WAAW;AAChE,YAAY,eAAe;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,8CAA8C;AAC9C,8CAA8C;AAC9C,8CAA8C;AAC9C,gDAAgD;AAChD,8BAA8B;AAC9B,UAAU;AACV;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;;AAEA,qEAAqE;AACrE;AACA,mBAAmB,SAAS;AAC5B,OAAO,yCAAyC;;AAEhD;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA,wBAAwB,mBAAmB;AAC3C,YAAY,aAAa;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA,sCAAsC,WAAW;AACjD;AACA,wCAAwC,kBAAkB;AAC1D,uCAAuC,cAAc,qBAAqB,kBAAkB,EAAE;AAC9F;;AAEA;AACA;AACA;AACA,wCAAwC,eAAe;AACvD;AACA,kEAAkE,kBAAkB;AACpF;AACA,kDAAkD,qBAAqB;AACvE;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB,WAAW;AAChC;AACA,0BAA0B,kBAAkB;AAC5C;AACA;AACA,2BAA2B,gCAAgC;AAC3D;AACA,yBAAyB,SAAS,OAAO,oBAAoB;AAC7D;AACA;AACA;;AAEA;AACA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA,0CAA0C,kBAAkB;AAC5D,uCAAuC,gBAAgB;AACvD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,WAAW;AAChC;AACA;AACA,6BAA6B,6CAA6C;AAC1E;AACA;AACA;AACA,2BAA2B,aAAa,SAAS,wBAAwB;AACzE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,WAAW;AAChC;AACA;AACA,mBAAmB,4CAA4C;AAC/D;AACA,OAAO;AACP;AACA,mBAAmB,gCAAgC;AACnD,2BAA2B,WAAW;AACtC;AACA,4BAA4B,gDAAgD;AAC5E;AACA,uBAAuB,2CAA2C;AAClE;AACA;AACA,WAAW,OAAO,OAAO;AACzB;AACA,wBAAwB,gDAAgD;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,sBAAsB,yDAAyD;AAC/E;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH,6DAA6D;AAC7D;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,SAAS,iEAAiE;AAC1E;AACA;AACA;;AAEA;AACA;AACA,yBAAyB;AACzB;AACA,iBAAiB,qBAAqB,OAAO,+BAA+B;AAC5E;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK,MAAM,qCAAqC,8BAA8B,IAAI;AAClF;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA,iBAAiB,gBAAgB,OAAO;AACxC,KAAK,kBAAkB,EAAE;AACzB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC,0CAA0C;AAC1C;;AAEA;AACA;;AAEA;AACA,yBAAyB,oBAAoB;AAC7C,QAAQ,uBAAuB;AAC/B;AACA;AACA,0BAA0B,qBAAqB;AAC/C,QAAQ,uBAAuB;AAC/B;AACA;AACA;AACA;AACA,oBAAoB,oBAAoB;;AAExC,sBAAsB;AACtB;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B,4BAA4B,OAAO;AACnC,4BAA4B,OAAO;AACnC;AACA,mCAAmC,OAAO;AAC1C;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,2FAA2F;AAClG;AACA;AACA,uDAAuD,YAAY;AACnE;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,mCAAmC,eAAe;AAClD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,CAAC,sBAAsB,iCAAiC;;AAExD;AACA,OAAO;AACP,YAAY;AACZ,CAAC;AACD;AACA,OAAO;AACP;AACA,oDAAoD;AACpD;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,mCAAmC;AACnC;AACA,CAAC;;AAED;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK,8DAA8D;AACnE;AACA;;AAEA;AACA;AACA;;AAEA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,mCAAmC,UAAU,aAAa;AAC1D;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,gCAAgC,SAAS,WAAW;AACpD,QAAQ,iBAAiB,aAAa;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,uCAAuC;AACvC,yCAAyC,qCAAqC;AAC9E;AACA;AACA;AACA;AACA,wBAAwB,sCAAsC;AAC9D,uBAAuB;AACvB,KAAK,0CAA0C,EAAE;;AAEjD;AACA;;AAEA;AACA;AACA;AACA;AACA,oGAAoG;AACpG;AACA;;AAEA;AACA,uBAAuB;AACvB,uBAAuB;AACvB;AACA;AACA;AACA,+BAA+B,sBAAsB;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA,kBAAkB;AAClB;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0CAA0C;AAC1C,0CAA0C;AAC1C,2CAA2C;AAC3C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,iCAAiC,kBAAkB;AACnD,QAAQ,sDAAsD;AAC9D,WAAW,WAAW;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2DAA2D,cAAc;AACzE;AACA;AACA,gDAAgD;AAChD;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,kDAAkD;AAClF;AACA;AACA,8BAA8B,4BAA4B;AAC1D;AACA;AACA,GAAG;AACH;AACA,mCAAmC;AACnC,qCAAqC,6BAA6B;AAClE;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA,OAAO;AACP,WAAW,qBAAqB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8CAA8C,uBAAuB;AACrE;AACA;;AAEA;AACA;;AAEA,yBAAyB;AACzB;AACA,KAAK,0BAA0B;AAC/B;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA,8BAA8B,qBAAqB;AACnD;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,4BAA4B,EAAE;AACpG;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sCAAsC;AACjD;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,OAAO;AACP,cAAc,WAAW;AACzB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,iBAAiB,8BAA8B;;AAE/C,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB,4BAA4B;AACjD;AACA;AACA,yBAAyB,oCAAoC;AAC7D,iCAAiC,0BAA0B;AAC3D;AACA,OAAO,iFAAiF;AACxF;AACA;AACA;;AAEA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,gBAAgB,iCAAiC;AACjD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oCAAoC;AACvD;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB;AACvB,wBAAwB;AACxB;AACA,6BAA6B;AAC7B;;AAEA;AACA,iBAAiB,QAAQ;AACzB,gBAAgB,wCAAwC;AACxD;AACA,oCAAoC;AACpC;AACA;AACA;;AAEA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA,kBAAkB,2EAA2E;AAC7F;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA,qBAAqB;AACrB;AACA;AACA;AACA,OAAO,6BAA6B;AACpC;AACA,OAAO,oCAAoC;AAC3C,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,wCAAwC;AACrE;AACA;AACA;AACA,mBAAmB,qEAAqE;AACxF;AACA;AACA;AACA,uBAAuB,4CAA4C;AACnE;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,kBAAkB,sDAAsD;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAc;AACpC,8BAA8B;AAC9B;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uCAAuC;AACvC;AACA,wBAAwB,cAAc;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAwB,wBAAwB;AAChD,oBAAoB,oBAAoB;AACxC,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA,iCAAiC,mCAAmC;AACpE;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,iDAAiD;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,+DAA+D;AACtE;AACA;AACA;AACA;AACA;AACA,SAAS,iFAAiF;AAC1F;AACA,SAAS,uFAAuF;AAChG;;AAEA;AACA;AACA,OAAO,2FAA2F;;AAElG;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,OAAO,mEAAmE;AAC1E;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,gDAAgD;AACvD;;AAEA;AACA;AACA,KAAK,iFAAiF;;AAEtF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,iBAAiB;AAChD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,yCAAyC;AAC5E,cAAc,0BAA0B;AACxC;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,mCAAmC,2CAA2C;AAC9E,cAAc,4BAA4B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,yBAAyB;AAC9C,mBAAmB,uBAAuB;AAC1C;AACA,gBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;;AAEA;AACA,4CAA4C;AAC5C;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA,OAAO,eAAe;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,qBAAqB,kBAAkB;AACvC;AACA,oDAAoD;AACpD;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,2DAA2D;AAC1E;AACA;AACA,OAAO,sEAAsE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB,qBAAqB;AAC1C,OAAO,wHAAwH;AAC/H;AACA;;AAEA;AACA;AACA,SAAS;AACT,4BAA4B;AAC5B;AACA,uBAAuB;AACvB;AACA,qBAAqB,kBAAkB;AACvC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,4BAA4B,gCAAgC;AAC5D,sBAAsB,sBAAsB,gBAAgB;AAC5D,+CAA+C,sCAAsC;AACrF,kDAAkD,yDAAyD;AAC3G,kCAAkC,iBAAiB;AACnD;AACA,aAAa,gBAAgB;AAC7B,SAAS;AACT;AACA;AACA;AACA,sBAAsB,kBAAkB,wBAAwB;AAChE,SAAS,wCAAwC,sCAAsC,EAAE,EAAE;;AAE3F,gDAAgD,kBAAkB,6BAA6B;AAC/F,SAAS,qDAAqD,EAAE;AAChE;AACA;AACA;AACA,mCAAmC;AACnC,kCAAkC,mBAAmB;AACrD;AACA;AACA,qBAAqB;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,8BAA8B,YAAY;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB,UAAU;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU,sBAAsB;AAChC,OAAO,yBAAyB;AAChC,mBAAmB,sBAAsB;AACzC;AACA;AACA,SAAS;AACT,WAAW,wEAAwE,EAAE;AACrF;AACA,GAAG;AACH;;AAEA;AACA;AACA,eAAe;;AAEf,OAAO,4BAA4B;AACnC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,2BAA2B,iCAAiC,EAAE;AAC9D;;AAEA,iBAAiB,gBAAgB;AACjC;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,oBAAoB,OAAO,cAAc;AAC1D;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA,yBAAyB,8BAA8B;AACvD,gCAAgC,6CAA6C;AAC7E,+BAA+B,iCAAiC;AAChE,gCAAgC,uCAAuC;AACvE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,qEAAqE;AAC5E;AACA,+BAA+B,gCAAgC;AAC/D;AACA;AACA;;AAEA;AACA;AACA,YAAY,qCAAqC;AACjD;AACA,cAAc,qCAAqC;AACnD,UAAU,iEAAiE,4BAA4B;AACvG,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,2BAA2B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK,iEAAiE;AACtE;AACA,KAAK,8BAA8B;AACnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wHAAwH;AACxH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,yDAAyD;AAChE;AACA,OAAO;AACP;AACA;AACA,0EAA0E,qDAAqD;AAC/H,kBAAkB,gBAAgB,+BAA+B;AACjE;AACA;AACA,SAAS;AACT,2EAA2E,6CAA6C;AACxH,KAAK;AACL;AACA;;AAEA;AACA,2BAA2B,2BAA2B;AACtD,4DAA4D,MAAM;AAClE;AACA;AACA,OAAO,iCAAiC;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,kCAAkC;AACxD,wBAAwB,sCAAsC;;AAE9D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,gBAAgB,0BAA0B;AAChE,KAAK,mEAAmE,EAAE;AAC1E;;AAEA;AACA,sBAAsB;AACtB;AACA,oCAAoC,eAAe;AACnD;AACA,oCAAoC,+CAA+C;AACnF;AACA;AACA;AACA,OAAO,2DAA2D;AAClE;AACA,OAAO,wBAAwB;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uDAAuD;AACnF;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA,YAAY;AACZ;AACA,0CAA0C;AAC1C;AACA,OAAO,wEAAwE,EAAE;AACjF;AACA,OAAO,iEAAiE,EAAE;AAC1E;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B,sBAAsB;AACjD;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA,8BAA8B;AAC9B,+BAA+B;AAC/B;AACA,+BAA+B;AAC/B;AACA;AACA,cAAc;AACd,gDAAgD,+BAA+B;AAC/E;AACA;;AAEA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA,WAAW,sDAAsD;AACjE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK,SAAS,yDAAyD;AACvE,iBAAiB,0BAA0B;AAC3C,KAAK;AACL,OAAO,SAAS,iEAAiE,EAAE;AACnF,mBAAmB,4BAA4B;AAC/C,KAAK;AACL,OAAO,SAAS,mFAAmF,EAAE;AACrG;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAU,yBAAyB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK,4CAA4C;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,SAAS;AACjC;AACA;AACA;AACA,GAAG;AACH;AACA,OAAO,4DAA4D;AACnE;AACA;AACA;AACA;AACA;AACA,uBAAuB,6BAA6B;AACpD;AACA,UAAU;AACV;AACA;AACA;;AAEA,gBAAgB;;AAEhB;AACA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA,gBAAgB;AAChB;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA,SAAS,iBAAiB;AAC1B;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA,uBAAuB,gBAAgB,kBAAkB;AACzD,+CAA+C;AAC/C,GAAG,EAAE,OAAO,iCAAiC,UAAU;AACvD,iDAAiD;AACjD,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B,qBAAqB,SAAS,SAAS;AACvC,6FAA6F,SAAS;AACtG,6HAA6H,OAAO;AACpI;AACA,SAAS,gDAAgD;AACzD;AACA,SAAS,sEAAsE;AAC/E,kDAAkD;AAClD;AACA;AACA;AACA;AACA,gCAAgC,4DAA4D;AAC5F,GAAG,OAAO;AACV,oBAAoB,2BAA2B;AAC/C;AACA;AACA,OAAO,sDAAsD;AAC7D;AACA,OAAO,qCAAqC;AAC5C;AACA;AACA;AACA;AACA,OAAO,SAAS,mGAAmG;AACnH;AACA,OAAO,iBAAiB;AACxB;;AAEA;AACA;AACA;AACA;AACA,QAAQ,wBAAwB;AAChC,KAAK,wBAAwB,QAAQ;AACrC;AACA,gBAAgB;AAChB;AACA;AACA,kCAAkC,qBAAqB;AACvD,8CAA8C,oBAAoB,uBAAuB;;AAEzF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB,0BAA0B;AAClE,OAAO,iCAAiC,EAAE;AAC1C;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,4BAA4B;AAC7C,KAAK,kDAAkD;AACvD;;AAEA;AACA;AACA;AACA,iCAAiC,kCAAkC;AACnE;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;;AAEA;AACA;AACA,wBAAwB,gBAAgB,4BAA4B,OAAO;AAC3E,KAAK,4CAA4C,EAAE,EAAE;AACrD;AACA;;AAEA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,0BAA0B;AAC1B,iBAAiB,mBAAmB;AACpC;AACA,2BAA2B,gCAAgC;AAC3D,QAAQ,+BAA+B;AACvC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;;AAEA;AACA,iBAAiB,qCAAqC;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,sDAAsD;AAC/E;AACA;AACA,gBAAgB,kBAAkB,EAAE,OAAO,kBAAkB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,oDAAoD;AAC1E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAiC,uCAAuC;AACxE;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,oBAAoB;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,KAAK;AACL,cAAc,OAAO;;AAErB;AACA,SAAS;AACT;AACA;AACA,qBAAqB;AACrB;AACA,iCAAiC;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC,qEAAqE,EAAE;AAC9G,iCAAiC,6DAA6D,EAAE;AAChG,UAAU;AACV;;AAEA;AACA,yBAAyB,sDAAsD;AAC/E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,6CAA6C,MAAM;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,yBAAyB;AAChC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,OAAO;AACvD;AACA,iBAAiB,kBAAkB;AACnC;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,gCAAgC;AAC9C;AACA,0BAA0B,SAAS,6CAA6C;AAChF,sBAAsB,SAAS,6CAA6C;AAC5E;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mCAAmC;AACtD;AACA;AACA;;AAEA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA,kBAAkB,iCAAiC;AACnD;AACA;;AAEA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA,2CAA2C,GAAG;AAC9C;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;;AAErC;AACA,uBAAuB,gBAAgB,yBAAyB;AAChE,mCAAmC,yCAAyC;AAC5E,KAAK;;AAEL;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAmC,mCAAmC;AACtE,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE;;AAEzE;AACA;AACA,OAAO,4BAA4B,2BAA2B;AAC9D,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA,cAAc;AACd;AACA,iBAAiB,iBAAiB;AAClC;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C,6CAA6C;AAC7C;AACA,gGAAgG;AAChG;AACA;AACA,OAAO,qDAAqD;AAC5D;AACA,OAAO,+CAA+C;AACtD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA,sFAAsF,sBAAsB,kDAAkD,6DAA6D;AAC3N;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA,OAAO,OAAO;AACd;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,gDAAgD;AACzF;AACA;;AAEA,oDAAoD,iBAAiB;AACrE,wCAAwC,eAAe;AACvD,gDAAgD,eAAe;AAC/D,sCAAsC,aAAa;AACnD,KAAK;AACL,YAAY;AACZ;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO,qDAAqD;AAC5D;;AAEA;AACA;;AAEA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA,KAAK,4CAA4C,wEAAwE,EAAE;AAC3H,kCAAkC;AAClC;AACA,KAAK,+CAA+C;AACpD;;AAEA;AACA,0BAA0B,0BAA0B,aAAa;AACjE;;AAEA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,GAAG,EAAE;AACL;;AAEA;AACA,mCAAmC,oCAAoC;;AAEvE,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,yBAAyB,qCAAqC,EAAE,MAAM,EAAE;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,yBAAyB,0BAA0B,EAAE,EAAE;AACjF;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,yBAAyB;AAC1C;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qBAAqB,8BAA8B;AACnD;AACA;AACA;AACA,qBAAqB,gBAAgB,qBAAqB;AAC1D,SAAS,iCAAiC,EAAE;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,gBAAgB,yBAAyB;AAC9D;AACA,iBAAiB,gCAAgC;AACjD,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,OAAO,SAAS,OAAO,UAAU;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA,0FAA0F;AAC1F;AACA;AACA,iBAAiB,iBAAiB,OAAO;AACzC;AACA;AACA,SAAS,kCAAkC;AAC3C;AACA,SAAS,4CAA4C;AACrD;AACA;AACA,gBAAgB,gBAAgB,kBAAkB;AAClD,OAAO,4BAA4B,EAAE;AACrC,GAAG;AACH;AACA,KAAK,sDAAsD;AAC3D;;AAEA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,mDAAmD;;AAEnD;AACA,+BAA+B,iBAAiB;AAChD,mGAAmG,kBAAkB;AACrH;AACA,qEAAqE,mGAAmG,0GAA0G,uDAAuD,wDAAwD;AACjY;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,WAAW;AAChC;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,gBAAgB;AACtE;AACA;AACA;AACA,wDAAwD,gBAAgB;AACxE;AACA,mBAAmB;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAAoC,0CAA0C;AAC9E,qCAAqC,yCAAyC;AAC9E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,cAAc;AACnC;AACA;AACA,wCAAwC,iCAAiC;AACzE;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,8BAA8B,2BAA2B;AACzD;;AAEA;AACA;AACA;AACA,gBAAgB,kCAAkC;AAClD;AACA,KAAK,uBAAuB;AAC5B;AACA,KAAK,iEAAiE;AACtE;AACA,KAAK,+DAA+D;AACpE;AACA;;AAEA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;;AAEA;AACA,+BAA+B,wBAAwB;AACvD,kBAAkB,yBAAyB;AAC3C,kBAAkB,wBAAwB;AAC1C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,6CAA6C;AAC7C,eAAe,0BAA0B,SAAS,EAAE;AACpD;AACA,cAAc,yBAAyB;AACvC;AACA;;AAEA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA,6CAA6C,qCAAqC;AAClF;;AAEA;AACA;AACA;AACA;AACA,wGAAwG;AACxG;AACA;AACA,8CAA8C,sCAAsC;AACpF;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4EAA4E;AAC5E;AACA,cAAc;;AAEd;AACA,4BAA4B,oCAAoC;AAChE,GAAG;AACH;AACA,4BAA4B,wCAAwC;AACpE,GAAG;;AAEH;AACA;AACA,6BAA6B,gEAAgE;AAC7F;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,sBAAsB,sBAAsB;AAC5C;AACA;;AAEA,UAAU;AACV;;AAEA;AACA,qCAAqC,6BAA6B;AAClE,0BAA0B,iEAAiE;AAC3F;;AAEA;AACA,mCAAmC,2BAA2B;AAC9D,yBAAyB,8DAA8D;AACvF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kCAAkC;AAC1D,UAAU,+BAA+B;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,+CAA+C,SAAS,oBAAoB;AAC5E;AACA;AACA;;AAEA;AACA,iBAAiB,oCAAoC;AACrD;AACA;AACA,iBAAiB,mFAAmF;AACpG;AACA,OAAO,6BAA6B;AACpC;AACA,qCAAqC;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG,OAAO,sCAAsC;AAChD;AACA;AACA;AACA;AACA,GAAG,OAAO,mCAAmC;AAC7C;;AAEA,sBAAsB;;AAEtB;AACA;AACA;AACA;AACA,OAAO,6DAA6D;AACpE;;AAEA;AACA;AACA;AACA;AACA,6BAA6B,yBAAyB,iCAAiC,EAAE,KAAK;AAC9F,KAAK;AACL;AACA,GAAG;AACH,+BAA+B,wBAAwB;AACvD,UAAU,0BAA0B;AACpC,GAAG;AACH;AACA,KAAK,8DAA8D;AACnE;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC,OAAO,8BAA8B;AACrC;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC,KAAK,yBAAyB;AAC9B,mBAAmB,kBAAkB;AACrC,KAAK,2BAA2B;AAChC,mBAAmB,kBAAkB;AACrC,KAAK,2BAA2B;AAChC,mBAAmB,kBAAkB;AACrC,KAAK,2BAA2B;AAChC,mBAAmB,kBAAkB;AACrC,KAAK,+BAA+B;AACpC;;AAEA;AACA;AACA;AACA,yBAAyB,iBAAiB;;AAE1C;AACA;AACA;AACA;AACA;AACA,4CAA4C,0CAA0C;AACtF;;AAEA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,6BAA6B;;AAEvD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK,yDAAyD;AAC9D;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO,qFAAqF;AAC5F;AACA;;AAEA;AACA;AACA,KAAK,iEAAiE;AACtE;AACA,KAAK,qCAAqC;AAC1C;AACA,KAAK,sCAAsC;;AAE3C,4BAA4B,kBAAkB;;AAE9C;AACA,KAAK,mCAAmC;AACxC,kBAAkB,oBAAoB;AACtC;;AAEA;AACA;;AAEA,0BAA0B,kCAAkC;;AAE5D;AACA;AACA,KAAK,kDAAkD;;AAEvD;AACA,6BAA6B,gDAAgD;;AAE7E,8BAA8B,8CAA8C;AAC5E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,gBAAgB,mBAAmB;AAClD,KAAK,+BAA+B,2BAA2B,EAAE,EAAE;AACnE,iBAAiB,kBAAkB,uBAAuB;AAC1D,KAAK,kCAAkC,iCAAiC,EAAE,EAAE;;AAE5E;AACA,KAAK,+CAA+C;;AAEpD;AACA;AACA,KAAK,0CAA0C;AAC/C;AACA,KAAK,oBAAoB;AACzB;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA,OAAO;AACP,WAAW,kBAAkB;AAC7B;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,SAAS;AACT,aAAa,kBAAkB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,SAAS;AACT,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,SAAS;AACT,aAAa,kBAAkB;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,qBAAqB;AAC1C,mBAAmB,iCAAiC;AACpD,iBAAiB,aAAa;;AAE9B;AACA;AACA;AACA,KAAK,kCAAkC;;AAEvC;;AAEA,+BAA+B;AAC/B;AACA,OAAO,eAAe;AACtB,GAAG,mCAAmC;AACtC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG,6DAA6D;AAChE;AACA,GAAG,qCAAqC;AACxC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG,iCAAiC;AACpC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG,OAAO;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO,sBAAsB;AAC7B;AACA,OAAO,iCAAiC;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,iCAAiC;;AAEtC,0DAA0D;AAC1D;AACA,8BAA8B;AAC9B;AACA,iCAAiC,gBAAgB;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK,SAAS,0BAA0B;AACxC;AACA,iBAAiB,WAAW;AAC5B,KAAK,mBAAmB;AACxB;AACA;AACA,qCAAqC;AACrC;AACA;AACA,KAAK;AACL;AACA;AACA,iBAAiB;AACjB;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,OAAO,gFAAgF;AACvF;AACA,OAAO,4DAA4D;AACnE;AACA;AACA,OAAO,4EAA4E;AACnF;AACA,OAAO,6DAA6D;AACpE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA,mEAAmE,SAAS;AAC5E;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK,yDAAyD;AAC9D;;AAEA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;;AAEA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA,uBAAuB,4BAA4B;AACnD;AACA;AACA,mBAAmB,4BAA4B;AAC/C,wBAAwB,0BAA0B;AAClD;AACA;AACA,qBAAqB,mCAAmC,OAAO,2CAA2C;AAC1G,qBAAqB,iCAAiC;AACtD;AACA;AACA,KAAK;AACL;AACA,SAAS,qCAAqC;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,4BAA4B;AAC5B,mBAAmB,yBAAyB;AAC5C,OAAO,4CAA4C;AACnD,GAAG,EAAE;AACL;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK,6BAA6B;AAClC;AACA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC,KAAK,sCAAsC;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA,yDAAyD;AACzD,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8EAA8E;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gEAAgE,8CAA8C;AAC9G,wDAAwD,oCAAoC;AAC5F;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,qBAAqB,wCAAwC;AAC7D;AACA,qBAAqB,oCAAoC;AACzD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,yBAAyB;AACzB;AACA;AACA;AACA,SAAS,aAAa,0FAA0F;AAChH;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,6BAA6B;AACpC;AACA,OAAO,mCAAmC;AAC1C;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA,KAAK,oEAAoE;AACzE;AACA;AACA,KAAK,OAAO;AACZ,oCAAoC,eAAe;AACnD;AACA;AACA;AACA,uDAAuD,sBAAsB;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,kBAAkB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,2BAA2B;AACpC,iBAAiB,yBAAyB;AAC1C,kBAAkB,0BAA0B;AAC5C,kBAAkB,2BAA2B;;AAE7C;AACA;AACA,8DAA8D,eAAe;AAC7E,4DAA4D,eAAe;AAC3E,wBAAwB,mBAAmB;AAC3C,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD;;AAEhD;AACA;AACA;AACA;AACA;AACA,wDAAwD,eAAe;AACvE,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,8EAA8E;AACrF;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,qBAAqB;AAC5B,+BAA+B;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sCAAsC;AAC3D,UAAU,kDAAkD;AAC5D,6BAA6B,sBAAsB;AACnD;;AAEA;AACA;AACA,8CAA8C;AAC9C,2BAA2B;AAC3B;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,OAAO;AACP,KAAK;AACL,4BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C;;AAE3C;AACA;;AAEA,sBAAsB;AACtB,uFAAuF;AACvF,iBAAiB,wBAAwB;AACzC;AACA,+FAA+F;AAC/F;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,wBAAwB;AACzC,KAAK,sFAAsF;AAC3F;AACA;;AAEA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC,KAAK,iCAAiC,cAAc;AACpD;AACA;;AAEA;AACA;;AAEA,aAAa,WAAW;AACxB,iBAAiB,wBAAwB;AACzC;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,uBAAuB;AACvB;;AAEA,oCAAoC;AACpC,kCAAkC;AAClC,qCAAqC;;AAErC;AACA;AACA;AACA;AACA;AACA,+BAA+B,gCAAgC,EAAE;AACjE;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA,2BAA2B,aAAa;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA,kCAAkC;AAClC,iCAAiC;;AAEjC;AACA,mCAAmC,2CAA2C;AAC9E;AACA;;AAEA;AACA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,wBAAwB;AAClD,sBAAsB,oBAAoB;AAC1C,GAAG;AACH;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC,OAAO,gEAAgE;AACvE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,iBAAiB,+BAA+B;AAChD,uBAAuB,8BAA8B;AACrD,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,qBAAqB,uCAAuC;AAC5D;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,gBAAgB,uBAAuB;AAC5D;AACA,4BAA4B;AAC5B;AACA,sCAAsC;AACtC;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,iCAAiC,iBAAiB;AAClD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,kCAAkC,gFAAgF,EAAE;AACpH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,OAAO,4CAA4C;AACnD,WAAW;AACX;AACA;AACA;AACA;AACA,iCAAiC,mBAAmB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,6BAA6B;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,uCAAuC;AAC5C;AACA,KAAK,wCAAwC;;AAE7C;AACA;AACA;AACA;AACA,KAAK,mCAAmC;AACxC;;AAEA;AACA;AACA;AACA,KAAK,gBAAgB;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,wDAAwD,yBAAyB;AACxF;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA,iBAAiB,kBAAkB;AACnC,4CAA4C,YAAY,yBAAyB,EAAE;AACnF,mBAAmB,oBAAoB;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA,iBAAiB,wBAAwB;AACzC,KAAK,uCAAuC;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,mBAAmB;;AAEnB,iBAAiB,gBAAgB;AACjC;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA,uBAAuB,mBAAmB;AAC1C,WAAW,uCAAuC,iBAAiB;AACnE;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,mBAAmB,oBAAoB;AACvC;AACA,uBAAuB,oDAAoD;AAC3E,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA,OAAO,EAAE;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,yDAAyD;AAChF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,2BAA2B;AAC5C,KAAK,iEAAiE;AACtE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,mBAAmB;AACxC,SAAS;AACT,iEAAiE;AACjE,KAAK;AACL;AACA;AACA;AACA,eAAe,sDAAsD;AACrE,iCAAiC;AACjC,QAAQ;AACR;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK,gDAAgD;;AAErD;AACA;AACA;;AAEA;AACA,KAAK,6BAA6B;AAClC;;AAEA;AACA,4BAA4B;;AAE5B;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAyB,gBAAgB,6BAA6B;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,gBAAgB,IAAI;AACpB;AACA;AACA,sBAAsB;;AAEtB;AACA;AACA;AACA,WAAW,8EAA8E;AACzF;AACA,WAAW;AACX;;AAEA;AACA;AACA,SAAS,kEAAkE;AAC3E;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;AAC/B,UAAU;AACV,GAAG;AACH,8CAA8C;AAC9C,UAAU;AACV,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4BAA4B;AACrD;AACA,eAAe;AACf,eAAe,+BAA+B;AAC9C,aAAa,2BAA2B;AACxC,eAAe,iBAAiB;AAChC,+BAA+B,qBAAqB;AACpD,IAAI;AACJ;AACA,eAAe,6CAA6C;;AAE5D,qBAAqB;AACrB,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,qCAAqC;AACrC;;AAEA;AACA;AACA,kBAAkB;AAClB;;AAEA;AACA;AACA;AACA;AACA,kCAAkC,QAAQ;AAC1C,OAAO,uBAAuB,0FAA0F,EAAE;AAC1H,GAAG;AACH;AACA;AACA;;AAEA;AACA,4FAA4F;AAC5F;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,wCAAwC;;AAExC;AACA;;AAEA;AACA;AACA;AACA,QAAQ,mBAAmB;AAC3B;AACA;AACA,OAAO;AACP;AACA,2BAA2B;AAC3B;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK,OAAO;AACZ;;AAEA;AACA;AACA;AACA;AACA,aAAa,kDAAkD;AAC/D;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,uBAAuB,wBAAwB,yCAAyC,EAAE;AAC1F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA,0CAA0C,UAAU;AACpD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,gEAAgE;AAChE;AACA;AACA,IAAI,EAAE;AACN;AACA;AACA,gDAAgD,cAAc;AAC9D,OAAO,oCAAoC;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;;AAEA,kBAAkB,+CAA+C;AACjE,eAAe,oDAAoD;AACnE,QAAQ,+BAA+B;AACvC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,KAAK,0BAA0B;;AAE/B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,6BAA6B,+BAA+B;AAC5D;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK,eAAe;AACpB;AACA,KAAK,sCAAsC;AAC3C;AACA,KAAK,gDAAgD;;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,oCAAoC;AAC5D,yBAAyB,+DAA+D;AACxF;AACA;AACA;;AAEA;AACA,YAAY,WAAW;AACvB,0BAA0B;AAC1B,4DAA4D;AAC5D,gCAAgC,6BAA6B;AAC7D,mBAAmB,+CAA+C;AAClE;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA,wBAAwB,iCAAiC,mBAAmB;AAC5E,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAkC,4CAA4C;AAC9E,QAAQ,qBAAqB;AAC7B,mBAAmB;AACnB,+BAA+B,uCAAuC;AACtE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,2BAA2B;;AAEpD;AACA;AACA;;AAEA,gCAAgC,OAAO;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB,OAAO,0BAA0B;AACtE,GAAG;;AAEH;AACA;AACA;;AAEA,wBAAwB,QAAQ;AAChC,OAAO,4BAA4B,cAAc;AACjD;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,mBAAmB;;AAE5C;AACA;;AAEA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA;AACA;AACA,uBAAuB,gCAAgC,qBAAqB;AAC5E,6BAA6B;AAC7B;AACA,OAAO,OAAO,UAAU;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,mBAAmB,0BAA0B,OAAO,oCAAoC;AACxF,GAAG;;AAEH;AACA;;AAEA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;;AAEA,mBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA,wCAAwC;AACxC,+BAA+B;AAC/B;AACA,OAAO,OAAO,UAAU;AACxB;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,gBAAgB,2BAA2B;AAC3C,KAAK,4BAA4B,EAAE,EAAE;AACrC;AACA;AACA;;AAEA;AACA;;AAEA;AACA,0BAA0B;AAC1B,iBAAiB,eAAe,OAAO,uBAAuB,mBAAmB,EAAE;AACnF,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd,sCAAsC,4CAA4C;AAClF;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK,0BAA0B;AAC/B;;AAEA;AACA;AACA;AACA,+BAA+B,gCAAgC;AAC/D;AACA;AACA,kCAAkC,sBAAsB;AACxD,UAAU,uFAAuF;AACjG;AACA;AACA;AACA;AACA,yBAAyB,mCAAmC;AAC5D;AACA;AACA;AACA,GAAG;AACH,WAAW,qGAAqG;AAChH;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAI,iBAAiB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,+BAA+B;AAC/B;AACA,eAAe,oBAAoB;AACnC;AACA;AACA,gBAAgB,kDAAkD;AAClE;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA,kCAAkC,yCAAyC;AAC3E;AACA,4BAA4B,oBAAoB;AAChD,8BAA8B,oBAAoB;AAClD;AACA;AACA;AACA,OAAO,gDAAgD;AACvD;AACA,yDAAyD,kBAAkB,yBAAyB;AACpG;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,4CAA4C,6BAA6B;AACzE;AACA;AACA;AACA;AACA,aAAa,0BAA0B;AACvC;AACA,WAAW,sDAAsD;AACjE,eAAe,kBAAkB;AACjC,oBAAoB,qBAAqB;AACzC;;AAEA,+DAA+D;AAC/D,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA,gDAAgD,UAAU;AAC1D;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,kBAAkB;AAClB;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,+CAA+C;AACxD;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,OAAO,wEAAwE;AAC/E;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA,gCAAgC;;AAEhC;AACA,gBAAgB,iCAAiC;AACjD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qCAAqC,4DAA4D;AACjG,6BAA6B,qCAAqC;AAClE;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK,0BAA0B,uCAAuC,gBAAgB;;AAEtF;AACA;AACA;AACA,OAAO,sBAAsB;AAC7B,mDAAmD,2BAA2B;AAC9E;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,yBAAyB;AACzB,kCAAkC,2BAA2B;AAC7D,GAAG,EAAE;;AAEL,4BAA4B,8CAA8C,uBAAuB,EAAE,EAAE;;AAErG;AACA;AACA;AACA,OAAO,oBAAoB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,+BAA+B;AACvD;AACA,OAAO,uCAAuC;AAC9C;AACA,OAAO,wBAAwB,cAAc,OAAO,8BAA8B,EAAE;AACpF,wBAAwB,0BAA0B;AAClD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,oBAAoB;AACrC,KAAK,4BAA4B;AACjC;;AAEA;AACA;;AAEA,+BAA+B;AAC/B;AACA,iBAAiB,yBAAyB;AAC1C,KAAK,2BAA2B;AAChC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,6CAA6C;AAC9D;AACA,mBAAmB,uBAAuB;AAC1C,OAAO,8BAA8B,SAAS;AAC9C;AACA,GAAG;AACH;AACA;;AAEA;AACA,0FAA0F,iBAAiB,EAAE;AAC7G;;AAEA;AACA,iBAAiB,oBAAoB;A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CjD,YAAY,yBAAyB;AACrC;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,6BAA6B,mBAAmB;AAChD;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA,GAAG;AACH,sCAAsC,gBAAgB,EAAE;;AAExD;AACA;AACA,GAAG;AACH;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,gBAAgB,gBAAgB,kBAAkB;AAClD;AACA;AACA;AACA,SAAS,iDAAiD;AAC1D,KAAK;AACL;AACA,GAAG;AACH;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,kBAAkB,gBAAgB,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA,WAAW,+CAA+C;AAC1D,OAAO;AACP;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,gBAAgB,gBAAgB,gBAAgB;AAChD,SAAS,2BAA2B,6BAA6B,EAAE,EAAE;AACrE,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA,oDAAoD;AACpD;AACA,wDAAwD;AACxD;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,mBAAmB,cAAc;AACjC;AACA,sDAAsD,qBAAqB;AAC3E,gDAAgD,iBAAiB;AACjE;AACA,6BAA6B;AAC7B,KAAK,EAAE,0CAA0C,0CAA0C;AAC3F,oBAAoB,0DAA0D;AAC9E;AACA;AACA,GAAG;AACH;AACA;;AAEA,wCAAwC,mBAAmB;AAC3D,sBAAsB,gBAAgB,wBAAwB;AAC9D;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,wCAAwC,8BAA8B,EAAE;AACxE;AACA;AACA;AACA;AACA,GAAG;AACH,+BAA+B,qBAAqB;;AAEpD,uBAAuB,iBAAiB;AACxC,yBAAyB,eAAe;;AAExC;AACA,uBAAuB;AACvB;AACA,GAAG;AACH,6BAA6B,8BAA8B;;AAE3D;AACA,uBAAuB,aAAa;AACpC,gCAAgC;AAChC;AACA,+BAA+B,0BAA0B,EAAE;AAC3D,kBAAkB,2BAA2B;AAC7C,GAAG;AACH,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,WAAW,sBAAsB;AACjC;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,kCAAkC,EAAE,kBAAkB,cAAc;AACpE;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,mBAAmB,OAAO,OAAO,uBAAuB;AACxD,GAAG,OAAO;AACV;AACA;AACA;AACA;AACA,8BAA8B,iCAAiC,EAAE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gCAAgC;AAC3C;AACA,uBAAuB,kBAAkB,uBAAuB;AAChE,WAAW,4EAA4E,EAAE;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qEAAqE,WAAW;AAChF,8DAA8D;;AAE9D;AACA;;AAEA;AACA;AACA;AACA,sDAAsD,SAAS,QAAQ;AACvE,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iCAAiC;AAClD;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yCAAyC;AACzC;AACA,iBAAiB,oBAAoB;AACrC;AACA,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA,KAAK,OAAO;AACZ,GAAG;AACH;AACA,kCAAkC,kCAAkC,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,mBAAmB;AACnB;AACA;AACA;;AAEA;AACA,eAAe,QAAQ,OAAO,iDAAiD;AAC/E;AACA,kBAAkB,WAAW,SAAS,0CAA0C;AAChF;AACA,iBAAiB,WAAW,SAAS,yDAAyD;;AAE9F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA,sCAAsC,YAAY;AAClD,qCAAqC,YAAY;AACjD,+CAA+C,aAAa;AAC5D,uCAAuC,cAAc;AACrD,UAAU;AACV;AACA,YAAY,sBAAsB;AAClC,aAAa,uBAAuB;AACpC,YAAY,sBAAsB;AAClC,cAAc,wBAAwB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA,2DAA2D;AAC3D,yBAAyB,wBAAwB;;AAEjD;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,kBAAkB,kBAAkB;AACpC,6BAA6B;AAC7B;AACA;AACA,GAAG;AACH,0BAA0B,2BAA2B;AACrD;AACA;;AAEA;AACA;AACA;AACA,wBAAwB;AACxB,wBAAwB;AACxB,uCAAuC;;AAEvC;AACA;AACA,OAAO;AACP,mBAAmB,+BAA+B;AAClD;AACA,mBAAmB;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC,sBAAsB;AAC5D,wEAAwE,uBAAuB;AAC/F,uEAAuE,sBAAsB;AAC7F,sDAAsD,wBAAwB;AAC9E;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;AACA,0CAA0C;AAC1C;AACA;AACA,yCAAyC,mBAAmB;AAC5D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,QAAQ;AACzC,OAAO,+DAA+D;AACtE;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,2DAA2D,EAAE;AACnG,iCAAiC,wCAAwC;AACzE,OAAO,OAAO,oCAAoC;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gCAAgC,wEAAwE;AACxG;AACA;AACA,mCAAmC,SAAS,gCAAgC;AAC5E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oDAAoD;AACpD;AACA,yCAAyC;;AAEzC,UAAU,uCAAuC;AACjD;AACA;AACA;AACA,4CAA4C;AAC5C;AACA,wEAAwE;AACxE;AACA;;AAEA;AACA;AACA,YAAY;;AAEZ;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC,sFAAsF,EAAE;AAC1H,2BAA2B;AAC3B;AACA;AACA;AACA,SAAS,SAAS,kDAAkD;AACpE;AACA,SAAS,SAAS,gDAAgD;AAClE,KAAK;AACL,cAAc;AACd;AACA,GAAG,EAAE,EAAE;AACP,6BAA6B,kDAAkD;AAC/E;AACA;AACA,GAAG,EAAE,EAAE,EAAE,EAAE;AACX,8BAA8B,kDAAkD;AAChF;AACA,GAAG,EAAE,EAAE,EAAE,EAAE;AACX,qCAAqC;AACrC;AACA,iCAAiC,kBAAkB;AACnD,YAAY;AACZ,GAAG,EAAE,EAAE;AACP,sCAAsC;AACtC;AACA,kCAAkC,qDAAqD;AACvF,YAAY;AACZ,GAAG,EAAE,EAAE;AACP,uBAAuB,kBAAkB,EAAE;AAC3C,uBAAuB,kBAAkB,EAAE;AAC3C,gCAAgC,2BAA2B,EAAE;AAC7D,gCAAgC,2BAA2B,EAAE;AAC7D,6BAA6B,mDAAmD,EAAE;AAClF,2BAA2B,+CAA+C,EAAE;AAC5E,8BAA8B,gDAAgD,uCAAuC,EAAE;AACvH,KAAK;AACL,IAAI,EAAE;AACN,mCAAmC,gDAAgD,uCAAuC,EAAE;AAC5H,KAAK;AACL,IAAI,EAAE;AACN,4BAA4B,gDAAgD,qCAAqC,EAAE;AACnH,KAAK;AACL,IAAI,EAAE;AACN,8BAA8B;AAC9B;AACA,0BAA0B,qDAAqD;AAC/E,GAAG,YAAY,EAAE;AACjB,6BAA6B;AAC7B;AACA,0BAA0B,kBAAkB;AAC5C,GAAG,YAAY,EAAE;AACjB,kCAAkC;AAClC;AACA,6BAA6B,kBAAkB;AAC/C,qDAAqD;AACrD;AACA,GAAG,YAAY,EAAE;AACjB,2BAA2B,6BAA6B,EAAE;AAC1D,6BAA6B,4BAA4B,EAAE;AAC3D,2BAA2B,6BAA6B,EAAE;AAC1D,6BAA6B,4BAA4B,EAAE;AAC3D,6BAA6B,6BAA6B,EAAE;AAC5D,8BAA8B,4BAA4B,EAAE;AAC5D,+BAA+B,+BAA+B,EAAE;AAChE,gCAAgC,8BAA8B,EAAE;AAChE,6BAA6B,6BAA6B,EAAE;AAC5D,+BAA+B,6BAA6B,EAAE;AAC9D,8BAA8B,8BAA8B,EAAE;AAC9D,8BAA8B,4BAA4B,EAAE;AAC5D,gCAAgC,+BAA+B,EAAE;AACjE,+BAA+B,8BAA8B,EAAE;AAC/D,gCAAgC,+BAA+B,EAAE;AACjE,+BAA+B,8BAA8B,EAAE;AAC/D,iCAAiC,gCAAgC,EAAE;AACnE,gCAAgC,+BAA+B,EAAE;AACjE,6BAA6B,oCAAoC,EAAE;AACnE,6BAA6B,kCAAkC,EAAE;AACjE,6BAA6B,uCAAuC,EAAE;AACtE,4BAA4B,kCAAkC,EAAE;AAChE;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,iCAAiC,2BAA2B;AAC5D,UAAU,6BAA6B;AACvC,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA,mBAAmB,mBAAmB;AACtC,+BAA+B;AAC/B;AACA;AACA,oCAAoC,qCAAqC;AACzE;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,EAAE,EAAE;AACP,mCAAmC;AACnC;AACA,iCAAiC,QAAQ;AACzC,OAAO,iFAAiF;AACxF;AACA,qBAAqB,mBAAmB;AACxC,OAAO,kDAAkD;AACzD;AACA,GAAG,EAAE,EAAE;AACP,2BAA2B,2CAA2C,EAAE;AACxE,kCAAkC,6BAA6B;AAC/D;;;AAGA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,+BAA+B;AACzD,oBAAoB,0BAA0B;AAC9C;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,6BAA6B;AAC9C;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,OAAO,wBAAwB;AAC/B;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO,EAAE;AACT,4DAA4D;AAC5D;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK,wBAAwB;AAC7B;AACA,KAAK,4CAA4C;;AAEjD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAc;;AAEd;AACA;AACA;AACA;AACA,6DAA6D,qCAAqC,EAAE;AACpG;AACA;AACA,gBAAgB;AAChB,YAAY;AACZ,GAAG;AACH,kDAAkD,+BAA+B,EAAE;AACnF;AACA;;AAEA;AACA;AACA,0DAA0D,qCAAqC,EAAE;AACjG;;AAEA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,iDAAiD,uBAAuB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,sCAAsC;AAC7C;;AAEA;AACA;AACA,KAAK,mBAAmB;AACxB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,4BAA4B;AACpD;AACA;;AAEA;AACA;AACA,4GAA4G;AAC5G;AACA,4CAA4C,sBAAsB,qBAAqB;AACvF,0EAA0E;AAC1E;AACA;AACA,qBAAqB;AACrB,qCAAqC;AACrC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sFAAsF;AACtF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8BAA8B,0CAA0C,EAAE;AAC1E;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;;AAEA;AACA;AACA,KAAK,2BAA2B;;AAEhC,8DAA8D;;AAE9D;AACA,cAAc,oCAAoC;AAClD,+CAA+C,qBAAqB;AACpE,GAAG;AACH,cAAc,8BAA8B;AAC5C,4BAA4B,8BAA8B,EAAE;AAC5D,GAAG;AACH,4BAA4B,sBAAsB;AAClD,UAAU,oBAAoB;AAC9B;AACA;;AAEA;AACA;AACA,2BAA2B,wBAAwB;AACnD,gCAAgC,wBAAwB;AACxD;;AAEA;AACA,mCAAmC,yBAAyB;AAC5D,iBAAiB;AACjB;AACA;AACA,4BAA4B,+BAA+B;AAC3D;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,gDAAgD;AAC9F,6BAA6B,oDAAoD;AACjF,iCAAiC,0DAA0D;AAC3F;AACA;;AAEA;AACA,WAAW,sCAAsC;AACjD,QAAQ,8BAA8B;;AAEtC;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK,+CAA+C;AACpD;AACA,KAAK,4CAA4C;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oCAAoC;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,2DAA2D;AACpE;AACA;AACA,SAAS,yBAAyB,2CAA2C,wBAAwB,MAAM;AAC3G;AACA,SAAS,uBAAuB;AAChC;AACA,GAAG;AACH;AACA;AACA;AACA,+BAA+B,qBAAqB;AACpD;AACA,eAAe,mCAAmC;AAClD;AACA;AACA;AACA,kCAAkC,6BAA6B;AAC/D;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,8BAA8B,EAAE;AAC1D;;AAEA;AACA,uBAAuB;AACvB,uBAAuB;AACvB,uBAAuB;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,6BAA6B;AACpC;AACA,OAAO,oCAAoC;AAC3C,GAAG;AACH;AACA;AACA;;AAEA;AACA,2BAA2B,oCAAoC;AAC/D;AACA;AACA,GAAG;AACH;AACA;AACA,OAAO,mFAAmF;AAC1F;AACA,OAAO,qBAAqB;AAC5B;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,kBAAkB,gCAAgC;AAClD,GAAG;AACH;AACA,kBAAkB,gCAAgC;AAClD;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,iCAAiC;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,WAAW,gEAAgE;AAC3E;AACA,WAAW,yFAAyF;AACpG;AACA,2BAA2B,sCAAsC;AACjE;AACA,oBAAoB,gCAAgC;AACpD;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,SAAS,uCAAuC,0BAA0B,WAAW,GAAG,QAAQ;AAChG,KAAK;AACL;AACA,oBAAoB;AACpB,kCAAkC;AAClC;AACA;AACA,OAAO,OAAO;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C,SAAS;AACnD,UAAU,WAAW;AACrB,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA,eAAe;AACf;AACA,uDAAuD;AACvD;AACA,kDAAkD;;AAElD;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,OAAO,oBAAoB;AAC3B;AACA,OAAO,oBAAoB;AAC3B;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,SAAS,gBAAgB,gBAAgB;AACzC,cAAc;AACd;AACA,2EAA2E;AAC3E,gBAAgB,qBAAqB;;AAErC;AACA;;AAEA,qDAAqD;AACrD;;AAEA,iBAAiB,+BAA+B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,mEAAmE;AACnE,6CAA6C;AAC7C;AACA;;AAEA;AACA,6CAA6C;AAC7C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,YAAY,qBAAqB;;AAEjC;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB,2CAA2C,kBAAkB,sBAAsB,GAAG,UAAU;AAChG;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,0CAA0C,yBAAyB,EAAE;AACrE;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,eAAe;AACf;AACA;AACA,wBAAwB;AACxB;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,KAAK;AACL,sCAAsC,QAAQ;AAC9C,OAAO,+FAA+F;AACtG,GAAG;AACH;AACA;AACA,sBAAsB,cAAc;AACpC,GAAG;AACH,iFAAiF,qBAAqB,EAAE;AACxG;AACA;AACA;AACA,GAAG;AACH,kDAAkD,4CAA4C,EAAE;AAChG;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,8BAA8B,uBAAuB;AACrD,sBAAsB,+BAA+B;AACrD,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH,6DAA6D,6BAA6B,EAAE;AAC5F;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,oDAAoD,gBAAgB,EAAE;AACtE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,oDAAoD,WAAW,0BAA0B,GAAG;AAC5F;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,uCAAuC,EAAE;AACxF;AACA,8CAA8C,qBAAqB,EAAE;AACrE;AACA;AACA,eAAe,kCAAkC;AACjD,GAAG;;AAEH,+CAA+C,yDAAyD,EAAE;AAC1G;AACA,iDAAiD,iCAAiC,EAAE;AACpF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,6BAA6B,EAAE;AACzD;;AAEA;AACA;;AAEA;AACA;;AAEA,wCAAwC;;AAExC;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,kFAAkF;AACjH,0BAA0B,+BAA+B;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,sDAAsD;AAC3D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC,uBAAuB;;AAE5D;AACA;AACA,8BAA8B,yBAAyB,yCAAyC,EAAE,MAAM;;AAExG;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK,qCAAqC;AAC1C;AACA,KAAK,cAAc;;AAEnB,mCAAmC;AACnC,KAAK,iDAAiD,EAAE;AACxD;AACA,2BAA2B,0BAA0B;AACrD,iBAAiB,sBAAsB,OAAO,sBAAsB;AACpE;AACA;AACA;AACA;AACA;AACA,KAAK,8CAA8C;AACnD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,kCAAkC;AAClC;AACA,yEAAyE;AACzE;AACA;AACA;AACA,KAAK,GAAG;AACR;AACA,KAAK,0CAA0C,qDAAqD,EAAE,EAAE;AACxG;AACA;AACA;AACA,2BAA2B,6CAA6C,6BAA6B,EAAE,EAAE;;AAEzG;AACA,kCAAkC;AAClC;AACA;AACA,8CAA8C,6BAA6B,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,wBAAwB,4BAA4B;AACpD,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,6BAA6B;AACtC;AACA,SAAS,4BAA4B;AACrC;AACA,SAAS,4EAA4E;AACrF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,6CAA6C,6BAA6B,EAAE;AAC5E,iDAAiD,6BAA6B,EAAE;;AAEhF;AACA,uCAAuC,uDAAuD,EAAE;;AAEhG;AACA,yBAAyB,6BAA6B,WAAW,GAAG;AACpE,wBAAwB,6BAA6B,mBAAmB,WAAW,GAAG;AACtF,yBAAyB,2BAA2B,EAAE;AACtD;AACA,yBAAyB,6BAA6B,qBAAqB;AAC3E;;AAEA;AACA,iCAAiC,4BAA4B,EAAE;AAC/D;AACA;AACA,iCAAiC,uBAAuB,EAAE;AAC1D,gCAAgC,sBAAsB,EAAE;AACxD;;AAEA;AACA,4CAA4C,0BAA0B;;AAEtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,aAAa;AACjC;AACA;AACA;AACA,2BAA2B,cAAc;AACzC,UAAU,uCAAuC;AACjD;;AAEA;AACA;AACA,wBAAwB,wBAAwB;AAChD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA,wBAAwB,kEAAkE;AAC1F,UAAU,iBAAiB;AAC3B,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,KAAK,gDAAgD,GAAG,OAAO,eAAe,uBAAuB;AACrG,0BAA0B,6CAA6C;;AAEvE;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B,+BAA+B;AACzD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,eAAe;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,4BAA4B;AACnD,WAAW,qDAAqD;AAChE;AACA,KAAK;AACL,gDAAgD,YAAY,EAAE;AAC9D;AACA;;AAEA;AACA;AACA,uCAAuC,UAAU;AACjD;AACA;AACA;AACA;AACA,SAAS,0CAA0C;AACnD;AACA,SAAS,+FAA+F;AACxG;AACA,SAAS,+BAA+B;AACxC;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,KAAK,+BAA+B;;AAEpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,0BAA0B,qDAAqD,EAAE,EAAE;AAC1F;AACA;AACA;;AAEA;AACA;AACA,6DAA6D;AAC7D;;AAEA,qCAAqC,QAAQ;AAC7C;AACA,6FAA6F;AAC7F;AACA;AACA;AACA,qBAAqB,+BAA+B;AACpD,SAAS;AACT;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,SAAS,wDAAwD;AACjE;AACA,mBAAmB,0DAA0D;AAC7E;AACA;;AAEA;AACA;AACA,iBAAiB,8BAA8B;AAC/C;AACA,qBAAqB;AACrB;AACA;AACA;AACA,UAAU;AACV;;AAEA;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ACA;AACA;AACA;AACA,SAAS,2BAA2B;AACpC;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,8BAA8B,qCAAqC;AACnE,kCAAkC,4BAA4B;AAC9D,mCAAmC,6BAA6B;AAChE,iCAAiC;AACjC;AACA;;AAEA;AACA,wCAAwC,qCAAqC,aAAa;AAC1F;AACA;AACA;AACA;AACA,gCAAgC,4BAA4B;AAC5D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS,2DAA2D;AACpE;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,2BAA2B;AAC3B,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA,qCAAqC,YAAY;AACjD;AACA,sBAAsB,QAAQ,YAAY;AAC1C;AACA;;AAEA,iBAAiB,gBAAgB;AACjC,yCAAyC;AACzC;AACA;AACA;AACA,uCAAuC,uBAAuB;AAC9D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA,SAAS;AACT;AACA,0BAA0B;AAC1B,6CAA6C,uBAAuB;AACpE;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sDAAsD;AACtD;AACA,2BAA2B,uCAAuC,+BAA+B,EAAE,OAAO;AAC1G,GAAG;;AAEH;AACA,wBAAwB;AACxB,GAAG;AACH;AACA,4BAA4B,qBAAqB,2BAA2B;AAC5E,GAAG;AACH;AACA;AACA,4CAA4C,0BAA0B;AACtE;AACA;AACA,GAAG;;AAEH,qCAAqC,oCAAoC,EAAE;;AAE3E;AACA,4BAA4B,0BAA0B;AACtD,GAAG;;AAEH;AACA,gCAAgC;AAChC;AACA,qBAAqB,0CAA0C;AAC/D,4BAA4B,sCAAsC;AAClE,KAAK;AACL;AACA,KAAK;AACL;AACA,qBAAqB,kCAAkC;AACvD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,8BAA8B;AAC1D,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8CAA8C;AAC9C,gCAAgC,6BAA6B;AAC7D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;;AAEA;AACA,OAAO,6DAA6D;AACpE,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,wCAAwC,mBAAmB;AAC3D,qBAAqB,yBAAyB;AAC9C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,kCAAkC,gDAAgD,EAAE,EAAE;AAC7F,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,uCAAuC;AACvC,qCAAqC;AACrC;;AAEA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO,mDAAmD;AAC1D;AACA;AACA;AACA,mDAAmD,iBAAiB;AACpE,uDAAuD;;AAEvD,4DAA4D;;AAE5D;AACA;AACA;AACA,KAAK,sBAAsB;AAC3B;AACA,KAAK,+BAA+B,+CAA+C,EAAE,EAAE;;AAEvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,oFAAoF;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,sDAAsD;AACpF;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,uBAAuB;AACvB;AACA,iCAAiC,kCAAkC;AACnE,GAAG,EAAE;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK,kEAAkE;AACvE;AACA,KAAK,0BAA0B;AAC/B,qEAAqE;;AAErE;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;AACA;AACA,uCAAuC,eAAe,eAAe,UAAU;AAC/E,wCAAwC,iBAAiB,iBAAiB,YAAY;AACtF,UAAU;AACV;;AAEA;AACA;AACA;AACA,KAAK,YAAY;AACjB;AACA;AACA;AACA;AACA;AACA,KAAK,UAAU;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC;AACpC;AACA;AACA;AACA,kCAAkC,yBAAyB;AAC3D,YAAY;AACZ;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA,KAAK,+BAA+B,6BAA6B,EAAE,EAAE;AACrE;;AAEA;AACA;AACA;;AAEA;AACA,0CAA0C;AAC1C;AACA;AACA,KAAK,kHAAkH;AACvH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,6BAA6B;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,MAAM;AAC7B,KAAK,wDAAwD,cAAc;AAC3E;AACA;;AAEA,2BAA2B,WAAW,gBAAgB,EAAE;;AAExD;AACA;AACA,gCAAgC,2BAA2B,wBAAwB,EAAE;AACrF;AACA;AACA;AACA,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,uEAAuE;AAClF;AACA;AACA,4DAA4D;AAC5D;AACA,yEAAyE;;AAEzE,oBAAoB,SAAS;AAC7B,qBAAqB,4BAA4B;AACjD,SAAS,0BAA0B;;AAEnC,6CAA6C,uBAAuB;AACpE,oBAAoB,gBAAgB;AACpC,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,gBAAgB;AAChB,GAAG;AACH,0BAA0B;AAC1B,wDAAwD;AACxD,6EAA6E;AAC7E;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,oCAAoC;AACrD;AACA,yCAAyC,8BAA8B;AACvE;;AAEA;AACA,oBAAoB,8BAA8B;AAClD;AACA,qBAAqB,mBAAmB;AACxC;AACA;AACA;AACA;AACA,kDAAkD,mCAAmC;AACrF;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd;AACA,iGAAiG,OAAO;AACxG;AACA;AACA,OAAO;AACP;AACA,OAAO,kCAAkC;AACzC;AACA,6DAA6D,QAAQ;AACrE;AACA;AACA,OAAO;AACP;AACA,OAAO,qCAAqC;AAC5C;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,YAAY,wBAAwB;;AAEpC;AACA,uDAAuD,4BAA4B;AACnF;AACA,GAAG;;AAEH;AACA,sDAAsD;;AAEtD;AACA;AACA,GAAG;;AAEH;AACA,gCAAgC;AAChC;AACA,qBAAqB,0CAA0C;AAC/D,KAAK;AACL;AACA,KAAK;AACL;AACA,qBAAqB,kCAAkC;AACvD;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,0BAA0B,6BAA6B;AACvD;AACA;AACA;;AAEA;AACA,6DAA6D;AAC7D;AACA;AACA,GAAG;;AAEH;AACA;AACA,qCAAqC,qBAAqB;AAC1D,GAAG;;AAEH;AACA;AACA,0BAA0B,+BAA+B;AACzD;AACA;AACA,qDAAqD,kCAAkC;AACvF;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA,2BAA2B,4BAA4B;AACvD,gCAAgC,6BAA6B;AAC7D,GAAG;AACH;AACA,gCAAgC,0BAA0B;AAC1D;AACA;;AAEA,gDAAgD;;AAEhD,qDAAqD;;AAErD;AACA;AACA,SAAS,uBAAuB;AAChC,gBAAgB;AAChB;AACA;;AAEA,4CAA4C,sBAAsB;;AAElE;AACA;AACA;;AAEA,qDAAqD,iBAAiB;;AAEtE;AACA;AACA;AACA;;AAEA,yBAAyB;AACzB;AACA;AACA,kCAAkC,mBAAmB;AACrD,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,cAAc;AAC5C,UAAU,0BAA0B;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,sBAAsB;AAC9D,0BAA0B,cAAc;AACxC;AACA;AACA;AACA,2EAA2E,QAAQ;;AAEnF;AACA;AACA;;AAEA;AACA,wDAAwD,qCAAqC;AAC7F,UAAU,yBAAyB;;AAEnC;AACA;AACA;AACA,0CAA0C,kCAAkC;AAC5E;AACA,GAAG;AACH;AACA;;AAEA;AACA,wCAAwC,0BAA0B;AAClE;;AAEA;AACA,8BAA8B,0BAA0B;AACxD;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,SAAS;;AAEhC;AACA;AACA;AACA;AACA,KAAK,2EAA2E;;AAEhF;AACA;AACA;AACA,yCAAyC,aAAa,cAAc,wDAAwD,mDAAmD,sBAAsB,uEAAuE,sBAAsB,iBAAiB,eAAe,kBAAkB,cAAc,0BAA0B;AAC5X;AACA,eAAe,6BAA6B,EAAE;AAC9C;AACA,eAAe,mCAAmC;AAClD;AACA;AACA,gCAAgC,kCAAkC;AAClE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,yEAAyE;;AAExG;AACA;AACA,0CAA0C,wBAAwB;AAClE;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8BAA8B,wBAAwB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,aAAa,cAAc;AAC3B;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK,sCAAsC;AAC3C;AACA,KAAK,4CAA4C;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C;AACA;AACA;;AAEA;AACA,yCAAyC,qEAAqE,EAAE;AAChH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,iCAAiC;AACjC,GAAG;AACH,uBAAuB;AACvB,GAAG,uBAAuB,EAAE;;AAE5B;;AAEA;;AAEA,4BAA4B;;AAE5B;;AAEA;AACA;AACA;AACA;AACA,sDAAsD,mCAAmC;AACzF;AACA;;AAEA;;AAEA;AACA,6CAA6C,UAAU,0BAA0B,2BAA2B,GAAG,EAAE,EAAE;AACnH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,CAAC;;;;;;;;;;;;AC/9SD;AACA;;AAEA;AACA;AACA;AACA,SAGA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA,0BAA0B;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C,sCAAsC;AACtC,0CAA0C;AAC1C,sDAAsD;AACtD,kDAAkD;AAClD,sCAAsC;AACtC,sCAAsC;AACtC;AACA;AACA;AACA;AACA,oEAAoE,MAAM;AAC1E;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,yBAAyB,aAAa;AACpE;AACA;AACA;AACA;;AAEA,uBAAuB;AACvB;AACA,4BAA4B,yCAAyC;AACrE;AACA;AACA,4BAA4B;AAC5B;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,gCAAgC,wCAAwC;AACxE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C,kDAAkD;AAClD;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL,+DAA+D,EAAE,IAAI,cAAc;AACnF;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,gBAAgB;AAChB,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,oBAAoB;AACjD;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4CAA4C,KAAK;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,kBAAkB;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,+BAA+B;AAC3C,gBAAgB;AAChB,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,kCAAkC;AAClC;AACA;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,gBAAgB;AAChB,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,yBAAyB;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,gBAAgB,gBAAgB;AAChC,GAAG;;AAEH;AACA;AACA;AACA;AACA,8DAA8D,WAAW;AACzE,kDAAkD,WAAW;AAC7D;AACA,qDAAqD;AACrD,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,kCAAkC;AAClC;AACA,4DAA4D;AAC5D;AACA,gCAAgC;AAChC;AACA,uCAAuC;AACvC;AACA;AACA,KAAK;AACL,gBAAgB,gBAAgB;AAChC,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,aAAa;AACzB,gBAAgB;AAChB,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,aAAa;AACzB,gBAAgB;AAChB,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL,gBAAgB;AAChB,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,aAAa;AACzB,gBAAgB;AAChB,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,+BAA+B,MAAM;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,wBAAwB;AACxB;AACA,GAAG;;AAEH,CAAC;;;;;;;;;;;;ACj0BD;AACA;;;;;;;;;;;;ACDA;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA;AACA,oJAAwF;AACxF;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACdA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,YAAY,eAAe;AAChC;AACA,KAAK;AACL;AACA;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,eAAe;AACzB;AACA;AACA;AACA,wCAAwC;AACxC;AACA,8BAA8B;AAC9B,6BAA6B;AAC7B,+BAA+B;AAC/B,mCAAmC;AACnC,SAAS,iCAAiC;AAC1C;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3CA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,sCAAsC;AAC9C;AACA;AACA;AACA;;;;;;;;;;;;AC3BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACfA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B,SAAS;AACpC;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA,2BAA2B,kBAAkB,EAAE;;AAE/C;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtBA,iBAAiB;;AAEjB;AACA;AACA;;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,6BAA6B;AAC7B,0BAA0B;AAC1B,0BAA0B;AAC1B,qBAAqB;AACrB;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,8EAA8E,OAAO;AACrF;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC,qBAAqB;AACrB,0BAA0B;AAC1B,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;;;;;;;;;;;AC/IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,qBAAqB;AACrB,0BAA0B;AAC1B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;;;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO,mCAAmC,gCAAgC,aAAa;AACvF,8BAA8B,mCAAmC,aAAa;AAC9E;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,qDAAqD;AACrD;AACA,kDAAkD,iBAAiB,EAAE;AACrE;AACA,wDAAwD,aAAa,EAAE,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;;;;ACpFA,6BAA6B;AAC7B,uCAAuC;;;;;;;;;;;;;ACDvC;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACzBD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA,iCAAiC,QAAQ,mBAAmB,UAAU,EAAE,EAAE;AAC1E,CAAC;;;;;;;;;;;;ACHD;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF,uBAAuB;AACzG,iEAAiE;AACjE,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,cAAc;AACd,cAAc;AACd,cAAc;AACd,eAAe;AACf,eAAe;AACf,eAAe;AACf,gBAAgB;AAChB;;;;;;;;;;;;AC1CA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK,YAAY;AACjB,GAAG;AACH;;;;;;;;;;;;ACXA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,UAAU;AACvC;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,gCAAgC,qCAAqC;AACrE;AACA;AACA,2BAA2B,gCAAgC;AAC3D;AACA;AACA;;;;;;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,iBAAiB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA,mEAAmE,gBAAgB;AACnF;AACA;AACA,GAAG,4CAA4C,gCAAgC;AAC/E;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA,yCAAyC;;;;;;;;;;;;ACLzC,uBAAuB;AACvB;AACA;AACA;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;;;;;;;;;;;ACPA;AACA;;;;;;;;;;;;ACDA;AACA,wIAAsE,mBAAmB,UAAU,EAAE,EAAE;AACvG,CAAC;;;;;;;;;;;;ACFD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AACA;AACA;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;;AAEA;AACA,yMAAkF,aAAa,EAAE;;AAEjG;AACA,qDAAqD,4BAA4B;AACjF;AACA;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;;AAEA,8BAA8B,aAAa;;AAE3C;AACA;AACA;AACA;AACA;AACA,yCAAyC,oCAAoC;AAC7E,6CAA6C,oCAAoC;AACjF,KAAK,4BAA4B,oCAAoC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA,kCAAkC,2BAA2B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;;;;ACrEA;AACA;;AAEA;AACA;AACA,iCAAiC,qBAAqB;AACtD;AACA,iCAAiC,SAAS,EAAE;AAC5C,CAAC,YAAY;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,SAAS,qBAAqB;AAC3D,iCAAiC,aAAa;AAC9C;AACA,GAAG,YAAY;AACf;AACA;;;;;;;;;;;;ACrBA;AACA,UAAU;AACV;;;;;;;;;;;;ACFA;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACTD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD,CAAC;AACD;AACA,qBAAqB;AACrB;AACA,SAAS;AACT,GAAG,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,gBAAgB,EAAE;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uCAAuC,sBAAsB,EAAE;AAC/D;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;ACnEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,UAAU,EAAE;AAChD,mBAAmB,sCAAsC;AACzD,CAAC,qCAAqC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;;;;;ACjCD;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;;;ACxCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;;;;;;;;;;;;ACfA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;AClBA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;ACNA;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACZA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChBA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;ACNA,cAAc;;;;;;;;;;;;ACAd;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,qDAAqD,OAAO,EAAE;AAC9D;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACTA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACPD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;AACA,YAAY;AACZ,GAAG;AACH,YAAY;AACZ;AACA;;;;;;;;;;;;ACNA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;;;;;;;;;;;;AC9BD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,GAAG,EAAE;AACL;;;;;;;;;;;;;AC3BA;AACA;AACA;;AAEA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,GAAG,EAAE;AACL;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA,OAAO,YAAY,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,GAAG;AACR;AACA;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC,GAAG;AACH;;;;;;;;;;;;ACZA;AACA;AACA;;AAEA;AACA,oEAAoE,iCAAiC;AACrG;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA,kDAAkD;AAClD;AACA,uCAAuC;AACvC;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC,cAAc;AACvD,GAAG;AACH;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChBA,sBAAsB;AACtB;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;AClBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACfA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ,MAAM;AACd;AACA;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC7BA;AACA;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA,4BAA4B;AAC5B,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,mBAAmB,0BAA0B,EAAE,EAAE;AAClE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,gCAAgC;AACzF;AACA,OAAO;AACP;AACA;AACA,6EAA6E,YAAY;AACzF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yDAAyD,6CAA6C,EAAE;;AAExG;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,mDAAmD;AACnD;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,oCAAoC;AACpC;AACA,KAAK;AACL,wEAAwE;AACxE;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,8DAA8D;AAC9D;AACA,KAAK;AACL,wEAAwE;AACxE;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH,yBAAyB,sBAAsB,EAAE,EAAE;AACnD;AACA;AACA;AACA;;AAEA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,sBAAsB,0BAA0B;AAChD,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,yBAAyB;AACzB,KAAK;AACL,uBAAuB;AACvB,2BAA2B;AAC3B,0BAA0B;AAC1B,2BAA2B;AAC3B,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,aAAa;AACvC,OAAO;AACP;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL,uDAAuD,6BAA6B,EAAE;AACtF;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA,uDAAuD,YAAY;;AAEnE;;AAEA;;AAEA;AACA;AACA,KAAK,UAAU,gBAAgB;;AAE/B;AACA;AACA,KAAK;AACL;AACA,KAAK,WAAW,kCAAkC;;AAElD;AACA;AACA;AACA,CAAC,oCAAoC;;;;;;;;;;;;;AC/drC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,QAAQ,WAAW;AACnB;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,WAAW;AACnB;AACA;AACA;AACA,QAAQ,WAAW;AACnB;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,mBAAmB,uBAAuB,EAAE,EAAE;AACvE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,WAAW;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA,GAAG;AACH,yBAAyB;AACzB,GAAG;AACH,uBAAuB;AACvB,0BAA0B;AAC1B,0BAA0B;AAC1B;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,iDAAiD,iBAAiB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;;AAEA;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,sBAAsB;AAChF,kFAAkF,wBAAwB;AAC1G;;;;;;;;;;;;ACRA;;;;;;;;;;;;ACAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AACA;AACA,mHAAmD;;AAEnD,8BAA8B,8BAA8B,gBAAgB,EAAE,EAAE;;;;;;;;;;;;ACJhF;AACA;;AAEA,6BAA6B,uHAA8C;;AAE3E;;;;;;;;;;;;;ACLA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACTD;AACA;;AAEA,6BAA6B,mGAAiC;;AAE9D;;;;;;;;;;;;;ACLA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACTD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,gBAAgB,EAAE;AAC5D;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,gBAAgB,EAAE;AAC5D;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACbA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACVD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+IAA4E,kBAAkB,EAAE;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,gCAAgC;AACvF;AACA;AACA,KAAK;AACL;AACA,kCAAkC,gBAAgB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACpCD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACdD;AACA;;AAEA,6BAA6B,kGAAkC;;;;;;;;;;;;;ACH/D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,cAAc;AACd,iBAAiB;AACjB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACXD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,WAAW;AACrB;AACA;AACA,CAAC;;;;;;;;;;;;;ACrBD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACTD;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;AClBD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACTD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACTD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,UAAU;AACpB;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;AC3BD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACTD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACtBD;;;;;;;;;;;;ACAA;AACA;;AAEA,4BAA4B,mBAAmB,6BAA6B,EAAE,EAAE;;;;;;;;;;;;ACHhF;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACPD;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,2BAA2B,UAAU,EAAE,EAAE;AAC5E,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACfD;AACA;;AAEA;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACXA;AACA;;AAEA,gCAAgC,uFAA2B;;;;;;;;;;;;;ACH3D;AACA;AACA;AACA;AACA;AACA;AACA,+JAA8F;AAC9F;AACA;AACA;AACA;AACA;AACA,CAAC,EAAE;;;;;;;;;;;;ACZH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACfD;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAyB,mEAAmE;AAC5F,CAAC;AACD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;AClBD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACjBD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yEAAyE,eAAe;;;;;;;;;;;;ACTxF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACTD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACPD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;AACA;;AAEA,iEAAiE,gBAAgB;;;;;;;;;;;;ACJjF;AACA;;AAEA,4BAA4B,uGAAoC;;;;;;;;;;;;ACHhE;AACA;AACA;;AAEA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACxBD;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;AChBD;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACPD;AACA;;AAEA,4BAA4B,oGAAkC;;;;;;;;;;;;ACH9D;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACPD;AACA;;AAEA,4BAA4B,iGAAgC;;;;;;;;;;;;ACH5D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACdD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACXD;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACPD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD,KAAK;AACL;AACA,oCAAoC,cAAc,OAAO;AACzD,qCAAqC,cAAc,OAAO;AAC1D;AACA;AACA,oEAAoE,OAAO;AAC3E;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpEA;AACA;;AAEA,8BAA8B,4BAA4B;;;;;;;;;;;;ACH1D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;;AAEA,8BAA8B,wGAAsC;;;;;;;;;;;;ACHpE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACTD;AACA;;AAEA,8BAA8B,qCAAqC;;;;;;;;;;;;ACHnE;AACA;;AAEA,8BAA8B,sCAAsC;;;;;;;;;;;;ACHpE;AACA;AACA;AACA,+EAA+E,0BAA0B;;;;;;;;;;;;ACHzG;AACA;AACA;AACA,2EAA2E,sBAAsB;;;;;;;;;;;;;ACHjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,CAAC;;;;;;;;;;;;;ACjHD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA,sBAAsB;AACtB,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACjBD;AACA;;AAEA,0CAA0C,2GAAsC;;;;;;;;;;;;ACHhF;AACA;AACA,8BAA8B,2GAAsC;;;;;;;;;;;;ACFpE;AACA;AACA,0IAAuE,+GAA6C;;;;;;;;;;;;ACFpH;AACA;AACA,0IAAuE,6GAA4C;;;;;;;;;;;;ACFnH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACHD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACPD;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACPD;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACPD;AACA;AACA,8BAA8B,iGAA+B;;;;;;;;;;;;ACF7D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;AACA,8BAA8B,+GAA8C;;;;;;;;;;;;;ACF5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACTA;AACA;AACA;AACA,8DAA8D,0BAA0B;;;;;;;;;;;;ACHxF;AACA;AACA;AACA,0DAA0D,sBAAsB;;;;;;;;;;;;;ACHhF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,kCAAkC;AACrD,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,eAAe,uCAAuC;AACtD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH,kBAAkB,yBAAyB,KAAK;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D,oBAAoB;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;;;;;;AChRD;AACA;AACA;AACA;AACA,8GAAgD;AAChD;AACA;AACA;AACA,sBAAsB,cAAc;AACpC,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACfD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kHAAoD;;AAEpD;AACA;AACA;AACA,gBAAgB;AAChB,mCAAmC,cAAc;AACjD,CAAC;AACD;AACA,0BAA0B,cAAc;AACxC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;AC9CD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC,MAAM,WAAW,OAAO,WAAW;AACnE,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACtBD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACVD;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,cAAc;AACd,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,GAAG;AACH,UAAU;AACV,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACzBD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACTD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACTD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,WAAW;;;;;;;;;;;;ACpB1C;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACPD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACVD;AACA;;AAEA,+BAA+B,kGAAkC;;;;;;;;;;;;ACHjE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACfD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACdD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,WAAW;;;;;;;;;;;;AC9B1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB,EAAE;AAC5C,0BAA0B,gBAAgB;AAC1C,KAAK;AACL;AACA,oCAAoC,iBAAiB;AACrD;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC1CA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACJD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;;;;;ACTD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;;;;;ACXD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;;;;;ACTD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;;;;;;ACtED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kGAAqC,wBAAwB,0BAA0B,YAAY,EAAE;AACrG;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;AACD;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAyB,mEAAmE;AAC5F,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACbD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACND;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACND;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACND;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACND;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACRD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACnBD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACND;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACND;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACND;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;;;;;;;;;;;;ACtBD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACXD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACND;AACA;;AAEA;AACA;AACA,6BAA6B;AAC7B,cAAc;AACd;AACA,CAAC;AACD;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,UAAU;AACV,CAAC;;;;;;;;;;;;;AChBD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACND;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;;;;;;;;;;;ACjBD;;AAEA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACLD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACND;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACjBD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACND;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACND;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACND;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACND;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,sBAAsB,uBAAuB,WAAW,IAAI;AAC5D,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,KAAK;AACL;AACA,sBAAsB,mCAAmC;AACzD,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gCAAgC;AAChG;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D,kBAAkB;;AAE5E;AACA;AACA;AACA,oBAAoB,uBAAuB;;AAE3C,oDAAoD,6BAA6B;;AAEjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,eAAe,EAAE;AAC3C,0BAA0B,gBAAgB;AAC1C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,OAAO,QAAQ,iCAAiC;AACpG,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6EAA6E,4BAA4B;;AAEzG;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;AACD;AACA;AACA,6FAA6F;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;AAED;;;;;;;;;;;;AC7CA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACHD;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACJD;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACJD;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACJD;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACJD;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACJD;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACJD;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACJD;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACJD;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACJD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,4EAA4E,EAAE;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;;;;;;;;;;;;;AC1DA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,mEAAmE;AAChG,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACbD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;;ACpBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACXD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;;AAEA,oBAAoB,6FAA+B;;;;;;;;;;;;ACHnD;AACA;;;;;;;;;;;;ACDA;AACA;;;;;;;;;;;;ACDA;AACA;;AAEA,uCAAuC,4HAAkD;;;;;;;;;;;;ACHzF;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACPD;AACA;;AAEA,4BAA4B,6BAA6B;;;;;;;;;;;;ACHzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACTD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACVD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACfD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACVD;AACA;;AAEA,4BAA4B,6BAA6B;;;;;;;;;;;;ACHzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;;AAEA,4BAA4B,oGAAkC;;;;;;;;;;;;ACH9D;AACA;;AAEA,4BAA4B;AAC5B;AACA;AACA,CAAC,EAAE;;;;;;;;;;;;ACNH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACfD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C,+DAA+D;AACzG;AACA,CAAC;;;;;;;;;;;;;ACXD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C,+DAA+D;AACzG;AACA,CAAC;;;;;;;;;;;;ACXD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACrBD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;;;;;;;;;;;;ACjBD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;;;;;;;;;;;ACjBD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACRD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,4BAA4B;AACxG;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;;AAEA,uCAAuC;AACvC,uCAAuC,yBAAyB;AAChE,CAAC;;AAED;AACA;AACA;;AAEA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP,0BAA0B,aAAa;AACvC,KAAK;AACL,GAAG;AACH;AACA,+DAA+D,OAAO;AACtE;AACA;AACA;AACA;AACA,yBAAyB,kBAAkB;AAC3C;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP,0BAA0B,aAAa;AACvC,KAAK;AACL;AACA,CAAC;;AAED,qDAAqD,aAAa,EAAE;;AAEpE,oBAAoB,0BAA0B;;AAE9C;;;;;;;;;;;;;ACtMA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA,8DAA8D,UAAU,EAAE;AAC1E,KAAK;AACL;AACA,8DAA8D,SAAS,EAAE;AACzE,KAAK;AACL;AACA,CAAC,EAAE;;;;;;;;;;;;;ACnBH;AACA;AACA;AACA;AACA;;AAEA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,CAAC,EAAE;;;;;;;;;;;;ACXH;AACA;AACA;AACA;;AAEA,cAAc;AACd;AACA,CAAC,EAAE;;;;;;;;;;;;ACPH;AACA;AACA;AACA;AACA;;AAEA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,EAAE;;;;;;;;;;;;ACdH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc;AACd;AACA,CAAC,EAAE;;;;;;;;;;;;AClBH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc;AACd;AACA,CAAC,EAAE;;;;;;;;;;;;AChBH;AACA;AACA;AACA;;AAEA,cAAc;AACd;AACA,CAAC,EAAE;;;;;;;;;;;;ACPH;AACA;AACA;AACA;;AAEA,cAAc;AACd;AACA;AACA,CAAC,EAAE;;;;;;;;;;;;ACRH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc;AACd;AACA,CAAC,EAAE;;;;;;;;;;;;ACfH;AACA;AACA;AACA;;AAEA,cAAc;AACd;AACA;AACA,CAAC,EAAE;;;;;;;;;;;;ACRH;AACA;AACA;AACA;AACA;;AAEA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,EAAE;;;;;;;;;;;;ACdH;AACA;;;;;;;;;;;;ACDA;AACA;;;;;;;;;;;;ACDA;AACA;;AAEA,uCAAuC,4HAAkD;;;;;;;;;;;;;ACHzF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACTD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;AC7BD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACXD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACXD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACND;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACND;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;AACA;;AAEA,8BAA8B,6FAA+B;;;;;;;;;;;;ACH7D;AACA;;;;;;;;;;;;ACDA;AACA;;;;;;;;;;;;ACDA;AACA;;;;;;;;;;;;ACDA;AACA;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,wBAAwB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACLD;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACnBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpMA,oK;;;;;;;;;;;;ACAA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAKA;AACA,CAAC;AACD,oCAAoC;AACpC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,aAAa;AACb,aAAa;AACb,eAAe;AACf,eAAe;AACf,eAAe;AACf,eAAe;AACf;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sCAAsC,SAAS;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA,wBAAwB;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,oBAAoB,yBAAyB;AAC7C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,QAAQ;AACR;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA,mBAAmB;;AAEnB,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,oBAAoB;AACpB;;AAEA;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;;AAEA;AACA;AACA,qCAAqC,OAAO;AAC5C;AACA;AACA;AACA;AACA,QAAQ;AACR;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,iCAAiC,KAAK;AACtC;AACA,MAAM;AACN;AACA;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;;AAEJ;AACA,4DAA4D,+DAA+D;AAC3H,IAAI;AACJ;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,0BAA0B;AAC9C;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,IAAI;AACJ;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR,MAAM;AACN;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI;AACJ;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,4FAA4F,aAAa;AACzG;AACA;;AAEA,+CAA+C;AAC/C;AACA;AACA;;AAEA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,OAAO;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,sBAAsB,SAAS;AAC/B;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;;AAEN;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA,8BAA8B;AAC9B;;AAEA;AACA,MAAM;AACN;AACA,iCAAiC;;AAEjC;AACA;AACA;;AAEA;AACA,2EAA2E;;AAE3E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,2EAA2E;;AAE3E;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E;;AAE/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA,MAAM;AACN;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA,mBAAmB;;AAEnB,OAAO;AACP;AACA;;AAEA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,oDAAoD,OAAO,EAAE;AAC7D;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE;AACpE,sFAAsF;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,gEAAgE;AAChE;AACA;AACA;AACA,eAAe;AACf,eAAe;AACf,eAAe;AACf,eAAe;AACf,gBAAgB;AAChB,gBAAgB;AAChB;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,wCAAwC;;AAExC,OAAO;AACP;AACA;;AAEA,8BAA8B;AAC9B,sCAAsC;;AAEtC,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA,+CAA+C;AAC/C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,4BAA4B,aAAa,EAAE;;AAExE,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,2BAA2B;AAC9C,eAAe;AACf,oBAAoB,uxDAAuxD;AAC3yD,sBAAsB,8hBAA8hB;AACpjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;;AAEA,+BAA+B;;AAE/B;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,+DAA+D,EAAE;AACvG;AACA;AACA,gCAAgC,wCAAwC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,kBAAkB;AAClB,8IAA8I,6CAA6C;AAC3L;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,sBAAsB;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,qCAAqC;AACrC;AACA;AACA,mEAAmE;AACnE;AACA;AACA,mEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,EAAE,oCAAoC,GAAG,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,eAAe,EAAE,EAAE,EAAE,oBAAoB,EAAE,EAAE,EAAE,iBAAiB,WAAW,UAAU,SAAS,EAAE,EAAE,EAAE,wBAAwB,EAAE,EAAE,EAAE,2BAA2B,EAAE,iCAAiC,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,EAAE,WAAW,EAAE,gBAAgB,EAAE,iBAAiB,EAAE,mBAAmB,EAAE,iBAAiB,EAAE,eAAe,EAAE,WAAW,EAAE,oBAAoB,EAAE,WAAW,EAAE,iBAAiB,EAAE,wBAAwB,EAAE,MAAM,WAAW,EAAE,gBAAgB,EAAE,kBAAkB,EAAE,eAAe,EAAE,WAAW,EAAE,iDAAiD,+CAA+C,MAAM,EAAE,eAAe,EAAE,8EAA8E,2BAA2B,+BAA+B,0BAA0B,2CAA2C,0DAA0D,WAAW,YAAY;AAC3/B,6BAA6B,QAAQ,qLAAqL,UAAU,mCAAmC,UAAU,mCAAmC,UAAU,yCAAyC,cAAc,yCAAyC;AAC9Z;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM,0BAA0B;AAChC;AACA,EAAE,IAAI;AACN;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,yEAAyE;;AAEzE;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,mCAAmC,OAAO;AAC1C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,cAAc,KAAK;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA,sCAAsC,OAAO;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ,gEAAgE;AAChE,gEAAgE;;AAEhE;;AAEA,yDAAyD;;AAEzD,yDAAyD;AACzD,yDAAyD;AACzD,yDAAyD;AACzD,gEAAgE;AAChE,sDAAsD;;AAEtD;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA,sBAAsB;;AAEtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,EAAE,gCAAgC,EAAE;AAClE;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oCAAoC,OAAO;AAC3C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,wEAAwE,WAAW;AACnF,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,qBAAqB;AACrB,mBAAmB;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,QAAQ;AACR,sBAAsB,8CAA8C;AACpE;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,IAAI;;AAEJ,mDAAmD;;AAEnD;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN,qCAAqC,OAAO,QAAQ,QAAQ;AAC5D;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;;AAEA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA,wBAAwB,4EAA4E;AACpG,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,IAAI;;AAEJ;AACA,uCAAuC,OAAO;AAC9C;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA,+DAA+D,aAAa;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC;AACpC,MAAM;AACN;AACA;AACA;AACA,uCAAuC;AACvC,MAAM;AACN;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,OAAO;AAC3C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,sEAAsE;AACtE,uCAAuC;;AAEvC;AACA;AACA,QAAQ;AACR,qGAAqG;AACrG,gCAAgC;AAChC;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAsC;AACtC;AACA;;AAEA;AACA;AACA;;AAEA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wCAAwC,SAAS,qBAAqB;AACtE;;AAEA;AACA,4CAA4C,yBAAyB;AACrE;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,MAAM;AACN,mEAAmE,iBAAiB;AACpF;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,2BAA2B;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA,yBAAyB;AACzB,QAAQ;AACR,qCAAqC;AACrC;AACA,MAAM;AACN;;AAEA;AACA;AACA,yBAAyB;AACzB,QAAQ;AACR,yCAAyC;AACzC;AACA;;AAEA;AACA,yFAAyF;AACzF;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,WAAW,KAAK,WAAW;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,oDAAoD,oFAAoF;AACxI,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;;AAER;AACA,MAAM;AACN;AACA,mDAAmD,oDAAoD;AACvG;AACA,iCAAiC,mDAAmD;AACpF;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA,oBAAoB,GAAG;AACvB;AACA;AACA,oBAAoB,GAAG;AACvB,oBAAoB,GAAG;AACvB;AACA,wDAAwD;AACxD,IAAI;AACJ;AACA;AACA;AACA;AACA,kBAAkB;AAClB,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qIAAqI;AACrI,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA,wDAAwD,KAAK;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,IAAI;;AAEJ;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,yCAAyC,OAAO;AAChD;AACA,sCAAsC;;AAEtC;;AAEA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,4DAA4D,SAAS;AACrE;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,8CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,iDAAiD;AACjD;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,kIAAkI;;AAElI;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,4CAA4C,OAAO;AACnD;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,SAAS;AAClB;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,gCAKA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,eAAe;AACf,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wCAAwC,SAAS;AACjD;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,IAAI;;AAEJ;AACA,8CAA8C,SAAS;AACvD;AACA;AACA,IAAI;;AAEJ;AACA,wCAAwC,UAAU;AAClD;AACA,IAAI;AACJ;AACA,8FAA8F,UAAU,EAAE;;AAE1G;AACA;AACA;;AAEA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB;AACnB,eAAe;AACf;AACA,IAAI;;AAEJ;AACA;;AAEA,0CAA0C,SAAS;AACnD;AACA;AACA;;AAEA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,OAAO;AACP;AACA,CAAC;AACD,C;;;;;;;;;;;ACvuJA,oL;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,oDAAoD,qBAAqB,qBAAqB;AAC9F,GAAG,0BAA0B;AAC7B;AACA;AACA;AACA;AACA,2CAA2C,SAAS;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,SAAS;AACvD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;;AAED,CAAC;;;;;;;;;;;;AChGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,QAAQ,YAAY;;AAEpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,MAAM;AACN;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF,oBAAoB;;AAEpB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA,UAAU,YAAY;AACtB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,SAAS;AAClB;AACA;;AAEA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS,YAAY;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU,YAAY;AACtB;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS;AAClB;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA,gBAAgB,IAAI;;AAEpB;AACA;;AAEA;;AAEA;AACA;AACA,wCAAwC,IAAI;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,GAAG;AACH,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,SAAS;;AAET;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,yBAAyB;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ,6BAA6B;AAChD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;;AAEA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,uBAAuB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,eAAe;AAC1B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,eAAe;AAC1B,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,cAAc;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,gCAAgC,MAAM;AACtC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,eAAe;;AAEf,SAAS;;AAET;AACA,QAAQ,iCAAiC;AACzC,QAAQ,oBAAoB;AAC5B,QAAQ,sCAAsC;AAC9C,QAAQ;AACR,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;AACA,gBAAgB,aAAa,EAAE;AAC/B;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,4DAA4D;;AAE5D;AACA;AACA;AACA,yCAAyC;;AAEzC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;AACA;AACA;AACA,6DAA6D;;AAE7D;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,gEAAgE;;AAEhE;AACA;AACA;AACA,6CAA6C;;AAE7C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA,iEAAiE,UAAU;AAC3E,sCAAsC,2BAA2B;AACjE;AACA,gCAAgC,MAAM;AACtC;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA,UAAU,YAAY;AACtB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,UAAU,YAAY;AACtB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,UAAU,UAAU;AACpB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,UAAU,cAAc;AACxB;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA,YAAY,uEAAuE;AACnF;AACA;AACA,YAAY,4BAA4B;AACxC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ,SAAS;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,2DAA2D;;AAE3D;AACA;AACA,oFAAoF;;AAEpF;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,QAAQ,SAAS;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAQ,SAAS;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,QAAQ,SAAS;AACjB;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,iDAAiD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iDAAiD;AACjD,UAAU,wCAAwC;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B;AACA,WAAW,QAAQ;AACnB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;;AAEA,CAAC;;;;AAID;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA,QAAQ,GAAG;AACX;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;;;AAIA;;AAEA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA,cAAc,SAAS;AACvB;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,OAAO;AACjB;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,OAAO;AACjB,0BAA0B,wBAAwB;;AAElD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,0CAA0C;AAC1C,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;;;;AAIA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAU,cAAc;AACxB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;;AAER;AACA;AACA;AACA,OAAO;AACP,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,wCAAwC,sCAAsC;AAC9E,oCAAoC,uCAAuC;AAC3E,oCAAoC,sCAAsC;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,OAAO;AACP;AACA,MAAM;AACN,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW;;AAEX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU;;AAEV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;;AAER;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oCAAoC;AACpC,qCAAqC;AACrC,oCAAoC;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA,EAAE;AACF;;;;;AAKA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;AACF;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU,SAAS;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,uBAAuB,aAAa;AACpC,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,SAAS;AAC7B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ,GAAG;AACH,EAAE;;AAEF;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;;AAGD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,gBAAgB;AACxB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA,CAAC;AACD;;AAEA;;AAEA;;;;AAIA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,EAAE;AACF;;AAEA,EAAE;AACF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,QAAQ,OAAO;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,sBAAsB;;AAEtB;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAQ,OAAO;AACf;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;;AAEA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE,gBAAgB;AAClB;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;;AAEA,WAAW;;AAEX;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;;AAEA;AACA;AACA,oDAAoD;AACpD;;AAEA;AACA;;AAEA,cAAc,sBAAsB;AACpC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yBAAyB;AACzB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,+DAA+D;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAU,cAAc;;AAExB;AACA;AACA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,uCAAuC;AACjE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,uDAAuD;AAC9E;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,sCAAsC;AACtC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qCAAqC,cAAc;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;;AAGD;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA8B;;AAE9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU,OAAO;AACjB;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,QAAQ,+BAA+B;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uCAAuC,OAAO;AAC9C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,OAAO;AAC/C;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA,SAAS,qCAAqC;AAC9C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA;;AAEA,SAAS,8BAA8B;AACvC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA,6BAA6B;AAC7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,YAAY,OAAO;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,WAAW;AACpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;;AAIA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,+CAA+C,cAAc,WAAW;AACxE,mBAAmB,UAAU;AAC7B;AACA,sBAAsB,cAAc,sBAAsB,gBAAgB;AAC1E,gBAAgB,WAAW,YAAY;AACvC,cAAc;AACd;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF,CAAC;;;AAGD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,+DAA+D;AAC3E;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,QAAQ,OAAO;;AAEf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA,UAAU,OAAO;AACjB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;;AAEA,WAAW,SAAS;AACpB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;;AAGD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;;;;;AAKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA,QAAQ,OAAO;AACf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ,gBAAgB;AACxB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,iDAAiD,0BAA0B;AAC3E;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAU,gBAAgB;AAC1B;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,2BAA2B;AAC3B;AACA,qBAAqB;AACrB;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B;AACA;;AAEA,6CAA6C;AAC7C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA,QAAQ,gBAAgB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA,SAAS,gBAAgB;AACzB;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;;AAED;AACA,iEAAiE;AACjE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,EAAE;AACF;AACA;AACA;;AAEA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,oBAAoB,cAAc;AAClC,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA,iDAAiD;;AAEjD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,SAAS;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,+BAA+B,SAAS;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,UAAU,kBAAkB;AAC5B,WAAW,kBAAkB;AAC7B,cAAc;AACd,CAAC;AACD;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;;AAEA,QAAQ,mBAAmB;AAC3B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;AAKD;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;AAKD;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;;;;AAKD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA,iCAAiC;AACjC;AACA;;AAEA,IAAI;AACJ;;AAEA,IAAI;AACJ;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA;AACA,WAAW,SAAS;AACpB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;AAKD;;;AAGA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,sCAAsC;AACtC;AACA;AACA;;AAEA;;AAEA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA2C;AAC3C;;AAEA;AACA;AACA;AACA;AACA,UAAU,KAAK;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC;;AAED;;AAEA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qCAAqC;;AAEpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,EAAE;;AAEF;AACA;AACA;AACA;;AAEA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb,KAAK;AACL;;AAEA,WAAW;AACX,GAAG;AACH;AACA,CAAC;;;AAGD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB,gDAAgD;AAChD;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS;AACT;;AAEA;;AAEA;AACA;;AAEA;AACA,iBAAiB;AACjB,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;;AAElD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,2BAA2B;;AAE3B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kCAAkC;;AAElC;AACA,sBAAsB;AACtB,2BAA2B;;AAE3B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;;AAGD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,IAAI;AACJ;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;;AAEA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA,EAAE;AACF;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;;AAER;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA,mDAAmD;AACnD;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,uBAAuB;AAClC,WAAW,yBAAyB;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;AAKD;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;AAKD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;;;;AAKD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ,GAAG;AACH;;AAEA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;AAKD;AACA;AACA;AACA,EAAE;AACF;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB;;AAEnB;AACA;;AAEA;AACA;;AAEA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA,cAAc,sDAAsD;AACpE;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;AACA,cAAc,mCAAmC;AACjD,eAAe,6DAA6D;AAC5E;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,EAAE;AACF,CAAC;;;AAGD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC;;;;;AAKD;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AAAA;AACF;;;;;AAKA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA,CAAC;;;;;;;;;;;;AC3nUD,0P;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA,GAAG,QAKH;AACA,CAAC;AACD;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,6BAA6B;;AAE7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA,YAAY,SAAS;AACrB;AACA,YAAY,SAAS;;AAErB,sBAAsB,wBAAwB;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,QAAQ;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,eAAe,cAAc,UAAU;;AAExD;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,QAAQ,qBAAqB,QAAQ;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,UAAU,iBAAiB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc,KAAK;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,eAAe,+BAA+B,UAAU;;AAE7E;AACA,kBAAkB,sCAAsC;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,OAAO,SAAS;AACvC,qBAAqB,OAAO,QAAQ;AACpC,qBAAqB,OAAO,QAAQ;AACpC,qBAAqB,OAAO,QAAQ;AACpC,qBAAqB,OAAO,QAAQ;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B,cAAc,QAAQ;AACtB;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,SAAS,QAAQ;AACrC;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC,eAAe,oBAAoB,oBAAoB;AACvD,QAAQ,cAAc,cAAc;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA,qBAAqB,UAAU;AAC/B,qBAAqB,2BAA2B;AAChD,wBAAwB,mBAAmB,gBAAgB;AAC3D,sBAAsB,eAAe,gBAAgB;;AAErD;AACA;AACA;AACA;AACA;;AAEA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,4BAA4B;AAC5B,8BAA8B;AAC9B,6CAA6C;AAC7C;AACA;AACA,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,cAAc,UAAU;AACjD;AACA;AACA;AACA;AACA;;AAEA,qBAAqB;AACrB,yBAAyB,eAAe,gBAAgB;;AAExD,oBAAoB;AACpB,2BAA2B,mBAAmB,gBAAgB;;AAE9D;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,6CAA6C;;AAEnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,WAAW,QAAQ,QAAQ;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,oBAAoB,eAAe,gBAAgB,UAAU;;AAE7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,6CAA6C;;AAErE;AACA,yBAAyB,6CAA6C;;AAEtE;AACA,0BAA0B,iDAAiD;;AAE3E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc,KAAK;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,8BAA8B;AACpD,mBAAmB,oCAAoC;AACvD,mBAAmB,oCAAoC;;AAEvD;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,YAAY;AAClC,mBAAmB,eAAe,4BAA4B,UAAU;;AAExE;AACA,qBAAqB,YAAY;AACjC,kBAAkB,eAAe,2BAA2B,UAAU;;AAEtE;AACA,sBAAsB,YAAY;AAClC,mBAAmB,eAAe,4BAA4B,UAAU;;AAExE;AACA,yBAAyB,aAAa;AACtC,sBAAsB,eAAe,+BAA+B,UAAU;;AAE9E;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;;AAEA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,UAAU,SAAS;AAC1C,qBAAqB,SAAS,QAAQ;AACtC,oBAAoB,SAAS,QAAQ;AACrC,kBAAkB,SAAS,QAAQ;AACnC;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,UAAU,KAAK;AAChC;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,gCAAgC;;AAEtD;AACA,wBAAwB,oCAAoC;;AAE5D;AACA,uBAAuB,iCAAiC;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,eAAe,iBAAiB,UAAU;;AAE7D;AACA,wBAAwB,eAAe,iBAAiB,UAAU;;AAElE;AACA,wBAAwB,eAAe,sBAAsB,UAAU;;AAEvE;AACA,qBAAqB,eAAe,kBAAkB,UAAU;;AAEhE;AACA,sBAAsB,eAAe,yBAAyB,UAAU;;AAExE;AACA,yBAAyB,eAAe,yBAAyB,UAAU;;AAE3E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,UAAU;AAC5B,wBAAwB,mBAAmB;AAC3C,sBAAsB,eAAe;;AAErC;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,kCAAkC;;AAErD;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B,0BAA0B,OAAO;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,+BAA+B,SAAS;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ,eAAe,aAAa,gBAAgB,UAAU;AAC9D;;AAEA,2BAA2B,UAAU;;AAErC;AACA;AACA;AACA,wBAAwB,kBAAkB,WAAW;AACrD;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB;AACjB,4BAA4B,eAAe,gBAAgB;;AAE3D,iBAAiB;AACjB,8BAA8B,mBAAmB,gBAAgB;;AAEjE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,SAAS,KAAK;AACrC,sBAAsB,cAAc,KAAK;AACzC,aAAa;AACb;AACA;AACA;AACA;AACA,oBAAoB,eAAe,eAAe,QAAQ;AAC1D,8BAA8B,OAAO,OAAO,QAAQ,QAAQ;AAC5D;AACA;;AAEA;AACA,oBAAoB,OAAO,QAAQ;AACnC,mBAAmB,eAAe,KAAK;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B,WAAW,OAAO,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,iBAAiB,cAAc;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,iBAAiB,cAAc;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,qCAAqC;AACrC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,sBAAsB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,4BAA4B;AACjD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,eAAe;AAC3B;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;;AAEA;AACA;AACA;AACA,4BAA4B;AAC5B;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,UAAU;AACV;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,WAAW,IAAI;AACrD,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,kBAAkB;AAC7D,2CAA2C,kBAAkB;AAC7D;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,kCAAkC,YAAY,IAAI;AAClD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,WAAW,IAAI;AACjD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,iBAAiB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,YAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C,aAAa;AACb;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA,2CAA2C;AAC3C;AACA,oCAAoC;AACpC;AACA,aAAa,OAAO;AACpB,wCAAwC;AACxC;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,aAAa;;AAE1B;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ,gBAAgB;AACxB,QAAQ,qBAAqB;AAC7B,QAAQ,kBAAkB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,2BAA2B;AACnC,QAAQ,2BAA2B;AACnC,QAAQ,6BAA6B;AACrC,QAAQ,+BAA+B;AACvC,QAAQ,wBAAwB;AAChC,QAAQ,oCAAoC;AAC5C,QAAQ,8BAA8B;AACtC,QAAQ,iCAAiC;AACzC,QAAQ,mCAAmC;AAC3C,QAAQ,iCAAiC;AACzC,QAAQ,6BAA6B;AACrC,QAAQ,2BAA2B;AACnC,QAAQ,mCAAmC;AAC3C,QAAQ,4BAA4B;AACpC,QAAQ,uBAAuB;AAC/B;AACA;AACA;AACA;AACA,QAAQ,2BAA2B;AACnC,QAAQ,kCAAkC;AAC1C,QAAQ,gCAAgC;AACxC,QAAQ,sCAAsC;AAC9C,QAAQ,gCAAgC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,oBAAoB,YAAY;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,GAAG;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM,8CAA8C,aAAa;AAC5E,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM,8CAA8C,uBAAuB;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA,gBAAgB,6BAA6B;AAC7C;AACA;AACA;AACA,Y;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA,gBAAgB,yBAAyB;AACzC;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM,8CAA8C,aAAa;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM,8CAA8C,iBAAiB;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM,8CAA8C,aAAa;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM,8CAA8C,aAAa;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM,8CAA8C,aAAa;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM,8CAA8C,aAAa;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM,8CAA8C,aAAa;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM,8CAA8C,uBAAuB;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,uBAAuB;AAC7D;AACA,sCAAsC,oDAAoD;AAC1F;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM,8CAA8C,yBAAyB;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA,iEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,2BAA2B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,2BAA2B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,UAAU;AAC/C,uCAAuC,UAAU;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,eAAe;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA,gCAAgC;AAChC,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA,sIAAsI,IAAI;AAC1I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,WAAW;AACxC;AACA,8BAA8B,OAAO;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C,0CAA0C;AAC1C;AACA,sCAAsC;AACtC;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,uCAAuC;AAChF,yCAAyC,gCAAgC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,SAAS,sDAAsD;AAC/D,SAAS,sDAAsD;AAC/D,SAAS;AACT;AACA,sCAAsC,SAAS;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,gDAAgD;AAChD;;AAEA,wDAAwD;AACxD;;AAEA,6DAA6D;AAC7D;;AAEA,mDAAmD;AACnD;;AAEA,mDAAmD;AACnD;;AAEA,sDAAsD;AACtD;;AAEA,sDAAsD;AACtD;;AAEA,wDAAwD;AACxD;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,gCAAgC,SAAS;AACzC,gCAAgC,iBAAiB;AACjD,gCAAgC,cAAc;AAC9C,gCAAgC,iBAAiB;AACjD,gCAAgC,iBAAiB;AACjD,gCAAgC,iBAAiB;AACjD,gCAAgC,oBAAoB;AACpD,gCAAgC,oBAAoB;AACpD,gCAAgC,qBAAqB;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,yCAAyC,8BAA8B;AACvE;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,iBAAiB;AACjD,gCAAgC,cAAc;AAC9C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,gBAAgB,cAAc,gBAAgB;AAChE;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO,QAAQ;AAC1B;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO,QAAQ;AAC1B;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA,WAAW,OAAO,cAAc;AAChC;AACA,8BAA8B,OAAO;AACrC,8BAA8B,OAAO;AACrC,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,CAAC,E;;;;;;;;;;;AC9vID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,yBAAyB;AACzB,SAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB;;AAEvB;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C,oCAAoC,aAAa,EAAE;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,iBAAiB;AACjB,yBAAyB;AACzB;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA,6DAA6D;AAC7D;AACA;AACA;;AAEA,8BAA8B;AAC9B;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB;;AAEtB;AACA;;AAEA;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,SAAS;AAC/C;AACA,8DAA8D,UAAU;AACxE;AACA;AACA;AACA;AACA,0DAA0D,UAAU;AACpE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,+CAA+C;AAC/C;AACA,SAAS;AACT,2CAA2C;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,aAAa;AACtB;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kEAAkE,QAAQ;AAC1E;AACA;AACA;AACA;AACA;AACA;;AAEA,sCAAsC,QAAQ;AAC9C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB;AACA;AACA;AACA,oEAAoE,SAAS;AAC7E;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,qEAAqE,SAAS;AAC9E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA,mBAAmB,MAAM;AACzB;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B,oBAAoB,MAAM;AAC1B;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,iCAAiC;AACjC,aAAa;AACb;AACA;AACA;;AAEA;;AAEA;;AAEA,+CAA+C;;AAE/C;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,MAAM;AACzB,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oDAAoD,QAAQ;AAC5D;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC,I;;;;;;;;;;;;;;;;;;;;;;ACn+BD;AACA;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4GAAgD;AAChD,KAAK;AACL;AAAA;AAAA;AAAA,qGAA8B;AAC9B,EAAE,QAEF;AACA,CAAC;AACD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qBAAqB;;AAErB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,aAAa,uBAAuB;AACpC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA,aAAa,yBAAyB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,iCAAiC;AACzD,wBAAwB,kCAAkC;AAC1D,wBAAwB,mCAAmC;AAC3D,wBAAwB,oCAAoC;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,8BAA8B,cAAc;;AAE5C,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,aAAa,kBAAkB;AAC/B;AACA;;AAEA,cAAc,mBAAmB;AACjC;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,aAAa,mBAAmB;AAChC;AACA;AACA,cAAc,kBAAkB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAa,uBAAuB;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH,aAAa,yBAAyB;AACtC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;AC7TD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,0GAA8C;AAC9C,EAAE;AACF;AAAA;AAAA;AAAA,qGAA8B;AAC9B,EAAE,QAEF;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ,YAAY;AACZ,YAAY;AACZ,cAAc;AACd;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS,kBAAkB;AAC3B;AACA;AACA;;AAEA;AACA,aAAa,uBAAuB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;;AAEA;AACA,iBAAiB,YAAY;AAC7B,mEAAmE;AACnE;;AAEA;AACA;;AAEA;AACA;;AAEA,aAAa,oBAAoB;AACjC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA,cAAc,mBAAmB;AACjC;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,SAAS;AACvB;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,kCAAkC,IAAI;AACtC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB;AACvB;AACA;;AAEA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAa,oBAAoB;AACjC;AACA,cAAc,mBAAmB;AACjC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa,oBAAoB;AACjC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,gBAAgB,qBAAqB;AACrC;;AAEA;AACA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;;AAEA;AACA,CAAC;;;;;;;;;;;;ACpmBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4E;;;;;;;;;;;AC1CA;;AAEA,CAAC;AACD,QACA;AACA,YACA;AACA,CAAC,2BAA2B;;;AAG5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA,CAAC;;;;;;;;;;;;AC1ED;;AAEA,CAAC;AACD,QACA;AACA,YACA;AACA,CAAC,2BAA2B;;;AAG5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA,CAAC;;;;;;;;;;;;AC1ED;;AAEA,CAAC;AACD,QACA;AACA,YACA;AACA,CAAC,2BAA2B;;;AAG5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA,CAAC;;;;;;;;;;;;AC1ED;;AAEA,CAAC;AACD,QACA;AACA,YACA;AACA,CAAC,2BAA2B;;;AAG5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA,CAAC;;;;;;;;;;;;ACjED;;AAEA,CAAC;AACD,QACA;AACA,YACA;AACA,CAAC,2BAA2B;;;AAG5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA,CAAC;;;;;;;;;;;;AC7DD;;AAEA,CAAC;AACD,QACA;AACA,YACA;AACA,CAAC,2BAA2B;;;AAG5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA,CAAC;;;;;;;;;;;;ACjED;;AAEA,CAAC;AACD,QACA;AACA,YACA;AACA,CAAC,2BAA2B;;;AAG5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA,CAAC;;;;;;;;;;;;ACjED;;AAEA,CAAC;AACD,QACA;AACA,YACA;AACA,CAAC,2BAA2B;;;AAG5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA,CAAC;;;;;;;;;;;;AC5DD;;AAEA,CAAC;AACD,QACA;AACA,YACA;AACA,CAAC,2BAA2B;;;AAG5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA,CAAC;;;;;;;;;;;;ACjED;;AAEA,CAAC;AACD,QACA;AACA,YACA;AACA,CAAC,2BAA2B;;;AAG5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA,CAAC;;;;;;;;;;;;8CCpLD;;AAEA,CAAC;AACD;AACA,aACA;AACA,CAAC,qBAAqB;;AAEtB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,2BAA2B,SAAS;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,sBAAsB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,IAAI;AAC/B;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,4CAA4C,IAAI;;AAEhD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gCAAgC;AAChC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,iCAAiC;AACzD;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4LAA4L,IAAI;;AAEhM,qEAAqE,IAAI;;AAEzE;;AAEA;;AAEA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0CAA0C,YAAY;AACtD;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8BAA8B;AAC9B,gCAAgC;AAChC,6BAA6B,EAAE,EAAE;AACjC,6BAA6B,EAAE,EAAE;AACjC,kCAAkC,EAAE,EAAE;AACtC,iCAAiC;AACjC,qCAAqC;AACrC,yCAAyC;AACzC,6BAA6B,IAAI,EAAE;AACnC,6BAA6B,IAAI,EAAE;AACnC,kCAAkC,IAAI,EAAE;;AAExC,+BAA+B;AAC/B,oCAAoC;;AAEpC,8CAA8C;AAC9C,qDAAqD;;AAErD,wCAAwC,IAAI,IAAI;;AAEhD;AACA;AACA,2BAA2B,MAAM,wEAAwE,MAAM,mBAAmB,MAAM,qBAAqB,MAAM,EAAE,IAAI;;AAEzK;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA,8CAA8C;AAC9C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,2BAA2B,wBAAwB;AACnD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,OAAO;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;;;AAGA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,+BAA+B;AAClD;AACA;;AAEA;AACA,cAAc,OAAO;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C,EAAE,IAAI,EAAE;AACnD,wCAAwC,EAAE,IAAI,EAAE;;AAEhD;;AAEA;AACA,iCAAiC,EAAE;AACnC,2BAA2B,EAAE;AAC7B,6BAA6B,EAAE;AAC/B,2BAA2B,EAAE;AAC7B,yBAAyB,EAAE,IAAI,EAAE;AACjC,wBAAwB,EAAE;AAC1B,+BAA+B,GAAG;AAClC,yBAAyB,EAAE;AAC3B;AACA,2BAA2B,EAAE,IAAI,EAAE;AACnC,0BAA0B,EAAE,IAAI,EAAE;AAClC,wBAAwB,EAAE;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA,8DAA8D,IAAI,0DAA0D,IAAI,qEAAqE,EAAE;;AAEvM;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,sBAAsB;AACzC;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,kCAAkC,gBAAgB;AAClD;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,6BAA6B;AACtC;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB;AACpB;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,cAAc;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,6DAA6D;AAC7D,yDAAyD;AACzD,+DAA+D;AAC/D,wDAAwD,OAAO;AAC/D,wDAAwD,OAAO;AAC/D,uDAAuD,OAAO;AAC9D,mEAAmE,OAAO;AAC1E,qEAAqE,OAAO;AAC5E;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAmC,qBAAqB;AACxD,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAmC,qBAAqB;AACxD,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wBAAwB;AACxB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;;AAGL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,wBAAwB,mBAAmB;AAC3C;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,mBAAmB;AACxC;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;;;;;;;;;;;;;ACz5ID,+J;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,eAAe,cAAc;AAC7B;;;;;;;;;;;;ACttBA,uC;;;;;;;;;;;ACAA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,eAAqD;AACrD;AAAA;AAAA;AAAA;AACA;AACA,WAKA;AACA,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ;AACnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,uBAAuB,cAAc;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mLAAmL;AACnL,aAAa;AACb;AACA;AACA,uFAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,+BAA+B,yBAAyB;AACxD,mCAAmC,4BAA4B;AAC/D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb,4CAA4C,uBAAuB,oBAAoB,EAAE,EAAE;;AAE3F;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,uFAAuF,eAAe;AACtG;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,0BAA0B;;AAE1B;AACA,oFAAoF;AACpF;AACA,2BAA2B;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uFAAuF;AACvF;AACA,8BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B,6BAA6B;AAC5D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,aAAa;;AAEb;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,QAAQ;;AAExC;AACA;AACA,6BAA6B,QAAQ;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,QAAQ;AAC3C;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B;;AAE5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,GAAG,gDAAgD;AAChE;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,iDAAiD,4BAA4B;AAC7E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,iBAAiB;AAClD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,sFAAsF,kBAAkB;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,0CAA0C;AAC1C,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB,+BAA+B;AAC/B,2BAA2B;;AAE3B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,wBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B,8BAA8B;AACxD,0BAA0B,8BAA8B;AACxD,0BAA0B,8BAA8B;;AAExD;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB;AACnB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D,4CAA4C;AAC5C,4CAA4C;AAC5C;;AAEA;AACA;;AAEA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,0DAA0D;AAC1D,4CAA4C;AAC5C,4CAA4C;AAC5C;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAuB,yCAAyC;AAChE,uBAAuB,yCAAyC;AAChE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wCAAwC;AAC/D,uBAAuB,yCAAyC;AAChE,uBAAuB,yCAAyC;AAChE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uCAAuC;AAC9D,uBAAuB,wCAAwC;AAC/D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mEAAmE,WAAW;AAC9E;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC,kBAAkB;AAClD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;;AAE3C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA,SAAS,kBAAkB,YAAY,kBAAkB;AACzD;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gCAAgC,YAAY;;AAE5C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,EAAE,cAAc,EAAE,cAAc,EAAE;AACnE,iCAAiC,EAAE,cAAc,EAAE,cAAc,EAAE;AACnE,iCAAiC,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE;AACnF;AACA,KAAK;;AAEL;AACA;AACA,4CAA4C,UAAU,OAAO,UAAU,OAAO,SAAS;AACvF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL,CAAC;;;;;;;;;;;;AClxED,eAAe,mCAAqM,iBAAiB,mBAAmB,cAAc,4BAA4B,YAAY,UAAU,iBAAiB,gEAAgE,SAAS,+BAA+B,kBAAkB,eAAe,gBAAgB,aAAa,aAAa,aAAa,0EAA0E,8EAA8E,mEAAmE,kBAAkB,8BAA8B,2DAA2D,8MAA8M,mEAAmE,mBAAmB,wWAAwW,+DAA+D,+bAA+b,yCAAyC,cAAc,kCAAkC,qBAAqB,EAAE,gBAAgB,2BAA2B,EAAE,eAAe,sCAAsC,SAAS,EAAE,8EAA8E,gBAAgB,aAAa,qGAAqG,YAAY,yEAAyE,GAAG,E;;;;;;;;;;;sDCA99E;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,YAAY;AAClD;AACA;AACA,KAAK;AACL;AACA,uCAAuC,YAAY;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,8BAA8B;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAkD;AAClD,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,wCAAwC;AACxC,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6CAA6C,YAAY;AACzD;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,8BAA8B;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,eAAe;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,qBAAqB,eAAe;AACpC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf,cAAc;AACd,cAAc;AACd,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP,qBAAqB;AACrB;;AAEA;AACA;AACA,KAAK;AACL,iBAAiB;;AAEjB;AACA,kDAAkD,EAAE,iBAAiB;;AAErE;AACA,wBAAwB,8BAA8B;AACtD,2BAA2B;;AAE3B;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kDAAkD,iBAAiB;;AAEnE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AAAA;AACL;AACA,CAAC;;;;;;;;;;;;;AC3pDD,sK;;;;;;;;;;;;ACAA,eAAe,mCAAmM,iBAAiB,mBAAmB,cAAc,4BAA4B,YAAY,UAAU,iBAAiB,gEAAgE,SAAS,+BAA+B,kBAAkB,aAAa,cAAc,0BAA0B,WAAW,cAAc,sDAAsD,qBAAqB,oBAAoB,wDAAwD,0CAA0C,mCAAmC,sCAAsC,SAAS,uCAAuC,WAAW,yCAAyC,6BAA6B,qBAAqB,EAAE,kBAAkB,YAAY,eAAe,aAAa,sCAAsC,SAAS,iDAAiD,iBAAiB,aAAa,aAAa,sLAAsL,sBAAsB,qGAAqG,uCAAuC,4DAA4D,2VAA2V,eAAe,gBAAgB,IAAI,qBAAqB,8BAA8B,uCAAuC,OAAO,wBAAwB,QAAQ,KAAK,KAAK,gBAAgB,UAAU,kBAAkB,+BAA+B,aAAa,cAAc,IAAI,KAAK,WAAW,UAAU,mBAAmB,WAAW,EAAE,mCAAmC,kBAAkB,KAAK,WAAW,iBAAiB,qCAAqC,8BAA8B,IAAI,KAAK,WAAW,kCAAkC,eAAe,IAAI,OAAO,kCAAkC,UAAU,WAAW,KAAK,2BAA2B,MAAM,KAAK,cAAc,mBAAmB,WAAW,oBAAoB,6BAA6B,OAAO,uBAAuB,sBAAsB,sCAAsC,SAAS,EAAE,8EAA8E,gBAAgB,aAAa,qGAAqG,YAAY,4BAA4B,iBAAiB,aAAa,aAAa,0IAA0I,6DAA6D,uCAAuC,uUAAuU,yBAAyB,+BAA+B,WAAW,cAAc,2DAA2D,cAAc,8CAA8C,cAAc,uDAAuD,cAAc,sBAAsB,sBAAsB,yBAAyB,OAAO,mCAAmC,sCAAsC,SAAS,2FAA2F,uBAAuB,eAAe,aAAa,cAAc,sRAAsR,6BAA6B,kFAAkF,cAAc,8CAA8C,WAAW,KAAK,wFAAwF,yBAAyB,EAAE,gBAAgB,uDAAuD,aAAa,4DAA4D,aAAa,mJAAmJ,+DAA+D,4BAA4B,YAAY,yBAAyB,aAAa,gCAAgC,aAAa,kEAAkE,uBAAuB,iCAAiC,IAAI,KAAK,WAAW,gCAAgC,MAAM,gBAAgB,KAAK,mEAAmE,WAAW,cAAc,KAAK,mDAAmD,iBAAiB,KAAK,qDAAqD,sCAAsC,SAAS,cAAc,cAAc,iBAAiB,aAAa,cAAc,0BAA0B,WAAW,cAAc,OAAO,0DAA0D,OAAO,2BAA2B,oOAAoO,oEAAoE,oGAAoG,sBAAsB,uEAAuE,wFAAwF,6DAA6D,UAAU,kEAAkE,gBAAgB,uEAAuE,8CAA8C,SAAS,OAAO,mHAAmH,2GAA2G,aAAa,WAAW,eAAe,oBAAoB,wBAAwB,QAAQ,GAAG,mCAAmC,+LAA+L,iCAAiC,uFAAuF,gBAAgB,4CAA4C,kCAAkC,gCAAgC,cAAc,8BAA8B,sCAAsC,iCAAiC,sIAAsI,sCAAsC,SAAS,EAAE,iCAAiC,YAAY,mBAAmB,KAAK,mBAAmB,sEAAsE,SAAS,2EAA2E,gBAAgB,aAAa,qGAAqG,YAAY,0NAA0N,GAAG,E;;;;;;;;;;;ACA90Q;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;ACrBA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;;ACCA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;kBAEe;AACXA,aADW,iBACLC,OADK,EACI;AACX,oBAAMC,gBAAgB,IAAIC,WAAWC,WAAf,EAAtB;AACAC,uBAAOC,WAAP,GAAqBJ,aAArB;;AAEAA,8BAAcK,EAAd,GAAmBN,QAAQM,EAA3B;AACAL,8BAAcM,iBAAd,GAAkCP,QAAQO,iBAA1C;;AAEAC,6CAAmBC,UAAnB;AACAC,uDAA6BD,UAA7B;;AAEA,oBAAME,0BAA0BX,QAAQW,uBAAxC;;AAEA,oBAAIA,uBAAJ,EAA6B;AACzBC,2DAAyBH,UAAzB,CAAoC;AAChCE;AADgC,yBAApC;AAGH;;AAED,oBAAIX,QAAQa,mBAAZ,EAAiC;AAC7Bb,gCAAQa,mBAAR,CAA4BC,aAA5B,CAA0CL,UAA1C,CAAqD,EAAEM,SAASf,QAAQgB,mBAAR,CAA4BD,OAAvC,EAArD;AACH;;AAEDf,wBAAQiB,WAAR,IAAuBC,sBAAYT,UAAZ,CAAuBT,QAAQiB,WAA/B,CAAvB;AACAE,wCAAcV,UAAd;AACAW,8CAAoBX,UAApB,CAA+BT,QAAQqB,mBAAvC;AACAC,sCAAYC,IAAZ,CAAiBvB,QAAQwB,WAAzB;AACAvB,8BAAcwB,kBAAd,GAAmCzB,QAAQ0B,WAA3C;AACAzB,8BAAcD,OAAd,GAAwBA,OAAxB;;AAEA,oBAAM2B,WAAW3B,QAAQqB,mBAAR,CAA4BM,QAA7C;;AAEAC,uBAAOC,MAAP,CAAcF,QAAd;;AAEAG,0CAAgBrB,UAAhB;AACAsB,wCAActB,UAAd;;AAEA,oBAAIT,QAAQgC,uBAAZ,EAAqC;AACjC/B,sCAAcgC,oBAAd,GAAqC,IAAIjC,QAAQgC,uBAAR,CAAgCE,UAApC,CAA+C;AAChFC,yCAASnC,QAAQgC,uBAAR,CAAgCG,OADuC;AAEhFC,kDAAkBpC,QAAQgC,uBAAR,CAAgCI;AAF8B,yBAA/C,CAArC;;AAKAC,iDAAe5B,UAAf,CAA0B;AACtB6B,4CAAYlC,OAAOC,WAAP,CAAmB4B,oBAAnB,CAAwCM,aAAxC,EADU;AAEtBxB,yCAASf,QAAQgB,mBAAR,CAA4BD;AAFf,yBAA1B;AAIH;;AAED,oBAAIf,QAAQwC,sBAAR,IAAkCxC,QAAQwC,sBAAR,CAA+BC,eAArE,EAAsF;AAClFC,mDAAiBjC,UAAjB,CAA4B,EAAEkC,KAAK3C,QAAQwC,sBAAR,CAA+BG,GAAtC,EAA5B;AACH;;AAED;AACAC,yBAAS1C,UAAT,CAAoB2C,SAApB,CAA8BC,eAA9B,GAAgD9C,QAAQ+C,SAAxD;;AAEA;AACA9C,8BAAcF,KAAd;;AAEAC,wBAAQgD,kBAAR,IAA8BhD,QAAQgD,kBAAR,CAA2BC,KAA3B,CAAiChD,aAAjC,CAA9B;;AAEAiD,uCAAazC,UAAb,CAAwBT,QAAQmD,YAAhC;;AAEA,uBAAOlD,aAAP;AACH,SAhEU;AAkEXmD,8BAlEW,oCAkEc;AACrBC,kBAAEC,EAAF,CAAKC,cAAL,CAAoBC,KAApB,CAA0BpC,8BAAoBO,QAA9C,IAA0D;AACtD8B,8BAAMrC,8BAAoBsC,GAApB,CAAwB,gCAAxB,EAA0DC,KAA1D,CAAgE,GAAhE,CADgD,EACsB;AAC5EC,mCAAWxC,8BAAoBsC,GAApB,CAAwB,iCAAxB,EAA2DC,KAA3D,CAAiE,GAAjE,CAF2C,EAE4B;AAClFE,iCAASzC,8BAAoBsC,GAApB,CAAwB,iCAAxB,EAA2DC,KAA3D,CAAiE,GAAjE,CAH6C;AAItDG,gCAAQ1C,8BAAoBsC,GAApB,CAAwB,8BAAxB,EAAwDC,KAAxD,CAA8D,GAA9D,CAJ8C,EAIsB;AAC5EI,qCAAa3C,8BAAoBsC,GAApB,CAAwB,mCAAxB,EAA6DC,KAA7D,CAAmE,GAAnE,CALyC,EAKgC;AACtFK,+BAAO5C,8BAAoBsC,GAApB,CAAwB,6BAAxB,CAN+C;AAOtDO,kCAAU7C,8BAAoBsC,GAApB,CAAwB,gCAAxB,EAA0DC,KAA1D,CAAgE,GAAhE;AAP4C,iBAA1D;AASH;AA5EU,C;;;;;;;;;;;;;;;;;ACfR,IAAMO,oDAAsB;AAC/BC,YAAQ,QADuB;AAE/BC,aAAS,SAFsB;AAG/BC,cAAU,UAHqB;AAI/BC,cAAU,UAJqB;AAK/BC,aAAS,SALsB;AAM/BC,aAAS,SANsB;AAO/BC,YAAQ,QAPuB;AAQ/BC,aAAS,SARsB;AAS/BC,cAAU,UATqB;AAU/BC,cAAU,UAVqB;AAW/BC,gBAAY,YAXmB;AAY/BC,UAAM;AAZyB,CAA5B;;AAeA,IAAMC,gEAA4B;AACrCC,UAAM,MAD+B;AAErCC,WAAO,OAF8B;AAGrCC,WAAO,OAH8B;AAIrCC,WAAO,OAJ8B;AAKrCC,SAAK;AALgC,CAAlC;;kBAQQ;AACXlB,4CADW;AAEXa;AAFW,C;;;;;;;;;;;;;;;;;;ACvBf;AACA;;;;;;;;;;;AAWA,IAAMM,0BAA0BzC,SAAS0C,UAAT,CAAoBC,MAApB,EAA2B,uEAAwE;AAC/HC,eAD+H,uBACnHC,UADmH,EACzF;AAAA;;AAAA,YAAdzF,OAAc,uEAAJ,EAAI;;AAClC,aAAK0F,gBAAL,GAAwBD,UAAxB;AACA,aAAKE,eAAL,GAAuB,IAAI/C,SAAS0C,UAAb,EAAvB;;AAEA;AACAtF,gBAAQ4F,UAAR,IAAsB,KAAKC,eAAL,CAAqB7F,QAAQ4F,UAA7B,EAAyC,OAAzC,CAAtB;AACA;AACA5F,gBAAQ8F,YAAR,IAAwB,KAAKD,eAAL,CAAqB7F,QAAQ8F,YAA7B,EAA2C,SAA3C,CAAxB;;AAEA,aAAKC,KAAL,GAAa;AACTC,sBAAUhG,QAAQgG,QAAR,IAAoB,CADrB;AAETC,wBAAYjG,QAAQiG,UAAR,IAAsB;AAFzB,SAAb;;AAKA,aAAKC,eAAL;;AAEA,aAAKC,QAAL,CAAcV,UAAd,EAA0B,KAA1B,EAAiC,KAAKW,OAAtC;AACA,aAAKD,QAAL,CAAcV,UAAd,EAA0B,QAA1B,EAAoC,KAAKY,UAAzC;AACA,aAAKF,QAAL,CAAcV,UAAd,EAA0B,OAA1B,EAAmC,KAAKa,SAAxC;AACA,aAAKH,QAAL,CAAcV,UAAd,EAA0B,MAA1B,EAAkC,KAAKc,QAAvC;;AAEA,SAAE,KAAF,EAAS,QAAT,EAAmB,OAAnB,EAA4B,MAA5B,EAAqCC,OAArC,CAA6C,qBAAa;AACtD,kBAAKL,QAAL,CAAc,MAAKR,eAAnB,EAAoCc,SAApC,EAA+C,YAAW;AACtD,oBAAMC,OAAOC,MAAMC,IAAN,CAAWC,SAAX,CAAb;AACAH,qBAAKI,OAAL,CAAaL,SAAb;AACA,qBAAKM,OAAL,CAAa9D,KAAb,CAAmB,IAAnB,EAAyByD,IAAzB;AACH,aAJD;AAKH,SAND;;AAQA,aAAKjG,UAAL,CAAgBwC,KAAhB,CAAsB,IAAtB,EAA4B4D,SAA5B;AACH,KA/B8H;AAiC/HX,mBAjC+H,6BAiCjG;AAAA,YAAdlG,OAAc,uEAAJ,EAAI;;AAC1B,YAAMgH,YAAY,KAAKtB,gBAAL,CAAsBuB,KAAtB,GAA8BC,IAA9B,CAAmC,KAAKnB,KAAL,CAAWC,QAA9C,EAAwDmB,KAAxD,CAA8D,KAAKpB,KAAL,CAAWE,UAAzE,EAAqFmB,KAArF,EAAlB;AACA,aAAKzB,eAAL,CAAqB0B,KAArB,CAA2BL,SAA3B,EAAsCM,OAAOC,MAAP,CAAcvH,OAAd,EAAuB,EAAEwH,QAAQ,IAAV,EAAvB,CAAtC;AACA,aAAKC,MAAL,GAAc,KAAK9B,eAAL,CAAqB8B,MAAnC;AACA,aAAKC,MAAL,GAAc,KAAK/B,eAAL,CAAqB+B,MAAnC;AACA,aAAKX,OAAL,CAAa,OAAb,EAAsB,IAAtB,EAA4BY,EAAEC,KAAF,CAAQ5H,OAAR,CAA5B;AACA,YAAI,KAAKyH,MAAL,CAAYC,MAAZ,KAAuBV,UAAUU,MAArC,EAA6C;AACzC,kBAAM,IAAIG,KAAJ,CAAU,+FAAV,CAAN;AACH;AACJ,KA1C8H;AA4C/HC,yBA5C+H,iCA4CzGC,IA5CyG,EA4CnG;AACxB,aAAK,IAAIC,IAAI,CAAR,EAAWC,MAAMF,KAAKL,MAA3B,EAAmCM,IAAIC,GAAvC,EAA4CD,GAA5C,EAAiD;AAC7C,gBAAME,QAAQH,KAAKI,EAAL,CAAQH,CAAR,CAAd;AACA,iBAAKP,MAAL,CAAYW,IAAZ,CAAiBF,KAAjB;AACAA,kBAAMzC,UAAN,GAAmB,IAAnB;AACA,iBAAK4C,KAAL,CAAWH,MAAMI,GAAjB,IAAwBJ,KAAxB;AACA,gBAAIA,MAAMK,EAAV,EAAc;AACV,qBAAKF,KAAL,CAAWH,MAAMK,EAAjB,IAAuBL,KAAvB;AACH;AACD;AACA,aAACA,MAAMM,SAAP,IAAoBN,MAAMO,QAA1B,IAAsC,KAAKX,qBAAL,CAA2BI,MAAMO,QAAjC,CAAtC;AACH;AACD,aAAKf,MAAL,GAAc,KAAKD,MAAL,CAAYC,MAA1B;AACH,KAzD8H;AA2D/H7B,mBA3D+H,2BA2D/G6C,IA3D+G,EA2DzGC,UA3DyG,EA2D7F;AAC9BD,aAAKE,EAAL,CAAQD,UAAR,EAAoBhB,EAAEkB,IAAF,CAAO,KAAKC,aAAZ,EAA2B,IAA3B,CAApB;AACH,KA7D8H;AA+D/HvC,YA/D+H,oBA+DtHd,UA/DsH,EA+D1GzF,OA/D0G,EA+DjG;AAC1B,aAAKkG,eAAL,CAAqBlG,OAArB;AACH,KAjE8H;AAmE/HoG,WAnE+H,mBAmEvH8B,KAnEuH,EAmEhHzC,UAnEgH,EAmEpGzF,OAnEoG,EAmE3F;AAChC,aAAKkG,eAAL,CAAqBlG,OAArB;AACH,KArE8H;AAuE/HqG,cAvE+H,sBAuEpH6B,KAvEoH,EAuE7GzC,UAvE6G,EAuEjGzF,OAvEiG,EAuExF;AACnC,aAAKkG,eAAL,CAAqBlG,OAArB;AACH,KAzE8H;AA2E/HsG,aA3E+H,qBA2ErHb,UA3EqH,EA2EzGzF,OA3EyG,EA2EhG;AAC3B,aAAKkG,eAAL,CAAqBlG,OAArB;AACH,KA7E8H;AA+E/H+I,QA/E+H,gBA+E1H/I,OA/E0H,EA+EjH;AACV,aAAK0F,gBAAL,CAAsBqD,IAAtB,CAA2B/I,OAA3B;AACH,KAjF8H;;;AAmF/H;;;;AAIAgJ,oBAvF+H,4BAuF9GC,aAvF8G,EAuF/F;AAC5B,YAAI,KAAKlD,KAAL,CAAWE,UAAX,KAA0BgD,aAA9B,EAA6C;AACzC,iBAAKlD,KAAL,CAAWE,UAAX,GAAwBgD,aAAxB;AACA,iBAAK/C,eAAL;AACH;AACJ,KA5F8H;;;AA8F/H;;;;AAIAgD,kBAlG+H,0BAkGhHC,WAlGgH,EAkGnG;AACxB,YAAI,KAAKpD,KAAL,CAAWE,UAAX,KAA0BmD,SAA9B,EAAyC;AACrC,kBAAM,6DAAN;AACH;;AAEDD,sBAAc,KAAKE,mBAAL,CAAyBF,WAAzB,CAAd;AACA,YAAIA,gBAAgB,KAAKpD,KAAL,CAAWC,QAA/B,EAAyC;AACrC,mBAAOmD,WAAP;AACH;;AAED,YAAMG,mBAAmB,KAAK3D,eAAL,CAAqB+B,MAA9C;AACA,YAAM6B,QAAQJ,cAAc,KAAKpD,KAAL,CAAWC,QAAvC;AACA,YAAIwD,kBAAJ;AACA,YAAIC,kBAAJ;AACA,YAAIC,KAAKC,GAAL,CAASJ,KAAT,IAAkBD,gBAAtB,EAAwC;AACpC;AACA,gBAAIC,QAAQ,CAAZ,EAAe;AACXC,4BAAY,KAAK7D,eAAL,CAAqBwB,KAArB,CAA2BoC,KAA3B,CAAZ;AACA,qBAAK7B,MAAL,IAAe8B,UAAU9B,MAAzB;AACA,qBAAK/B,eAAL,CAAqBiE,MAArB,CAA4BJ,SAA5B;AACAC,4BAAY,KAAK/D,gBAAL,CAAsBuB,KAAtB,GAA8BC,IAA9B,CAAmC,KAAKnB,KAAL,CAAWC,QAAX,GAAsBsD,gBAAzD,EAA2EnC,KAA3E,CAAiFoC,KAAjF,EAAwFnC,KAAxF,EAAZ;AACA,qBAAKM,MAAL,IAAe+B,UAAU/B,MAAzB;AACA,qBAAK/B,eAAL,CAAqBkE,GAArB,CAAyBJ,SAAzB;AACH,aAPD,MAOO;AACH,oBAAI,KAAK/B,MAAL,IAAe,KAAK3B,KAAL,CAAWE,UAA9B,EAA0C;AACtCuD,gCAAY,KAAK7D,eAAL,CAAqBmE,IAArB,CAA0B,CAACP,KAA3B,CAAZ;AACA,yBAAK7B,MAAL,IAAe8B,UAAU9B,MAAzB;AACA,yBAAK/B,eAAL,CAAqBiE,MAArB,CAA4BJ,SAA5B;AACH;;AAEDC,4BAAY,KAAK/D,gBAAL,CAAsBuB,KAAtB,GAA8BC,IAA9B,CAAmCiC,WAAnC,EAAgDhC,KAAhD,CAAsD,CAACoC,KAAvD,EAA8DnC,KAA9D,EAAZ;AACA,qBAAKM,MAAL,IAAe+B,UAAU/B,MAAzB;AACA,qBAAK/B,eAAL,CAAqBkE,GAArB,CAAyBJ,SAAzB,EAAoC;AAChCtB,wBAAI;AAD4B,iBAApC;AAGH;AACD,iBAAKpC,KAAL,CAAWC,QAAX,GAAsBmD,WAAtB;AACH,SAvBD,MAuBO;AACH,iBAAKpD,KAAL,CAAWC,QAAX,GAAsBmD,WAAtB;AACA,iBAAKjD,eAAL;AACH;;AAED,eAAOiD,WAAP;AACH,KA7I8H;AA+I/HE,uBA/I+H,+BA+I3GrD,QA/I2G,EA+IjG;AAC1B,YAAM+D,SAASL,KAAKM,GAAL,CAAS,CAAT,EAAY,KAAKtE,gBAAL,CAAsBgC,MAAtB,GAA+B,CAA3C,CAAf;AACA,eAAOgC,KAAKM,GAAL,CAAS,CAAT,EAAYN,KAAKO,GAAL,CAASF,MAAT,EAAiB/D,QAAjB,CAAZ,CAAP;AACH;AAlJ8H,CAAnG,CAAhC;;AAqJA;AACA,CAAC,KAAD,EAAQ,QAAR,EAAkB,KAAlB,EAAyB,OAAzB,EAAkC,MAAlC,EAA0C,KAA1C,EAAiD,SAAjD,EAA4D,OAA5D,EAAqE,OAArE,EAA8E,MAA9E,EAAsF,OAAtF,EAA+FQ,OAA/F,CAAuG,sBAAc;AACjHnB,4BAAwB6E,SAAxB,CAAkCvB,UAAlC,IAAgD,YAAW;AACvD,eAAO,KAAKjD,gBAAL,CAAsBiD,UAAtB,EAAkC1F,KAAlC,CAAwC,KAAKyC,gBAA7C,EAA+DiB,MAAMC,IAAN,CAAWC,SAAX,CAA/D,CAAP;AACH,KAFD;AAGH,CAJD;;AAMA;AACA,CAAC,MAAD,EAAS,IAAT,EAAe,KAAf,EAAsB,QAAtB,EAAgC,KAAhC,EAAuCL,OAAvC,CAA+C,sBAAc;AACzDnB,4BAAwB6E,SAAxB,CAAkCvB,UAAlC,IAAgD,YAAW;AACvD,eAAO,KAAKhD,eAAL,CAAqBgD,UAArB,EAAiC1F,KAAjC,CAAuC,KAAK0C,eAA5C,EAA6DgB,MAAMC,IAAN,CAAWC,SAAX,CAA7D,CAAP;AACH,KAFD;AAGH,CAJD;;AAMAc,EAAEpC,MAAF,CAASF,wBAAwB6E,SAAjC,EAA4CtH,SAASuH,MAArD;;kBAEe9E,uB;;;;;;;;;;;;;;;;;;AChLf;;;;AACA;;;;AACA;;;;AACA;;;;;;;AAJA;;;AAMA,IAAM+E,qBAAqB;AACvBC,UAAM,IADiB;AAEvBC,YAAQC,6BAAmBC,YAFJ;AAGvBC,WAAOF,6BAAmBG;AAHH,CAA3B;;AAMA,IAAMC,gCAAgC,SAASA,6BAAT,CAAuCC,eAAvC,EAAwD;AAC1F,QAAMC,KAAKD,gBAAgBE,QAA3B;AACA,WAAOnD,EAAEoD,QAAF,CAAWF,EAAX,IACD,UAAS3C,KAAT,EAAgB;AACZ,eAAOA,MAAMxE,GAAN,CAAUmH,EAAV,KAAiB3C,MAAM2C,EAAN,CAAxB;AACH,KAHA,GAIDA,EAJN;AAKH,CAPD;;AASA,IAAMG,kCAAkC,SAASA,+BAAT,CAAyCJ,eAAzC,EAA0D;AAC9F,QAAMK,MAAML,gBAAgBM,UAA5B;AACA,WAAOD,QAAQ7B,SAAR,GACDzB,EAAEoD,QAAF,CAAWE,GAAX,IACI,UAAS/C,KAAT,EAAgB;AACZ,eAAOA,MAAMxE,GAAN,CAAUuH,GAAV,KAAkB/C,MAAM+C,GAAN,CAAzB;AACH,KAHL,GAIIA,GALH,GAMDL,gBAAgBE,QANtB;AAOH,CATD;;AAWA,IAAMK,oCAAoC,SAASA,iCAAT,CAA2CP,eAA3C,EAA4D;AAClG,QAAMQ,eAAeR,gBAAgBQ,YAArC;AACA,WAAOA,iBAAiBhC,SAAjB,GACDzB,EAAEoD,QAAF,CAAWK,YAAX,IACI,UAASlD,KAAT,EAAgB;AACZ,eAAO,IAAItF,SAASyI,KAAb,CAAmB;AACtBC,yBAAapD,MAAMxE,GAAN,CAAU0H,YAAV,CADS;AAEtBG,2BAAe;AAFO,SAAnB,CAAP;AAIH,KANL,GAOIH,YARH,GASD,UAASlD,KAAT,EAAgB;AACZ,eAAO,IAAItF,SAASyI,KAAb,CAAmB;AACtBC,yBAAaV,gBAAgBE,QAAhB,CAAyB5C,KAAzB,CADS;AAEtBqD,2BAAe;AAFO,SAAnB,CAAP;AAIH,KAdP;AAeH,CAjBD;;AAmBA,IAAMC,qBAAqB,SAASA,kBAAT,CAA4BZ,eAA5B,EAA6C;AACpE,QAAIA,gBAAgBa,YAApB,EAAkC;AAC9B;AACH;AACD,QAAI,CAACb,gBAAgBc,kBAArB,EAAyC;AACrCd,wBAAgBc,kBAAhB,GAAqC,EAArC;AACH;AACD,QAAI/D,EAAEoD,QAAF,CAAWH,gBAAgBE,QAA3B,CAAJ,EAA0C;AACtCF,wBAAgBc,kBAAhB,CAAmCtD,IAAnC,CAAwCwC,gBAAgBE,QAAxD;AACH;AACD,QAAInD,EAAEoD,QAAF,CAAWH,gBAAgBM,UAA3B,CAAJ,EAA4C;AACxCN,wBAAgBc,kBAAhB,CAAmCtD,IAAnC,CAAwCwC,gBAAgBM,UAAxD;AACH;AACD,QAAIvD,EAAEoD,QAAF,CAAWH,gBAAgBQ,YAA3B,CAAJ,EAA8C;AAC1CR,wBAAgBc,kBAAhB,CAAmCtD,IAAnC,CAAwCwC,gBAAgBQ,YAAxD;AACH;AACDR,oBAAgBc,kBAAhB,GAAqC/D,EAAEgE,IAAF,CAAOf,gBAAgBc,kBAAvB,CAArC;;AAEAd,oBAAgBE,QAAhB,GAA2BH,8BAA8BC,eAA9B,CAA3B;AACAA,oBAAgBM,UAAhB,GAA6BF,gCAAgCJ,eAAhC,CAA7B;AACAA,oBAAgBQ,YAAhB,GAA+BD,kCAAkCP,eAAlC,CAA/B;AACAA,oBAAgBa,YAAhB,GAA+B,IAA/B;AACH,CAtBD;;AAwBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,IAAMG,oBAAoBhJ,SAAS0C,UAAT,CAAoBC,MAApB;AACtB,iEAAkE;AAC9DC,eAD8D,uBAClDC,UADkD,EACxB;AAAA;;AAAA,YAAdzF,OAAc,uEAAJ,EAAI;;AAClC,aAAKA,OAAL,GAAeA,OAAf;AACA,aAAK6L,MAAL,GAAc,KAAK7L,OAAL,CAAa6L,MAA3B;AACA,YAAI7L,QAAQ8L,UAAR,KAAuB1C,SAA3B,EAAsC;AAClCpJ,oBAAQ8L,UAAR,GAAqB,IAArB;AACH;AACD,YAAI,CAACrG,UAAL,EAAiB;AACbA,yBAAa,IAAI7C,SAAS0C,UAAb,EAAb;AACA,gBAAI,KAAK4C,KAAT,EAAgB;AACZzC,2BAAWyC,KAAX,GAAmB,KAAKA,KAAxB;AACH;AACJ;AACD,YAAI,KAAKvF,GAAL,IAAY,CAAC8C,WAAW9C,GAA5B,EAAiC;AAC7B8C,uBAAW9C,GAAX,GAAiB,KAAKA,GAAtB;AACH;AACD,YAAI,KAAKoJ,KAAL,KAAenJ,SAAS0C,UAAT,CAAoB4E,SAApB,CAA8B6B,KAAjD,EAAwD;AACpDtG,uBAAWsG,KAAX,GAAmB,KAAKA,KAAxB;AACH;AACD,aAAKrG,gBAAL,GAAwBD,UAAxB;;AAEA,YAAIzF,QAAQkL,UAAR,KAAuB9B,SAA3B,EAAsC;AAClC,iBAAK8B,UAAL,GAAkBlL,QAAQkL,UAA1B;AACH;;AAED,YAAIlL,QAAQgM,QAAR,KAAqB5C,SAAzB,EAAoC;AAChC,iBAAK4C,QAAL,GAAgBhM,QAAQgM,QAAxB;AACH;;AAED,YAAIhM,QAAQiM,MAAR,KAAmB7C,SAAvB,EAAkC;AAC9B,iBAAK8C,QAAL,GAAgBlM,QAAQiM,MAAxB;AACH;;AAED,aAAKE,MAAL;;AAEA,aAAKpG,KAAL,GAAa;AACTC,sBAAUhG,QAAQgG,QAAR,IAAoB,CADrB;AAETC,wBAAYjG,QAAQiG,UAAR,IAAsB;AAFzB,SAAb;AAIA,aAAKmG,aAAL,GAAqB,EAArB;;AAEA,aAAKC,SAAL,GAAiBrM,QAAQqM,SAAzB;;AAEA,aAAKC,iBAAL,GAAyB3E,EAAE4E,QAAF,CAAW;AAAA,mBAAa,MAAKrG,eAAL,wBAAb;AAAA,SAAX,EAAuD,EAAvD,CAAzB;;AAEA;AACAlG,gBAAQ4F,UAAR,IAAsB,KAAKC,eAAL,CAAqB7F,QAAQ4F,UAA7B,EAAyC,OAAzC,CAAtB;AACA;AACA5F,gBAAQ8F,YAAR,IAAwB,KAAKD,eAAL,CAAqB7F,QAAQ8F,YAA7B,EAA2C,SAA3C,CAAxB;;AAEA,YAAI9F,QAAQkI,KAAZ,EAAmB;AACf,iBAAKA,KAAL,GAAalI,QAAQkI,KAArB;AACH,SAFD,MAEO,IAAIzC,WAAWyC,KAAf,EAAsB;AACzB,iBAAKA,KAAL,GAAazC,WAAWyC,KAAxB;AACH;;AAED,aAAKsE,cAAL,CAAoB,EAApB,EAAwB,IAAxB;;AAEA,aAAKrG,QAAL,CAAcV,UAAd,EAA0B,KAA1B,EAAiC,KAAKW,OAAtC;AACA,aAAKD,QAAL,CAAcV,UAAd,EAA0B,QAA1B,EAAoC,KAAKgH,UAAzC;AACA,aAAKtG,QAAL,CAAcV,UAAd,EAA0B,OAA1B,EAAmC,KAAKa,SAAxC;AACA,aAAKH,QAAL,CAAcV,UAAd,EAA0B,MAA1B,EAAkC,KAAKc,QAAvC;AACA,aAAKJ,QAAL,CAAcV,UAAd,EAA0B,MAA1B,EAAkC,KAAKiH,QAAvC;AACA,aAAKvG,QAAL,CAAcV,UAAd,EAA0B,QAA1B,EAAoC,KAAKkH,UAAzC;;AAEA,aAAKlM,UAAL,CAAgBwC,KAAhB,CAAsB,IAAtB,EAA4B4D,SAA5B;;AAEA,YAAI+F,gCAAJ;AACA,YAAMC,2BAA2B,KAAK7M,OAAL,CAAaoK,kBAA9C;AACA,YAAIyC,4BAA4BzC,mBAAmByC,wBAAnB,MAAiDzD,SAAjF,EAA4F;AACxFwD,sCAA0BxC,mBAAmByC,wBAAnB,CAA1B;AACH,SAFD,MAEO;AACHD,sCAA0BxC,mBAAmBE,MAA7C;AACH;AACD,YAAIsC,uBAAJ,EAA6B;AACzBjF,cAAEpC,MAAF,CAAS,IAAT,EAAe,IAAIqH,uBAAJ,CAA4B,IAA5B,CAAf;AACH;AACDjF,UAAEpC,MAAF,CAAS,IAAT,EAAe,IAAIuH,4BAAkBC,mBAAtB,CAA0C,IAA1C,CAAf;AACH,KA9E6D;AAgF9DC,WAhF8D,qBAgFpD;AACN,aAAKR,cAAL,CAAoB,EAApB,EAAwB,IAAxB;AACH,KAlF6D;AAoF9DA,kBApF8D,4BAoFtB;AAAA,YAAzBxM,OAAyB,uEAAf,EAAe;AAAA,YAAXiN,SAAW;;AACpC,YAAIC,eAAe,KAAKxH,gBAAL,CAAsB+B,MAAzC;AACA,YAAI,KAAKyE,QAAL,KAAkB9C,SAAlB,IAA+B,OAAO,KAAK8C,QAAZ,KAAyB,UAA5D,EAAwE;AACpEgB,2BAAe,KAAKC,cAAL,CAAoB,KAAKzH,gBAAL,CAAsB+B,MAA1C,CAAf;AACH;;AAED,aAAK2F,KAAL,GAAa,KAAKC,iBAAL,CAAuBH,YAAvB,EAAqC,CAArC,CAAb;AACA,YAAID,SAAJ,EAAe;AACX,iBAAK/G,eAAL,CAAqBlG,OAArB;AACH,SAFD,MAEO;AACH,iBAAKsM,iBAAL,CAAuBtM,OAAvB;AACH;AACJ,KAhG6D;AAkG9DkG,mBAlG8D,2BAkG9ClG,OAlG8C,EAkGrC;AACrB,YAAMsN,YAAY,KAAKlB,aAAL,CAAmBmB,MAAnB,EAAlB;AACA,aAAKpB,MAAL;AACA,aAAKC,aAAL,GAAqB,EAArB;AACA,aAAKoB,aAAL,GAAqB,CAArB;AACA,aAAK1F,qBAAL,CAA2B,KAAKsF,KAAhC;AACA,YAAI,CAAC,KAAK3F,MAAL,CAAYC,MAAjB,EAAyB;AACrB,iBAAKX,OAAL,CAAa,OAAb,EAAsB,IAAtB;AACA;AACH;;AAED,YAAI,KAAKsF,SAAT,EAAoB;AAChB,iBAAKD,aAAL,GAAqB,KAAK3E,MAAL,CAAYgG,KAAZ,CAAkB,KAAK1H,KAAL,CAAWC,QAA7B,EAAuC,KAAKD,KAAL,CAAWC,QAAX,GAAsB,KAAKD,KAAL,CAAWE,UAAxE,CAArB;AACH,SAFD,MAEO;AACH,iBAAKmG,aAAL,GAAqB,KAAK3E,MAA1B;AACH;AACD,aAAK+F,aAAL,GAAqB,KAAKpB,aAAL,CAAmB1E,MAAxC;AACA,aAAKgG,cAAL,CAAoBJ,SAApB,EAA+BtN,OAA/B;AACH,KApH6D;AAsH9D2N,cAtH8D,sBAsHnDzF,KAtHmD,EAsH5ClI,OAtH4C,EAsHnC;AACvB,YAAMoN,QAAQ,KAAKhB,aAAL,CAAmBwB,OAAnB,CAA2B1F,KAA3B,CAAd;AACA,aAAKnB,OAAL,CAAa,KAAb,EAAoBmB,KAApB,EAA2B,IAA3B,EAAiCZ,OAAOC,MAAP,CAAc,EAAd,EAAkBvH,OAAlB,EAA2B,EAAEmI,IAAIiF,KAAN,EAAaA,YAAb,EAA3B,CAAjC,EAFuB,CAE6D;AACvF,KAzH6D;AA2H9DS,kBA3H8D,0BA2H/CC,OA3H+C,EA2HtC9N,OA3HsC,EA2H7B;AAC7B,aAAK+G,OAAL,CACI,QADJ,EAEI,IAFJ,EAGIO,OAAOC,MAAP,CAAc,EAAd,EAAkBvH,OAAlB,EAA2B;AACvB+N,qBAAS;AACLD,gCADK;AAELE,uBAAO,EAFF;AAGLC,wBAAQ;AAHH;AADc,SAA3B,CAHJ;AAWH,KAvI6D;AAyI9DnG,yBAzI8D,iCAyIxCC,IAzIwC,EAyIvB;AAAA;;AAAA,YAAXmG,KAAW,uEAAH,CAAG;;AACnC;AACA,YAAI,KAAKhD,UAAT,EAAqB;AACjB,gBAAIvD,EAAEoD,QAAF,CAAW,KAAKG,UAAhB,KAA+B,KAAKA,UAAL,CAAgBxD,MAAhB,KAA2B,CAA9D,EAAiE;AAC7DK,qBAAKN,MAAL,GAAcE,EAAEwG,MAAF,CAASpG,KAAKN,MAAd,EAAsB,KAAKyD,UAA3B,EAAuC,IAAvC,CAAd;AACH,aAFD,MAEO;AACHnD,qBAAKN,MAAL,CAAYsB,IAAZ,CAAiBpB,EAAEkB,IAAF,CAAO,KAAKqC,UAAZ,EAAwB,IAAxB,CAAjB;AACH;AACJ;AACDnD,aAAKvB,OAAL,CAAa,iBAAS;AAClB,mBAAKkB,MAAL;AACA,mBAAKD,MAAL,CAAYW,IAAZ,CAAiBF,KAAjB;AACA,mBAAKkG,aAAL,CAAmBlG,KAAnB;;AAEAA,kBAAMzC,UAAN,GAAmB,MAAnB;AACAyC,kBAAMgG,KAAN,GAAcA,KAAd;;AAEA5G,mBAAOC,MAAP,CAAcW,KAAd,EAAqB,2CAAiB,MAAjB,CAArB;;AAEA,gBAAI,CAACA,MAAMM,SAAP,IAAoBN,MAAMO,QAA9B,EAAwC;AACpC;AACA,oBAAI,OAAKoD,MAAT,EAAiB;AACb,2BAAK/C,aAAL,CAAmBZ,MAAMO,QAAzB,EAAmC,kBAAnC;AACA,2BAAK4F,YAAL,CAAkBnG,MAAMO,QAAxB,EAAkC,kBAAlC,EAAsD,OAAK6D,iBAA3D;AACH;AACD,oBAAI,OAAKT,MAAL,IAAe,OAAKK,QAApB,IAAgChE,MAAMoG,gBAA1C,EAA4D;AACxD,2BAAKxG,qBAAL,CAA2B,IAAIlF,SAAS0C,UAAb,CAAwB4C,MAAMoG,gBAA9B,CAA3B,EAA4EJ,QAAQ,CAApF;AACH,iBAFD,MAEO;AACH,2BAAKpG,qBAAL,CAA2BI,MAAMO,QAAjC,EAA2CyF,QAAQ,CAAnD;AACH;AACJ;AACJ,SAtBD;AAuBH,KAzK6D;AA2K9Db,qBA3K8D,6BA2K5C5F,MA3K4C,EA2KpCO,CA3KoC,EA2KjC;AACzB,YAAMuG,OAAO,IAAb;AACA,YAAIvG,IAAI,KAAKgE,QAAL,CAActE,MAAtB,EAA8B;AAC1B,gBAAMkD,kBAAkB,KAAKoB,QAAL,CAAchE,CAAd,CAAxB;AACAwD,+BAAmBZ,eAAnB;;AAEA,mBAAO,IAAIhI,SAAS0C,UAAb,CACHqC,EAAEV,KAAF,CAAQQ,MAAR,EACK+G,OADL,CACa5D,gBAAgBE,QAD7B,EAEK2D,GAFL,CAES,aAAK;AACN,oBAAMC,OAAO9D,gBAAgBQ,YAAhB,CAA6BuD,EAAE,CAAF,CAA7B,EAAmCA,CAAnC,CAAb;AACAD,qBAAKE,aAAL,GAAqBhE,gBAAgBE,QAAhB,CAAyB6D,EAAE,CAAF,CAAzB,CAArB;AACAD,qBAAKG,eAAL,GAAuBjE,gBAAgBM,UAAhB,CAA2ByD,EAAE,CAAF,CAA3B,EAAiCA,CAAjC,CAAvB;AACAD,qBAAKjG,QAAL,GAAgB8F,KAAKlB,iBAAL,CAAuBsB,CAAvB,EAA0B3G,IAAI,CAA9B,CAAhB;AACA,uBAAO0G,IAAP;AACH,aARL,EASKP,MATL,CASY;AAAA,uBAAKW,EAAED,eAAP;AAAA,aATZ,EAUKzH,KAVL,EADG,CAAP;AAaH;AACD,eAAO,IAAIxE,SAAS0C,UAAb,CAAwBmC,MAAxB,CAAP;AACH,KAhM6D;AAkM9DuB,oBAlM8D,4BAkM7CC,aAlM6C,EAkM9B;AAC5B,YAAI,KAAKlD,KAAL,CAAWE,UAAX,KAA0BgD,aAA9B,EAA6C;AACzC,iBAAKoD,SAAL,GAAiB,IAAjB;AACA,iBAAKtG,KAAL,CAAWE,UAAX,GAAwBgD,aAAxB;AACA,gBAAMqE,YAAY,KAAKlB,aAAL,CAAmBmB,MAAnB,EAAlB;AACA,iBAAKnB,aAAL,GAAqB,KAAK3E,MAAL,CAAYgG,KAAZ,CAAkB,KAAK1H,KAAL,CAAWC,QAA7B,EAAuC,KAAKD,KAAL,CAAWC,QAAX,GAAsB,KAAKD,KAAL,CAAWE,UAAxE,CAArB;AACA,iBAAKuH,aAAL,GAAqB,KAAKpB,aAAL,CAAmB1E,MAAxC;AACA,iBAAKgG,cAAL,CAAoBJ,SAApB;AACH;AACJ,KA3M6D;;;AA6M9D;;;;AAIApE,kBAjN8D,0BAiN/CC,WAjN+C,EAiNlC;AAAA;;AACxB,YAAI,KAAKpD,KAAL,CAAWE,UAAX,KAA0BmD,SAA9B,EAAyC;AACrC,kBAAM,6DAAN;AACH;AACD,aAAK2F,cAAL,GAAsB,IAAtB;;AAEA5F,sBAAc,KAAKE,mBAAL,CAAyBF,WAAzB,CAAd;AACA,YAAIA,gBAAgB,KAAKpD,KAAL,CAAWC,QAA/B,EAAyC;AACrC,mBAAOmD,WAAP;AACH;;AAED,YAAMG,mBAAmB,KAAK8C,aAAL,CAAmB1E,MAA5C;AACA,YAAM6B,QAAQJ,cAAc,KAAKpD,KAAL,CAAWC,QAAvC;AACA,YAAIwD,YAAY,EAAhB;AACA,YAAIC,YAAY,EAAhB;AACA,YAAIC,KAAKC,GAAL,CAASJ,KAAT,IAAkBD,gBAAtB,EAAwC;AACpC;AACA,gBAAIC,QAAQ,CAAZ,EAAe;AAAA;;AACXC,4BAAY,KAAK4C,aAAL,CAAmB4C,MAAnB,CAA0B,CAA1B,EAA6BzF,KAA7B,CAAZ;AACA,qBAAKiE,aAAL,IAAsBhE,UAAU9B,MAAhC;AACA+B,4BAAY,KAAKhC,MAAL,CAAYgG,KAAZ,CAAkB,KAAK1H,KAAL,CAAWC,QAAX,GAAsBsD,gBAAxC,EAA0D,KAAKvD,KAAL,CAAWC,QAAX,GAAsBsD,gBAAtB,GAAyCC,KAAnG,CAAZ;AACA,qBAAKiE,aAAL,IAAsB/D,UAAU/B,MAAhC;AACA,uCAAK0E,aAAL,EAAmBhE,IAAnB,0CAA2BqB,SAA3B;AACH,aAND,MAMO;AAAA;;AACH,oBAAI,KAAK+D,aAAL,IAAsB,KAAKzH,KAAL,CAAWE,UAArC,EAAiD;AAC7C;AACAuD,gCAAY,KAAK4C,aAAL,CAAmB4C,MAAnB,CAA0B,KAAK5C,aAAL,CAAmB1E,MAAnB,GAA4B6B,KAAtD,EAA6D,KAAK6C,aAAL,CAAmB1E,MAAhF,CAAZ;AACA,yBAAK8F,aAAL,IAAsBhE,UAAU9B,MAAhC;AACH;;AAED+B,4BAAY,KAAKhC,MAAL,CAAYgG,KAAZ,CAAkBtE,WAAlB,EAA+BA,cAAcI,KAA7C,CAAZ;AACA,qBAAKiE,aAAL,IAAsB/D,UAAU/B,MAAhC;AACA,wCAAK0E,aAAL,EAAmBtF,OAAnB,2CAA8B2C,SAA9B;AACH;AACD,iBAAKoE,cAAL,CAAoBrE,SAApB;AACA;AACAC,sBAAUjD,OAAV,CAAkB;AAAA,uBAAS,OAAKmH,UAAL,CAAgBvG,KAAhB,CAAT;AAAA,aAAlB;AACA,iBAAKrB,KAAL,CAAWC,QAAX,GAAsBmD,WAAtB;AACA,iBAAKqE,aAAL,GAAqB,KAAKpB,aAAL,CAAmB1E,MAAxC;AACH,SAxBD,MAwBO;AACH,iBAAK3B,KAAL,CAAWC,QAAX,GAAsBmD,WAAtB;AACA,gBAAMmE,YAAY,KAAKlB,aAAL,CAAmBmB,MAAnB,EAAlB;AACA,iBAAKnB,aAAL,GAAqB,KAAK3E,MAAL,CAAYgG,KAAZ,CAAkB,KAAK1H,KAAL,CAAWC,QAA7B,EAAuC,KAAKD,KAAL,CAAWC,QAAX,GAAsB,KAAKD,KAAL,CAAWE,UAAxE,CAArB;AACA,iBAAKuH,aAAL,GAAqB,KAAKpB,aAAL,CAAmB1E,MAAxC;AACA,iBAAKgG,cAAL,CAAoBJ,SAApB;AACH;AACD,aAAKyB,cAAL,GAAsB,KAAtB;;AAEA,eAAO5F,WAAP;AACH,KAlQ6D;AAoQ9DuE,kBApQ8D,0BAoQ/CJ,SApQ+C,EAoQtB;AAAA;;AAAA,YAAdtN,OAAc,uEAAJ,EAAI;;AACpC,YAAMiP,OAAO,IAAIC,oBAAJ,CAAe5B,SAAf,EAA0B,KAAKlB,aAA/B,CAAb;AACA6C,aAAKE,OAAL;AACA,YAAMC,aAAaH,KAAKI,MAAL,EAAnB;AACA,YAAMrB,QAAQ,EAAd;AACA,YAAMF,UAAU,EAAhB;;AAEAsB,mBAAWrG,IAAX,CAAgB,UAACuG,CAAD,EAAIC,CAAJ;AAAA,mBAAUD,EAAEE,CAAF,GAAMD,EAAEC,CAAlB;AAAA,SAAhB,EAAqChJ,OAArC,CAA6C,kBAAU;AACnD,oBAAQiJ,OAAOD,CAAf;AACI,qBAAK,CAAL;AACI,2BAAKzI,OAAL,CAAa,cAAb,EAA6B0I,OAAOC,IAApC;AACA;AACJ,qBAAK,CAAC,CAAN;AACI5B,4BAAQ1F,IAAR,CAAaqH,OAAOC,IAApB;AACA;AACJ,qBAAK,CAAL;AACI1B,0BAAM5F,IAAN,CAAWqH,OAAOC,IAAlB;AACA;AATR;AAWH,SAZD;;AAcA;AACA,aAAK7B,cAAL,CAAoBC,OAApB,EAA6B9N,OAA7B;AACAgO,cAAMjF,IAAN,CAAW,UAACuG,CAAD,EAAIC,CAAJ;AAAA,mBAAU,OAAKnD,aAAL,CAAmBwB,OAAnB,CAA2B0B,CAA3B,IAAgC,OAAKlD,aAAL,CAAmBwB,OAAnB,CAA2B2B,CAA3B,CAA1C;AAAA,SAAX,EAAoF/I,OAApF,CAA4F;AAAA,mBAAS,OAAKmH,UAAL,CAAgBzF,KAAhB,EAAuBlI,OAAvB,CAAT;AAAA,SAA5F;AACH,KA5R6D;AA8R9DqJ,uBA9R8D,+BA8R1CrD,QA9R0C,EA8RhC;AAC1B,YAAM+D,SAASL,KAAKM,GAAL,CAAS,CAAT,EAAY,KAAKtC,MAAL,GAAc,CAA1B,CAAf;AACA,eAAOgC,KAAKM,GAAL,CAAS,CAAT,EAAYN,KAAKO,GAAL,CAASF,MAAT,EAAiB/D,QAAjB,CAAZ,CAAP;AACH,KAjS6D;AAmS9DiG,UAnS8D,kBAmSvDC,QAnSuD,EAmS7C;AACb,aAAKA,QAAL,GAAgBA,QAAhB;AACA,aAAKM,cAAL,CAAoB,EAApB,EAAwB,IAAxB;AACH,KAtS6D;AAwS9DW,kBAxS8D,0BAwS/C1F,MAxS+C,EAwSvC;AAAA;;AACnB,YAAMkI,SAAS,EAAf;AACAlI,eAAOjB,OAAP,CAAe,iBAAS;AACpB,gBAAI0B,MAAMO,QAAN,IAAkBP,MAAMO,QAAN,CAAef,MAArC,EAA6C;AACzCQ,sBAAMoG,gBAAN,GAAyB,OAAKnB,cAAL,CAAoBjF,MAAMO,QAAN,CAAehB,MAAnC,CAAzB;AACH;AACD,gBAAI,OAAKyE,QAAL,CAAc0D,IAAd,CAAmBnI,MAAnB,EAA2BS,KAA3B,KAAsCA,MAAMoG,gBAAN,IAA0BpG,MAAMoG,gBAAN,CAAuB5G,MAA3F,EAAoG;AAChGiI,uBAAOvH,IAAP,CAAYF,KAAZ;AACH;AACJ,SAPD;AAQA,eAAOyH,MAAP;AACH,KAnT6D;AAqT9DzK,SArT8D,iBAqTxD8G,QArTwD,EAqT9C;AACZ,YAAIA,aAAa5C,SAAjB,EAA4B;AACxB,iBAAK4C,QAAL,GAAgBA,QAAhB;AACH;;AAED,aAAKQ,cAAL;AACH,KA3T6D;AA6T9D3G,mBA7T8D,2BA6T9C6C,IA7T8C,EA6TxCC,UA7TwC,EA6T5B;AAC9BD,aAAKE,EAAL,CAAQD,UAAR,EAAoBhB,EAAEkB,IAAF,CAAO,KAAKC,aAAZ,EAA2B,IAA3B,CAApB;AACH,KA/T6D;;;AAiU9DkD,cAAU,EAjUoD;;AAmU9DzF,YAnU8D,oBAmUrDd,UAnUqD,EAmUzCzF,OAnUyC,EAmUhC;AAC1B,YAAI,KAAKkL,UAAL,KAAoB9B,SAAxB,EAAmC;AAC/B;AACH;;AAED,aAAKoD,cAAL,CAAoBxM,OAApB;AACH,KAzU6D;AA2U9D0M,YA3U8D,oBA2UrDjH,UA3UqD,EA2UzCoK,IA3UyC,EA2UnC7P,OA3UmC,EA2U1B;AAChC,aAAK+G,OAAL,CAAa,MAAb,EAAqBtB,UAArB,EAAiCoK,IAAjC,EAAuC7P,OAAvC;AACH,KA7U6D;AA+U9DoG,WA/U8D,mBA+UtD8B,KA/UsD,EA+U/CzC,UA/U+C,EA+UnCzF,OA/UmC,EA+U1B;AAChC;AACA,YAAIA,QAAQmI,EAAR,KAAeiB,SAAnB,EAA8B;AAC1B;AACA,gBAAM0G,aAAa,SAAbA,UAAa,CAASC,GAAT,EAAchI,IAAd,EAAoB;AACnC,qBAAK,IAAIC,IAAI,CAAR,EAAWC,MAAMF,KAAKL,MAA3B,EAAmCM,IAAIC,GAAvC,EAA4CD,GAA5C,EAAiD;AAC7C,wBAAI+H,IAAI/J,QAAJ,KAAiB+J,IAAIC,cAAzB,EAAyC;AACrCjI,6BAAK8B,GAAL,CAASkG,IAAI7H,KAAb,EAAoB,EAAEC,IAAIH,CAAN,EAApB;AACA,+BAAO,IAAP;AACH;AACD+H,wBAAI/J,QAAJ;AACA,wBAAMiK,aAAalI,KAAKI,EAAL,CAAQH,CAAR,CAAnB;AACA,wBAAIiI,WAAWxH,QAAX,IAAuBqH,WAAWC,GAAX,EAAgBE,WAAWxH,QAA3B,CAA3B,EAAiE;AAC7D,+BAAO,IAAP;AACH;AACJ;AACJ,aAZD;AAaA,gBAAMuF,QAAQ8B,WAAW,EAAE9J,UAAU,CAAZ,EAAegK,gBAAgBhQ,QAAQmI,EAAvC,EAA2CD,YAA3C,EAAX,EAA+D,KAAKkF,KAApE,CAAd;AACA,gBAAI,CAACY,KAAL,EAAY;AACR;AACA,oBAAIkC,mBAAmB,KAAK9C,KAA5B;AACA,uBAAO8C,iBAAiBxI,MAAjB,GAA0B,CAA1B,IAA+BwI,iBAAiB/H,EAAjB,CAAoB+H,iBAAiBxI,MAAjB,GAA0B,CAA9C,EAAiDe,QAAvF,EAAiG;AAC7FyH,uCAAmBA,iBAAiB/H,EAAjB,CAAoB+H,iBAAiBxI,MAAjB,GAA0B,CAA9C,EAAiDe,QAApE;AACH;AACDyH,iCAAiBrG,GAAjB,CAAqB3B,KAArB,EAA4B,EAAEC,IAAI+H,iBAAiBxI,MAAvB,EAA5B;AACH;AACD;AACA,iBAAKxB,eAAL;AACA;AACH;;AAED,aAAKsG,cAAL;AACH,KA/W6D;AAiX9DnG,cAjX8D,sBAiXnD6B,KAjXmD,EAiX9B;AAAA,YAAdlI,OAAc,uEAAJ,EAAI;;AAC5B,YAAIgI,UAAJ;AACA,YAAIC,YAAJ;;AAEA;AACA,iBAASkI,0BAAT,CAAoCvB,aAApC,EAAmD;AAC/C,mBAAO,UAASwB,CAAT,EAAY;AACf,uBAAOA,EAAExB,aAAF,KAAoBA,aAA3B;AACH,aAFD;AAGH;AACD,YAAIxB,QAAQ,KAAKA,KAAjB;AACA,YAAMiD,aAAa,EAAnB;AACA,YAAI,KAAKrE,QAAT,EAAmB;AACf,iBAAKhE,IAAI,CAAJ,EAAOC,MAAM,KAAK+D,QAAL,CAActE,MAAhC,EAAwCM,IAAIC,GAA5C,EAAiDD,GAAjD,EAAsD;AAClD,oBAAM4C,kBAAkB,KAAKoB,QAAL,CAAchE,CAAd,CAAxB;AACA,oBAAMsI,YAAYlD,MAAMnB,MAAN,CAAakE,2BAA2BvF,gBAAgBE,QAAhB,CAAyB5C,KAAzB,CAA3B,CAAb,EAA0E,CAA1E,CAAlB;AACA,oBAAI,CAACoI,SAAL,EAAgB;AACZ;AACH;AACDD,2BAAWjI,IAAX,CAAgBkI,SAAhB;AACAlD,wBAAQkD,UAAU7H,QAAlB;AACH;AACJ;;AAED,YAAI8H,OAAOnD,MAAM1J,GAAN,CAAUwE,KAAV,CAAX;AACA,YAAIqI,IAAJ,EAAU;AACNnD,kBAAMxD,MAAN,CAAa2G,IAAb;AACA;AACA,iBAAKC,gBAAL,CAAsBtI,KAAtB;AACH;;AAED,aAAKF,IAAIqI,WAAW3I,MAAX,GAAoB,CAA7B,EAAgCM,KAAK,CAArC,EAAwCA,GAAxC,EAA6C;AACzCuI,mBAAOF,WAAWrI,CAAX,CAAP;AACAoF,oBAAQiD,WAAWrI,IAAI,CAAf,KAAqB,KAAKoF,KAAlC;AACA,gBAAImD,KAAK9H,QAAL,CAAcf,MAAd,KAAyB,CAA7B,EAAgC;AAC5B0F,sBAAMxD,MAAN,CAAa2G,IAAb;AACA;AACA,qBAAKC,gBAAL,CAAsBtI,KAAtB;AACH;AACJ;;AAED,aAAKsE,cAAL,CAAoBxM,OAApB;AACH,KA3Z6D;AA6Z9D2M,cA7Z8D,sBA6ZnDlH,UA7ZmD,EA6ZvCgL,mBA7ZuC,EA6ZlBzQ,OA7ZkB,EA6ZT;AAAA;;AACjD,YAAM+N,UAAU0C,oBAAoB1C,OAApC;;AAEA,YAAIA,QAAQE,MAAR,IAAkBF,QAAQE,MAAR,CAAevG,MAArC,EAA6C;AACzCqG,oBAAQE,MAAR,CAAezH,OAAf,CAAuB;AAAA,uBAAS,OAAKiG,UAAL,CAAgBvE,KAAhB,EAAuBlI,OAAvB,EAAgC,IAAhC,CAAT;AAAA,aAAvB;AACH;AACD,YAAI+N,QAAQD,OAAR,IAAmBC,QAAQD,OAAR,CAAgBpG,MAAvC,EAA+C;AAC3CqG,oBAAQD,OAAR,CAAgBtH,OAAhB,CAAwB;AAAA,uBAAS,OAAKH,UAAL,CAAgB6B,KAAhB,EAAuBlI,OAAvB,CAAT;AAAA,aAAxB;AACH;AACJ,KAta6D;AAwa9D0Q,sBAxa8D,8BAwa3CxI,KAxa2C,EAwapClI,OAxaoC,EAwa3B;AAC/B,YAAI,CAAC,KAAK0D,GAAL,CAASwE,KAAT,CAAL,EAAsB;AAClB;AACH;;AAED,eAAO,KAAKG,KAAL,CAAWH,MAAMK,EAAjB,CAAP;AACA,eAAO,KAAKF,KAAL,CAAWH,MAAMI,GAAjB,CAAP;AACA,YAAM8E,QAAQ,KAAKQ,OAAL,CAAa1F,KAAb,CAAd;AACA,aAAKT,MAAL,CAAYuH,MAAZ,CAAmB5B,KAAnB,EAA0B,CAA1B;AACA,aAAK1F,MAAL;AACA,aAAK8I,gBAAL,CAAsBtI,KAAtB,EAA6BlI,OAA7B;AACH,KAnb6D;AAqb9DyM,cArb8D,sBAqbnDvE,KArbmD,EAqb5ClI,OArb4C,EAqbnC2Q,eArbmC,EAqblB;AACxC,YAAI,KAAK3Q,OAAL,CAAa4Q,mBAAjB,EAAsC;AAClC;AACH;AACD,YAAMC,UAAUvJ,OAAOwJ,IAAP,CAAY5I,MAAM6I,iBAAN,EAAZ,CAAhB;AACA,YAAMC,0BAA0B,EAAhC;AACA,aAAKhF,QAAL,CAAcxF,OAAd,CAAsB,aAAK;AACvB,gBAAIyK,EAAEvF,kBAAN,EAA0B;AACtB,qBAAK,IAAI1D,IAAI,CAAR,EAAWC,MAAMgJ,EAAEvF,kBAAF,CAAqBhE,MAA3C,EAAmDM,IAAIC,GAAvD,EAA4DD,GAA5D,EAAiE;AAC7DgJ,4CAAwB5I,IAAxB,CAA6B6I,EAAEvF,kBAAF,CAAqB1D,CAArB,CAA7B;AACH;AACJ;AACJ,SAND;;AAQA,YAAIkJ,kBAAkBvJ,EAAEwJ,GAAF,CAAMN,OAAN,EAAe;AAAA,mBAAOG,wBAAwBpD,OAAxB,CAAgCwD,GAAhC,MAAyC,CAAC,CAAjD;AAAA,SAAf,CAAtB;;AAEA,YAAI,CAACF,eAAD,IAAoB,KAAKhG,UAA7B,EAAyC;AACrC,gBAAMmG,gBAAgB,IAAInJ,MAAM1C,WAAV,CAAsB0C,MAAMoJ,kBAAN,EAAtB,EAAkDpJ,MAAMlI,OAAxD,CAAtB;AACA,gBAAI,KAAKkL,UAAL,CAAgBxD,MAAhB,KAA2B,CAA/B,EAAkC;AAC9B,oBAAM6J,UAAU,KAAKrG,UAAL,CAAgBmG,aAAhB,CAAhB;AACA,oBAAMG,UAAU,KAAKtG,UAAL,CAAgBhD,KAAhB,CAAhB;AACAgJ,kCAAkBK,YAAYC,OAA9B;AACH,aAJD,MAIO,IAAI,KAAKtG,UAAL,CAAgBxD,MAAhB,KAA2B,CAA/B,EAAkC;AACrCwJ,kCAAkB,KAAKhG,UAAL,CAAgBmG,aAAhB,EAA+BnJ,KAA/B,MAA0C,CAA5D;AACH;AACJ;;AAED,YAAIgJ,mBAAmBP,eAAvB,EAAwC;AACpC,iBAAKnE,cAAL,CAAoBxM,OAApB;AACH;AACJ,KAnd6D;AAqd9DsG,aArd8D,qBAqdpDb,UArdoD,EAqdxCzF,OArdwC,EAqd/B;AAC3B,aAAKwM,cAAL,CAAoBxM,OAApB,EAA6B,IAA7B;AACH,KAvd6D;AAyd9D+I,QAzd8D,gBAydzD/I,OAzdyD,EAydhD;AACV,aAAKwM,cAAL,CAAoBxM,OAApB;AACH,KA3d6D;AA6d9DyR,YA7d8D,oBA6drDvJ,KA7dqD,EA6d9C;AACZA,cAAMuJ,QAAN;AACA,aAAKjF,cAAL;AACA,aAAK9G,gBAAL,CAAsBqB,OAAtB,CAA8B,UAA9B,EAA0CmB,KAA1C;AACH,KAje6D;AAme9DwJ,UAne8D,kBAmevDxJ,KAneuD,EAmehD;AACVA,cAAMwJ,MAAN;AACA,aAAKlF,cAAL;AACA,aAAK9G,gBAAL,CAAsBqB,OAAtB,CAA8B,QAA9B,EAAwCmB,KAAxC;AACH,KAve6D;AAye9DyJ,YAze8D,sBAyenD;AACP,eAAO,KAAK5L,KAAZ;AACH;AA3e6D,CAD5C,CAA1B;;AAgfA;AACA,CAAC,KAAD,EAAQ,QAAR,EAAkB,KAAlB,EAAyB,OAAzB,EAAkC,MAAlC,EAA0C,KAA1C,EAAiD,SAAjD,EAA4D,OAA5D,EAAqE,OAArE,EAA8E,MAA9E,EAAsF,OAAtF,EAA+F,QAA/F,EAAyG,OAAzG,EAAkH,WAAlH,EAA+HS,OAA/H,CAAuI,sBAAc;AACjJoF,sBAAkB1B,SAAlB,CAA4BvB,UAA5B,IAA0C,YAAW;AACjD,eAAO,KAAKjD,gBAAL,CAAsBiD,UAAtB,EAAkC1F,KAAlC,CAAwC,KAAKyC,gBAA7C,EAA+DiB,MAAMC,IAAN,CAAWC,SAAX,CAA/D,CAAP;AACH,KAFD;AAGH,CAJD;;AAMAS,OAAOC,MAAP,CAAcqE,kBAAkB1B,SAAhC,EAA2CtH,SAASuH,MAApD;;kBAEeyB,iB;;;;;;;;;;;;;;;;;;AChmBf;;;;;;;;;;AAUA,IAAMgG,wBAAwB,SAAxBA,qBAAwB,GAAW,CAAE,CAA3C;;AAEAtK,OAAOC,MAAP,CACIqK,sBAAsB1H,SAD1B;AAEI,8EAA+E;AAC3E;;;;AAIA2H,aAL2E,qBAKjEC,IALiE,EAK3D;AACZ,aAAKpM,gBAAL,CAAsBqM,IAAtB,CAA2B,kBAAU;AACjC,gBAAIC,OAAOH,SAAX,EAAsB;AAClBG,uBAAOH,SAAP,CAAiBC,IAAjB;AACH;AACJ,SAJD;AAKH,KAX0E;;;AAa3E;;;AAGAG,eAhB2E,yBAgB7D;AACV,aAAKvM,gBAAL,CAAsBqM,IAAtB,CAA2B,kBAAU;AACjC,gBAAIC,OAAOC,WAAX,EAAwB;AACpBD,uBAAOC,WAAP;AACH;AACJ,SAJD;AAKH;AAtB0E,CAFnF;;kBA4BeL,qB;;;;;;;;;;;;;;;;;;ACxCf;;;;AACA;;;;AACA;;;;;;kBAEe1R,WAAWgS,aAAX,CAAyB3M,MAAzB,CAAgC;AAC3C9E,cAD2C,sBAChCT,OADgC,EACvB;AAChB,aAAKyF,UAAL,GAAkB,IAAI0M,0BAAJ,CAAqBnS,QAAQyF,UAA7B,CAAlB;AACA,aAAK+C,SAAL,GAAiBxI,QAAQwI,SAAzB;AACA,aAAK4J,QAAL,GAAgBpS,QAAQqS,UAAxB;AACH,KAL0C;;;AAO3CC,cAAUC,WAAWC,OAAX,CAAmBF,0BAAnB,CAPiC;;AAS3ChS,QAAI;AACAmS,wBAAgB;AADhB,KATuC;;AAa3CC,YAAQ;AACJ,oCAA4B;AADxB,KAbmC;;AAiB3CC,eAAW,aAjBgC;;AAmB3CC,wBAAoB,wBAnBuB;;AAqB3CC,eAAWC;AArBgC,CAAhC,C;;;;;;;;;;;;;;;;;;ACJf;;;;AACA;;;;;;kBAEelQ,SAAS0C,UAAT,CAAoBC,MAApB,CAA2B;AACtC9E,cADsC,wBACzB;AACT6G,eAAOC,MAAP,CAAc,IAAd,EAAoB,IAAIgD,6BAAmBC,YAAvB,CAAoC,IAApC,CAApB;AACH,KAHqC;;;AAKtCtC,WAAO6K;AAL+B,CAA3B,C;;;;;;;;;;;;;;;;;;ACHf;;;;;;kBAEenQ,SAASyI,KAAT,CAAe9F,MAAf,CAAsB;AACjC9E,cADiC,wBACpB;AACT6G,eAAOC,MAAP,CAAc,IAAd,EAAoB,IAAIgD,6BAAmByI,UAAvB,CAAkC,IAAlC,CAApB;AACH;AAHgC,CAAtB,C;;;;;;;;;;;ACHf,oF;;;;;;;;;;;ACAA,8GAA8G,SAAS,oDAAoD,KAAK,oCAAoC,MAAM,wDAAwD,SAAS,sBAAsB,MAAM,8EAA8E,MAAM,0DAA0D,SAAS,sBAAsB,KAAK,MAAM,aAAa,sCAAsC,QAAQ,KAAK,wF;;;;;;;;;;;;;;;;;;ACC/iB;;;;;;kBAEe9S,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC+M,cAAUC,WAAWC,OAAX,CAAmBF,wBAAnB,CADwB;;AAGlCY,mBAHkC,6BAGhB;AACd,YAAMC,UAAU,KAAKjL,KAAL,CAAWzC,UAAX,CAAsBmI,OAAtB,CAA8B,KAAK1F,KAAnC,KAA6C,CAA7D;AACA,eAAO,EAAEiL,gBAAF,EAAP;AACH,KANiC;;;AAQlCC,aAAS;AACLC,oBAAY;AADP,KARyB;;AAYlCV,eAAW,YAZuB;;AAclCrS,QAAI;AACAgT,eAAO,WADP;AAEAC,kBAAU;AAFV,KAd8B;;AAmBlCb,YAAQ;AACJc,oBAAY,gBADR;AAEJC,oBAAY,gBAFR;AAGJ,8BAAsB;AAHlB,KAnB0B;;AAyBlCC,YAzBkC,sBAyBvB;AACP,YAAMjO,aAAa,KAAKyC,KAAL,CAAWxE,GAAX,CAAe,YAAf,CAAnB;AACA,YAAI+B,UAAJ,EAAgB;AACZ,iBAAKkO,QAAL,GAAgBC,KAAKC,QAAL,CAAcC,OAAd,CAAsBC,cAAtB,CAAqC;AACjDC,4BAAY9T,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAC/B+M,8BAAU;AADqB,iBAAvB,CADqC;;AAKjD2B,2BAAW/T,WAAWgU,cAAX,CAA0B3O,MAA1B,CAAiC;AACxCsN,+BAAW3S,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAC9B+M,kCAAU;AADoB,qBAAvB,CAD6B;;AAKxCK,+BAAW;AAL6B,iBAAjC,CALsC;;AAajDwB,kCAAkB;AACd1O;AADc,iBAb+B;;AAiBjD2O,+BAAe;AAjBkC,aAArC,CAAhB;;AAoBA,iBAAKC,aAAL,CAAmB,YAAnB,EAAiC,KAAKV,QAAtC;AACH;AACJ,KAlDiC;;;AAoDlCW,iBAAa;AACT,uBAAe;AADN,KApDqB;;AAwDlCC,kBAxDkC,4BAwDjB;AACb,aAAKjU,EAAL,CAAQgT,KAAR,CAAcxB,IAAd,CAAmB,KAAK5J,KAAL,CAAWxE,GAAX,CAAe,MAAf,CAAnB;AACH,KA1DiC;AA4DlC8Q,wBA5DkC,kCA4DX;AACnB,aAAKb,QAAL,CAAcc,IAAd;AACH,KA9DiC;AAgElCC,kBAhEkC,4BAgEjB;AACb,aAAKpU,EAAL,CAAQgT,KAAR,CAAcqB,OAAd,CACI;AACIC,uBAAW;AADf,SADJ,EAII,GAJJ;AAMA,aAAKtU,EAAL,CAAQiT,QAAR,CAAiBoB,OAAjB,CACI;AACIC,uBAAW;AADf,SADJ,EAII,GAJJ;AAMH,KA7EiC;AA+ElCC,kBA/EkC,4BA+EjB;AACb,aAAKvU,EAAL,CAAQgT,KAAR,CAAcqB,OAAd,CACI;AACIC,uBAAW;AADf,SADJ,EAII,GAJJ;AAMA,aAAKtU,EAAL,CAAQiT,QAAR,CAAiBoB,OAAjB,CACI;AACIC,uBAAW;AADf,SADJ,EAII,GAJJ;AAMH;AA5FiC,CAAvB,C;;;;;;;;;;;;;;;;;;ACFf;;;;AACA;;;;;;AACA;;AAEA,IAAME,UAAU;AACZC,cAAU,UADE;AAEZC,aAAS,aAFG;AAGZC,WAAO,UAHK;AAIZC,aAAS;AAJG,CAAhB;;AAOA,IAAMC,iBAAiB;AACnBC,eAAW;AADQ,CAAvB;;kBAIelV,WAAWmV,QAAX,CAAoB9P,MAApB,CAA2B;AACtC9E,cADsC,sBAC3BT,OAD2B,EAClB0I,IADkB,EACZ;AACtB;AACA,YAAM4M,cAAc5M,KAAK1I,OAAzB;;AAEA,aAAK0I,IAAL,CAAU6M,MAAV,GAAmBD,YAAYC,MAA/B;AACA,aAAK7M,IAAL,CAAU8M,gBAAV,GAA6BF,YAAYE,gBAAzC;AACA,aAAKC,YAAL,GAAoBH,YAAYG,YAAhC;AACA,aAAK/M,IAAL,CAAUgN,eAAV,GAA4BJ,YAAYI,eAAxC;AACA/N,UAAEpC,MAAF,CAAS,KAAKvF,OAAd,EAAuBmV,cAAvB,EAAuCnV,OAAvC;AACA2H,UAAEgO,OAAF,CAAU,IAAV,EAAgB,iBAAhB,EAAmC,gBAAnC,EAAqD,gBAArD;AACA,aAAKjN,IAAL,CAAUkN,MAAV,GAAmB,KAAKC,QAAxB;AACH,KAZqC;;;AActCvB,iBAAa;AACTwB,kBAAU,mBADD;AAETC,oBAAY,mBAFH;AAGT,wBAAgB,wBAHP;AAIT,4BAAoB,mBAJX;AAKTC,iBAAS,eALA;AAMTC,mBAAW,eANF;AAOT,0BAAkB;AAPT,KAdyB;;AAwBtCvD,YAAQ;AACJwD,eAAO;AADH,KAxB8B;;AA4BtCC,sBA5BsC,gCA4BjB;AACjB,aAAKC,EAAL,CAAQC,SAAR,CAAkBC,MAAlB,CAAyBxB,QAAQG,KAAjC;AACH,KA9BqC;AAgCtCvB,YAhCsC,sBAgC3B;AACP,aAAK6C,iBAAL;AACA,YAAI,KAAKvW,OAAL,CAAaoV,SAAjB,EAA4B;AACxB,iBAAKgB,EAAL,CAAQhB,SAAR,CAAkB;AACdoB,0BAAU,mBADI;AAEdC,sBAFc,oBAEL;AACL,2BAAO,KAAKL,EAAL,CAAQM,QAAR,CAAiB,qBAAjB,KAA2C,KAAKN,EAAL,CAAQO,aAAR,CAAsBD,QAAtB,CAA+B,gBAA/B,CAA3C,GAA8FrT,EAAEuT,kCAAF,CAA9F,GAAmHvT,EAAEwT,6BAAF,CAA1H;AACH,iBAJa;;AAKdC,0BAAU;AACNC,yBAAK,CAAC,EADA;AAENC,0BAAM,CAAC;AAFD,iBALI;AASdjX,uBAAO,KAAKkX,eATE;AAUdC,sBAAM,KAAKC,cAVG;AAWdC,sBAAM,KAAKC;AAXG,aAAlB;AAaH;;AAED,YAAI,KAAK3O,IAAL,CAAUR,KAAV,CAAgBxE,GAAhB,CAAoB,gBAApB,CAAJ,EAA2C;AACvC,iBAAKyC,QAAL,CAAc,KAAKuC,IAAL,CAAUR,KAAxB,EAA+B,QAA/B,EAAyC,KAAKQ,IAAL,CAAU4O,MAAV,CAAiBzO,IAAjB,CAAsB,IAAtB,CAAzC;AACH;AACJ,KArDqC;AAuDtC0O,iBAvDsC,2BAuDtB;AACZ,YAAI,KAAK7O,IAAL,CAAUR,KAAV,CAAgB8N,OAApB,EAA6B;AACzB,iBAAKI,EAAL,CAAQC,SAAR,CAAkBxM,GAAlB,CAAsBiL,QAAQE,OAA9B;AACH,SAFD,MAEO;AACH,iBAAKoB,EAAL,CAAQC,SAAR,CAAkBzM,MAAlB,CAAyBkL,QAAQE,OAAjC;AACH;AACJ,KA7DqC;AA+DtCwC,YA/DsC,sBA+D3B;AACP,aAAK/B,YAAL,CAAkBgC,OAAlB,CAA0B,kBAA1B,EAA8C,KAAK/O,IAAL,CAAUR,KAAxD;AACA,eAAO,KAAP;AACH,KAlEqC;AAoEtCqO,qBApEsC,+BAoElB;AAChB,YAAI,KAAK7N,IAAL,CAAUR,KAAV,CAAgB4N,QAApB,EAA8B;AAC1B,iBAAKM,EAAL,CAAQC,SAAR,CAAkBxM,GAAlB,CAAsBiL,QAAQC,QAA9B;AACH,SAFD,MAEO;AACH,iBAAKqB,EAAL,CAAQC,SAAR,CAAkBzM,MAAlB,CAAyBkL,QAAQC,QAAjC;AACH;AACJ,KA1EqC;AA4EtCkC,mBA5EsC,2BA4EtBS,KA5EsB,EA4EfpX,EA5Ee,EA4EX;AACvB,aAAKqX,WAAL,GAAmB;AACfC,uBAAW,MADI;AAEf1P,mBAAO,KAAKQ,IAAL,CAAUR;AAFF,SAAnB;AAIA,aAAK2P,wBAAL,CAA8BvX,GAAGmW,MAAjC,EAAyC,KAAK/N,IAAL,CAAUR,KAAnD;;AAEA,YAAM4P,eAAe,KAAKrC,YAAL,CAAkBgC,OAAlB,CAA0B,sBAA1B,EAAkD,KAAK/O,IAAvD,EAA6D,KAAKiP,WAAlE,EAA+ED,KAA/E,EAAsFpX,EAAtF,CAArB;AACA,eAAOwX,YAAP;AACH,KArFqC;AAuFtCX,kBAvFsC,0BAuFvBO,KAvFuB,EAuFhBpX,EAvFgB,EAuFZ;AACtB,aAAKmV,YAAL,CAAkBgC,OAAlB,CAA0B,qBAA1B,EAAiD,KAAK/O,IAAtD,EAA4D,KAAKiP,WAAjE,EAA8ED,KAA9E,EAAqFpX,EAArF;AACA,aAAKqX,WAAL,GAAmB,IAAnB;AACH,KA1FqC;AA4FtCN,kBA5FsC,0BA4FvBK,KA5FuB,EA4FhBpX,EA5FgB,EA4FZ;AACtB,aAAKmV,YAAL,CAAkBgC,OAAlB,CAA0B,qBAA1B,EAAiD,KAAK/O,IAAtD,EAA4D,KAAKiP,WAAjE,EAA8ED,KAA9E,EAAqFpX,EAArF;AACH,KA9FqC;AAgGtCyX,0BAhGsC,oCAgGb;AACrB,YAAI,KAAKrP,IAAL,CAAUR,KAAV,CAAgBxE,GAAhB,CAAoB,OAApB,CAAJ,EAAkC;AAC9B,iBAAK0S,EAAL,CAAQC,SAAR,CAAkBxM,GAAlB,CAAsBiL,QAAQG,KAA9B;AACH,SAFD,MAEO;AACH,iBAAKmB,EAAL,CAAQC,SAAR,CAAkBzM,MAAlB,CAAyBkL,QAAQG,KAAjC;AACH;AACJ,KAtGqC;AAwGtCY,YAxGsC,sBAwG3B;AACP,eAAO,KAAKO,EAAL,CAAQ4B,EAAR,CAAW,QAAX,CAAP;AACH,KA1GqC;AA4GtCC,qBA5GsC,6BA4GpB/P,KA5GoB,EA4GbM,SA5Ga,EA4GFxI,OA5GE,EA4GO;AACzC,aAAKyV,YAAL,CAAkBgC,OAAlB,CAA0B,oBAA1B,EAAgDvP,KAAhD,EAAuDM,SAAvD,EAAkExI,OAAlE;AACH,KA9GqC;AAgHtC6X,4BAhHsC,oCAgHbK,UAhHa,EAgHDC,cAhHC,EAgHe;AACjDD,mBAAWE,IAAX,CAAgB,gBAAhB,EAAkCtG,IAAlC,CAAuCqG,eAAezU,GAAf,CAAmB,MAAnB,CAAvC;AACAwU,mBAAWE,IAAX,CAAgB,mBAAhB,EAAqCtG,IAArC,CAA0CqG,eAAezU,GAAf,CAAmB,WAAnB,CAA1C;AACH,KAnHqC;AAqHtC2U,oBArHsC,8BAqHnB;AACf,YAAI,KAAK3P,IAAL,CAAUR,KAAV,CAAgBxE,GAAhB,CAAoB,SAApB,CAAJ,EAAoC;AAChC,iBAAK0S,EAAL,CAAQC,SAAR,CAAkBxM,GAAlB,CAAsBiL,QAAQI,OAA9B;AACH,SAFD,MAEO;AACH,iBAAKkB,EAAL,CAAQC,SAAR,CAAkBzM,MAAlB,CAAyBkL,QAAQI,OAAjC;AACH;AACJ;AA3HqC,CAA3B,C;;;;;;;;;;;;;;;;;;ACff;;;;;;kBAEehV,WAAWoH,MAAX,CAAkB/B,MAAlB,CAAyB;AACpC9E,cADoC,wBACX;AAAA,YAAdT,OAAc,uEAAJ,EAAI;;AACrB2H,UAAEgO,OAAF,CAAU,IAAV,EAAgB,uBAAhB,EAAyC,wBAAzC,EAAmE,uBAAnE;AACA,aAAKzN,KAAL,GAAalI,QAAQkI,KAArB;AACA,YAAMuN,eAAe,KAAK6C,oBAAL,CAA0B,KAAKC,SAAL,CAAe,QAAf,EAAyBC,YAAnD,CAArB;AACA,aAAKhD,gBAAL,GAAwB5S,SAAS6V,KAAT,CAAeC,OAAf,CAAuB/Q,EAAEgR,QAAF,EAAvB,CAAxB;AACA,aAAKjQ,IAAL,GAAY,KAAKkQ,UAAL,CAAgB5Y,QAAQ6Y,MAAxB,EAAgCpD,YAAhC,EAA8CzV,QAAQuV,MAAtD,CAAZ;AACA,aAAKuD,eAAL,GAAuB,EAAvB;AACH,KARmC;AAUpCR,wBAVoC,gCAUfE,YAVe,EAUD;AAC/B,YAAM/C,eAAe7S,SAAS6V,KAAT,CAAeC,OAAf,CAAuB/Q,EAAEgR,QAAF,EAAvB,CAArB;AACA,YAAIH,iBAAiB,OAArB,EAA8B;AAC1B/C,yBAAasD,KAAb,CAAmB,sBAAnB,EAA2C,KAAKC,sBAAhD,EAAwE,IAAxE;AACAvD,yBAAasD,KAAb,CAAmB,qBAAnB,EAA0C,KAAKE,qBAA/C,EAAsE,IAAtE;AACAxD,yBAAasD,KAAb,CAAmB,qBAAnB,EAA0C,KAAKG,qBAA/C,EAAsE,IAAtE;AACH;AACDzD,qBAAasD,KAAb,CAAmB,iBAAnB,EAAsC,KAAKI,cAA3C,EAA2D,IAA3D;AACA1D,qBAAasD,KAAb,CAAmB,kBAAnB,EAAuC,KAAKK,eAA5C,EAA6D,IAA7D;AACA3D,qBAAasD,KAAb,CAAmB,eAAnB,EAAoC,KAAKM,qBAAzC,EAAgE,IAAhE;AACA5D,qBAAasD,KAAb,CAAmB,oBAAnB,EAAyC,KAAKO,gBAA9C,EAAgE,IAAhE;AACA,aAAK7D,YAAL,GAAoBA,YAApB;;AAEA,eAAOA,YAAP;AACH,KAxBmC;AA0BpCmD,cA1BoC,sBA0BzBC,MA1ByB,EA0BjBpD,YA1BiB,EA0BHF,MA1BG,EA0BK;AACrC,eAAO,IAAIgE,oBAAJ,CAAe;AAClBrR,mBAAO,KAAKA,KADM;AAElBqN,0BAFkB;AAGlBC,8BAAkB,KAAKA,gBAHL;AAIlBC,sCAJkB;AAKlBoD,0BALkB;AAMlBnD,6BAAiB,KAAK6C,SAAL,CAAe,iBAAf;AANC,SAAf,CAAP;AAQH,KAnCmC;AAqCpCY,kBArCoC,0BAqCrBjR,KArCqB,EAqCd;AAClB,aAAKsR,UAAL;;AAEA,YAAItR,UAAU,KAAKA,KAAL,CAAWxE,GAAX,CAAe,MAAf,CAAd,EAAsC;AAClC;AACH;;AAEDwE,cAAMuR,KAAN;AACH,KA7CmC;AA+CpCL,mBA/CoC,2BA+CpBlR,KA/CoB,EA+Cb;AACnB,aAAKwR,WAAL;AACA,YAAIxR,UAAU,KAAKA,KAAL,CAAWxE,GAAX,CAAe,MAAf,CAAd,EAAsC;AAClC,iBAAK2V,qBAAL,CAA2BnR,KAA3B;AACA;AACH;AACD,YAAIA,MAAMyR,MAAV,EAAkB;AACdzR,kBAAMyR,MAAN;AACA,iBAAK5S,OAAL,CAAa,oBAAb,EAAmCmB,KAAnC;AACH;AACJ,KAzDmC;AA2DpCmR,yBA3DoC,iCA2DdnR,KA3Dc,EA2DP;AACzB,aAAKwR,WAAL;AACAxR,cAAMyR,MAAN;AACA,aAAK5S,OAAL,CAAa,oBAAb,EAAmCmB,MAAM0R,MAAzC;AACH,KA/DmC;AAiEpCF,eAjEoC,yBAiEtB;AACV,aAAKxR,KAAL,CAAWxE,GAAX,CAAe,MAAf,EAAuBmW,QAAvB;AACA,aAAK3R,KAAL,CAAW4R,aAAX,CAAyB;AAAA,mBAAkB3B,eAAe0B,QAAf,IAA2B1B,eAAe0B,QAAf,EAA7C;AAAA,SAAzB;AACH,KApEmC;AAsEpCL,cAtEoC,wBAsEvB;AACT,aAAKtR,KAAL,CAAW4R,aAAX,CAAyB;AAAA,mBAAkB3B,eAAe4B,OAAf,IAA0B5B,eAAe4B,OAAf,EAA5C;AAAA,SAAzB;AACH,KAxEmC;AA0EpCf,0BA1EoC,kCA0EbrB,WA1Ea,EA0EAD,KA1EA,EA0EOpX,EA1EP,EA0EW;AAAA;;AAC3C,YAAM0Z,WAAWrC,YAAYzP,KAAZ,CAAkB0R,MAAlB,IAA4BjC,YAAYzP,KAAZ,CAAkB0R,MAAlB,CAAyBlW,GAAzB,CAA6B,oBAA7B,CAA7C;AACA,YAAIsW,YAAYA,YAAYrC,YAAYzP,KAAZ,CAAkB0R,MAAlB,CAAyBK,WAAzB,GAAuCvS,MAAnE,EAA2E;AACvE,mBAAO,KAAP;AACH;AACD,YAAI,KAAK6Q,SAAL,CAAe,QAAf,EAAyBC,YAAzB,KAA0C,OAA9C,EAAuD;AACnD,iBAAK/C,YAAL,CAAkBgC,OAAlB,CAA0B,sBAA1B,EAAkDE,WAAlD,EAA+DD,KAA/D,EAAsEpX,EAAtE;AACH,SAFD,MAEO;AACH,iBAAKwY,eAAL,GAAuB,KAAKoB,gBAAL,CAAsBvC,WAAtB,EAAmC1L,MAAnC,CAA0C;AAAA,uBAAY,MAAKkO,kBAAL,CAAwBxC,WAAxB,EAAqCyC,SAASjY,OAA9C,CAAZ;AAAA,aAA1C,CAAvB;AACA,iBAAK2W,eAAL,CAAqBtS,OAArB,CAA6B;AAAA,uBAAQ6T,KAAKC,QAAL,EAAR;AAAA,aAA7B;AACH;AACD,eAAO,IAAP;AACH,KAtFmC;AAwFpCJ,oBAxFoC,8BAwFD;AAAA,YAAlBvC,WAAkB,uEAAJ,EAAI;;AAC/B,YAAM4C,QAAQ,EAAd;AACA,aAAK/E,gBAAL,CAAsBzO,OAAtB,CAA8B,mBAA9B,EAAmD4Q,WAAnD,EAAgE4C,KAAhE;AACA,eAAOA,KAAP;AACH,KA5FmC;AA8FpCrB,yBA9FoC,iCA8FdvB,WA9Fc,EA8FDD,KA9FC,EA8FMpX,EA9FN,EA8FU;AAC1C,YAAI,KAAKiY,SAAL,CAAe,QAAf,EAAyBC,YAAzB,KAA0C,OAA9C,EAAuD;AACnD,iBAAK/C,YAAL,CAAkBgC,OAAlB,CAA0B,qBAA1B,EAAiDE,WAAjD,EAA8DD,KAA9D,EAAqEpX,EAArE;AACH,SAFD,MAEO;AACH,gBAAI;AACA,oBAAI,CAAC,KAAKka,YAAL,CAAkB7C,WAAlB,CAAL,EAAqC;AACjC,wBAAI,KAAKjP,IAAL,CAAU+R,OAAd,EAAuB;AACnB,4BAAI/C,MAAMgD,OAAV,EAAmB;AACf,gCAAMxS,QAAQyP,YAAYzP,KAAZ,CAAkBN,KAAlB,EAAd;AACAM,kCAAMyS,KAAN,CAAY,IAAZ;AACAhD,wCAAYzP,KAAZ,GAAoBA,KAApB;AACAyP,wCAAYC,SAAZ,GAAwB,QAAxB;AACH;AACD,4BAAMgD,cAAc,KAAKC,qBAAL,CAA2BnD,KAA3B,CAApB;AACA,4BAAIkD,WAAJ,EAAiB;AACbA,wCAAYE,IAAZ,CAAiBnD,WAAjB;AACA,iCAAKyB,eAAL,CAAqBzB,YAAYzP,KAAjC;AACH;AACJ,qBAZD,MAYO;AACH,6BAAKnB,OAAL,CAAa,kBAAb,EAAiC4Q,YAAYzP,KAA7C;AACH;AACJ;AACJ,aAlBD,CAkBE,OAAO6S,CAAP,EAAU;AACRC,wBAAQC,KAAR,CAAcF,CAAd;AACH,aApBD,SAoBU;AACN,qBAAKjC,eAAL,CAAqBtS,OAArB,CAA6B,gBAAQ;AACjC6T,yBAAKa,UAAL;AACAb,yBAAKc,KAAL;AACH,iBAHD;AAIA,qBAAKrC,eAAL,GAAuB,EAAvB;AACH;AACJ;AACJ,KA9HmC;AAgIpCG,yBAhIoC,iCAgIdtB,WAhIc,EAgIDD,KAhIC,EAgIMpX,EAhIN,EAgIU;AAC1C,YAAI,KAAKiY,SAAL,CAAe,QAAf,EAAyBC,YAAzB,KAA0C,OAA9C,EAAuD;AACnD,iBAAK/C,YAAL,CAAkBgC,OAAlB,CAA0B,qBAA1B,EAAiDE,WAAjD,EAA8DD,KAA9D,EAAqEpX,EAArE;AACH,SAFD,MAEO;AACH,iBAAKwY,eAAL,CAAqBtS,OAArB,CAA6B;AAAA,uBAAQ6T,KAAKc,KAAL,EAAR;AAAA,aAA7B;AACA,gBAAI,KAAKzS,IAAL,CAAU+R,OAAV,IAAqB,CAAC,KAAKD,YAAL,CAAkB7C,WAAlB,CAA1B,EAA0D;AACtD,oBAAMiD,cAAc,KAAKC,qBAAL,CAA2BnD,KAA3B,CAApB;AACA,oBAAIkD,WAAJ,EAAiB;AACbA,gCAAYQ,KAAZ;AACH;AACD9a,mBAAGmW,MAAH,CAAUJ,SAAV,CAAoBzM,MAApB,CAA2B,qBAA3B;AACH,aAND,MAMO,IAAI,CAAC,KAAKlB,IAAL,CAAU+R,OAAf,EAAwB;AAC3Bna,mBAAGmW,MAAH,CAAUJ,SAAV,CAAoBxM,GAApB,CAAwB,qBAAxB;AACH;AACJ;AACJ,KA/ImC;AAiJpCwR,yBAjJoC,iCAiJdnT,KAjJc,EAiJP;AACzB,aAAKuN,YAAL,CAAkBgC,OAAlB,CAA0B,kBAA1B,EAA8CvP,KAA9C;AACH,KAnJmC;AAqJpCiS,sBArJoC,8BAqJjBxC,WArJiB,EAqJJ2D,WArJI,EAqJS;AACzC,gBAAQ3D,YAAYC,SAApB;AACI,iBAAK,QAAL;AACI,uBAAO,KAAK2D,mBAAL,CAAyBD,YAAYE,cAArC,EAAqD7D,YAAYzP,KAAjE,CAAP;AACJ,iBAAK,MAAL;AAAa;AACT,wBAAMuT,kBAAkB9D,YAAYzP,KAAZ,CAAkBI,GAA1C;AACA,wBAAMoT,gBAAgBJ,YAAYE,cAAZ,CAA2BvB,WAA3B,EAAtB;;AAEA;AACA,wBAAIyB,cAAchU,MAAd,GAAuB,CAA3B,EAA8B;AAC1B,4BAAMiU,cAAcL,YAAYK,WAAhC;AACA,4BAAIA,WAAJ,EAAiB;AACb,gCAAIA,YAAYrT,GAAZ,KAAoBmT,eAAxB,EAAyC;AACrC,uCAAO,KAAP;AACH;AACD,gCAAMG,aAAaF,cAAcvT,EAAd,CAAiBuT,cAAc9N,OAAd,CAAsB0N,YAAYK,WAAlC,IAAiD,CAAlE,CAAnB;AACA,gCAAIC,cAAcA,WAAWtT,GAAX,KAAmBmT,eAArC,EAAsD;AAClD,uCAAO,KAAP;AACH;AACJ,yBARD,MAQO,IAAIC,cAAcvT,EAAd,CAAiB,CAAjB,EAAoBG,GAApB,KAA4BmT,eAAhC,EAAiD;AACpD,mCAAO,KAAP;AACH;AACJ;AACD;AACA,wBAAIH,YAAYE,cAAZ,KAA+B7D,YAAYzP,KAA/C,EAAsD;AAClD,+BAAO,KAAP;AACH;AACD,wBAAI2T,cAAcP,YAAYE,cAAZ,CAA2BM,SAA3B,EAAlB;AACA,2BAAOD,WAAP,EAAoB;AAChB,4BAAIA,gBAAgBlE,YAAYzP,KAAhC,EAAuC;AACnC,mCAAO,KAAP;AACH;AACD2T,sCAAcA,YAAYC,SAAZ,EAAd;AACH;AACD;AACA,2BAAO,KAAKP,mBAAL,CAAyBD,YAAYE,cAArC,EAAqD7D,YAAYzP,KAAjE,CAAP;AACH;AACD;AACI,uBAAO,KAAP;AArCR;AAuCH,KA7LmC;AA+LpCqT,uBA/LoC,+BA+LhB3B,MA/LgB,EA+LRmC,KA/LQ,EA+LD;AAC/B,YAAIC,cAAcD,MAAMrY,GAAN,CAAU,aAAV,KAA4BkW,OAAOlW,GAAP,CAAW,WAAX,MAA4B,YAA1E;AACA,YAAI,CAACsY,WAAD,IAAgB,CAACD,MAAMrY,GAAN,CAAU,eAAV,CAArB,EAAiD;AAC7C,mBAAOsY,WAAP;AACH;AACD,YAAMC,eAAeF,MAAMrY,GAAN,CAAU,eAAV,CAArB;AACAsY,sBAAcC,eAAeA,aAAa7D,IAAb,CAAkB;AAAA,mBAAiB8D,kBAAkBtC,OAAOlW,GAAP,CAAW,WAAX,CAAnC;AAAA,SAAlB,CAAf,GAA+F,IAA7G;AACA,YAAI,CAACsY,WAAL,EAAkB;AACd,mBAAOA,WAAP;AACH;AACD,YAAMG,cAAcvC,OAAOlW,GAAP,CAAW,eAAX,CAApB;AACA,eAAOyY,cAAcA,YAAY/D,IAAZ,CAAiB;AAAA,mBAAiB8D,kBAAkBH,MAAMrY,GAAN,CAAU,WAAV,CAAlB,IAA4CwY,kBAAkBH,MAAMrY,GAAN,CAAU,MAAV,CAA/E;AAAA,SAAjB,CAAd,GAAmI,IAA1I;AACH,KA3MmC;AA6MpCmX,yBA7MoC,iCA6MdnD,KA7Mc,EA6MP;AACzB,YAAIkD,oBAAJ;AACA,YAAIwB,kBAAkBC,OAAOC,SAA7B;AACA,YAAMtW,WAAW;AACbuW,eAAG7E,MAAM8E,KADI;AAEbC,eAAG/E,MAAMgF;AAFI,SAAjB;AAIA,aAAK5D,eAAL,CAAqBtS,OAArB,CAA6B,gBAAQ;AACjC,gBAAMmW,WAAWtC,KAAKuC,WAAL,CAAiB5W,QAAjB,CAAjB;AACA,gBAAI2W,WAAWP,eAAf,EAAgC;AAC5BA,kCAAkBO,QAAlB;AACA/B,8BAAcP,IAAd;AACH;AACJ,SAND;AAOA,eAAOO,WAAP;AACH,KA5NmC;AA8NpCJ,gBA9NoC,wBA8NvB7C,WA9NuB,EA8NV;AACtB;AACA,eAAO,KAAP,CAFsB,CAER;AACjB,KAjOmC;AAmOpC2B,oBAnOoC,4BAmOnBpR,KAnOmB,EAmOZM,SAnOY,EAmODxI,OAnOC,EAmOQ;AACxC,YAAIA,QAAQ6c,IAAZ,EAAkB;AACd;AACH;AACD,YAAMC,OAAO,KAAK5U,KAAL,CAAWxE,GAAX,CAAe,MAAf,CAAb;AACA,YAAIwE,UAAU4U,IAAd,EAAoB;AAChB,iBAAK5U,KAAL,CAAW4R,aAAX,CAAyB,qBAAa;AAClC,oBAAIiD,UAAUC,WAAV,IAAyBD,cAAcD,IAA3C,EAAiD;AAC7CC,8BAAUE,GAAV,CAAc,WAAd,EAA2BzU,SAA3B;AACH;AACJ,aAJD;AAKH,SAND,MAMO,IAAI,CAACxI,QAAQ6c,IAAb,EAAmB;AACtB,gBAAIK,gBAAgB,IAApB;AACAJ,iBAAK7C,WAAL,GAAmBzT,OAAnB,CAA2B,iBAAS;AAChC,oBAAI,CAACuV,MAAMrY,GAAN,CAAU,WAAV,CAAD,IAA2BqY,MAAMiB,WAArC,EAAkD;AAC9CE,oCAAgB,KAAhB;AACH;AACJ,aAJD;AAKAJ,iBAAKG,GAAL,CAAS,WAAT,EAAsBC,aAAtB,EAAqC,EAAEL,MAAM,IAAR,EAArC;AACH;AACJ,KAvPmC;AAyPpCM,mBAzPoC,6BAyPlB;AACd,aAAK1H,YAAL,CAAkB2H,YAAlB;AACA,aAAK5H,gBAAL,CAAsB4H,YAAtB;AACH;AA5PmC,CAAzB,C;;;;;;;;;;;;;;;;;;ACFf;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;;AAJA;;;kBAMeld,WAAWoH,MAAX,CAAkB/B,MAAlB,CAAyB;AACpC9E,cADoC,wBACX;AAAA,YAAdT,OAAc,uEAAJ,EAAI;;AACrB,aAAKqd,gBAAL,GAAwBrd,QAAQsd,MAAR,CAAeC,UAAvC;AACA,aAAKC,aAAL,CAAmBxd,QAAQyd,WAA3B,EAAwCzd,QAAQsd,MAAR,CAAe7X,UAAvD;AACA,aAAKiD,IAAL,GAAY,KAAKgV,YAAL,CAAkB1d,OAAlB,CAAZ;AACH,KALmC;AAOpC2d,qBAPoC,6BAOlBpV,EAPkB,EAOdgI,IAPc,EAOR;AACxB,gBAAQhI,EAAR;AACI,iBAAK,MAAL;AACI,qBAAKqV,YAAL;AACA;AACJ,iBAAK,QAAL;AACI,qBAAKA,YAAL,CAAkB,IAAlB;AACA;AACJ,iBAAK,OAAL;AACI,qBAAKC,aAAL;AACA;AACJ,iBAAK,QAAL;AACI,qBAAKC,cAAL;AACA;AACJ;AACI,qBAAK/W,OAAL,aAAuBwB,EAAvB,EAA6BgI,IAA7B;AACA;AAfR;AAiBH,KAzBmC;AA2BpCwN,uBA3BoC,+BA2BhBtY,UA3BgB,EA2BJ;AAC5B,aAAKiD,IAAL,CAAUsV,UAAV,CAAqBvY,WAAWiC,MAAX,GAAoB,CAAzC;AACH,KA7BmC;AA+BpCuW,eA/BoC,uBA+BxBC,QA/BwB,EA+BdC,aA/Bc,EA+BC;AACjC,aAAKjW,KAAL,CAAW+U,GAAX,CAAeiB,SAASE,MAAT,EAAf;AACA,aAAK1V,IAAL,CAAU2V,aAAV,CAAwB,KAAKnW,KAA7B,EAAoCiW,aAApC;AACH,KAlCmC;AAoCpCG,qBApCoC,+BAoChB;AAChB,eAAO,KAAKC,0BAAL,CAAgC,KAAKrW,KAAL,CAAWxE,GAAX,CAAe,MAAf,CAAhC,CAAP;AACH,KAtCmC;AAwCpC8a,0BAxCoC,oCAwCX;AACrB,YAAMjJ,SAAS3S,SAAS6V,KAAT,CAAeC,OAAf,CAAuB/Q,EAAEgR,QAAF,EAAvB,CAAf;;AAEApD,eAAOwD,KAAP,CAAa,mBAAb,EAAkC,KAAK0F,kBAAvC,EAA2D,IAA3D;AACAlJ,eAAOwD,KAAP,CAAa,gBAAb,EAA+B,KAAK2F,eAApC,EAAqD,IAArD;AACAnJ,eAAOwD,KAAP,CAAa,eAAb,EAA8B,KAAK4F,cAAnC,EAAmD,IAAnD;AACApJ,eAAOwD,KAAP,CAAa,sBAAb,EAAqC,KAAK6F,uBAA1C,EAAmE,IAAnE;AACArJ,eAAOwD,KAAP,CAAa,uBAAb,EAAsC,KAAK8F,uBAA3C,EAAoE,IAApE;AACAtJ,eAAOwD,KAAP,CAAa,gBAAb,EAA+B,KAAK+F,eAApC,EAAqD,IAArD;AACAvJ,eAAOwD,KAAP,CAAa,yBAAb,EAAwC,KAAKgG,sBAA7C,EAAqE,IAArE;;AAEA,eAAOxJ,MAAP;AACH,KApDmC;AAsDpCiI,iBAtDoC,yBAsDtBC,WAtDsB,EAsDTuB,gBAtDS,EAsDS;AAAA;;AACzC,YAAMC,YAAYxB,YAAYyB,GAAZ,CAAgB,MAAhB,IAA0BvX,EAAEwX,IAAF,CAAO1B,YAAY/Z,GAAZ,CAAgB,MAAhB,CAAP,EAAgC,MAAhC,CAA1B,GAAoE,EAAtF;AACA,YAAMtB,mBAAmB,KAAKpC,OAAL,CAAaoC,gBAAtC;AACA,YAAM4C,OAAOsC,OAAOC,MAAP,CAAckW,YAAYW,MAAZ,EAAd,EAAoC;AAC7CtB,kBAAM,IAAIsC,wBAAJ,CACF9X,OAAOC,MAAP,CACI;AACI8X,sBAAML,gBADV;AAEIM,2BAAW,YAFf;AAGIC,mCAAmB;AAHvB,aADJ,EAMIN,SANJ,CADE,CADuC;AAW7CK,uBAAW;AAXkC,SAApC,CAAb;;AAcA,YAAI,KAAKjC,gBAAL,CAAsBmC,UAA1B,EAAsC;AAClCxa,iBAAK8X,IAAL,CAAUG,GAAV,CAAc,MAAd,EAAsB,KAAKI,gBAAL,CAAsBmC,UAA5C;AACH;;AAED,aAAKC,SAAL,GAAiB,IAAIC,yBAAJ,CAAc,EAAE1a,UAAF,EAAQuY,YAAY,KAAKF,gBAAzB,EAAd,EAA2D,EAAEtR,OAAO,IAAT,EAA3D,CAAjB;;AAEA,aAAK5F,QAAL,CAAc,KAAKsZ,SAAnB,EAA8B,aAA9B,EAA6C,UAACvX,KAAD,EAAQyX,IAAR;AAAA,mBAAiB,MAAK5Y,OAAL,CAAa,eAAb,EAA8B4Y,IAA9B,CAAjB;AAAA,SAA7C;;AAEA,aAAKxZ,QAAL,CAAc,KAAKsZ,SAAnB,EAA8B,mBAA9B,EAAmD,UAACvX,KAAD,EAAQ0X,YAAR,EAAsBxY,KAAtB;AAAA,mBAAgC,MAAKL,OAAL,CAAa,mBAAb,EAAkCmB,KAAlC,EAAyC0X,YAAzC,EAAuDxY,KAAvD,CAAhC;AAAA,SAAnD;;AAEA,aAAKc,KAAL,GAAa,IAAItF,SAASyI,KAAb,CAAmB;AAC5BwU,0BAAcpC,YAAY/Z,GAAZ,CAAgB,cAAhB,KAAmC+Z,YAAY/Z,GAAZ,CAAgB,kBAAhB,CAAnC,IAA0E+Z,YAAY/Z,GAAZ,CAAgB,WAAhB,CAD5D;AAE5BvB,qBAASsb,YAAY/Z,GAAZ,CAAgB,SAAhB,CAFmB;AAG5Boc,4BAAgBrC,YAAY/Z,GAAZ,CAAgB,gBAAhB,CAHY;AAI5BsB,kBAAM,KAAKya;AAJiB,SAAnB,CAAb;;AAOA,aAAKM,kBAAL,GAA0B,IAAInd,SAASyI,KAAb,CAAmB,EAAE9C,IAAInG,gBAAN,EAAnB,CAA1B;;AAEA,YAAIA,gBAAJ,EAAsB;AAClB,iBAAK2d,kBAAL,CAAwB9C,GAAxB,CAA4B5Z,EAAE2c,QAAF,CAAWtc,GAAX,CAAetB,gBAAf,CAA5B;AACH;;AAED,aAAK+D,QAAL,CACI,KAAK+B,KAAL,CACKxE,GADL,CACS,MADT,EAEKA,GAFL,CAES,MAFT,EAGKA,GAHL,CAGS,MAHT,CADJ,EAKI,kBALJ,EAMI,UAACwE,KAAD,EAAQzC,UAAR;AAAA,mBAAuB,MAAKsY,mBAAL,CAAyBtY,UAAzB,CAAvB;AAAA,SANJ;AAQH,KAtGmC;AAwGpCwa,YAxGoC,sBAwGzB;AACP,YAAI,CAAC,KAAK/X,KAAL,CAAWxE,GAAX,CAAe,MAAf,CAAD,IAA2B,CAAC,KAAKwE,KAAL,CAAWxE,GAAX,CAAe,MAAf,EAAuBwc,UAAvD,EAAmE;AAC/D,mBAAO,IAAP;AACH;;AAED,eAAOtM,KAAKuM,QAAL,CAAcC,cAAd,CAA6BC,iBAA7B,CACHC,UAAU5c,GAAV,CAAc,oDAAd,CADG,EAEH4c,UAAU5c,GAAV,CAAc,6CAAd,CAFG,EAGH,CACI;AACI6E,gBAAI,IADR;AAEIuJ,kBAAMwO,UAAU5c,GAAV,CAAc,6CAAd;AAFV,SADJ,EAKI;AACI6E,gBAAI,KADR;AAEIuJ,kBAAMwO,UAAU5c,GAAV,CAAc,mDAAd,CAFV;AAGI6c,qBAAS;AAHb,SALJ,CAHG,CAAP;AAeH,KA5HmC;AA8HpC7C,gBA9HoC,wBA8HvB1d,OA9HuB,EA8Hd;AAAA;;AAClB,YAAMuV,SAAS,KAAKiJ,sBAAL,EAAf;;AAEA,YAAM9V,OAAO,IAAI8X,oBAAJ,CAAe;AACxBjL,0BADwB;AAExBrN,mBAAO,KAAKA,KAFY;AAGxB6X,gCAAoB,KAAKA,kBAHD;AAIxBU,qBAASzgB,QAAQygB,OAJO;AAKxBnD,oBAAQtd,QAAQsd,MALQ;AAMxBoD,wBAAY1gB,QAAQ0gB,UANI;AAOxBC,qBAAS3gB,QAAQ2gB,OAPO;AAQxBjL,6BAAiB,KAAK6C,SAAL,CAAe,iBAAf,CARO;AASxBqI,6BAAiB5gB,QAAQ4gB;AATD,SAAf,CAAb;;AAYA,aAAKvS,YAAL,CAAkB3F,IAAlB,EAAwB,QAAxB,EAAkC;AAAA,mBAAM,OAAKqV,mBAAL,CAAyB/d,QAAQsd,MAAR,CAAe7X,UAAxC,CAAN;AAAA,SAAlC;AACA,YAAIzF,QAAQ6gB,cAAZ,EAA4B;AACxB,iBAAKxS,YAAL,CAAkB3F,IAAlB,EAAwB,MAAxB,EAAgC,KAAK4V,iBAArC;AACH;AACD,aAAKnY,QAAL,CAAcuC,IAAd,EAAoB,eAApB,EAAqC,KAAKiW,cAA1C;AACA,aAAKxY,QAAL,CAAcuC,IAAd,EAAoB,kBAApB,EAAwC,KAAKoY,gBAA7C;AACA,aAAK3a,QAAL,CAAcuC,IAAd,EAAoB,gBAApB,EAAsC;AAAA,mBAAS,OAAK3B,OAAL,CAAa,gBAAb,EAA+B2Q,KAA/B,CAAT;AAAA,SAAtC;AACA,aAAKvR,QAAL,CAAcuC,IAAd,EAAoB,eAApB,EAAqC;AAAA,mBAAY,OAAK3B,OAAL,CAAa,eAAb,EAA8Bga,QAA9B,CAAZ;AAAA,SAArC;AACA,aAAK5a,QAAL,CAAcuC,IAAd,EAAoB,aAApB,EAAmC;AAAA,mBAAc,OAAK3B,OAAL,CAAa,aAAb,EAA4Bia,UAA5B,CAAd;AAAA,SAAnC;;AAEA,aAAK7a,QAAL,CAAcuC,IAAd,EAAoB,iBAApB,EAAuC,UAACH,EAAD,EAAKgI,IAAL;AAAA,mBAAc,OAAKoN,iBAAL,CAAuBpV,EAAvB,EAA2BgI,IAA3B,CAAd;AAAA,SAAvC;;AAEA,aAAKpK,QAAL,CAAcuC,IAAd,EAAoB,SAApB,EAA+B;AAAA,mBAAM,OAAKuY,OAAL,EAAN;AAAA,SAA/B;;AAEA,eAAOvY,IAAP;AACH,KA5JmC;AA8JpCoW,mBA9JoC,2BA8JpBoC,YA9JoB,EA8JN;AAC1B,YAAMnE,YAAY,KAAKM,gBAAL,CAAsB6D,aAAaxd,GAAb,CAAiB,WAAjB,CAAtB,CAAlB;AACA,YAAMwE,QAAQ,IAAI6U,UAAU7U,KAAd,CAAoBgZ,aAAa9C,MAAb,EAApB,CAAd;;AAEA;AACAlW,cAAM+U,GAAN,CACI;AACI;AACA;AACA6C,4BAAgB,KAAKL,SAAL,CAAe/b,GAAf,CAAmB,gBAAnB,CAHpB;AAIIyd,4BAAgB;AACZ;AACAC,sBAAMlZ,MAAMxE,GAAN,CAAU,WAAV;AAFM;AAJpB,SADJ,EAUI,EAAEqI,OAAO,IAAT,EAVJ;;AAaA7D,cAAMyS,KAAN,CAAY,IAAZ;AACAzS,cAAMyS,KAAN,CAAY,UAAZ;AACAzS,cAAMyS,KAAN,CAAY,SAAZ;AACAzS,cAAMyS,KAAN,CAAY,QAAZ;;AAEA,eAAOzS,KAAP;AACH,KAtLmC;AAwLpCuW,sBAxLoC,8BAwLjBvW,KAxLiB,EAwLV;AACtB,YAAI;AACA,gBAAM6U,YAAY,KAAKM,gBAAL,CAAsBnV,MAAMxE,GAAN,CAAU,WAAV,CAAtB,CAAlB;AACA,gBAAM2d,gBAAgBtE,UAAU7U,KAAV,CAAgBgC,SAAhB,CAA0BoX,QAAhD;;AAEA,gBAAID,iBAAiBA,cAAcE,aAAd,KAAgC,WAArD,EAAkE;AAC9D,oBAAIxE,UAAUrU,IAAd,EAAoB;AAChB,wBAAMiH,SAAS,EAAf;AACArI,2BAAOwJ,IAAP,CAAYiM,UAAUrU,IAAV,CAAewB,SAA3B,EAAsC1D,OAAtC,CAA8C,eAAO;AACjDmJ,+BAAOyB,GAAP,IAAc2L,UAAUrU,IAAV,CAAewB,SAAf,CAAyBkH,GAAzB,CAAd;AACH,qBAFD;AAGA,2BAAOoQ,sCAA4Bjc,MAA5B,CAAmCoK,MAAnC,CAAP;AACH;AACD,uBAAO6R,qCAAP;AACH;AACD,mBAAOzE,UAAUrU,IAAV,CAAenD,MAAf,CAAsB;AACzBxC,2BAAWuE,OAAOC,MAAP,CACP;AACIka,uCAAmB;AACfC,uCAAeD;AADA;AADvB,iBADO,EAMP1E,UAAUrU,IAAV,CAAewB,SAAf,CAAyBnH,SAAzB,IAAsC,EAN/B;AADc,aAAtB,CAAP;AAUH,SAxBD,CAwBE,OAAOgY,CAAP,EAAU;AACRC,oBAAQC,KAAR,CAAcF,CAAd;AACH;AACJ,KApNmC;AAsN9B6C,gBAtN8B;AAAA,4FAsNjB+D,SAtNiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAuN1BC,4CAvN0B,GAuNP,KAAKrD,0BAAL,CAAgC,KAAKrW,KAAL,CAAWxE,GAAX,CAAe,MAAf,CAAhC,CAvNO;;AAAA,iCAyN5Bke,gBAzN4B;AAAA;AAAA;AAAA;;AA0NtB5c,gCA1NsB,GA0Nf,KAAKkD,KAAL,CAAWxE,GAAX,CAAe,MAAf,CA1Ne;AA2NtBme,oCA3NsB,GA2NX7c,KAAKoZ,MAAL,CAAY,EAAE0D,QAAQ,IAAV,EAAZ,CA3NW;;AAAA,iCA4NxBD,QA5NwB;AAAA;AAAA;AAAA;;AAAA;AAAA,mCA6NlB,KAAK9a,OAAL,CAAa,aAAb,EAA4B8a,QAA5B,EAAsCF,SAAtC,CA7NkB;;AAAA;;AA+NxB,iCAAKzZ,KAAL,CAAWxE,GAAX,CAAe,MAAf,EAAuBqe,aAAvB;;AA/NwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAoOpCjE,kBApOoC,4BAoOnB;AACb,aAAK/W,OAAL,CAAa,eAAb,EAA8B,KAAKmB,KAAL,CAAWxE,GAAX,CAAe,MAAf,EAAuB6E,EAArD;AACH,KAtOmC;AAwOpCsV,iBAxOoC,2BAwOpB;AACZ,aAAK3V,KAAL,CAAWxE,GAAX,CAAe,MAAf,EAAuBse,WAAvB;AACH,KA1OmC;AA4OpCtD,mBA5OoC,2BA4OpBxW,KA5OoB,EA4ObzC,UA5Oa,EA4OD2H,KA5OC,EA4OM;AACtC,aAAKrG,OAAL,CAAa,gBAAb,EAA+BmB,KAA/B,EAAsCzC,UAAtC,EAAkD2H,KAAlD;AACAlF,cAAMzC,UAAN,CAAiBmE,MAAjB,CAAwB1B,KAAxB;AACAzC,mBAAWoE,GAAX,CAAe3B,KAAf,EAAsB;AAClBC,gBAAIiF;AADc,SAAtB;AAGH,KAlPmC;AAoPpCwR,2BApPoC,mCAoPZ1W,KApPY,EAoPLzC,UApPK,EAoPOwc,MApPP,EAoPe7U,KApPf,EAoPsB;AACtD,YAAI8U,YAAY9U,KAAhB;AACA,YAAI+U,wBAAJ;AACA,YAAI1c,WAAWmU,MAAX,CAAkBK,WAAlB,EAAJ,EAAqC;AACjCkI,8BAAkB1c,WAAWmU,MAAX,CAAkBK,WAAlB,EAAlB;AACH,SAFD,MAEO;AACHkI,8BAAkB1c,WAAWmU,MAA7B;AACH;;AAED,YAAIqI,WAAW,OAAf,EAAwB;AACpBC;AACH;;AAED,YAAME,MAAM3c,WAAWmU,MAAX,CAAkBlW,GAAlB,CAAsB,gBAAtB,CAAZ;;AAEA,aAAKqD,OAAL,CAAa,qBAAb,EAAoCob,eAApC,EAAqDja,KAArD,EAA4Dga,SAA5D,EAAuEE,OAAOA,IAAIC,YAAlF;AACH,KApQmC;AAsQpCxD,2BAtQoC,mCAsQZ3W,KAtQY,EAsQLzC,UAtQK,EAsQOwc,MAtQP,EAsQe7U,KAtQf,EAsQsB;AACtD,YAAI8U,YAAY9U,KAAhB;AACA,YAAI+U,wBAAJ;AACA,YAAI1c,WAAWmU,MAAX,CAAkBK,WAAlB,EAAJ,EAAqC;AACjCkI,8BAAkB1c,WAAWmU,MAAX,CAAkBK,WAAlB,EAAlB;AACH,SAFD,MAEO;AACHkI,8BAAkB1c,WAAWmU,MAA7B;AACH;;AAED,YAAIqI,WAAW,OAAf,EAAwB;AACpBC;AACH;AACD,aAAKnb,OAAL,CAAa,kBAAb,EAAiCob,eAAjC,EAAkDja,KAAlD,EAAyDga,SAAzD;AACH,KAnRmC;AAqRpCnD,0BArRoC,kCAqRb7W,KArRa,EAqRNzC,UArRM,EAqRM;AACtC,aAAKsB,OAAL,CAAa,oBAAb,EAAmCmB,KAAnC,EAA0CzC,UAA1C;AACH,KAvRmC;AAyRpCkZ,kBAzRoC,0BAyRrBzW,KAzRqB,EAyRdzC,UAzRc,EAyRF2H,KAzRE,EAyRK;AACrC,aAAKrG,OAAL,CAAa,eAAb,EAA8BmB,KAA9B,EAAqCzC,UAArC,EAAiD2H,KAAjD;AACA3H,mBAAWoE,GAAX,CAAe3B,KAAf,EAAsB;AAClBC,gBAAIiF;AADc,SAAtB;AAGH,KA9RmC;AAgSpC0T,oBAhSoC,4BAgSnB5Y,KAhSmB,EAgSZ;AAAA;;AACpB,YAAIA,UAAU,KAAKA,KAAL,CAAWxE,GAAX,CAAe,MAAf,EAAuBA,GAAvB,CAA2B,MAA3B,CAAV,IAAgD,CAACwE,MAAMzC,UAA3D,EAAuE;AACnE;AACH;AACD,YAAM6c,WAAW,SAAXA,QAAW,SAAU;AACvB,gBAAI,CAAC3S,MAAL,EAAa;AACT;AACH;;AAED,gBAAIzH,MAAMzC,UAAN,CAAiBiC,MAAjB,KAA4B,CAAhC,EAAmC;AAC/BQ,sBAAM2R,QAAN;AACA,oBAAMD,SAAS1R,MAAM0R,MAArB;AACA,oBAAIA,UAAUA,OAAOnU,UAAjB,IAA+B,CAACyC,MAAMxE,GAAN,CAAU,gBAAV,CAApC,EAAiE;AAC7DkW,2BAAOnU,UAAP,CAAkBmE,MAAlB,CAAyBgQ,MAAzB;AACH,iBAFD,MAEO;AACH1R,0BAAMzC,UAAN,CAAiBmE,MAAjB,CAAwB1B,KAAxB;AACH;AACJ,aARD,MAQO;AACHA,sBAAM2R,QAAN;AACA,oBAAI3R,MAAMxE,GAAN,CAAU,WAAV,CAAJ,EAA4B;AACxB,2BAAKqb,sBAAL,CAA4B7W,KAA5B,EAAmCA,MAAMzC,UAAzC;AACH,iBAFD,MAEO;AACHyC,0BAAMzC,UAAN,CAAiBmE,MAAjB,CAAwB1B,KAAxB;AACH;AACJ;AACJ,SArBD;;AAuBA,YAAIA,MAAM8U,WAAN,IAAqB9U,MAAMxE,GAAN,CAAUwE,MAAMxE,GAAN,CAAU,mBAAV,KAAkC,MAA5C,EAAoDgE,MAApD,GAA6D,CAAtF,EAAyF;AACrF,gBAAM6a,cAAc3O,KAAKuM,QAAL,CAAcC,cAAd,CAA6BoC,OAA7B,CAAqClC,UAAU5c,GAAV,CAAc,wDAAd,CAArC,CAApB;AACA6e,wBAAYE,IAAZ,CAAiBH,QAAjB;AACH,SAHD,MAGO;AACHA,qBAAS,IAAT;AACH;AACD,aAAKvb,OAAL,CAAa,kBAAb,EAAiCmB,KAAjC,EAAwCA,MAAMzC,UAA9C;AACH,KAlUmC;AAoUpC8Y,8BApUoC,sCAoUTkB,SApUS,EAoUE;AAClC,YAAMiD,mBAAmBC,uBAAaC,wBAAb,CAAsCnD,SAAtC,CAAzB;;AAEA,eAAO,CAACiD,iBAAiBhb,MAAzB;AACH;AAxUmC,CAAzB,C;;;;;;;;;;;;;;;;;;ACyCf;;;;;;kBAEe;AACXmb;AADW,C;AAGf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAtDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBCAejgB,SAASyI,KAAT,CAAe9F,MAAf,CAAsB;AACjC0U,eADiC,yBACnB;AACV,eAAO,KAAKvW,GAAL,CAAS,KAAKA,GAAL,CAAS,mBAAT,CAAT,CAAP;AACH,KAHgC;AAKjCoY,aALiC,uBAKrB;AACR,YAAI,CAAC,KAAKrW,UAAV,EAAsB;AAClB,mBAAO,IAAP;AACH;AACD,eAAO,KAAKA,UAAL,CAAgBmU,MAAvB;AACH,KAVgC;;;AAYjC9D,cAAU,KAZuB;AAajCkH,iBAAa,KAboB;AAcjChH,aAAS,KAdwB;;AAgBjCyD,SAhBiC,mBAgBzB;AACJ,aAAKzD,OAAL,GAAe,IAAf;AACA,aAAKjP,OAAL,CAAa,SAAb;AACH,KAnBgC;AAqBjCgT,WArBiC,qBAqBvB;AACN,aAAK/D,OAAL,GAAe,KAAf;AACA,aAAKjP,OAAL,CAAa,WAAb;AACH,KAxBgC;AA0BjC4S,UA1BiC,oBA0BxB;AACL,aAAK7D,QAAL,GAAgB,IAAhB;AACA,aAAK/O,OAAL,CAAa,UAAb;AACH,KA7BgC;AA+BjC8S,YA/BiC,sBA+BtB;AACP,aAAK/D,QAAL,GAAgB,KAAhB;AACA,aAAK/O,OAAL,CAAa,YAAb;AACH;AAlCgC,CAAtB,C;;;;;;;;;;;;;;;;;;ACAf;AACA,IAAM+b,eAAe;AACjBC,gBAAY,IADK;AAEjBjN,cAAU,KAFO;AAGjBE,aAAS,KAHQ;;AAKjBiE,eALiB,yBAKH;AACV,eAAO,KAAKvW,GAAL,CAAS,KAAKA,GAAL,CAAS,mBAAT,CAAT,CAAP;AACH,KAPgB;AASjBoY,aATiB,uBASL;AACR,YAAI,CAAC,KAAKrW,UAAV,EAAsB;AAClB,mBAAO,IAAP;AACH;AACD,eAAO,KAAKA,UAAL,CAAgBmU,MAAvB;AACH,KAdgB;AAgBjBH,SAhBiB,mBAgBT;AACJ,aAAKzD,OAAL,GAAe,IAAf;AACA,aAAKjP,OAAL,CAAa,SAAb;AACH,KAnBgB;AAqBjBgT,WArBiB,qBAqBP;AACN,aAAK/D,OAAL,GAAe,KAAf;AACA,aAAKjP,OAAL,CAAa,WAAb;AACH,KAxBgB;AA0BjB4S,UA1BiB,oBA0BR;AACL,aAAK7D,QAAL,GAAgB,IAAhB;AACA,aAAK/O,OAAL,CAAa,UAAb;AACH,KA7BgB;AA+BjB8S,YA/BiB,sBA+BN;AACP,aAAK/D,QAAL,GAAgB,KAAhB;AACA,aAAK/O,OAAL,CAAa,YAAb;AACH;AAlCgB,CAArB;;AAqCA,IAAMic,uBAAuBpgB,SAAS0C,UAAT,CAAoBC,MAApB,CAA2Bud,YAA3B,CAA7B;;kBAEelgB,SAASyI,KAAT,CAAe9F,MAAf,CAAsB;AACjC+b,YADiC,sBACtB;AACP,eAAO;AACH3B,kBAAMW,UAAU5c,GAAV,CAAc,mBAAd,CADH,EACuC;AAC1Cuf,mBAAO,SAFJ;AAGHnG,kBAAM,IAAIla,SAASyI,KAAb,CAAmB;AACrB6X,uBAAO,CADc;AAErB7D,sBAAM,IAAIzc,SAAS0C,UAAb,EAFe;AAGrBga,2BAAW;AAHU,aAAnB;AAHH,SAAP;AASH,KAXgC;AAajCvT,SAbiC,iBAa3BoX,IAb2B,EAarB;AAAA;;AACR,YAAMC,UAAUD,KAAKne,IAArB;AACA,aAAK8a,cAAL,GAAsBqD,KAAK5F,UAA3B;AACA,YAAI6F,OAAJ,EAAa;AACT,gBAAM/D,OAAO+D,QAAQtG,IAAR,CAAapZ,GAAb,CAAiB,MAAjB,CAAb;AACA;AACA,gBAAM2f,sBAAsB,IAAIL,oBAAJ,CAAyB3D,KAAK5Q,GAAL,CAAS;AAAA,uBAAa,MAAK6U,oBAAL,CAA0BrE,SAA1B,EAAqCmE,QAAQtG,IAA7C,CAAb;AAAA,aAAT,CAAzB,CAA5B;AACA,iBAAK3W,QAAL,CAAckd,mBAAd,EAAmC,KAAnC,EAA0C,KAAKE,oBAA/C;AACA,iBAAKpd,QAAL,CAAckd,mBAAd,EAAmC,kBAAnC,EAAuD,KAAKG,aAA5D;AACA,iBAAKrd,QAAL,CAAckd,mBAAd,EAAmC,QAAnC,EAA6C,KAAKI,oBAAlD;AACAL,oBAAQtG,IAAR,CAAaG,GAAb,CAAiB,EAAEoC,MAAMgE,mBAAR,EAAjB;AACAD,oBAAQtG,IAAR,CAAalD,MAAb,GAAsB,IAAtB;;AAEA,mBAAOwJ,OAAP;AACH;AACD,eAAOD,IAAP;AACH,KA7BgC;AA+BjCrJ,iBA/BiC,yBA+BnB4J,QA/BmB,EA+BT;AACpB,YAAMC,SAAS,SAATA,MAAS,QAAS;AACpBzb,kBAAM+R,WAAN,GAAoBlI,IAApB,CAAyB,iBAAS;AAC9B2R,yBAAS3H,KAAT;AACA,oBAAIA,MAAMiB,WAAV,EAAuB;AACnB2G,2BAAO5H,KAAP;AACH;AACJ,aALD;AAMH,SAPD;AAQA4H,eAAO,KAAKjgB,GAAL,CAAS,MAAT,CAAP;AACH,KAzCgC;AA2CjCqe,iBA3CiC,2BA2CjB;AACZ,aAAK7B,UAAL,GAAkB,KAAlB;AACH,KA7CgC;AA+CjC8B,eA/CiC,yBA+CnB;AACV,YAAM4B,iBAAiB,EAAvB;AACA,YAAMvE,OAAO,KAAK3b,GAAL,CAAS,MAAT,EAAiBA,GAAjB,CAAqB,MAArB,CAAb;AACA,YAAI2b,IAAJ,EAAU;AACNA,iBAAKtN,IAAL,CAAU,iBAAS;AACf,oBAAI7J,MAAMxE,GAAN,CAAU,WAAV,MAA2B,KAA/B,EAAsC;AAClCkgB,mCAAexb,IAAf,CAAoBF,KAApB;AACH,iBAFD,MAEO;AACHA,0BAAM+R,WAAN,GAAoB5S,KAApB;AACH;AACJ,aAND;AAOAgY,iBAAKzV,MAAL,CAAYga,cAAZ;AACH;AACJ,KA5DgC;AA8DjCxF,UA9DiC,kBA8D1Bpe,OA9D0B,EA8DjB;AACZ,YAAMmjB,OAAOvgB,SAASyI,KAAT,CAAenB,SAAf,CAAyBkU,MAAzB,CAAgCnb,KAAhC,CAAsC,IAAtC,EAA4C4D,SAA5C,CAAb;AACA,YAAI7G,WAAWA,QAAQ8hB,MAAR,KAAmB,IAAlC,EAAwC;AACpC,gBAAM+B,UAAUV,KAAKrG,IAAL,CAAUlV,KAAV,EAAhB;AACA,mBAAOub,KAAKhhB,OAAZ;AACA,mBAAOghB,KAAKW,YAAZ;AACA,mBAAOX,KAAK1a,QAAZ;AACA,mBAAO0a,KAAKvJ,MAAZ;AACAiK,oBAAQlJ,KAAR,CAAc,MAAd;AACAkJ,oBAAQlJ,KAAR,CAAc,SAAd;AACAkJ,oBAAQlJ,KAAR,CAAc,YAAd;AACAkJ,oBAAQlJ,KAAR,CAAc,cAAd;AACAkJ,oBAAQ5G,GAAR,CAAY,MAAZ,EAAoB,KAAK8G,eAAL,CAAqBF,QAAQngB,GAAR,CAAY,MAAZ,CAArB,EAA0C1D,OAA1C,CAApB;;AAEA,mBAAOsH,OAAOC,MAAP,CAAc,EAAd,EAAkB4b,IAAlB,EAAwB,EAAErG,MAAM+G,QAAQzF,MAAR,CAAepe,OAAf,CAAR,EAAxB,CAAP;AACH;AACD,eAAOmjB,IAAP;AACH,KA/EgC;AAiFjCG,wBAjFiC,gCAiFZpb,KAjFY,EAiFL0R,MAjFK,EAiFG;AAAA;;AAChC,YAAMmD,YAAY,KAAK+C,cAAL,CAAoB5X,MAAMxE,GAAN,CAAU,MAAV,CAApB,KAA0C,KAAKoc,cAAL,CAAoB5X,MAAMxE,GAAN,CAAU,WAAV,CAApB,CAA5D;AACA,YAAMsgB,YAAY,KAAKjH,UAAU7U,KAAV,CAAgB3C,MAAhB,CAAuBud,YAAvB,CAAL,EAA2C5a,MAAMkW,MAAN,EAA3C,EAA2D,EAAErS,OAAO,CAAC7D,MAAM6a,UAAhB,EAA3D,CAAlB;AACA,YAAMxD,oBAAoByE,UAAUtgB,GAAV,CAAc,mBAAd,CAA1B;;AAEAsgB,kBAAUhH,WAAV,GAAwB,KAAxB;AACA,YAAIuC,iBAAJ,EAAuB;AACnB,gBAAMF,OAAO2E,UAAUtgB,GAAV,CAAc6b,iBAAd,EAAiC9Q,GAAjC,CAAqC;AAAA,uBAAc,OAAK6U,oBAAL,CAA0BW,UAA1B,EAAsCD,SAAtC,CAAd;AAAA,aAArC,KAAwG,IAAIphB,SAAS0C,UAAb,EAArH;AACA,gBAAMyW,QAAQ,IAAIiH,oBAAJ,CAAyB3D,IAAzB,CAAd;AACAtD,kBAAMnC,MAAN,GAAeA,MAAf;AACAoK,sBAAUhH,WAAV,GAAwB,IAAxB;AACAgH,sBAAU/G,GAAV,CAAcsC,iBAAd,EAAiCxD,KAAjC;AACA,iBAAK5V,QAAL,CAAc4V,KAAd,EAAqB,KAArB,EAA4B;AAAA,uBAAY,OAAKwH,oBAAL,CAA0BrF,QAA1B,EAAoC8F,SAApC,CAAZ;AAAA,aAA5B;AACA,iBAAK7d,QAAL,CAAc4V,KAAd,EAAqB,yBAArB,EAAgD,KAAKyH,aAArD;AACH;AACDQ,kBAAUpK,MAAV,GAAmBA,MAAnB;AACA,eAAOoK,SAAP;AACH,KAlGgC;AAoGjCT,wBApGiC,gCAoGZrb,KApGY,EAoGL0R,MApGK,EAoGG;AAChC,YAAMsE,WAAW,KAAKoF,oBAAL,CAA0Bpb,KAA1B,EAAiC0R,MAAjC,CAAjB;AACA1R,cAAMgc,KAAN;AACAhc,cAAM8U,WAAN,GAAoBkB,SAASlB,WAA7B;AACA9U,cAAM+U,GAAN,CAAUiB,SAASE,MAAT,EAAV;AACAlW,cAAM0R,MAAN,GAAesE,SAAStE,MAAxB;AACAtS,eAAOC,MAAP,CAAcW,KAAd,EAAqB4a,YAArB;AACH,KA3GgC;AA6GjCiB,mBA7GiC,2BA6GjBte,UA7GiB,EA6GLzF,OA7GK,EA6GI;AAAA;;AACjC,YAAMme,gBAAgB1Y,WAAW2Y,MAAX,CAAkBpe,OAAlB,CAAtB;AACA,eAAOme,cAAc1P,GAAd,CAAkB,iBAAS;AAC9B,gBAAIvG,MAAMqX,iBAAV,EAA6B;AACzBrX,sBAAMA,MAAMqX,iBAAZ,IAAiC,OAAKwE,eAAL,CAAqB7b,MAAMA,MAAMqX,iBAAZ,CAArB,EAAqDvf,OAArD,CAAjC;AACH;AACD,mBAAOkI,KAAP;AACH,SALM,CAAP;AAMH,KArHgC;AAuHjCsb,iBAvHiC,2BAuHjB;AACZ,aAAKtD,UAAL,GAAkB,IAAlB;AACH,KAzHgC;AA2HjCuD,wBA3HiC,gCA2HZvb,KA3HY,EA2HLic,GA3HK,EA2HAnkB,OA3HA,EA2HS;AACtC,YAAIA,WAAWA,QAAQokB,QAAvB,EAAiC;AAC7B;AACH;;AAED,aAAKlE,UAAL,GAAkB,IAAlB;AACA,YAAMmE,sBAAsB/c,OAAOwJ,IAAP,CAAY5I,MAAM2I,OAAlB,EAA2B,CAA3B,CAA5B;AACA,aAAK9J,OAAL,CAAa,mBAAb,EAAkCmB,KAAlC,EAAyCmc,mBAAzC,EAA8Dnc,MAAM2I,OAAN,CAAcwT,mBAAd,CAA9D;AACH;AAnIgC,CAAtB,C;;;;;;;;;;;;;;;;;ACzCf;;;;;;;;;kBAUe;AACXzB,4BADW,oCACcnD,SADd,EACyB;AAAA;;AAChC,YAAMiD,mBAAmB,EAAzB;AACAjD,kBAAU3F,aAAV,CAAwB,0BAAkB;AACtC,gBAAI3B,eAAemM,QAAnB,EAA6B;AACzB,oBAAMC,kBAAkBpM,eAAemM,QAAf,EAAxB;AACA,oBAAIC,eAAJ,EAAqB;AACjB7B,qCAAiBta,IAAjB,CAAsBmc,eAAtB;AACA,0BAAKC,yBAAL,CAA+BrM,cAA/B;AACH;AACJ;AACJ,SARD;;AAUA,eAAOuK,gBAAP;AACH,KAdU;AAgBX8B,6BAhBW,qCAgBerM,cAhBf,EAgB+B;AACtCA,uBAAe8E,GAAf,CAAmB,SAAnB,EAA8B,IAA9B,EADsC,CACD;AACxC;AAlBU,C;;;;;;;;;;;ACVf,yI;;;;;;;;;;;ACAA,8EAA8E,MAAM,kP;;;;;;;;;;;ACApF,sG;;;;;;;;;;;ACAA,yY;;;;;;;;;;;ACAA,oB;;;;;;;;;;;ACAA,uD;;;;;;;;;;;ACAA,kHAAkH,wCAAwC,oDAAoD,2CAA2C,kB;;;;;;;;;;;ACAzP,0MAA0M,eAAe,+YAA+Y,kBAAkB,0C;;;;;;;;;;;ACA1nB,iGAAiG,yDAAyD,yMAAyM,gDAAgD,4GAA4G,oDAAoD,uC;;;;;;;;;;;ACAnjB,4H;;;;;;;;;;;;;;;;;;ACCA;;;;AACA;;;;AACA;;;;;;kBAEe/c,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC+M,cAAUC,WAAWC,OAAX,CAAmBF,gBAAnB,CADwB;;AAGlCK,eAAW,QAHuB;;AAKlCD,YAAQ;AACJc,oBAAY,cADR;AAEJC,oBAAY;AAFR,KAL0B;;AAUlCL,aAAS;AACLqR,oBAAY,iBADP;AAELC,6BAAqB;AAFhB,KAVyB;;AAelChR,YAfkC,sBAevB;AACP,YAAMuL,YAAY,KAAK/W,KAAL,CAAWxE,GAAX,CAAe,MAAf,CAAlB;AACA,aAAK2Q,aAAL,CACI,YADJ,EAEI,KAAKuE,UAAL,CAAgBqG,SAAhB,EAA2B;AACvB/W,mBAAO+W,SADgB;AAEvB1J,oBAAQ,KAAKgD,SAAL,CAAe,QAAf,CAFe;AAGvB9C,0BAAc,KAAK8C,SAAL,CAAe,cAAf,CAHS;AAIvB/C,8BAAkB,KAAK+C,SAAL,CAAe,kBAAf,CAJK;AAKvB7C,6BAAiB,KAAK6C,SAAL,CAAe,iBAAf;AALM,SAA3B,CAFJ;;AAWA,YAAMmM,sBAAsB,KAAKC,SAAL,CAAe,qBAAf,CAA5B;AACAD,4BAAoBE,IAApB,CAAyB,KAAKC,qBAAL,EAAzB;;AAEA,YAAI,KAAKtM,SAAL,CAAe,QAAf,EAAyBuM,aAA7B,EAA4C;AACxCJ,gCAAoBtO,EAApB,CAAuB2O,YAAvB,CAAoC,aAApC,EAAmD,IAAnD;AACH;AACJ,KAlCiC;AAoClC/G,cApCkC,sBAoCvBgH,QApCuB,EAoCb;AACjB,YAAI,CAAC,KAAKzM,SAAL,CAAe,QAAf,EAAyBuM,aAA9B,EAA6C;AACzC,iBAAKH,SAAL,CAAe,qBAAf,EAAsCvO,EAAtC,CAAyCE,MAAzC,CAAgD,CAAC0O,QAAjD;AACH;AACJ,KAxCiC;AA0ClCpM,cA1CkC,sBA0CvBqG,SA1CuB,EA0CZjf,OA1CY,EA0CH;AAC3B,YAAIiT,OAAOgM,UAAUvb,GAAV,CAAc,MAAd,CAAX;AACA,YAAI,KAAK6U,SAAL,CAAe,QAAf,EAAyBC,YAAzB,KAA0C,OAA9C,EAAuD;AACnD,gBAAM7I,SAAS,EAAf;AACArI,mBAAOwJ,IAAP,CAAYmC,KAAK/I,SAAjB,EAA4B1D,OAA5B,CAAoC,eAAO;AACvCmJ,uBAAOyB,GAAP,IAAc6B,KAAK/I,SAAL,CAAekH,GAAf,CAAd;AACH,aAFD;AAGA6B,mBAAOuO,sCAA4Bjc,MAA5B,CAAmCoK,MAAnC,CAAP;AACH;AACD,eAAO,IAAIsD,IAAJ,CAASjT,OAAT,CAAP;AACH,KApDiC;AAsDlC6kB,yBAtDkC,mCAsDV;AACpB,eAAO,IAAII,uBAAJ,EAAP;AACH,KAxDiC;AA0DlCC,gBA1DkC,0BA0DnB;AACX,aAAKzK,OAAL,GAAe,IAAf;AACH,KA5DiC;AA8DlC0K,gBA9DkC,0BA8DnB;AACX,aAAK1K,OAAL,GAAe,KAAf;AACH;AAhEiC,CAAvB,C;;;;;;;;;;;;;;;;;;ACJf;;;;;;AAEA,IAAM3F,UAAU;AACZsQ,qBAAiB,oBADL;AAEZC,oBAAgB;AAFJ,CAAhB;kBAKenlB,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC9E,cADkC,sBACvBT,OADuB,EACd;AAChB,aAAKmC,OAAL,GAAenC,QAAQmC,OAAvB;AACH,KAHiC;;;AAKlCmQ,cAAUC,WAAWC,OAAX,CAAmBF,kBAAnB,CALwB;;AAOlCK,eAAW,aAPuB;;AASlC;;;;;;AAMAiK,eAfkC,uBAetB5W,QAfsB,EAeZ;AAClB,YAAMsf,aAAa,KAAKlP,EAAL,CAAQmP,MAAR,EAAnB;;AAEA,YAAIvf,SAASuW,CAAT,GAAa+I,WAAWtO,IAAxB,IAAgChR,SAASuW,CAAT,GAAa+I,WAAWtO,IAAX,GAAkB,KAAKZ,EAAL,CAAQ8M,KAAR,EAAnE,EAAoF;AAChF,mBAAO7G,OAAOC,SAAd;AACH;;AAED,eAAO5S,KAAKC,GAAL,CAAS3D,SAASyW,CAAT,IAAc6I,WAAWvO,GAAX,GAAiB,KAAKX,EAAL,CAAQoP,YAAR,GAAuB,CAAtD,CAAT,CAAP;AACH,KAvBiC;AAyBlClL,YAzBkC,sBAyBvB;AACP,aAAKlE,EAAL,CAAQC,SAAR,CAAkBxM,GAAlB,CAAsBiL,QAAQsQ,eAA9B;AACH,KA3BiC;AA6BlClK,cA7BkC,wBA6BrB;AACT,aAAK9E,EAAL,CAAQC,SAAR,CAAkBzM,MAAlB,CAAyBkL,QAAQsQ,eAAjC;AACH,KA/BiC;AAiClChK,SAjCkC,mBAiC1B;AACJ,aAAKhF,EAAL,CAAQC,SAAR,CAAkBxM,GAAlB,CAAsBiL,QAAQuQ,cAA9B;AACH,KAnCiC;AAqClClK,SArCkC,mBAqC1B;AACJ,aAAK/E,EAAL,CAAQC,SAAR,CAAkBzM,MAAlB,CAAyBkL,QAAQuQ,cAAjC;AACH,KAvCiC;AAyClCvK,QAzCkC,gBAyC7BnD,WAzC6B,EAyChB;AACd,aAAK5Q,OAAL,CAAa,MAAb,EAAqB;AACjB0e,yBAAa,KAAKtjB,OADD;AAEjBwV;AAFiB,SAArB;AAIH;AA9CiC,CAAvB,C;;;;;;;;;;;;;;;;;;ACPf;;;;AACA;;;;AACA;;;;AACA;;;;;;kBAEezX,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC9E,cADkC,sBACvBT,OADuB,EACd;AAAA;;AAChB,aAAK6Y,MAAL,GAAc7Y,QAAQ6Y,MAAtB;AACA,YAAMpT,aAAazF,QAAQ6Y,MAAR,CAAe6M,kBAAlC;;AAEA,YAAIjgB,UAAJ,EAAgB;AACZ,iBAAKkgB,YAAL,GAAoB,KAAKC,mBAAL,CAAyB;AACzC/M,wBAAQ,EAAEpT,sBAAF,EADiC;AAEzCogB,oCAAoB7lB,QAAQ6Y,MAAR,CAAegN,kBAFM;AAGzCtQ,wBAAQvV,QAAQuV;AAHyB,aAAzB,CAApB;AAKA,iBAAKpP,QAAL,CAAc,KAAKwf,YAAnB,EAAiC,oBAAjC,EAAuD,UAAChO,WAAD,EAAcD,KAAd,EAAqBpX,EAArB;AAAA,uBAA4B,MAAKyG,OAAL,CAAa,oBAAb,EAAmC4Q,WAAnC,EAAgDD,KAAhD,EAAuDpX,EAAvD,CAA5B;AAAA,aAAvD;AACA,iBAAK6F,QAAL,CAAc,KAAKwf,YAAnB,EAAiC,mBAAjC,EAAsD,UAAChO,WAAD,EAAcD,KAAd,EAAqBpX,EAArB;AAAA,uBAA4B,MAAKyG,OAAL,CAAa,mBAAb,EAAkC4Q,WAAlC,EAA+CD,KAA/C,EAAsDpX,EAAtD,CAA5B;AAAA,aAAtD;AACA,iBAAK6F,QAAL,CAAc,KAAKwf,YAAnB,EAAiC,mBAAjC,EAAsD,UAAChO,WAAD,EAAcD,KAAd,EAAqBpX,EAArB;AAAA,uBAA4B,MAAKyG,OAAL,CAAa,mBAAb,EAAkC4Q,WAAlC,EAA+CD,KAA/C,EAAsDpX,EAAtD,CAA5B;AAAA,aAAtD;AACA,iBAAK6F,QAAL,CAAc,KAAKwf,YAAnB,EAAiC,gBAAjC,EAAmD;AAAA,uBAAM,MAAK5e,OAAL,CAAa,gBAAb,CAAN;AAAA,aAAnD;AACH;;AAED,YAAI,KAAK8R,MAAL,CAAY8H,OAAhB,EAAyB;AACrB,iBAAKmF,QAAL,GAAgB,KAAKF,mBAAL,CAAyB,KAAK5lB,OAA9B,CAAhB;AACA,iBAAK+lB,WAAL,GAAmB,KAAKC,mBAAL,CAAyBhmB,QAAQuV,MAAjC,EAAyC,KAAKsD,MAA9C,CAAnB;;AAEA,iBAAK1S,QAAL,CAAc,KAAK2f,QAAnB,EAA6B,4BAA7B,EAA2D;AAAA,uBAAqB,MAAKC,WAAL,CAAiBE,iBAAjB,CAAmCC,iBAAnC,CAArB;AAAA,aAA3D;AACA,iBAAK/f,QAAL,CAAc,KAAK2f,QAAnB,EAA6B,oBAA7B,EAAmD,UAACnO,WAAD,EAAcD,KAAd,EAAqBpX,EAArB;AAAA,uBAA4B,MAAKyG,OAAL,CAAa,oBAAb,EAAmC4Q,WAAnC,EAAgDD,KAAhD,EAAuDpX,EAAvD,CAA5B;AAAA,aAAnD;AACA,iBAAK6F,QAAL,CAAc,KAAK2f,QAAnB,EAA6B,mBAA7B,EAAkD,UAACnO,WAAD,EAAcD,KAAd,EAAqBpX,EAArB;AAAA,uBAA4B,MAAKyG,OAAL,CAAa,mBAAb,EAAkC4Q,WAAlC,EAA+CD,KAA/C,EAAsDpX,EAAtD,CAA5B;AAAA,aAAlD;AACA,iBAAK6F,QAAL,CAAc,KAAK2f,QAAnB,EAA6B,mBAA7B,EAAkD,UAACnO,WAAD,EAAcD,KAAd,EAAqBpX,EAArB;AAAA,uBAA4B,MAAKyG,OAAL,CAAa,mBAAb,EAAkC4Q,WAAlC,EAA+CD,KAA/C,EAAsDpX,EAAtD,CAA5B;AAAA,aAAlD;AACA,iBAAK6F,QAAL,CAAc,KAAK2f,QAAnB,EAA6B,kBAA7B,EAAiD;AAAA,uBAAS,MAAK/e,OAAL,CAAa,kBAAb,EAAiCmB,KAAjC,CAAT;AAAA,aAAjD;AACA,iBAAK/B,QAAL,CAAc,KAAK2f,QAAnB,EAA6B,gBAA7B,EAA+C;AAAA,uBAAM,MAAK/e,OAAL,CAAa,gBAAb,CAAN;AAAA,aAA/C;AACA,iBAAKZ,QAAL,CAAc,KAAK2f,QAAnB,EAA6B,gBAA7B,EAA+C;AAAA,uBAAM,MAAK/e,OAAL,CAAa,gBAAb,CAAN;AAAA,aAA/C;AACA,iBAAKZ,QAAL,CAAc,KAAK4f,WAAnB,EAAgC,SAAhC,EAA2C;AAAA,uBAAY,MAAKhf,OAAL,CAAa,eAAb,EAA8Bga,QAA9B,CAAZ;AAAA,aAA3C;AACH;;AAED/gB,gBAAQuV,MAAR,CAAewD,KAAf,CAAqB,aAArB,EAAoC;AAAA,mBAAS,MAAKhS,OAAL,CAAa,aAAb,EAA4B2Q,KAA5B,CAAT;AAAA,SAApC;AACA1X,gBAAQuV,MAAR,CAAewD,KAAf,CAAqB,eAArB,EAAsC;AAAA,mBAAS,MAAKhS,OAAL,CAAa,eAAb,EAA8B2Q,KAA9B,CAAT;AAAA,SAAtC;AACA1X,gBAAQuV,MAAR,CAAewD,KAAf,CAAqB,kBAArB,EAAyC;AAAA,mBAAS,MAAKhS,OAAL,CAAa,kBAAb,EAAiC2Q,KAAjC,CAAT;AAAA,SAAzC;AACH,KAlCiC;;;AAoClCpF,cAAUC,WAAWC,OAAX,CAAmBF,yBAAnB,CApCwB;;AAsClCK,eAAW,SAtCuB;;AAwClCrS,QAAI;AACA6lB,sBAAc;AADd,KAxC8B;;AA4ClCzT,YAAQ;AACJ,kCAA0B;AADtB,KA5C0B;;AAgDlCU,aAAS;AACLgT,uBAAe,oBADV;AAELC,oBAAY,iBAFP;AAGLC,wBAAgB;AAHX,KAhDyB;;AAsDlC5S,YAtDkC,sBAsDvB;AACP,YAAI,KAAKmF,MAAL,CAAY0N,QAAZ,KAAyB,KAAzB,IAAkC,KAAK1N,MAAL,CAAY8H,OAAlD,EAA2D;AACvD,iBAAKtM,aAAL,CAAmB,YAAnB,EAAiC,KAAKyR,QAAtC;AACA,iBAAKzR,aAAL,CAAmB,eAAnB,EAAoC,KAAK0R,WAAzC;AACH;AACD,YAAI,KAAKJ,YAAT,EAAuB;AACnB,iBAAKtR,aAAL,CAAmB,gBAAnB,EAAqC,KAAKsR,YAA1C;AACH;AACD,aAAKrlB,EAAL,CAAQ6lB,YAAR,CAAqBpB,YAArB,CAAkC,aAAlC,EAAiD,IAAjD,EARO,CAQiD;AAC3D,KA/DiC;AAiElC1G,iBAjEkC,yBAiEpBnW,KAjEoB,EAiEbiW,aAjEa,EAiEE;AAChC,aAAK2H,QAAL,CAAczH,aAAd,CAA4BnW,KAA5B,EAAmCiW,aAAnC;AACH,KAnEiC;AAqElC6H,uBArEkC,+BAqEdzQ,MArEc,EAqENsD,MArEM,EAqEE;AAChC,eAAO,IAAI2N,4BAAJ,CAAuB,EAAEjR,cAAF,EAAUsD,cAAV,EAAvB,CAAP;AACH,KAvEiC;AAyElC4N,mBAzEkC,6BAyEhB;AACd,aAAK1f,OAAL,CAAa,gBAAb;AACA,aAAKzG,EAAL,CAAQ6lB,YAAR,CAAqB9P,SAArB,CAA+BC,MAA/B,CAAsC,oBAAtC;AACH,KA5EiC;AA8ElCsP,uBA9EkC,+BA8Ed5lB,OA9Ec,EA8EL;AACzB,YAAI0mB,oBAAJ;AACA,YAAI1mB,QAAQ6lB,kBAAZ,EAAgC;AAC5B,gBAAMpgB,aAAa,IAAImO,KAAK+S,WAAL,CAAiB/a,iBAArB,CAAuC5L,QAAQ6Y,MAAR,CAAepT,UAAtD,CAAnB;AACAihB,0BAAc,IAAIE,yBAAJ,CAAoB;AAC9BrR,wBAAQvV,QAAQuV,MADc;AAE9B9P;AAF8B,aAApB,CAAd;AAIH,SAND,MAMO;AACHihB,0BAAc,IAAIG,4BAAJ,CAAuB7mB,OAAvB,CAAd;AACH;;AAED,eAAO0mB,WAAP;AACH;AA3FiC,CAAvB,C;;;;;;;;;;;;;;;;;;ACLf;;;;;;kBAEexmB,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC+M,cAAUC,WAAWC,OAAX,CAAmBF,uBAAnB,CADwB;;AAGlCK,eAAW;AAHuB,CAAvB,C;;;;;;;;;;;;;;;;;;ACFf;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AACA;;AAEA,IAAMmU,yBAAyB,EAA/B;AACA,IAAMC,uBAAuB,EAA7B;;AAEA,IAAMC,YAAY;AACdC,eAAW;AADG,CAAlB;;kBAIe/mB,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC9E,cADkC,sBACvBT,OADuB,EACd;AAChB,aAAKuV,MAAL,GAAcvV,QAAQuV,MAAtB;AACA,aAAKG,eAAL,GAAuB1V,QAAQ0V,eAA/B;AACA,aAAK6H,UAAL,GAAkBvd,QAAQ0gB,UAAR,CAAmBnD,UAAnB,IAAiC,EAAnD;AACA,aAAK2J,iBAAL,GAAyBlnB,QAAQygB,OAAR,CAAgBhb,UAAzC;AACA,aAAKsa,kBAAL,GAA0B/f,QAAQ+f,kBAAlC;;AAEA,YAAMoH,kCAAgCnnB,QAAQygB,OAAR,IAAmBzgB,QAAQygB,OAAR,CAAgB2G,IAApC,IAA6C,QAA5E,CAAN;AACA,YAAMC,wCAAsCrnB,QAAQ0gB,UAAR,IAAsB1gB,QAAQ0gB,UAAR,CAAmB0G,IAA1C,IAAmD,QAAxF,CAAN;AACA,aAAKlf,KAAL,CAAW+U,GAAX,CAAe,EAAEkK,0BAAF,EAAgBE,gCAAhB,EAAf;;AAEA,aAAKC,mBAAL,GAA2B,IAAIC,6BAAJ,CAAwB;AAC/C1O,oBAAQ,KAAKN,SAAL,CAAe,SAAf,CADuC;AAE/CpW,qBAAS,KAAK+F,KAAL,CAAWxE,GAAX,CAAe,SAAf,CAFsC;AAG/Cmc,0BAAc,KAAK3X,KAAL,CAAWxE,GAAX,CAAe,cAAf,CAHiC;AAI/C6R,oBAAQ,KAAKA;AAJkC,SAAxB,CAA3B;;AAOA,aAAKkK,SAAL,GAAiB,KAAKvX,KAAL,CAAWxE,GAAX,CAAe,MAAf,CAAjB;;AAEA,aAAK8jB,gBAAL,GAAwB,IAAIC,0BAAJ,CAAqB;AACzCvf,mBAAO,KAAKuX,SAD6B;AAEzC5G,oBAAQ,KAAKN,SAAL,CAAe,QAAf,CAFiC;AAGzChD,oBAAQ,KAAKA,MAH4B;AAIzCG,6BAAiB,KAAK6C,SAAL,CAAe,iBAAf;AAJwB,SAArB,CAAxB;AAMA,aAAKyN,mBAAL;AACH,KA5BiC;;;AA8BlCrT,eAAW,eA9BuB;;AAgClCL,cAAUC,WAAWC,OAAX,CAAmBF,gBAAnB,CAhCwB;;AAkClChS,QAAI;AACAonB,wBAAgB,qBADhB;AAEAC,2BAAmB,wBAFnB;AAGAlH,iBAAS,uBAHT;AAIAC,oBAAY,uBAJZ;AAKAC,iBAAS;AALT,KAlC8B;;AA0ClCvN,aAAS;AACLwU,2BAAmB,yBADd;AAELC,0BAAkB,uBAFb;AAGLC,sBAAc,mBAHT;AAILC,0BAAkB,uBAJb;AAKL3B,uBAAe;AALV,KA1CyB;;AAkDlC1S,YAlDkC,sBAkDvB;AAAA;;AACP,aAAKvN,QAAL,CAAc,KAAKqhB,gBAAnB,EAAqC,oBAArC,EAA2D,KAAKQ,yBAAhE;AACA,aAAK7hB,QAAL,CAAc,KAAKqhB,gBAAnB,EAAqC,kBAArC,EAAyD;AAAA,mBAAS,MAAKzgB,OAAL,CAAa,kBAAb,EAAiC2Q,KAAjC,CAAT;AAAA,SAAzD;AACA,aAAKvR,QAAL,CAAc,KAAKmhB,mBAAnB,EAAwC,eAAxC,EAAyD;AAAA,mBAAY,MAAKvgB,OAAL,CAAa,eAAb,EAA8Bga,QAA9B,CAAZ;AAAA,SAAzD;AACA,aAAK5a,QAAL,CAAc,KAAKmhB,mBAAnB,EAAwC,gBAAxC,EAA0D;AAAA,mBAAS,MAAKvgB,OAAL,CAAa,gBAAb,EAA+B2Q,KAA/B,CAAT;AAAA,SAA1D;AACA,aAAKvR,QAAL,CAAc,KAAKmhB,mBAAnB,EAAwC,kBAAxC,EAA4D;AAAA,mBAAS,MAAKvgB,OAAL,CAAa,kBAAb,EAAiC2Q,KAAjC,CAAT;AAAA,SAA5D;AACA,aAAKvR,QAAL,CAAc,KAAKmhB,mBAAnB,EAAwC,oBAAxC,EAA8D,KAAKE,gBAAL,CAAsBxO,sBAApF;AACA,aAAK7S,QAAL,CAAc,KAAKmhB,mBAAnB,EAAwC,mBAAxC,EAA6D,KAAKE,gBAAL,CAAsBtO,qBAAnF;AACA,aAAK/S,QAAL,CAAc,KAAKmhB,mBAAnB,EAAwC,mBAAxC,EAA6D,KAAKE,gBAAL,CAAsBvO,qBAAnF;AACA,aAAK9S,QAAL,CAAc,KAAKmhB,mBAAnB,EAAwC,kBAAxC,EAA4D;AAAA,mBAAS,MAAKE,gBAAL,CAAsBnM,qBAAtB,CAA4CnT,KAA5C,CAAT;AAAA,SAA5D;AACA,aAAK/B,QAAL,CAAc,KAAKmhB,mBAAnB,EAAwC,gBAAxC,EAA0D,KAAKE,gBAAL,CAAsBvO,qBAAhF;AACA,aAAK9S,QAAL,CAAc,KAAKmhB,mBAAnB,EAAwC,gBAAxC,EAA0D,KAAKb,eAA/D;AACA,aAAKtgB,QAAL,CAAc,KAAKmhB,mBAAnB,EAAwC,YAAxC,EAAsD;AAAA,mBAAS,MAAKvgB,OAAL,CAAa,YAAb,EAA2B2Q,KAA3B,CAAT;AAAA,SAAtD;AACA,aAAKvR,QAAL,CAAc,KAAKmhB,mBAAnB,EAAwC,aAAxC,EAAuD;AAAA,mBAAS,MAAKvgB,OAAL,CAAa,aAAb,EAA4B2Q,KAA5B,CAAT;AAAA,SAAvD;AACA,aAAKvR,QAAL,CAAcyN,KAAKuM,QAAL,CAAc3f,kBAA5B,EAAgD,eAAhD,EAAiE,KAAKynB,wBAAtE;;AAEA,aAAKtD,SAAL,CAAe,cAAf,EAA+BC,IAA/B,CAAoC,KAAK4C,gBAAL,CAAsB9e,IAA1D;AACA,aAAKic,SAAL,CAAe,mBAAf,EAAoCC,IAApC,CAAyC,KAAK0C,mBAA9C;;AAEA,aAAKhnB,EAAL,CAAQonB,cAAR,CAAuBtS,SAAvB,CAAiC;AAC7B8S,kBAAM,GADuB;AAE7B9Q,kBAAM,cAACM,KAAD,EAAQpX,EAAR;AAAA,uBAAe,MAAK6nB,sBAAL,CAA4B7nB,EAA5B,CAAf;AAAA,aAFuB;AAG7B4W,kBAAM;AAAA,uBAAM,MAAKkR,YAAL,EAAN;AAAA;AAHuB,SAAjC;;AAMA,aAAK9nB,EAAL,CAAQqnB,iBAAR,CAA0BvS,SAA1B,CAAoC;AAChC8S,kBAAM,GAD0B;AAEhC9Q,kBAAM,cAACM,KAAD,EAAQpX,EAAR;AAAA,uBAAe,MAAK+nB,yBAAL,CAA+B/nB,EAA/B,CAAf;AAAA,aAF0B;AAGhC4W,kBAAM;AAAA,uBAAM,MAAKkR,YAAL,EAAN;AAAA;AAH0B,SAApC;;AAMA,YAAME,eAAe,KAAKvI,kBAAL,CAAwBrc,GAAxB,CAA4B,cAA5B,CAArB;AACA,YAAI4kB,YAAJ,EAAkB;AACd,iBAAKhoB,EAAL,CAAQmgB,OAAR,CAAgB8H,GAAhB,CAAoB,MAApB,WAAmCD,YAAnC;AACH;AACD,YAAME,kBAAkB,KAAKzI,kBAAL,CAAwBrc,GAAxB,CAA4B,iBAA5B,CAAxB;AACA,YAAI8kB,eAAJ,EAAqB;AACjB,iBAAKloB,EAAL,CAAQogB,UAAR,CAAmB6H,GAAnB,CAAuB,MAAvB,WAAsCC,eAAtC;AACH;;AAED,YAAI,KAAKjQ,SAAL,CAAe,QAAf,EAAyBC,YAAzB,KAA0C,OAA9C,EAAuD;AACnD,iBAAKlY,EAAL,CAAQqnB,iBAAR,CAA0B5C,YAA1B,CAAuC,aAAvC,EAAsD,IAAtD;AACH;AACD,aAAKkD,wBAAL;;AAEA,YAAI,KAAK1P,SAAL,CAAe,QAAf,EAAyBkQ,WAA7B,EAA0C;AACtC,iBAAKjB,gBAAL,CAAsBnO,qBAAtB,CAA4C,KAAKoG,SAAL,CAAe/b,GAAf,CAAmB,MAAnB,CAA5C;AACH,SAFD,MAEO;AACH,iBAAKpD,EAAL,CAAQogB,UAAR,CAAmBqE,YAAnB,CAAgC,aAAhC,EAA+C,IAA/C;AACH;;AAED,YAAI,CAAC,KAAK/kB,OAAL,CAAa4gB,eAAlB,EAAmC;AAC/B,iBAAKvM,aAAL,CAAmB,eAAnB,EAAoC,KAAKsM,OAAzC;AACH,SAFD,MAEO;AACH,iBAAKrgB,EAAL,CAAQqgB,OAAR,CAAgBoE,YAAhB,CAA6B,aAA7B,EAA4C,IAA5C;AACH;AACJ,KA1GiC;AA4GlC/G,cA5GkC,sBA4GvBgH,QA5GuB,EA4Gb;AACjB,aAAKwC,gBAAL,CAAsB9e,IAAtB,CAA2BsV,UAA3B,CAAsCgH,QAAtC;AACH,KA9GiC;AAgHlC3G,iBAhHkC,yBAgHpBnW,KAhHoB,EAgHbiW,aAhHa,EAgHE;AAChC,aAAKmJ,mBAAL,CAAyBjJ,aAAzB,CAAuCnW,KAAvC,EAA8CiW,aAA9C;AACH,KAlHiC;AAoHlCuK,cApHkC,wBAoHrB;AACT,eAAO,KAAK/H,OAAZ;AACH,KAtHiC;AAwHlCqF,uBAxHkC,iCAwHZ;AAClB,eAAO,KAAK2C,eAAL,CAAqB,KAAKpQ,SAAL,CAAe,SAAf,CAArB,CAAP;AACH,KA1HiC;AA4HlC0P,4BA5HkC,sCA4HP;AACvB,aAAK3nB,EAAL,CAAQonB,cAAR,CAAuBa,GAAvB,CAA2B,MAA3B,EAAmC,KAAKjoB,EAAL,CAAQmgB,OAAR,CAAgBmI,UAAhB,EAAnC;AACA,aAAKtoB,EAAL,CAAQqnB,iBAAR,CAA0BY,GAA1B,CAA8B,MAA9B,EAAsC,KAAKnS,EAAL,CAAQyS,WAAR,GAAsB,KAAKvoB,EAAL,CAAQogB,UAAR,CAAmBmI,WAA/E;AACH,KA/HiC;AAiIlCV,0BAjIkC,kCAiIX7nB,EAjIW,EAiIP;AACvB,YAAMmgB,UAAU,KAAKngB,EAAL,CAAQmgB,OAAxB;AACA,YAAIyC,QAAQ5iB,GAAGilB,MAAH,CAAUvO,IAAV,GAAiByJ,QAAQ8E,MAAR,GAAiBvO,IAA9C;AACA,YAAIkM,QAAQ8D,UAAUC,SAAtB,EAAiC;AAC7B3mB,eAAG0F,QAAH,CAAYgR,IAAZ,GAAmBkM,QAAQ8D,UAAUC,SAArC;AACH;;AAED,YAAM6B,wBAAwB9B,UAAUC,SAAV,GAAsB,KAAK3mB,EAAL,CAAQogB,UAAR,CAAmBkI,UAAnB,EAApD;AACA,YAAMG,WAAW,KAAK3S,EAAL,CAAQ8M,KAAR,KAAkB4F,qBAAnC;AACA,YAAI5F,QAAQ6F,QAAZ,EAAsB;AAClBzoB,eAAG0F,QAAH,CAAYgR,IAAZ,GAAmBkM,QAAQ6F,QAA3B;AACH;AACDtI,gBAAQ8H,GAAR,CAAY,MAAZ,WAA2BrF,KAA3B;AACA,aAAKnD,kBAAL,CAAwB9C,GAAxB,CAA4B,cAA5B,EAA4CiG,KAA5C;AACH,KA/IiC;AAiJlCmF,6BAjJkC,qCAiJR/nB,EAjJQ,EAiJJ;AAC1B,YAAMogB,aAAa,KAAKpgB,EAAL,CAAQogB,UAA3B;AACA,YAAMsI,aAAa,KAAK5S,EAAL,CAAQ8M,KAAR,EAAnB;AACA,YAAIA,QAAQ8F,aAAa1oB,GAAG0F,QAAH,CAAYgR,IAArC;AACA,YAAIkM,QAAQ8D,UAAUC,SAAtB,EAAiC;AAC7B/D,oBAAQ8D,UAAUC,SAAlB;AACA3mB,eAAG0F,QAAH,CAAYgR,IAAZ,GAAmBgS,aAAa9F,KAAhC;AACH;;AAED,YAAM4F,wBAAwB9B,UAAUC,SAAV,GAAsB,KAAK3mB,EAAL,CAAQmgB,OAAR,CAAgBmI,UAAhB,EAApD;AACA,YAAMG,WAAW,KAAK3S,EAAL,CAAQ8M,KAAR,KAAkB4F,qBAAnC;AACA,YAAI5F,QAAQ6F,QAAZ,EAAsB;AAClB7F,oBAAQ6F,QAAR;AACAzoB,eAAG0F,QAAH,CAAYgR,IAAZ,GAAmB8R,qBAAnB;AACH;AACDpI,mBAAW6H,GAAX,CAAe,MAAf,WAA8BrF,KAA9B;AACA,aAAKnD,kBAAL,CAAwB9C,GAAxB,CAA4B,iBAA5B,EAA+CiG,KAA/C;AACH,KAlKiC;AAoKlCkF,gBApKkC,0BAoKnB;AACX,YAAMa,gBAAgB,KAAKlJ,kBAAL,CAAwB3B,MAAxB,EAAtB;AACA/a,UAAE2c,QAAF,CAAW/C,GAAX,CAAegM,cAAc1gB,EAA7B,EAAiC0gB,aAAjC;AACH,KAvKiC;AAyKlCjB,6BAzKkC,qCAyKR9f,KAzKQ,EAyKD;AAC7B,YAAMQ,OAAO,KAAK6U,UAAL,CAAgBrV,MAAMxE,GAAN,CAAU,WAAV,CAAhB,CAAb;;AAEA,YAAIgF,IAAJ,EAAU;AACN,gBAAMqf,mBAAmB,KAAKpD,SAAL,CAAe,kBAAf,CAAzB;AACA,iBAAKrkB,EAAL,CAAQogB,UAAR,CAAmBwI,eAAnB,CAAmC,aAAnC,EAAkD;AAClDnB,6BAAiBnD,IAAjB,CACI,IAAIlc,IAAJ,CACIpB,OAAOC,MAAP,CAAc,KAAKW,KAAL,CAAWkW,MAAX,EAAd,EAAmC;AAC/BlW,4BAD+B;AAE/BqN,wBAAQ,KAAKA,MAFkB;AAG/B4T,4BAAY,KAAKjC,iBAHc;AAI/BxR,iCAAiB,KAAK6C,SAAL,CAAe,iBAAf;AAJc,aAAnC,CADJ,CADJ;AAUA,iBAAKpS,QAAL,CAAc+B,KAAd,EAAqB,YAArB,EAAmC,YAAM;AACrC6f,iCAAiBqB,WAAjB,IAAgCrB,iBAAiBqB,WAAjB,CAA6BnI,OAA7B,EAAhC;AACA8G,iCAAiBsB,KAAjB;AACAtB,iCAAiB1gB,KAAjB;AACH,aAJD;AAKH;AACJ,KA/LiC;AAiM5BiiB,UAjM4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAkMR1V,KAAKuM,QAAL,CAAcC,cAAd,CAA6BC,iBAA7B,CAA+CC,UAAU5c,GAAV,CAAc,wCAAd,CAA/C,EAAwG,EAAxG,EAA4G,CAC9H;AACI6E,oCAAI,IADR;AAEIuJ,sCAAMwO,UAAU5c,GAAV,CAAc,qCAAd;AAFV,6BAD8H,EAK9H;AACI6E,oCAAI,KADR;AAEIuJ,sCAAMwO,UAAU5c,GAAV,CAAc,yCAAd,CAFV;AAGI6c,yCAAS;AAHb,6BAL8H,CAA5G,CAlMQ;;AAAA;AAkMxBiC,mCAlMwB;;;AA8M9B,gCAAIA,OAAJ,EAAa;AACT,qCAAKzb,OAAL,CAAa,iBAAb,EAAgC,MAAhC;AACH;;AAhN6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAmNlCwiB,YAnNkC,sBAmNvB;AAAA;;AACP,YAAMvkB,OAAO,KAAKya,SAAlB;AACA,YAAMvX,QAAQ,IAAItF,SAASyI,KAAb,CAAmB;AAC7B4X,2BAAaje,KAAKtB,GAAL,CAAS,OAAT;AADgB,SAAnB,CAAd;AAGA,YAAM8lB,aAAa,IAAIC,oBAAJ,CAAe;AAC9BvhB;AAD8B,SAAf,CAAnB;AAGA,aAAK/B,QAAL,CAAcqjB,UAAd,EAA0B,QAA1B,EAAoC,sBAAc;AAC9CxkB,iBAAKiY,GAAL,CAAS;AACL0C,sBAAM+J,WAAWhmB,GAAX,CAAe,MAAf,CADD;AAELuf,uBAAOyG,WAAWhmB,GAAX,CAAe,OAAf;AAFF,aAAT;AAIA,mBAAOsB,KAAKuD,EAAZ;AACA,mBAAKxB,OAAL,CAAa,iBAAb,EAAgC,QAAhC;AACH,SAPD;AAQA6M,aAAKuM,QAAL,CAAchf,aAAd,CAA4BwoB,SAA5B,CAAsCH,UAAtC;AACH,KApOiC;AAsO5BI,WAtO4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAuORhW,KAAKuM,QAAL,CAAcC,cAAd,CAA6BoC,OAA7B,CAAqClC,UAAU5c,GAAV,CAAc,yCAAd,CAArC,CAvOQ;;AAAA;AAuOxB8e,mCAvOwB;;AAwO9B,gCAAIA,OAAJ,EAAa;AACT,qCAAKzb,OAAL,CAAa,iBAAb,EAAgC,OAAhC;AACH;;AA1O6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA6OlC0f,mBA7OkC,6BA6OhB;AACd,aAAKrQ,EAAL,CAAQgC,IAAR,CAAa,uBAAb,EAAsC/B,SAAtC,CAAgDC,MAAhD,CAAuD,yBAAvD;AACH,KA/OiC;AAiPlCqS,mBAjPkC,2BAiPlB3oB,OAjPkB,EAiPT;AAAA;;AACrB,YAAM6pB,qBAAqB,IAAIjnB,SAAS0C,UAAb,CAAwByhB,oBAAxB,CAA3B;AACA,YAAI/mB,QAAQ8pB,cAAZ,EAA4B;AACxB9pB,oBAAQ8pB,cAAR,CAAuBtjB,OAAvB,CAA+B;AAAA,uBAAUqjB,mBAAmBjgB,MAAnB,CAA0BigB,mBAAmBnmB,GAAnB,CAAuBqmB,MAAvB,CAA1B,CAAV;AAAA,aAA/B;AACH;;AAED,YAAI/pB,QAAQgqB,iBAAZ,EAA+B;AAC3BH,+BAAmBhgB,GAAnB,CAAuB7J,QAAQgqB,iBAA/B;AACH;;AAED,YAAMC,aAAaJ,mBAAmBnmB,GAAnB,CAAuB,OAAvB,CAAnB;AACA,YAAIumB,UAAJ,EAAgB;AACZA,uBAAWhN,GAAX,CAAe,SAAf,EAA0B;AACtBxX,4BAAY,KAAKykB,uBAAL,EADU;AAEtBlW,4BAAYmW,+BAFU;AAGtBlW,2BAAWmW;AAHW,aAA1B;AAKH;;AAED,YAAMzJ,UAAW,KAAKA,OAAL,GAAe,IAAI/M,KAAK2J,UAAL,CAAgB8M,OAApB,CAA4B;AACxDR,kDADwD;AAExDtU,oBAAQ,KAAKG;AAF2C,SAA5B,CAAhC;;AAKA,aAAKvP,QAAL,CAAcwa,OAAd,EAAuB,iBAAvB,EAA0C,iBAAS;AAC/C,gBAAMpY,KAAKL,MAAMxE,GAAN,CAAU,IAAV,CAAX;AACA,oBAAQ6E,EAAR;AACI,qBAAKue,uBAAuBwD,IAA5B;AACI,2BAAKhB,MAAL;AACA;AACJ,qBAAKxC,uBAAuByD,OAA5B;AACI,2BAAKhB,QAAL;AACA;AACJ,qBAAKzC,uBAAuB0D,KAA5B;AACI,2BAAKZ,OAAL;AACA;AACJ,qBAAK,QAAL;AACI,2BAAK5B,yBAAL,CAA+B9f,KAA/B;AACA;AACJ;AACI,2BAAKnB,OAAL,CAAa,iBAAb,EAAgCwB,EAAhC;AACA;AAfR;AAiBH,SAnBD;;AAqBA,eAAOoY,OAAP;AACH,KA/RiC;AAiSlCuJ,2BAjSkC,qCAiSR;AACtB,eAAO,KAAKxU,eAAL,CAAqB+B,OAArB,CAA6B,kBAA7B,CAAP;AACH,KAnSiC;AAqSlCgT,aArSkC,uBAqStB;AACR,aAAKzqB,OAAL,CAAauV,MAAb,CAAoB6H,YAApB;AACA,aAAKuD,OAAL,CAAaM,OAAb;AACA,aAAKuG,gBAAL,CAAsBvG,OAAtB;AACH;AAzSiC,CAAvB,C;;;;;;;;;;;;;;;;;;ACff;;;;;;AAEA,IAAMnM,UAAU;AACZsQ,qBAAiB,8BADL;AAEZC,oBAAgB;AAFJ,CAAhB;kBAKeqF,uBAAanlB,MAAb,CAAoB;AAC/BoN,aAD+B,uBACnB;AACR,qFAA2E,KAAK3S,OAAL,CAAaiiB,MAAxF;AACH,KAH8B;AAK/BrF,eAL+B,uBAKnB5W,QALmB,EAKT;AAClB,YAAMsf,aAAa,KAAKlP,EAAL,CAAQmP,MAAR,EAAnB;;AAEA,YAAIvf,SAASyW,CAAT,GAAa6I,WAAWvO,GAAxB,IAA+B/Q,SAASyW,CAAT,GAAa6I,WAAWvO,GAAX,GAAiB,KAAKX,EAAL,CAAQoP,YAAzE,EAAuF;AACnF,mBAAOnJ,OAAOC,SAAd;AACH;;AAED,eAAO5S,KAAKC,GAAL,CAAS3D,SAASuW,CAAT,IAAc+I,WAAWtO,IAAX,GAAkB,KAAKZ,EAAL,CAAQyS,WAAR,GAAsB,CAAtD,CAAT,CAAP;AACH,KAb8B;AAe/BvO,YAf+B,sBAepB;AACP,aAAKlE,EAAL,CAAQC,SAAR,CAAkBxM,GAAlB,CAAsBiL,QAAQsQ,eAA9B;AACH,KAjB8B;AAmB/BlK,cAnB+B,wBAmBlB;AACT,aAAK9E,EAAL,CAAQC,SAAR,CAAkBzM,MAAlB,CAAyBkL,QAAQsQ,eAAjC;AACH,KArB8B;AAuB/BhK,SAvB+B,mBAuBvB;AACJ,aAAKhF,EAAL,CAAQC,SAAR,CAAkBxM,GAAlB,CAAsBiL,QAAQuQ,cAA9B;AACH,KAzB8B;AA2B/BlK,SA3B+B,mBA2BvB;AACJ,aAAK/E,EAAL,CAAQC,SAAR,CAAkBzM,MAAlB,CAAyBkL,QAAQuQ,cAAjC;AACH;AA7B8B,CAApB,C;;;;;;;;;;;;;;;;;;ACPf;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA,IAAMsF,iBAAiB,eAAvB;kBAEezqB,WAAWgS,aAAX,CAAyB3M,MAAzB,CAAgC;AAC3C9E,cAD2C,sBAChCT,OADgC,EACvB;AAChB4qB,uBAAQC,YAAR,CAAqB7qB,OAArB,EAA8B,OAA9B;;AAEA,aAAKuV,MAAL,GAAcvV,QAAQuV,MAAtB;AACA,aAAKG,eAAL,GAAuB1V,QAAQ0V,eAA/B;;AAEA,aAAKjQ,UAAL,GAAkB,KAAKyC,KAAL,CAAWxE,GAAX,CAAe,KAAKwE,KAAL,CAAWxE,GAAX,CAAe,mBAAf,KAAuC,MAAtD,CAAlB;AACA,aAAKonB,SAAL,GAAiB,EAAjB;AACA,aAAK3kB,QAAL,CAAcnG,QAAQwV,gBAAtB,EAAwC,mBAAxC,EAA6D,KAAKuV,kBAAlE;AACH,KAV0C;;;AAY3ChoB,eAAW,CAAC0e,2BAAD,CAZgC;;AAc3C9O,eAAW,mCAdgC;;AAgB3CL,cAAUC,WAAWC,OAAX,CAAmBF,iCAAnB,CAhBiC;;AAkB3CI,YAAQ;AACJ,0CAAkC;AAD9B,KAlBmC;;AAsB3CpS,QAAI;AACA0jB,mBAAW,eADX;AAEAgH,8BAAsB,YAFtB;AAGArL,cAAM;AAHN,KAtBuC;;AA4B3CrL,iBAAa;AACT,4BAAoB;AADX,KA5B8B;;AAgC3C1B,wBAAoB,eAhCuB;;AAkC3CqY,oBAlC2C,8BAkCxB;AACf,eAAO;AACH1V,oBAAQ,KAAKA,MADV;AAEHC,8BAAkB,KAAK+C,SAAL,CAAe,kBAAf,CAFf;AAGH9C,0BAAc,KAAK8C,SAAL,CAAe,cAAf,CAHX;AAIH7C,6BAAiB,KAAKA;AAJnB,SAAP;AAMH,KAzC0C;AA2C3C7C,aA3C2C,qBA2CjCqY,UA3CiC,EA2CrB;AAClB,eAAO,KAAK3V,MAAL,CAAYkC,OAAZ,CAAoB,mBAApB,EAAyCyT,UAAzC,CAAP;AACH,KA7C0C;AA+C3CC,kBA/C2C,4BA+C1B;AACb,YAAI,KAAKjjB,KAAL,CAAWxE,GAAX,CAAe,iBAAf,CAAJ,EAAuC;AACnC,iBAAK0nB,gBAAL;AACA;AACH;AACD,aAAKC,cAAL,CAAoB,KAAK5iB,QAAzB;;AAEA,YAAI,KAAKP,KAAL,CAAWxE,GAAX,CAAe,iBAAf,CAAJ,EAAuC;AACnC,iBAAK4nB,uBAAL;AACH;AACJ,KAzD0C;AA2D3CC,uBA3D2C,+BA2DvB7iB,IA3DuB,EA2DjB;AACtB,YAAI,CAAC,KAAKoiB,SAAV,EAAqB;AACjB;AACH;;AAED,YAAMU,eAAe,KAAKV,SAAL,CAAepiB,KAAKR,KAAL,CAAWI,GAA1B,CAArB;AACA,YAAMmjB,yBAAyB,KAAKX,SAAL,eAA2BpiB,KAAKR,KAAL,CAAWI,GAAtC,UAA/B;AACA,YAAMojB,0BAA0B,KAAKZ,SAAL,eAA2BpiB,KAAKR,KAAL,CAAWI,GAAtC,WAAhC;;AAEA,eAAO,KAAKwiB,SAAL,CAAepiB,KAAKR,KAAL,CAAWI,GAA1B,CAAP;;AAEA,YAAIkjB,YAAJ,EAAkB;AACdA,yBAAavK,OAAb;AACH;AACD,YAAIwK,sBAAJ,EAA4B;AACxB,mBAAO,KAAKX,SAAL,eAA2BpiB,KAAKR,KAAL,CAAWI,GAAtC,UAAP;AACAmjB,mCAAuBxK,OAAvB;AACH;AACD,YAAIyK,uBAAJ,EAA6B;AACzB,mBAAO,KAAKZ,SAAL,eAA2BpiB,KAAKR,KAAL,CAAWI,GAAtC,WAAP;AACAojB,oCAAwBzK,OAAxB;AACH;AACJ,KAjF0C;AAmF3C0K,iBAnF2C,yBAmF7BjjB,IAnF6B,EAmFvB;AAChB,YAAI,KAAKjD,UAAL,CAAgBiC,MAAhB,IAA0BgB,KAAKoiB,SAA/B,IAA4CpiB,KAAKoiB,SAAL,eAA2BpiB,KAAKR,KAAL,CAAWI,GAAtC,UAAhD,EAAkG;AAC9F,gBAAMsjB,eAAe,KAAKnjB,QAAL,CAAcojB,WAAd,CAA0B,KAAKpmB,UAAL,CAAgB0C,EAAhB,CAAmB,CAAnB,CAA1B,CAArB;;AAEAyjB,4BAAgBA,aAAaE,GAAb,CAAiBC,OAAjB,CAAyBH,aAAaI,mBAAb,CAAiCJ,aAAa1jB,KAA9C,EAAqD,MAArD,CAAzB,CAAhB;AACH;AACJ,KAzF0C;AA2F3C8jB,uBA3F2C,+BA2FvBrQ,WA3FuB,EA2FVsG,MA3FU,EA2FF;AAAA;;AACrC,YAAMgK,uBAAuB,IAAIC,8BAAJ,CAAyB;AAClDjK,0BADkD;AAElD9f,qBAAS;AACLqZ,gCAAgB,KAAKtT,KADhB;AAELyT,wCAFK;AAGLuM,sBAAM;AAHD;AAFyC,SAAzB,CAA7B;;AASA,YAAI3f,KAAKoT,cAAcA,YAAYrT,GAA1B,GAAgC,EAAzC;AACAC,2BAAiBA,EAAjB,GAAsB0Z,MAAtB;;AAEA,aAAK6I,SAAL,CAAeviB,EAAf,IAAqB0jB,oBAArB;AACA,aAAK9lB,QAAL,CAAc8lB,oBAAd,EAAoC,MAApC,EAA4C;AAAA,mBAAW,MAAKE,iBAAL,CAAuBhqB,OAAvB,EAAgC8f,MAAhC,CAAX;AAAA,SAA5C;;AAEA,eAAOgK,qBAAqB3U,MAArB,GAA8BwU,GAArC;AACH,KA5G0C;AA8G3Cf,sBA9G2C,8BA8GxBpT,WA9GwB,EA8GX4C,KA9GW,EA8GJ;AACnC,YAAM6R,iBAAiB,KAAK1W,eAAL,IAAwB,KAAKA,eAAL,CAAqB+B,OAArB,CAA6B,yBAA7B,EAAwD,EAAEuM,WAAW,IAAb,EAAmB7hB,SAASwV,WAA5B,EAAxD,CAA/C;;AAEA,YAAIyU,mBAAmB,KAAvB,EAA8B;AAC1B9kB,mBAAO+kB,MAAP,CAAc,KAAKvB,SAAnB,EAA8BtkB,OAA9B,CAAsC,aAAK;AACvC,oBAAMgV,iBAAiB7M,EAAExM,OAAF,CAAUqZ,cAAjC;AACA,oBAAM5B,SAAS4B,kBAAkBA,eAAe5B,MAAhD;AACA,oBAAI0S,qBAAJ;AACA,oBAAI7mB,mBAAJ;AACA,oBAAI,CAACmU,MAAL,EAAa;AACT;AACH;AACD,oBAAIjL,EAAExM,OAAF,CAAU+lB,IAAV,KAAmB,GAAvB,EAA4B;AACxBoE,mCAAe1S,OAAOlW,GAAP,CAAW,uBAAX,CAAf;AACA+B,iCAAa+V,eAAe/V,UAA5B;AACH,iBAHD,MAGO;AACH6mB,mCAAe9Q,eAAe9X,GAAf,CAAmB,uBAAnB,CAAf;AACA+B,iCAAa+V,eAAevB,WAAf,EAAb;AACH;AACD,oBAAI,CAACqS,YAAD,IAAiB,CAAC7mB,UAAlB,IAAgCA,WAAWiC,MAAX,GAAoB4kB,YAAxD,EAAsE;AAClE/R,0BAAMnS,IAAN,CAAWuG,CAAX;AACH;AACJ,aAlBD;AAmBH;AACJ,KAtI0C;AAwI3C2K,oBAxI2C,8BAwIxB;AACf,aAAKpR,KAAL,CAAW+U,GAAX,CAAe,WAAf,EAA4B,CAAC,KAAK/U,KAAL,CAAWxE,GAAX,CAAe,WAAf,CAA7B;AACA,eAAO,KAAP;AACH,KA3I0C;AA6I3C6oB,uBA7I2C,+BA6IvBrkB,KA7IuB,EA6IhBM,SA7IgB,EA6IL;AAClC,aAAKlI,EAAL,CAAQ0qB,oBAAR,CAA6B3U,SAA7B,CAAuCC,MAAvC,CAA8CqU,cAA9C,EAA8DniB,SAA9D;AACA,eAAO,KAAP;AACH,KAhJ0C;AAkJ3C8iB,2BAlJ2C,qCAkJjB;AACtB,YAAMle,QAAQ,KAAKlF,KAAL,CAAWzC,UAAX,CAAsBmI,OAAtB,CAA8B,KAAK1F,KAAnC,CAAd;;AAEA,YAAIkF,UAAU,CAAd,EAAiB;AACb,iBAAKgJ,EAAL,CAAQ2V,OAAR,CAAgB,KAAKC,mBAAL,CAAyB,KAAK9jB,KAA9B,EAAqC,MAArC,CAAhB;AACH;;AAED,aAAKkO,EAAL,CAAQoW,MAAR,CAAe,KAAKR,mBAAL,CAAyB,KAAK9jB,KAA9B,EAAqC,OAArC,CAAf;AACH,KA1J0C;AA4J3CukB,YA5J2C,oBA4JlCtqB,OA5JkC,EA4JzB;AACd,YAAMiL,QAAQ,KAAK3H,UAAL,CAAgBmI,OAAhB,CAAwBzL,QAAQsjB,WAAR,CAAoB9J,WAA5C,IAA2D,CAAzE;AACA,gBAAQxZ,QAAQwV,WAAR,CAAoBC,SAA5B;AACI,iBAAK,QAAL;AACI,qBAAKrC,MAAL,CAAYkC,OAAZ,CAAoB,eAApB,EAAqCtV,QAAQwV,WAAR,CAAoBzP,KAAzD,EAAgE,KAAKzC,UAArE,EAAiF2H,KAAjF;AACA;AACJ,iBAAK,MAAL;AACI,qBAAKmI,MAAL,CAAYkC,OAAZ,CAAoB,gBAApB,EAAsCtV,QAAQwV,WAAR,CAAoBzP,KAA1D,EAAiE,KAAKzC,UAAtE,EAAkF2H,KAAlF;AACA;AACJ;AACIwG,qBAAK8Y,KAAL,CAAW9B,OAAX,CAAmB+B,0BAAnB;AARR;AAUH,KAxK0C;AA0K3CC,cA1K2C,sBA0KhClkB,IA1KgC,EA0K1B;AACb,YAAM0E,QAAQ,KAAK3H,UAAL,CAAgBmI,OAAhB,CAAwBlF,KAAKR,KAA7B,CAAd;;AAEA,YAAIkF,UAAU,CAAV,IAAe,KAAK3H,UAAL,CAAgBiC,MAAhB,GAAyB,CAA5C,EAA+C;AAC3C,gBAAMmlB,kBAAkB,KAAKpkB,QAAL,CAAcojB,WAAd,CAA0B,KAAKpmB,UAAL,CAAgB0C,EAAhB,CAAmB,CAAnB,CAA1B,CAAxB;;AAEA,gBAAI0kB,mBAAmBA,gBAAgB/B,SAAvC,EAAkD;AAC9C,oBAAMgC,yBAAuBD,gBAAgB3kB,KAAhB,CAAsBI,GAA7C,SAAN;;AAEA,oBAAIukB,gBAAgB/B,SAAhB,CAA0BgC,QAA1B,CAAJ,EAAyC;AACrCD,oCAAgB/B,SAAhB,CAA0BgC,QAA1B,EAAoC7L,OAApC;AACA,2BAAO4L,gBAAgB/B,SAAhB,CAA0BgC,QAA1B,CAAP;AACH;AACJ;AACJ;;AAED,YAAI,KAAK5kB,KAAL,CAAWxE,GAAX,CAAe,gBAAf,CAAJ,EAAsC;AAClCgF,iBAAKojB,GAAL,CAASiB,KAAT,CAAe,KAAKC,gBAAL,CAAsBtkB,KAAKR,KAA3B,CAAf;AACH;AACJ,KA7L0C;AA+L3CikB,qBA/L2C,6BA+LzBhqB,OA/LyB,EA+LhB8f,MA/LgB,EA+LR;AAC/B,YAAM7U,QAAQ,KAAKlF,KAAL,CAAWzC,UAAX,CAAsBmI,OAAtB,CAA8B,KAAK1F,KAAnC,CAAd;;AAEA,YAAI/F,QAAQwV,WAAR,CAAoBC,SAApB,KAAkC,QAAtC,EAAgD;AAC5C,iBAAKrC,MAAL,CAAYkC,OAAZ,CAAoB,sBAApB,EAA4CtV,QAAQwV,WAAR,CAAoBzP,KAAhE,EAAuE,KAAKzC,UAA5E,EAAwFwc,MAAxF,EAAgG7U,KAAhG;AACH,SAFD,MAEO,IAAIjL,QAAQwV,WAAR,CAAoBC,SAApB,KAAkC,MAAtC,EAA8C;AACjD,iBAAKrC,MAAL,CAAYkC,OAAZ,CAAoB,uBAApB,EAA6CtV,QAAQwV,WAAR,CAAoBzP,KAAjE,EAAwE,KAAKzC,UAA7E,EAAyFwc,MAAzF,EAAiG7U,KAAjG;AACH;AACJ,KAvM0C;AAyM3Cie,kBAzM2C,0BAyM5B5iB,QAzM4B,EAyMlB;AAAA;;AACrB,aAAKnI,EAAL,CAAQ0jB,SAAR,CAAkB+H,OAAlB,CAA0B,KAAKiB,gBAAL,CAAsB,IAAtB,CAA1B;AACAvkB,iBAASjC,OAAT,CAAiB;AAAA,mBAASuV,MAAM+P,GAAN,CAAUiB,KAAV,CAAgB,OAAKC,gBAAL,CAAsBjR,MAAM7T,KAA5B,CAAhB,CAAT;AAAA,SAAjB;AACH,KA5M0C;AA8M3CkjB,oBA9M2C,8BA8MxB;AACf,aAAK9qB,EAAL,CAAQ0jB,SAAR,CAAkB+I,KAAlB,CAAwB,KAAKC,gBAAL,CAAsB,KAAK9kB,KAAL,CAAWI,GAAjC,CAAxB;AACH,KAhN0C;AAkN3C0kB,oBAlN2C,4BAkN1BrR,WAlN0B,EAkNb;AAC1B,YAAM6P,eAAe,IAAId,sBAAJ,CAAiB;AAClCvoB,qBAAS;AACLqZ,gCAAgB,KAAKtT,KADhB;AAELyT,wCAFK;AAGLuM,sBAAM;AAHD;AADyB,SAAjB,CAArB;AAOA,aAAK4C,SAAL,CAAenP,cAAcA,YAAYrT,GAA1B,GAAgC,IAA/C,IAAuDkjB,YAAvD;AACA,aAAKrlB,QAAL,CAAcqlB,YAAd,EAA4B,MAA5B,EAAoC,KAAKiB,QAAzC;AACA,eAAOjB,aAAalU,MAAb,GAAsBwU,GAA7B;AACH;AA7N0C,CAAhC,C;;;;;;;;;;;ACTf,8EAA8E,MAAM,sBAAsB,WAAW,wC;;;;;;;;;;;ACArH,8E;;;;;;;;;;;ACAA,oBAAoB,MAAM,E;;;;;;;;;;;ACA1B,6EAA6E,MAAM,aAAa,eAAe,2DAA2D,WAAW,sCAAsC,MAAM,6DAA6D,KAAK,cAAc,iBAAiB,0FAA0F,KAAK,+FAA+F,iBAAiB,gCAAgC,KAAK,aAAa,OAAO,wEAAwE,MAAM,qCAAqC,iBAAiB,oFAAoF,KAAK,E;;;;;;;;;;;ACAvyB,8L;;;;;;;;;;;ACAA,gGAAgG,MAAM,e;;;;;;;;;;;ACAtG,8E;;;;;;;;;;;ACAA,yY;;;;;;;;;;;ACAA,6M;;;;;;;;;;;;;;;;;;ACCA;;;;;;kBAEe5rB,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC+M,cAAUC,WAAWC,OAAX,CAAmBF,gBAAnB,CADwB;;AAGlCK,eAAW,sBAHuB;;AAKlCO,mBALkC,6BAKhB;AACd,eAAO;AACH+Z,uBAAW,KAAK/kB,KAAL,CAAWxE,GAAX,CAAe,MAAf,KAA0B;AADlC,SAAP;AAGH,KATiC;;;AAWlCwpB,cAAU;AACNhX,eAAO;AADD;AAXwB,CAAvB,C;;;;;;;;;;;;;;;;;;ACFf;;;;AACA;;;;;;kBAEehW,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC9E,cADkC,wBACrB;AACT,aAAK8U,MAAL,GAAc,KAAKvV,OAAL,CAAauV,MAA3B;;AAEA5N,UAAEgO,OAAF,CAAU,IAAV,EAAgB,eAAhB,EAAiC,cAAjC,EAAiD,cAAjD;;AAEA,aAAKwX,cAAL,CAAoB,KAAKntB,OAAL,CAAamC,OAAjC;AACH,KAPiC;;;AASlCwQ,eAAW,QATuB;;AAWlCL,cAAUC,WAAWC,OAAX,CAAmBF,8BAAnB,CAXwB;;AAalCc,aAAS;AACLga,gCAAwB;AADnB,KAbyB;;AAiBlC/O,iBAjBkC,yBAiBpBnW,KAjBoB,EAiBb;AACjB,aAAKilB,cAAL,CAAoBjlB,MAAMxE,GAAN,CAAU,SAAV,CAApB,EAA0CwE,MAAMxE,GAAN,CAAU,cAAV,CAA1C;AACA,aAAK4T,MAAL;AACH,KApBiC;AAsBlC2T,oBAtBkC,8BAsBf;AACf,eAAO;AACH1V,oBAAQ,KAAKA;AADV,SAAP;AAGH,KA1BiC;AA4BlC7B,YA5BkC,sBA4BvB;AACP,YAAM2Z,uBAAuB,IAAIC,8BAAJ,CAAyB;AAClD/X,oBAAQ,KAAKA,MADqC;AAElD9P,wBAAY,KAAK8nB,gBAFiC;AAGlDC,0BAAc,KAAKxtB,OAAL,CAAa6Y,MAAb,CAAoB2U,YAHgB;AAIlDC,2BAAe,KAAKztB,OAAL,CAAa6Y,MAAb,CAAoB4U,aAJe;AAKlDC,qCAAyB,KAAK1tB,OAAL,CAAa6Y,MAAb,CAAoB6U;AALK,SAAzB,CAA7B;AAOA,aAAKvnB,QAAL,CAAcknB,oBAAd,EAAoC,oBAApC,EAA0D,KAAKM,aAA/D;AACA,aAAKxnB,QAAL,CAAcknB,oBAAd,EAAoC,mBAApC,EAAyD,KAAKjF,YAA9D;AACA,aAAKjiB,QAAL,CAAcknB,oBAAd,EAAoC,mBAApC,EAAyD,KAAKO,YAA9D;AACA,aAAKznB,QAAL,CAAcknB,oBAAd,EAAoC,kBAApC,EAAwD,KAAKQ,YAA7D;AACA,aAAK1nB,QAAL,CAAcknB,oBAAd,EAAoC,gBAApC,EAAsD,KAAKS,iBAA3D;;AAEA,aAAKzZ,aAAL,CAAmB,wBAAnB,EAA6CgZ,oBAA7C;AACA,aAAKtmB,OAAL,CAAa,4BAAb,EAA2C,KAAKwmB,gBAAhD;AACH,KA5CiC;AA8ClCI,iBA9CkC,yBA8CpBhW,WA9CoB,EA8CPD,KA9CO,EA8CApX,EA9CA,EA8CI;AAClC,aAAKyG,OAAL,CAAa,oBAAb,EAAmC4Q,WAAnC,EAAgDD,KAAhD,EAAuDpX,EAAvD;AACH,KAhDiC;AAkDlC8nB,gBAlDkC,wBAkDrBzQ,WAlDqB,EAkDRD,KAlDQ,EAkDDpX,EAlDC,EAkDG;AACjC,aAAKyG,OAAL,CAAa,mBAAb,EAAkC4Q,WAAlC,EAA+CD,KAA/C,EAAsDpX,EAAtD;AACH,KApDiC;AAsDlCstB,gBAtDkC,wBAsDrBjW,WAtDqB,EAsDRD,KAtDQ,EAsDDpX,EAtDC,EAsDG;AACjC,aAAKyG,OAAL,CAAa,mBAAb,EAAkC4Q,WAAlC,EAA+CD,KAA/C,EAAsDpX,EAAtD;AACH,KAxDiC;AA0DlCutB,gBA1DkC,wBA0DrB3lB,KA1DqB,EA0Dd;AAChB,aAAKnB,OAAL,CAAa,kBAAb,EAAiCmB,KAAjC;AACH,KA5DiC;AA8DlC4lB,qBA9DkC,+BA8Dd;AAChB,aAAK/mB,OAAL,CAAa,gBAAb;AACA,aAAKA,OAAL,CAAa,gBAAb;AACH,KAjEiC;AAmElComB,kBAnEkC,0BAmEnBjlB,KAnEmB,EAmEZ6lB,WAnEY,EAmEC;AAC/B,YAAI7lB,KAAJ,EAAW;AACP,gBAAM8lB,eAAe,IAAIprB,SAASyI,KAAb,CAAmB;AACpC4iB,gCAAgB,KAAKjuB,OAAL,CAAa6f,YADO;AAEpC1d,yBAAS+F,KAF2B;AAGpCgmB,+BAAe,EAHqB;AAIpCC,kCAAkB;AAJkB,aAAnB,CAArB;AAMA;AACA,iBAAKZ,gBAAL,GAAwBS,aAAatqB,GAAb,CAAiB,UAAjB,CAAxB;AACA;AACA,gBAAM0qB,mBAAmBL,eAAe,KAAK/tB,OAAL,CAAa6Y,MAAb,CAAoBpT,UAA5D;AACA,gBAAI2oB,gBAAJ,EAAsB;AAClB,qBAAKb,gBAAL,CAAsB1jB,GAAtB,CAA0BukB,iBAAiB3mB,MAA3C;AACH;AACJ,SAdD,MAcO;AACH,iBAAK8lB,gBAAL,GAAwB,IAAI3Z,KAAK+S,WAAL,CAAiB/a,iBAArB,CAAuC,KAAK2M,SAAL,CAAe,QAAf,EAAyB9S,UAAhE,CAAxB;AACH;AACJ;AArFiC,CAAvB,C;;;;;;;;;;;;;;;;;;ACHf;;;;;;kBAEevF,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC+M,cAAUC,WAAWC,OAAX,CAAmBF,mCAAnB,CADwB;;AAGlCY,qBAAiB;AACbpB,cAAM,YADO,CACM;AADN,KAHiB;;AAOlCa,eAAW;AAPuB,CAAvB,C;;;;;;;;;;;;;;;;;;ACFf;;;;AACA;;;;;;AAEA,IAAM0b,6BAA6B,eAAnC;;kBAEenuB,WAAWgS,aAAX,CAAyB3M,MAAzB,CAAgC;AAC3C9E,cAD2C,sBAChCT,OADgC,EACvB;AAChB,aAAKuV,MAAL,GAAcvV,QAAQuV,MAAtB;;AAEA5N,UAAEgO,OAAF,CAAU,IAAV,EAAgB,iBAAhB,EAAmC,gBAAnC,EAAqD,gBAArD,EAAuE,oBAAvE,EAA6F,mBAA7F,EAAkH,mBAAlH;AACA,aAAKlQ,UAAL,GAAkB,KAAKyC,KAAL,CAAWxE,GAAX,CAAe,UAAf,CAAlB;AACH,KAN0C;;;AAQ3CiP,eAAW,cARgC;;AAU3CL,cAAUC,WAAWC,OAAX,CAAmBF,kCAAnB,CAViC;;AAY3CY,mBAZ2C,6BAYzB;AACd,YAAII,QAAQ,EAAZ;AACA,YAAMgb,mBAAmB,KAAKtuB,OAAL,CAAa0tB,uBAAtC;AACA,YAAIY,gBAAJ,EAAsB;AAClBhb,oBAAQ,KAAKpL,KAAL,CAAWxE,GAAX,CAAe4qB,gBAAf,CAAR;AACH,SAFD,MAEO;AACHhb,oBAAQ,KAAKpL,KAAL,CAAWxE,GAAX,CAAe,MAAf,CAAR;AACH;AACD,eAAO;AACH4P;AADG,SAAP;AAGH,KAvB0C;;;AAyB3CgB,iBAAa;AACT9L,mBAAW,oBADF;AAET+lB,kBAAU,mBAFD;AAGTC,qBAAa,iBAHJ;AAITC,uBAAe;AAJN,KAzB8B;;AAgC3CnuB,QAAI;AACAouB,oBAAY,iBADZ;AAEA/O,cAAM,UAFN;AAGA7N,cAAM;AAHN,KAhCuC;;AAsC3CY,YAAQ;AACJ,4BAAoB,mBADhB;AAEJic,kBAAU;AAFN,KAtCmC;;AA2C3C7Z,aAAS;AACLtM,mBAAW,wBADN;AAEL+lB,kBAAU,uBAFL;AAGLK,kBAAU,uBAHL;AAILC,gBAAQ;AAJH,KA3CkC;;AAkD3Cnb,YAlD2C,sBAkDhC;AACP,YAAM+Z,gBAAgB,KAAKztB,OAAL,CAAaytB,aAAnC;AACA,YAAMqB,aAAa,KAAK5mB,KAAL,CAAWxE,GAAX,CAAe+pB,iBAAiB,WAAhC,EAA6CsB,WAA7C,EAAnB;AACA,aAAK3Y,EAAL,CAAQC,SAAR,CAAkBxM,GAAlB,CAAsBwkB,6BAA6BS,UAAnD;AACA,aAAK1Y,EAAL,CAAQC,SAAR,CAAkBxM,GAAlB,CAAsB,KAAKiL,OAAL,CAAa+Z,MAAnC;AACA,aAAKG,gBAAL,CAAsB,IAAtB;AACA,aAAK1uB,EAAL,CAAQouB,UAAR,CAAmBtZ,SAAnB,CAA6B;AACzBoB,sBAAU,mBADe;AAEzBC,oBAAQ;AAAA,uBAAMwY,wBAAN;AAAA,aAFiB;AAGzBnY,sBAAU;AACNC,qBAAK,CAAC,EADA;AAENC,sBAAM,CAAC;AAFD,aAHe;AAOzBjX,mBAAO,KAAKkX,eAPa;AAQzBC,kBAAM,KAAKC,cARc;AASzBC,kBAAM,KAAKC;AATc,SAA7B;AAWH,KAnE0C;;;AAqE3C6X,qBAAiB;AACb,sBAAc,oBADD;AAEb,qBAAa,mBAFA;AAGb,qBAAa,mBAHA;AAIb,0BAAkB,wBAJL;AAKb,4BAAoB;AALP,KArE0B;;AA6E3CjE,oBA7E2C,8BA6ExB;AACf,eAAO;AACH1V,oBAAQ,KAAKA,MADV;AAEHiY,0BAAc,KAAKjV,SAAL,CAAe,cAAf;AAFX,SAAP;AAIH,KAlF0C;;;AAoF3C3F,wBAAoB,6BApFuB;;AAsF3Cuc,sBAtF2C,gCAsFtB;AACjB,aAAKH,gBAAL;AACH,KAxF0C;AA0F3CI,qBA1F2C,+BA0FvB;AAChB,aAAKJ,gBAAL;AACH,KA5F0C;AA8F3CK,qBA9F2C,+BA8FvB;AAChB,aAAKnnB,KAAL,CAAWonB,eAAX;AACA,eAAO,KAAP;AACH,KAjG0C;AAmG3CC,mBAnG2C,6BAmGzB;AACd,YAAI,CAAC,KAAKvvB,OAAL,CAAawtB,YAAlB,EAAgC;AAC5B,iBAAKjY,MAAL,CAAYkC,OAAZ,CAAoB,aAApB,EAAmC,KAAKvP,KAAxC;AACH,SAFD,MAEO;AACH,iBAAKnB,OAAL,CAAa,kBAAb,EAAiC,KAAKmB,KAAtC;AACH;AACD,eAAO,KAAP;AACH,KA1G0C;AA4G3C8mB,oBA5G2C,4BA4G1BQ,SA5G0B,EA4Gf;AACxB,YAAI,CAAC,KAAKtnB,KAAL,CAAWxE,GAAX,CAAe,aAAf,CAAL,EAAoC;AAChC;AACH;AACD,YAAM8E,YAAY,KAAKN,KAAL,CAAWunB,YAAX,EAAlB;;AAEA,YAAIjnB,SAAJ,EAAe;AACX,iBAAK4N,EAAL,CAAQ3N,QAAR,CAAiB,KAAKmK,kBAAtB,EAA0CmS,YAA1C,CAAuD,aAAvD,EAAsE,IAAtE;AACA,iBAAK3O,EAAL,CAAQC,SAAR,CAAkBxM,GAAlB,CAAsB,KAAKiL,OAAL,CAAatM,SAAnC;AACA,iBAAK4N,EAAL,CAAQC,SAAR,CAAkBzM,MAAlB,CAAyB,KAAKkL,OAAL,CAAayZ,QAAtC;AACH,SAJD,MAIO;AACH,iBAAKnY,EAAL,CAAQ3N,QAAR,CAAiB,KAAKmK,kBAAtB,EAA0CsW,eAA1C,CAA0D,aAA1D,EAAyE;AACzE,iBAAK9S,EAAL,CAAQC,SAAR,CAAkBzM,MAAlB,CAAyB,KAAKkL,OAAL,CAAatM,SAAtC;AACA,iBAAK4N,EAAL,CAAQC,SAAR,CAAkBxM,GAAlB,CAAsB,KAAKiL,OAAL,CAAayZ,QAAnC;AACH;AACD,YAAI,CAACiB,SAAL,EAAgB;AACZ,iBAAKzoB,OAAL,CAAa,gBAAb,EAA+ByB,SAA/B;AACH;AACJ,KA9H0C;AAgI3CknB,0BAhI2C,kCAgIpBC,UAhIoB,EAgIRnnB,SAhIQ,EAgIG;AAC1C,aAAKzB,OAAL,CAAa,gBAAb,EAA+ByB,SAA/B;AACH,KAlI0C;AAoI3CyO,mBApI2C,2BAoI3BS,KApI2B,EAoIpBpX,EApIoB,EAoIhB;AACvB,YAAM0tB,eAAe,KAAKzY,MAAL,CAAYkC,OAAZ,CAAoB,gBAApB,EAAsC,KAAKvP,KAA3C,CAArB;AACA,aAAKyP,WAAL,GAAmB;AACfC,uBAAW,QADI;AAEf1P,mBAAO8lB;AAFQ,SAAnB;AAIA,aAAKnW,wBAAL,CAA8BvX,GAAGmW,MAAjC,EAAyCuX,YAAzC;AACA,aAAKjnB,OAAL,CAAa,YAAb,EAA2B,KAAK4Q,WAAhC,EAA6CD,KAA7C,EAAoDpX,EAApD,EAAwD,IAAxD;AACH,KA5I0C;AA8I3C6W,kBA9I2C,0BA8I5BO,KA9I4B,EA8IrBpX,EA9IqB,EA8IjB;AACtB,aAAKyG,OAAL,CAAa,WAAb,EAA0B,KAAK4Q,WAA/B,EAA4CD,KAA5C,EAAmDpX,EAAnD,EAAuD,IAAvD;AACA,aAAKqX,WAAL,GAAmB,IAAnB;AACH,KAjJ0C;AAmJ3CN,kBAnJ2C,0BAmJ5BK,KAnJ4B,EAmJrBpX,EAnJqB,EAmJjB;AACtB,aAAKyG,OAAL,CAAa,WAAb,EAA0B,KAAK4Q,WAA/B,EAA4CD,KAA5C,EAAmDpX,EAAnD,EAAuD,IAAvD;AACH,KArJ0C;AAuJ3CsvB,sBAvJ2C,8BAuJxBjY,WAvJwB,EAuJXD,KAvJW,EAuJJpX,EAvJI,EAuJA;AACvC,aAAKyG,OAAL,CAAa,YAAb,EAA2B4Q,WAA3B,EAAwCD,KAAxC,EAA+CpX,EAA/C;AACH,KAzJ0C;AA2J3CuvB,qBA3J2C,6BA2JzBlY,WA3JyB,EA2JZD,KA3JY,EA2JLpX,EA3JK,EA2JD;AACtC,aAAKyG,OAAL,CAAa,WAAb,EAA0B4Q,WAA1B,EAAuCD,KAAvC,EAA8CpX,EAA9C;AACH,KA7J0C;AA+J3CwvB,qBA/J2C,6BA+JzBnY,WA/JyB,EA+JZD,KA/JY,EA+JLpX,EA/JK,EA+JD;AACtC,aAAKyG,OAAL,CAAa,WAAb,EAA0B4Q,WAA1B,EAAuCD,KAAvC,EAA8CpX,EAA9C;AACH,KAjK0C;AAmK3CuX,4BAnK2C,oCAmKlBK,UAnKkB,EAmKNC,cAnKM,EAmKU;AACjD,YAAM4X,sBAAsB5X,eAAezU,GAAf,CAAmB,WAAnB,EAAgCqrB,WAAhC,EAA5B;AACA7W,mBAAWE,IAAX,CAAgB,gBAAhB,EAAkCtG,IAAlC,CAAuCqG,eAAezU,GAAf,CAAmB,MAAnB,CAAvC;AACAwU,mBAAWE,IAAX,CAAgB,mBAAhB,EAAqCtG,IAArC,CAA0CqG,eAAezU,GAAf,CAAmB,WAAnB,CAA1C;AACAwU,mBAAW7B,SAAX,CAAqBxM,GAArB,CAAyBwkB,6BAA6B0B,mBAAtD;AACH,KAxK0C;AA0K3ClC,gBA1K2C,wBA0K9BnlB,IA1K8B,EA0KxBR,KA1KwB,EA0KjB;AACtB,YAAI,KAAKqQ,SAAL,CAAe,cAAf,CAAJ,EAAoC;AAChC,iBAAKxR,OAAL,CAAa,kBAAb,EAAiCmB,KAAjC;AACH;AACJ,KA9K0C;AAgL3C8nB,mBAhL2C,2BAgL3B9nB,KAhL2B,EAgLpB;AACnB,YAAMyX,OAAOzX,MAAMxE,GAAN,CAAU,MAAV,CAAb;AACA,YAAMoO,OAAO5J,MAAMxE,GAAN,CAAU,MAAV,CAAb;AACA,YAAMusB,SAAS,IAAIC,MAAJ,CAAWhoB,MAAMioB,mBAAjB,EAAsC,GAAtC,CAAf;AACA,YAAIxQ,QAAQsQ,OAAOG,IAAP,CAAYzQ,IAAZ,CAAZ,EAA+B;AAC3B,iBAAKrf,EAAL,CAAQqf,IAAR,CAAa0Q,IAAb,CAAkBzc,KAAK8Y,KAAL,CAAW4D,WAAX,CAAuBC,aAAvB,CAAqC5Q,IAArC,EAA2CzX,MAAMioB,mBAAjD,CAAlB;AACH,SAFD,MAEO,IAAIre,QAAQme,OAAOG,IAAP,CAAYte,IAAZ,CAAZ,EAA+B;AAClC,iBAAKxR,EAAL,CAAQwR,IAAR,CAAaue,IAAb,CAAkBzc,KAAK8Y,KAAL,CAAW4D,WAAX,CAAuBC,aAAvB,CAAqCze,IAArC,EAA2C5J,MAAMioB,mBAAjD,CAAlB;AACH;AACJ,KAzL0C;AA2L3CK,qBA3L2C,6BA2LzBtoB,KA3LyB,EA2LlB;AACrB,YAAMyX,OAAOzX,MAAMxE,GAAN,CAAU,MAAV,CAAb;AACA,YAAMoO,OAAO5J,MAAMxE,GAAN,CAAU,MAAV,CAAb;AACA,YAAIic,IAAJ,EAAU;AACN,iBAAKrf,EAAL,CAAQqf,IAAR,CAAa7N,IAAb,CAAkB6N,IAAlB;AACH,SAFD,MAEO,IAAI7N,IAAJ,EAAU;AACb,iBAAKxR,EAAL,CAAQwR,IAAR,CAAaA,IAAb,CAAkBA,IAAlB;AACH;AACJ;AAnM0C,CAAhC,C;;;;;;;;;;;;;;;;;;ACLf;;;;AACA;;;;AACA;;;;;;AAEA,IAAM2e,iCAAiC,eAAvC;kBAEevwB,WAAWgU,cAAX,CAA0B3O,MAA1B,CAAiC;AAC5C9E,cAD4C,wBAC/B;AACTkH,UAAEgO,OAAF,CAAU,IAAV,EAAgB,oBAAhB,EAAsC,mBAAtC,EAA2D,mBAA3D;AACH,KAH2C;;;AAK5ChD,eAAW,8BALiC;;AAO5CL,cAAUC,WAAWC,OAAX,CAAmBF,8BAAnB,CAPkC;;AAS5CO,eAAW6d,kCATiC;;AAW5CC,eAAWC,mCAXiC;;AAa5C3F,oBAb4C,8BAazB;AACf,eAAO;AACH1V,oBAAQ,KAAKgD,SAAL,CAAe,QAAf,CADL;AAEHiV,0BAAc,KAAKjV,SAAL,CAAe,cAAf,CAFX;AAGHmV,qCAAyB,KAAKnV,SAAL,CAAe,yBAAf,CAHtB;AAIHkV,2BAAe,KAAKlV,SAAL,CAAe,eAAf;AAJZ,SAAP;AAMH,KApB2C;;;AAsB5C2W,qBAAiB;AACb,sBAAc,oBADD;AAEb,qBAAa,mBAFA;AAGb,qBAAa,mBAHA;AAIb,0BAAkB,wBAJL;AAKb,4BAAoB;AALP,KAtB2B;;AA8B5CU,sBA9B4C,8BA8BzBjY,WA9ByB,EA8BZD,KA9BY,EA8BLpX,EA9BK,EA8BD;AACvC,aAAKuX,wBAAL,CAA8BvX,GAAGmW,MAAjC,EAAyCkB,YAAYzP,KAArD;AACA,aAAKnB,OAAL,CAAa,oBAAb,EAAmC4Q,WAAnC,EAAgDD,KAAhD,EAAuDpX,EAAvD;AACH,KAjC2C;AAmC5CuvB,qBAnC4C,6BAmC1BlY,WAnC0B,EAmCbD,KAnCa,EAmCNpX,EAnCM,EAmCF;AACtC,aAAKyG,OAAL,CAAa,mBAAb,EAAkC4Q,WAAlC,EAA+CD,KAA/C,EAAsDpX,EAAtD;AACH,KArC2C;AAuC5CwvB,qBAvC4C,6BAuC1BnY,WAvC0B,EAuCbD,KAvCa,EAuCNpX,EAvCM,EAuCF;AACtC,aAAKyG,OAAL,CAAa,mBAAb,EAAkC4Q,WAAlC,EAA+CD,KAA/C,EAAsDpX,EAAtD;AACH,KAzC2C;AA2C5CovB,0BA3C4C,oCA2CnB;AACrB,aAAK3oB,OAAL,CAAa,gBAAb;AACH,KA7C2C;AA+C5C8Q,4BA/C4C,oCA+CnBK,UA/CmB,EA+CPC,cA/CO,EA+CS;AACjD,YAAM4X,sBAAsB5X,eAAezU,GAAf,CAAmB,WAAnB,EAAgCqrB,WAAhC,EAA5B;AACA7W,mBAAWE,IAAX,CAAgB,gBAAhB,EAAkCtG,IAAlC,CAAuCqG,eAAezU,GAAf,CAAmB,MAAnB,CAAvC;AACAwU,mBAAWE,IAAX,CAAgB,mBAAhB,EAAqCtG,IAArC,CAA0CqG,eAAezU,GAAf,CAAmB,WAAnB,CAA1C;AACAwU,mBAAW7B,SAAX,CAAqBxM,GAArB,CAAyB4mB,iCAAiCV,mBAA1D;AACH,KApD2C;AAsD5ClC,gBAtD4C,wBAsD/B3lB,KAtD+B,EAsDxB;AAChB,YAAI,KAAKqQ,SAAL,CAAe,cAAf,CAAJ,EAAoC;AAChC,iBAAKxR,OAAL,CAAa,kBAAb,EAAiCmB,KAAjC;AACH;AACJ;AA1D2C,CAAjC,C;;;;;;;;;;;;;;;;;;ACNf;;;;AACA;;;;;;AAEA,IAAMmmB,6BAA6B,eAAnC;;kBAEenuB,WAAWgU,cAAX,CAA0B3O,MAA1B,CAAiC;AAC5C9E,cAD4C,sBACjCT,OADiC,EACxB;AAChB,aAAKuV,MAAL,GAAcvV,QAAQuV,MAAtB;;AAEA5N,UAAEgO,OAAF,CAAU,IAAV,EAAgB,iBAAhB,EAAmC,gBAAnC,EAAqD,gBAArD,EAAuE,oBAAvE,EAA6F,mBAA7F,EAAkH,mBAAlH;AACH,KAL2C;;;AAO5ChD,eAAW,uBAPiC;;AAS5CL,cAAUC,WAAWC,OAAX,CAAmBF,kBAAnB,CATkC;;AAW5ChS,QAAI;AACAouB,oBAAY;AADZ,KAXwC;;AAe5C5Z,aAAS;AACLtM,mBAAW,wBADN;AAEL+lB,kBAAU,uBAFL;AAGLK,kBAAU;AAHL,KAfmC;;AAqB5Clb,YArB4C,sBAqBjC;AACP,YAAM+Z,gBAAgB,KAAKztB,OAAL,CAAaytB,aAAnC;AACA,YAAMqB,aAAa,KAAK5mB,KAAL,CAAWxE,GAAX,CAAe+pB,iBAAiB,WAAhC,EAA6CsB,WAA7C,EAAnB;AACA,aAAK3Y,EAAL,CAAQC,SAAR,CAAkBxM,GAAlB,CAAsBwkB,6BAA6BS,UAAnD;AACA,aAAKxuB,EAAL,CAAQouB,UAAR,CAAmBtZ,SAAnB,CAA6B;AACzBoB,sBAAU,mBADe;AAEzBC,oBAAQ;AAAA,uBAAMwY,wBAAN;AAAA,aAFiB;AAGzBnY,sBAAU;AACNC,qBAAK,CAAC,EADA;AAENC,sBAAM,CAAC;AAFD,aAHe;AAOzBjX,mBAAO,KAAKkX,eAPa;AAQzBC,kBAAM,KAAKC,cARc;AASzBC,kBAAM,KAAKC;AATc,SAA7B;AAWH,KApC2C;;;AAsC5C6X,qBAAiB;AACb,sBAAc,oBADD;AAEb,qBAAa,mBAFA;AAGb,qBAAa;AAHA,KAtC2B;;AA4C5CjY,mBA5C4C,2BA4C5BS,KA5C4B,EA4CrBpX,EA5CqB,EA4CjB;AACvB,YAAM0tB,eAAe,KAAKzY,MAAL,CAAYkC,OAAZ,CAAoB,gBAApB,EAAsC,KAAKvP,KAA3C,CAArB;AACA,aAAKyP,WAAL,GAAmB;AACfC,uBAAW,QADI;AAEf1P,mBAAO8lB;AAFQ,SAAnB;AAIA,aAAKnW,wBAAL,CAA8BvX,GAAGmW,MAAjC,EAAyCuX,YAAzC;AACA,aAAKjnB,OAAL,CAAa,YAAb,EAA2B,KAAK4Q,WAAhC,EAA6CD,KAA7C,EAAoDpX,EAApD,EAAwD,IAAxD;AACH,KApD2C;AAsD5C6W,kBAtD4C,0BAsD7BO,KAtD6B,EAsDtBpX,EAtDsB,EAsDlB;AACtB,aAAKyG,OAAL,CAAa,WAAb,EAA0B,KAAK4Q,WAA/B,EAA4CD,KAA5C,EAAmDpX,EAAnD,EAAuD,IAAvD;AACA,aAAKqX,WAAL,GAAmB,IAAnB;AACH,KAzD2C;AA2D5CN,kBA3D4C,0BA2D7BK,KA3D6B,EA2DtBpX,EA3DsB,EA2DlB;AACtB,aAAKyG,OAAL,CAAa,WAAb,EAA0B,KAAK4Q,WAA/B,EAA4CD,KAA5C,EAAmDpX,EAAnD,EAAuD,IAAvD;AACH,KA7D2C;AA+D5CsvB,sBA/D4C,8BA+DzBjY,WA/DyB,EA+DZD,KA/DY,EA+DLpX,EA/DK,EA+DD;AACvC,aAAKyG,OAAL,CAAa,YAAb,EAA2B4Q,WAA3B,EAAwCD,KAAxC,EAA+CpX,EAA/C;AACH,KAjE2C;AAmE5CuvB,qBAnE4C,6BAmE1BlY,WAnE0B,EAmEbD,KAnEa,EAmENpX,EAnEM,EAmEF;AACtC,aAAKyG,OAAL,CAAa,WAAb,EAA0B4Q,WAA1B,EAAuCD,KAAvC,EAA8CpX,EAA9C;AACH,KArE2C;AAuE5CwvB,qBAvE4C,6BAuE1BnY,WAvE0B,EAuEbD,KAvEa,EAuENpX,EAvEM,EAuEF;AACtC,aAAKyG,OAAL,CAAa,WAAb,EAA0B4Q,WAA1B,EAAuCD,KAAvC,EAA8CpX,EAA9C;AACH,KAzE2C;AA2E5CuX,4BA3E4C,oCA2EnBK,UA3EmB,EA2EPC,cA3EO,EA2ES;AACjD,YAAM4X,sBAAsB5X,eAAezU,GAAf,CAAmB,WAAnB,EAAgCqrB,WAAhC,EAA5B;AACA7W,mBAAWE,IAAX,CAAgB,gBAAhB,EAAkCtG,IAAlC,CAAuCqG,eAAezU,GAAf,CAAmB,MAAnB,CAAvC;AACAwU,mBAAWE,IAAX,CAAgB,mBAAhB,EAAqCtG,IAArC,CAA0CqG,eAAezU,GAAf,CAAmB,WAAnB,CAA1C;AACAwU,mBAAW7B,SAAX,CAAqBxM,GAArB,CAAyBwkB,6BAA6B0B,mBAAtD;AACH;AAhF2C,CAAjC,C;;;;;;;;;;;;;;;;;;ACLf;;;;AACA;;;;;;AAEA,IAAMU,iCAAiC,eAAvC;;kBAEevwB,WAAWgU,cAAX,CAA0B3O,MAA1B,CAAiC;AAC5C9E,cAD4C,wBAC/B;AACTkH,UAAEgO,OAAF,CAAU,IAAV,EAAgB,oBAAhB,EAAsC,mBAAtC,EAA2D,mBAA3D;AACH,KAH2C;;;AAK5ChD,eAAW,QALiC;;AAO5CL,cAAUC,WAAWC,OAAX,CAAmBF,qBAAnB,CAPkC;;AAS5CO,eAAWge,sBATiC;;AAW5C5F,oBAX4C,8BAWzB;AACf,eAAO;AACH1V,oBAAQ,KAAKgD,SAAL,CAAe,QAAf;AADL,SAAP;AAGH,KAf2C;;;AAiB5C2W,qBAAiB;AACb,sBAAc,oBADD;AAEb,qBAAa,mBAFA;AAGb,qBAAa,mBAHA;AAIb,0BAAkB;AAJL,KAjB2B;;AAwB5CU,sBAxB4C,8BAwBzBjY,WAxByB,EAwBZD,KAxBY,EAwBLpX,EAxBK,EAwBDoI,IAxBC,EAwBK;AAC7C,aAAKmP,wBAAL,CAA8BvX,GAAGmW,MAAjC,EAAyCkB,YAAYzP,KAArD;AACA,aAAKnB,OAAL,CAAa,oBAAb,EAAmC2B,IAAnC,EAAyCiP,WAAzC,EAAsDD,KAAtD,EAA6DpX,EAA7D;AACH,KA3B2C;AA6B5CuvB,qBA7B4C,6BA6B1BlY,WA7B0B,EA6BbD,KA7Ba,EA6BNpX,EA7BM,EA6BFoI,IA7BE,EA6BI;AAC5C,aAAK3B,OAAL,CAAa,mBAAb,EAAkC2B,IAAlC,EAAwCiP,WAAxC,EAAqDD,KAArD,EAA4DpX,EAA5D;AACH,KA/B2C;AAiC5CwvB,qBAjC4C,6BAiC1BnY,WAjC0B,EAiCbD,KAjCa,EAiCNpX,EAjCM,EAiCFoI,IAjCE,EAiCI;AAC5C,aAAK3B,OAAL,CAAa,mBAAb,EAAkC2B,IAAlC,EAAwCiP,WAAxC,EAAqDD,KAArD,EAA4DpX,EAA5D;AACH,KAnC2C;AAqC5CovB,0BArC4C,oCAqCnB;AACrB,aAAK3oB,OAAL,CAAa,gBAAb;AACH,KAvC2C;AAyC5C8Q,4BAzC4C,oCAyCnBK,UAzCmB,EAyCPC,cAzCO,EAyCS;AACjD,YAAM4X,sBAAsB5X,eAAezU,GAAf,CAAmB,WAAnB,EAAgCqrB,WAAhC,EAA5B;AACA7W,mBAAWE,IAAX,CAAgB,gBAAhB,EAAkCtG,IAAlC,CAAuCqG,eAAezU,GAAf,CAAmB,MAAnB,CAAvC;AACAwU,mBAAWE,IAAX,CAAgB,mBAAhB,EAAqCtG,IAArC,CAA0CqG,eAAezU,GAAf,CAAmB,WAAnB,CAA1C;AACAwU,mBAAW7B,SAAX,CAAqBxM,GAArB,CAAyB4mB,iCAAiCV,mBAA1D;AACH;AA9C2C,CAAjC,C;;;;;;;;;;;;;;;;;;ACLf;;;;AACA;;;;;;kBAEe7vB,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC9E,cADkC,sBACvBT,OADuB,EACd;AAChB,YAAIA,QAAQ6Y,MAAR,CAAe8H,OAAnB,EAA4B;AACxB,iBAAKmQ,WAAL,GAAmB,KAAKC,mBAAL,CAAyB/wB,QAAQ6Y,MAAR,CAAe8H,OAAf,CAAuBqQ,OAAhD,CAAnB;AACH;AACD,aAAK1C,gBAAL,GAAwBtuB,QAAQ6Y,MAAR,CAAe6U,uBAAf,IAA0C,MAAlE;AACH,KANiC;;;AAQlCpb,cAAUC,WAAWC,OAAX,CAAmBF,wBAAnB,CARwB;;AAUlChS,QAAI;AACA2wB,sBAAc;AADd,KAV8B;;AAclCve,YAAQ;AACJ,mCAA2B;AADvB,KAd0B;;AAkBlCU,aAAS;AACL8d,sBAAc,mBADT;AAELC,uBAAe;AAFV,KAlByB;;AAuBlCxe,eAAW,iBAvBuB;;AAyBlCe,YAzBkC,sBAyBvB;AAAA;;AACP,aAAKW,aAAL,CAAmB,cAAnB,EAAmC,KAAK+c,kBAAL,EAAnC;AACA,YAAI,KAAK7Y,SAAL,CAAe,QAAf,EAAyBoI,OAA7B,EAAsC;AAClC,iBAAKtM,aAAL,CAAmB,eAAnB,EAAoC,KAAKyc,WAAzC;AACA,iBAAK3qB,QAAL,CAAc,KAAK2qB,WAAnB,EAAgC,SAAhC,EAA2C;AAAA,uBAAY,MAAK/pB,OAAL,CAAa,SAAb,EAAwBga,QAAxB,CAAZ;AAAA,aAA3C;AACH;AACJ,KA/BiC;AAiClCkF,qBAjCkC,6BAiChBxgB,UAjCgB,EAiCJ;AAC1B,aAAK4rB,gBAAL,GAAwB5rB,UAAxB;AACH,KAnCiC;AAqClC2rB,sBArCkC,gCAqCb;AAAA;;AACjB,YAAME,gBAAgB,IAAI1d,KAAK2d,KAAL,CAAWC,aAAf,EAAtB;AACAF,sBAAc1oB,EAAd,CAAiB,QAAjB,EAA2B,gBAAQ;AAC/B,mBAAK6oB,cAAL,CAAoB,OAAKJ,gBAAzB,EAA2C,IAA3C;AACA,mBAAKK,uBAAL,CAA6B,OAAKL,gBAAlC;AACA,mBAAKM,UAAL,IAAmB,OAAKC,aAAL,CAAmB,OAAKP,gBAAxB,CAAnB;AACA,mBAAKM,UAAL,GAAkB,CAAC,CAAC7f,IAApB;AACA,gBAAIA,IAAJ,EAAU;AACN,uBAAK+f,aAAL,CAAmB,OAAKR,gBAAxB,EAA0C,IAAInB,MAAJ,CAAWpe,IAAX,EAAiB,GAAjB,CAA1C;AACA,uBAAKggB,qBAAL,CAA2B,OAAKT,gBAAhC,EAAkDvf,IAAlD;AACH;AACJ,SATD;AAUA,eAAOwf,aAAP;AACH,KAlDiC;AAoDlCP,uBApDkC,+BAoDdtrB,UApDc,EAoDF;AAC5B,eAAO,IAAIssB,4BAAJ,CAAuB,EAAEtsB,sBAAF,EAAvB,CAAP;AACH,KAtDiC;AAwDlCusB,kBAxDkC,0BAwDnBta,KAxDmB,EAwDZ;AAClB,aAAK3Q,OAAL,CAAa,eAAb,EAA8B2Q,KAA9B;AACH,KA1DiC;AA4DlCma,iBA5DkC,yBA4DpBpsB,UA5DoB,EA4DRwqB,MA5DQ,EA4Dc;AAAA;;AAAA,YAAdgC,OAAc,uEAAJ,EAAI;;AAC5CxsB,mBAAWe,OAAX,CAAmB,iBAAS;AACxByrB,oBAAQ7pB,IAAR,CAAaF,KAAb;AACA,gBAAMO,WAAWP,MAAMxE,GAAN,CAAU,UAAV,CAAjB;AACA,gBAAMiM,SAAS,OAAKuiB,aAAL,CAAmBhqB,KAAnB,KAA6B,OAAK2pB,aAAL,CAAmBppB,QAAnB,EAA6BwnB,MAA7B,EAAqCgC,OAArC,CAA5C;AACAA,oBAAQE,GAAR;AACA,gBAAI,OAAOjqB,MAAMkqB,YAAb,KAA8B,UAA9B,IAA4ClqB,MAAMmqB,YAAtD,EAAoE;AAChE1qB,kBAAE2qB,KAAF,CAAQ,YAAM;AACVpqB,0BAAMkqB,YAAN,CAAmB,IAAnB;AACAlqB,0BAAMonB,eAAN;AACH,iBAHD;AAIH;AACD,mBAAO3f,MAAP;AACH,SAZD;AAaAlK,mBAAWwG,MAAX,CACI;AAAA,mBAAU,OAAKimB,aAAL,CAAmBhqB,KAAnB,KAA6BA,MAAMxE,GAAN,CAAU,UAAV,EAAsBgE,MAAtB,GAA+B,CAA7D,IAAmE,OAAK6qB,WAAL,CAAiBrqB,KAAjB,EAAwB+nB,MAAxB,CAAnE,IAAsGgC,QAAQO,IAAR,CAAa;AAAA,uBAAU,OAAKD,WAAL,CAAiB3Y,MAAjB,EAAyBqW,MAAzB,CAAV;AAAA,aAAb,CAA/G;AAAA,SADJ;AAGA,YAAIgC,QAAQvqB,MAAZ,EAAoB;AAChBuqB,oBAAQA,QAAQvqB,MAAR,GAAiB,CAAzB,EAA4B2qB,YAA5B,GAA2C5sB,WAAWgC,MAAX,CAAkB+qB,IAAlB,CAAuB;AAAA,uBAAS,OAAKD,WAAL,CAAiBxW,KAAjB,EAAwBkU,MAAxB,KAAmClU,MAAMsW,YAAlD;AAAA,aAAvB,CAA3C;AACH;AACJ,KAhFiC;AAkFlCE,eAlFkC,uBAkFtBrqB,KAlFsB,EAkFf+nB,MAlFe,EAkFP;AACvB,eAAOA,OAAOG,IAAP,CAAYloB,MAAMxE,GAAN,CAAU,KAAK4qB,gBAAf,CAAZ,KAAiD2B,OAAOG,IAAP,CAAYloB,MAAMxE,GAAN,CAAU,MAAV,CAAZ,CAAxD;AACH,KApFiC;AAsFlCouB,yBAtFkC,iCAsFZrsB,UAtFY,EAsFAqM,IAtFA,EAsFM;AAAA;;AACpC,YAAI,EAAE,OAAOrM,WAAWoM,SAAlB,KAAgC,UAAlC,CAAJ,EAAmD;AAC/C+B,iBAAK8Y,KAAL,CAAW9B,OAAX,CAAmB6H,aAAnB,CAAiChtB,UAAjC,EAA6CmO,KAAK+S,WAAL,CAAiB5jB,SAAjB,CAA2B6O,qBAAxE;AACH;AACDnM,mBAAWoM,SAAX,CAAqBC,IAArB;AACArM,mBAAWsM,IAAX,CAAgB,iBAAS;AACrB,gBAAI,OAAKmgB,aAAL,CAAmBhqB,KAAnB,CAAJ,EAA+B;AAC3B,uBAAK4pB,qBAAL,CAA2B5pB,MAAMxE,GAAN,CAAU,UAAV,CAA3B,EAAkDoO,IAAlD;AACH;AACJ,SAJD;AAKH,KAhGiC;AAkGlC4f,2BAlGkC,mCAkGVjsB,UAlGU,EAkGE;AAAA;;AAChC,YAAI,EAAE,OAAOA,WAAWwM,WAAlB,KAAkC,UAApC,CAAJ,EAAqD;AACjD2B,iBAAK8Y,KAAL,CAAW9B,OAAX,CAAmB6H,aAAnB,CAAiChtB,UAAjC,EAA6CmO,KAAK+S,WAAL,CAAiB5jB,SAAjB,CAA2B6O,qBAAxE;AACH;AACDnM,mBAAWwM,WAAX;AACAxM,mBAAWsM,IAAX,CAAgB,iBAAS;AACrB,gBAAI,OAAKmgB,aAAL,CAAmBhqB,KAAnB,CAAJ,EAA+B;AAC3B,uBAAKwpB,uBAAL,CAA6BxpB,MAAMxE,GAAN,CAAU,UAAV,CAA7B;AACH;AACJ,SAJD;AAKH,KA5GiC;AA8GlCkuB,iBA9GkC,yBA8GpBnsB,UA9GoB,EA8GR;AAAA;;AACtBA,mBAAWwG,MAAX,CAAkB,IAAlB;AACAxG,mBAAWe,OAAX,CAAmB;AAAA,mBAAS0B,MAAMgX,GAAN,CAAU,UAAV,KAAyB,OAAK0S,aAAL,CAAmB1pB,MAAMxE,GAAN,CAAU,UAAV,CAAnB,CAAlC;AAAA,SAAnB;AACH,KAjHiC;AAmHlC+tB,kBAnHkC,0BAmHnBhsB,UAnHmB,EAmHP2B,KAnHO,EAmHA;AAAA;;AAC9B3B,mBAAWe,OAAX,CAAmB,iBAAS;AACxB,gBAAI,OAAO0B,MAAMkqB,YAAb,KAA8B,UAAlC,EAA8C;AAC1ClqB,sBAAMkqB,YAAN,CAAmB,CAAChrB,KAApB;AACAc,sBAAMonB,eAAN;AACH;AACD,mBAAK4C,aAAL,CAAmBhqB,KAAnB,KAA6B,OAAKupB,cAAL,CAAoBvpB,MAAMxE,GAAN,CAAU,UAAV,CAApB,EAA2C0D,KAA3C,CAA7B;AACH,SAND;AAOH,KA3HiC;AA6HlC8qB,iBA7HkC,yBA6HpBhqB,KA7HoB,EA6Hb;AACjB,eAAOA,MAAMxE,GAAN,CAAU,UAAV,KAAyBwE,MAAMxE,GAAN,CAAU,UAAV,EAAsBgE,MAAtB,GAA+B,CAA/D;AACH;AA/HiC,CAAvB,C;;;;;;;;;;;;;;;;;;ACHf;;;;;;kBAEexH,WAAWgU,cAAX,CAA0B3O,MAA1B,CAAiC;AAC5CoN,eAAW,sBADiC;;AAG5CE,eAAW6f,oBAHiC;;AAK5CxD,qBAAiB;AACb,0BAAkB;AADL,KAL2B;;AAS5CyD,uBAT4C,+BASxBjb,KATwB,EASjB;AACvB,aAAK3Q,OAAL,CAAa,SAAb,EAAwB2Q,MAAMxP,KAAN,CAAYK,EAApC;AACH;AAX2C,CAAjC,C;;;;;;;;;;;;;;;;;;ACFf;;;;;;kBAEerI,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC+M,cAAUC,WAAWC,OAAX,CAAmBF,2BAAnB,CADwB;;AAGlCK,eAAW;AAHuB,CAAvB,C;;;;;;;;;;;;;;;;;;ACFf;;;;;;kBAEezS,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC9E,cADkC,wBACrB;AAAA;;AACT,aAAKmyB,OAAL,GAAe,KAAKC,mBAAL,EAAf;AACA,aAAKC,QAAL,GAAgB,KAAKC,YAAL,EAAhB;AACA,aAAK5sB,QAAL,CAAc,KAAK6sB,IAAnB,EAAyB,SAAzB,EAAoC;AAAA,mBAAe,MAAKjsB,OAAL,CAAa,yBAAb,EAAwCksB,WAAxC,CAAf;AAAA,SAApC;AACA,aAAK9sB,QAAL,CAAc,KAAK6sB,IAAnB,EAAyB,OAAzB,EAAkC;AAAA,mBAAY,MAAKjsB,OAAL,CAAa,WAAb,EAA0BmsB,QAA1B,CAAZ;AAAA,SAAlC;AACH,KANiC;;;AAQlC5gB,cAAUC,WAAWC,OAAX,CAAmBF,0BAAnB,CARwB;;AAUlCK,eAAW,iBAVuB;;AAYlCS,aAAS;AACL+f,+BAAuB;AADlB,KAZyB;;AAgBlC7yB,QAAI;AACA8yB,gCAAwB;AADxB,KAhB8B;;AAoBlClG,cAAU;AACN,4CAAoC;AAD9B,KApBwB;;AAwBlCxZ,YAxBkC,sBAwBvB;AACP,aAAKiR,SAAL,CAAe,uBAAf,EAAwCC,IAAxC,CAA6C,KAAKkO,QAAlD;AACH,KA1BiC;AA4BlCD,uBA5BkC,iCA4BZ;AAClB,eAAO,CACH;AACItqB,gBAAI,IADR;AAEI+C,yBAAagV,UAAU5c,GAAV,CAAc,iCAAd,CAFjB;AAGI0d,kBAAM,QAHV;AAII8B,mBAAO;AAJX,SADG,EAOH;AACI3a,gBAAI,MADR;AAEI+C,yBAAagV,UAAU5c,GAAV,CAAc,mCAAd,CAFjB;AAGI0d,kBAAM,QAHV;AAII8B,mBAAO;AAJX,SAPG,CAAP;AAcH,KA3CiC;AA6ClC6P,gBA7CkC,0BA6CnB;AACX,YAAMjJ,iBAAiB,KAAvB;;AAEA,aAAKkJ,IAAL,GAAY,IAAIpf,KAAK7L,IAAL,CAAUsrB,WAAV,CAAsBC,cAA1B,CAAyC;AACjDV,qBAAS,KAAKA,OADmC;AAEjD9I,0CAFiD;AAGjDrkB,wBAAY,KAAKzF,OAAL,CAAayF,UAHwB;AAIjD8tB,wBAAY;AAJqC,SAAzC,CAAZ;;AAOA,eAAO,KAAKP,IAAL,CAAUtqB,IAAjB;AACH;AAxDiC,CAAvB,C;;;;;;;;;;;;;;;;;;ACFf;;;;;;kBAEexI,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC+M,cAAUC,WAAWC,OAAX,CAAmBF,gBAAnB,CADwB;;AAGlCc,aAAS;AACLogB,sBAAc;AADT,KAHyB;;AAOlC7gB,eAAW,WAPuB;;AASlCrS,QAAI;AACAmzB,mBAAW,gBADX;AAEAC,sBAAc;AAFd,KAT8B;;AAclChhB,YAAQ;AACJ,+BAAuB,UADnB;AAEJ,kCAA0B;AAFtB,KAd0B;;AAmBlCgB,YAnBkC,sBAmBvB;AACP,YAAMigB,SAAS;AACXhU,kBAAM;AACFrM,uBAAOgN,UAAU5c,GAAV,CAAc,2CAAd,CADL;AAEF0d,sBAAM,MAFJ;AAGFwS,0BAAU,IAHR;AAIFC,4BAAY,IAJV;AAKFC,4BAAY,CAAC,UAAD;AALV,aADK;AAQX7Q,mBAAO;AACH3P,uBAAOgN,UAAU5c,GAAV,CAAc,iDAAd,CADJ;AAEH0d,sBAAM,MAFH;AAGHwS,0BAAU,IAHP;AAIHC,4BAAY,IAJT;AAKHC,4BAAY,CAAC,UAAD;AALT;AARI,SAAf;;AAiBA,aAAKprB,IAAL,GAAY,IAAIkL,KAAKmgB,MAAL,CAAYC,IAAhB,CAAqB;AAC7B9rB,mBAAO,KAAKA,KADiB;AAE7ByrB,0BAF6B;AAG7BM,qBAAS,IAAIrgB,KAAKmgB,MAAL,CAAYG,cAAhB,CAA+B;AACpC7U,sBAAM,CAACzL,KAAKmgB,MAAL,CAAYI,iBAAZ,CAA8B,MAA9B,CAAD,EAAwCvgB,KAAKmgB,MAAL,CAAYI,iBAAZ,CAA8B,OAA9B,CAAxC;AAD8B,aAA/B;AAHoB,SAArB,CAAZ;;AAQA,aAAKxP,SAAL,CAAe,cAAf,EAA+BC,IAA/B,CAAoC,KAAKlc,IAAzC;AACH,KA9CiC;AAgDlC0rB,YAhDkC,sBAgDvB;AACP,YAAMnZ,QAAQ,KAAKvS,IAAL,CAAU1D,IAAV,CAAesf,QAAf,EAAd;AACA,YAAIrJ,KAAJ,EAAW;AACP;AACH;AACD,aAAKlU,OAAL,CAAa,QAAb,EAAuB,KAAKmB,KAA5B;AACA,aAAKmsB,YAAL;AACH,KAvDiC;AAyDlCA,gBAzDkC,0BAyDnB;AACXzgB,aAAKuM,QAAL,CAAchf,aAAd,CAA4BmzB,UAA5B;AACH;AA3DiC,CAAvB,C;;;;;;;;;;;;;;;;;;ACFf;;;;AACA;;;;AACA;;;;;;kBAEep0B,WAAWgS,aAAX,CAAyB3M,MAAzB,CAAgC;AAC3C9E,cAD2C,sBAChCT,OADgC,EACvB;AAChB,aAAKyF,UAAL,GAAkB,IAAI0M,0BAAJ,CAAqBnS,QAAQyF,UAA7B,CAAlB;AACA,aAAK+C,SAAL,GAAiBxI,QAAQwI,SAAzB;AACA,aAAK4J,QAAL,GAAgBpS,QAAQqS,UAAxB;AACH,KAL0C;;;AAO3CC,cAAUC,WAAWC,OAAX,CAAmBF,0BAAnB,CAPiC;;AAS3ChS,QAAI;AACAi0B,wBAAgB,kBADhB;AAEA9hB,wBAAgB;AAFhB,KATuC;;AAc3CC,YAAQ;AACJ,oCAA4B;AADxB,KAdmC;;AAkB3CC,aAlB2C,uBAkB/B;AACR,0CAA+B,KAAK3S,OAAL,CAAaqS,UAAb,GAA0B,2BAA1B,GAAwD,EAAvF;AACH,KApB0C;AAsB3Ca,mBAtB2C,6BAsBzB;AACd,eAAO;AACHI,mBAAO,KAAKtT,OAAL,CAAasT;AADjB,SAAP;AAGH,KA1B0C;;;AA4B3CT,eAAW2hB,wBA5BgC;;AA8B3C5hB,wBAAoB,wBA9BuB;;AAgC3Cc,YAhC2C,sBAgChC;AACP,aAAK+gB,kBAAL;AACH,KAlC0C;AAoC3Cnb,oBApC2C,8BAoCxB;AACf,aAAK9Q,SAAL,GAAiB,CAAC,KAAKA,SAAvB;AACA,aAAKisB,kBAAL;AACA,aAAKC,kBAAL;AACH,KAxC0C;AA0C3CD,sBA1C2C,gCA0CtB;AACjB,aAAKriB,QAAL,GAAgB,KAAKgE,EAAL,CAAQgC,IAAR,CAAa,wBAAb,EAAuCmQ,GAAvC,CAA2C,EAAEvR,MAAM,KAAKxO,SAAL,GAAiB,CAAC,GAAlB,GAAwB,CAAhC,EAA3C,CAAhB,GAAkG,KAAK4N,EAAL,CAAQue,KAAR,CAAczR,KAAd,IAAyB,KAAK1a,SAAL,GAAiB,EAAjB,GAAsB,GAA/C,QAAlG;AACH,KA5C0C;AA8C3CksB,sBA9C2C,gCA8CtB;AACjB,aAAKlsB,SAAL,GAAiB,KAAKlI,EAAL,CAAQi0B,cAAR,CAAuBK,IAAvB,EAAjB,GAAiD,KAAKt0B,EAAL,CAAQi0B,cAAR,CAAuBrL,eAAvB,CAAuC,aAAvC,CAAjD;AACH;AAhD0C,CAAhC,C;;;;;;;;;;;;;;;;;;ACJf;;;;AACA;;;;;;kBAEetmB,SAAS0C,UAAT,CAAoBC,MAApB,CAA2B;AACtC9E,cADsC,wBACzB;AACT6G,eAAOC,MAAP,CAAc,IAAd,EAAoB,IAAIgD,6BAAmBC,YAAvB,CAAoC,IAApC,CAApB;AACH,KAHqC;;;AAKtCtC,WAAO6K;AAL+B,CAA3B,C;;;;;;;;;;;;;;;;;;ACHf;;;;;;kBAEenQ,SAASyI,KAAT,CAAe9F,MAAf,CAAsB;AACjC9E,cADiC,wBACpB;AACT6G,eAAOC,MAAP,CAAc,IAAd,EAAoB,IAAIgD,6BAAmByI,UAAvB,CAAkC,IAAlC,CAApB;AACH;AAHgC,CAAtB,C;;;;;;;;;;;ACHf,+BAA+B,KAAK,0BAA0B,aAAa,M;;;;;;;;;;;ACA3E,4NAA4N,OAAO,+F;;;;;;;;;;;;;;;;;;ACCnO;;;;;;AAEA,IAAM8B,UAAU;AACZgB,cAAU;AADE,CAAhB;kBAIe5V,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC+M,cAAUC,WAAWC,OAAX,CAAmBF,mBAAnB,CADwB;;AAGlCoB,YAHkC,sBAGvB;AACP,aAAK0C,EAAL,CAAQC,SAAR,CAAkBC,MAAlB,CAAyBxB,QAAQgB,QAAjC,EAA2C,CAAC,CAAC,KAAK5N,KAAL,CAAW4N,QAAxD;AACH,KALiC;;;AAOlCnD,eAAW;AAPuB,CAAvB,C;;;;;;;;;;;;;;;;;;ACNf;;;;AACA;;;;AACA;;;;AAEA,IAAMkiB,mBAAmB,GAAzB;kBAEe30B,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC9E,cADkC,wBACrB;AAAA;;AACTmqB,uBAAQC,YAAR,CAAqB,KAAK7qB,OAA1B,EAAmC,oBAAnC;;AAEA,aAAK6pB,kBAAL,GAA0B,KAAK7pB,OAAL,CAAa6pB,kBAAvC;AACA,aAAKiL,sBAAL,GAA8B,IAAIlyB,SAAS0C,UAAb,CAAwB,KAAKukB,kBAAL,CAAwBpiB,MAAhD,CAA9B;AACA,aAAKstB,mBAAL,GAA2B,IAAInyB,SAAS0C,UAAb,EAA3B;;AAEA,aAAK0vB,cAAL,GAAsB,KAAKC,yBAAL,EAAtB;AACA,aAAKC,SAAL,GAAiB,KAAKC,2BAAL,CAAiC,KAAKJ,mBAAtC,CAAjB;AACA,aAAK5uB,QAAL,CAAc,KAAK6uB,cAAnB,EAAmC,gBAAnC,EAAqD;AAAA,mBAAS,MAAKjuB,OAAL,CAAa,iBAAb,EAAgCmB,KAAhC,CAAT;AAAA,SAArD;AACA,aAAK/B,QAAL,CAAc,KAAK+uB,SAAnB,EAA8B,SAA9B,EAAyC,UAACnL,MAAD,EAAS7hB,KAAT;AAAA,mBAAmB,MAAKnB,OAAL,CAAa,iBAAb,EAAgCmB,KAAhC,CAAnB;AAAA,SAAzC;AACA,aAAKktB,eAAL,GAAuBztB,EAAE4E,QAAF,CAAW;AAAA,mBAAM,MAAK8oB,WAAL,EAAN;AAAA,SAAX,EAAqC,GAArC,CAAvB;AACA,aAAKlvB,QAAL,CAAcyN,KAAKuM,QAAL,CAAc3f,kBAA5B,EAAgD,2BAAhD,EAA6E,KAAK40B,eAAlF;AACA,aAAKjvB,QAAL,CAAc,KAAK0jB,kBAAnB,EAAuC,gCAAvC,EAAyE,KAAKuL,eAA9E;AACH,KAfiC;;;AAiBlCziB,eAAW,sCAjBuB;;AAmBlCL,cAAUC,WAAWC,OAAX,CAAmBF,qBAAnB,CAnBwB;;AAqBlCc,aAAS;AACLkiB,4BAAoB,mBADf;AAELC,yBAAiB;AAFZ,KArByB;;AA0BlCC,YA1BkC,sBA0BvB;AACP,aAAKJ,eAAL;AACH,KA5BiC;AA8BlC1hB,YA9BkC,sBA8BvB;AACP,aAAKW,aAAL,CAAmB,oBAAnB,EAAyC,KAAK2gB,cAA9C;AACA,aAAK3gB,aAAL,CAAmB,iBAAnB,EAAsC,KAAK6gB,SAA3C;AACA,aAAKvQ,SAAL,CAAe,iBAAf,EAAkCvO,EAAlC,CAAqC2O,YAArC,CAAkD,aAAlD,EAAiE,IAAjE;AACH,KAlCiC;AAoClCkQ,6BApCkC,uCAoCN;AACxB,eAAO,IAAIQ,+BAAJ,CAA0B;AAC7BhwB,wBAAY,KAAKqvB,sBADY;AAE7Bvf,oBAAQ,KAAKvV,OAAL,CAAauV;AAFQ,SAA1B,CAAP;AAIH,KAzCiC;AA2ClC8f,eA3CkC,yBA2CpB;AACV,YAAI,KAAKK,WAAL,EAAJ,EAAwB;AACpB,mBAAO,KAAP;AACH;AACD,aAAKZ,sBAAL,CAA4BztB,KAA5B,CAAkC,KAAKwiB,kBAAL,CAAwBpiB,MAA1D;AACA,YAAMutB,iBAAiB,KAAKrQ,SAAL,CAAe,oBAAf,EAClBmH,GADkB,CACdrjB,QADc,GAElBA,QAFkB,EAAvB;AAGA,YAAIusB,eAAettB,MAAf,KAA0B,CAA9B,EAAiC;AAC7B;AACH;AACD,YAAMiuB,eAAe,KAAKvf,EAAL,CAAQyS,WAA7B;AACA,YAAM+M,mBAAmB,KAAKA,gBAAL,GAAwB,KAAKA,gBAA7B,GAAgD,KAAKA,gBAAL,GAAwB,KAAKjR,SAAL,CAAe,iBAAf,EAAkCvO,EAAlC,CAAqCyS,WAAtI;AACA,YAAIgN,aAAa,CAAjB;AACA,YAAIC,aAAa,CAAC,CAAlB;AACAd,uBAAejjB,IAAf,CAAoB,UAAC/J,CAAD,EAAI+tB,GAAJ,EAAY;AAC5BF,0BAAcE,IAAIC,qBAAJ,GAA4B9S,KAA1C;AACA,gBAAI2S,aAAaD,gBAAb,GAAgCD,YAApC,EAAkD;AAC9C,oBAAI3tB,MAAMgtB,eAAettB,MAAf,GAAwB,CAAlC,EAAqC;AACjC,wBAAImuB,aAAaF,YAAjB,EAA+B;AAC3B;AACH;AACJ;AACDG,6BAAa9tB,CAAb;AACA,uBAAO,KAAP;AACH;AACJ,SAXD;;AAaA,YAAI8tB,cAAc,CAAlB,EAAqB;AACjB,iBAAKnR,SAAL,CAAe,iBAAf,EAAkCvO,EAAlC,CAAqC8S,eAArC,CAAqD,aAArD;AACA,iBAAK6L,mBAAL,CAAyB1tB,KAAzB,CAA+B,KAAKwiB,kBAAL,CAAwBpiB,MAAxB,CAA+BgG,KAA/B,CAAqCqoB,UAArC,CAA/B;AACA,iBAAKhB,sBAAL,CAA4BztB,KAA5B,CAAkC,KAAKwiB,kBAAL,CAAwBpiB,MAAxB,CAA+BgG,KAA/B,CAAqC,CAArC,EAAwCqoB,UAAxC,CAAlC;AACH,SAJD,MAIO;AACH,iBAAKnR,SAAL,CAAe,iBAAf,EAAkCvO,EAAlC,CAAqC2O,YAArC,CAAkD,aAAlD,EAAiE,IAAjE;AACH;AACJ,KA9EiC;AAgFlCoQ,+BAhFkC,yCAgFJ;AAC1B,eAAOvhB,KAAKC,QAAL,CAAcC,OAAd,CAAsBmiB,UAAtB,CAAiC;AACpCnkB,kBAAM+iB,gBAD8B;AAEpCqB,mBAAO,KAAKnB,mBAFwB;AAGpCoB,wBAAY,OAHwB;AAIpCC,0BAAc;AAJsB,SAAjC,CAAP;AAMH;AAvFiC,CAAvB,C;;;;;;;;;;;;;;;;;ACNR,IAAMC,8BAAW;AACpBC,UAAM;AACFC,eAAO,aADL;AAEFzkB,cAAM,MAFJ;AAGFvJ,YAAI;AAHF,KADc;AAMpBiuB,SAAK;AACDD,eAAO,6BADN;AAEDzkB,cAAM,KAFL;AAGDvJ,YAAI;AAHH,KANe;AAWpBkuB,YAAQ;AACJF,eAAO,gCADH;AAEJzkB,cAAM,QAFF;AAGJvJ,YAAI;AAHA,KAXY;AAgBpBmuB,WAAO;AACHH,eAAO,+BADJ;AAEHzkB,cAAM,OAFH;AAGHvJ,YAAI;AAHD,KAhBa;AAqBpBouB,cAAU;AACNJ,eAAO,kCADD;AAENzkB,cAAM,UAFA;AAGNvJ,YAAI;AAHE,KArBU;AA0BpBquB,WAAO;AACHL,eAAO,+BADJ;AAEHzkB,cAAM,OAFH;AAGHvJ,YAAI;AAHD;AA1Ba,CAAjB;;AAiCA,IAAMsuB,wBAAQ;AACjBC,eAAW;AACPhlB,cAAM,MADC;AAEPvJ,YAAI,WAFG;AAGPwuB,cAAM;AAHC,KADM;AAMjBT,UAAM;AACFxkB,cAAM,MADJ;AAEFvJ,YAAI,MAFF;AAGFwuB,cAAM;AAHJ,KANW;AAWjBC,UAAM;AACFllB,cAAM,MADJ;AAEFvJ,YAAI,MAFF;AAGFwuB,cACI;AAJF,KAXW;AAiBjBE,WAAO;AACHnlB,cAAM,OADH;AAEHvJ,YAAI,OAFD;AAGHwuB,cAAM;AAHH,KAjBU;AAsBjBG,WAAO;AACHplB,cAAM,OADH;AAEHvJ,YAAI,OAFD;AAGHwuB,cACI;AAJD,KAtBU;AA4BjBI,cAAU;AACNrlB,cAAM,UADA;AAENvJ,YAAI,UAFE;AAGNwuB,cACI;AAJE,KA5BO;AAkCjBK,YAAQ;AACJtlB,cAAM,QADF;AAEJvJ,YAAI,QAFA;AAGJwuB,cACI;AAJA,KAlCS;AAwCjBM,YAAQ;AACJvlB,cAAM,QADF;AAEJvJ,YAAI,QAFA;AAGJwuB,cACI;AAJA,KAxCS;AA8CjBO,QAAI;AACAxlB,cAAM,IADN;AAEAvJ,YAAI,IAFJ;AAGAwuB,cAAM;AAHN,KA9Ca;AAmDjBQ,UAAM;AACFzlB,cAAM,MADJ;AAEFvJ,YAAI,MAFF;AAGFwuB,cACI;AAJF,KAnDW;AAyDjBS,UAAM;AACF1lB,cAAM,MADJ;AAEFvJ,YAAI,MAFF;AAGFwuB,cACI;AAJF,KAzDW;AA+DjBU,YAAQ;AACJ3lB,cAAM,QADF;AAEJvJ,YAAI,QAFA;AAGJwuB,cACI;AAJA,KA/DS;AAqEjBW,WAAO;AACH5lB,cAAM,OADH;AAEHvJ,YAAI,OAFD;AAGHwuB,cACI;AAJD,KArEU;AA2EjBY,SAAK;AACD7lB,cAAM,KADL;AAEDvJ,YAAI;AAFH,KA3EY;AA+EjBqvB,UAAM;AACF9lB,cAAM,MADJ;AAEFvJ,YAAI;AAFF,KA/EW;AAmFjBsvB,cAAU;AACN/lB,cAAM,UADA;AAENvJ,YAAI;AAFE,KAnFO;AAuFjBuvB,UAAM,EAAEhmB,MAAM,MAAR,EAAgBvJ,IAAI,MAApB,EAvFW;AAwFjBwvB,UAAM,EAAEjmB,MAAM,MAAR,EAAgBvJ,IAAI,MAApB,EAxFW;AAyFjByvB,UAAM;AACFlmB,cAAM,MADJ;AAEFvJ,YAAI,MAFF;AAGFwuB,cACI;AAJF,KAzFW;AA+FjBkB,WAAO,EAAEnmB,MAAM,OAAR,EAAiBvJ,IAAI,OAArB,EA/FU;AAgGjB2vB,cAAU,EAAEpmB,MAAM,UAAR,EAAoBvJ,IAAI,UAAxB,EAhGO;AAiGjB4vB,YAAQ,EAAErmB,MAAM,QAAR,EAAkBvJ,IAAI,QAAtB,EAjGS;AAkGjB6vB,aAAS;AACLtmB,cAAM,SADD;AAELvJ,YAAI,SAFC;AAGLwuB,cACI;AAJC,KAlGQ;AAwGjBsB,YAAQ,EAAEvmB,MAAM,QAAR,EAAkBvJ,IAAI,QAAtB,EAxGS;AAyGjB+vB,UAAM,EAAExmB,MAAM,MAAR,EAAgBvJ,IAAI,MAApB,EAzGW;AA0GjBgwB,aAAS,EAAEzmB,MAAM,SAAR,EAAmBvJ,IAAI,SAAvB,EA1GQ;AA2GjBiwB,iBAAa,EAAE1mB,MAAM,aAAR,EAAuBvJ,IAAI,aAA3B,EA3GI;AA4GjBkwB,UAAM,EAAE3mB,MAAM,MAAR,EAAgBvJ,IAAI,MAApB,EA5GW;AA6GjBmwB,UAAM,EAAE5mB,MAAM,MAAR,EAAgBvJ,IAAI,MAApB,EA7GW;AA8GjBowB,aAAS,EAAE7mB,MAAM,SAAR,EAAmBvJ,IAAI,SAAvB,EA9GQ;AA+GjBqwB,YAAQ,EAAE9mB,MAAM,QAAR,EAAkBvJ,IAAI,QAAtB,EA/GS;AAgHjBswB,UAAM,EAAE/mB,MAAM,MAAR,EAAgBvJ,IAAI,MAApB,EAhHW;AAiHjBuwB,WAAO,EAAEhnB,MAAM,OAAR,EAAiBvJ,IAAI,OAArB,EAjHU;AAkHjBwwB,aAAS,EAAEjnB,MAAM,SAAR,EAAmBvJ,IAAI,SAAvB,EAlHQ;AAmHjBywB,UAAM,EAAElnB,MAAM,MAAR,EAAgBvJ,IAAI,MAApB;AAnHW,CAAd;;kBAsHQ;AACX0wB,qBAAiB;AACbC,gBAAQ,QADK;AAEbC,eAAO,OAFM;AAGbC,kBAAU,UAHG;AAIbC,eAAO,OAJM;AAKbC,kBAAU;AALG,KADN;AAQXjD,sBARW;AASXQ;AATW,C;;;;;;;;;;;ACxJf,oBAAoB,eAAe,uFAAuF,WAAW,gDAAgD,KAAK,MAAM,cAAc,4DAA4D,aAAa,4UAA4U,UAAU,oBAAoB,MAAM,iBAAiB,KAAK,qBAAqB,MAAM,UAAU,UAAU,gEAAgE,aAAa,KAAK,MAAM,iBAAiB,KAAK,MAAM,KAAK,MAAM,aAAa,2IAA2I,KAAK,E;;;;;;;;;;;ACAx+B,8E;;;;;;;;;;;ACAA,wI;;;;;;;;;;;;;;;;;;ACCA;;;;;;kBAEe0C,qBAAWh0B,MAAX,CAAkB;AAC7B2N,mBAD6B,6BACX;AACd,eAAO;AACHsmB,qBAAS;AADN,SAAP;AAGH;AAL4B,CAAlB,C;;;;;;;;;;;;;;;;;;ACFf;;;;;;kBAEet5B,WAAWgU,cAAX,CAA0B3O,MAA1B,CAAiC;AAC5CoN,aAD4C,uBAChC;AACR,6CAAkC,KAAK3S,OAAL,CAAau2B,KAAb,IAAsB,EAAxD;AACH,KAH2C;;;AAK5CjkB,cAAU,KALkC;;AAO5CO,eAAW4mB,8BAPiC;;AAS5CvK,qBAAiB;AACb,sBAAc;AADD,KAT2B;;AAa5CwK,wBAb4C,gCAavBxxB,KAbuB,EAahB;AACxB,aAAKnB,OAAL,CAAa,YAAb,EAA2BmB,KAA3B;AACH;AAf2C,CAAjC,C;;;;;;;;;;;;;;;;;;ACFf;;;;;;kBAEeqxB,qBAAWh0B,MAAX,CAAkB;AAC7B2nB,cAAU;AACNhX,eAAO;AADD,KADmB;;AAK7BxC,YAL6B,sBAKlB;AACP,YAAI,KAAKxL,KAAL,CAAWxE,GAAX,CAAe,MAAf,MAA2B,UAA/B,EAA2C;AACvC,iBAAK0S,EAAL,CAAQmS,GAAR,CAAY,EAAEoR,QAAQ,KAAV,EAAiBC,eAAe,MAAhC,EAAZ;AACH;AACJ;AAT4B,CAAlB,C;;;;;;;;;;;;;;;;;;ACHf;;;;AACA;;;;kBAEe15B,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC+M,cAAUC,WAAWC,OAAX,CAAmBF,gBAAnB,CADwB;;AAGlCK,aAHkC,uBAGtB;AACR,YAAMknB,gBAAgB,KAAK3xB,KAAL,CAAWxE,GAAX,CAAe,UAAf,CAAtB;AACA,YAAMo2B,eAAezD,eAASwD,aAAT,KAA2BxD,eAASC,IAAzD;;AAEA,eAAUwD,aAAavD,KAAvB,UAAgC,KAAKruB,KAAL,CAAWxE,GAAX,CAAe,OAAf,KAA2B,EAA3D;AACH;AARiC,CAAvB,C;;;;;;;;;;;;;;;;;;ACFf;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;kBAEexD,WAAWgU,cAAX,CAA0B3O,MAA1B,CAAiC;AAC5CoN,eAAW,qCADiC;;AAG5CL,cAAUC,WAAWC,OAAX,CAAmBF,+BAAnB,CAHkC;;AAK5CO,aAL4C,qBAKlC3K,KALkC,EAK3B;AACb,gBAAQA,MAAMxE,GAAN,CAAU,MAAV,CAAR;AACI,iBAAKq2B,eAAKd,eAAL,CAAqBC,MAA1B;AACI,uBAAOc,8BAAP;AACJ,iBAAKD,eAAKd,eAAL,CAAqBE,KAA1B;AACI,uBAAOc,+BAAP;AACJ,iBAAKF,eAAKd,eAAL,CAAqBG,QAA1B;AACI,uBAAOc,6BAAP;AACJ,iBAAKH,eAAKd,eAAL,CAAqBI,KAA1B;AACI,uBAAOc,0BAAP;AACJ,iBAAKJ,eAAKd,eAAL,CAAqBK,QAA1B;AACI,uBAAOc,iCAAP;AACJ;AACI,uBAAOJ,8BAAP;AAZR;AAcH,KApB2C;AAsB5C/O,oBAtB4C,8BAsBzB;AACf,eAAO;AACH1V,oBAAQ,KAAKgD,SAAL,CAAe,QAAf;AADL,SAAP;AAGH,KA1B2C;;;AA4B5C2W,qBAAiB;AACb,wBAAgB;AADH,KA5B2B;;AAgC5CmL,iBAhC4C,yBAgC9BnyB,KAhC8B,EAgCvB;AACjB,aAAKnB,OAAL,CAAa,gBAAb,EAA+BmB,KAA/B;AACH;AAlC2C,CAAjC,C;;;;;;;;;;;;;;;;;;ACRf;;;;;;kBAEeqxB,qBAAWh0B,MAAX,CAAkB;AAC7BmN,YAAQ;AACJwD,eAAO;AADH,KADqB;;AAK7BmkB,iBAL6B,2BAKb;AACZ,aAAKtzB,OAAL,CAAa,cAAb,EAA6B,KAAKmB,KAAlC;AACH;AAP4B,CAAlB,C;;;;;;;;;;;;;;;;;;ACFf;;;;AACA;;;;;;kBAEehI,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC+M,cAAU,KADwB;;AAGlCoB,YAHkC,sBAGvB;AACP,aAAK4mB,IAAL,GAAY1mB,KAAKC,QAAL,CAAcC,OAAd,CAAsBC,cAAtB,CAAqC;AAC7CC,wBAAYumB,8BADiC;AAE7CtmB,uBAAWumB,6BAFkC;AAG7CrmB,8BAAkB;AACd1O,4BAAY,IAAI7C,SAAS0C,UAAb,CAAwB,KAAK4C,KAAL,CAAWxE,GAAX,CAAe,OAAf,CAAxB,CADE;AAEd6yB,uBAAO,KAAKruB,KAAL,CAAWxE,GAAX,CAAe,eAAf;AAFO,aAH2B;AAO7C+2B,+BAAmB;AACfvyB,uBAAO,KAAKA;AADG;AAP0B,SAArC,CAAZ;;AAYA,aAAK/B,QAAL,CAAc,KAAKm0B,IAAnB,EAAyB,kBAAzB,EAA6C,KAAKI,sBAAlD;AACA,aAAKtkB,EAAL,CAAQoW,MAAR,CAAe,KAAK8N,IAAL,CAAUhjB,MAAV,GAAmBwU,GAAlC;AACH,KAlBiC;AAoBlC4O,0BApBkC,kCAoBXhyB,IApBW,EAoBL;AACzB,aAAK3B,OAAL,CAAa,cAAb,EAA6B2B,KAAKR,KAAlC;AACA,aAAKoyB,IAAL,CAAUK,KAAV;AACH;AAvBiC,CAAvB,C;;;;;;;;;;;;;;;;;;ACHf;;;;;;AAEA,IAAM7lB,UAAU;AACZ8lB,aAAS;AADG,CAAhB;kBAIerB,qBAAWh0B,MAAX,CAAkB;AAC7BjF,QAAI;AACAu6B,eAAO;AADP,KADyB;;AAK7B3nB,mBAL6B,6BAKX;AACd,eAAO;AACH4nB,sBAAU;AADP,SAAP;AAGH,KAT4B;AAW7BpnB,YAX6B,sBAWlB;AACP,YAAI,KAAKxL,KAAL,CAAWxE,GAAX,CAAe,WAAf,CAAJ,EAAiC;AAC7B,iBAAKpD,EAAL,CAAQu6B,KAAR,CAAcxkB,SAAd,CAAwBC,MAAxB,CAA+BxB,QAAQ8lB,OAAvC;AACH;AACJ,KAf4B;;;AAiB7BloB,YAAQ;AACJwD,eAAO;AADH,KAjBqB;;AAqB7BmkB,iBArB6B,2BAqBb;AACZ,YAAMU,WAAW,CAAC,KAAK7yB,KAAL,CAAWxE,GAAX,CAAe,WAAf,CAAlB;AACA,aAAKwE,KAAL,CAAW+U,GAAX,CAAe,WAAf,EAA4B8d,QAA5B;AACA,aAAKh0B,OAAL,CAAa,cAAb,EAA6B,KAAKmB,KAAlC;AACH;AAzB4B,CAAlB,C;;;;;;;;;;;;;;;;;;ACNf;;;;;;;;kBAEeqxB,qBAAWh0B,MAAX,CAAkB;AAC7BmN,YAAQ;AACJ,4BAAoB;AADhB,KADqB;;AAK7BgB,YAL6B,sBAKlB;AACP,aAAKsnB,UAAL;AACH,KAP4B;AAS7BC,gBAT6B,0BASd;AACX,aAAKh2B,KAAL,CAAWwP,IAAX;AACH,KAX4B;AAa7BymB,iBAb6B,2BAab;AACZ,aAAKj2B,KAAL,CAAW01B,KAAX;AACH,KAf4B;AAiBvBK,cAjBuB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBnBzlB,kCAlBmB,GAkBV,KAAKgD,SAAL,CAAe,QAAf,CAlBU;AAmBnBvY,mCAnBmB,GAmBT,KAAKkI,KAAL,CAAWxE,GAAX,CAAe,SAAf,CAnBS;;;AAqBzB,iCAAKuB,KAAL,GAAa2O,KAAKC,QAAL,CAAcC,OAAd,CAAsBqnB,YAAtB,CAAmC;AAC5C/E,8CAAc,IAD8B;AAE5CpiB,4CAAYhU,QAAQgU,UAFwB;AAG5CC,2CAAWjU,QAAQiU,SAHyB;AAI5CE,kDAAkBnU,OAJ0B;AAK5Cm2B,4CAAY,OALgC;AAM5CiF,iDAAiB;AAN2B,6BAAnC,CAAb;;AASA,iCAAKj1B,QAAL,CAAc,KAAKlB,KAAnB,EAA0B,iBAA1B,EAA6C,iBAAS;AAClD,sCAAKi2B,aAAL;AACA3lB,uCAAOkC,OAAP,CAAe,YAAf,EAA6BvP,MAAMK,EAAnC;AACH,6BAHD;AAIA,iCAAK6N,EAAL,CAAQoW,MAAR,CAAe,KAAKvnB,KAAL,CAAWqS,MAAX,GAAoBwU,GAAnC;;AAlCyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAqC7BrB,aArC6B,uBAqCjB;AACR,aAAKxlB,KAAL,CAAWgc,OAAX;AACH;AAvC4B,CAAlB,C;;;;;;;;;;;;;;;;;kBCFA/gB,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClCoN,eAAW,eADuB;;AAGlCL,cAAU;AAHwB,CAAvB,C;;;;;;;;;;;;;;;;;;ACDf;;;;AACA;;;;;;kBAEepS,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC+M,cAAUC,WAAWC,OAAX,CAAmBF,mBAAnB,CADwB;;AAGlChS,QAAI;AACA+6B,oBAAY,iBADZ;AAEAC,qBAAa,kBAFb;AAGAC,yBAAiB,uBAHjB;AAIAC,uBAAe;AAJf,KAH8B;;AAUlC9oB,YAAQ;AACJ,qCAA6B,+BADzB;AAEJ,mCAA2B;AAFvB,KAV0B;;AAelC+oB,iCAfkC,2CAeF;AAC5BC,gCAAcC,YAAd,CAA2B,KAAKr7B,EAAL,CAAQ+6B,UAAnC,EAA+C,KAAK/6B,EAAL,CAAQg7B,WAAvD;AACH,KAjBiC;AAmBlCM,8BAnBkC,wCAmBL;AACzBF,gCAAcG,OAAd,CAAsB,KAAKv7B,EAAL,CAAQ+6B,UAA9B,EAA0C,KAAK/6B,EAAL,CAAQg7B,WAAlD;AACH;AArBiC,CAAvB,C;;;;;;;;;;;ACHf,wS;;;;;;;;;;;;;;;;;;;;ACCA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;AAGI,sBAA0B;AAAA,YAAdt7B,OAAc,uEAAJ,EAAI;;AAAA;;AACtB,YAAM87B,qBAAqBn0B,EAAEgI,MAAF,CAAS,IAAT,EAAe,oBAAf,KAAwC,EAAnE;AACA,aAAKmsB,kBAAL,GAA0B,IAA1B;AACA,aAAKp6B,WAAL,GAAmB,KAAKA,WAAL,IAAoBtB,OAAOC,WAAP,CAAmBoB,kBAA1D;AACA,aAAKiH,IAAL,GAAY,IAAI,KAAKhH,WAAT,CAAqBo6B,kBAArB,CAAZ;AACA,aAAKC,YAAL,GAAoB,KAAKrzB,IAAL,CAAUic,SAAV,CAAoB,cAApB,CAApB;AACA3kB,gBAAQg8B,MAAR,CAAepX,IAAf,CAAoB,KAAKlc,IAAzB,EANsB,CAMU;;AAEhC5G,kCAAgB8G,EAAhB,CAAmB,SAAnB,EAA8B,KAAKqzB,aAAnC;AACA,YAAIv5B,2BAAiBw5B,WAAjB,EAAJ,EAAoC;AAChCx5B,uCAAiBkG,EAAjB,CAAoB,sCAApB,EAA4D,KAAKuzB,mBAAjE;AACH;AACD,aAAKC,QAAL,GAAgBp8B,QAAQ6Y,MAAR,CAAetQ,EAA/B;AACH;;;;8BAEK8zB,qB,EAAgC;AAClC,gBAAI10B,EAAE20B,UAAF,CAAa,KAAKC,OAAlB,CAAJ,EAAgC;AAC5B,oBAAMC,qBAAqB,KAAKD,OAAL,EAA3B;;AAEA,oBAAI,OAAOC,kBAAP,KAA8B,SAAlC,EAA6C;AACzC,2BAAOA,kBAAP;AACH;;AAED,oBAAIH,qBAAJ,EAA2B;AACvB,2BAAO,KAAP;AACH;;AAED,uBAAOzoB,KAAKuM,QAAL,CAAcC,cAAd,CAA6Bqc,iBAA7B,CAA+CD,kBAA/C,CAAP;AACH;;AAED,mBAAO,IAAP;AACH;;;mCAEUE,S,EAAoB;AAC3B,iBAAKh0B,IAAL,CAAUi0B,gBAAV,CAA2BD,SAA3B;AACA,gBAAIA,cAAc,KAAlB,EAAyB;AACrB,qBAAKE,eAAL;AACH;AACJ;;;qCAEYC,O,EAAiB1Z,I,EAAM;AAChCrhB,sCAAgBg7B,mBAAhB,CAAoCD,OAApC,EAA6C1Z,IAA7C;AACH;;;6CAEoBA,I,EAAM;AACvBzgB,uCAAiBq6B,IAAjB,CAAsB,KAAKX,QAA3B,EAAqCjZ,IAArC;AACH;;;;gGAEuB8F,a,EAAe+T,U;;;;;;;;;AAC3Bt0B,oC,GAA4FugB,a,CAA5FvgB,I,EAAMu0B,S,GAAsFhU,a,CAAtFgU,S,EAAWC,qB,GAA2EjU,a,CAA3EiU,qB,EAAuBC,S,GAAoDlU,a,CAApDkU,S,EAAWC,U,GAAyCnU,a,CAAzCmU,U,EAAYC,a,GAA6BpU,a,CAA7BoU,a,EAAeC,S,GAAcrU,a,CAAdqU,S;AAChFC,4C,GAAe,KAAKC,uBAAL,CAA6BR,UAA7B,EAAyCM,SAAzC,EAAoDD,aAApD,C;;qCAEjBpU,cAActmB,G;;;;;;uCACgB,KAAK86B,SAAL,CAAexU,aAAf,EAA8BsU,YAA9B,EAA4CP,UAA5C,C;;;;AAAtB7Z,oC,SAAAA,I;AAAMlI,qC,SAAAA,K;;AACd,oCAAIA,UAAU,IAAd,EAAoB;AAChB,wCAAIkiB,SAAJ,EAAe;AACLO,sDADK,GACY,IAAIP,SAAJ,EADZ;;AAEX,4CAAIC,UAAJ,EAAgB;AACZ91B,mDAAOwJ,IAAP,CAAYssB,UAAZ,EAAwB52B,OAAxB,CAAgC;AAAA,uDAAO,MAAKL,QAAL,CAAcu3B,cAAd,EAA8BtsB,GAA9B,EAAmCgsB,WAAWhsB,GAAX,CAAnC,CAAP;AAAA,6CAAhC;AACH;AACD,6CAAK2qB,YAAL,CAAkBnX,IAAlB,CAAuB8Y,cAAvB;AACH;AACJ;AACD,oCAAIT,SAAJ,EAAe;AACL/0B,yCADK,GACG,IAAI+0B,SAAJ,CAAc9Z,IAAd,EAAoB,EAAEpX,OAAO,IAAT,EAApB,CADH;;;AAGX,wCAAIrD,IAAJ,EAAU;AACAi1B,kDADA,GACaT,wBAAwB51B,OAAOC,MAAP,CAAc,EAAEW,YAAF,EAAd,EAAyBg1B,qBAAzB,CAAxB,GAA0E,EAAEh1B,YAAF,EADvF;;;AAGNy1B,mDAAWC,SAAX,GAAuB,KAAKC,YAA5B;;AAEMH,uDALA,GAKiB,IAAIh1B,IAAJ,CAASi1B,UAAT,CALjB;;AAMN,4CAAIP,UAAJ,EAAgB;AACZ91B,mDAAOwJ,IAAP,CAAYssB,UAAZ,EAAwB52B,OAAxB,CAAgC;AAAA,uDAAO,MAAKL,QAAL,CAAcu3B,eAAd,EAA8BtsB,GAA9B,EAAmCgsB,WAAWhsB,GAAX,CAAnC,CAAP;AAAA,6CAAhC;AACH;AACDssB,wDAAejmB,OAAf,GAAyB,KAAKqmB,2BAAL,CAAiCj1B,IAAjC,CAAsC,IAAtC,CAAzB;AACA,6CAAKkzB,YAAL,CAAkBnX,IAAlB,CAAuB8Y,eAAvB;AACH;AACJ;;;;;AAEKx1B,sC,GAAQ,IAAI+0B,SAAJ,E;;;AAEd,oCAAIv0B,IAAJ,EAAU;AACAi1B,+CADA,GACaT,wBAAwB51B,OAAOC,MAAP,CAAc,EAAEW,aAAF,EAAd,EAAyBg1B,qBAAzB,CAAxB,GAA0E,EAAEh1B,aAAF,EADvF;;;AAGNy1B,gDAAWE,YAAX,GAA0Bb,UAA1B;AACMU,oDAJA,GAIiB,IAAIh1B,IAAJ,CAASi1B,WAAT,CAJjB;;AAKN,wCAAIP,UAAJ,EAAgB;AACZ91B,+CAAOwJ,IAAP,CAAYssB,UAAZ,EAAwB52B,OAAxB,CAAgC;AAAA,mDAAO,MAAKL,QAAL,CAAcu3B,gBAAd,EAA8BtsB,GAA9B,EAAmCgsB,WAAWhsB,GAAX,CAAnC,CAAP;AAAA,yCAAhC;AACH;AACDssB,qDAAejmB,OAAf,GAAyB,KAAKqmB,2BAAL,CAAiCj1B,IAAjC,CAAsC,IAAtC,CAAzB;AACA,yCAAKkzB,YAAL,CAAkBnX,IAAlB,CAAuB8Y,gBAAvB;AACH;;;;;;;;;;;;;;;;;;sCAIKva,I,EAAM;AAChB,gBAAI,KAAK4a,cAAL,IAAuB,KAAKA,cAAL,CAAoB5a,KAAK5a,EAAzB,CAA3B,EAAyD;AACrD,qBAAKw1B,cAAL,CAAoB5a,KAAK5a,EAAzB,EAA6B4a,KAAKA,IAAlC;AACH;AACJ;;;4CAEmBA,I,EAAM;AACtB,gBAAI,KAAK4a,cAAL,IAAuB,KAAK3B,QAAL,KAAkBjZ,KAAK5a,EAA9C,IAAoD,KAAKw1B,cAAL,CAAoBC,kBAA5E,EAAgG;AAC5F,qBAAKD,cAAL,CAAoBC,kBAApB,CAAuCpuB,IAAvC,CAA4C,IAA5C,EAAkDuT,KAAKA,IAAvD;AACH;AACJ;;AAED;;;;;kGACgB8F,a,EAAesU,Y,EAAcP,U;;;;;;AACjCiB,6C,GAAwChV,a,CAAxCgV,a,EAAeC,S,GAAyBjV,a,CAAzBiV,S,EAAWC,S,GAAclV,a,CAAdkV,S;AAC5BC,sC,GAASnV,cAActmB,GAAd,CAAkBgB,KAAlB,CAAwB,GAAxB,C;AACT06B,wC,GAAWpV,cAAcqV,eAAd,KAAkC,K;;;AAEnDD,4CAAY,KAAK31B,IAAL,CAAUi0B,gBAAV,CAA2B,IAA3B,CAAZ;;AAEU4B,yC,GAAYC,KAAKJ,OAAO,CAAP,CAAL,EAAgBA,OAAO,CAAP,CAAhB,C;;qCACdG,S;;;;;AACME,iD,GAAoBr+B,OAAOs+B,OAAP,CAAetmB,IAAf,CAAoB;AAAA,2CAAmBumB,gBAAgBhsB,SAAhB,KAA8ByrB,OAAO,CAAP,CAA9B,IAA2CO,gBAAgBh2B,UAAhB,KAA+By1B,OAAO,CAAP,CAA7F;AAAA,iCAApB,C;AAEpBQ,2C,GAAcH,kBAAkBI,U;AAChCC,0C,GAAaL,kBAAkBK,U;;;AAErC9B,8CAAc,KAAK+B,YAAL,CAAkB/B,UAAlB,EAA8B8B,UAA9B,CAAd;;;uCAEmBP,UAAUt7B,KAAV,CAAgB,IAAhB,EAAsBs6B,YAAtB,C;;;AAAbpa,oC;;AACN8a,iDAAiBA,cAAcE,SAA/B,IAA4Cv9B,mCAAyBiJ,GAAzB,CAA6Bo0B,cAAcE,SAA3C,CAA5C;AACAA,6CAAaA,UAAUvuB,IAAV,CAAe,IAAf,EAAqBuT,IAArB,EAA2Boa,YAA3B,CAAb;kEACO,EAAEpa,UAAF,EAAQyb,wBAAR,EAAqB3jB,OAAO,IAA5B,E;;;sCAEL,IAAIpT,KAAJ,CAAU,6BAAV,C;;;;;;AAENo2B,iDAAiBA,cAAcC,SAA/B,IAA4Ct9B,mCAAyBiJ,GAAzB,CAA6Bo0B,cAAcC,SAA3C,CAA5C;AACAA,6CAAaA,UAAUtuB,IAAV,CAAe,IAAf,eAAb;kEACO,EAAEuT,MAAM,IAAR,EAAcyb,aAAa,IAA3B,EAAiC3jB,mBAAjC,E;;;;;AAEPojB,4CAAY,KAAK31B,IAAL,CAAUi0B,gBAAV,CAA2B,KAA3B,CAAZ;;;;;;;;;;;;;;;;;;;;kGAI0BqC,S,EAAWC,W;;;;;;;AACnCC,6C,GAAgB,KAAKC,QAAL,CAAcH,SAAd,C;;qCAClBE,a;;;;;;uCAC2C,KAAKzB,SAAL,CAAeyB,aAAf,EAA8B,CAACD,YAAY9b,IAAb,CAA9B,C;;;;AAAnCA,oC,SAAAA,I;AAAMyb,2C,SAAAA,W;AAAa3jB,qC,SAAAA,K;;sCAEvBA,UAAU,I;;;;;+CACF2jB,W;kEACC,M,yBAQA,Q,yBAOA,K,yBAIA,K;;;;AAlBD,oCAAIK,YAAY/2B,KAAhB,EAAuB;AACnB,wCAAI+2B,YAAY/2B,KAAZ,CAAkBA,KAAtB,EAA6B;AACnBgW,gDADmB,GACR,IAAI+gB,YAAY/2B,KAAZ,CAAkBA,KAAtB,CAA4BZ,OAAOC,MAAP,CAAc,EAAEgB,IAAI4a,IAAN,EAAd,EAA4B8b,YAAY9b,IAAxC,CAA5B,CADQ;;AAEzB8b,oDAAY/2B,KAAZ,CAAkB2B,GAAlB,CAAsBqU,QAAtB,EAAgC,EAAEtU,QAAQ,KAAV,EAAhC;AACH;AACJ;;;;AAGKw1B,uD,GAA0BH,YAAY9b,I;;AAC5C,oCAAI8b,YAAY/2B,KAAhB,EAAuB;AACnB+2B,gDAAY/2B,KAAZ,CAAkB0B,MAAlB,CAAyBw1B,uBAAzB;AACH;;;;AAIDH,4CAAY/2B,KAAZ,IAAqB+2B,YAAY/2B,KAAZ,CAAkB+U,GAAlB,CAAsB,IAAIra,SAASyI,KAAb,CAAmB4zB,YAAY9b,IAA/B,CAAtB,EAA4D,EAAEvZ,QAAQ,KAAV,EAA5D,CAArB;;;;kEAIOuZ,I;;;;;;kEAMhB,I;;;;;;;;;;;;;;;;;;qCAGE6Z,U,EAAY8B,U,EAAY;AAAA;;AACjC,iBAAKjB,YAAL,GAAoB,EAApB;;AAEAiB,uBAAWt4B,OAAX,CAAmB,UAAC64B,KAAD,EAAQr3B,CAAR;AAAA,uBAAe,OAAK61B,YAAL,CAAkBwB,MAAM1f,IAAxB,IAAgCqd,WAAWh1B,CAAX,CAA/C;AAAA,aAAnB;AACH;;;gDAEuBg1B,U,EAAYM,S,EAAWD,a,EAAe;AAC1D,gBAAIA,iBAAiBC,SAArB,EAAgC;AAC5B,oBAAMgC,cAAc,KAAK/mB,SAAL,CAAe,QAAf,EAAyBgnB,aAAzB,CAAuClC,aAAvC,CAApB;AACA,oBAAMe,SAASkB,YAAY37B,KAAZ,CAAkB,GAAlB,CAAf;AACA,oBAAM67B,iBAAiB,EAAvB;;AAEAlC,0BAAU92B,OAAV,CAAkB;AAAA,2BAAS43B,OAAOxwB,OAAP,CAAeyxB,KAAf,IAAwB,CAAC,CAAzB,IAA8BG,eAAep3B,IAAf,CAAoB40B,WAAWoB,OAAOxwB,OAAP,CAAeyxB,KAAf,IAAwB,CAAnC,CAApB,CAAvC;AAAA,iBAAlB;;AAEA,uBAAOG,cAAP;AACH;;AAED,mBAAOxC,UAAP;AACH;;;0CAEiB;AACd,gBAAI,KAAKyC,cAAT,EAAyB;AACrBC,2CAAiBC,wBAAjB,CAA0C,KAAKF,cAA/C;AACH;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;AC9ML;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;IAAYG,S;;AACZ;;;;AACA;;;;AAEA;;;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEA;;;;AAIA,IAAMC,OAAO;AACThd,kCADS;AAET1iB,oCAFS;AAGTkC,0CAHS;AAITy9B,wDAJS;AAKTC,OAAKC,aALI;AAMTC,kBAAgBv/B,sCANP;AAOT;;;;;AAKAyf,YAAU;AACNC,4CADM;AAEN;;;;;AAKAjf,0CAPM;AAQNC,sDARM;AASNE,sCATM;AAUN;;;;;;AAMAd,oDAhBM;AAiBN0/B,4CAjBM;AAkBNh/B,sCAlBM;AAmBNa,0CAnBM;AAoBNmB;AApBM,GAZD;AAkCT;;;;;AAKAyjB,eAAa;AACT;;;;;AAKA5jB,eAAW;AACP6O,6BAAuBuuB;AADhB,KANF;AAST96B,8DATS;AAUTuG;AAVS,GAvCJ;AAmDT;;;;;AAKAnE,UAAQ;AACJ1E,eAAW;AACPq9B,wDADO;AAEPxuB,4DAFO;AAGPrH,sDAHO;AAIPuC;AAJO;AADP,GAxDC;AAgETykB,SAAO;AACHxuB,eAAW;AACPs9B;AADO,KADR;AAIHC,sCAJG;AAKH9O,0CALG;AAMH+O;AANG,GAhEE;AAwET;;;;;AAKA1sB,YAAU2sB,kBA7ED;;AA+ETzM,UAAQ6L,SA/EC;AAgFT;;;;;AAKA56B,QAAMy7B,cArFG;AAsFT;;;;;AAKA14B,QAAM24B,cA3FG;AA4FT;;;;;AAKAhU,SAAOiU,eAjGE;AAkGT;;;;;AAKA5G,QAAM6G,cAvGG;AAwGTrjB,cAAY;AACRsjB,gDADQ;AAERxW,kCAFQ;AAGRyW,sCAHQ;AAIRC,4CAJQ;AAKRC;AALQ;AAxGH,CAAb;;AAiHA5gC,OAAOwT,IAAP,GAAcisB,IAAd;;kBAEeA,I;AACR,IAAME,oBAAMF,KAAKE,GAAjB;AACA,IAAMhM,0BAAS8L,KAAK9L,MAApB;AACA,IAAM5T,8BAAW0f,KAAK1f,QAAtB;AACA,IAAMwG,oCAAckZ,KAAKlZ,WAAzB;AACA,IAAMlf,0BAASo4B,KAAKp4B,MAApB;AACA,IAAM8pB,wBAAQsO,KAAKtO,KAAnB;AACA,IAAM1d,8BAAWgsB,KAAKhsB,QAAtB;AACA,IAAM7O,sBAAO66B,KAAK76B,IAAlB;AACA,IAAM+C,sBAAO83B,KAAK93B,IAAlB;AACA,IAAM2kB,wBAAQmT,KAAKnT,KAAnB;AACA,IAAMqN,sBAAO8F,KAAK9F,IAAlB,C;;;;;;;;;;;;;;;;;;AC7LP;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;;;;;kBAOe,0CAA2C;AACtD;;;;;;;;;;AAUA9D,cAXsD,wBAW7B;AAAA,YAAdj2B,OAAc,uEAAJ,EAAI;;AACrB,YAAIyF,aAAazF,QAAQk2B,KAAzB;AACA,YAAI,EAAEzwB,sBAAsB7C,SAAS0C,UAAjC,CAAJ,EAAkD;AAC9CG,yBAAa,IAAI7C,SAAS0C,UAAb,CAAwBG,UAAxB,CAAb;AACH;;AAED,YAAIw7B,uBACEjhC,QAAQkhC,WAAR,IACC,IAAIt+B,SAASyI,KAAb,CAAmB;AAClByG,kBAAM9R,QAAQ8R;AADI,SAAnB,CAFP;;AAMA,YAAI,CAAC9R,QAAQkhC,WAAb,EAA0B;AACtB,gBAAMC,kBAAkB17B,WAAW27B,SAAX,CAAqB,EAAE7gB,SAAS,IAAX,EAArB,CAAxB;AACA,gBAAI4gB,eAAJ,EAAqB;AACjBF,uCAAuBE,eAAvB;AACA17B,2BAAWmE,MAAX,CAAkBq3B,oBAAlB;AACH;AACJ;;AAED,eAAO,KAAK9F,YAAL,CACH7zB,OAAOC,MAAP,CACI;AACIyM,wBAAYqtB,2BADhB;AAEI5G,+BAAmB;AACfvyB,uBAAO+4B;AADQ,aAFvB;AAKIhtB,uBAAWqtB,uBALf;AAMIntB,8BAAkB;AACd1O;AADc;AANtB,SADJ,EAWIzF,OAXJ,CADG,CAAP;AAeH,KA9CqD;;;AAgDtD;;;;;;;AAOAuhC,sBAvDsD,8BAuDnCvhC,OAvDmC,EAuD1B;AACxB,YAAMshB,WAAW;AACbkgB,kBAAM,IADO;AAEb7H,oBAAQ;AAFK,SAAjB;AAIA,eAAO,KAAKwB,YAAL,CAAkB7zB,OAAOC,MAAP,CAAc+Z,QAAd,EAAwBthB,OAAxB,CAAlB,CAAP;AACH,KA7DqD;;;AA+DtD;;;;;;AAMAm7B,gBArEsD,wBAqEzCn7B,OArEyC,EAqEhC;AAClB,eAAO,IAAIyhC,oBAAJ,CAAezhC,OAAf,CAAP;AACH,KAvEqD;;;AAyEtD;;;;;;AAMA+T,kBA/EsD,0BA+EvC/T,OA/EuC,EA+E9B;AACpB,eAAO,IAAI0hC,sBAAJ,CAAiB1hC,OAAjB,CAAP;AACH;AAjFqD,C;;;;;;;;;;;;;;;;;;ACZ1D;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;kBAEe,kCAAmC;AAC9C;;;;AAIAuxB,WAAO;AACH;;;;AAIAxuB,mBAAW;AACP4+B;AADO,SALR;AAQHF,wCARG;AASHC,4CATG;AAUHE,8CAVG;AAWHC,4CAXG;AAYHP,8CAZG;AAaHD;AAbG,KALuC;AAoB9CvtB;AApB8C,C;;;;;;;;;;;ACTlD,oBAAoB,MAAM,E;;;;;;;;;;;ACA1B,oBAAoB,SAAS,oBAAoB,KAAK,wCAAwC,UAAU,KAAK,MAAM,UAAU,MAAM,mDAAmD,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM,aAAa,+CAA+C,SAAS,aAAa,KAAK,M;;;;;;;;;;;ACA1T,2E;;;;;;;;;;;;;;;;;;ACCA;;;;AAEA,IAAMqB,iBAAiB;AACnB2sB,cAAU14B,SADS;AAEnB24B,sBAAkB,IAFC;AAGnBC,YAAQ54B;AAHW,CAAvB;;kBAMelJ,WAAWmV,QAAX,CAAoB9P,MAApB,CAA2B;AACtC9E,cADsC,sBAC3BT,OAD2B,EAClB0I,IADkB,EACZ;AACtBkiB,uBAAQC,YAAR,CAAqB7qB,OAArB,EAA8B,QAA9B;;AAEA2H,UAAEpC,MAAF,CAAS,KAAKvF,OAAd,EAAuBmV,cAAvB,EAAuCxN,EAAEs6B,IAAF,CAAOjiC,WAAW,EAAlB,EAAsBsH,OAAOwJ,IAAP,CAAYqE,cAAZ,CAAtB,CAAvC;;AAEAxN,UAAEgO,OAAF,CAAU,IAAV,EAAgB,UAAhB;;AAEAjN,aAAKw5B,KAAL,GAAa,KAAKC,OAAL,CAAat5B,IAAb,CAAkB,IAAlB,CAAb;AACH,KATqC;AAWtC6J,UAXsC,oBAW7B;AACL,YAAItB,MAAM,MAAV;AACA,YAAI,KAAKpR,OAAL,CAAa8hC,QAAjB,EAA2B;AACvB1wB,yBAAW,KAAKpR,OAAL,CAAa8hC,QAAxB;AACH;AACD,mCACK1wB,GADL,EACW,UADX;AAGH,KAnBqC;AAqBtCsC,YArBsC,sBAqB3B;AACP,aAAK0uB,gBAAL,GAAwBrd,YAAxB,CAAqC,UAArC,EAAiD,CAAC,CAAlD;AACH,KAvBqC;AAyBtCqd,oBAzBsC,8BAyBnB;AACf,YAAI,KAAKpiC,OAAL,CAAa8hC,QAAjB,EAA2B;AACvB,mBAAO,KAAKz+B,CAAL,CAAO,KAAKrD,OAAL,CAAa8hC,QAApB,CAAP;AACH;AACD,eAAO,KAAK1rB,EAAZ;AACH,KA9BqC;AAgCtC+rB,WAhCsC,mBAgC9BE,SAhC8B,EAgCnB;AACf,YAAI,CAACA,SAAL,EAAgB;AACZ,iBAAKD,gBAAL,GAAwBF,KAAxB;AACH,SAFD,MAEO,IAAII,SAASC,aAAb,EAA4B;AAC/BD,qBAASC,aAAT,CAAuBC,gBAAvB,CAAwC,MAAxC,EAAgD,KAAKC,QAArD;AACH;AACD,aAAK/5B,IAAL,CAAUg6B,SAAV,GAAsB,IAAtB;AACH,KAvCqC;AAyCtCD,YAzCsC,sBAyC3B;AAAA;;AACP96B,UAAEg7B,KAAF,CAAQ,YAAM;AACV,kBAAKj6B,IAAL,CAAUg6B,SAAV,GAAsB,KAAtB;AACA,gBAAMhf,WAAW,MAAK1jB,OAAL,CAAagiC,MAA9B;AACA,gBAAIr6B,EAAEoD,QAAF,CAAW2Y,QAAX,CAAJ,EAA0B;AACtB,sBAAKhb,IAAL,CAAUgb,QAAV,EAAoB9T,IAApB,CAAyB,MAAKlH,IAA9B;AACH,aAFD,MAEO;AACHgb,yBAAS9T,IAAT,CAAc,MAAKlH,IAAnB;AACH;AACJ,SARD;AASA,YAAI45B,SAASC,aAAb,EAA4B;AACxBD,qBAASC,aAAT,CAAuBK,mBAAvB,CAA2C,MAA3C,EAAmD,KAAKH,QAAxD;AACH;AACJ;AAtDqC,CAA3B,C;;;;;;;;;;;;;;;;;;ACRf;;;;;;AAEA,IAAMI,iBAAiB,GAAvB;kBAEe3iC,WAAWmV,QAAX,CAAoB9P,MAApB,CAA2B;AACtC9E,cADsC,sBAC3BT,OAD2B,EAClB0I,IADkB,EACZ;AACtB,aAAKo6B,kBAAL,GAA0B,EAA1B;AACA,aAAKC,eAAL,GAAuBp7B,EAAEq7B,QAAF,CAAW,KAAKD,eAAL,CAAqBl6B,IAArB,CAA0B,IAA1B,CAAX,EAA4Cg6B,cAA5C,CAAvB;;AAEAn6B,aAAKu6B,uBAAL,GAA+B,KAAKC,yBAAL,CAA+Br6B,IAA/B,CAAoC,IAApC,CAA/B;AACAH,aAAKy6B,0BAAL,GAAkC,KAAKC,4BAAL,CAAkCv6B,IAAlC,CAAuC,IAAvC,CAAlC;AACH,KAPqC;AAStCq6B,6BATsC,qCASZ9sB,EATY,EASRsN,QATQ,EASE;AACpC,YAAI,KAAKof,kBAAL,CAAwBp7B,MAAxB,KAAmC,CAAvC,EAA0C;AACtC,iBAAKvB,QAAL,CAAc3F,4BAAd,EAAkC,uBAAlC,EAA2D,KAAKuiC,eAAhE;AACA,iBAAK58B,QAAL,CAAc3F,4BAAd,EAAkC,yBAAlC,EAA6D,KAAKuiC,eAAlE;AACA,iBAAK58B,QAAL,CAAc3F,4BAAd,EAAkC,yBAAlC,EAA6D,KAAKuiC,eAAlE;AACH;;AAED;;AAPoC,oCAQd3sB,GAAG4f,qBAAH,EARc;AAAA,YAQ5Bhf,IAR4B,yBAQ5BA,IAR4B;AAAA,YAQtBD,GARsB,yBAQtBA,GARsB;;AASpC,aAAK+rB,kBAAL,CAAwB16B,IAAxB,CAA6B;AACzBi7B,+BAAmB;AACfrsB,sBAAMtN,KAAK45B,KAAL,CAAWtsB,IAAX,CADS;AAEfD,qBAAKrN,KAAK45B,KAAL,CAAWvsB,GAAX;AAFU,aADM;AAKzBX,kBALyB;AAMzBsN;AANyB,SAA7B;AAQH,KA1BqC;AA4BtC0f,gCA5BsC,0CA4BE;AAAA,YAAXhtB,EAAW,uEAAN,IAAM;;AACpC,YAAI,CAACA,EAAL,EAAS;AACL,iBAAK0sB,kBAAL,GAA0B,EAA1B;AACH,SAFD,MAEO;AACH,iBAAKA,kBAAL,CAAwB9zB,MAAxB,CAA+B,KAAK8zB,kBAAL,CAAwBS,SAAxB,CAAkC;AAAA,uBAAKhnB,EAAEnG,EAAF,KAASA,EAAd;AAAA,aAAlC,CAA/B,EAAoF,CAApF;AACH;AACJ,KAlCqC;AAoCtC2sB,mBApCsC,6BAoCpB;AAAA;;AACdS,mBAAW,YAAM;AACb,gBAAI,MAAK96B,IAAL,CAAUgtB,WAAV,EAAJ,EAA6B;AACzB;AACH;AACD,kBAAKoN,kBAAL,CAAwBt8B,OAAxB,CAAgC,aAAK;AAAA,4CACX+V,EAAEnG,EAAF,CAAK4f,qBAAL,EADW;AAAA,oBACzBhf,IADyB,yBACzBA,IADyB;AAAA,oBACnBD,GADmB,yBACnBA,GADmB;;AAEjC,oBAAIrN,KAAK45B,KAAL,CAAWtsB,IAAX,MAAqBuF,EAAE8mB,iBAAF,CAAoBrsB,IAAzC,IAAiDtN,KAAK45B,KAAL,CAAWvsB,GAAX,MAAoBwF,EAAE8mB,iBAAF,CAAoBtsB,GAA7F,EAAkG;AAC9FwF,sBAAEmH,QAAF,CAAW9T,IAAX,CAAgB,MAAKlH,IAArB;AACH;AACJ,aALD;AAMH,SAVD,EAUG,EAVH;AAWH;AAhDqC,CAA3B,C;;;;;;;;;;;;;;;;;;ACJf;;;;;;AAEA;;;;;;;;;;;;kBAYexI,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClCk+B,aAAS,MADyB;;AAGlCnxB,cAAUC,WAAWC,OAAX,CAAmBF,uBAAnB,CAHwB;;AAKlCgC,iBAAa;AACTovB,gBAAQ;AADC;AALqB,CAAvB,C;;;;;;;;;;;;;;;;;;ACdf;;AACA;;;;AACA;;;;;;;;AAEA,IAAMb,iBAAiB,GAAvB;;AAEA,IAAM/tB,UAAU;AACZ6uB,UAAM,MADM;AAEZC,mBAAe,oBAFH;AAGZC,uBAAmB,yBAHP;AAIZC,iBAAa,kBAJD;AAKZC,sBAAkB,uBALN;AAMZC,wBAAoB;AANR,CAAhB;;AASA,IAAMC,uBAAuB,EAA7B;AACA,IAAMC,2BAA2B,GAAjC;;AAEA,IAAM9vB,gBAAgB;AAClB+vB,UAAM,MADY;AAElBC,QAAI;AAFc,CAAtB;;AAKA,IAAMC,gBAAgB;AAClBC,UAAM,MADY;AAElBC,kBAAc;AAFI,CAAtB;;AAKA,IAAMpvB,iBAAiB;AACnBqvB,cAAU,IADS;AAEnBC,sBAAkB,IAFC;AAGnBrwB,mBAAeA,cAAc+vB,IAHV;AAInBE,mBAAeA,cAAcE,YAJV;AAKnBxC,sBAAkB;AALC,CAAvB;;AAQA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBAsCe7hC,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC9E,cADkC,sBACvBT,OADuB,EACd;AAChB4qB,uBAAQC,YAAR,CAAqB7qB,OAArB,EAA8B,YAA9B;AACA4qB,uBAAQC,YAAR,CAAqB7qB,OAArB,EAA8B,WAA9B;;AAEA2H,UAAE2Z,QAAF,CAAW,KAAKthB,OAAhB,EAAyB2H,EAAEC,KAAF,CAAQuN,cAAR,CAAzB,EAAkDnV,OAAlD;;AAEA2H,UAAEgO,OAAF,CAAU,IAAV,EAAgB,MAAhB,EAAwB,OAAxB,EAAiC,UAAjC;;AAEA,aAAKmtB,kBAAL,GAA0B,EAA1B;AACA,aAAKC,eAAL,GAAuBp7B,EAAEq7B,QAAF,CAAW,KAAKD,eAAL,CAAqBl6B,IAArB,CAA0B,IAA1B,CAAX,EAA4Cg6B,cAA5C,CAAvB;AACH,KAXiC;;;AAalCvwB,cAAU,KAbwB;;AAelCK,aAfkC,uBAetB;AACR,8BAAmB,KAAK3S,OAAL,CAAau2B,KAAb,IAAsB,EAAzC;AACH,KAjBiC;;;AAmBlCj2B,QAAI;AACAokC,gBAAQ;AADR,KAnB8B;;AAuBlChyB,YAAQ;AACJiyB,cAAM;AADF,KAvB0B;;AA2BlC;;;AAGA3wB,gBAAY,IA9BsB;;AAgClC;;;;AAIAC,eAAW,IApCuB;;AAsClCP,YAtCkC,sBAsCvB;AAAA;;AACP,YAAI,KAAKgxB,MAAT,EAAiB;AACb,iBAAK57B,aAAL,CAAmB,KAAK47B,MAAxB;AACH;AACD,aAAKA,MAAL,GAAc,IAAI,KAAK1kC,OAAL,CAAagU,UAAjB,CAA4BrM,EAAEpC,MAAF,CAAS,EAAEqU,QAAQ,IAAV,EAAT,EAA2B,KAAK5Z,OAAL,CAAay6B,iBAAxC,CAA5B,CAAd;AACA,aAAKzmB,UAAL,GAAkB,KAAK0wB,MAAvB;AACA,aAAKv+B,QAAL,CAAc,KAAKu+B,MAAnB,EAA2B,KAA3B,EAAkC,YAAa;AAAA,8CAATh+B,IAAS;AAATA,oBAAS;AAAA;;AAC3CA,iBAAK,CAAL,gBAAoBA,KAAK,CAAL,CAApB;AACA,kBAAKk+B,aAAL,cAAsBl+B,IAAtB;AACH,SAHD;AAIA,YAAM0P,KAAK,KAAKsuB,MAAL,CAAYptB,MAAZ,GAAqBlB,EAAhC;AACA,aAAKA,EAAL,CAAQoW,MAAR,CAAepW,EAAf;;AAEA,aAAKyuB,OAAL,GAAe,IAAf;AACA,aAAKH,MAAL,CAAY97B,EAAZ,CAAe,gBAAf,EAAiC;AAAA,mBAAM,MAAKk8B,OAAL,IAAgB,MAAKC,gBAAL,CAAsB,MAAKD,OAA3B,CAAtB;AAAA,SAAjC;;AAEA1uB,WAAGosB,gBAAH,CAAoB,OAApB,EAA6B,KAAKnI,aAAL,CAAmBxxB,IAAnB,CAAwB,IAAxB,CAA7B;;AAEA,aAAKuN,EAAL,CAAQ2O,YAAR,CAAqB,UAArB,EAAiC,CAAC,CAAlC;AACH,KAzDiC;AA2DlC0F,aA3DkC,uBA2DtB;AACR,YAAI,KAAKia,MAAT,EAAiB;AACb,iBAAKA,MAAL,CAAYzjB,OAAZ;AACH;AACD,YAAI,KAAK+jB,MAAT,EAAiB;AACb7jC,oCAAcmzB,UAAd,CAAyB,KAAK2Q,OAA9B;AACH;AACJ,KAlEiC;AAoElCF,oBApEkC,4BAoEjBD,OApEiB,EAoER;AACtB,YAAMI,iBAAiB9kC,OAAO+kC,WAA9B;AACA,YAAMC,WAAW,KAAKV,MAAL,CAAYtuB,EAA7B;AACA,YAAMivB,aAAaD,SAASpP,qBAAT,EAAnB;;AAEA,YAAMsP,SAASJ,iBAAiBG,WAAWtuB,GAA5B,GAAkCsuB,WAAW1L,MAA5D;;AAEA,YAAMnU,eAAesf,QAAQtf,YAA7B;;AAEA,YAAIxf,WAAW,KAAKhG,OAAL,CAAaoU,aAA5B;;AAEA,YAAIpO,aAAaoO,cAAc+vB,IAA3B,IAAmCmB,SAAS9f,YAA5C,IAA4D6f,WAAWtuB,GAAX,GAAiBuuB,MAAjF,EAAyF;AACrFt/B,uBAAWoO,cAAcgwB,EAAzB;AACH,SAFD,MAEO,IAAIp+B,aAAaoO,cAAcgwB,EAA3B,IAAiCiB,WAAWtuB,GAAX,GAAiByO,YAAlD,IAAkE8f,SAASD,WAAWtuB,GAA1F,EAA+F;AAClG/Q,uBAAWoO,cAAc+vB,IAAzB;AACH;;AAED;AACA,aAAK/tB,EAAL,CAAQC,SAAR,CAAkBC,MAAlB,CAAyBxB,QAAQ8uB,aAAjC,EAAgD59B,aAAaoO,cAAc+vB,IAA3E;AACA,aAAK/tB,EAAL,CAAQC,SAAR,CAAkBC,MAAlB,CAAyBxB,QAAQgvB,WAAjC,EAA8C99B,aAAaoO,cAAcgwB,EAAzE;AACAU,gBAAQzuB,SAAR,CAAkBC,MAAlB,CAAyBxB,QAAQ8uB,aAAjC,EAAgD59B,aAAaoO,cAAc+vB,IAA3E;AACAW,gBAAQzuB,SAAR,CAAkBC,MAAlB,CAAyBxB,QAAQgvB,WAAjC,EAA8C99B,aAAaoO,cAAcgwB,EAAzE;;AAEA;AACA,YAAIrtB,MAAc,CAAlB;AACA,gBAAQ/Q,QAAR;AACI,iBAAKoO,cAAcgwB,EAAnB;AACIrtB,sBAAMsuB,WAAWtuB,GAAX,GAAiByO,YAAvB;AACA;AACJ,iBAAKpR,cAAc+vB,IAAnB;AACIptB,sBAAMsuB,WAAWtuB,GAAX,GAAiBsuB,WAAW1L,MAAlC;AACA;AACJ;AACI;AARR;;AAWA;AACA,YAAI5iB,MAAMyO,YAAN,GAAqB0f,iBAAiBjB,oBAA1C,EAAgE;AAC5DltB,kBAAMmuB,iBAAiBjB,oBAAjB,GAAwCze,YAA9C;AACH;AACD,YAAIzO,OAAOktB,oBAAX,EAAiC;AAC7BltB,kBAAMktB,oBAAN;AACH;;AAED,YAAMsB,aAAaF,WAAWniB,KAAX,GAAmBghB,wBAAnB,GAA8CmB,WAAWniB,KAAzD,GAAiEghB,wBAApF;;AAEA,YAAI,KAAKlkC,OAAL,CAAaqkC,aAAb,KAA+BA,cAAcE,YAAjD,EAA+D;AAC3DO,oBAAQnQ,KAAR,CAAczR,KAAd,GAAyBqiB,UAAzB;AACH;;AAED,YAAIT,QAAQU,WAAR,GAAsBtB,wBAA1B,EAAoD;AAChDY,oBAAQnQ,KAAR,CAAc8Q,QAAd,GAA4BF,UAA5B;AACH;;AAEDT,gBAAQnQ,KAAR,CAAc5d,GAAd,GAAuBA,GAAvB;AACA+tB,gBAAQnQ,KAAR,CAAc3d,IAAd,GAAwBquB,WAAWruB,IAAnC;AACH,KA5HiC;;;AA8HlC;;;AAGAvC,QAjIkC,kBAiI3B;AAAA;;AACH,YAAI,KAAKuwB,MAAT,EAAiB;AACb;AACH;AACD,aAAKj+B,OAAL,CAAa,aAAb,EAA4B,IAA5B;;AAEA,YAAMoN,mBAAmBxM,EAAEpC,MAAF,CAAS,KAAKvF,OAAL,CAAamU,gBAAb,IAAiC,EAA1C,EAA8C;AACnEyF,oBAAQ;AAD2D,SAA9C,CAAzB;AAGA,aAAKxD,EAAL,CAAQC,SAAR,CAAkBxM,GAAlB,CAAsBiL,QAAQ6uB,IAA9B;AACA,aAAK1vB,SAAL,GAAiB,IAAI,KAAKjU,OAAL,CAAaiU,SAAjB,CAA2BE,gBAA3B,CAAjB;AACA,aAAKF,SAAL,CAAerL,EAAf,CAAkB,KAAlB,EAAyB,YAAa;AAAA,+CAATlC,IAAS;AAATA,oBAAS;AAAA;;AAClCA,iBAAK,CAAL,eAAmBA,KAAK,CAAL,CAAnB;AACA,mBAAKk+B,aAAL,eAAsBl+B,IAAtB;AACH,SAHD;;AAKA,aAAKu+B,OAAL,GAAe9jC,wBAAcukC,kBAAd,CAAiC,KAAKzxB,SAAtC,EAAiD;AAC5D0xB,oBAAQ,KAAKvvB;AAD+C,SAAjD,CAAf;AAGA,aAAK0uB,OAAL,GAAe,KAAK7wB,SAAL,CAAemC,EAA9B;;AAEA,aAAK2uB,gBAAL,CAAsB,KAAKD,OAA3B;AACA;;AAEA;;AAEA,aAAK3+B,QAAL,CAAc,KAAK8N,SAAnB,EAA8B,gBAA9B,EAAgD;AAAA,mBAAM,OAAK6wB,OAAL,IAAgB,OAAKC,gBAAL,CAAsB,OAAKD,OAA3B,CAAtB;AAAA,SAAhD;AACA,aAAK5B,yBAAL,CAA+B,KAAK9sB,EAApC,EAAwC,KAAKukB,KAA7C;AACA,aAAKx0B,QAAL,CAAc3F,4BAAd,EAAkC,yBAAlC,EAA6D,UAAC8hC,QAAD,EAAW5qB,KAAX;AAAA,mBAAqB,OAAKkuB,WAAL,CAAiBluB,KAAjB,CAArB;AAAA,SAA7D;AACA,aAAKvR,QAAL,CAAc3F,4BAAd,EAAkC,2BAAlC,EAA+D,KAAKqlC,uBAApE;AACA,aAAK1/B,QAAL,CAAchF,uBAAd,EAA6B,aAA7B,EAA4C,KAAK2kC,2BAAjD;;AAEA,YAAMvD,gBAAgBD,SAASC,aAA/B;AACA,YAAI,CAAC,KAAKwD,kBAAL,CAAwBxD,aAAxB,CAAD,IAA2C,CAAC,KAAKyD,iBAAL,CAAuBzD,aAAvB,CAAhD,EAAuF;AACnF;AACH,SAFD,MAEO;AACH,iBAAKJ,OAAL,CAAaI,aAAb;AACH;AACD,aAAK0D,sBAAL,GAA8B,KAA9B;AACA,aAAKjB,MAAL,GAAc,IAAd;AACA,aAAKj+B,OAAL,CAAa,MAAb,EAAqB,IAArB;AACH,KA1KiC;;;AA4KlC;;;;AAIA4zB,SAhLkC,mBAgLnB;AACX,YAAI,CAAC,KAAKqK,MAAN,IAAgB,CAAC1C,SAAS4D,IAAT,CAAcC,QAAd,CAAuB,KAAK/vB,EAA5B,CAArB,EAAsD;AAClD;AACH;AACD,aAAKrP,OAAL,CAAa,cAAb,EAA6B,IAA7B;;AAEA,aAAKqP,EAAL,CAAQC,SAAR,CAAkBzM,MAAlB,CAAyBkL,QAAQ6uB,IAAjC;;AAEAxiC,gCAAcmzB,UAAd,CAAyB,KAAK2Q,OAA9B;;AAEA,aAAK7B,4BAAL;AACA,aAAKt6B,aAAL,CAAmBtI,4BAAnB;AACA,aAAKsI,aAAL,CAAmB3H,uBAAnB;AACA,aAAK2H,aAAL,CAAmB,KAAKmL,SAAxB;AACA,aAAKywB,MAAL,CAAY5Y,GAAZ,CAAgBoW,KAAhB;AACA,aAAK8C,MAAL,GAAc,KAAd;;AAfW,2CAANt+B,IAAM;AAANA,gBAAM;AAAA;;AAiBX,aAAKK,OAAL,cAAa,OAAb,EAAsB,IAAtB,4BAA+BL,IAA/B;AACA,YAAI,KAAK1G,OAAL,CAAaykC,gBAAb,IAAiC,CAAC,KAAK/O,WAA3C,EAAwD;AACpD,iBAAKgP,MAAL,CAAYptB,MAAZ;AACH;AACJ,KArMiC;AAuMlCsuB,eAvMkC,uBAuMtBluB,KAvMsB,EAuMf;AACf,YAAIA,MAAM0uB,OAAN,KAAkB,EAAtB,EAA0B;AACtB,iBAAKzL,KAAL;AACH;AACJ,KA3MiC;AA6MlCN,iBA7MkC,2BA6MlB;AACZ,YAAI,KAAKr6B,OAAL,CAAawkC,QAAjB,EAA2B;AACvB,iBAAK/vB,IAAL;AACH;AACJ,KAjNiC;AAmNlCsxB,sBAnNkC,8BAmNfM,QAnNe,EAmNL;AACzB,eAAO,KAAKjwB,EAAL,KAAYiwB,QAAZ,IAAwB,KAAKjwB,EAAL,CAAQ+vB,QAAR,CAAiBE,QAAjB,CAA/B;AACH,KArNiC;AAuNlCL,qBAvNkC,6BAuNhBK,QAvNgB,EAuNN;AAAA;;AACxB,YAAMC,QAAQhE,SAASiE,sBAAT,CAAgC,cAAhC,EAAgD,CAAhD,CAAd,CADwB,CAC0C;;AAElE,eAAOplC,wBAAcuC,GAAd,CAAkB,KAAKuhC,OAAvB,EAAgCzS,IAAhC,CAAqC;AAAA,mBAAKjW,EAAEnG,EAAF,CAAK+vB,QAAL,CAAcE,QAAd,KAA2B,OAAKjwB,EAAL,CAAQ+vB,QAAR,CAAiBE,QAAjB,CAAhC;AAAA,SAArC,KAAqGC,SAASA,MAAMH,QAAN,CAAeE,QAAf,CAArH;AACH,KA3NiC;AA6NlCG,gBA7NkC,0BA6NnB;AACX,YAAI,CAAC,KAAKP,sBAAN,IAAgC,CAAC,KAAKF,kBAAL,CAAwBzD,SAASC,aAAjC,CAAjC,IAAoF,CAAC,KAAKyD,iBAAL,CAAuB1D,SAASC,aAAhC,CAAzF,EAAyI;AACrI,iBAAK5H,KAAL;AACH;AACJ,KAjOiC;AAmOlCkL,2BAnOkC,mCAmOVY,MAnOU,EAmOF;AAC5B,YAAI,KAAKT,iBAAL,CAAuBS,MAAvB,CAAJ,EAAoC;AAChC,iBAAKR,sBAAL,GAA8B,IAA9B;AACH,SAFD,MAEO,IAAI,CAAC,KAAKF,kBAAL,CAAwBU,MAAxB,CAAL,EAAsC;AACzC,iBAAK9L,KAAL;AACH;AACJ,KAzOiC;AA2OlCmL,+BA3OkC,uCA2ONb,OA3OM,EA2OG;AACjC,YAAI,KAAKD,MAAL,IAAe,KAAKC,OAAL,KAAiBA,OAApC,EAA6C;AACzC,iBAAKtK,KAAL;AACH;AACJ,KA/OiC;AAiPlCwH,WAjPkC,mBAiP1BE,SAjP0B,EAiPf;AACf,YAAI,CAACA,SAAL,EAAgB;AACZ,iBAAKD,gBAAL,GAAwBF,KAAxB;AACH,SAFD,MAEO,IAAII,SAASC,aAAb,EAA4B;AAC/BD,qBAASC,aAAT,CAAuBC,gBAAvB,CAAwC,MAAxC,EAAgD,KAAKC,QAArD;AACH;AACD,aAAKC,SAAL,GAAiB,IAAjB;AACH,KAxPiC;AA0PlCD,YA1PkC,sBA0PvB;AAAA;;AACP96B,UAAEg7B,KAAF,CAAQ,YAAM;AACV,mBAAKD,SAAL,GAAiB,KAAjB;AACA,mBAAK8D,YAAL;AACH,SAHD;AAIA,YAAIlE,SAASC,aAAb,EAA4B;AACxBD,qBAASC,aAAT,CAAuBK,mBAAvB,CAA2C,MAA3C,EAAmD,KAAKH,QAAxD;AACH;AACJ,KAlQiC;AAoQlCS,6BApQkC,qCAoQR9sB,EApQQ,EAoQJsN,QApQI,EAoQM;AACpC,YAAI,KAAKof,kBAAL,CAAwBp7B,MAAxB,KAAmC,CAAvC,EAA0C;AACtC,iBAAKvB,QAAL,CAAc3F,4BAAd,EAAkC,uBAAlC,EAA2D,KAAKuiC,eAAhE;AACA,iBAAK58B,QAAL,CAAc3F,4BAAd,EAAkC,yBAAlC,EAA6D,KAAKuiC,eAAlE;AACA,iBAAK58B,QAAL,CAAc3F,4BAAd,EAAkC,yBAAlC,EAA6D,KAAKuiC,eAAlE;AACH;;AAED;;AAPoC,oCAQd3sB,GAAG4f,qBAAH,EARc;AAAA,YAQ5Bhf,IAR4B,yBAQ5BA,IAR4B;AAAA,YAQtBD,GARsB,yBAQtBA,GARsB;;AASpC,aAAK+rB,kBAAL,CAAwB16B,IAAxB,CAA6B;AACzBi7B,+BAAmB;AACfrsB,sBAAMtN,KAAK45B,KAAL,CAAWtsB,IAAX,CADS;AAEfD,qBAAKrN,KAAK45B,KAAL,CAAWvsB,GAAX;AAFU,aADM;AAKzBX,kBALyB;AAMzBsN;AANyB,SAA7B;AAQH,KArRiC;AAuRlC0f,gCAvRkC,0CAuRM;AAAA,YAAXhtB,EAAW,uEAAN,IAAM;;AACpC,YAAI,CAACA,EAAL,EAAS;AACL,iBAAK0sB,kBAAL,GAA0B,EAA1B;AACH,SAFD,MAEO;AACH,iBAAKA,kBAAL,CAAwB9zB,MAAxB,CAA+B,KAAK8zB,kBAAL,CAAwBS,SAAxB,CAAkC;AAAA,uBAAKhnB,EAAEnG,EAAF,KAASA,EAAd;AAAA,aAAlC,CAA/B,EAAoF,CAApF;AACH;AACJ,KA7RiC;AA+RlC2sB,mBA/RkC,6BA+RhB;AAAA;;AACdS,mBAAW,YAAM;AACb,gBAAI,OAAK9N,WAAL,EAAJ,EAAwB;AACpB;AACH;AACD,mBAAKoN,kBAAL,CAAwBt8B,OAAxB,CAAgC,aAAK;AAAA,4CACX+V,EAAEnG,EAAF,CAAK4f,qBAAL,EADW;AAAA,oBACzBhf,IADyB,yBACzBA,IADyB;AAAA,oBACnBD,GADmB,yBACnBA,GADmB;;AAEjC,oBAAIrN,KAAK45B,KAAL,CAAWtsB,IAAX,MAAqBuF,EAAE8mB,iBAAF,CAAoBrsB,IAAzC,IAAiDtN,KAAK45B,KAAL,CAAWvsB,GAAX,MAAoBwF,EAAE8mB,iBAAF,CAAoBtsB,GAA7F,EAAkG;AAC9FwF,sBAAEmH,QAAF,CAAW9T,IAAX,CAAgB,MAAhB;AACH;AACJ,aALD;AAMH,SAVD,EAUG,EAVH;AAWH;AA3SiC,CAAvB,C;;;;;;;;;;;;;;;;;;AC1Ef;;;;;;;;;kBASe1P,WAAWgU,cAAX,CAA0B3O,MAA1B,CAAiC;AAC5Ck+B,WAAS;AADmC,CAAjC,C;;;;;;;;;;;;;;;;;;ACTf;;;;;;AAEA;;;;;;;;;;kBAUevjC,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClCk+B,aAAS,IADyB;;AAGlC9wB,eAAW,gBAHuB;;AAKlCL,cAAUC,WAAWC,OAAX,CAAmBF,kBAAnB,CALwB;;AAOlCY,mBAPkC,6BAOhB;AACd,eAAO;AACHwzB,sBAAU,KAAKx+B,KAAL,CAAWgX,GAAX,CAAe,SAAf,IAA4B,KAAKhX,KAAL,CAAWxE,GAAX,CAAe,SAAf,CAA5B,GAAwD,KAAKwE,KAAL,CAAWxE,GAAX,CAAe,MAAf;AAD/D,SAAP;AAGH,KAXiC;;;AAalCgP,YAAQ;AACJwD,aADI,mBACI;AACJ,iBAAKnP,OAAL,CAAa,SAAb,EAAwB,KAAKmB,KAA7B;AACH;AAHG;AAb0B,CAAvB,C;;;;;;;;;;;;;;;;;;ACZf;;;;AACA;;;;;;AAEA;;;;;;;;;;;kBAWe05B,wBAAcr8B,MAAd,CAAqB;AAChC9E,cADgC,wBACnB;AACTmhC,gCAAc13B,SAAd,CAAwBzJ,UAAxB,CAAmCwC,KAAnC,CAAyC,IAAzC,EAA+C0D,MAAMC,IAAN,CAAWC,SAAX,CAA/C;AACH,KAH+B;;;AAKhC8L,eAAW,aALqB;;AAOhCE,aAPgC,qBAOtB3K,KAPsB,EAOf;AACb,YAAIA,MAAMxE,GAAN,CAAU,YAAV,CAAJ,EAA6B;AACzB,mBAAOwE,MAAMxE,GAAN,CAAU,YAAV,CAAP;AACH;AACD,eAAOm+B,sBAAP;AACH,KAZ+B;;;AAchC3S,qBAAiB;AACbyX,iBAAS;AADI,KAde;;AAkBhCC,aAlBgC,qBAkBtB1+B,KAlBsB,EAkBf;AACb,aAAKlI,OAAL,CAAa4Z,MAAb,CAAoB+gB,KAApB;AACA,aAAK36B,OAAL,CAAa4Z,MAAb,CAAoB7S,OAApB,CAA4B,SAA5B,EAAuCmB,MAAMK,EAA7C,EAAiDL,KAAjD;AACH;AArB+B,CAArB,C;;;;;;;;;;;;;;;;;;ACdf;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEA,IAAM+7B,uBAAuB,EAA7B;;AAEA,IAAMnvB,UAAU;AACZ6uB,UAAM,MADM;AAEZkD,kBAAc,YAFF;AAGZC,oBAAgB,cAHJ;AAIZC,uBAAmB,2BAJP;AAKZC,wBAAoB,4BALR;AAMZC,eAAW,mBANC;AAOZC,gBAAY,oBAPA;AAQZC,0BAAsB,oBARV;AASZC,2BAAuB,gBATX;AAUZC,oBAAgB;AAVJ,CAAhB;;AAaA,IAAMlR,aAAa;AACfmR,UAAM,MADS;AAEfC,WAAO;AAFQ,CAAnB;;AAKA,IAAMnM,kBAAkB;AACpBgJ,QAAI,IADgB;AAEpBD,UAAM;AAFc,CAAxB;;AAKA,IAAMqD,qBAAqB;AACvBF,UAAM,MADiB;AAEvBC,WAAO;AAFgB,CAA3B;;AAKA,IAAM5N,SAAS;AACX8N,UAAM,MADK;AAEXC,YAAQ;AAFG,CAAf;;AAKA,IAAMvyB,iBAAiB;AACnBghB,gBAAYA,WAAWmR,IADJ;AAEnBlR,kBAAc,KAFK;AAGnBoL,UAAM,KAHa;AAInB7H,YAAQ,MAJW;AAKnB6K,cAAU,IALS;AAMnBmD,eAAWvM,gBAAgB+I,IANR;AAOnByD,kBAAcx+B,SAPK;AAQnBq7B,sBAAkB;AARC,CAAvB;;AAWA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBAoDevkC,WAAW+S,IAAX,CAAgB1N,MAAhB,CAAuB;AAClC9E,cADkC,sBACvBT,OADuB,EACd;AAChB2H,UAAE2Z,QAAF,CAAW,KAAKthB,OAAhB,EAAyBmV,cAAzB;AACAyV,uBAAQC,YAAR,CAAqB7qB,OAArB,EAA8B,YAA9B;AACA4qB,uBAAQC,YAAR,CAAqB7qB,OAArB,EAA8B,WAA9B;AACA2H,UAAEgO,OAAF,CAAU,IAAV,EAAgB,MAAhB,EAAwB,OAAxB;;AAEA,aAAKxP,QAAL,CAAchF,uBAAd,EAA6B,aAA7B,EAA4C,KAAK2kC,2BAAjD;AACH,KARiC;;;AAUlCxzB,cAAUC,WAAWC,OAAX,CAAmBF,gBAAnB,CAVwB;;AAYlCvP,eAAW;AACP8kC,0BAAkB;AACdnmB,2BAAemmB,0BADD;AAEd7F,oBAAQ;AAFM,SADX;AAKP8F,qCAA6B;AACzBpmB,2BAAeomB;AADU;AALtB,KAZuB;;AAsBlCn1B,eAAW,QAtBuB;;AAwBlCS,aAAS;AACL20B,sBAAc;AADT,KAxByB;;AA4BlCznC,QAAI;AACAokC,gBAAQ;AADR,KA5B8B;;AAgClChyB,YAAQ;AACJ,4BAAoB;AADhB,KAhC0B;;AAoClC;;;AAGAsB,gBAAY,IAvCsB;;AAyClC;;;;AAIAC,eAAW,IA7CuB;;AA+ClCP,YA/CkC,sBA+CvB;AAAA;;AACP,aAAKsxB,MAAL,GAAc,KAAd;AACA,YAAI,KAAKN,MAAT,EAAiB;AACb,iBAAK57B,aAAL,CAAmB,KAAK47B,MAAxB;AACH;AACD,aAAKA,MAAL,GAAc,IAAI,KAAK1kC,OAAL,CAAagU,UAAjB,CAA4B,KAAKhU,OAAL,CAAay6B,iBAAzC,CAAd;AACA,aAAKzmB,UAAL,GAAkB,KAAK0wB,MAAvB;AACA,aAAKv+B,QAAL,CAAc,KAAKu+B,MAAnB,EAA2B,KAA3B,EAAkC,YAAa;AAAA,8CAATh+B,IAAS;AAATA,oBAAS;AAAA;;AAC3CA,iBAAK,CAAL,gBAAoBA,KAAK,CAAL,CAApB;AACA,kBAAKk+B,aAAL,cAAsBl+B,IAAtB;AACH,SAHD;AAIA,aAAK2N,aAAL,CAAmB,cAAnB,EAAmC,KAAKqwB,MAAxC;;AAEA,YAAI,CAAC,KAAK1kC,OAAL,CAAao2B,YAAlB,EAAgC;AAC5B,iBAAKzR,SAAL,CAAe,cAAf,EAA+BmH,GAA/B,CAAmCU,MAAnC,kCAAyE1X,QAAQuyB,cAAjF;AACH;;AAED,aAAK/mC,EAAL,CAAQokC,MAAR,CAAeruB,SAAf,CAAyBC,MAAzB,CAAgCxB,QAAQqyB,oBAAxC,EAA8D,KAAKnnC,OAAL,CAAao2B,YAA3E;AACA,aAAK91B,EAAL,CAAQokC,MAAR,CAAeruB,SAAf,CAAyBC,MAAzB,CAAgCxB,QAAQsyB,qBAAxC,EAA+D,CAAC,KAAKpnC,OAAL,CAAao2B,YAA7E;AACH,KAlEiC;AAoElC3L,aApEkC,uBAoEtB;AACR,YAAI,KAAKua,MAAT,EAAiB;AACb,iBAAKA,MAAL,GAAc,KAAd;AACA7jC,oCAAcmzB,UAAd,CAAyB,KAAK2Q,OAA9B;AACH;AACJ,KAzEiC;AA2ElCW,eA3EkC,uBA2EtBluB,KA3EsB,EA2Ef;AACf,YAAIA,MAAM0uB,OAAN,KAAkB,EAAtB,EAA0B;AACtB,iBAAKzL,KAAL;AACH;AACJ,KA/EiC;AAiFlCqN,iBAjFkC,2BAiFlB;AACZ,YAAIC,YAAY,KAAK3nC,EAAL,CAAQokC,MAAxB;AACA,YAAI,KAAK1kC,OAAL,CAAao2B,YAAb,IAA6B,KAAKsO,MAAL,CAAYwD,OAA7C,EAAsD;AAClDD,wBAAY,KAAKvD,MAAL,CAAYwD,OAAxB;AACH,SAFD,MAEO;AACH,gBAAMC,gBAAgB,KAAK7nC,EAAL,CAAQokC,MAAR,CAAetsB,IAAf,CAAoB,oBAApB,CAAtB;AACA,gBAAI+vB,iBAAiBA,cAAczgC,MAAnC,EAA2C;AACvCugC,4BAAYE,aAAZ;AACH;AACJ;AACD,eAAOF,SAAP;AACH,KA5FiC;AA8FlCG,wBA9FkC,gCA8FbC,QA9Fa,EA8FH;AAC3B,YAAMC,YAAY,KAAKhoC,EAAL,CAAQokC,MAA1B;AACA,YAAMuD,YAAY,KAAKD,aAAL,EAAlB;AACA,YAAMO,WAAW;AACb5O,oBAAQv5B,OAAO+kC,WADF;AAEbjiB,mBAAO9iB,OAAOooC;AAFD,SAAjB;;AAKA,YAAMC,aAAaR,UAAU1iB,MAAV,EAAnB;AACAkjB,mBAAW9O,MAAX,GAAoBsO,UAAUS,WAAV,EAApB;AACAD,mBAAWvlB,KAAX,GAAmB+kB,UAAUrf,UAAV,EAAnB;AACA6f,mBAAWnD,MAAX,GAAoBiD,SAAS5O,MAAT,GAAkB8O,WAAW1xB,GAA7B,GAAmC0xB,WAAW9O,MAAlE;AACA,YAAM0L,aAAaiD,UAAU/iB,MAAV,EAAnB;AACA8f,mBAAWniB,KAAX,GAAmBolB,UAAU1f,UAAV,EAAnB;AACA,YAAM+f,YAAYN,SAAS9iB,MAAT,EAAlB;AACAojB,kBAAUzlB,KAAV,GAAkBmlB,SAASzf,UAAT,EAAlB;;AAEA,YAAML,MAGF,EAHJ;;AAKA,gBAAQ,KAAKvoB,OAAL,CAAam2B,UAArB;AACI,iBAAKA,WAAWoR,KAAhB;AAAuB;AACnB,wBAAMqB,aAAaH,WAAWzxB,IAAX,GAAkByxB,WAAWvlB,KAAX,GAAmB,CAAxD;;AAEA,wBAAI0lB,aAAa3E,oBAAjB,EAAuC;AACnC1b,4BAAIvR,IAAJ,GAAWitB,oBAAX;AACH,qBAFD,MAEO,IAAI2E,aAAaD,UAAUzlB,KAAvB,GAA+BqlB,SAASrlB,KAAT,GAAiB+gB,oBAApD,EAA0E;AAC7E1b,4BAAIvR,IAAJ,GAAWuxB,SAASrlB,KAAT,GAAiB+gB,oBAAjB,GAAwC0E,UAAUzlB,KAA7D;AACH,qBAFM,MAEA;AACHqF,4BAAIvR,IAAJ,GAAW4xB,UAAX;AACH;AACD;AACH;AACD,iBAAKzS,WAAWmR,IAAhB;AAAsB;AAClB,wBAAMuB,oBAAoBN,SAASrlB,KAAT,IAAkBulB,WAAWzxB,IAAX,GAAkByxB,WAAWvlB,KAAX,GAAmB,CAAvD,CAA1B;;AAEA,wBAAI2lB,oBAAoB5E,oBAAxB,EAA8C;AAC1C1b,4BAAIugB,KAAJ,GAAY7E,oBAAZ;AACH,qBAFD,MAEO,IAAI4E,oBAAoBF,UAAUzlB,KAA9B,GAAsCqlB,SAASrlB,KAAT,GAAiB+gB,oBAA3D,EAAiF;AACpF1b,4BAAIugB,KAAJ,GAAYP,SAASrlB,KAAT,GAAiB+gB,oBAAjB,GAAwC0E,UAAUzlB,KAA9D;AACH,qBAFM,MAEA;AACHqF,4BAAIugB,KAAJ,GAAYD,iBAAZ;AACH;AACD;AACH;AACD;AACI;AA1BR;;AA6BAR,iBAAShyB,SAAT,CAAmBC,MAAnB,CAA0BxB,QAAQmyB,SAAlC,EAA6C,KAAKjnC,OAAL,CAAam2B,UAAb,KAA4BA,WAAWmR,IAApF;AACAe,iBAAShyB,SAAT,CAAmBC,MAAnB,CAA0BxB,QAAQoyB,UAAlC,EAA8C,KAAKlnC,OAAL,CAAam2B,UAAb,KAA4BA,WAAWoR,KAArF;;AAEAc,iBAAS9f,GAAT,CAAaA,GAAb;AACH,KArJiC;AAuJlCwgB,6BAvJkC,qCAuJRV,QAvJQ,EAuJE;AAChC,YAAMJ,YAAY,KAAKD,aAAL,EAAlB;AACA,YAAMO,WAAW;AACb5O,oBAAQv5B,OAAO+kC,WADF;AAEbjiB,mBAAO9iB,OAAOooC;AAFD,SAAjB;AAIA,YAAMC,aAAaR,UAAU1iB,MAAV,EAAnB;AACAkjB,mBAAW9O,MAAX,GAAoBsO,UAAUS,WAAV,EAApB;AACAD,mBAAWvlB,KAAX,GAAmB+kB,UAAUrf,UAAV,EAAnB;AACA6f,mBAAWnD,MAAX,GAAoBiD,SAAS5O,MAAT,GAAkB8O,WAAW1xB,GAA7B,GAAmC0xB,WAAW9O,MAAlE;AACA,YAAMgP,YAAYN,SAAS9iB,MAAT,EAAlB;AACAojB,kBAAUhP,MAAV,GAAmB0O,SAASK,WAAT,EAAnB;;AAEA,YAAIf,YAAY,KAAK3nC,OAAL,CAAa2nC,SAA7B;;AAEA;AACA,gBAAQA,SAAR;AACI,iBAAKvM,gBAAgBgJ,EAArB;AACI,oBAAIqE,WAAW1xB,GAAX,GAAiB4xB,UAAUhP,MAA3B,IAAqC8O,WAAWnD,MAAX,GAAoBmD,WAAW1xB,GAAxE,EAA6E;AACzE4wB,gCAAYvM,gBAAgB+I,IAA5B;AACH;AACD;AACJ,iBAAK/I,gBAAgB+I,IAArB;AACI,oBAAIsE,WAAWnD,MAAX,GAAoBqD,UAAUhP,MAA9B,IAAwC8O,WAAW1xB,GAAX,GAAiB0xB,WAAWnD,MAAxE,EAAgF;AAC5EqC,gCAAYvM,gBAAgBgJ,EAA5B;AACH;AACD;AACJ;AACI;AAZR;;AAeA;AACAiE,iBAAShyB,SAAT,CAAmBC,MAAnB,CAA0BxB,QAAQ+xB,YAAlC,EAAgDc,cAAcvM,gBAAgBgJ,EAA9E;AACAiE,iBAAShyB,SAAT,CAAmBC,MAAnB,CAA0BxB,QAAQgyB,cAAlC,EAAkDa,cAAcvM,gBAAgB+I,IAAhF;;AAEA;AACA,YAAIptB,MAAM,CAAV;AACA,gBAAQ4wB,SAAR;AACI,iBAAKvM,gBAAgBgJ,EAArB;AACIrtB,sBAAM0xB,WAAW1xB,GAAX,GAAiB4xB,UAAUhP,MAAjC;AACA;AACJ,iBAAKyB,gBAAgB+I,IAArB;AACIptB,sBAAM0xB,WAAW1xB,GAAX,GAAiB0xB,WAAW9O,MAAlC;AACA;AACJ;AACI;AARR;;AAWA;AACA,YAAI5iB,MAAM4xB,UAAUhP,MAAhB,GAAyB4O,SAAS5O,MAAT,GAAkBsK,oBAA/C,EAAqE;AACjEltB,kBAAMwxB,SAAS5O,MAAT,GAAkBsK,oBAAlB,GAAyC0E,UAAUhP,MAAzD;AACH;AACD,YAAI5iB,OAAOktB,oBAAX,EAAiC;AAC7BltB,kBAAMktB,oBAAN;AACH;;AAED,YAAM1b,MAGF;AACAxR;AADA,SAHJ;AAMA,YAAI,KAAK/W,OAAL,CAAa25B,MAAb,KAAwBA,OAAO+N,MAAnC,EAA2C;AACvCnf,gBAAI+c,MAAJ,GAAarB,oBAAb;AACH;AACDoE,iBAAS9f,GAAT,CAAaA,GAAb;AACH,KAzNiC;AA2NlCygB,wCA3NkC,gDA2NGX,QA3NH,EA2Na;AAC3C,YAAMJ,YAAY,KAAKD,aAAL,EAAlB;;AAEA,YAAMO,WAAW;AACb5O,oBAAQv5B,OAAO+kC,WADF;AAEbjiB,mBAAO9iB,OAAOooC;AAFD,SAAjB;AAIA,YAAMC,aAAaR,UAAU1iB,MAAV,EAAnB;AACAkjB,mBAAW9O,MAAX,GAAoBsO,UAAUS,WAAV,EAApB;AACAD,mBAAWvlB,KAAX,GAAmB+kB,UAAUrf,UAAV,EAAnB;AACA6f,mBAAWnD,MAAX,GAAoBiD,SAAS5O,MAAT,GAAkB8O,WAAW1xB,GAA7B,GAAmC0xB,WAAW9O,MAAlE;;AAEA,YAAMgP,YAAYN,SAAS9iB,MAAT,EAAlB;AACAojB,kBAAUhP,MAAV,GAAmB0O,SAASK,WAAT,EAAnB;AACAC,kBAAUzlB,KAAV,GAAkBmlB,SAASzf,UAAT,EAAlB;;AAEA,YAAML,MAGF;AACAxR,iBAAK;AADL,SAHJ;;AAOA;AACA,YAAI4wB,YAAY,KAAK3nC,OAAL,CAAa2nC,SAA7B;;AAEA;AACA,gBAAQA,SAAR;AACI,iBAAKvM,gBAAgBgJ,EAArB;AAAyB;AACrB,wBAAM6E,YAAYR,WAAW1xB,GAAX,GAAiB0xB,WAAW9O,MAAX,GAAoB,CAAvD;AACA,wBAAIsP,YAAYN,UAAUhP,MAAtB,IAAgC8O,WAAWnD,MAAX,GAAoB2D,SAAxD,EAAmE;AAC/DtB,oCAAYvM,gBAAgB+I,IAA5B;AACH;AACD;AACH;AACD,iBAAK/I,gBAAgB+I,IAArB;AAA2B;AACvB,wBAAM+E,eAAeT,WAAWnD,MAAX,GAAoBmD,WAAW9O,MAAX,GAAoB,CAA7D;AACA,wBAAIuP,eAAeP,UAAUhP,MAAzB,IAAmC8O,WAAW1xB,GAAX,GAAiBmyB,YAAxD,EAAsE;AAClEvB,oCAAYvM,gBAAgBgJ,EAA5B;AACH;AACD;AACH;AACD;AACI;AAhBR;;AAmBA;AACAiE,iBAAShyB,SAAT,CAAmBC,MAAnB,CAA0BxB,QAAQ+xB,YAAlC,EAAgDc,cAAcvM,gBAAgBgJ,EAA9E;AACAiE,iBAAShyB,SAAT,CAAmBC,MAAnB,CAA0BxB,QAAQgyB,cAAlC,EAAkDa,cAAcvM,gBAAgB+I,IAAhF;;AAEA;AACA,YAAIptB,MAAM,CAAV;AACA,gBAAQ4wB,SAAR;AACI,iBAAKvM,gBAAgBgJ,EAArB;AACIrtB,sBAAM0xB,WAAW1xB,GAAX,GAAiB0xB,WAAW9O,MAAX,GAAoB,CAArC,GAAyCgP,UAAUhP,MAAzD;AACA;AACJ,iBAAKyB,gBAAgB+I,IAArB;AACIptB,sBAAM0xB,WAAW1xB,GAAX,GAAiB0xB,WAAW9O,MAAX,GAAoB,CAA3C;AACA;AACJ;AACI;AARR;;AAWA;AACA,YAAI5iB,MAAM0xB,WAAW9O,MAAX,GAAoB,CAA1B,GAA8BgP,UAAUhP,MAAxC,GAAiD4O,SAAS5O,MAAT,GAAkBsK,oBAAvE,EAA6F;AACzFltB,kBAAMwxB,SAAS5O,MAAT,GAAkBsK,oBAAlB,GAAyC0E,UAAUhP,MAAzD;AACH;AACD,YAAI5iB,OAAOktB,oBAAX,EAAiC;AAC7BltB,kBAAMktB,oBAAN;AACH;;AAED1b,YAAIxR,GAAJ,GAAUA,GAAV;;AAEA,YAAI,KAAK/W,OAAL,CAAa25B,MAAb,KAAwBA,OAAO+N,MAAnC,EAA2C;AACvCnf,gBAAI+c,MAAJ,GAAarB,oBAAb;AACH;AACDoE,iBAAS9f,GAAT,CAAaA,GAAb;AACH,KAxSiC;AA0SlC4gB,0CA1SkC,kDA0SKd,QA1SL,EA0Se;AAC7C,YAAMC,YAAY,KAAKhoC,EAAL,CAAQokC,MAA1B;AACA,YAAMuD,YAAY,KAAKD,aAAL,EAAlB;AACA,YAAMO,WAAW;AACb5O,oBAAQv5B,OAAO+kC,WADF;AAEbjiB,mBAAO9iB,OAAOooC;AAFD,SAAjB;AAIA,YAAMC,aAAaR,UAAU1iB,MAAV,EAAnB;AACAkjB,mBAAWvlB,KAAX,GAAmB+kB,UAAUrf,UAAV,EAAnB;AACA6f,mBAAWK,KAAX,GAAmBP,SAASrlB,KAAT,GAAiBulB,WAAWzxB,IAA5B,GAAmCyxB,WAAWvlB,KAAjE;;AAEA,YAAMmiB,aAAaiD,UAAU/iB,MAAV,EAAnB;AACA8f,mBAAWniB,KAAX,GAAmBolB,UAAU1f,UAAV,EAAnB;;AAEA,YAAM+f,YAAYN,SAAS9iB,MAAT,EAAlB;AACAojB,kBAAUzlB,KAAV,GAAkBmlB,SAASzf,UAAT,EAAlB;;AAEA,YAAML,MAAM,EAAZ;;AAEA,YAAIqf,eAAe,KAAK5nC,OAAL,CAAa4nC,YAAhC;AACA,gBAAQA,YAAR;AACI,iBAAKJ,mBAAmBD,KAAxB;AACI,oBAAIkB,WAAWK,KAAX,GAAmBH,UAAUzlB,KAA7B,IAAsCulB,WAAWzxB,IAAX,GAAkByxB,WAAWK,KAAvE,EAA8E;AAC1ElB,mCAAeJ,mBAAmBF,IAAlC;AACH;AACD;AACJ,iBAAKE,mBAAmBF,IAAxB;AACI,oBAAImB,WAAWzxB,IAAX,GAAkB2xB,UAAUzlB,KAA5B,IAAqCulB,WAAWK,KAAX,GAAmBL,WAAWzxB,IAAvE,EAA6E;AACzE4wB,mCAAeJ,mBAAmBD,KAAlC;AACH;AACD;AACJ;AACI;AAZR;;AAeA,gBAAQK,YAAR;AACI,iBAAKJ,mBAAmBD,KAAxB;AAA+B;AAC3B,wBAAM6B,WAAWX,WAAWzxB,IAAX,GAAkByxB,WAAWvlB,KAA9C;AACA,wBAAIkmB,WAAWnF,oBAAf,EAAqC;AACjC1b,4BAAIvR,IAAJ,GAAWitB,oBAAX;AACH,qBAFD,MAEO,IAAImF,WAAWT,UAAUzlB,KAArB,GAA6BqlB,SAASrlB,KAAT,GAAiB+gB,oBAAlD,EAAwE;AAC3E1b,4BAAIvR,IAAJ,GAAWuxB,SAASrlB,KAAT,GAAiB+gB,oBAAjB,GAAwC0E,UAAUzlB,KAA7D;AACH,qBAFM,MAEA;AACHqF,4BAAIvR,IAAJ,GAAWoyB,QAAX;AACH;AACD;AACH;AACD,iBAAK5B,mBAAmBF,IAAxB;AAA8B;AAC1B,wBAAM+B,kBAAkBd,SAASrlB,KAAT,GAAiBulB,WAAWzxB,IAApD;AACA,wBAAIqyB,kBAAkBpF,oBAAtB,EAA4C;AACxC1b,4BAAIugB,KAAJ,GAAY7E,oBAAZ;AACH,qBAFD,MAEO,IAAIoF,kBAAkBV,UAAUzlB,KAA5B,GAAoCqlB,SAASrlB,KAAT,GAAiB+gB,oBAAzD,EAA+E;AAClF1b,4BAAIugB,KAAJ,GAAYP,SAASrlB,KAAT,GAAiB+gB,oBAAjB,GAAwC0E,UAAUzlB,KAA9D;AACH,qBAFM,MAEA;AACHqF,4BAAIugB,KAAJ,GAAYO,eAAZ;AACH;AACD;AACH;AACD;AACI;AAxBR;;AA2BAhB,iBAAShyB,SAAT,CAAmBC,MAAnB,CAA0BxB,QAAQiyB,iBAAlC,EAAqDa,iBAAiBJ,mBAAmBF,IAAzF;AACAe,iBAAShyB,SAAT,CAAmBC,MAAnB,CAA0BxB,QAAQkyB,kBAAlC,EAAsDY,iBAAiBJ,mBAAmBD,KAA1F;;AAEAc,iBAAS9f,GAAT,CAAaA,GAAb;AACH,KA5WiC;AA8WlC8R,iBA9WkC,2BA8WlB;AACZ,YAAI,KAAKr6B,OAAL,CAAawkC,QAAjB,EAA2B;AACvB,iBAAK/vB,IAAL;AACH;AACJ,KAlXiC;AAoXlCsxB,sBApXkC,8BAoXfM,QApXe,EAoXL;AACzB,eAAO,KAAKjwB,EAAL,KAAYiwB,QAAZ,IAAwB,KAAKjwB,EAAL,CAAQ+vB,QAAR,CAAiBE,QAAjB,CAA/B;AACH,KAtXiC;AAwXlCL,qBAxXkC,6BAwXhBK,QAxXgB,EAwXN;AACxB,YAAMC,QAAQhE,SAASiE,sBAAT,CAAgC,cAAhC,EAAgD,CAAhD,CAAd;;AAEA,eACIplC,wBAAcuC,GAAd,CAAkB,KAAKuhC,OAAvB,EACKx2B,GADL,CACS;AAAA,mBAAK8N,EAAEnG,EAAP;AAAA,SADT,EAEKoc,IAFL,CAEU;AAAA,mBAAMpc,OAAOiwB,QAAP,IAAmBjwB,GAAG+vB,QAAH,CAAYE,QAAZ,CAAzB;AAAA,SAFV,KAGCC,SAASA,MAAMH,QAAN,CAAeE,QAAf,CAJd,CAHwB,CAQrB;AACN,KAjYiC;AAmYlCG,gBAnYkC,0BAmYnB;AACX,YAAI,CAAC,KAAKP,sBAAN,IAAgC,CAAC,KAAKF,kBAAL,CAAwBzD,SAASC,aAAjC,CAAjC,IAAoF,CAAC,KAAKyD,iBAAL,CAAuB1D,SAASC,aAAhC,CAAzF,EAAyI;AACrI,iBAAK5H,KAAL;AACH;AACJ,KAvYiC;AAyYlCkL,2BAzYkC,mCAyYVY,MAzYU,EAyYF;AAC5B,YAAI,KAAKT,iBAAL,CAAuBS,MAAvB,CAAJ,EAAoC;AAChC;AACA,iBAAKR,sBAAL,GAA8B,IAA9B;AACH,SAHD,MAGO,IAAI,CAAC,KAAKF,kBAAL,CAAwBU,MAAxB,CAAL,EAAsC;AACzC,iBAAK9L,KAAL;AACH;AACJ,KAhZiC;AAkZlCmL,+BAlZkC,uCAkZNb,OAlZM,EAkZG;AACjC,YAAI,KAAKD,MAAL,IAAe,KAAKC,OAAL,KAAiBA,OAApC,EAA6C;AACzC,iBAAKtK,KAAL;AACH;AACJ,KAtZiC;;;AAwZlC;;;AAGAlmB,QA3ZkC,kBA2Z3B;AAAA;;AACH,YAAI,KAAKuwB,MAAT,EAAiB;AACb;AACH;AACD,aAAKj+B,OAAL,CAAa,aAAb,EAA4B,IAA5B;;AAEA,YAAMoN,mBAAmBxM,EAAEpC,MAAF,CAAS,KAAKvF,OAAL,CAAamU,gBAAb,IAAiC,EAA1C,EAA8C;AACnEyF,oBAAQ;AAD2D,SAA9C,CAAzB;AAGA,aAAK3F,SAAL,GAAiB,IAAI,KAAKjU,OAAL,CAAaiU,SAAjB,CAA2BE,gBAA3B,CAAjB;AACA,aAAKF,SAAL,CAAerL,EAAf,CAAkB,KAAlB,EAAyB,YAAa;AAAA,+CAATlC,IAAS;AAATA,oBAAS;AAAA;;AAClCA,iBAAK,CAAL,eAAmBA,KAAK,CAAL,CAAnB;AACA,mBAAKk+B,aAAL,eAAsBl+B,IAAtB;AACH,SAHD;AAIA,aAAK0P,EAAL,CAAQC,SAAR,CAAkBxM,GAAlB,CAAsBiL,QAAQ6uB,IAA9B;;AAEA,aAAKsB,OAAL,GAAe9jC,wBAAcukC,kBAAd,CAAiC,KAAKzxB,SAAtC,EAAiD;AAC5Dq1B,4BAAgB,KAAKtpC,OAAL,CAAawhC,IAD+B;AAE5DmE,oBAAQ,KAAKvvB;AAF+C,SAAjD,CAAf;AAIA,YAAI,KAAKpW,OAAL,CAAa4nC,YAAjB,EAA+B;AAC3B,iBAAKoB,oCAAL,CAA0C,KAAK/0B,SAAL,CAAe6X,GAAzD;AACA,iBAAKqd,sCAAL,CAA4C,KAAKl1B,SAAL,CAAe6X,GAA3D;AACH,SAHD,MAGO;AACH,iBAAKid,yBAAL,CAA+B,KAAK90B,SAAL,CAAe6X,GAA9C;AACA,iBAAKsc,oBAAL,CAA0B,KAAKn0B,SAAL,CAAe6X,GAAzC;AACH;AACD,aAAKmX,uBAAL,CAA6B,KAAK7sB,EAAlC,EAAsC,KAAKukB,KAA3C;AACA,aAAKx0B,QAAL,CAAc3F,4BAAd,EAAkC,yBAAlC,EAA6D,UAAC8hC,QAAD,EAAW5qB,KAAX;AAAA,mBAAqB,OAAKkuB,WAAL,CAAiBluB,KAAjB,CAArB;AAAA,SAA7D;AACA,aAAKvR,QAAL,CAAc3F,4BAAd,EAAkC,2BAAlC,EAA+D,KAAKqlC,uBAApE;AACA,YAAMtD,gBAAgBD,SAASC,aAA/B;AACA,YAAI,CAAC,KAAKwD,kBAAL,CAAwBxD,aAAxB,CAAD,IAA2C,CAAC,KAAKyD,iBAAL,CAAuBzD,aAAvB,CAAhD,EAAuF;AACnF,iBAAKtuB,SAAL,CAAe6X,GAAf,CAAmBoW,KAAnB;AACH,SAFD,MAEO;AACH,iBAAKA,KAAL,CAAWK,aAAX;AACH;AACD,aAAK0D,sBAAL,GAA8B,KAA9B;AACA,aAAKjB,MAAL,GAAc,IAAd;AACA,aAAKj+B,OAAL,CAAa,MAAb,EAAqB,IAArB;AACH,KAlciC;;;AAoclC;;;;AAIA4zB,SAxckC,mBAwcnB;AACX,YAAI,CAAC,KAAKqK,MAAN,IAAgB,CAAC1C,SAAS4D,IAAT,CAAcC,QAAd,CAAuB,KAAK/vB,EAA5B,CAArB,EAAsD;AAClD;AACH;AACD,aAAKrP,OAAL,CAAa,cAAb,EAA6B,IAA7B;AACA,aAAKqP,EAAL,CAAQC,SAAR,CAAkBzM,MAAlB,CAAyBkL,QAAQ6uB,IAAjC;;AAEAxiC,gCAAcmzB,UAAd,CAAyB,KAAK2Q,OAA9B;;AAEA,aAAKD,MAAL,GAAc,KAAd;AACA,aAAK7B,0BAAL;AACA,aAAKr6B,aAAL,CAAmBtI,4BAAnB;;AAXW,2CAANkG,IAAM;AAANA,gBAAM;AAAA;;AAaX,aAAKK,OAAL,cAAa,OAAb,EAAsB,IAAtB,4BAA+BL,IAA/B;AACA,YAAI,KAAK1G,OAAL,CAAaykC,gBAAb,IAAiC,CAAC,KAAK/O,WAA3C,EAAwD;AACpD,iBAAKpe,MAAL;AACH;AACJ;AAzdiC,CAAvB,C;;;;;;;;;;;;;;;;;ACzGf,IAAMxC,UAA8B;AAChCy0B,YAAQ;AADwB,CAApC;;AAIA;;;;;;;;;;;;;;;;kBAgBerpC,WAAWmV,QAAX,CAAoB9P,MAApB,CAA2B;AACtCmO,YADsC,sBACrB;AACb,YAAIoY,YAAJ;AACA,YAAI,KAAK9rB,OAAL,CAAawpC,MAAjB,EAAyB;AACrB1d,kBAAM,KAAKzoB,CAAL,CAAO,KAAKrD,OAAL,CAAawpC,MAApB,CAAN;AACH,SAFD,MAEO;AACH1d,kBAAM,KAAK1V,EAAX;AACH;AACD,YAAI,CAAC,KAAKpW,OAAL,CAAaypC,kBAAlB,EAAsC;AAClC3d,gBAAIzV,SAAJ,CAAcxM,GAAd,CAAkBiL,QAAQy0B,MAA1B;AACH;AACD,aAAK7gC,IAAL,CAAUw/B,OAAV,GAAoBpc,GAApB;AACH;AAZqC,CAA3B,C;;;;;;;;;;;ACrBf;AACA;AACA;AACA,KAAK;AAAA;AACL,CAAC;AACD;;AAEA;AACA;AACA;AACA,0CAA0C,+BAA+B;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA,sEAAsE,MAAM;AAC5E;AACA;AACA;AACA,0DAA0D,4BAA4B;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,0CAA0C,mBAAmB,EAAE;AAC/D;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,cAAc,gBAAgB;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA,sCAAsC,kBAAkB;AACxD;AACA;AACA,SAAS;AACT;AACA,mDAAmD,kBAAkB;AACrE;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA,SAAS;;AAET;AACA,kEAAkE;AAClE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;;AAEA;AACA;AACA;AACA;;AAEA,2CAA2C;AAC3C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,2BAA2B,oDAAoD;AAC/E;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,kBAAkB;AAChC;AACA;;AAEA;AACA;;AAEA;AACA;AACA,2BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uBAAuB,gBAAgB;AACvC;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAkC,YAAY;AAC9C,0CAA0C;AAC1C;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,YAAY;AAC9C,0CAA0C;AAC1C;AACA;;AAEA,mDAAmD,mBAAmB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,YAAY;;AAEnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E;AAC3E,+EAA+E;AAC/E,mFAAmF;AACnF,uFAAuF;AACvF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,EAAE;;AAElC;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA,gDAAgD,WAAW;AAC3D;AACA;AACA;AACA;AACA,aAAa;AACb,2BAA2B;AAC3B;;AAEA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B,oBAAoB;AACnD,2CAA2C,aAAa;AACxD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,0DAA0D,YAAY,cAAc;AACpF,SAAS;;AAET;AACA;AACA;AACA;AACA,mDAAmD,YAAY,cAAc;AAC7E,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,oCAAoC,kBAAkB,YAAY,iBAAiB;AACnF,SAAS;;AAET;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA,yEAAyE,yBAAyB;AAClG;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA,sDAAsD,eAAe;AACrE;;AAEA;AACA,wBAAwB;AACxB,wBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC,mBAAmB,YAAY;AAC/B,mBAAmB,iBAAiB;AACpC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,EAAE;;AAElC;AACA;AACA;AACA,wCAAwC,8BAA8B,EAAE;AACxE,SAAS;;AAET;AACA;AACA;AACA;AACA,mDAAmD,eAAe;AAClE,SAAS;;AAET;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA,sCAAsC;AACtC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,iCAAiC,eAAe;;AAEhD;AACA;AACA,2BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,wBAAwB;AACnD;AACA;AACA;AACA;AACA,qDAAqD,eAAe;AACpE;AACA;AACA,SAAS;;AAET;AACA;AACA,kDAAkD,kBAAkB;AACpE,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,kDAAkD,QAAQ;AAC1D,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,+BAA+B,OAAO;AACtC,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA,gCAAgC,EAAE;;AAElC;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,aAAa,6BAA6B;AAC1C;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,uEAAuE,WAAW,SAAS;AAC3F;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA,gCAAgC,EAAE;;AAElC;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,kCAAkC,UAAU;AAC5C,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA,gCAAgC,sCAAsC;;AAEtE;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,cAAc;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,WAAW,GAAG,iBAAiB;AAC5E;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB,mDAAmD,gBAAgB;AACnE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gBAAgB;AAC5D;;AAEA;AACA;AACA,wCAAwC,YAAY;AACpD;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,mCAAmC,kBAAkB;AACrD,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;;AAEzD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,+EAA+E;;AAE/E;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,oCAAoC,OAAO,GAAG,WAAW;AACzD,aAAa;AACb;AACA,oCAAoC,WAAW;AAC/C;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,gCAAgC,sCAAsC;AACtE;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;;;;ACzpDD4d,OAAOC,OAAP,GAAiBC,OAAO,UAAP,IAAqB,mBAAAC,CAAQ,oDAAR,CAAtC,C;;;;;;;;;;;;;;;;;ACAA;;;AAGA,CAAC,YAAW;AACR;AACA;;AAEA;AACA,QAAIC,gBAAgB,EAApB;;AAEA;AACA;AACA,QAAMC,sBAAsB,SAAtBA,mBAAsB,CAAS7hC,KAAT,EAAgB;AACxC,YAAI,CAACP,EAAEqiC,OAAF,CAAU9hC,MAAM+hC,eAAhB,CAAL,EAAuC;AACnC,gBAAI,CAACtiC,EAAEy5B,SAAF,CAAY0I,aAAZ,EAA2B,EAAExhC,KAAKJ,MAAMI,GAAb,E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","file":"core.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"core\"] = factory();\n\telse\n\t\troot[\"core\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/*!\n\tautosize 4.0.2\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(['module', 'exports'], factory);\n\t} else if (typeof exports !== \"undefined\") {\n\t\tfactory(module, exports);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod, mod.exports);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (module, exports) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete: function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function createEvent(name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = null;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\t\t\tta.style.height = ta.scrollHeight + heightOffset + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight < styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap.delete(ta);\n\t\t}.bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function autosize(el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function autosize(el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\texports.default = autosize;\n\tmodule.exports = exports['default'];\n});","\"use strict\";\n\nrequire(\"core-js/shim\");\n\nrequire(\"regenerator-runtime/runtime\");\n\nrequire(\"core-js/fn/regexp/escape\");\n\nif (global._babelPolyfill) {\n  throw new Error(\"only one instance of babel-polyfill is allowed\");\n}\nglobal._babelPolyfill = true;\n\nvar DEFINE_PROPERTY = \"defineProperty\";\nfunction define(O, key, value) {\n  O[key] || Object[DEFINE_PROPERTY](O, key, {\n    writable: true,\n    configurable: true,\n    value: value\n  });\n}\n\ndefine(String.prototype, \"padLeft\", \"\".padStart);\ndefine(String.prototype, \"padRight\", \"\".padEnd);\n\n\"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill\".split(\",\").forEach(function (key) {\n  [][key] && define(Array, key, Function.call.bind([][key]));\n});","//\r\n//  Backbone-associations.js 0.6.2\r\n//\r\n//  (c) 2014 Dhruva Ray, Jaynti Kanani, Persistent Systems Ltd.\r\n//  Backbone-associations may be freely distributed under the MIT license.\r\n//  For all details and documentation:\r\n//  https://github.com/dhruvaray/backbone-associations/\r\n//\r\n\r\n(function(root, factory) {\r\n    // Set up Backbone-associations appropriately for the environment. Start with AMD.\r\n    if (typeof define === 'function' && define.amd) {\r\n        define(['underscore', 'backbone'], function(_, Backbone) {\r\n            // Export global even in AMD case in case this script is loaded with\r\n            // others that may still expect a global Backbone.\r\n            return factory(root, Backbone, _);\r\n        });\r\n\r\n    // Next for Node.js or CommonJS.\r\n    } else if (typeof exports !== 'undefined') {\r\n        var _ = require('underscore'),\r\n            Backbone = require('backbone');\r\n        factory(root, Backbone, _);\r\n        if (typeof module !== 'undefined' && module.exports) {\r\n            module.exports = Backbone;\r\n        }\r\n        exports = Backbone;\r\n\r\n    // Finally, as a browser global.\r\n    } else {\r\n        factory(root, root.Backbone, root._);\r\n    }\r\n\r\n}(this, function(root, Backbone, _) {\r\n    \"use strict\";\r\n\r\n    // Initial Setup\r\n    // --------------\r\n\r\n    // The top-level namespace. All public Backbone classes and modules will be attached to this.\r\n    // Exported for the browser and CommonJS.\r\n    var BackboneModel, BackboneCollection, ModelProto, BackboneEvent,\r\n        CollectionProto, AssociatedModel, pathChecker,\r\n        delimiters, pathSeparator, sourceModel, sourceKey, endPoints = {};\r\n\r\n    // Create local reference `Model` prototype.\r\n    BackboneModel = Backbone.Model;\r\n    BackboneCollection = Backbone.Collection;\r\n    ModelProto = BackboneModel.prototype;\r\n    CollectionProto = BackboneCollection.prototype;\r\n    BackboneEvent = Backbone.Events;\r\n\r\n    Backbone.Associations = {\r\n        VERSION: \"0.6.2\"\r\n    };\r\n\r\n    // Alternative scopes other than root\r\n    Backbone.Associations.scopes = [];\r\n\r\n    // Define `getter` and `setter` for `separator`\r\n    var getSeparator = function() {\r\n        return pathSeparator;\r\n    };\r\n    // Define `setSeperator`\r\n    var setSeparator = function(value) {\r\n        if (!_.isString(value) || _.size(value) < 1) {\r\n            value = \".\";\r\n        }\r\n        // set private properties\r\n        pathSeparator = value;\r\n        pathChecker = new RegExp(\"[\\\\\" + pathSeparator + \"\\\\[\\\\]]+\", \"g\");\r\n        delimiters = new RegExp(\"[^\\\\\" + pathSeparator + \"\\\\[\\\\]]+\", \"g\");\r\n    };\r\n\r\n    try {\r\n        // Define `SEPERATOR` property to Backbone.Associations\r\n        Object.defineProperty(Backbone.Associations, 'SEPARATOR', {\r\n            enumerable: true,\r\n            get: getSeparator,\r\n            set: setSeparator\r\n        });\r\n    } catch (e) {}\r\n\r\n    // Backbone.AssociatedModel\r\n    // --------------\r\n\r\n    //Add `Many` and `One` relations to Backbone Object.\r\n    Backbone.Associations.Many = Backbone.Many = \"Many\";\r\n    Backbone.Associations.One = Backbone.One = \"One\";\r\n    Backbone.Associations.Self = Backbone.Self = \"Self\";\r\n    // Set default separator\r\n    Backbone.Associations.SEPARATOR = \".\";\r\n    Backbone.Associations.getSeparator = getSeparator;\r\n    Backbone.Associations.setSeparator = setSeparator;\r\n\r\n    Backbone.Associations.EVENTS_BUBBLE = true;\r\n    Backbone.Associations.EVENTS_WILDCARD = true;\r\n    Backbone.Associations.EVENTS_NC = false;\r\n\r\n\r\n    setSeparator();\r\n\r\n    // Define `AssociatedModel` (Extends Backbone.Model).\r\n    AssociatedModel = Backbone.AssociatedModel = Backbone.Associations.AssociatedModel = BackboneModel.extend({\r\n        // Define relations with Associated Model.\r\n        relations:undefined,\r\n        // Define `Model` property which can keep track of already fired `events`,\r\n        // and prevent redundant event to be triggered in case of cyclic model graphs.\r\n        _proxyCalls:undefined,\r\n\r\n        // Override constructor to set parents\r\n        constructor: function (attributes, options) {\r\n            // Set parent's opportunistically.\r\n            options && options.__parents__ && (this.parents = [options.__parents__]);\r\n            BackboneModel.apply(this, arguments);\r\n        },\r\n\r\n        on: function (name, callback, context) {\r\n\r\n            var result = BackboneEvent.on.apply(this, arguments);\r\n\r\n            // No optimization possible if nested-events is wanted by the application\r\n            if (Backbone.Associations.EVENTS_NC) return result;\r\n\r\n            // Regular expression used to split event strings.\r\n            var eventSplitter = /\\s+/;\r\n\r\n            // Handle atomic event names only\r\n            if (_.isString(name) && name && (!eventSplitter.test(name)) && callback) {\r\n                var endPoint = getPathEndPoint(name);\r\n                if (endPoint) {\r\n                    //Increment end point counter. Represents # of nodes which listen to this end point\r\n                    endPoints[endPoint] = (typeof endPoints[endPoint] === 'undefined') ? 1 : (endPoints[endPoint] + 1);\r\n                }\r\n            }\r\n            return result;\r\n        },\r\n\r\n        off: function (name, callback, context) {\r\n\r\n            // No optimization possible if nested-events is wanted by the application\r\n            if (Backbone.Associations.EVENTS_NC) return BackboneEvent.off.apply(this, arguments);\r\n\r\n            var eventSplitter = /\\s+/,\r\n                events = this._events,\r\n                listeners = {},\r\n                names = events ? _.keys(events) : [],\r\n                all = (!name && !callback && !context),\r\n                atomic_event = (_.isString(name) && (!eventSplitter.test(name)));\r\n\r\n            if (all || atomic_event) {\r\n                for (var i = 0, l = names.length; i < l; i++) {\r\n                    // Store the # of callbacks listening to the event name prior to the `off` call\r\n                    listeners[names[i]] = events[names[i]] ? events[names[i]].length : 0;\r\n                }\r\n            }\r\n            // Call Backbone off implementation\r\n            var result = BackboneEvent.off.apply(this, arguments);\r\n\r\n            if (all || atomic_event) {\r\n                for (i = 0, l = names.length; i < l; i++) {\r\n                    var endPoint = getPathEndPoint(names[i]);\r\n                    if (endPoint) {\r\n                        if (events[names[i]]) {\r\n                            // Some listeners wiped out for this name for this object\r\n                            endPoints[endPoint] -= (listeners[names[i]] - events[names[i]].length);\r\n                        } else {\r\n                            // All listeners wiped out for this name for this object\r\n                            endPoints[endPoint] -= listeners[names[i]];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return result;\r\n        },\r\n\r\n        // Get the value of an attribute.\r\n        get:function (attr) {\r\n            var cache = this.__attributes__,\r\n                val = ModelProto.get.call(this, attr),\r\n                obj = cache ? (isValuePresent(val) ? val : cache[attr]) : val;\r\n            return isValuePresent(obj) ? obj : this._getAttr.apply(this, arguments);\r\n        },\r\n\r\n        // Set a hash of model attributes on the Backbone Model.\r\n        set:function (key, value, options) {\r\n            var attributes, result;\r\n            // Duplicate backbone's behavior to allow separate key/value parameters,\r\n            // instead of a single 'attributes' object.\r\n            if (_.isObject(key) || key == null) {\r\n                attributes = key;\r\n                options = value;\r\n            } else {\r\n                attributes = {};\r\n                attributes[key] = value;\r\n            }\r\n            result = this._set(attributes, options);\r\n            // Trigger events which have been blocked until the entire object graph is updated.\r\n            this._processPendingEvents();\r\n            return result;\r\n\r\n        },\r\n\r\n        // Works with an attribute hash and options + fully qualified paths\r\n        _set:function (attributes, options) {\r\n            var attr, modelMap, modelId, obj, result = this;\r\n            if (!attributes) return this;\r\n\r\n            // temp cache of attributes\r\n            this.__attributes__ = attributes;\r\n\r\n            for (attr in attributes) {\r\n                //Create a map for each unique object whose attributes we want to set\r\n                modelMap || (modelMap = {});\r\n                if (attr.match(pathChecker)) {\r\n                    var pathTokens = getPathArray(attr), initials = _.initial(pathTokens),\r\n                        last = pathTokens[pathTokens.length - 1],\r\n                        parentModel = this.get(initials);\r\n                    if (parentModel instanceof BackboneModel) {\r\n                        obj = modelMap[parentModel.cid] ||\r\n                            (modelMap[parentModel.cid] = {'model': parentModel, 'data': {}});\r\n                        obj.data[last] = attributes[attr];\r\n                    }\r\n                } else {\r\n                    obj = modelMap[this.cid] || (modelMap[this.cid] = {'model':this, 'data':{}});\r\n                    obj.data[attr] = attributes[attr];\r\n                }\r\n            }\r\n\r\n            if (modelMap) {\r\n                for (modelId in modelMap) {\r\n                    obj = modelMap[modelId];\r\n                    this._setAttr.call(obj.model, obj.data, options) || (result = false);\r\n\r\n                }\r\n            } else {\r\n                result = this._setAttr.call(this, attributes, options);\r\n            }\r\n\r\n            delete this.__attributes__;\r\n\r\n            return result;\r\n\r\n        },\r\n\r\n        // Set a hash of model attributes on the object,\r\n        // fire Backbone `event` with options.\r\n        // It maintains relations between models during the set operation.\r\n        // It also bubbles up child events to the parent.\r\n        _setAttr:function (attributes, options) {\r\n            var attr;\r\n            // Extract attributes and options.\r\n            options || (options = {});\r\n            if (options.unset) for (attr in attributes) attributes[attr] = void 0;\r\n            this.parents = this.parents || [];\r\n\r\n            if (this.relations) {\r\n                // Iterate over `this.relations` and `set` model and collection values\r\n                // if `relations` are available.\r\n                _.each(this.relations, function (relation) {\r\n                    var relationKey = relation.key,\r\n                        activationContext = relation.scope || root,\r\n                        relatedModel = this._transformRelatedModel(relation, attributes),\r\n                        collectionType = this._transformCollectionType(relation, relatedModel, attributes),\r\n                        map = _.isString(relation.map) ? map2Scope(relation.map, activationContext) : relation.map,\r\n                        currVal = this.attributes[relationKey],\r\n                        idKey = currVal && currVal.idAttribute,\r\n                        val, relationOptions, data, relationValue, newCtx = false;\r\n\r\n                    // Merge in `options` specific to this relation.\r\n                    relationOptions = relation.options ? _.extend({}, relation.options, options) : options;\r\n\r\n                    if (attributes[relationKey]) {\r\n\r\n                        // Get value of attribute with relation key in `val`.\r\n                        val = _.result(attributes, relationKey);\r\n\r\n                        // Map `val` if a transformation function is provided.\r\n                        val = map ? map.call(this, val, collectionType ? collectionType : relatedModel) : val;\r\n                        if (!isValuePresent(val)) {\r\n                            data = val;\r\n                        } else {\r\n                            // If `relation.type` is `Backbone.Many`,\r\n                            // Create `Backbone.Collection` with passed data and perform Backbone `set`.\r\n                            if (relation.type === Backbone.Many) {\r\n\r\n                                if (currVal) {\r\n                                    // Setting this flag will prevent events from firing immediately. That way clients\r\n                                    // will not get events until the entire object graph is updated.\r\n                                    currVal._deferEvents = true;\r\n\r\n                                    // Use Backbone.Collection's `reset` or smart `set` method\r\n                                    currVal[relationOptions.reset ? 'reset' : 'set'](\r\n                                        val instanceof BackboneCollection ? val.models : val, relationOptions);\r\n\r\n                                    data = currVal;\r\n\r\n                                } else {\r\n                                    newCtx = true;\r\n\r\n                                    if (val instanceof BackboneCollection) {\r\n                                        data = val;\r\n                                    } else {\r\n                                        data = this._createCollection(\r\n                                            collectionType || BackboneCollection,\r\n                                            relation.collectionOptions || (relatedModel ? {model: relatedModel} : {})\r\n                                        );\r\n                                        data[relationOptions.reset ? 'reset' : 'set'](val, relationOptions);\r\n                                    }\r\n                                }\r\n\r\n                            } else if (relation.type === Backbone.One) {\r\n\r\n                                var hasOwnProperty = (val instanceof BackboneModel) ?\r\n                                    val.attributes.hasOwnProperty(idKey) :\r\n                                    val.hasOwnProperty(idKey);\r\n                                var newIdKey = (val instanceof BackboneModel) ?\r\n                                    val.attributes[idKey] :\r\n                                    val[idKey];\r\n\r\n                                //Is the passed in data for the same key?\r\n                                if (currVal && hasOwnProperty &&\r\n                                    currVal.attributes[idKey] === newIdKey) {\r\n                                    // Setting this flag will prevent events from firing immediately. That way clients\r\n                                    // will not get events until the entire object graph is updated.\r\n                                    currVal._deferEvents = true;\r\n                                    // Perform the traditional `set` operation\r\n                                    currVal._set(val instanceof BackboneModel ? val.attributes : val, relationOptions);\r\n                                    data = currVal;\r\n                                } else {\r\n                                    newCtx = true;\r\n\r\n                                    if (val instanceof BackboneModel) {\r\n                                        data = val;\r\n                                    } else {\r\n                                        relationOptions.__parents__ = this;\r\n                                        data = new relatedModel(val, relationOptions);\r\n                                        delete relationOptions.__parents__;\r\n                                    }\r\n\r\n                                }\r\n                            } else {\r\n                                throw new Error('type attribute must be specified and ' +\r\n                                    'have the values Backbone.One or Backbone.Many');\r\n                            }\r\n                        }\r\n\r\n\r\n                        attributes[relationKey] = data;\r\n                        relationValue = data;\r\n\r\n                        // Add proxy events to respective parents.\r\n                        // Only add callback if not defined or new Ctx has been identified.\r\n                        if (newCtx || (relationValue && !relationValue._proxyCallback)) {\r\n                            if(!relationValue._proxyCallback) {\r\n                            \trelationValue._proxyCallback = function () {\r\n                                \treturn Backbone.Associations.EVENTS_BUBBLE &&\r\n                                    \tthis._bubbleEvent.call(this, relationKey, relationValue, arguments);\r\n                            \t};\r\n                            }\r\n                            relationValue.on(\"all\", relationValue._proxyCallback, this);\r\n                        }\r\n\r\n                    }\r\n                    //Distinguish between the value of undefined versus a set no-op\r\n                    if (attributes.hasOwnProperty(relationKey))\r\n                        this._setupParents(attributes[relationKey], this.attributes[relationKey]);\r\n                }, this);\r\n            }\r\n            // Return results for `BackboneModel.set`.\r\n            return  ModelProto.set.call(this, attributes, options);\r\n        },\r\n\r\n\r\n        // Bubble-up event to `parent` Model\r\n        _bubbleEvent:function (relationKey, relationValue, eventArguments) {\r\n            var args = eventArguments,\r\n                opt = args[0].split(\":\"),\r\n                eventType = opt[0],\r\n                catch_all = args[0] == \"nested-change\",\r\n                isChangeEvent = eventType === \"change\",\r\n                eventObject = args[1],\r\n                indexEventObject = -1,\r\n                _proxyCalls = relationValue._proxyCalls,\r\n                cargs,\r\n                eventPath = opt[1],\r\n                eSrc = !eventPath || (eventPath.indexOf(pathSeparator) == -1),\r\n                basecolEventPath;\r\n\r\n\r\n            // Short circuit the listen in to the nested-graph event\r\n            if (catch_all) return;\r\n\r\n            // Record the source of the event\r\n            if (eSrc) sourceKey = (getPathEndPoint(args[0]) || relationKey);\r\n\r\n            // Short circuit the event bubbling as there are no listeners for this end point\r\n            if (!Backbone.Associations.EVENTS_NC && !endPoints[sourceKey]) return;\r\n\r\n            // Short circuit the listen in to the wild-card event\r\n            if (Backbone.Associations.EVENTS_WILDCARD) {\r\n                if (/\\[\\*\\]/g.test(eventPath)) return this;\r\n            }\r\n\r\n            if (relationValue instanceof BackboneCollection && (isChangeEvent || eventPath)) {\r\n                // O(n) search :(\r\n                indexEventObject = relationValue.indexOf(sourceModel || eventObject);\r\n            }\r\n\r\n            if (this instanceof BackboneModel) {\r\n                // A quicker way to identify the model which caused an update inside the collection (while bubbling up)\r\n                sourceModel = this;\r\n            }\r\n            // Manipulate `eventPath`.\r\n            eventPath = relationKey + ((indexEventObject !== -1 && (isChangeEvent || eventPath)) ?\r\n                \"[\" + indexEventObject + \"]\" : \"\") + (eventPath ? pathSeparator + eventPath : \"\");\r\n\r\n            // Short circuit collection * events\r\n\r\n            if (Backbone.Associations.EVENTS_WILDCARD) {\r\n                basecolEventPath = eventPath.replace(/\\[\\d+\\]/g, '[*]');\r\n            }\r\n\r\n            cargs = [];\r\n            cargs.push.apply(cargs, args);\r\n            cargs[0] = eventType + \":\" + eventPath;\r\n\r\n            // Create a collection modified event with wild-card\r\n            if (Backbone.Associations.EVENTS_WILDCARD && eventPath !== basecolEventPath) {\r\n                cargs[0] = cargs[0] + \" \" + eventType + \":\" + basecolEventPath;\r\n            }\r\n\r\n            // If event has been already triggered as result of same source `eventPath`,\r\n            // no need to re-trigger event to prevent cycle.\r\n            _proxyCalls = relationValue._proxyCalls = (_proxyCalls || {});\r\n            if (this._isEventAvailable.call(this, _proxyCalls, eventPath)) return this;\r\n\r\n            // Add `eventPath` in `_proxyCalls` to keep track of already triggered `event`.\r\n            _proxyCalls[eventPath] = true;\r\n\r\n\r\n            // Set up previous attributes correctly.\r\n            if (isChangeEvent) {\r\n                this._previousAttributes[relationKey] = relationValue._previousAttributes;\r\n                this.changed[relationKey] = relationValue;\r\n            }\r\n\r\n\r\n            // Bubble up event to parent `model` with new changed arguments.\r\n\r\n            this.trigger.apply(this, cargs);\r\n\r\n            //Only fire for change. Not change:attribute\r\n            if (Backbone.Associations.EVENTS_NC && isChangeEvent && this.get(eventPath) != args[2]) {\r\n                var ncargs = [\"nested-change\", eventPath, args[1]];\r\n                args[2] && ncargs.push(args[2]); //args[2] will be options if present\r\n                this.trigger.apply(this, ncargs);\r\n            }\r\n\r\n            // Remove `eventPath` from `_proxyCalls`,\r\n            // if `eventPath` and `_proxyCalls` are available,\r\n            // which allow event to be triggered on for next operation of `set`.\r\n            if (_proxyCalls && eventPath) delete _proxyCalls[eventPath];\r\n\r\n            sourceModel = undefined;\r\n\r\n            return this;\r\n        },\r\n\r\n        // Has event been fired from this source. Used to prevent event recursion in cyclic graphs\r\n        _isEventAvailable:function (_proxyCalls, path) {\r\n            return _.find(_proxyCalls, function (value, eventKey) {\r\n                return path.indexOf(eventKey, path.length - eventKey.length) !== -1;\r\n            });\r\n        },\r\n\r\n        //Maintain reverse pointers - a.k.a parents\r\n        _setupParents: function (updated, original) {\r\n            // Set new parent for updated\r\n            if (updated) {\r\n                updated.parents = updated.parents || [];\r\n                (_.indexOf(updated.parents, this) == -1) && updated.parents.push(this);\r\n            }\r\n            // Remove `this` from the earlier set value's parents (if the new value is different).\r\n            if (original && original.parents.length > 0 && original != updated) {\r\n                original.parents = _.difference(original.parents, [this]);\r\n                // Don't bubble to this parent anymore\r\n                original._proxyCallback && original.off(\"all\", original._proxyCallback, this);\r\n            }\r\n        },\r\n\r\n        // Returns new `collection` (or derivatives) of type `options.model`.\r\n        _createCollection: function (type, options) {\r\n            options = _.defaults(options, {model: type.model});\r\n            var c = new type([], _.isFunction(options) ? options.call(this) : options);\r\n            c.parents = [this];\r\n            return c;\r\n        },\r\n\r\n        // Process all pending events after the entire object graph has been updated\r\n        _processPendingEvents:function () {\r\n            if (!this._processedEvents) {\r\n                this._processedEvents = true;\r\n\r\n                this._deferEvents = false;\r\n\r\n                // Trigger all pending events\r\n                _.each(this._pendingEvents, function (e) {\r\n                    e.c.trigger.apply(e.c, e.a);\r\n                });\r\n\r\n                this._pendingEvents = [];\r\n\r\n                // Traverse down the object graph and call process pending events on sub-trees\r\n                _.each(this.relations, function (relation) {\r\n                    var val = this.attributes[relation.key];\r\n                    val && val._processPendingEvents && val._processPendingEvents();\r\n                }, this);\r\n\r\n                delete this._processedEvents;\r\n            }\r\n        },\r\n\r\n        // Process the raw `relatedModel` value set in a relation\r\n        _transformRelatedModel: function (relation, attributes) {\r\n\r\n            var relatedModel = relation.relatedModel;\r\n            var activationContext = relation.scope || root;\r\n\r\n            // Call function if relatedModel is implemented as a function\r\n            if (relatedModel && !(relatedModel.prototype instanceof BackboneModel))\r\n                relatedModel = _.isFunction(relatedModel) ?\r\n                    relatedModel.call(this, relation, attributes) :\r\n                    relatedModel;\r\n\r\n            // Get class if relation and map is stored as a string.\r\n            if (relatedModel && _.isString(relatedModel)) {\r\n                relatedModel = (relatedModel === Backbone.Self) ?\r\n                    this.constructor :\r\n                    map2Scope(relatedModel, activationContext);\r\n            }\r\n\r\n            // Error checking\r\n            if (relation.type === Backbone.One) {\r\n\r\n                if (!relatedModel)\r\n                    throw new Error('specify a relatedModel for Backbone.One type');\r\n\r\n                if (!(relatedModel.prototype instanceof Backbone.Model))\r\n                    throw new Error('specify an AssociatedModel or Backbone.Model for Backbone.One type');\r\n            }\r\n\r\n            return relatedModel;\r\n        },\r\n\r\n        // Process the raw `collectionType` value set in a relation\r\n        _transformCollectionType: function (relation, relatedModel, attributes) {\r\n\r\n            var collectionType = relation.collectionType;\r\n            var activationContext = relation.scope || root;\r\n\r\n            if (collectionType && _.isFunction(collectionType) &&\r\n                (collectionType.prototype instanceof BackboneModel))\r\n                throw new Error('type is of Backbone.Model. Specify derivatives of Backbone.Collection');\r\n\r\n            // Call function if collectionType is implemented as a function\r\n            if (collectionType && !(collectionType.prototype instanceof BackboneCollection))\r\n                collectionType = _.isFunction(collectionType) ?\r\n                    collectionType.call(this, relation, attributes) : collectionType;\r\n\r\n            collectionType && _.isString(collectionType) &&\r\n            (collectionType = map2Scope(collectionType, activationContext));\r\n\r\n            // `collectionType` of defined `relation` should be instance of `Backbone.Collection`.\r\n            if (collectionType && !collectionType.prototype instanceof BackboneCollection) {\r\n                throw new Error('collectionType must inherit from Backbone.Collection');\r\n            }\r\n\r\n            // Error checking\r\n            if (relation.type === Backbone.Many) {\r\n                if ((!relatedModel) && (!collectionType))\r\n                    throw new Error('specify either a relatedModel or collectionType');\r\n            }\r\n\r\n            return collectionType;\r\n\r\n        },\r\n\r\n        // Override trigger to defer events in the object graph.\r\n        trigger:function (name) {\r\n            // Defer event processing\r\n            if (this._deferEvents) {\r\n                this._pendingEvents = this._pendingEvents || [];\r\n                // Maintain a queue of pending events to trigger after the entire object graph is updated.\r\n                this._pendingEvents.push({c:this, a:arguments});\r\n            } else {\r\n                ModelProto.trigger.apply(this, arguments);\r\n            }\r\n        },\r\n\r\n        // The JSON representation of the model.\r\n        toJSON:function (options) {\r\n            var json = {}, aJson;\r\n            json[this.idAttribute] = this.id;\r\n            if (!this.visited) {\r\n                this.visited = true;\r\n                // Get json representation from `BackboneModel.toJSON`.\r\n                json = ModelProto.toJSON.apply(this, arguments);\r\n\r\n                // Pick up only the keys you want to serialize\r\n                if (options && options.serialize_keys) {\r\n                    json = _.pick(json, options.serialize_keys);\r\n                }\r\n                // If `this.relations` is defined, iterate through each `relation`\r\n                // and added it's json representation to parents' json representation.\r\n                if (this.relations) {\r\n                    _.each(this.relations, function (relation) {\r\n                        var key = relation.key,\r\n                            remoteKey = relation.remoteKey,\r\n                            attr = this.attributes[key],\r\n                            serialize = !relation.isTransient,\r\n                            serialize_keys = relation.serialize || [],\r\n                            _options = _.clone(options);\r\n\r\n                        // Remove default Backbone serialization for associations.\r\n                        delete json[key];\r\n\r\n                        //Assign to remoteKey if specified. Otherwise use the default key.\r\n                        //Only for non-transient relationships\r\n                        if (serialize) {\r\n\r\n                            // Pass the keys to serialize as options to the toJSON method.\r\n                            if (serialize_keys.length) {\r\n                                _options ?\r\n                                    (_options.serialize_keys = serialize_keys) :\r\n                                    (_options = {serialize_keys: serialize_keys})\r\n                            }\r\n\r\n                            aJson = attr && attr.toJSON ? attr.toJSON(_options) : attr;\r\n                            json[remoteKey || key] = _.isArray(aJson) ? _.compact(aJson) : aJson;\r\n                        }\r\n\r\n                    }, this);\r\n                }\r\n\r\n                delete this.visited;\r\n            }\r\n            return json;\r\n        },\r\n\r\n        // Create a new model with identical attributes to this one.\r\n        clone: function (options) {\r\n            return new this.constructor(this.toJSON(options));\r\n        },\r\n\r\n        // Call this if you want to set an `AssociatedModel` to a falsy value like undefined/null directly.\r\n        // Not calling this will leak memory and have wrong parents.\r\n        // See test case \"parent relations\"\r\n        cleanup:function (options) {\r\n            options = options || {};\r\n\r\n            _.each(this.relations, function (relation) {\r\n                var val = this.attributes[relation.key];\r\n                if(val) {\r\n                    val._proxyCallback && val.off(\"all\", val._proxyCallback, this);\r\n                    val.parents = _.difference(val.parents, [this]);\r\n                }\r\n            }, this);\r\n            \r\n            (!options.listen) && this.off();\r\n        },\r\n\r\n        // Override destroy to perform house-keeping on `parents` collection\r\n        destroy: function(options) {\r\n            options = options ? _.clone(options) : {};\r\n            options = _.defaults(options, {remove_references: true, listen: true});\r\n            var model = this;\r\n\r\n            if(options.remove_references && options.wait) {\r\n                // Proxy success implementation\r\n                var success = options.success;\r\n\r\n                // Substitute with an implementation which will remove references to `model`\r\n                options.success = function (resp) {\r\n                    if (success) success(model, resp, options);\r\n                    model.cleanup(options);\r\n                }\r\n            }\r\n            // Call the base implementation\r\n            var xhr =  ModelProto.destroy.apply(this, [options]);\r\n\r\n            if(options.remove_references && !options.wait) {\r\n                model.cleanup(options);\r\n            }\r\n\r\n            return xhr;\r\n        },\r\n\r\n        // Navigate the path to the leaf object in the path to query for the attribute value\r\n        _getAttr:function (path) {\r\n\r\n            var result = this,\r\n                cache = this.__attributes__,\r\n            //Tokenize the path\r\n                attrs = getPathArray(path),\r\n                key,\r\n                i;\r\n            if (_.size(attrs) < 1) return;\r\n            for (i = 0; i < attrs.length; i++) {\r\n                key = attrs[i];\r\n                if (!result) break;\r\n                //Navigate the path to get to the result\r\n                result = result instanceof BackboneCollection\r\n                    ? (isNaN(key) ? undefined : result.at(key))\r\n                    : (cache ?\r\n                    (isValuePresent(result.attributes[key]) ? result.attributes[key] : cache[key]) :\r\n                    result.attributes[key]\r\n                    );\r\n            }\r\n            return result;\r\n        }\r\n    });\r\n\r\n    // Tokenize the fully qualified event path\r\n    var getPathArray = function (path) {\r\n        if (path === '') return [''];\r\n        return _.isString(path) ? (path.match(delimiters)) : path || [];\r\n    };\r\n\r\n    // Get the end point of the path.\r\n    var getPathEndPoint = function (path) {\r\n\r\n        if (!path) return path;\r\n\r\n        // event_type:<path>\r\n        var tokens = path.split(\":\");\r\n\r\n        if (tokens.length > 1) {\r\n            path = tokens[tokens.length - 1];\r\n            tokens = path.split(pathSeparator);\r\n            return tokens.length > 1 ? tokens[tokens.length - 1].split('[')[0] : tokens[0].split('[')[0];\r\n        } else {\r\n            //path of 0 depth\r\n            return \"\";\r\n        }\r\n\r\n    };\r\n\r\n    var map2Scope = function (path, context) {\r\n        var target,\r\n            scopes = [context];\r\n\r\n        // Check global scopes after passed-in context\r\n        scopes.push.apply(scopes, Backbone.Associations.scopes);\r\n\r\n        for (var ctx, i = 0, l = scopes.length; i < l; ++i) {\r\n            if (ctx = scopes[i]) {\r\n                target = _.reduce(path.split(pathSeparator), function (memo, elem) {\r\n                    return memo[elem];\r\n                }, ctx);\r\n                if (target) break;\r\n            }\r\n        }\r\n        return target;\r\n    };\r\n\r\n\r\n    // Infer the relation from the collection's parents and find the appropriate map for the passed in `models`\r\n    var map2models = function (parents, target, models) {\r\n        var relation, surrogate;\r\n        //Iterate over collection's parents\r\n        _.find(parents, function (parent) {\r\n            //Iterate over relations\r\n            relation = _.find(parent.relations, function (rel) {\r\n                return parent.get(rel.key) === target;\r\n            }, this);\r\n            if (relation) {\r\n                surrogate = parent;//surrogate for transformation\r\n                return true;//break;\r\n            }\r\n        }, this);\r\n\r\n        //If we found a relation and it has a mapping function\r\n        if (relation && relation.map) {\r\n            return relation.map.call(surrogate, models, target);\r\n        }\r\n        return models;\r\n    };\r\n\r\n    // Utility method to check for null or undefined value\r\n    var isValuePresent = function (value) {\r\n        return (!_.isUndefined(value)) && (!_.isNull(value));\r\n    };\r\n\r\n    var proxies = {};\r\n    // Proxy Backbone collection methods\r\n    _.each(['set', 'remove', 'reset'], function (method) {\r\n        proxies[method] = BackboneCollection.prototype[method];\r\n\r\n        CollectionProto[method] = function (models, options) {\r\n            //Short-circuit if this collection doesn't hold `AssociatedModels`\r\n            if (this.model.prototype instanceof AssociatedModel && this.parents) {\r\n                //Find a map function if available and perform a transformation\r\n                arguments[0] = map2models(this.parents, this, models);\r\n            }\r\n            return proxies[method].apply(this, arguments);\r\n        }\r\n    });\r\n\r\n    // Override trigger to defer events in the object graph.\r\n    proxies['trigger'] = CollectionProto['trigger'];\r\n    CollectionProto['trigger'] = function (name) {\r\n        if (this._deferEvents) {\r\n            this._pendingEvents = this._pendingEvents || [];\r\n            // Maintain a queue of pending events to trigger after the entire object graph is updated.\r\n            this._pendingEvents.push({c:this, a:arguments});\r\n        } else {\r\n            proxies['trigger'].apply(this, arguments);\r\n        }\r\n    };\r\n\r\n    // Attach process pending event functionality on collections as well. Re-use from `AssociatedModel`\r\n    CollectionProto._processPendingEvents = AssociatedModel.prototype._processPendingEvents;\r\n    CollectionProto.on = AssociatedModel.prototype.on;\r\n    CollectionProto.off = AssociatedModel.prototype.off;\r\n\r\n    return Backbone;\r\n}));\r\n","// Backbone.ComputedFields, v0.0.12\n// Copyright (c)2015 alexander.beletsky@gmail.com\n// Distributed under MIT license\n// https://github.com/alexanderbeletsky/backbone-computedfields\n\n(function (root, factory) {\n  if (typeof exports === 'object') {\n\n    var underscore = require('underscore');\n    var backbone = require('backbone');\n\n    module.exports = factory(underscore, backbone);\n\n  } else if (typeof define === 'function' && define.amd) {\n\n    define(['underscore', 'backbone'], factory);\n\n  }\n}(this, function (_, Backbone) {\n\n  Backbone.ComputedFields = (function(Backbone, _){\n  \n      var _isFunction = function(obj) {\n          // == instead of === and || false are optimizations\n          // to go around nasty bugs in IE11, Safari 8 and old v8\n          // see underscore#isFunction\n          /* jshint eqeqeq: false */\n          return typeof obj == 'function' || false;\n          /* jshint eqeqeq: true */\n      };\n  \n      var ComputedFields = function (model) {\n          this.model = model;\n          this._computedFields = [];\n  \n          this.initialize();\n      };\n  \n      _.extend(ComputedFields.prototype, {\n          initialize: function () {\n              _.bindAll(\n                  this,\n                  '_bindModelEvents',\n                  '_computeFieldValue',\n                  '_dependentFields',\n                  '_isModelInitialized',\n                  '_lookUpComputedFields',\n                  '_thenComputedChanges',\n                  '_thenDependentChanges',\n                  '_toJSON',\n                  '_wrapJSON',\n                  'initialize'\n              );\n  \n              this._lookUpComputedFields();\n              this._bindModelEvents();\n              this._wrapJSON();\n          },\n  \n          _lookUpComputedFields: function () {\n              var computed = _isFunction(this.model.computed) ? this.model.computed() : this.model.computed;\n  \n              for (var obj in computed) {\n                  var field = computed[obj];\n  \n                  if (field && (field.set || field.get)) {\n                      this._computedFields.push({name: obj, field: field});\n                  }\n              }\n          },\n  \n          _bindModelEvents: function () {\n              _.each(this._computedFields, function (computedField) {\n                  var fieldName = computedField.name;\n                  var field = computedField.field;\n  \n                  var updateComputed = _.bind(function () {\n                      var value = this._computeFieldValue(field);\n                      this.model.set(fieldName, value, { skipChangeEvent: true });\n                  }, this);\n  \n                  var updateDependent = _.bind(function (model, value, options) {\n                      if (options && options.skipChangeEvent) {\n                          return;\n                      }\n  \n                      if (field.set) {\n                          var fields = this._dependentFields(field.depends);\n                          value = value || this.model.get(fieldName);\n  \n                          field.set.call(this.model, value, fields);\n                          this.model.set(fields, options);\n                      }\n                  }, this);\n  \n                  this._thenDependentChanges(field.depends, updateComputed);\n                  this._thenComputedChanges(fieldName, updateDependent);\n  \n                  if (this._isModelInitialized()) {\n                      updateComputed();\n                  }\n              }, this);\n          },\n  \n          _isModelInitialized: function () {\n              return !_.isEmpty(this.model.attributes);\n          },\n  \n          _thenDependentChanges: function (depends, callback) {\n              _.each(depends, function (name) {\n                  if (typeof (name) === 'string') {\n                      this.model.on('change:' + name, callback);\n                  }\n  \n                  if (typeof (name) === 'function') {\n                      name.call(this.model, callback);\n                  }\n              }, this);\n          },\n  \n          _thenComputedChanges: function (fieldName, callback) {\n              this.model.on('change:' + fieldName, callback);\n          },\n  \n          _wrapJSON: function () {\n              this.model.toJSON = _.wrap(this.model.toJSON, this._toJSON);\n          },\n  \n          _toJSON: function (toJSON) {\n              var args = Array.prototype.slice.call(arguments, 1),\n                  attributes = toJSON.apply(this.model, args),\n                  strip = !!(args[0] || {}).computedFields;\n  \n              var stripped = strip ? {} : _.reduce(this._computedFields, function (memo, computed) {\n                  if (computed.field.toJSON === false) {\n                      memo.push(computed.name);\n                  }\n                  return memo;\n              },[]);\n  \n              return _.omit(attributes, stripped);\n          },\n  \n          _computeFieldValue: function (computedField) {\n              if (computedField && computedField.get) {\n                  var fields = this._dependentFields(computedField.depends);\n                  return computedField.get.call(this.model, fields);\n              }\n          },\n  \n          _dependentFields: function (depends) {\n              return _.reduce(depends, function (memo, field) {\n                  memo[field] = this.model.get(field);\n                  return memo;\n              }, {}, this);\n          }\n  \n      });\n  \n      return ComputedFields;\n  \n  })(Backbone, _);\n  return Backbone.ComputedFields;\n\n}));","/**\n* @license\n* MarionetteJS (Backbone.Marionette)\n* ----------------------------------\n* v3.5.1\n*\n* Copyright (c)2017 Derick Bailey, Muted Solutions, LLC.\n* Distributed under MIT license\n*\n* http://marionettejs.com\n*/\n\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('backbone'), require('underscore'), require('backbone.radio')) :\n\ttypeof define === 'function' && define.amd ? define(['backbone', 'underscore', 'backbone.radio'], factory) :\n\t(global.Marionette = factory(global.Backbone,global._,global.Backbone.Radio));\n}(this, (function (Backbone,_,Radio) { 'use strict';\n\nBackbone = Backbone && Backbone.hasOwnProperty('default') ? Backbone['default'] : Backbone;\n_ = _ && _.hasOwnProperty('default') ? _['default'] : _;\nRadio = Radio && Radio.hasOwnProperty('default') ? Radio['default'] : Radio;\n\nvar version = \"3.5.1\";\n\n//Internal utility for creating context style global utils\nvar proxy = function proxy(method) {\n  return function (context) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return method.apply(context, args);\n  };\n};\n\n// Marionette.extend\n// -----------------\n\n// Borrow the Backbone `extend` method so we can use it as needed\nvar extend = Backbone.Model.extend;\n\n/* global console */\n\nvar deprecate = function deprecate(message, test) {\n  if (_.isObject(message)) {\n    message = message.prev + ' is going to be removed in the future. ' + 'Please use ' + message.next + ' instead.' + (message.url ? ' See: ' + message.url : '');\n  }\n\n  if (!Marionette.DEV_MODE) {\n    return;\n  }\n\n  if ((test === undefined || !test) && !deprecate._cache[message]) {\n    deprecate._warn('Deprecation warning: ' + message);\n    deprecate._cache[message] = true;\n  }\n};\n\n/* istanbul ignore next: can't clear console */\ndeprecate._console = typeof console !== 'undefined' ? console : {};\ndeprecate._warn = function () {\n  var warn = deprecate._console.warn || deprecate._console.log || _.noop;\n  return warn.apply(deprecate._console, arguments);\n};\ndeprecate._cache = {};\n\n// Marionette.isNodeAttached\n// -------------------------\n\n// Determine if `el` is a child of the document\nvar isNodeAttached = function isNodeAttached(el) {\n  return document.documentElement.contains(el && el.parentNode);\n};\n\n// Merge `keys` from `options` onto `this`\nvar mergeOptions = function mergeOptions(options, keys) {\n  var _this = this;\n\n  if (!options) {\n    return;\n  }\n\n  _.each(keys, function (key) {\n    var option = options[key];\n    if (option !== undefined) {\n      _this[key] = option;\n    }\n  });\n};\n\n// Marionette.getOption\n// --------------------\n\n// Retrieve an object, function or other value from the\n// object or its `options`, with `options` taking precedence.\nvar getOption = function getOption(optionName) {\n  if (!optionName) {\n    return;\n  }\n  if (this.options && this.options[optionName] !== undefined) {\n    return this.options[optionName];\n  } else {\n    return this[optionName];\n  }\n};\n\n// Marionette.normalizeMethods\n// ----------------------\n\n// Pass in a mapping of events => functions or function names\n// and return a mapping of events => functions\nvar normalizeMethods = function normalizeMethods(hash) {\n  var _this = this;\n\n  return _.reduce(hash, function (normalizedHash, method, name) {\n    if (!_.isFunction(method)) {\n      method = _this[method];\n    }\n    if (method) {\n      normalizedHash[name] = method;\n    }\n    return normalizedHash;\n  }, {});\n};\n\n// Trigger Method\n// --------------\n\n// split the event name on the \":\"\nvar splitter = /(^|:)(\\w)/gi;\n\n// take the event section (\"section1:section2:section3\")\n// and turn it in to uppercase name onSection1Section2Section3\nfunction getEventName(match, prefix, eventName) {\n  return eventName.toUpperCase();\n}\n\nvar getOnMethodName = _.memoize(function (event) {\n  return 'on' + event.replace(splitter, getEventName);\n});\n\n// Trigger an event and/or a corresponding method name. Examples:\n//\n// `this.triggerMethod(\"foo\")` will trigger the \"foo\" event and\n// call the \"onFoo\" method.\n//\n// `this.triggerMethod(\"foo:bar\")` will trigger the \"foo:bar\" event and\n// call the \"onFooBar\" method.\nfunction triggerMethod(event) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  // get the method name from the event name\n  var methodName = getOnMethodName(event);\n  var method = getOption.call(this, methodName);\n  var result = void 0;\n\n  // call the onMethodName if it exists\n  if (_.isFunction(method)) {\n    // pass all args, except the event name\n    result = method.apply(this, args);\n  }\n\n  // trigger the event\n  this.trigger.apply(this, arguments);\n\n  return result;\n}\n\n// triggerMethodOn invokes triggerMethod on a specific context\n//\n// e.g. `Marionette.triggerMethodOn(view, 'show')`\n// will trigger a \"show\" event or invoke onShow the view.\nfunction triggerMethodOn(context) {\n  for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  if (_.isFunction(context.triggerMethod)) {\n    return context.triggerMethod.apply(context, args);\n  }\n\n  return triggerMethod.apply(context, args);\n}\n\n// DOM Refresh\n// -----------\n\n// Trigger method on children unless a pure Backbone.View\nfunction triggerMethodChildren(view, event, shouldTrigger) {\n  if (!view._getImmediateChildren) {\n    return;\n  }\n  _.each(view._getImmediateChildren(), function (child) {\n    if (!shouldTrigger(child)) {\n      return;\n    }\n    triggerMethodOn(child, event, child);\n  });\n}\n\nfunction shouldTriggerAttach(view) {\n  return !view._isAttached;\n}\n\nfunction shouldAttach(view) {\n  if (!shouldTriggerAttach(view)) {\n    return false;\n  }\n  view._isAttached = true;\n  return true;\n}\n\nfunction shouldTriggerDetach(view) {\n  return view._isAttached;\n}\n\nfunction shouldDetach(view) {\n  if (!shouldTriggerDetach(view)) {\n    return false;\n  }\n  view._isAttached = false;\n  return true;\n}\n\nfunction triggerDOMRefresh(view) {\n  if (view._isAttached && view._isRendered) {\n    triggerMethodOn(view, 'dom:refresh', view);\n  }\n}\n\nfunction triggerDOMRemove(view) {\n  if (view._isAttached && view._isRendered) {\n    triggerMethodOn(view, 'dom:remove', view);\n  }\n}\n\nfunction handleBeforeAttach() {\n  triggerMethodChildren(this, 'before:attach', shouldTriggerAttach);\n}\n\nfunction handleAttach() {\n  triggerMethodChildren(this, 'attach', shouldAttach);\n  triggerDOMRefresh(this);\n}\n\nfunction handleBeforeDetach() {\n  triggerMethodChildren(this, 'before:detach', shouldTriggerDetach);\n  triggerDOMRemove(this);\n}\n\nfunction handleDetach() {\n  triggerMethodChildren(this, 'detach', shouldDetach);\n}\n\nfunction handleBeforeRender() {\n  triggerDOMRemove(this);\n}\n\nfunction handleRender() {\n  triggerDOMRefresh(this);\n}\n\n// Monitor a view's state, propagating attach/detach events to children and firing dom:refresh\n// whenever a rendered view is attached or an attached view is rendered.\nfunction monitorViewEvents(view) {\n  if (view._areViewEventsMonitored || view.monitorViewEvents === false) {\n    return;\n  }\n\n  view._areViewEventsMonitored = true;\n\n  view.on({\n    'before:attach': handleBeforeAttach,\n    'attach': handleAttach,\n    'before:detach': handleBeforeDetach,\n    'detach': handleDetach,\n    'before:render': handleBeforeRender,\n    'render': handleRender\n  });\n}\n\n// Error\n// -----\n\nvar errorProps = ['description', 'fileName', 'lineNumber', 'name', 'message', 'number'];\n\nvar MarionetteError = extend.call(Error, {\n  urlRoot: 'http://marionettejs.com/docs/v' + version + '/',\n\n  constructor: function constructor(message, options) {\n    if (_.isObject(message)) {\n      options = message;\n      message = options.message;\n    } else if (!options) {\n      options = {};\n    }\n\n    var error = Error.call(this, message);\n    _.extend(this, _.pick(error, errorProps), _.pick(options, errorProps));\n\n    this.captureStackTrace();\n\n    if (options.url) {\n      this.url = this.urlRoot + options.url;\n    }\n  },\n  captureStackTrace: function captureStackTrace() {\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, MarionetteError);\n    }\n  },\n  toString: function toString() {\n    return this.name + ': ' + this.message + (this.url ? ' See: ' + this.url : '');\n  }\n});\n\nMarionetteError.extend = extend;\n\n// Bind Entity Events & Unbind Entity Events\n// -----------------------------------------\n//\n// These methods are used to bind/unbind a backbone \"entity\" (e.g. collection/model)\n// to methods on a target object.\n//\n// The first parameter, `target`, must have the Backbone.Events module mixed in.\n//\n// The second parameter is the `entity` (Backbone.Model, Backbone.Collection or\n// any object that has Backbone.Events mixed in) to bind the events from.\n//\n// The third parameter is a hash of { \"event:name\": \"eventHandler\" }\n// configuration. Multiple handlers can be separated by a space. A\n// function can be supplied instead of a string handler name.\n\n// Bind/unbind the event to handlers specified as a string of\n// handler names on the target object\nfunction bindFromStrings(target, entity, evt, methods, actionName) {\n  var methodNames = methods.split(/\\s+/);\n\n  if (methodNames.length > 1) {\n    deprecate('Multiple handlers for a single event are deprecated. If needed, use a single handler to call multiple methods.');\n  }\n\n  _.each(methodNames, function (methodName) {\n    var method = target[methodName];\n    if (!method) {\n      throw new MarionetteError('Method \"' + methodName + '\" was configured as an event handler, but does not exist.');\n    }\n\n    target[actionName](entity, evt, method);\n  });\n}\n\n// generic looping function\nfunction iterateEvents(target, entity, bindings, actionName) {\n  // type-check bindings\n  if (!_.isObject(bindings)) {\n    throw new MarionetteError({\n      message: 'Bindings must be an object.',\n      url: 'marionette.functions.html#marionettebindevents'\n    });\n  }\n\n  // iterate the bindings and bind/unbind them\n  _.each(bindings, function (method, evt) {\n\n    // allow for a list of method names as a string\n    if (_.isString(method)) {\n      bindFromStrings(target, entity, evt, method, actionName);\n      return;\n    }\n\n    target[actionName](entity, evt, method);\n  });\n}\n\nfunction bindEvents(entity, bindings) {\n  if (!entity || !bindings) {\n    return this;\n  }\n\n  iterateEvents(this, entity, bindings, 'listenTo');\n  return this;\n}\n\nfunction unbindEvents(entity, bindings) {\n  if (!entity) {\n    return this;\n  }\n\n  if (!bindings) {\n    this.stopListening(entity);\n    return this;\n  }\n\n  iterateEvents(this, entity, bindings, 'stopListening');\n  return this;\n}\n\n// Bind/Unbind Radio Requests\n// -----------------------------------------\n//\n// These methods are used to bind/unbind a backbone.radio request\n// to methods on a target object.\n//\n// The first parameter, `target`, will set the context of the reply method\n//\n// The second parameter is the `Radio.channel` to bind the reply to.\n//\n// The third parameter is a hash of { \"request:name\": \"replyHandler\" }\n// configuration. A function can be supplied instead of a string handler name.\n\nfunction iterateReplies(target, channel, bindings, actionName) {\n  // type-check bindings\n  if (!_.isObject(bindings)) {\n    throw new MarionetteError({\n      message: 'Bindings must be an object.',\n      url: 'marionette.functions.html#marionettebindrequests'\n    });\n  }\n\n  var normalizedRadioRequests = normalizeMethods.call(target, bindings);\n\n  channel[actionName](normalizedRadioRequests, target);\n}\n\nfunction bindRequests(channel, bindings) {\n  if (!channel || !bindings) {\n    return this;\n  }\n\n  iterateReplies(this, channel, bindings, 'reply');\n  return this;\n}\n\nfunction unbindRequests(channel, bindings) {\n  if (!channel) {\n    return this;\n  }\n\n  if (!bindings) {\n    channel.stopReplying(null, null, this);\n    return this;\n  }\n\n  iterateReplies(this, channel, bindings, 'stopReplying');\n  return this;\n}\n\n// Internal utility for setting options consistently across Mn\nvar setOptions = function setOptions(options) {\n  this.options = _.extend({}, _.result(this, 'options'), options);\n};\n\nvar CommonMixin = {\n\n  // Imports the \"normalizeMethods\" to transform hashes of\n  // events=>function references/names to a hash of events=>function references\n  normalizeMethods: normalizeMethods,\n\n  _setOptions: setOptions,\n\n  // A handy way to merge passed-in options onto the instance\n  mergeOptions: mergeOptions,\n\n  // Enable getting options from this or this.options by name.\n  getOption: getOption,\n\n  // Enable binding view's events from another entity.\n  bindEvents: bindEvents,\n\n  // Enable unbinding view's events from another entity.\n  unbindEvents: unbindEvents\n};\n\n// MixinOptions\n// - channelName\n// - radioEvents\n// - radioRequests\n\nvar RadioMixin = {\n  _initRadio: function _initRadio() {\n    var channelName = _.result(this, 'channelName');\n\n    if (!channelName) {\n      return;\n    }\n\n    /* istanbul ignore next */\n    if (!Radio) {\n      throw new MarionetteError({\n        name: 'BackboneRadioMissing',\n        message: 'The dependency \"backbone.radio\" is missing.'\n      });\n    }\n\n    var channel = this._channel = Radio.channel(channelName);\n\n    var radioEvents = _.result(this, 'radioEvents');\n    this.bindEvents(channel, radioEvents);\n\n    var radioRequests = _.result(this, 'radioRequests');\n    this.bindRequests(channel, radioRequests);\n\n    this.on('destroy', this._destroyRadio);\n  },\n  _destroyRadio: function _destroyRadio() {\n    this._channel.stopReplying(null, null, this);\n  },\n  getChannel: function getChannel() {\n    return this._channel;\n  },\n\n\n  // Proxy `bindEvents`\n  bindEvents: bindEvents,\n\n  // Proxy `unbindEvents`\n  unbindEvents: unbindEvents,\n\n  // Proxy `bindRequests`\n  bindRequests: bindRequests,\n\n  // Proxy `unbindRequests`\n  unbindRequests: unbindRequests\n\n};\n\n// Object\n// ------\n\nvar ClassOptions = ['channelName', 'radioEvents', 'radioRequests'];\n\n// A Base Class that other Classes should descend from.\n// Object borrows many conventions and utilities from Backbone.\nvar MarionetteObject = function MarionetteObject(options) {\n  if (!this.hasOwnProperty('options')) {\n    this._setOptions(options);\n  }\n  this.mergeOptions(options, ClassOptions);\n  this._setCid();\n  this._initRadio();\n  this.initialize.apply(this, arguments);\n};\n\nMarionetteObject.extend = extend;\n\n// Object Methods\n// --------------\n\n// Ensure it can trigger events with Backbone.Events\n_.extend(MarionetteObject.prototype, Backbone.Events, CommonMixin, RadioMixin, {\n  cidPrefix: 'mno',\n\n  // for parity with Marionette.AbstractView lifecyle\n  _isDestroyed: false,\n\n  isDestroyed: function isDestroyed() {\n    return this._isDestroyed;\n  },\n\n\n  //this is a noop method intended to be overridden by classes that extend from this base\n  initialize: function initialize() {},\n  _setCid: function _setCid() {\n    if (this.cid) {\n      return;\n    }\n    this.cid = _.uniqueId(this.cidPrefix);\n  },\n  destroy: function destroy() {\n    if (this._isDestroyed) {\n      return this;\n    }\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    this.triggerMethod.apply(this, ['before:destroy', this].concat(args));\n\n    this._isDestroyed = true;\n    this.triggerMethod.apply(this, ['destroy', this].concat(args));\n    this.stopListening();\n\n    return this;\n  },\n\n\n  triggerMethod: triggerMethod\n});\n\n// Template Cache\n// --------------\n\n// Manage templates stored in `<script>` blocks,\n// caching them for faster access.\nvar TemplateCache = function TemplateCache(templateId) {\n  this.templateId = templateId;\n};\n\n// TemplateCache object-level methods. Manage the template\n// caches from these method calls instead of creating\n// your own TemplateCache instances\n_.extend(TemplateCache, {\n\n  templateCaches: {},\n\n  // Get the specified template by id. Either\n  // retrieves the cached version, or loads it\n  // from the DOM.\n  get: function get(templateId, options) {\n    var cachedTemplate = this.templateCaches[templateId];\n\n    if (!cachedTemplate) {\n      cachedTemplate = new TemplateCache(templateId);\n      this.templateCaches[templateId] = cachedTemplate;\n    }\n\n    return cachedTemplate.load(options);\n  },\n\n\n  // Clear templates from the cache. If no arguments\n  // are specified, clears all templates:\n  // `clear()`\n  //\n  // If arguments are specified, clears each of the\n  // specified templates from the cache:\n  // `clear(\"#t1\", \"#t2\", \"...\")`\n  clear: function clear() {\n    var i = void 0;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var length = args.length;\n\n    if (length > 0) {\n      for (i = 0; i < length; i++) {\n        delete this.templateCaches[args[i]];\n      }\n    } else {\n      this.templateCaches = {};\n    }\n  }\n});\n\n// TemplateCache instance methods, allowing each\n// template cache object to manage its own state\n// and know whether or not it has been loaded\n_.extend(TemplateCache.prototype, {\n\n  // Internal method to load the template\n  load: function load(options) {\n    // Guard clause to prevent loading this template more than once\n    if (this.compiledTemplate) {\n      return this.compiledTemplate;\n    }\n\n    // Load the template and compile it\n    var template = this.loadTemplate(this.templateId, options);\n    this.compiledTemplate = this.compileTemplate(template, options);\n\n    return this.compiledTemplate;\n  },\n\n\n  // Load a template from the DOM, by default. Override\n  // this method to provide your own template retrieval\n  // For asynchronous loading with AMD/RequireJS, consider\n  // using a template-loader plugin as described here:\n  // https://github.com/marionettejs/backbone.marionette/wiki/Using-marionette-with-requirejs\n  loadTemplate: function loadTemplate(templateId, options) {\n    var $template = Backbone.$(templateId);\n\n    if (!$template.length) {\n      throw new MarionetteError({\n        name: 'NoTemplateError',\n        message: 'Could not find template: \"' + templateId + '\"'\n      });\n    }\n    return $template.html();\n  },\n\n\n  // Pre-compile the template before caching it. Override\n  // this method if you do not need to pre-compile a template\n  // (JST / RequireJS for example) or if you want to change\n  // the template engine used (Handebars, etc).\n  compileTemplate: function compileTemplate(rawTemplate, options) {\n    return _.template(rawTemplate, options);\n  }\n});\n\n// Implementation of the invoke method (http://underscorejs.org/#invoke) with support for\n// lodash v3, v4, and underscore.js\nvar _invoke = _.invokeMap || _.invoke;\n\n// MixinOptions\n// - behaviors\n\n// Takes care of getting the behavior class\n// given options and a key.\n// If a user passes in options.behaviorClass\n// default to using that.\n// If a user passes in a Behavior Class directly, use that\n// Otherwise delegate the lookup to the users `behaviorsLookup` implementation.\nfunction getBehaviorClass(options, key) {\n  if (options.behaviorClass) {\n    return options.behaviorClass;\n    //treat functions as a Behavior constructor\n  } else if (_.isFunction(options)) {\n    return options;\n  }\n\n  // behaviorsLookup can be either a flat object or a method\n  if (_.isFunction(Marionette.Behaviors.behaviorsLookup)) {\n    return Marionette.Behaviors.behaviorsLookup(options, key)[key];\n  }\n\n  return Marionette.Behaviors.behaviorsLookup[key];\n}\n\n// Iterate over the behaviors object, for each behavior\n// instantiate it and get its grouped behaviors.\n// This accepts a list of behaviors in either an object or array form\nfunction parseBehaviors(view, behaviors) {\n  return _.chain(behaviors).map(function (options, key) {\n    var BehaviorClass = getBehaviorClass(options, key);\n    //if we're passed a class directly instead of an object\n    var _options = options === BehaviorClass ? {} : options;\n    var behavior = new BehaviorClass(_options, view);\n    var nestedBehaviors = parseBehaviors(view, _.result(behavior, 'behaviors'));\n\n    return [behavior].concat(nestedBehaviors);\n  }).flatten().value();\n}\n\nvar BehaviorsMixin = {\n  _initBehaviors: function _initBehaviors() {\n    this._behaviors = this._getBehaviors();\n  },\n  _getBehaviors: function _getBehaviors() {\n    var behaviors = _.result(this, 'behaviors');\n\n    // Behaviors defined on a view can be a flat object literal\n    // or it can be a function that returns an object.\n    return _.isObject(behaviors) ? parseBehaviors(this, behaviors) : {};\n  },\n  _getBehaviorTriggers: function _getBehaviorTriggers() {\n    var triggers = _invoke(this._behaviors, 'getTriggers');\n    return _.reduce(triggers, function (memo, _triggers) {\n      return _.extend(memo, _triggers);\n    }, {});\n  },\n  _getBehaviorEvents: function _getBehaviorEvents() {\n    var events = _invoke(this._behaviors, 'getEvents');\n    return _.reduce(events, function (memo, _events) {\n      return _.extend(memo, _events);\n    }, {});\n  },\n\n\n  // proxy behavior $el to the view's $el.\n  _proxyBehaviorViewProperties: function _proxyBehaviorViewProperties() {\n    _invoke(this._behaviors, 'proxyViewProperties');\n  },\n\n\n  // delegate modelEvents and collectionEvents\n  _delegateBehaviorEntityEvents: function _delegateBehaviorEntityEvents() {\n    _invoke(this._behaviors, 'delegateEntityEvents');\n  },\n\n\n  // undelegate modelEvents and collectionEvents\n  _undelegateBehaviorEntityEvents: function _undelegateBehaviorEntityEvents() {\n    _invoke(this._behaviors, 'undelegateEntityEvents');\n  },\n  _destroyBehaviors: function _destroyBehaviors() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // Call destroy on each behavior after\n    // destroying the view.\n    // This unbinds event listeners\n    // that behaviors have registered for.\n    _invoke.apply(undefined, [this._behaviors, 'destroy'].concat(args));\n  },\n\n\n  // Remove a behavior\n  _removeBehavior: function _removeBehavior(behavior) {\n    // Don't worry about the clean up if the view is destroyed\n    if (this._isDestroyed) {\n      return;\n    }\n\n    // Remove behavior-only triggers and events\n    this.undelegate('.trig' + behavior.cid + ' .' + behavior.cid);\n\n    this._behaviors = _.without(this._behaviors, behavior);\n  },\n  _bindBehaviorUIElements: function _bindBehaviorUIElements() {\n    _invoke(this._behaviors, 'bindUIElements');\n  },\n  _unbindBehaviorUIElements: function _unbindBehaviorUIElements() {\n    _invoke(this._behaviors, 'unbindUIElements');\n  },\n  _triggerEventOnBehaviors: function _triggerEventOnBehaviors() {\n    var behaviors = this._behaviors;\n    // Use good ol' for as this is a very hot function\n    for (var i = 0, length = behaviors && behaviors.length; i < length; i++) {\n      triggerMethod.apply(behaviors[i], arguments);\n    }\n  }\n};\n\n// MixinOptions\n// - collectionEvents\n// - modelEvents\n\nvar DelegateEntityEventsMixin = {\n  // Handle `modelEvents`, and `collectionEvents` configuration\n  _delegateEntityEvents: function _delegateEntityEvents(model, collection) {\n    var modelEvents = _.result(this, 'modelEvents');\n\n    if (modelEvents) {\n      unbindEvents.call(this, model, modelEvents);\n      bindEvents.call(this, model, modelEvents);\n    }\n\n    var collectionEvents = _.result(this, 'collectionEvents');\n\n    if (collectionEvents) {\n      unbindEvents.call(this, collection, collectionEvents);\n      bindEvents.call(this, collection, collectionEvents);\n    }\n  },\n  _undelegateEntityEvents: function _undelegateEntityEvents(model, collection) {\n    var modelEvents = _.result(this, 'modelEvents');\n    unbindEvents.call(this, model, modelEvents);\n\n    var collectionEvents = _.result(this, 'collectionEvents');\n    unbindEvents.call(this, collection, collectionEvents);\n  }\n};\n\n// Borrow event splitter from Backbone\nvar delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n// Set event name to be namespaced using a unique index\n// to generate a non colliding event namespace\n// http://api.jquery.com/event.namespace/\nvar getNamespacedEventName = function getNamespacedEventName(eventName, namespace) {\n  var match = eventName.match(delegateEventSplitter);\n  return match[1] + \".\" + namespace + \" \" + match[2];\n};\n\n// Add Feature flags here\n// e.g. 'class' => false\nvar FEATURES = {\n  childViewEventPrefix: true,\n  triggersStopPropagation: true,\n  triggersPreventDefault: true\n};\n\nfunction isEnabled(name) {\n  return !!FEATURES[name];\n}\n\nfunction setEnabled(name, state) {\n  return FEATURES[name] = state;\n}\n\n// Internal method to create an event handler for a given `triggerDef` like\n// 'click:foo'\nfunction buildViewTrigger(view, triggerDef) {\n  if (_.isString(triggerDef)) {\n    triggerDef = { event: triggerDef };\n  }\n\n  var eventName = triggerDef.event;\n\n  var shouldPreventDefault = !!triggerDef.preventDefault;\n\n  if (isEnabled('triggersPreventDefault')) {\n    shouldPreventDefault = triggerDef.preventDefault !== false;\n  }\n\n  var shouldStopPropagation = !!triggerDef.stopPropagation;\n\n  if (isEnabled('triggersStopPropagation')) {\n    shouldStopPropagation = triggerDef.stopPropagation !== false;\n  }\n\n  return function (event) {\n    if (shouldPreventDefault) {\n      event.preventDefault();\n    }\n\n    if (shouldStopPropagation) {\n      event.stopPropagation();\n    }\n\n    view.triggerMethod(eventName, view, event);\n  };\n}\n\nvar TriggersMixin = {\n\n  // Configure `triggers` to forward DOM events to view\n  // events. `triggers: {\"click .foo\": \"do:foo\"}`\n  _getViewTriggers: function _getViewTriggers(view, triggers) {\n    var _this = this;\n\n    // Configure the triggers, prevent default\n    // action and stop propagation of DOM events\n    return _.reduce(triggers, function (events, value, key) {\n      key = getNamespacedEventName(key, 'trig' + _this.cid);\n      events[key] = buildViewTrigger(view, value);\n      return events;\n    }, {});\n  }\n};\n\n// allows for the use of the @ui. syntax within\n// a given key for triggers and events\n// swaps the @ui with the associated selector.\n// Returns a new, non-mutated, parsed events hash.\nvar _normalizeUIKeys = function _normalizeUIKeys(hash, ui) {\n  return _.reduce(hash, function (memo, val, key) {\n    var normalizedKey = _normalizeUIString(key, ui);\n    memo[normalizedKey] = val;\n    return memo;\n  }, {});\n};\n\n// utility method for parsing @ui. syntax strings\n// into associated selector\nvar _normalizeUIString = function _normalizeUIString(uiString, ui) {\n  return uiString.replace(/@ui\\.[a-zA-Z-_$0-9]*/g, function (r) {\n    return ui[r.slice(4)];\n  });\n};\n\n// allows for the use of the @ui. syntax within\n// a given value for regions\n// swaps the @ui with the associated selector\nvar _normalizeUIValues = function _normalizeUIValues(hash, ui, properties) {\n  _.each(hash, function (val, key) {\n    if (_.isString(val)) {\n      hash[key] = _normalizeUIString(val, ui);\n    } else if (_.isObject(val) && _.isArray(properties)) {\n      _.extend(val, _normalizeUIValues(_.pick(val, properties), ui));\n      /* Value is an object, and we got an array of embedded property names to normalize. */\n      _.each(properties, function (property) {\n        var propertyVal = val[property];\n        if (_.isString(propertyVal)) {\n          val[property] = _normalizeUIString(propertyVal, ui);\n        }\n      });\n    }\n  });\n  return hash;\n};\n\nvar UIMixin = {\n\n  // normalize the keys of passed hash with the views `ui` selectors.\n  // `{\"@ui.foo\": \"bar\"}`\n  normalizeUIKeys: function normalizeUIKeys(hash) {\n    var uiBindings = this._getUIBindings();\n    return _normalizeUIKeys(hash, uiBindings);\n  },\n\n\n  // normalize the passed string with the views `ui` selectors.\n  // `\"@ui.bar\"`\n  normalizeUIString: function normalizeUIString(uiString) {\n    var uiBindings = this._getUIBindings();\n    return _normalizeUIString(uiString, uiBindings);\n  },\n\n\n  // normalize the values of passed hash with the views `ui` selectors.\n  // `{foo: \"@ui.bar\"}`\n  normalizeUIValues: function normalizeUIValues(hash, properties) {\n    var uiBindings = this._getUIBindings();\n    return _normalizeUIValues(hash, uiBindings, properties);\n  },\n  _getUIBindings: function _getUIBindings() {\n    var uiBindings = _.result(this, '_uiBindings');\n    var ui = _.result(this, 'ui');\n    return uiBindings || ui;\n  },\n\n\n  // This method binds the elements specified in the \"ui\" hash inside the view's code with\n  // the associated jQuery selectors.\n  _bindUIElements: function _bindUIElements() {\n    var _this = this;\n\n    if (!this.ui) {\n      return;\n    }\n\n    // store the ui hash in _uiBindings so they can be reset later\n    // and so re-rendering the view will be able to find the bindings\n    if (!this._uiBindings) {\n      this._uiBindings = this.ui;\n    }\n\n    // get the bindings result, as a function or otherwise\n    var bindings = _.result(this, '_uiBindings');\n\n    // empty the ui so we don't have anything to start with\n    this._ui = {};\n\n    // bind each of the selectors\n    _.each(bindings, function (selector, key) {\n      _this._ui[key] = _this.$(selector);\n    });\n\n    this.ui = this._ui;\n  },\n  _unbindUIElements: function _unbindUIElements() {\n    var _this2 = this;\n\n    if (!this.ui || !this._uiBindings) {\n      return;\n    }\n\n    // delete all of the existing ui bindings\n    _.each(this.ui, function ($el, name) {\n      delete _this2.ui[name];\n    });\n\n    // reset the ui element to the original bindings configuration\n    this.ui = this._uiBindings;\n    delete this._uiBindings;\n    delete this._ui;\n  },\n  _getUI: function _getUI(name) {\n    return this._ui[name];\n  }\n};\n\n// DomApi\n//  ---------\n// Performant method for returning the jQuery instance\nfunction _getEl(el) {\n  return el instanceof Backbone.$ ? el : Backbone.$(el);\n}\n\n// Static setter\nfunction setDomApi(mixin) {\n  this.prototype.Dom = _.extend({}, this.prototype.Dom, mixin);\n  return this;\n}\n\nvar DomApi = {\n\n  // Returns a new HTML DOM node instance\n  createBuffer: function createBuffer() {\n    return document.createDocumentFragment();\n  },\n\n\n  // Lookup the `selector` string\n  // Selector may also be a DOM element\n  // Returns an array-like object of nodes\n  getEl: function getEl(selector) {\n    return _getEl(selector);\n  },\n\n\n  // Finds the `selector` string with the el\n  // Returns an array-like object of nodes\n  findEl: function findEl(el, selector) {\n    var _$el = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _getEl(el);\n\n    return _$el.find(selector);\n  },\n\n\n  // Returns true if the el contains the node childEl\n  hasEl: function hasEl(el, childEl) {\n    return el.contains(childEl && childEl.parentNode);\n  },\n\n\n  // Detach `el` from the DOM without removing listeners\n  detachEl: function detachEl(el) {\n    var _$el = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _getEl(el);\n\n    _$el.detach();\n  },\n\n\n  // Remove `oldEl` from the DOM and put `newEl` in its place\n  replaceEl: function replaceEl(newEl, oldEl) {\n    if (newEl === oldEl) {\n      return;\n    }\n\n    var parent = oldEl.parentNode;\n\n    if (!parent) {\n      return;\n    }\n\n    parent.replaceChild(newEl, oldEl);\n  },\n\n\n  // Swaps the location of `el1` and `el2` in the DOM\n  swapEl: function swapEl(el1, el2) {\n    if (el1 === el2) {\n      return;\n    }\n\n    var parent1 = el1.parentNode;\n    var parent2 = el2.parentNode;\n\n    if (!parent1 || !parent2) {\n      return;\n    }\n\n    var next1 = el1.nextSibling;\n    var next2 = el2.nextSibling;\n\n    parent1.insertBefore(el2, next1);\n    parent2.insertBefore(el1, next2);\n  },\n\n\n  // Replace the contents of `el` with the HTML string of `html`\n  setContents: function setContents(el, html) {\n    var _$el = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _getEl(el);\n\n    _$el.html(html);\n  },\n\n\n  // Takes the DOM node `el` and appends the DOM node `contents`\n  // to the end of the element's contents.\n  appendContents: function appendContents(el, contents) {\n    var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n        _ref$_$el = _ref._$el,\n        _$el = _ref$_$el === undefined ? _getEl(el) : _ref$_$el,\n        _ref$_$contents = _ref._$contents,\n        _$contents = _ref$_$contents === undefined ? _getEl(contents) : _ref$_$contents;\n\n    _$el.append(_$contents);\n  },\n\n\n  // Does the el have child nodes\n  hasContents: function hasContents(el) {\n    return !!el && el.hasChildNodes();\n  },\n\n\n  // Remove the inner contents of `el` from the DOM while leaving\n  // `el` itself in the DOM.\n  detachContents: function detachContents(el) {\n    var _$el = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _getEl(el);\n\n    _$el.contents().detach();\n  }\n};\n\n// ViewMixin\n//  ---------\n\n// MixinOptions\n// - behaviors\n// - childViewEventPrefix\n// - childViewEvents\n// - childViewTriggers\n// - collectionEvents\n// - modelEvents\n// - triggers\n// - ui\n\n\nvar ViewMixin = {\n  Dom: DomApi,\n\n  supportsRenderLifecycle: true,\n  supportsDestroyLifecycle: true,\n\n  _isDestroyed: false,\n\n  isDestroyed: function isDestroyed() {\n    return !!this._isDestroyed;\n  },\n\n\n  _isRendered: false,\n\n  isRendered: function isRendered() {\n    return !!this._isRendered;\n  },\n\n\n  _isAttached: false,\n\n  isAttached: function isAttached() {\n    return !!this._isAttached;\n  },\n\n\n  // Overriding Backbone.View's `delegateEvents` to handle\n  // `events` and `triggers`\n  delegateEvents: function delegateEvents(eventsArg) {\n\n    this._proxyBehaviorViewProperties();\n    this._buildEventProxies();\n\n    var viewEvents = this._getEvents(eventsArg);\n\n    if (typeof eventsArg === 'undefined') {\n      this.events = viewEvents;\n    }\n\n    var combinedEvents = _.extend({}, this._getBehaviorEvents(), viewEvents, this._getBehaviorTriggers(), this.getTriggers());\n\n    Backbone.View.prototype.delegateEvents.call(this, combinedEvents);\n\n    return this;\n  },\n  _getEvents: function _getEvents(eventsArg) {\n    var events = eventsArg || this.events;\n\n    if (_.isFunction(events)) {\n      return this.normalizeUIKeys(events.call(this));\n    }\n\n    return this.normalizeUIKeys(events);\n  },\n\n\n  // Configure `triggers` to forward DOM events to view\n  // events. `triggers: {\"click .foo\": \"do:foo\"}`\n  getTriggers: function getTriggers() {\n    if (!this.triggers) {\n      return;\n    }\n\n    // Allow `triggers` to be configured as a function\n    var triggers = this.normalizeUIKeys(_.result(this, 'triggers'));\n\n    // Configure the triggers, prevent default\n    // action and stop propagation of DOM events\n    return this._getViewTriggers(this, triggers);\n  },\n\n\n  // Handle `modelEvents`, and `collectionEvents` configuration\n  delegateEntityEvents: function delegateEntityEvents() {\n    this._delegateEntityEvents(this.model, this.collection);\n\n    // bind each behaviors model and collection events\n    this._delegateBehaviorEntityEvents();\n\n    return this;\n  },\n\n\n  // Handle unbinding `modelEvents`, and `collectionEvents` configuration\n  undelegateEntityEvents: function undelegateEntityEvents() {\n    this._undelegateEntityEvents(this.model, this.collection);\n\n    // unbind each behaviors model and collection events\n    this._undelegateBehaviorEntityEvents();\n\n    return this;\n  },\n\n\n  // Handle destroying the view and its children.\n  destroy: function destroy() {\n    if (this._isDestroyed) {\n      return this;\n    }\n    var shouldTriggerDetach = this._isAttached && !this._shouldDisableEvents;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    this.triggerMethod.apply(this, ['before:destroy', this].concat(args));\n    if (shouldTriggerDetach) {\n      this.triggerMethod('before:detach', this);\n    }\n\n    // unbind UI elements\n    this.unbindUIElements();\n\n    // remove the view from the DOM\n    this._removeElement();\n\n    if (shouldTriggerDetach) {\n      this._isAttached = false;\n      this.triggerMethod('detach', this);\n    }\n\n    // remove children after the remove to prevent extra paints\n    this._removeChildren();\n\n    this._isDestroyed = true;\n    this._isRendered = false;\n\n    // Destroy behaviors after _isDestroyed flag\n    this._destroyBehaviors.apply(this, args);\n\n    this.triggerMethod.apply(this, ['destroy', this].concat(args));\n\n    this.stopListening();\n\n    return this;\n  },\n\n\n  // Equates to this.$el.remove\n  _removeElement: function _removeElement() {\n    this.$el.off().removeData();\n    this.Dom.detachEl(this.el, this.$el);\n  },\n  bindUIElements: function bindUIElements() {\n    this._bindUIElements();\n    this._bindBehaviorUIElements();\n\n    return this;\n  },\n\n\n  // This method unbinds the elements specified in the \"ui\" hash\n  unbindUIElements: function unbindUIElements() {\n    this._unbindUIElements();\n    this._unbindBehaviorUIElements();\n\n    return this;\n  },\n  getUI: function getUI(name) {\n    return this._getUI(name);\n  },\n\n\n  // used as the prefix for child view events\n  // that are forwarded through the layoutview\n  childViewEventPrefix: function childViewEventPrefix() {\n    return isEnabled('childViewEventPrefix') ? 'childview' : false;\n  },\n\n\n  // import the `triggerMethod` to trigger events with corresponding\n  // methods if the method exists\n  triggerMethod: function triggerMethod$$1() {\n    var ret = triggerMethod.apply(this, arguments);\n\n    this._triggerEventOnBehaviors.apply(this, arguments);\n\n    return ret;\n  },\n\n\n  // Cache `childViewEvents` and `childViewTriggers`\n  _buildEventProxies: function _buildEventProxies() {\n    this._childViewEvents = _.result(this, 'childViewEvents');\n    this._childViewTriggers = _.result(this, 'childViewTriggers');\n  },\n  _proxyChildViewEvents: function _proxyChildViewEvents(view) {\n    this.listenTo(view, 'all', this._childViewEventHandler);\n  },\n  _childViewEventHandler: function _childViewEventHandler(eventName) {\n    var childViewEvents = this.normalizeMethods(this._childViewEvents);\n\n    // call collectionView childViewEvent if defined\n\n    for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    if (typeof childViewEvents !== 'undefined' && _.isFunction(childViewEvents[eventName])) {\n      childViewEvents[eventName].apply(this, args);\n    }\n\n    // use the parent view's proxyEvent handlers\n    var childViewTriggers = this._childViewTriggers;\n\n    // Call the event with the proxy name on the parent layout\n    if (childViewTriggers && _.isString(childViewTriggers[eventName])) {\n      this.triggerMethod.apply(this, [childViewTriggers[eventName]].concat(args));\n    }\n\n    var prefix = _.result(this, 'childViewEventPrefix');\n\n    if (prefix !== false) {\n      var childEventName = prefix + ':' + eventName;\n\n      this.triggerMethod.apply(this, [childEventName].concat(args));\n    }\n  }\n};\n\n_.extend(ViewMixin, BehaviorsMixin, CommonMixin, DelegateEntityEventsMixin, TriggersMixin, UIMixin);\n\nfunction renderView(view) {\n  if (view._isRendered) {\n    return;\n  }\n\n  if (!view.supportsRenderLifecycle) {\n    triggerMethodOn(view, 'before:render', view);\n  }\n\n  view.render();\n\n  if (!view.supportsRenderLifecycle) {\n    view._isRendered = true;\n    triggerMethodOn(view, 'render', view);\n  }\n}\n\nfunction destroyView(view) {\n  if (view.destroy) {\n    view.destroy();\n    return;\n  }\n\n  if (!view.supportsDestroyLifecycle) {\n    triggerMethodOn(view, 'before:destroy', view);\n  }\n\n  var shouldTriggerDetach = view._isAttached && !view._shouldDisableEvents;\n\n  if (shouldTriggerDetach) {\n    triggerMethodOn(view, 'before:detach', view);\n  }\n\n  view.remove();\n\n  if (shouldTriggerDetach) {\n    view._isAttached = false;\n    triggerMethodOn(view, 'detach', view);\n  }\n\n  view._isDestroyed = true;\n\n  if (!view.supportsDestroyLifecycle) {\n    triggerMethodOn(view, 'destroy', view);\n  }\n}\n\n// Region\n// ------\n\nvar ClassOptions$2 = ['allowMissingEl', 'parentEl', 'replaceElement'];\n\nvar Region = MarionetteObject.extend({\n  Dom: DomApi,\n\n  cidPrefix: 'mnr',\n  replaceElement: false,\n  _isReplaced: false,\n  _isSwappingView: false,\n\n  constructor: function constructor(options) {\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions$2);\n\n    // getOption necessary because options.el may be passed as undefined\n    this._initEl = this.el = this.getOption('el');\n\n    // Handle when this.el is passed in as a $ wrapped element.\n    this.el = this.el instanceof Backbone.$ ? this.el[0] : this.el;\n\n    if (!this.el) {\n      throw new MarionetteError({\n        name: 'NoElError',\n        message: 'An \"el\" must be specified for a region.'\n      });\n    }\n\n    this.$el = this.getEl(this.el);\n    MarionetteObject.call(this, options);\n  },\n\n\n  // Displays a backbone view instance inside of the region. Handles calling the `render`\n  // method for you. Reads content directly from the `el` attribute. The `preventDestroy`\n  // option can be used to prevent a view from the old view being destroyed on show.\n  show: function show(view, options) {\n    if (!this._ensureElement(options)) {\n      return;\n    }\n\n    view = this._getView(view, options);\n\n    if (view === this.currentView) {\n      return this;\n    }\n\n    this._isSwappingView = !!this.currentView;\n\n    this.triggerMethod('before:show', this, view, options);\n\n    // Assume an attached view is already in the region for pre-existing DOM\n    if (!view._isAttached) {\n      this.empty(options);\n    }\n\n    this._setupChildView(view);\n\n    this.currentView = view;\n\n    renderView(view);\n\n    this._attachView(view, options);\n\n    this.triggerMethod('show', this, view, options);\n\n    this._isSwappingView = false;\n\n    return this;\n  },\n  _setupChildView: function _setupChildView(view) {\n    monitorViewEvents(view);\n\n    this._proxyChildViewEvents(view);\n\n    // We need to listen for if a view is destroyed in a way other than through the region.\n    // If this happens we need to remove the reference to the currentView since once a view\n    // has been destroyed we can not reuse it.\n    view.on('destroy', this._empty, this);\n  },\n  _proxyChildViewEvents: function _proxyChildViewEvents(view) {\n    var parentView = this._parentView;\n\n    if (!parentView) {\n      return;\n    }\n\n    parentView._proxyChildViewEvents(view);\n  },\n\n\n  // If the regions parent view is not monitoring its attach/detach events\n  _shouldDisableMonitoring: function _shouldDisableMonitoring() {\n    return this._parentView && this._parentView.monitorViewEvents === false;\n  },\n  _attachView: function _attachView(view) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var shouldTriggerAttach = !view._isAttached && isNodeAttached(this.el) && !this._shouldDisableMonitoring();\n    var shouldReplaceEl = typeof options.replaceElement === 'undefined' ? !!_.result(this, 'replaceElement') : !!options.replaceElement;\n\n    if (shouldTriggerAttach) {\n      triggerMethodOn(view, 'before:attach', view);\n    }\n\n    if (shouldReplaceEl) {\n      this._replaceEl(view);\n    } else {\n      this.attachHtml(view);\n    }\n\n    if (shouldTriggerAttach) {\n      view._isAttached = true;\n      triggerMethodOn(view, 'attach', view);\n    }\n  },\n  _ensureElement: function _ensureElement() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!_.isObject(this.el)) {\n      this.$el = this.getEl(this.el);\n      this.el = this.$el[0];\n      // Make sure the $el contains only the el\n      this.$el = this.Dom.getEl(this.el);\n    }\n\n    if (!this.$el || this.$el.length === 0) {\n      var allowMissingEl = typeof options.allowMissingEl === 'undefined' ? !!_.result(this, 'allowMissingEl') : !!options.allowMissingEl;\n\n      if (allowMissingEl) {\n        return false;\n      } else {\n        throw new MarionetteError('An \"el\" must exist in DOM for this region ' + this.cid);\n      }\n    }\n    return true;\n  },\n  _getView: function _getView(view) {\n    if (!view) {\n      throw new MarionetteError({\n        name: 'ViewNotValid',\n        message: 'The view passed is undefined and therefore invalid. You must pass a view instance to show.'\n      });\n    }\n\n    if (view._isDestroyed) {\n      throw new MarionetteError({\n        name: 'ViewDestroyedError',\n        message: 'View (cid: \"' + view.cid + '\") has already been destroyed and cannot be used.'\n      });\n    }\n\n    if (view instanceof Backbone.View) {\n      return view;\n    }\n\n    var viewOptions = this._getViewOptions(view);\n\n    return new View(viewOptions);\n  },\n\n\n  // This allows for a template or a static string to be\n  // used as a template\n  _getViewOptions: function _getViewOptions(viewOptions) {\n    if (_.isFunction(viewOptions)) {\n      return { template: viewOptions };\n    }\n\n    if (_.isObject(viewOptions)) {\n      return viewOptions;\n    }\n\n    var template = function template() {\n      return viewOptions;\n    };\n\n    return { template: template };\n  },\n\n\n  // Override this method to change how the region finds the DOM element that it manages. Return\n  // a jQuery selector object scoped to a provided parent el or the document if none exists.\n  getEl: function getEl(el) {\n    var context = _.result(this, 'parentEl');\n\n    if (context && _.isString(el)) {\n      return this.Dom.findEl(context, el);\n    }\n\n    return this.Dom.getEl(el);\n  },\n  _replaceEl: function _replaceEl(view) {\n    // always restore the el to ensure the regions el is present before replacing\n    this._restoreEl();\n\n    view.on('before:destroy', this._restoreEl, this);\n\n    this.Dom.replaceEl(view.el, this.el);\n\n    this._isReplaced = true;\n  },\n\n\n  // Restore the region's element in the DOM.\n  _restoreEl: function _restoreEl() {\n    // There is nothing to replace\n    if (!this._isReplaced) {\n      return;\n    }\n\n    var view = this.currentView;\n\n    if (!view) {\n      return;\n    }\n\n    this._detachView(view);\n\n    this._isReplaced = false;\n  },\n\n\n  // Check to see if the region's el was replaced.\n  isReplaced: function isReplaced() {\n    return !!this._isReplaced;\n  },\n\n\n  // Check to see if a view is being swapped by another\n  isSwappingView: function isSwappingView() {\n    return !!this._isSwappingView;\n  },\n\n\n  // Override this method to change how the new view is appended to the `$el` that the\n  // region is managing\n  attachHtml: function attachHtml(view) {\n    this.Dom.appendContents(this.el, view.el, { _$el: this.$el, _$contents: view.$el });\n  },\n\n\n  // Destroy the current view, if there is one. If there is no current view, it does\n  // nothing and returns immediately.\n  empty: function empty() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { allowMissingEl: true };\n\n    var view = this.currentView;\n\n    // If there is no view in the region we should only detach current html\n    if (!view) {\n      if (this._ensureElement(options)) {\n        this.detachHtml();\n      }\n      return this;\n    }\n\n    var shouldDestroy = !options.preventDestroy;\n\n    if (!shouldDestroy) {\n      deprecate('The preventDestroy option is deprecated. Use Region#detachView');\n    }\n\n    this._empty(view, shouldDestroy);\n    return this;\n  },\n  _empty: function _empty(view, shouldDestroy) {\n    view.off('destroy', this._empty, this);\n    this.triggerMethod('before:empty', this, view);\n\n    this._restoreEl();\n\n    delete this.currentView;\n\n    if (!view._isDestroyed) {\n      if (shouldDestroy) {\n        this.removeView(view);\n      } else {\n        this._detachView(view);\n      }\n      this._stopChildViewEvents(view);\n    }\n\n    this.triggerMethod('empty', this, view);\n  },\n  _stopChildViewEvents: function _stopChildViewEvents(view) {\n    var parentView = this._parentView;\n\n    if (!parentView) {\n      return;\n    }\n\n    this._parentView.stopListening(view);\n  },\n  destroyView: function destroyView$$1(view) {\n    if (view._isDestroyed) {\n      return view;\n    }\n\n    view._shouldDisableEvents = this._shouldDisableMonitoring();\n    destroyView(view);\n    return view;\n  },\n  removeView: function removeView(view) {\n    this.destroyView(view);\n  },\n\n\n  // Empties the Region without destroying the view\n  // Returns the detached view\n  detachView: function detachView() {\n    var view = this.currentView;\n\n    if (!view) {\n      return;\n    }\n\n    this._empty(view);\n\n    return view;\n  },\n  _detachView: function _detachView(view) {\n    var shouldTriggerDetach = view._isAttached && !this._shouldDisableMonitoring();\n    var shouldRestoreEl = this._isReplaced;\n    if (shouldTriggerDetach) {\n      triggerMethodOn(view, 'before:detach', view);\n    }\n\n    if (shouldRestoreEl) {\n      this.Dom.replaceEl(this.el, view.el);\n    } else {\n      this.detachHtml();\n    }\n\n    if (shouldTriggerDetach) {\n      view._isAttached = false;\n      triggerMethodOn(view, 'detach', view);\n    }\n  },\n\n\n  // Override this method to change how the region detaches current content\n  detachHtml: function detachHtml() {\n    this.Dom.detachContents(this.el, this.$el);\n  },\n\n\n  // Checks whether a view is currently present within the region. Returns `true` if there is\n  // and `false` if no view is present.\n  hasView: function hasView() {\n    return !!this.currentView;\n  },\n\n\n  // Reset the region by destroying any existing view and clearing out the cached `$el`.\n  // The next time a view is shown via this region, the region will re-query the DOM for\n  // the region's `el`.\n  reset: function reset(options) {\n    this.empty(options);\n\n    if (this.$el) {\n      this.el = this._initEl;\n    }\n\n    delete this.$el;\n    return this;\n  },\n  destroy: function destroy(options) {\n    if (this._isDestroyed) {\n      return this;\n    }\n\n    this.reset(options);\n\n    if (this._name) {\n      this._parentView._removeReferences(this._name);\n    }\n    delete this._parentView;\n    delete this._name;\n\n    return MarionetteObject.prototype.destroy.apply(this, arguments);\n  }\n}, {\n  setDomApi: setDomApi\n});\n\n// return the region instance from the definition\nvar buildRegion = function (definition, defaults) {\n  if (definition instanceof Region) {\n    return definition;\n  }\n\n  return buildRegionFromDefinition(definition, defaults);\n};\n\nfunction buildRegionFromDefinition(definition, defaults) {\n  var opts = _.extend({}, defaults);\n\n  if (_.isString(definition)) {\n    _.extend(opts, { el: definition });\n\n    return buildRegionFromObject(opts);\n  }\n\n  if (_.isFunction(definition)) {\n    _.extend(opts, { regionClass: definition });\n\n    return buildRegionFromObject(opts);\n  }\n\n  if (_.isObject(definition)) {\n    if (definition.selector) {\n      deprecate('The selector option on a Region definition object is deprecated. Use el to pass a selector string');\n    }\n\n    _.extend(opts, { el: definition.selector }, definition);\n\n    return buildRegionFromObject(opts);\n  }\n\n  throw new MarionetteError({\n    message: 'Improper region configuration type.',\n    url: 'marionette.region.html#region-configuration-types'\n  });\n}\n\nfunction buildRegionFromObject(definition) {\n  var RegionClass = definition.regionClass;\n\n  var options = _.omit(definition, 'regionClass');\n\n  return new RegionClass(options);\n}\n\n// MixinOptions\n// - regions\n// - regionClass\n\nvar RegionsMixin = {\n  regionClass: Region,\n\n  // Internal method to initialize the regions that have been defined in a\n  // `regions` attribute on this View.\n  _initRegions: function _initRegions() {\n\n    // init regions hash\n    this.regions = this.regions || {};\n    this._regions = {};\n\n    this.addRegions(_.result(this, 'regions'));\n  },\n\n\n  // Internal method to re-initialize all of the regions by updating\n  // the `el` that they point to\n  _reInitRegions: function _reInitRegions() {\n    _invoke(this._regions, 'reset');\n  },\n\n\n  // Add a single region, by name, to the View\n  addRegion: function addRegion(name, definition) {\n    var regions = {};\n    regions[name] = definition;\n    return this.addRegions(regions)[name];\n  },\n\n\n  // Add multiple regions as a {name: definition, name2: def2} object literal\n  addRegions: function addRegions(regions) {\n    // If there's nothing to add, stop here.\n    if (_.isEmpty(regions)) {\n      return;\n    }\n\n    // Normalize region selectors hash to allow\n    // a user to use the @ui. syntax.\n    regions = this.normalizeUIValues(regions, ['selector', 'el']);\n\n    // Add the regions definitions to the regions property\n    this.regions = _.extend({}, this.regions, regions);\n\n    return this._addRegions(regions);\n  },\n\n\n  // internal method to build and add regions\n  _addRegions: function _addRegions(regionDefinitions) {\n    var _this = this;\n\n    var defaults = {\n      regionClass: this.regionClass,\n      parentEl: _.partial(_.result, this, 'el')\n    };\n\n    return _.reduce(regionDefinitions, function (regions, definition, name) {\n      regions[name] = buildRegion(definition, defaults);\n      _this._addRegion(regions[name], name);\n      return regions;\n    }, {});\n  },\n  _addRegion: function _addRegion(region, name) {\n    this.triggerMethod('before:add:region', this, name, region);\n\n    region._parentView = this;\n    region._name = name;\n\n    this._regions[name] = region;\n\n    this.triggerMethod('add:region', this, name, region);\n  },\n\n\n  // Remove a single region from the View, by name\n  removeRegion: function removeRegion(name) {\n    var region = this._regions[name];\n\n    this._removeRegion(region, name);\n\n    return region;\n  },\n\n\n  // Remove all regions from the View\n  removeRegions: function removeRegions() {\n    var regions = this._getRegions();\n\n    _.each(this._regions, _.bind(this._removeRegion, this));\n\n    return regions;\n  },\n  _removeRegion: function _removeRegion(region, name) {\n    this.triggerMethod('before:remove:region', this, name, region);\n\n    region.destroy();\n\n    this.triggerMethod('remove:region', this, name, region);\n  },\n\n\n  // Called in a region's destroy\n  _removeReferences: function _removeReferences(name) {\n    delete this.regions[name];\n    delete this._regions[name];\n  },\n\n\n  // Empty all regions in the region manager, but\n  // leave them attached\n  emptyRegions: function emptyRegions() {\n    var regions = this.getRegions();\n    _invoke(regions, 'empty');\n    return regions;\n  },\n\n\n  // Checks to see if view contains region\n  // Accepts the region name\n  // hasRegion('main')\n  hasRegion: function hasRegion(name) {\n    return !!this.getRegion(name);\n  },\n\n\n  // Provides access to regions\n  // Accepts the region name\n  // getRegion('main')\n  getRegion: function getRegion(name) {\n    if (!this._isRendered) {\n      this.render();\n    }\n    return this._regions[name];\n  },\n\n\n  // Get all regions\n  _getRegions: function _getRegions() {\n    return _.clone(this._regions);\n  },\n  getRegions: function getRegions() {\n    if (!this._isRendered) {\n      this.render();\n    }\n    return this._getRegions();\n  },\n  showChildView: function showChildView(name, view) {\n    var region = this.getRegion(name);\n\n    for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    return region.show.apply(region, [view].concat(args));\n  },\n  detachChildView: function detachChildView(name) {\n    return this.getRegion(name).detachView();\n  },\n  getChildView: function getChildView(name) {\n    return this.getRegion(name).currentView;\n  }\n};\n\n// Renderer\n// --------\n\n// Render a template with data by passing in the template\n// selector and the data to render.\nvar Renderer = {\n\n  // Render a template with data. The `template` parameter is\n  // passed to the `TemplateCache` object to retrieve the\n  // template function. Override this method to provide your own\n  // custom rendering and template handling for all of Marionette.\n  render: function render(template, data) {\n    if (!template) {\n      throw new MarionetteError({\n        name: 'TemplateNotFoundError',\n        message: 'Cannot render the template since its false, null or undefined.'\n      });\n    }\n\n    var templateFunc = _.isFunction(template) ? template : TemplateCache.get(template);\n\n    return templateFunc(data);\n  }\n};\n\n// View\n// ---------\n\nvar ClassOptions$1 = ['behaviors', 'childViewEventPrefix', 'childViewEvents', 'childViewTriggers', 'collectionEvents', 'events', 'modelEvents', 'regionClass', 'regions', 'template', 'templateContext', 'triggers', 'ui'];\n\n// The standard view. Includes view events, automatic rendering\n// of Underscore templates, nested views, and more.\nvar View = Backbone.View.extend({\n  constructor: function constructor(options) {\n    this.render = _.bind(this.render, this);\n\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions$1);\n\n    monitorViewEvents(this);\n\n    this._initBehaviors();\n    this._initRegions();\n\n    var args = Array.prototype.slice.call(arguments);\n    args[0] = this.options;\n    Backbone.View.prototype.constructor.apply(this, args);\n\n    this.delegateEntityEvents();\n\n    this._triggerEventOnBehaviors('initialize', this);\n  },\n\n\n  // Serialize the view's model *or* collection, if\n  // it exists, for the template\n  serializeData: function serializeData() {\n    if (!this.model && !this.collection) {\n      return {};\n    }\n\n    // If we have a model, we serialize that\n    if (this.model) {\n      return this.serializeModel();\n    }\n\n    // Otherwise, we serialize the collection,\n    // making it available under the `items` property\n    return {\n      items: this.serializeCollection()\n    };\n  },\n\n\n  // Prepares the special `model` property of a view\n  // for being displayed in the template. By default\n  // we simply clone the attributes. Override this if\n  // you need a custom transformation for your view's model\n  serializeModel: function serializeModel() {\n    if (!this.model) {\n      return {};\n    }\n    return _.clone(this.model.attributes);\n  },\n\n\n  // Serialize a collection by cloning each of\n  // its model's attributes\n  serializeCollection: function serializeCollection() {\n    if (!this.collection) {\n      return {};\n    }\n    return this.collection.map(function (model) {\n      return _.clone(model.attributes);\n    });\n  },\n\n\n  // Overriding Backbone.View's `setElement` to handle\n  // if an el was previously defined. If so, the view might be\n  // rendered or attached on setElement.\n  setElement: function setElement() {\n    Backbone.View.prototype.setElement.apply(this, arguments);\n\n    this._isRendered = this.Dom.hasContents(this.el);\n    this._isAttached = isNodeAttached(this.el);\n\n    if (this._isRendered) {\n      this.bindUIElements();\n    }\n\n    return this;\n  },\n\n\n  // Render the view, defaulting to underscore.js templates.\n  // You can override this in your view definition to provide\n  // a very specific rendering for your view. In general, though,\n  // you should override the `Marionette.Renderer` object to\n  // change how Marionette renders views.\n  // Subsequent renders after the first will re-render all nested\n  // views.\n  render: function render() {\n    if (this._isDestroyed) {\n      return this;\n    }\n\n    this.triggerMethod('before:render', this);\n\n    // If this is not the first render call, then we need to\n    // re-initialize the `el` for each region\n    if (this._isRendered) {\n      this._reInitRegions();\n    }\n\n    this._renderTemplate();\n    this.bindUIElements();\n\n    this._isRendered = true;\n    this.triggerMethod('render', this);\n\n    return this;\n  },\n\n\n  // Internal method to render the template with the serialized data\n  // and template context via the `Marionette.Renderer` object.\n  _renderTemplate: function _renderTemplate() {\n    var template = this.getTemplate();\n\n    // Allow template-less views\n    if (template === false) {\n      deprecate('template:false is deprecated.  Use _.noop.');\n      return;\n    }\n\n    // Add in entity data and template context\n    var data = this.mixinTemplateContext(this.serializeData());\n\n    // Render and add to el\n    var html = this._renderHtml(template, data);\n    this.attachElContent(html);\n  },\n\n\n  // Renders the data into the template\n  _renderHtml: function _renderHtml(template, data) {\n    return Renderer.render(template, data, this);\n  },\n\n\n  // Get the template for this view\n  // instance. You can set a `template` attribute in the view\n  // definition or pass a `template: \"whatever\"` parameter in\n  // to the constructor options.\n  getTemplate: function getTemplate() {\n    return this.template;\n  },\n\n\n  // Mix in template context methods. Looks for a\n  // `templateContext` attribute, which can either be an\n  // object literal, or a function that returns an object\n  // literal. All methods and attributes from this object\n  // are copies to the object passed in.\n  mixinTemplateContext: function mixinTemplateContext() {\n    var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var templateContext = _.result(this, 'templateContext');\n    return _.extend(target, templateContext);\n  },\n\n\n  // Attaches the content of a given view.\n  // This method can be overridden to optimize rendering,\n  // or to render in a non standard way.\n  //\n  // For example, using `innerHTML` instead of `$el.html`\n  //\n  // ```js\n  // attachElContent(html) {\n  //   this.el.innerHTML = html;\n  //   return this;\n  // }\n  // ```\n  attachElContent: function attachElContent(html) {\n    this.Dom.setContents(this.el, html, this.$el);\n\n    return this;\n  },\n\n\n  // called by ViewMixin destroy\n  _removeChildren: function _removeChildren() {\n    this.removeRegions();\n  },\n  _getImmediateChildren: function _getImmediateChildren() {\n    return _.chain(this._getRegions()).map('currentView').compact().value();\n  }\n}, {\n  // Sets the renderer for the Marionette.View class\n  setRenderer: function setRenderer(renderer) {\n    this.prototype._renderHtml = renderer;\n    return this;\n  },\n\n\n  setDomApi: setDomApi\n});\n\n_.extend(View.prototype, ViewMixin, RegionsMixin);\n\n// Mix in methods from Underscore, for iteration, and other\n// collection related features.\n// Borrowing this code from Backbone.Collection:\n// https://github.com/jashkenas/backbone/blob/1.1.2/backbone.js#L962\n\nvar methods = ['forEach', 'each', 'map', 'find', 'detect', 'filter', 'select', 'reject', 'every', 'all', 'some', 'any', 'include', 'contains', 'invoke', 'toArray', 'first', 'initial', 'rest', 'last', 'without', 'isEmpty', 'pluck', 'reduce', 'partition'];\n\nvar emulateCollection = function emulateCollection(object, listProperty) {\n  _.each(methods, function (method) {\n    object[method] = function () {\n      var list = _.result(this, listProperty);\n      var args = Array.prototype.slice.call(arguments);\n      return _[method].apply(_, [list].concat(args));\n    };\n  });\n};\n\n// Provide a container to store, retrieve and\n// shut down child views.\nvar Container = function Container(views) {\n  this._views = {};\n  this._indexByModel = {};\n  this._indexByCustom = {};\n  this._updateLength();\n\n  _.each(views, _.bind(this.add, this));\n};\n\nemulateCollection(Container.prototype, '_getViews');\n\n// Container Methods\n// -----------------\n\n_.extend(Container.prototype, {\n  _getViews: function _getViews() {\n    return _.values(this._views);\n  },\n\n\n  // Add a view to this container. Stores the view\n  // by `cid` and makes it searchable by the model\n  // cid (and model itself). Optionally specify\n  // a custom key to store an retrieve the view.\n  add: function add(view, customIndex) {\n    return this._add(view, customIndex)._updateLength();\n  },\n\n\n  // To be used when avoiding call _updateLength\n  // When you are done adding all your new views\n  // call _updateLength\n  _add: function _add(view, customIndex) {\n    var viewCid = view.cid;\n\n    // store the view\n    this._views[viewCid] = view;\n\n    // index it by model\n    if (view.model) {\n      this._indexByModel[view.model.cid] = viewCid;\n    }\n\n    // index by custom\n    if (customIndex) {\n      this._indexByCustom[customIndex] = viewCid;\n    }\n\n    return this;\n  },\n\n\n  // Find a view by the model that was attached to\n  // it. Uses the model's `cid` to find it.\n  findByModel: function findByModel(model) {\n    return this.findByModelCid(model.cid);\n  },\n\n\n  // Find a view by the `cid` of the model that was attached to\n  // it. Uses the model's `cid` to find the view `cid` and\n  // retrieve the view using it.\n  findByModelCid: function findByModelCid(modelCid) {\n    var viewCid = this._indexByModel[modelCid];\n    return this.findByCid(viewCid);\n  },\n\n\n  // Find a view by a custom indexer.\n  findByCustom: function findByCustom(index) {\n    var viewCid = this._indexByCustom[index];\n    return this.findByCid(viewCid);\n  },\n\n\n  // Find by index. This is not guaranteed to be a\n  // stable index.\n  findByIndex: function findByIndex(index) {\n    return _.values(this._views)[index];\n  },\n\n\n  // retrieve a view by its `cid` directly\n  findByCid: function findByCid(cid) {\n    return this._views[cid];\n  },\n\n\n  // Remove a view\n  remove: function remove(view) {\n    return this._remove(view)._updateLength();\n  },\n\n\n  // To be used when avoiding call _updateLength\n  // When you are done adding all your new views\n  // call _updateLength\n  _remove: function _remove(view) {\n    var viewCid = view.cid;\n\n    // delete model index\n    if (view.model) {\n      delete this._indexByModel[view.model.cid];\n    }\n\n    // delete custom index\n    _.some(this._indexByCustom, _.bind(function (cid, key) {\n      if (cid === viewCid) {\n        delete this._indexByCustom[key];\n        return true;\n      }\n    }, this));\n\n    // remove the view from the container\n    delete this._views[viewCid];\n\n    return this;\n  },\n\n\n  // Update the `.length` attribute on this container\n  _updateLength: function _updateLength() {\n    this.length = _.size(this._views);\n\n    return this;\n  }\n});\n\n// Collection View\n// ---------------\n\nvar ClassOptions$3 = ['behaviors', 'childView', 'childViewEventPrefix', 'childViewEvents', 'childViewOptions', 'childViewTriggers', 'collectionEvents', 'events', 'filter', 'emptyView', 'emptyViewOptions', 'modelEvents', 'reorderOnSort', 'sort', 'triggers', 'ui', 'viewComparator'];\n\n// A view that iterates over a Backbone.Collection\n// and renders an individual child view for each model.\nvar CollectionView = Backbone.View.extend({\n\n  // flag for maintaining the sorted order of the collection\n  sort: true,\n\n  // constructor\n  // option to pass `{sort: false}` to prevent the `CollectionView` from\n  // maintaining the sorted order of the collection.\n  // This will fallback onto appending childView's to the end.\n  //\n  // option to pass `{viewComparator: compFunction()}` to allow the `CollectionView`\n  // to use a custom sort order for the collection.\n  constructor: function constructor(options) {\n    this.render = _.bind(this.render, this);\n\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions$3);\n\n    monitorViewEvents(this);\n\n    this._initBehaviors();\n    this.once('render', this._initialEvents);\n    this._initChildViewStorage();\n    this._bufferedChildren = [];\n\n    var args = Array.prototype.slice.call(arguments);\n    args[0] = this.options;\n    Backbone.View.prototype.constructor.apply(this, args);\n\n    this.delegateEntityEvents();\n\n    this._triggerEventOnBehaviors('initialize', this);\n  },\n\n\n  // Instead of inserting elements one by one into the page, it's much more performant to insert\n  // elements into a document fragment and then insert that document fragment into the page\n  _startBuffering: function _startBuffering() {\n    this._isBuffering = true;\n  },\n  _endBuffering: function _endBuffering() {\n    var shouldTriggerAttach = this._isAttached && this.monitorViewEvents !== false;\n    var triggerOnChildren = shouldTriggerAttach ? this._getImmediateChildren() : [];\n\n    this._isBuffering = false;\n\n    _.each(triggerOnChildren, function (child) {\n      triggerMethodOn(child, 'before:attach', child);\n    });\n\n    this.attachBuffer(this, this._createBuffer());\n\n    _.each(triggerOnChildren, function (child) {\n      child._isAttached = true;\n      triggerMethodOn(child, 'attach', child);\n    });\n\n    this._bufferedChildren = [];\n  },\n  _getImmediateChildren: function _getImmediateChildren() {\n    return _.values(this.children._views);\n  },\n\n\n  // Configured the initial events that the collection view binds to.\n  _initialEvents: function _initialEvents() {\n    if (this.collection) {\n      this.listenTo(this.collection, 'add', this._onCollectionAdd);\n      this.listenTo(this.collection, 'update', this._onCollectionUpdate);\n      this.listenTo(this.collection, 'reset', this.render);\n\n      if (this.sort) {\n        this.listenTo(this.collection, 'sort', this._sortViews);\n      }\n    }\n  },\n\n\n  // Handle a child added to the collection\n  _onCollectionAdd: function _onCollectionAdd(child, collection, opts) {\n    // `index` is present when adding with `at` since BB 1.2; indexOf fallback for < 1.2\n    var index = opts.at !== undefined && (opts.index || collection.indexOf(child));\n\n    // When filtered or when there is no initial index, calculate index.\n    if (this.filter || index === false) {\n      index = _.indexOf(this._filteredSortedModels(index), child);\n    }\n\n    if (this._shouldAddChild(child, index)) {\n      this._destroyEmptyView();\n      this._addChild(child, index);\n    }\n  },\n\n\n  // Handle collection update model removals\n  _onCollectionUpdate: function _onCollectionUpdate(collection, options) {\n    var changes = options.changes;\n    this._removeChildModels(changes.removed);\n  },\n\n\n  // Remove the child views and destroy them.\n  // This function also updates the indices of later views\n  // in the collection in order to keep the children in sync with the collection.\n  // \"models\" is an array of models and the corresponding views\n  // will be removed and destroyed from the CollectionView\n  _removeChildModels: function _removeChildModels(models) {\n    // Used to determine where to update the remaining\n    // sibling view indices after these views are removed.\n    var removedViews = this._getRemovedViews(models);\n\n    if (!removedViews.length) {\n      return;\n    }\n\n    this.children._updateLength();\n\n    // decrement the index of views after this one\n    this._updateIndices(removedViews, false);\n\n    if (this.isEmpty()) {\n      this._showEmptyView();\n    }\n  },\n\n\n  // Returns the views that will be used for re-indexing\n  // through CollectionView#_updateIndices.\n  _getRemovedViews: function _getRemovedViews(models) {\n    var _this = this;\n\n    // Returning a view means something was removed.\n    return _.reduce(models, function (removingViews, model) {\n      var view = model && _this.children.findByModel(model);\n\n      if (!view || view._isDestroyed) {\n        return removingViews;\n      }\n\n      _this._removeChildView(view);\n\n      removingViews.push(view);\n\n      return removingViews;\n    }, []);\n  },\n  _removeChildView: function _removeChildView(view) {\n    this.triggerMethod('before:remove:child', this, view);\n\n    this.children._remove(view);\n    view._shouldDisableEvents = this.monitorViewEvents === false;\n    destroyView(view);\n\n    this.stopListening(view);\n    this.triggerMethod('remove:child', this, view);\n  },\n\n\n  // Overriding Backbone.View's `setElement` to handle\n  // if an el was previously defined. If so, the view might be\n  // attached on setElement.\n  setElement: function setElement() {\n    Backbone.View.prototype.setElement.apply(this, arguments);\n\n    this._isAttached = isNodeAttached(this.el);\n\n    return this;\n  },\n\n\n  // Render children views. Override this method to provide your own implementation of a\n  // render function for the collection view.\n  render: function render() {\n    if (this._isDestroyed) {\n      return this;\n    }\n    this.triggerMethod('before:render', this);\n    this._renderChildren();\n    this._isRendered = true;\n    this.triggerMethod('render', this);\n    return this;\n  },\n\n\n  // An efficient rendering used for filtering. Instead of modifying the whole DOM for the\n  // collection view, we are only adding or removing the related childrenViews.\n  setFilter: function setFilter(filter) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        preventRender = _ref.preventRender;\n\n    var canBeRendered = this._isRendered && !this._isDestroyed;\n    var filterChanged = this.filter !== filter;\n    var shouldRender = canBeRendered && filterChanged && !preventRender;\n\n    if (shouldRender) {\n      var previousModels = this._filteredSortedModels();\n      this.filter = filter;\n      var models = this._filteredSortedModels();\n      this._applyModelDeltas(models, previousModels);\n    } else {\n      this.filter = filter;\n    }\n\n    return this;\n  },\n\n\n  // `removeFilter` is actually an alias for removing filters.\n  removeFilter: function removeFilter(options) {\n    return this.setFilter(null, options);\n  },\n\n\n  // Calculate and apply difference by cid between `models` and `previousModels`.\n  _applyModelDeltas: function _applyModelDeltas(models, previousModels) {\n    var _this2 = this;\n\n    var currentIds = {};\n    _.each(models, function (model, index) {\n      var addedChildNotExists = !_this2.children.findByModel(model);\n      if (addedChildNotExists) {\n        _this2._onCollectionAdd(model, _this2.collection, { at: index });\n      }\n      currentIds[model.cid] = true;\n    });\n\n    var removeModels = _.filter(previousModels, function (prevModel) {\n      return !currentIds[prevModel.cid] && _this2.children.findByModel(prevModel);\n    });\n\n    this._removeChildModels(removeModels);\n  },\n\n\n  // Reorder DOM after sorting. When your element's rendering do not use their index,\n  // you can pass reorderOnSort: true to only reorder the DOM after a sort instead of\n  // rendering all the collectionView.\n  reorder: function reorder() {\n    var _this3 = this;\n\n    var children = this.children;\n    var models = this._filteredSortedModels();\n\n    if (!models.length && this._showingEmptyView) {\n      return this;\n    }\n\n    var anyModelsAdded = _.some(models, function (model) {\n      return !children.findByModel(model);\n    });\n\n    // If there are any new models added due to filtering we need to add child views,\n    // so render as normal.\n    if (anyModelsAdded) {\n      this.render();\n    } else {\n\n      var filteredOutModels = [];\n\n      // Get the DOM nodes in the same order as the models and\n      // find the model that were children before but aren't in this new order.\n      var elsToReorder = _.reduce(this.children._views, function (viewEls, view) {\n        var index = _.indexOf(models, view.model);\n\n        if (index === -1) {\n          filteredOutModels.push(view.model);\n          return viewEls;\n        }\n\n        view._index = index;\n\n        viewEls[index] = view.el;\n\n        return viewEls;\n      }, new Array(models.length));\n\n      this.triggerMethod('before:reorder', this);\n\n      var elBuffer = this.Dom.createBuffer();\n\n      _.each(elsToReorder, function (el) {\n        _this3.Dom.appendContents(elBuffer, el);\n      });\n\n      // Since append moves elements that are already in the DOM, appending the elements\n      // will effectively reorder them.\n      this._appendReorderedChildren(elBuffer);\n\n      // remove any views that have been filtered out\n      this._removeChildModels(filteredOutModels);\n\n      this.triggerMethod('reorder', this);\n    }\n    return this;\n  },\n\n\n  // Render view after sorting. Override this method to change how the view renders\n  // after a `sort` on the collection.\n  resortView: function resortView() {\n    if (this.reorderOnSort) {\n      this.reorder();\n    } else {\n      this._renderChildren();\n    }\n    return this;\n  },\n\n\n  // Internal method. This checks for any changes in the order of the collection.\n  // If the index of any view doesn't match, it will render.\n  _sortViews: function _sortViews() {\n    var _this4 = this;\n\n    var models = this._filteredSortedModels();\n\n    // check for any changes in sort order of views\n    var orderChanged = _.find(models, function (item, index) {\n      var view = _this4.children.findByModel(item);\n      return !view || view._index !== index;\n    });\n\n    if (orderChanged) {\n      this.resortView();\n    }\n  },\n\n\n  // Internal reference to what index a `emptyView` is.\n  _emptyViewIndex: -1,\n\n  // Internal method. Separated so that CompositeView can append to the childViewContainer\n  // if necessary\n  _appendReorderedChildren: function _appendReorderedChildren(children) {\n    this.Dom.appendContents(this.el, children, { _$el: this.$el });\n  },\n\n\n  // Internal method. Separated so that CompositeView can have more control over events\n  // being triggered, around the rendering process\n  _renderChildren: function _renderChildren() {\n    if (this._isRendered) {\n      this._destroyEmptyView();\n      this._destroyChildren();\n    }\n\n    var models = this._filteredSortedModels();\n    if (this.isEmpty({ processedModels: models })) {\n      this._showEmptyView();\n    } else {\n      this.triggerMethod('before:render:children', this);\n      this._startBuffering();\n      this._showCollection(models);\n      this._endBuffering();\n      this.triggerMethod('render:children', this);\n    }\n  },\n  _createView: function _createView(model, index) {\n    var ChildView = this._getChildView(model);\n    var childViewOptions = this._getChildViewOptions(model, index);\n    var view = this.buildChildView(model, ChildView, childViewOptions);\n    return view;\n  },\n  _setupChildView: function _setupChildView(view, index) {\n    monitorViewEvents(view);\n\n    // set up the child view event forwarding\n    this._proxyChildViewEvents(view);\n\n    if (this.sort) {\n      view._index = index;\n    }\n  },\n\n\n  // Internal method to loop through collection and show each child view.\n  _showCollection: function _showCollection(models) {\n    _.each(models, _.bind(this._addChild, this));\n    this.children._updateLength();\n  },\n\n\n  // Allow the collection to be sorted by a custom view comparator\n  _filteredSortedModels: function _filteredSortedModels(addedAt) {\n    if (!this.collection || !this.collection.length) {\n      return [];\n    }\n\n    var viewComparator = this.getViewComparator();\n    var models = this.collection.models;\n    addedAt = Math.min(Math.max(addedAt, 0), models.length - 1);\n\n    if (viewComparator) {\n      var addedModel = void 0;\n      // Preserve `at` location, even for a sorted view\n      if (addedAt) {\n        addedModel = models[addedAt];\n        models = models.slice(0, addedAt).concat(models.slice(addedAt + 1));\n      }\n      models = this._sortModelsBy(models, viewComparator);\n      if (addedModel) {\n        models.splice(addedAt, 0, addedModel);\n      }\n    }\n\n    // Filter after sorting in case the filter uses the index\n    models = this._filterModels(models);\n\n    return models;\n  },\n  getViewComparator: function getViewComparator() {\n    return this.viewComparator;\n  },\n\n\n  // Filter an array of models, if a filter exists\n  _filterModels: function _filterModels(models) {\n    var _this5 = this;\n\n    if (this.filter) {\n      models = _.filter(models, function (model, index) {\n        return _this5._shouldAddChild(model, index);\n      });\n    }\n    return models;\n  },\n  _sortModelsBy: function _sortModelsBy(models, comparator) {\n    if (typeof comparator === 'string') {\n      return _.sortBy(models, function (model) {\n        return model.get(comparator);\n      });\n    } else if (comparator.length === 1) {\n      return _.sortBy(models, _.bind(comparator, this));\n    } else {\n      return _.clone(models).sort(_.bind(comparator, this));\n    }\n  },\n\n\n  // Internal method to show an empty view in place of a collection of child views,\n  // when the collection is empty\n  _showEmptyView: function _showEmptyView() {\n    var EmptyView = this._getEmptyView();\n\n    if (EmptyView && !this._showingEmptyView) {\n      this._showingEmptyView = true;\n\n      var model = new Backbone.Model();\n      var emptyViewOptions = this.emptyViewOptions || this.childViewOptions;\n      if (_.isFunction(emptyViewOptions)) {\n        emptyViewOptions = emptyViewOptions.call(this, model, this._emptyViewIndex);\n      }\n\n      var view = this.buildChildView(model, EmptyView, emptyViewOptions);\n\n      this.triggerMethod('before:render:empty', this, view);\n      this.addChildView(view, 0);\n      this.triggerMethod('render:empty', this, view);\n    }\n  },\n\n\n  // Internal method to destroy an existing emptyView instance if one exists. Called when\n  // a collection view has been rendered empty, and then a child is added to the collection.\n  _destroyEmptyView: function _destroyEmptyView() {\n    if (this._showingEmptyView) {\n      this.triggerMethod('before:remove:empty', this);\n\n      this._destroyChildren();\n      delete this._showingEmptyView;\n\n      this.triggerMethod('remove:empty', this);\n    }\n  },\n\n\n  // Retrieve the empty view class\n  _getEmptyView: function _getEmptyView() {\n    var emptyView = this.emptyView;\n\n    if (!emptyView) {\n      return;\n    }\n\n    return this._getView(emptyView);\n  },\n\n\n  // Retrieve the `childView` class\n  // The `childView` property can be either a view class or a function that\n  // returns a view class. If it is a function, it will receive the model that\n  // will be passed to the view instance (created from the returned view class)\n  _getChildView: function _getChildView(child) {\n    var childView = this.childView;\n\n    if (!childView) {\n      throw new MarionetteError({\n        name: 'NoChildViewError',\n        message: 'A \"childView\" must be specified'\n      });\n    }\n\n    childView = this._getView(childView, child);\n\n    if (!childView) {\n      throw new MarionetteError({\n        name: 'InvalidChildViewError',\n        message: '\"childView\" must be a view class or a function that returns a view class'\n      });\n    }\n\n    return childView;\n  },\n\n\n  // First check if the `view` is a view class (the common case)\n  // Then check if it's a function (which we assume that returns a view class)\n  _getView: function _getView(view, child) {\n    if (view.prototype instanceof Backbone.View || view === Backbone.View) {\n      return view;\n    } else if (_.isFunction(view)) {\n      return view.call(this, child);\n    }\n  },\n\n\n  // Internal method for building and adding a child view\n  _addChild: function _addChild(child, index) {\n    var view = this._createView(child, index);\n    this.addChildView(view, index);\n\n    return view;\n  },\n  _getChildViewOptions: function _getChildViewOptions(child, index) {\n    if (_.isFunction(this.childViewOptions)) {\n      return this.childViewOptions(child, index);\n    }\n\n    return this.childViewOptions;\n  },\n\n\n  // Render the child's view and add it to the HTML for the collection view at a given index.\n  // This will also update the indices of later views in the collection in order to keep the\n  // children in sync with the collection.\n  addChildView: function addChildView(view, index) {\n    this.triggerMethod('before:add:child', this, view);\n    this._setupChildView(view, index);\n\n    // Store the child view itself so we can properly remove and/or destroy it later\n    if (this._isBuffering) {\n      // Add to children, but don't update children's length.\n      this.children._add(view);\n    } else {\n      // increment indices of views after this one\n      this._updateIndices(view, true);\n      this.children.add(view);\n    }\n\n    renderView(view);\n\n    this._attachView(view, index);\n\n    this.triggerMethod('add:child', this, view);\n\n    return view;\n  },\n\n\n  // Internal method. This decrements or increments the indices of views after the added/removed\n  // view to keep in sync with the collection.\n  _updateIndices: function _updateIndices(views, increment) {\n    if (!this.sort) {\n      return;\n    }\n\n    if (!increment) {\n      _.each(_.sortBy(this.children._views, '_index'), function (view, index) {\n        view._index = index;\n      });\n\n      return;\n    }\n\n    var view = _.isArray(views) ? _.max(views, '_index') : views;\n\n    if (_.isObject(view)) {\n      // update the indexes of views after this one\n      _.each(this.children._views, function (laterView) {\n        if (laterView._index >= view._index) {\n          laterView._index += 1;\n        }\n      });\n    }\n  },\n  _attachView: function _attachView(view, index) {\n    // Only trigger attach if already attached and not buffering,\n    // otherwise _endBuffering() or Region#show() handles this.\n    var shouldTriggerAttach = !view._isAttached && !this._isBuffering && this._isAttached && this.monitorViewEvents !== false;\n\n    if (shouldTriggerAttach) {\n      triggerMethodOn(view, 'before:attach', view);\n    }\n\n    this.attachHtml(this, view, index);\n\n    if (shouldTriggerAttach) {\n      view._isAttached = true;\n      triggerMethodOn(view, 'attach', view);\n    }\n  },\n\n\n  // Build a `childView` for a model in the collection.\n  buildChildView: function buildChildView(child, ChildViewClass, childViewOptions) {\n    var options = _.extend({ model: child }, childViewOptions);\n    return new ChildViewClass(options);\n  },\n\n\n  // Remove the child view and destroy it. This function also updates the indices of later views\n  // in the collection in order to keep the children in sync with the collection.\n  removeChildView: function removeChildView(view) {\n    if (!view || view._isDestroyed) {\n      return view;\n    }\n\n    this._removeChildView(view);\n    this.children._updateLength();\n    // decrement the index of views after this one\n    this._updateIndices(view, false);\n    return view;\n  },\n\n\n  // check if the collection is empty or optionally whether an array of pre-processed models is empty\n  isEmpty: function isEmpty(options) {\n    var models = void 0;\n    if (_.result(options, 'processedModels')) {\n      models = options.processedModels;\n    } else {\n      models = this.collection ? this.collection.models : [];\n      models = this._filterModels(models);\n    }\n    return models.length === 0;\n  },\n\n\n  // You might need to override this if you've overridden attachHtml\n  attachBuffer: function attachBuffer(collectionView, buffer) {\n    this.Dom.appendContents(collectionView.el, buffer, { _$el: collectionView.$el });\n  },\n\n\n  // Create a fragment buffer from the currently buffered children\n  _createBuffer: function _createBuffer() {\n    var _this6 = this;\n\n    var elBuffer = this.Dom.createBuffer();\n    _.each(this._bufferedChildren, function (b) {\n      _this6.Dom.appendContents(elBuffer, b.el, { _$contents: b.$el });\n    });\n    return elBuffer;\n  },\n\n\n  // Append the HTML to the collection's `el`. Override this method to do something other\n  // than `.append`.\n  attachHtml: function attachHtml(collectionView, childView, index) {\n    if (collectionView._isBuffering) {\n      // buffering happens on reset events and initial renders\n      // in order to reduce the number of inserts into the\n      // document, which are expensive.\n      collectionView._bufferedChildren.splice(index, 0, childView);\n    } else {\n      // If we've already rendered the main collection, append\n      // the new child into the correct order if we need to. Otherwise\n      // append to the end.\n      if (!collectionView._insertBefore(childView, index)) {\n        collectionView._insertAfter(childView);\n      }\n    }\n  },\n\n\n  // Internal method. Check whether we need to insert the view into the correct position.\n  _insertBefore: function _insertBefore(childView, index) {\n    var currentView = void 0;\n    var findPosition = this.sort && index < this.children.length - 1;\n    if (findPosition) {\n      // Find the view after this one\n      currentView = _.find(this.children._views, function (view) {\n        return view._index === index + 1;\n      });\n    }\n\n    if (currentView) {\n      this.beforeEl(currentView.el, childView.el);\n      return true;\n    }\n\n    return false;\n  },\n\n\n  // Override to handle DOM inserting differently\n  beforeEl: function beforeEl(el, siblings) {\n    this.$(el).before(siblings);\n  },\n\n\n  // Internal method. Append a view to the end of the $el\n  _insertAfter: function _insertAfter(childView) {\n    this.Dom.appendContents(this.el, childView.el, { _$el: this.$el, _$contents: childView.$el });\n  },\n\n\n  // Internal method to set up the `children` object for storing all of the child views\n  _initChildViewStorage: function _initChildViewStorage() {\n    this.children = new Container();\n  },\n\n\n  // called by ViewMixin destroy\n  _removeChildren: function _removeChildren() {\n    this._destroyChildren();\n  },\n\n\n  // Destroy the child views that this collection view is holding on to, if any\n  _destroyChildren: function _destroyChildren(options) {\n    if (!this.children.length) {\n      return;\n    }\n\n    this.triggerMethod('before:destroy:children', this);\n    _.each(this.children._views, _.bind(this._removeChildView, this));\n    this.children._updateLength();\n    this.triggerMethod('destroy:children', this);\n  },\n\n\n  // Return true if the given child should be shown. Return false otherwise.\n  // The filter will be passed (child, index, collection), where\n  //  'child' is the given model\n  //  'index' is the index of that model in the collection\n  //  'collection' is the collection referenced by this CollectionView\n  _shouldAddChild: function _shouldAddChild(child, index) {\n    var filter = this.filter;\n    return !_.isFunction(filter) || filter.call(this, child, index, this.collection);\n  }\n}, {\n  setDomApi: setDomApi\n});\n\n_.extend(CollectionView.prototype, ViewMixin);\n\n// Provide a container to store, retrieve and\n// shut down child views.\nvar Container$1 = function Container() {\n  this._init();\n};\n\nemulateCollection(Container$1.prototype, '_views');\n\nfunction stringComparator(comparator, view) {\n  return view.model && view.model.get(comparator);\n}\n\n// Container Methods\n// -----------------\n\n_.extend(Container$1.prototype, {\n\n  // Initializes an empty container\n  _init: function _init() {\n    this._views = [];\n    this._viewsByCid = {};\n    this._indexByModel = {};\n    this._updateLength();\n  },\n\n\n  // Add a view to this container. Stores the view\n  // by `cid` and makes it searchable by the model\n  // cid (and model itself). Additionally it stores\n  // the view by index in the _views array\n  _add: function _add(view) {\n    var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._views.length;\n\n    var viewCid = view.cid;\n\n    // store the view\n    this._viewsByCid[viewCid] = view;\n\n    // index it by model\n    if (view.model) {\n      this._indexByModel[view.model.cid] = viewCid;\n    }\n\n    // add to end by default\n    this._views.splice(index, 0, view);\n\n    this._updateLength();\n  },\n\n\n  // Sort (mutate) and return the array of the child views.\n  _sort: function _sort(comparator, context) {\n    if (typeof comparator === 'string') {\n      comparator = _.partial(stringComparator, comparator);\n      return this._sortBy(comparator);\n    }\n\n    if (comparator.length === 1) {\n      return this._sortBy(_.bind(comparator, context));\n    }\n\n    return this._views.sort(_.bind(comparator, context));\n  },\n\n\n  // Makes `_.sortBy` mutate the array to match `this._views.sort`\n  _sortBy: function _sortBy(comparator) {\n    var sortedViews = _.sortBy(this._views, comparator);\n\n    this._set(sortedViews);\n\n    return sortedViews;\n  },\n\n\n  // Replace array contents without overwriting the reference.\n  _set: function _set(views) {\n    this._views.length = 0;\n\n    this._views.push.apply(this._views, views.slice(0));\n\n    this._updateLength();\n  },\n\n\n  // Swap views by index\n  _swap: function _swap(view1, view2) {\n    var view1Index = this.findIndexByView(view1);\n    var view2Index = this.findIndexByView(view2);\n\n    if (view1Index === -1 || view2Index === -1) {\n      return;\n    }\n\n    var swapView = this._views[view1Index];\n    this._views[view1Index] = this._views[view2Index];\n    this._views[view2Index] = swapView;\n  },\n\n\n  // Find a view by the model that was attached to it.\n  // Uses the model's `cid` to find it.\n  findByModel: function findByModel(model) {\n    return this.findByModelCid(model.cid);\n  },\n\n\n  // Find a view by the `cid` of the model that was attached to it.\n  // Uses the model's `cid` to find the view `cid` and\n  // retrieve the view using it.\n  findByModelCid: function findByModelCid(modelCid) {\n    var viewCid = this._indexByModel[modelCid];\n    return this.findByCid(viewCid);\n  },\n\n\n  // Find a view by index.\n  findByIndex: function findByIndex(index) {\n    return this._views[index];\n  },\n\n\n  // Find the index of a view instance\n  findIndexByView: function findIndexByView(view) {\n    return this._views.indexOf(view);\n  },\n\n\n  // Retrieve a view by its `cid` directly\n  findByCid: function findByCid(cid) {\n    return this._viewsByCid[cid];\n  },\n  hasView: function hasView(view) {\n    return !!this.findByCid(view.cid);\n  },\n\n\n  // Remove a view and clean up index references.\n  _remove: function _remove(view) {\n    if (!this._viewsByCid[view.cid]) {\n      return;\n    }\n\n    // delete model index\n    if (view.model) {\n      delete this._indexByModel[view.model.cid];\n    }\n\n    // remove the view from the container\n    delete this._viewsByCid[view.cid];\n\n    var index = this.findIndexByView(view);\n    this._views.splice(index, 1);\n\n    this._updateLength();\n  },\n\n\n  // Update the `.length` attribute on this container\n  _updateLength: function _updateLength() {\n    this.length = this._views.length;\n  }\n});\n\n// Next Collection View\n// ---------------\n\nvar ClassOptions$4 = ['behaviors', 'childView', 'childViewEventPrefix', 'childViewEvents', 'childViewOptions', 'childViewTriggers', 'collectionEvents', 'emptyView', 'emptyViewOptions', 'events', 'modelEvents', 'sortWithCollection', 'triggers', 'ui', 'viewComparator', 'viewFilter'];\n\n// A view that iterates over a Backbone.Collection\n// and renders an individual child view for each model.\nvar CollectionView$2 = Backbone.View.extend({\n  // flag for maintaining the sorted order of the collection\n  sortWithCollection: true,\n\n  // constructor\n  constructor: function constructor(options) {\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions$4);\n\n    monitorViewEvents(this);\n\n    this.once('render', this._initialEvents);\n\n    // This children container isn't really used by a render, but it provides\n    // the ability to check `this.children.length` prior to rendering\n    // It also allows for cases where only addChildView is used\n    this._initChildViewStorage();\n    this._initBehaviors();\n\n    var args = Array.prototype.slice.call(arguments);\n    args[0] = this.options;\n    Backbone.View.prototype.constructor.apply(this, args);\n\n    // Init empty region\n    this.getEmptyRegion();\n\n    this.delegateEntityEvents();\n\n    this._triggerEventOnBehaviors('initialize', this);\n  },\n\n\n  // Internal method to set up the `children` object for storing all of the child views\n  _initChildViewStorage: function _initChildViewStorage() {\n    this.children = new Container$1();\n  },\n\n\n  // Create an region to show the emptyView\n  getEmptyRegion: function getEmptyRegion() {\n    if (this._emptyRegion && !this._emptyRegion.isDestroyed()) {\n      return this._emptyRegion;\n    }\n\n    this._emptyRegion = new Region({ el: this.el, replaceElement: false });\n\n    this._emptyRegion._parentView = this;\n\n    return this._emptyRegion;\n  },\n\n\n  // Configured the initial events that the collection view binds to.\n  _initialEvents: function _initialEvents() {\n    this.listenTo(this.collection, {\n      'sort': this._onCollectionSort,\n      'reset': this._onCollectionReset,\n      'update': this._onCollectionUpdate\n    });\n  },\n\n\n  // Internal method. This checks for any changes in the order of the collection.\n  // If the index of any view doesn't match, it will re-sort.\n  _onCollectionSort: function _onCollectionSort(collection, _ref) {\n    var add = _ref.add,\n        merge = _ref.merge,\n        remove = _ref.remove;\n\n    if (!this.sortWithCollection || this.viewComparator === false) {\n      return;\n    }\n\n    // If the data is changing we will handle the sort later in `_onCollectionUpdate`\n    if (add || remove || merge) {\n      return;\n    }\n\n    // If the only thing happening here is sorting, sort.\n    this.sort();\n  },\n  _onCollectionReset: function _onCollectionReset() {\n    this.render();\n  },\n\n\n  // Handle collection update model additions and  removals\n  _onCollectionUpdate: function _onCollectionUpdate(collection, options) {\n    var changes = options.changes;\n\n    // Remove first since it'll be a shorter array lookup.\n    var removedViews = changes.removed.length && this._removeChildModels(changes.removed);\n\n    this._addedViews = changes.added.length && this._addChildModels(changes.added);\n\n    this._detachChildren(removedViews);\n\n    this._showChildren();\n\n    // Destroy removed child views after all of the render is complete\n    this._removeChildViews(removedViews);\n  },\n  _removeChildModels: function _removeChildModels(models) {\n    var _this = this;\n\n    return _.reduce(models, function (views, model) {\n      var removeView = _this._removeChildModel(model);\n\n      if (removeView) {\n        views.push(removeView);\n      }\n\n      return views;\n    }, []);\n  },\n  _removeChildModel: function _removeChildModel(model) {\n    var view = this.children.findByModel(model);\n\n    if (view) {\n      this._removeChild(view);\n    }\n\n    return view;\n  },\n  _removeChild: function _removeChild(view) {\n    this.triggerMethod('before:remove:child', this, view);\n\n    this.children._remove(view);\n\n    this.triggerMethod('remove:child', this, view);\n  },\n\n\n  // Added views are returned for consistency with _removeChildModels\n  _addChildModels: function _addChildModels(models) {\n    return _.map(models, _.bind(this._addChildModel, this));\n  },\n  _addChildModel: function _addChildModel(model) {\n    var view = this._createChildView(model);\n\n    this._addChild(view);\n\n    return view;\n  },\n  _createChildView: function _createChildView(model) {\n    var ChildView = this._getChildView(model);\n    var childViewOptions = this._getChildViewOptions(model);\n    var view = this.buildChildView(model, ChildView, childViewOptions);\n\n    return view;\n  },\n  _addChild: function _addChild(view, index) {\n    this.triggerMethod('before:add:child', this, view);\n\n    this._setupChildView(view);\n    this.children._add(view, index);\n\n    this.triggerMethod('add:child', this, view);\n  },\n\n\n  // Retrieve the `childView` class\n  // The `childView` property can be either a view class or a function that\n  // returns a view class. If it is a function, it will receive the model that\n  // will be passed to the view instance (created from the returned view class)\n  _getChildView: function _getChildView(child) {\n    var childView = this.childView;\n\n    if (!childView) {\n      throw new MarionetteError({\n        name: 'NoChildViewError',\n        message: 'A \"childView\" must be specified'\n      });\n    }\n\n    childView = this._getView(childView, child);\n\n    if (!childView) {\n      throw new MarionetteError({\n        name: 'InvalidChildViewError',\n        message: '\"childView\" must be a view class or a function that returns a view class'\n      });\n    }\n\n    return childView;\n  },\n\n\n  // First check if the `view` is a view class (the common case)\n  // Then check if it's a function (which we assume that returns a view class)\n  _getView: function _getView(view, child) {\n    if (view.prototype instanceof Backbone.View || view === Backbone.View) {\n      return view;\n    } else if (_.isFunction(view)) {\n      return view.call(this, child);\n    }\n  },\n  _getChildViewOptions: function _getChildViewOptions(child) {\n    if (_.isFunction(this.childViewOptions)) {\n      return this.childViewOptions(child);\n    }\n\n    return this.childViewOptions;\n  },\n\n\n  // Build a `childView` for a model in the collection.\n  // Override to customize the build\n  buildChildView: function buildChildView(child, ChildViewClass, childViewOptions) {\n    var options = _.extend({ model: child }, childViewOptions);\n    return new ChildViewClass(options);\n  },\n  _setupChildView: function _setupChildView(view) {\n    monitorViewEvents(view);\n\n    // We need to listen for if a view is destroyed in a way other\n    // than through the CollectionView.\n    // If this happens we need to remove the reference to the view\n    // since once a view has been destroyed we can not reuse it.\n    view.on('destroy', this.removeChildView, this);\n\n    // set up the child view event forwarding\n    this._proxyChildViewEvents(view);\n  },\n\n\n  // used by ViewMixin's `_childViewEventHandler`\n  _getImmediateChildren: function _getImmediateChildren() {\n    return this.children._views;\n  },\n\n\n  // Overriding Backbone.View's `setElement` to handle\n  // if an el was previously defined. If so, the view might be\n  // attached on setElement.\n  setElement: function setElement() {\n    Backbone.View.prototype.setElement.apply(this, arguments);\n\n    this._isAttached = isNodeAttached(this.el);\n\n    return this;\n  },\n\n\n  // Render children views.\n  render: function render() {\n    if (this._isDestroyed) {\n      return this;\n    }\n    this.triggerMethod('before:render', this);\n\n    this._destroyChildren();\n\n    // After all children have been destroyed re-init the container\n    this.children._init();\n\n    if (this.collection) {\n      this._addChildModels(this.collection.models);\n    }\n\n    this._showChildren();\n\n    this._isRendered = true;\n\n    this.triggerMethod('render', this);\n    return this;\n  },\n\n\n  // Sorts the children then filters and renders the results.\n  sort: function sort() {\n    if (this._isDestroyed) {\n      return this;\n    }\n\n    if (!this.children.length) {\n      return this;\n    }\n\n    this._showChildren();\n\n    return this;\n  },\n  _showChildren: function _showChildren() {\n    if (this.isEmpty()) {\n      this._showEmptyView();\n      return;\n    }\n\n    this._sortChildren();\n\n    this.filter();\n  },\n\n\n  // Returns true if the collectionView is considered empty.\n  // This is called twice during a render. Once to check the data,\n  // and again when views are filtered. Override this function to\n  // customize what empty means.\n  isEmpty: function isEmpty(allViewsFiltered) {\n    return allViewsFiltered || !this.children.length;\n  },\n  _showEmptyView: function _showEmptyView() {\n    var EmptyView = this._getEmptyView();\n\n    if (!EmptyView) {\n      return;\n    }\n\n    var options = this._getEmptyViewOptions();\n\n    var emptyRegion = this.getEmptyRegion();\n\n    emptyRegion.show(new EmptyView(options));\n  },\n\n\n  // Retrieve the empty view class\n  _getEmptyView: function _getEmptyView() {\n    var emptyView = this.emptyView;\n\n    if (!emptyView) {\n      return;\n    }\n\n    return this._getView(emptyView);\n  },\n\n\n  // Remove the emptyView\n  _destroyEmptyView: function _destroyEmptyView() {\n    var emptyRegion = this.getEmptyRegion();\n    // Only empty if a view is show so the region\n    // doesn't detach any other unrelated HTML\n    if (emptyRegion.hasView()) {\n      emptyRegion.empty();\n    }\n  },\n\n\n  //\n  _getEmptyViewOptions: function _getEmptyViewOptions() {\n    var emptyViewOptions = this.emptyViewOptions || this.childViewOptions;\n\n    if (_.isFunction(emptyViewOptions)) {\n      return emptyViewOptions.call(this);\n    }\n\n    return emptyViewOptions;\n  },\n\n\n  // Sorts views by viewComparator and sets the children to the new order\n  _sortChildren: function _sortChildren() {\n    var viewComparator = this.getComparator();\n\n    if (!viewComparator) {\n      return;\n    }\n\n    // If children are sorted prevent added to end perf\n    delete this._addedViews;\n\n    this.triggerMethod('before:sort', this);\n\n    this.children._sort(viewComparator, this);\n\n    this.triggerMethod('sort', this);\n  },\n\n\n  // Sets the view's `viewComparator` and applies the sort if the view is ready.\n  // To prevent the render pass `{ preventRender: true }` as the 2nd argument.\n  setComparator: function setComparator(comparator) {\n    var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        preventRender = _ref2.preventRender;\n\n    var comparatorChanged = this.viewComparator !== comparator;\n    var shouldSort = comparatorChanged && !preventRender;\n\n    this.viewComparator = comparator;\n\n    if (shouldSort) {\n      this.sort();\n    }\n\n    return this;\n  },\n\n\n  // Clears the `viewComparator` and follows the same rules for rendering as `setComparator`.\n  removeComparator: function removeComparator(options) {\n    return this.setComparator(null, options);\n  },\n\n\n  // If viewComparator is overriden it will be returned here.\n  // Additionally override this function to provide custom\n  // viewComparator logic\n  getComparator: function getComparator() {\n    if (this.viewComparator) {\n      return this.viewComparator;\n    }\n\n    if (!this.sortWithCollection || this.viewComparator === false || !this.collection) {\n      return false;\n    }\n\n    return this._viewComparator;\n  },\n\n\n  // Default internal view comparator that order the views by\n  // the order of the collection\n  _viewComparator: function _viewComparator(view) {\n    return this.collection.indexOf(view.model);\n  },\n\n\n  // This method re-filters the children views and re-renders the results\n  filter: function filter() {\n    if (this._isDestroyed) {\n      return this;\n    }\n\n    if (!this.children.length) {\n      return this;\n    }\n\n    var filteredViews = this._filterChildren();\n\n    this._renderChildren(filteredViews);\n\n    return this;\n  },\n  _filterChildren: function _filterChildren() {\n    var _this2 = this;\n\n    var viewFilter = this._getFilter();\n    var addedViews = this._addedViews;\n\n    delete this._addedViews;\n\n    if (!viewFilter) {\n      if (addedViews) {\n        return addedViews;\n      }\n\n      return this.children._views;\n    }\n\n    this.triggerMethod('before:filter', this);\n\n    var attachViews = [];\n    var detachViews = [];\n\n    _.each(this.children._views, function (view, key, children) {\n      (viewFilter.call(_this2, view, key, children) ? attachViews : detachViews).push(view);\n    });\n\n    this._detachChildren(detachViews);\n\n    this.triggerMethod('filter', this, attachViews, detachViews);\n\n    return attachViews;\n  },\n\n\n  // This method returns a function for the viewFilter\n  _getFilter: function _getFilter() {\n    var viewFilter = this.getFilter();\n\n    if (!viewFilter) {\n      return false;\n    }\n\n    if (_.isFunction(viewFilter)) {\n      return viewFilter;\n    }\n\n    // Support filter predicates `{ fooFlag: true }`\n    if (_.isObject(viewFilter)) {\n      var matcher = _.matches(viewFilter);\n      return function (view) {\n        return matcher(view.model && view.model.attributes);\n      };\n    }\n\n    // Filter by model attribute\n    if (_.isString(viewFilter)) {\n      return function (view) {\n        return view.model && view.model.get(viewFilter);\n      };\n    }\n\n    throw new MarionetteError({\n      name: 'InvalidViewFilterError',\n      message: '\"viewFilter\" must be a function, predicate object literal, a string indicating a model attribute, or falsy'\n    });\n  },\n\n\n  // Override this function to provide custom\n  // viewFilter logic\n  getFilter: function getFilter() {\n    return this.viewFilter;\n  },\n\n\n  // Sets the view's `viewFilter` and applies the filter if the view is ready.\n  // To prevent the render pass `{ preventRender: true }` as the 2nd argument.\n  setFilter: function setFilter(filter) {\n    var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        preventRender = _ref3.preventRender;\n\n    var filterChanged = this.viewFilter !== filter;\n    var shouldRender = filterChanged && !preventRender;\n\n    this.viewFilter = filter;\n\n    if (shouldRender) {\n      this.filter();\n    }\n\n    return this;\n  },\n\n\n  // Clears the `viewFilter` and follows the same rules for rendering as `setFilter`.\n  removeFilter: function removeFilter(options) {\n    return this.setFilter(null, options);\n  },\n  _detachChildren: function _detachChildren(detachingViews) {\n    _.each(detachingViews, _.bind(this._detachChildView, this));\n  },\n  _detachChildView: function _detachChildView(view) {\n    var shouldTriggerDetach = view._isAttached && this.monitorViewEvents !== false;\n    if (shouldTriggerDetach) {\n      triggerMethodOn(view, 'before:detach', view);\n    }\n\n    this.detachHtml(view);\n\n    if (shouldTriggerDetach) {\n      view._isAttached = false;\n      triggerMethodOn(view, 'detach', view);\n    }\n  },\n\n\n  // Override this method to change how the collectionView detaches a child view\n  detachHtml: function detachHtml(view) {\n    this.Dom.detachEl(view.el, view.$el);\n  },\n  _renderChildren: function _renderChildren(views) {\n    if (this.isEmpty(!views.length)) {\n      this._showEmptyView();\n      return;\n    }\n\n    this._destroyEmptyView();\n\n    this.triggerMethod('before:render:children', this, views);\n\n    var els = this._getBuffer(views);\n\n    this._attachChildren(els, views);\n\n    this.triggerMethod('render:children', this, views);\n  },\n  _attachChildren: function _attachChildren(els, views) {\n    var shouldTriggerAttach = this._isAttached && this.monitorViewEvents !== false;\n\n    views = shouldTriggerAttach ? views : [];\n\n    _.each(views, function (view) {\n      if (view._isAttached) {\n        return;\n      }\n      triggerMethodOn(view, 'before:attach', view);\n    });\n\n    this.attachHtml(els);\n\n    _.each(views, function (view) {\n      if (view._isAttached) {\n        return;\n      }\n      view._isAttached = true;\n      triggerMethodOn(view, 'attach', view);\n    });\n  },\n\n\n  // Renders each view in children and creates a fragment buffer from them\n  _getBuffer: function _getBuffer(views) {\n    var _this3 = this;\n\n    var elBuffer = this.Dom.createBuffer();\n\n    _.each(views, function (view) {\n      renderView(view);\n      _this3.Dom.appendContents(elBuffer, view.el, { _$contents: view.$el });\n    });\n\n    return elBuffer;\n  },\n\n\n  // Override this method to do something other than `.append`.\n  // You can attach any HTML at this point including the els.\n  attachHtml: function attachHtml(els) {\n    this.Dom.appendContents(this.el, els, { _$el: this.$el });\n  },\n  swapChildViews: function swapChildViews(view1, view2) {\n    if (!this.children.hasView(view1) || !this.children.hasView(view2)) {\n      throw new MarionetteError({\n        name: 'ChildSwapError',\n        message: 'Both views must be children of the collection view'\n      });\n    }\n\n    this.children._swap(view1, view2);\n    this.Dom.swapEl(view1.el, view2.el);\n\n    // If the views are not filtered the same, refilter\n    if (this.Dom.hasEl(this.el, view1.el) !== this.Dom.hasEl(this.el, view2.el)) {\n      this.filter();\n    }\n\n    return this;\n  },\n\n\n  // Render the child's view and add it to the HTML for the collection view at a given index, based on the current sort\n  addChildView: function addChildView(view, index) {\n    if (!view || view._isDestroyed) {\n      return view;\n    }\n\n    // Only cache views if added to the end\n    if (!index || index >= this.children.length) {\n      this._addedViews = [view];\n    }\n    this._addChild(view, index);\n    this._showChildren();\n\n    return view;\n  },\n\n\n  // Detach a view from the children.  Best used when adding a\n  // childView from `addChildView`\n  detachChildView: function detachChildView(view) {\n    this.removeChildView(view, { shouldDetach: true });\n\n    return view;\n  },\n\n\n  // Remove the child view and destroy it.  Best used when adding a\n  // childView from `addChildView`\n  // The options argument is for internal use only\n  removeChildView: function removeChildView(view, options) {\n    if (!view) {\n      return view;\n    }\n\n    this._removeChildView(view, options);\n\n    this._removeChild(view);\n\n    if (this.isEmpty()) {\n      this._showEmptyView();\n    }\n\n    return view;\n  },\n  _removeChildViews: function _removeChildViews(views) {\n    _.each(views, _.bind(this._removeChildView, this));\n  },\n  _removeChildView: function _removeChildView(view) {\n    var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        shouldDetach = _ref4.shouldDetach;\n\n    view.off('destroy', this.removeChildView, this);\n\n    if (shouldDetach) {\n      this._detachChildView(view);\n    } else {\n      this._destroyChildView(view);\n    }\n\n    this.stopListening(view);\n  },\n  _destroyChildView: function _destroyChildView(view) {\n    if (view._isDestroyed) {\n      return;\n    }\n\n    view._shouldDisableEvents = this.monitorViewEvents === false;\n    destroyView(view);\n  },\n\n\n  // called by ViewMixin destroy\n  _removeChildren: function _removeChildren() {\n    this._destroyChildren();\n    var emptyRegion = this.getEmptyRegion();\n    emptyRegion.destroy();\n    delete this._addedViews;\n  },\n\n\n  // Destroy the child views that this collection view is holding on to, if any\n  _destroyChildren: function _destroyChildren() {\n    if (!this.children || !this.children.length) {\n      return;\n    }\n\n    this.triggerMethod('before:destroy:children', this);\n    if (this.monitorViewEvents === false) {\n      this.Dom.detachContents(this.el, this.$el);\n    }\n    _.each(this.children._views, _.bind(this._removeChildView, this));\n    this.triggerMethod('destroy:children', this);\n  }\n}, {\n  setDomApi: setDomApi\n});\n\n_.extend(CollectionView$2.prototype, ViewMixin);\n\n// Composite View\n// --------------\n\nvar ClassOptions$5 = ['childViewContainer', 'template', 'templateContext'];\n\n// Used for rendering a branch-leaf, hierarchical structure.\n// Extends directly from CollectionView\n// @deprecated\nvar CompositeView = CollectionView.extend({\n\n  // Setting up the inheritance chain which allows changes to\n  // Marionette.CollectionView.prototype.constructor which allows overriding\n  // option to pass '{sort: false}' to prevent the CompositeView from\n  // maintaining the sorted order of the collection.\n  // This will fallback onto appending childView's to the end.\n  constructor: function constructor(options) {\n    deprecate('CompositeView is deprecated. Convert to View at your earliest convenience');\n\n    this.mergeOptions(options, ClassOptions$5);\n\n    CollectionView.prototype.constructor.apply(this, arguments);\n  },\n\n\n  // Configured the initial events that the composite view\n  // binds to. Override this method to prevent the initial\n  // events, or to add your own initial events.\n  _initialEvents: function _initialEvents() {\n\n    // Bind only after composite view is rendered to avoid adding child views\n    // to nonexistent childViewContainer\n\n    if (this.collection) {\n      this.listenTo(this.collection, 'add', this._onCollectionAdd);\n      this.listenTo(this.collection, 'update', this._onCollectionUpdate);\n      this.listenTo(this.collection, 'reset', this.renderChildren);\n\n      if (this.sort) {\n        this.listenTo(this.collection, 'sort', this._sortViews);\n      }\n    }\n  },\n\n\n  // Retrieve the `childView` to be used when rendering each of\n  // the items in the collection. The default is to return\n  // `this.childView` or Marionette.CompositeView if no `childView`\n  // has been defined. As happens in CollectionView, `childView` can\n  // be a function (which should return a view class).\n  _getChildView: function _getChildView(child) {\n    var childView = this.childView;\n\n    // for CompositeView, if `childView` is not specified, we'll get the same\n    // composite view class rendered for each child in the collection\n    // then check if the `childView` is a view class (the common case)\n    // finally check if it's a function (which we assume that returns a view class)\n    if (!childView) {\n      return this.constructor;\n    }\n\n    childView = this._getView(childView, child);\n\n    if (!childView) {\n      throw new MarionetteError({\n        name: 'InvalidChildViewError',\n        message: '\"childView\" must be a view class or a function that returns a view class'\n      });\n    }\n\n    return childView;\n  },\n\n\n  // Return the serialized model\n  serializeData: function serializeData() {\n    return this.serializeModel();\n  },\n\n\n  // Renders the model and the collection.\n  render: function render() {\n    if (this._isDestroyed) {\n      return this;\n    }\n    this._isRendering = true;\n    this.resetChildViewContainer();\n\n    this.triggerMethod('before:render', this);\n\n    this._renderTemplate();\n    this.bindUIElements();\n    this.renderChildren();\n\n    this._isRendering = false;\n    this._isRendered = true;\n    this.triggerMethod('render', this);\n    return this;\n  },\n  renderChildren: function renderChildren() {\n    if (this._isRendered || this._isRendering) {\n      CollectionView.prototype._renderChildren.call(this);\n    }\n  },\n\n\n  // You might need to override this if you've overridden attachHtml\n  attachBuffer: function attachBuffer(compositeView, buffer) {\n    var $container = this.getChildViewContainer(compositeView);\n    this.Dom.appendContents($container[0], buffer, { _$el: $container });\n  },\n\n\n  // Internal method. Append a view to the end of the $el.\n  // Overidden from CollectionView to ensure view is appended to\n  // childViewContainer\n  _insertAfter: function _insertAfter(childView) {\n    var $container = this.getChildViewContainer(this, childView);\n    this.Dom.appendContents($container[0], childView.el, { _$el: $container, _$contents: childView.$el });\n  },\n\n\n  // Internal method. Append reordered childView'.\n  // Overidden from CollectionView to ensure reordered views\n  // are appended to childViewContainer\n  _appendReorderedChildren: function _appendReorderedChildren(children) {\n    var $container = this.getChildViewContainer(this);\n    this.Dom.appendContents($container[0], children, { _$el: $container });\n  },\n\n\n  // Internal method to ensure an `$childViewContainer` exists, for the\n  // `attachHtml` method to use.\n  getChildViewContainer: function getChildViewContainer(containerView, childView) {\n    if (!!containerView.$childViewContainer) {\n      return containerView.$childViewContainer;\n    }\n\n    var container = void 0;\n    var childViewContainer = containerView.childViewContainer;\n    if (childViewContainer) {\n\n      var selector = _.result(containerView, 'childViewContainer');\n\n      if (selector.charAt(0) === '@' && containerView.ui) {\n        container = containerView.ui[selector.substr(4)];\n      } else {\n        container = this.$(selector);\n      }\n\n      if (container.length <= 0) {\n        throw new MarionetteError({\n          name: 'ChildViewContainerMissingError',\n          message: 'The specified \"childViewContainer\" was not found: ' + containerView.childViewContainer\n        });\n      }\n    } else {\n      container = containerView.$el;\n    }\n\n    containerView.$childViewContainer = container;\n    return container;\n  },\n\n\n  // Internal method to reset the `$childViewContainer` on render\n  resetChildViewContainer: function resetChildViewContainer() {\n    if (this.$childViewContainer) {\n      this.$childViewContainer = undefined;\n    }\n  }\n});\n\n// To prevent duplication but allow the best View organization\n// Certain View methods are mixed directly into the deprecated CompositeView\nvar MixinFromView = _.pick(View.prototype, 'serializeModel', 'getTemplate', '_renderTemplate', '_renderHtml', 'mixinTemplateContext', 'attachElContent');\n_.extend(CompositeView.prototype, MixinFromView);\n\n// Behavior\n// --------\n\n// A Behavior is an isolated set of DOM /\n// user interactions that can be mixed into any View.\n// Behaviors allow you to blackbox View specific interactions\n// into portable logical chunks, keeping your views simple and your code DRY.\n\nvar ClassOptions$6 = ['collectionEvents', 'events', 'modelEvents', 'triggers', 'ui'];\n\nvar Behavior = MarionetteObject.extend({\n  cidPrefix: 'mnb',\n\n  constructor: function constructor(options, view) {\n    // Setup reference to the view.\n    // this comes in handle when a behavior\n    // wants to directly talk up the chain\n    // to the view.\n    this.view = view;\n\n    if (this.defaults) {\n      deprecate('Behavior defaults are deprecated. For similar functionality set options on the Behavior class.');\n    }\n\n    this.defaults = _.clone(_.result(this, 'defaults', {}));\n\n    this._setOptions(_.extend({}, this.defaults, options));\n    this.mergeOptions(this.options, ClassOptions$6);\n\n    // Construct an internal UI hash using\n    // the behaviors UI hash and then the view UI hash.\n    // This allows the user to use UI hash elements\n    // defined in the parent view as well as those\n    // defined in the given behavior.\n    // This order will help the reuse and share of a behavior\n    // between multiple views, while letting a view override a\n    // selector under an UI key.\n    this.ui = _.extend({}, _.result(this, 'ui'), _.result(view, 'ui'));\n\n    MarionetteObject.apply(this, arguments);\n  },\n\n\n  // proxy behavior $ method to the view\n  // this is useful for doing jquery DOM lookups\n  // scoped to behaviors view.\n  $: function $() {\n    return this.view.$.apply(this.view, arguments);\n  },\n\n\n  // Stops the behavior from listening to events.\n  // Overrides Object#destroy to prevent additional events from being triggered.\n  destroy: function destroy() {\n    this.stopListening();\n\n    this.view._removeBehavior(this);\n\n    return this;\n  },\n  proxyViewProperties: function proxyViewProperties() {\n    this.$el = this.view.$el;\n    this.el = this.view.el;\n\n    return this;\n  },\n  bindUIElements: function bindUIElements() {\n    this._bindUIElements();\n\n    return this;\n  },\n  unbindUIElements: function unbindUIElements() {\n    this._unbindUIElements();\n\n    return this;\n  },\n  getUI: function getUI(name) {\n    return this._getUI(name);\n  },\n\n\n  // Handle `modelEvents`, and `collectionEvents` configuration\n  delegateEntityEvents: function delegateEntityEvents() {\n    this._delegateEntityEvents(this.view.model, this.view.collection);\n\n    return this;\n  },\n  undelegateEntityEvents: function undelegateEntityEvents() {\n    this._undelegateEntityEvents(this.view.model, this.view.collection);\n\n    return this;\n  },\n  getEvents: function getEvents() {\n    var _this = this;\n\n    // Normalize behavior events hash to allow\n    // a user to use the @ui. syntax.\n    var behaviorEvents = this.normalizeUIKeys(_.result(this, 'events'));\n\n    // binds the handler to the behavior and builds a unique eventName\n    return _.reduce(behaviorEvents, function (events, behaviorHandler, key) {\n      if (!_.isFunction(behaviorHandler)) {\n        behaviorHandler = _this[behaviorHandler];\n      }\n      if (!behaviorHandler) {\n        return events;\n      }\n      key = getNamespacedEventName(key, _this.cid);\n      events[key] = _.bind(behaviorHandler, _this);\n      return events;\n    }, {});\n  },\n\n\n  // Internal method to build all trigger handlers for a given behavior\n  getTriggers: function getTriggers() {\n    if (!this.triggers) {\n      return;\n    }\n\n    // Normalize behavior triggers hash to allow\n    // a user to use the @ui. syntax.\n    var behaviorTriggers = this.normalizeUIKeys(_.result(this, 'triggers'));\n\n    return this._getViewTriggers(this.view, behaviorTriggers);\n  }\n});\n\n_.extend(Behavior.prototype, DelegateEntityEventsMixin, TriggersMixin, UIMixin);\n\n// Application\n// -----------\nvar ClassOptions$7 = ['region', 'regionClass'];\n\n// A container for a Marionette application.\nvar Application = MarionetteObject.extend({\n  cidPrefix: 'mna',\n\n  constructor: function constructor(options) {\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions$7);\n\n    this._initRegion();\n\n    MarionetteObject.prototype.constructor.apply(this, arguments);\n  },\n\n\n  regionClass: Region,\n\n  _initRegion: function _initRegion() {\n    var region = this.region;\n\n    if (!region) {\n      return;\n    }\n\n    var defaults = {\n      regionClass: this.regionClass\n    };\n\n    this._region = buildRegion(region, defaults);\n  },\n  getRegion: function getRegion() {\n    return this._region;\n  },\n  showView: function showView(view) {\n    var region = this.getRegion();\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return region.show.apply(region, [view].concat(args));\n  },\n  getView: function getView() {\n    return this.getRegion().currentView;\n  },\n\n\n  // kick off all of the application's processes.\n  start: function start(options) {\n    this.triggerMethod('before:start', this, options);\n    this.triggerMethod('start', this, options);\n    return this;\n  }\n});\n\n// App Router\n// ----------\n\n// Reduce the boilerplate code of handling route events\n// and then calling a single method on another object,\n// called a controller.\n// Have your routers configured to call the method on\n// your controller, directly.\n//\n// Configure an AppRouter with `appRoutes`.\n//\n// App routers can only take one `controller` object.\n// It is recommended that you divide your controller\n// objects in to smaller pieces of related functionality\n// and have multiple routers / controllers, instead of\n// just one giant router and controller.\n//\n// You can also add standard routes to an AppRouter.\n\nvar ClassOptions$8 = ['appRoutes', 'controller'];\n\nvar AppRouter = Backbone.Router.extend({\n  constructor: function constructor(options) {\n    this._setOptions(options);\n\n    this.mergeOptions(options, ClassOptions$8);\n\n    Backbone.Router.apply(this, arguments);\n\n    var appRoutes = this.appRoutes;\n    var controller = this._getController();\n    this.processAppRoutes(controller, appRoutes);\n    this.on('route', this._processOnRoute, this);\n  },\n\n\n  // Similar to route method on a Backbone Router but\n  // method is called on the controller\n  appRoute: function appRoute(route, methodName) {\n    var controller = this._getController();\n    this._addAppRoute(controller, route, methodName);\n    return this;\n  },\n\n\n  // process the route event and trigger the onRoute\n  // method call, if it exists\n  _processOnRoute: function _processOnRoute(routeName, routeArgs) {\n    // make sure an onRoute before trying to call it\n    if (_.isFunction(this.onRoute)) {\n      // find the path that matches the current route\n      var routePath = _.invert(this.appRoutes)[routeName];\n      this.onRoute(routeName, routePath, routeArgs);\n    }\n  },\n\n\n  // Internal method to process the `appRoutes` for the\n  // router, and turn them in to routes that trigger the\n  // specified method on the specified `controller`.\n  processAppRoutes: function processAppRoutes(controller, appRoutes) {\n    var _this = this;\n\n    if (!appRoutes) {\n      return this;\n    }\n\n    var routeNames = _.keys(appRoutes).reverse(); // Backbone requires reverted order of routes\n\n    _.each(routeNames, function (route) {\n      _this._addAppRoute(controller, route, appRoutes[route]);\n    });\n\n    return this;\n  },\n  _getController: function _getController() {\n    return this.controller;\n  },\n  _addAppRoute: function _addAppRoute(controller, route, methodName) {\n    var method = controller[methodName];\n\n    if (!method) {\n      throw new MarionetteError('Method \"' + methodName + '\" was not found on the controller');\n    }\n\n    this.route(route, methodName, _.bind(method, controller));\n  },\n\n\n  triggerMethod: triggerMethod\n});\n\n_.extend(AppRouter.prototype, CommonMixin);\n\n// Placeholder method to be extended by the user.\n// The method should define the object that stores the behaviors.\n// i.e.\n//\n// ```js\n// Marionette.Behaviors.behaviorsLookup: function() {\n//   return App.Behaviors\n// }\n// ```\nfunction behaviorsLookup() {\n  throw new MarionetteError({\n    message: 'You must define where your behaviors are stored.',\n    url: 'marionette.behaviors.md#behaviorslookup'\n  });\n}\n\nvar previousMarionette = Backbone.Marionette;\nvar Marionette = Backbone.Marionette = {};\n\n// This allows you to run multiple instances of Marionette on the same\n// webapp. After loading the new version, call `noConflict()` to\n// get a reference to it. At the same time the old version will be\n// returned to Backbone.Marionette.\nMarionette.noConflict = function () {\n  Backbone.Marionette = previousMarionette;\n  return this;\n};\n\n// Utilities\nMarionette.bindEvents = proxy(bindEvents);\nMarionette.unbindEvents = proxy(unbindEvents);\nMarionette.bindRequests = proxy(bindRequests);\nMarionette.unbindRequests = proxy(unbindRequests);\nMarionette.mergeOptions = proxy(mergeOptions);\nMarionette.getOption = proxy(getOption);\nMarionette.normalizeMethods = proxy(normalizeMethods);\nMarionette.extend = extend;\nMarionette.isNodeAttached = isNodeAttached;\nMarionette.deprecate = deprecate;\nMarionette.triggerMethod = proxy(triggerMethod);\nMarionette.triggerMethodOn = triggerMethodOn;\nMarionette.isEnabled = isEnabled;\nMarionette.setEnabled = setEnabled;\nMarionette.monitorViewEvents = monitorViewEvents;\n\nMarionette.Behaviors = {};\nMarionette.Behaviors.behaviorsLookup = behaviorsLookup;\n\n// Classes\nMarionette.Application = Application;\nMarionette.AppRouter = AppRouter;\nMarionette.Renderer = Renderer;\nMarionette.TemplateCache = TemplateCache;\nMarionette.View = View;\nMarionette.CollectionView = CollectionView;\nMarionette.NextCollectionView = CollectionView$2;\nMarionette.CompositeView = CompositeView;\nMarionette.Behavior = Behavior;\nMarionette.Region = Region;\nMarionette.Error = MarionetteError;\nMarionette.Object = MarionetteObject;\n\n// Configuration\nMarionette.DEV_MODE = false;\nMarionette.FEATURES = FEATURES;\nMarionette.VERSION = version;\nMarionette.DomApi = DomApi;\nMarionette.setDomApi = function (mixin) {\n  CollectionView.setDomApi(mixin);\n  CompositeView.setDomApi(mixin);\n  CollectionView$2.setDomApi(mixin);\n  Region.setDomApi(mixin);\n  View.setDomApi(mixin);\n};\n\nreturn Marionette;\n\n})));\nthis && this.Marionette && (this.Mn = this.Marionette);\n//# sourceMappingURL=backbone.marionette.js.map\n","module.exports = global[\"Marionette\"] = require(\"-!.\\\\backbone.marionette.js\");","// Backbone.ModelBinder v1.1.0\r\n// (c) 2015 Bart Wood\r\n// Distributed Under MIT License\r\n\r\n(function (factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define(['underscore', 'jquery', 'backbone'], factory);\r\n    } else if(typeof module !== 'undefined' && module.exports) {\r\n        // CommonJS\r\n        module.exports = factory(\r\n            require('underscore'),\r\n            require('jquery'),\r\n            require('backbone')\r\n        );\r\n    } else {\r\n        // Browser globals\r\n        factory(_, jQuery, Backbone);\r\n    }\r\n}(function(_, $, Backbone){\r\n\r\n    if(!Backbone){\r\n        throw 'Please include Backbone.js before Backbone.ModelBinder.js';\r\n    }\r\n\r\n    Backbone.ModelBinder = function(){\r\n        _.bindAll.apply(_, [this].concat(_.functions(this)));\r\n    };\r\n\r\n    // Static setter for class level options\r\n    Backbone.ModelBinder.SetOptions = function(options){\r\n        Backbone.ModelBinder.options = options;\r\n    };\r\n\r\n    // Current version of the library.\r\n    Backbone.ModelBinder.VERSION = '1.1.0';\r\n    Backbone.ModelBinder.Constants = {};\r\n    Backbone.ModelBinder.Constants.ModelToView = 'ModelToView';\r\n    Backbone.ModelBinder.Constants.ViewToModel = 'ViewToModel';\r\n\r\n    _.extend(Backbone.ModelBinder.prototype, {\r\n\r\n        bind:function (model, rootEl, attributeBindings, options) {\r\n            this.unbind();\r\n\r\n            this._model = model;\r\n            this._rootEl = rootEl;\r\n            this._setOptions(options);\r\n\r\n            if (!this._model) this._throwException('model must be specified');\r\n            if (!this._rootEl) this._throwException('rootEl must be specified');\r\n\r\n            if(attributeBindings){\r\n                // Create a deep clone of the attribute bindings\r\n                this._attributeBindings = $.extend(true, {}, attributeBindings);\r\n\r\n                this._initializeAttributeBindings();\r\n                this._initializeElBindings();\r\n            }\r\n            else {\r\n                this._initializeDefaultBindings();\r\n            }\r\n\r\n            this._bindModelToView();\r\n            this._bindViewToModel();\r\n        },\r\n\r\n        bindCustomTriggers: function (model, rootEl, triggers, attributeBindings, modelSetOptions) {\r\n            this._triggers = triggers;\r\n            this.bind(model, rootEl, attributeBindings, modelSetOptions);\r\n        },\r\n\r\n        unbind:function () {\r\n            this._unbindModelToView();\r\n            this._unbindViewToModel();\r\n\r\n            if(this._attributeBindings){\r\n                delete this._attributeBindings;\r\n                this._attributeBindings = undefined;\r\n            }\r\n        },\r\n\r\n        _setOptions: function(options){\r\n            this._options = _.extend({\r\n                boundAttribute: 'name'\r\n            }, Backbone.ModelBinder.options, options);\r\n\r\n            // initialize default options\r\n            if(!this._options['modelSetOptions']){\r\n                this._options['modelSetOptions'] = {};\r\n            }\r\n            this._options['modelSetOptions'].changeSource = 'ModelBinder';\r\n\r\n            if(!this._options['changeTriggers']){\r\n                this._options['changeTriggers'] = {'': 'change', '[contenteditable]': 'blur'};\r\n            }\r\n\r\n            if(!this._options['initialCopyDirection']){\r\n                this._options['initialCopyDirection'] = Backbone.ModelBinder.Constants.ModelToView;\r\n            }\r\n        },\r\n\r\n        // Converts the input bindings, which might just be empty or strings, to binding objects\r\n        _initializeAttributeBindings:function () {\r\n            var attributeBindingKey, inputBinding, attributeBinding, elementBindingCount, elementBinding;\r\n\r\n            for (attributeBindingKey in this._attributeBindings) {\r\n                inputBinding = this._attributeBindings[attributeBindingKey];\r\n\r\n                if (_.isString(inputBinding)) {\r\n                    attributeBinding = {elementBindings: [{selector: inputBinding}]};\r\n                }\r\n                else if (_.isArray(inputBinding)) {\r\n                    attributeBinding = {elementBindings: inputBinding};\r\n                }\r\n                else if(_.isObject(inputBinding)){\r\n                    attributeBinding = {elementBindings: [inputBinding]};\r\n                }\r\n                else {\r\n                    this._throwException('Unsupported type passed to Model Binder ' + attributeBinding);\r\n                }\r\n\r\n                // Add a linkage from the element binding back to the attribute binding\r\n                for(elementBindingCount = 0; elementBindingCount < attributeBinding.elementBindings.length; elementBindingCount++){\r\n                    elementBinding = attributeBinding.elementBindings[elementBindingCount];\r\n                    elementBinding.attributeBinding = attributeBinding;\r\n                }\r\n\r\n                attributeBinding.attributeName = attributeBindingKey;\r\n                this._attributeBindings[attributeBindingKey] = attributeBinding;\r\n            }\r\n        },\r\n\r\n        // If the bindings are not specified, the default binding is performed on the specified attribute, name by default\r\n        _initializeDefaultBindings: function(){\r\n            var elCount, elsWithAttribute, matchedEl, name, attributeBinding;\r\n\r\n            this._attributeBindings = {};\r\n            elsWithAttribute = $('[' + this._options['boundAttribute'] + ']', this._rootEl);\r\n\r\n            for(elCount = 0; elCount < elsWithAttribute.length; elCount++){\r\n                matchedEl = elsWithAttribute[elCount];\r\n                name = $(matchedEl).attr(this._options['boundAttribute']);\r\n\r\n                // For elements like radio buttons we only want a single attribute binding with possibly multiple element bindings\r\n                if(!this._attributeBindings[name]){\r\n                    attributeBinding =  {attributeName: name};\r\n                    attributeBinding.elementBindings = [{attributeBinding: attributeBinding, boundEls: [matchedEl]}];\r\n                    this._attributeBindings[name] = attributeBinding;\r\n                }\r\n                else{\r\n                    this._attributeBindings[name].elementBindings.push({attributeBinding: this._attributeBindings[name], boundEls: [matchedEl]});\r\n                }\r\n            }\r\n        },\r\n\r\n        _initializeElBindings:function () {\r\n            var bindingKey, attributeBinding, bindingCount, elementBinding, foundEls, elCount, el;\r\n            for (bindingKey in this._attributeBindings) {\r\n                attributeBinding = this._attributeBindings[bindingKey];\r\n\r\n                for (bindingCount = 0; bindingCount < attributeBinding.elementBindings.length; bindingCount++) {\r\n                    elementBinding = attributeBinding.elementBindings[bindingCount];\r\n                    if (elementBinding.selector === '') {\r\n                        foundEls = $(this._rootEl);\r\n                    }\r\n                    else {\r\n                        foundEls = $(elementBinding.selector, this._rootEl);\r\n                    }\r\n\r\n                    if (foundEls.length === 0) {\r\n                        this._throwException('Bad binding found. No elements returned for binding selector ' + elementBinding.selector);\r\n                    }\r\n                    else {\r\n                        elementBinding.boundEls = [];\r\n                        for (elCount = 0; elCount < foundEls.length; elCount++) {\r\n                            el = foundEls[elCount];\r\n                            elementBinding.boundEls.push(el);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        _bindModelToView: function () {\r\n            this._model.on('change', this._onModelChange, this);\r\n\r\n            if(this._options['initialCopyDirection'] === Backbone.ModelBinder.Constants.ModelToView){\r\n                this.copyModelAttributesToView();\r\n            }\r\n        },\r\n\r\n        // attributesToCopy is an optional parameter - if empty, all attributes\r\n        // that are bound will be copied.  Otherwise, only attributeBindings specified\r\n        // in the attributesToCopy are copied.\r\n        copyModelAttributesToView: function(attributesToCopy){\r\n            var attributeName, attributeBinding;\r\n\r\n            for (attributeName in this._attributeBindings) {\r\n                if(attributesToCopy === undefined || _.indexOf(attributesToCopy, attributeName) !== -1){\r\n                    attributeBinding = this._attributeBindings[attributeName];\r\n                    this._copyModelToView(attributeBinding);\r\n                }\r\n            }\r\n        },\r\n\r\n        copyViewValuesToModel: function(){\r\n            var bindingKey, attributeBinding, bindingCount, elementBinding, elCount, el;\r\n            for (bindingKey in this._attributeBindings) {\r\n                attributeBinding = this._attributeBindings[bindingKey];\r\n\r\n                for (bindingCount = 0; bindingCount < attributeBinding.elementBindings.length; bindingCount++) {\r\n                    elementBinding = attributeBinding.elementBindings[bindingCount];\r\n\r\n                    if(this._isBindingUserEditable(elementBinding)){\r\n                        if(this._isBindingRadioGroup(elementBinding)){\r\n                            el = this._getRadioButtonGroupCheckedEl(elementBinding);\r\n                            if(el){\r\n                                this._copyViewToModel(elementBinding, el);\r\n                            }\r\n                        }\r\n                        else {\r\n                            for(elCount = 0; elCount < elementBinding.boundEls.length; elCount++){\r\n                                el = $(elementBinding.boundEls[elCount]);\r\n                                if(this._isElUserEditable(el)){\r\n                                    this._copyViewToModel(elementBinding, el);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        _unbindModelToView: function(){\r\n            if(this._model){\r\n                this._model.off('change', this._onModelChange);\r\n                this._model = undefined;\r\n            }\r\n        },\r\n\r\n        _bindViewToModel: function () {\r\n            _.each(this._options['changeTriggers'], function (event, selector) {\r\n                $(this._rootEl).on(event, selector, this._onElChanged);\r\n            }, this);\r\n\r\n            if(this._options['initialCopyDirection'] === Backbone.ModelBinder.Constants.ViewToModel){\r\n                this.copyViewValuesToModel();\r\n            }\r\n        },\r\n\r\n        _unbindViewToModel: function () {\r\n            if(this._options && this._options['changeTriggers']){\r\n                _.each(this._options['changeTriggers'], function (event, selector) {\r\n                    $(this._rootEl).off(event, selector, this._onElChanged);\r\n                }, this);\r\n            }\r\n        },\r\n\r\n        _onElChanged:function (event) {\r\n            var el, elBindings, elBindingCount, elBinding;\r\n\r\n            el = $(event.target)[0];\r\n            elBindings = this._getElBindings(el);\r\n\r\n            for(elBindingCount = 0; elBindingCount < elBindings.length; elBindingCount++){\r\n                elBinding = elBindings[elBindingCount];\r\n                if (this._isBindingUserEditable(elBinding)) {\r\n                    this._copyViewToModel(elBinding, el);\r\n                }\r\n            }\r\n        },\r\n\r\n        _isBindingUserEditable: function(elBinding){\r\n            return elBinding.elAttribute === undefined ||\r\n                elBinding.elAttribute === 'text' ||\r\n                elBinding.elAttribute === 'html';\r\n        },\r\n\r\n        _isElUserEditable: function(el){\r\n            var isContentEditable = el.attr('contenteditable');\r\n            return isContentEditable || el.is('input') || el.is('select') || el.is('textarea');\r\n        },\r\n\r\n        _isBindingRadioGroup: function(elBinding){\r\n            var elCount, el;\r\n            var isAllRadioButtons = elBinding.boundEls.length > 0;\r\n            for(elCount = 0; elCount < elBinding.boundEls.length; elCount++){\r\n                el = $(elBinding.boundEls[elCount]);\r\n                if(el.attr('type') !== 'radio'){\r\n                    isAllRadioButtons = false;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return isAllRadioButtons;\r\n        },\r\n\r\n        _getRadioButtonGroupCheckedEl: function(elBinding){\r\n            var elCount, el;\r\n            for(elCount = 0; elCount < elBinding.boundEls.length; elCount++){\r\n                el = $(elBinding.boundEls[elCount]);\r\n                if(el.attr('type') === 'radio' && el.prop('checked')){\r\n                    return el;\r\n                }\r\n            }\r\n\r\n            return undefined;\r\n        },\r\n\r\n        _getElBindings:function (findEl) {\r\n            var attributeName, attributeBinding, elementBindingCount, elementBinding, boundElCount, boundEl;\r\n            var elBindings = [];\r\n\r\n            for (attributeName in this._attributeBindings) {\r\n                attributeBinding = this._attributeBindings[attributeName];\r\n\r\n                for (elementBindingCount = 0; elementBindingCount < attributeBinding.elementBindings.length; elementBindingCount++) {\r\n                    elementBinding = attributeBinding.elementBindings[elementBindingCount];\r\n\r\n                    for (boundElCount = 0; boundElCount < elementBinding.boundEls.length; boundElCount++) {\r\n                        boundEl = elementBinding.boundEls[boundElCount];\r\n\r\n                        if (boundEl === findEl) {\r\n                            elBindings.push(elementBinding);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return elBindings;\r\n        },\r\n\r\n        _onModelChange:function () {\r\n            var changedAttribute, attributeBinding;\r\n\r\n            for (changedAttribute in this._model.changedAttributes()) {\r\n                attributeBinding = this._attributeBindings[changedAttribute];\r\n\r\n                if (attributeBinding) {\r\n                    this._copyModelToView(attributeBinding);\r\n                }\r\n            }\r\n        },\r\n\r\n        _copyModelToView:function (attributeBinding) {\r\n            var elementBindingCount, elementBinding, boundElCount, boundEl, value, convertedValue;\r\n\r\n            value = this._model.get(attributeBinding.attributeName);\r\n\r\n            for (elementBindingCount = 0; elementBindingCount < attributeBinding.elementBindings.length; elementBindingCount++) {\r\n                elementBinding = attributeBinding.elementBindings[elementBindingCount];\r\n\r\n                for (boundElCount = 0; boundElCount < elementBinding.boundEls.length; boundElCount++) {\r\n                    boundEl = elementBinding.boundEls[boundElCount];\r\n\r\n                    if(!boundEl._isSetting){\r\n                        convertedValue = this._getConvertedValue(Backbone.ModelBinder.Constants.ModelToView, elementBinding, value);\r\n                        this._setEl($(boundEl), elementBinding, convertedValue);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        _setEl: function (el, elementBinding, convertedValue) {\r\n            if (elementBinding.elAttribute) {\r\n                this._setElAttribute(el, elementBinding, convertedValue);\r\n            }\r\n            else {\r\n                this._setElValue(el, convertedValue);\r\n            }\r\n        },\r\n\r\n        _setElAttribute:function (el, elementBinding, convertedValue) {\r\n            switch (elementBinding.elAttribute) {\r\n                case 'html':\r\n                    el.html(convertedValue);\r\n                    break;\r\n                case 'text':\r\n                    el.text(convertedValue);\r\n                    break;\r\n                case 'enabled':\r\n                    el.prop('disabled', !convertedValue);\r\n                    break;\r\n                case 'displayed':\r\n                    el[convertedValue ? 'show' : 'hide']();\r\n                    break;\r\n                case 'hidden':\r\n                    el[convertedValue ? 'hide' : 'show']();\r\n                    break;\r\n                case 'css':\r\n                    el.css(elementBinding.cssAttribute, convertedValue);\r\n                    break;\r\n                case 'class':\r\n                    var previousValue = this._model.previous(elementBinding.attributeBinding.attributeName);\r\n                    var currentValue = this._model.get(elementBinding.attributeBinding.attributeName);\r\n                    // is current value is now defined then remove the class the may have been set for the undefined value\r\n                    if(!_.isUndefined(previousValue) || !_.isUndefined(currentValue)){\r\n                        previousValue = this._getConvertedValue(Backbone.ModelBinder.Constants.ModelToView, elementBinding, previousValue);\r\n                        el.removeClass(previousValue);\r\n                    }\r\n\r\n                    if(convertedValue){\r\n                        el.addClass(convertedValue);\r\n                    }\r\n                    break;\r\n                default:\r\n                    el.attr(elementBinding.elAttribute, convertedValue);\r\n            }\r\n        },\r\n\r\n        _setElValue:function (el, convertedValue) {\r\n            if(el.attr('type')){\r\n                switch (el.attr('type')) {\r\n                    case 'radio':\r\n                        el.prop('checked', el.val() === convertedValue);\r\n                        break;\r\n                    case 'checkbox':\r\n                         el.prop('checked', !!convertedValue);\r\n                        break;\r\n                    case 'file':\r\n                        break;\r\n                    default:\r\n                        el.val(convertedValue);\r\n                }\r\n            }\r\n            else if(el.is('input') || el.is('select') || el.is('textarea')){\r\n                el.val(convertedValue || (convertedValue === 0 ? '0' : ''));\r\n            }\r\n            else {\r\n                el.text(convertedValue || (convertedValue === 0 ? '0' : ''));\r\n            }\r\n        },\r\n\r\n        _copyViewToModel: function (elementBinding, el) {\r\n            var result, value, convertedValue;\r\n\r\n            if (!el._isSetting) {\r\n\r\n                el._isSetting = true;\r\n                result = this._setModel(elementBinding, $(el));\r\n                el._isSetting = false;\r\n\r\n                if(result && elementBinding.converter){\r\n                    value = this._model.get(elementBinding.attributeBinding.attributeName);\r\n                    convertedValue = this._getConvertedValue(Backbone.ModelBinder.Constants.ModelToView, elementBinding, value);\r\n                    this._setEl($(el), elementBinding, convertedValue);\r\n                }\r\n            }\r\n        },\r\n\r\n        _getElValue: function(elementBinding, el){\r\n            switch (el.attr('type')) {\r\n                case 'checkbox':\r\n                    return el.prop('checked') ? true : false;\r\n                default:\r\n                    if(el.attr('contenteditable') !== undefined){\r\n                        return el.html();\r\n                    }\r\n                    else {\r\n                        return el.val();\r\n                    }\r\n            }\r\n        },\r\n\r\n        _setModel: function (elementBinding, el) {\r\n            var data = {};\r\n            var elVal = this._getElValue(elementBinding, el);\r\n            elVal = this._getConvertedValue(Backbone.ModelBinder.Constants.ViewToModel, elementBinding, elVal);\r\n            data[elementBinding.attributeBinding.attributeName] = elVal;\r\n            return this._model.set(data,  this._options['modelSetOptions']);\r\n        },\r\n\r\n        _getConvertedValue: function (direction, elementBinding, value) {\r\n\r\n            if (elementBinding.converter) {\r\n                value = elementBinding.converter(direction, value, elementBinding.attributeBinding.attributeName, this._model, elementBinding.boundEls);\r\n            }\r\n            else if(this._options['converter']){\r\n                value = this._options['converter'](direction, value, elementBinding.attributeBinding.attributeName, this._model, elementBinding.boundEls);\r\n            }\r\n\r\n            return value;\r\n        },\r\n\r\n        _throwException: function(message){\r\n            if(this._options.suppressThrows){\r\n                if(typeof(console) !== 'undefined' && console.error){\r\n                    console.error(message);\r\n                }\r\n            }\r\n            else {\r\n                throw message;\r\n            }\r\n        }\r\n    });\r\n\r\n    Backbone.ModelBinder.CollectionConverter = function(collection){\r\n        this._collection = collection;\r\n\r\n        if(!this._collection){\r\n            throw 'Collection must be defined';\r\n        }\r\n        _.bindAll(this, 'convert');\r\n    };\r\n\r\n    _.extend(Backbone.ModelBinder.CollectionConverter.prototype, {\r\n        convert: function(direction, value){\r\n            if (direction === Backbone.ModelBinder.Constants.ModelToView) {\r\n                return value ? value.id : undefined;\r\n            }\r\n            else {\r\n                return this._collection.get(value);\r\n            }\r\n        }\r\n    });\r\n\r\n    // A static helper function to create a default set of bindings that you can customize before calling the bind() function\r\n    // rootEl - where to find all of the bound elements\r\n    // attributeType - probably 'name' or 'id' in most cases\r\n    // converter(optional) - the default converter you want applied to all your bindings\r\n    // elAttribute(optional) - the default elAttribute you want applied to all your bindings\r\n    Backbone.ModelBinder.createDefaultBindings = function(rootEl, attributeType, converter, elAttribute){\r\n        var foundEls, elCount, foundEl, attributeName;\r\n        var bindings = {};\r\n\r\n        foundEls = $('[' + attributeType + ']', rootEl);\r\n\r\n        for(elCount = 0; elCount < foundEls.length; elCount++){\r\n            foundEl = foundEls[elCount];\r\n            attributeName = $(foundEl).attr(attributeType);\r\n\r\n            if(!bindings[attributeName]){\r\n                var attributeBinding =  {selector: '[' + attributeType + '=\"' + attributeName + '\"]'};\r\n                bindings[attributeName] = attributeBinding;\r\n\r\n                if(converter){\r\n                    bindings[attributeName].converter = converter;\r\n                }\r\n\r\n                if(elAttribute){\r\n                    bindings[attributeName].elAttribute = elAttribute;\r\n                }\r\n            }\r\n        }\r\n\r\n        return bindings;\r\n    };\r\n\r\n    // Helps you to combine 2 sets of bindings\r\n    Backbone.ModelBinder.combineBindings = function(destination, source){\r\n        _.each(source, function(value, key){\r\n            var elementBinding = {selector: value.selector};\r\n\r\n            if(value.converter){\r\n                elementBinding.converter = value.converter;\r\n            }\r\n\r\n            if(value.elAttribute){\r\n                elementBinding.elAttribute = value.elAttribute;\r\n            }\r\n\r\n            if(!destination[key]){\r\n                destination[key] = elementBinding;\r\n            }\r\n            else {\r\n                destination[key] = [destination[key], elementBinding];\r\n            }\r\n        });\r\n\r\n        return destination;\r\n    };\r\n\r\n\r\n    return Backbone.ModelBinder;\r\n\r\n}));\r\n","// Backbone.Radio v2.0.0\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('underscore'), require('backbone')) :\n  typeof define === 'function' && define.amd ? define(['underscore', 'backbone'], factory) :\n  (global.Backbone = global.Backbone || {}, global.Backbone.Radio = factory(global._,global.Backbone));\n}(this, function (_,Backbone) { 'use strict';\n\n  _ = 'default' in _ ? _['default'] : _;\n  Backbone = 'default' in Backbone ? Backbone['default'] : Backbone;\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n  };\n\n  var previousRadio = Backbone.Radio;\n\n  var Radio = Backbone.Radio = {};\n\n  Radio.VERSION = '2.0.0';\n\n  // This allows you to run multiple instances of Radio on the same\n  // webapp. After loading the new version, call `noConflict()` to\n  // get a reference to it. At the same time the old version will be\n  // returned to Backbone.Radio.\n  Radio.noConflict = function () {\n    Backbone.Radio = previousRadio;\n    return this;\n  };\n\n  // Whether or not we're in DEBUG mode or not. DEBUG mode helps you\n  // get around the issues of lack of warnings when events are mis-typed.\n  Radio.DEBUG = false;\n\n  // Format debug text.\n  Radio._debugText = function (warning, eventName, channelName) {\n    return warning + (channelName ? ' on the ' + channelName + ' channel' : '') + ': \"' + eventName + '\"';\n  };\n\n  // This is the method that's called when an unregistered event was called.\n  // By default, it logs warning to the console. By overriding this you could\n  // make it throw an Error, for instance. This would make firing a nonexistent event\n  // have the same consequence as firing a nonexistent method on an Object.\n  Radio.debugLog = function (warning, eventName, channelName) {\n    if (Radio.DEBUG && console && console.warn) {\n      console.warn(Radio._debugText(warning, eventName, channelName));\n    }\n  };\n\n  var eventSplitter = /\\s+/;\n\n  // An internal method used to handle Radio's method overloading for Requests.\n  // It's borrowed from Backbone.Events. It differs from Backbone's overload\n  // API (which is used in Backbone.Events) in that it doesn't support space-separated\n  // event names.\n  Radio._eventsApi = function (obj, action, name, rest) {\n    if (!name) {\n      return false;\n    }\n\n    var results = {};\n\n    // Handle event maps.\n    if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n      for (var key in name) {\n        var result = obj[action].apply(obj, [key, name[key]].concat(rest));\n        eventSplitter.test(key) ? _.extend(results, result) : results[key] = result;\n      }\n      return results;\n    }\n\n    // Handle space separated event names.\n    if (eventSplitter.test(name)) {\n      var names = name.split(eventSplitter);\n      for (var i = 0, l = names.length; i < l; i++) {\n        results[names[i]] = obj[action].apply(obj, [names[i]].concat(rest));\n      }\n      return results;\n    }\n\n    return false;\n  };\n\n  // An optimized way to execute callbacks.\n  Radio._callHandler = function (callback, context, args) {\n    var a1 = args[0],\n        a2 = args[1],\n        a3 = args[2];\n    switch (args.length) {\n      case 0:\n        return callback.call(context);\n      case 1:\n        return callback.call(context, a1);\n      case 2:\n        return callback.call(context, a1, a2);\n      case 3:\n        return callback.call(context, a1, a2, a3);\n      default:\n        return callback.apply(context, args);\n    }\n  };\n\n  // A helper used by `off` methods to the handler from the store\n  function removeHandler(store, name, callback, context) {\n    var event = store[name];\n    if ((!callback || callback === event.callback || callback === event.callback._callback) && (!context || context === event.context)) {\n      delete store[name];\n      return true;\n    }\n  }\n\n  function removeHandlers(store, name, callback, context) {\n    store || (store = {});\n    var names = name ? [name] : _.keys(store);\n    var matched = false;\n\n    for (var i = 0, length = names.length; i < length; i++) {\n      name = names[i];\n\n      // If there's no event by this name, log it and continue\n      // with the loop\n      if (!store[name]) {\n        continue;\n      }\n\n      if (removeHandler(store, name, callback, context)) {\n        matched = true;\n      }\n    }\n\n    return matched;\n  }\n\n  /*\n   * tune-in\n   * -------\n   * Get console logs of a channel's activity\n   *\n   */\n\n  var _logs = {};\n\n  // This is to produce an identical function in both tuneIn and tuneOut,\n  // so that Backbone.Events unregisters it.\n  function _partial(channelName) {\n    return _logs[channelName] || (_logs[channelName] = _.bind(Radio.log, Radio, channelName));\n  }\n\n  _.extend(Radio, {\n\n    // Log information about the channel and event\n    log: function log(channelName, eventName) {\n      if (typeof console === 'undefined') {\n        return;\n      }\n      var args = _.toArray(arguments).slice(2);\n      console.log('[' + channelName + '] \"' + eventName + '\"', args);\n    },\n\n    // Logs all events on this channel to the console. It sets an\n    // internal value on the channel telling it we're listening,\n    // then sets a listener on the Backbone.Events\n    tuneIn: function tuneIn(channelName) {\n      var channel = Radio.channel(channelName);\n      channel._tunedIn = true;\n      channel.on('all', _partial(channelName));\n      return this;\n    },\n\n    // Stop logging all of the activities on this channel to the console\n    tuneOut: function tuneOut(channelName) {\n      var channel = Radio.channel(channelName);\n      channel._tunedIn = false;\n      channel.off('all', _partial(channelName));\n      delete _logs[channelName];\n      return this;\n    }\n  });\n\n  /*\n   * Backbone.Radio.Requests\n   * -----------------------\n   * A messaging system for requesting data.\n   *\n   */\n\n  function makeCallback(callback) {\n    return _.isFunction(callback) ? callback : function () {\n      return callback;\n    };\n  }\n\n  Radio.Requests = {\n\n    // Make a request\n    request: function request(name) {\n      var args = _.toArray(arguments).slice(1);\n      var results = Radio._eventsApi(this, 'request', name, args);\n      if (results) {\n        return results;\n      }\n      var channelName = this.channelName;\n      var requests = this._requests;\n\n      // Check if we should log the request, and if so, do it\n      if (channelName && this._tunedIn) {\n        Radio.log.apply(this, [channelName, name].concat(args));\n      }\n\n      // If the request isn't handled, log it in DEBUG mode and exit\n      if (requests && (requests[name] || requests['default'])) {\n        var handler = requests[name] || requests['default'];\n        args = requests[name] ? args : arguments;\n        return Radio._callHandler(handler.callback, handler.context, args);\n      } else {\n        Radio.debugLog('An unhandled request was fired', name, channelName);\n      }\n    },\n\n    // Set up a handler for a request\n    reply: function reply(name, callback, context) {\n      if (Radio._eventsApi(this, 'reply', name, [callback, context])) {\n        return this;\n      }\n\n      this._requests || (this._requests = {});\n\n      if (this._requests[name]) {\n        Radio.debugLog('A request was overwritten', name, this.channelName);\n      }\n\n      this._requests[name] = {\n        callback: makeCallback(callback),\n        context: context || this\n      };\n\n      return this;\n    },\n\n    // Set up a handler that can only be requested once\n    replyOnce: function replyOnce(name, callback, context) {\n      if (Radio._eventsApi(this, 'replyOnce', name, [callback, context])) {\n        return this;\n      }\n\n      var self = this;\n\n      var once = _.once(function () {\n        self.stopReplying(name);\n        return makeCallback(callback).apply(this, arguments);\n      });\n\n      return this.reply(name, once, context);\n    },\n\n    // Remove handler(s)\n    stopReplying: function stopReplying(name, callback, context) {\n      if (Radio._eventsApi(this, 'stopReplying', name)) {\n        return this;\n      }\n\n      // Remove everything if there are no arguments passed\n      if (!name && !callback && !context) {\n        delete this._requests;\n      } else if (!removeHandlers(this._requests, name, callback, context)) {\n        Radio.debugLog('Attempted to remove the unregistered request', name, this.channelName);\n      }\n\n      return this;\n    }\n  };\n\n  /*\n   * Backbone.Radio.channel\n   * ----------------------\n   * Get a reference to a channel by name.\n   *\n   */\n\n  Radio._channels = {};\n\n  Radio.channel = function (channelName) {\n    if (!channelName) {\n      throw new Error('You must provide a name for the channel.');\n    }\n\n    if (Radio._channels[channelName]) {\n      return Radio._channels[channelName];\n    } else {\n      return Radio._channels[channelName] = new Radio.Channel(channelName);\n    }\n  };\n\n  /*\n   * Backbone.Radio.Channel\n   * ----------------------\n   * A Channel is an object that extends from Backbone.Events,\n   * and Radio.Requests.\n   *\n   */\n\n  Radio.Channel = function (channelName) {\n    this.channelName = channelName;\n  };\n\n  _.extend(Radio.Channel.prototype, Backbone.Events, Radio.Requests, {\n\n    // Remove all handlers from the messaging systems of this channel\n    reset: function reset() {\n      this.off();\n      this.stopListening();\n      this.stopReplying();\n      return this;\n    }\n  });\n\n  /*\n   * Top-level API\n   * -------------\n   * Supplies the 'top-level API' for working with Channels directly\n   * from Backbone.Radio.\n   *\n   */\n\n  var channel;\n  var args;\n  var systems = [Backbone.Events, Radio.Requests];\n  _.each(systems, function (system) {\n    _.each(system, function (method, methodName) {\n      Radio[methodName] = function (channelName) {\n        args = _.toArray(arguments).slice(1);\n        channel = this.channel(channelName);\n        return channel[methodName].apply(channel, args);\n      };\n    });\n  });\n\n  Radio.reset = function (channelName) {\n    var channels = !channelName ? this._channels : [this._channels[channelName]];\n    _.each(channels, function (channel) {\n      channel.reset();\n    });\n  };\n\n  return Radio;\n\n}));\n//# sourceMappingURL=./backbone.radio.js.map","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n// Open simple dialogs on top of an editor. Relies on dialog.css.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  function dialogDiv(cm, template, bottom) {\n    var wrap = cm.getWrapperElement();\n    var dialog;\n    dialog = wrap.appendChild(document.createElement(\"div\"));\n    if (bottom)\n      dialog.className = \"CodeMirror-dialog CodeMirror-dialog-bottom\";\n    else\n      dialog.className = \"CodeMirror-dialog CodeMirror-dialog-top\";\n\n    if (typeof template == \"string\") {\n      dialog.innerHTML = template;\n    } else { // Assuming it's a detached DOM element.\n      dialog.appendChild(template);\n    }\n    CodeMirror.addClass(wrap, 'dialog-opened');\n    return dialog;\n  }\n\n  function closeNotification(cm, newVal) {\n    if (cm.state.currentNotificationClose)\n      cm.state.currentNotificationClose();\n    cm.state.currentNotificationClose = newVal;\n  }\n\n  CodeMirror.defineExtension(\"openDialog\", function(template, callback, options) {\n    if (!options) options = {};\n\n    closeNotification(this, null);\n\n    var dialog = dialogDiv(this, template, options.bottom);\n    var closed = false, me = this;\n    function close(newVal) {\n      if (typeof newVal == 'string') {\n        inp.value = newVal;\n      } else {\n        if (closed) return;\n        closed = true;\n        CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n        dialog.parentNode.removeChild(dialog);\n        me.focus();\n\n        if (options.onClose) options.onClose(dialog);\n      }\n    }\n\n    var inp = dialog.getElementsByTagName(\"input\")[0], button;\n    if (inp) {\n      inp.focus();\n\n      if (options.value) {\n        inp.value = options.value;\n        if (options.selectValueOnOpen !== false) {\n          inp.select();\n        }\n      }\n\n      if (options.onInput)\n        CodeMirror.on(inp, \"input\", function(e) { options.onInput(e, inp.value, close);});\n      if (options.onKeyUp)\n        CodeMirror.on(inp, \"keyup\", function(e) {options.onKeyUp(e, inp.value, close);});\n\n      CodeMirror.on(inp, \"keydown\", function(e) {\n        if (options && options.onKeyDown && options.onKeyDown(e, inp.value, close)) { return; }\n        if (e.keyCode == 27 || (options.closeOnEnter !== false && e.keyCode == 13)) {\n          inp.blur();\n          CodeMirror.e_stop(e);\n          close();\n        }\n        if (e.keyCode == 13) callback(inp.value, e);\n      });\n\n      if (options.closeOnBlur !== false) CodeMirror.on(inp, \"blur\", close);\n    } else if (button = dialog.getElementsByTagName(\"button\")[0]) {\n      CodeMirror.on(button, \"click\", function() {\n        close();\n        me.focus();\n      });\n\n      if (options.closeOnBlur !== false) CodeMirror.on(button, \"blur\", close);\n\n      button.focus();\n    }\n    return close;\n  });\n\n  CodeMirror.defineExtension(\"openConfirm\", function(template, callbacks, options) {\n    closeNotification(this, null);\n    var dialog = dialogDiv(this, template, options && options.bottom);\n    var buttons = dialog.getElementsByTagName(\"button\");\n    var closed = false, me = this, blurring = 1;\n    function close() {\n      if (closed) return;\n      closed = true;\n      CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n      dialog.parentNode.removeChild(dialog);\n      me.focus();\n    }\n    buttons[0].focus();\n    for (var i = 0; i < buttons.length; ++i) {\n      var b = buttons[i];\n      (function(callback) {\n        CodeMirror.on(b, \"click\", function(e) {\n          CodeMirror.e_preventDefault(e);\n          close();\n          if (callback) callback(me);\n        });\n      })(callbacks[i]);\n      CodeMirror.on(b, \"blur\", function() {\n        --blurring;\n        setTimeout(function() { if (blurring <= 0) close(); }, 200);\n      });\n      CodeMirror.on(b, \"focus\", function() { ++blurring; });\n    }\n  });\n\n  /*\n   * openNotification\n   * Opens a notification, that can be closed with an optional timer\n   * (default 5000ms timer) and always closes on click.\n   *\n   * If a notification is opened while another is opened, it will close the\n   * currently opened one and open the new one immediately.\n   */\n  CodeMirror.defineExtension(\"openNotification\", function(template, options) {\n    closeNotification(this, close);\n    var dialog = dialogDiv(this, template, options && options.bottom);\n    var closed = false, doneTimer;\n    var duration = options && typeof options.duration !== \"undefined\" ? options.duration : 5000;\n\n    function close() {\n      if (closed) return;\n      closed = true;\n      clearTimeout(doneTimer);\n      CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n      dialog.parentNode.removeChild(dialog);\n    }\n\n    CodeMirror.on(dialog, 'click', function(e) {\n      CodeMirror.e_preventDefault(e);\n      close();\n    });\n\n    if (duration)\n      doneTimer = setTimeout(close, duration);\n\n    return close;\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var defaults = {\n    pairs: \"()[]{}''\\\"\\\"\",\n    triples: \"\",\n    explode: \"[]{}\"\n  };\n\n  var Pos = CodeMirror.Pos;\n\n  CodeMirror.defineOption(\"autoCloseBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.removeKeyMap(keyMap);\n      cm.state.closeBrackets = null;\n    }\n    if (val) {\n      ensureBound(getOption(val, \"pairs\"))\n      cm.state.closeBrackets = val;\n      cm.addKeyMap(keyMap);\n    }\n  });\n\n  function getOption(conf, name) {\n    if (name == \"pairs\" && typeof conf == \"string\") return conf;\n    if (typeof conf == \"object\" && conf[name] != null) return conf[name];\n    return defaults[name];\n  }\n\n  var keyMap = {Backspace: handleBackspace, Enter: handleEnter};\n  function ensureBound(chars) {\n    for (var i = 0; i < chars.length; i++) {\n      var ch = chars.charAt(i), key = \"'\" + ch + \"'\"\n      if (!keyMap[key]) keyMap[key] = handler(ch)\n    }\n  }\n  ensureBound(defaults.pairs + \"`\")\n\n  function handler(ch) {\n    return function(cm) { return handleChar(cm, ch); };\n  }\n\n  function getConfig(cm) {\n    var deflt = cm.state.closeBrackets;\n    if (!deflt || deflt.override) return deflt;\n    var mode = cm.getModeAt(cm.getCursor());\n    return mode.closeBrackets || deflt;\n  }\n\n  function handleBackspace(cm) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var cur = ranges[i].head;\n      cm.replaceRange(\"\", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), \"+delete\");\n    }\n  }\n\n  function handleEnter(cm) {\n    var conf = getConfig(cm);\n    var explode = conf && getOption(conf, \"explode\");\n    if (!explode || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    cm.operation(function() {\n      var linesep = cm.lineSeparator() || \"\\n\";\n      cm.replaceSelection(linesep + linesep, null);\n      cm.execCommand(\"goCharLeft\");\n      ranges = cm.listSelections();\n      for (var i = 0; i < ranges.length; i++) {\n        var line = ranges[i].head.line;\n        cm.indentLine(line, null, true);\n        cm.indentLine(line + 1, null, true);\n      }\n    });\n  }\n\n  function contractSelection(sel) {\n    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;\n    return {anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),\n            head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1))};\n  }\n\n  function handleChar(cm, ch) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var pos = pairs.indexOf(ch);\n    if (pos == -1) return CodeMirror.Pass;\n    var triples = getOption(conf, \"triples\");\n\n    var identical = pairs.charAt(pos + 1) == ch;\n    var ranges = cm.listSelections();\n    var opening = pos % 2 == 0;\n\n    var type;\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], cur = range.head, curType;\n      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));\n      if (opening && !range.empty()) {\n        curType = \"surround\";\n      } else if ((identical || !opening) && next == ch) {\n        if (identical && stringStartsAfter(cm, cur))\n          curType = \"both\";\n        else if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch)\n          curType = \"skipThree\";\n        else\n          curType = \"skip\";\n      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 &&\n                 cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch) {\n        if (cur.ch > 2 && /\\bstring/.test(cm.getTokenTypeAt(Pos(cur.line, cur.ch - 2)))) return CodeMirror.Pass;\n        curType = \"addFour\";\n      } else if (identical) {\n        var prev = cur.ch == 0 ? \" \" : cm.getRange(Pos(cur.line, cur.ch - 1), cur)\n        if (!CodeMirror.isWordChar(next) && prev != ch && !CodeMirror.isWordChar(prev)) curType = \"both\";\n        else return CodeMirror.Pass;\n      } else if (opening && (cm.getLine(cur.line).length == cur.ch ||\n                             isClosingBracket(next, pairs) ||\n                             /\\s/.test(next))) {\n        curType = \"both\";\n      } else {\n        return CodeMirror.Pass;\n      }\n      if (!type) type = curType;\n      else if (type != curType) return CodeMirror.Pass;\n    }\n\n    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;\n    var right = pos % 2 ? ch : pairs.charAt(pos + 1);\n    cm.operation(function() {\n      if (type == \"skip\") {\n        cm.execCommand(\"goCharRight\");\n      } else if (type == \"skipThree\") {\n        for (var i = 0; i < 3; i++)\n          cm.execCommand(\"goCharRight\");\n      } else if (type == \"surround\") {\n        var sels = cm.getSelections();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = left + sels[i] + right;\n        cm.replaceSelections(sels, \"around\");\n        sels = cm.listSelections().slice();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = contractSelection(sels[i]);\n        cm.setSelections(sels);\n      } else if (type == \"both\") {\n        cm.replaceSelection(left + right, null);\n        cm.triggerElectric(left + right);\n        cm.execCommand(\"goCharLeft\");\n      } else if (type == \"addFour\") {\n        cm.replaceSelection(left + left + left + left, \"before\");\n        cm.execCommand(\"goCharRight\");\n      }\n    });\n  }\n\n  function isClosingBracket(ch, pairs) {\n    var pos = pairs.lastIndexOf(ch);\n    return pos > -1 && pos % 2 == 1;\n  }\n\n  function charsAround(cm, pos) {\n    var str = cm.getRange(Pos(pos.line, pos.ch - 1),\n                          Pos(pos.line, pos.ch + 1));\n    return str.length == 2 ? str : null;\n  }\n\n  function stringStartsAfter(cm, pos) {\n    var token = cm.getTokenAt(Pos(pos.line, pos.ch + 1))\n    return /\\bstring/.test(token.type) && token.start == pos.ch &&\n      (pos.ch == 0 || !/\\bstring/.test(cm.getTokenTypeAt(pos)))\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var ie_lt8 = /MSIE \\d/.test(navigator.userAgent) &&\n    (document.documentMode == null || document.documentMode < 8);\n\n  var Pos = CodeMirror.Pos;\n\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\"};\n\n  function findMatchingBracket(cm, where, config) {\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\n    var afterCursor = config && config.afterCursor\n    if (afterCursor == null)\n      afterCursor = /(^| )cm-fat-cursor($| )/.test(cm.getWrapperElement().className)\n\n    // A cursor is defined as between two characters, but in in vim command mode\n    // (i.e. not insert mode), the cursor is visually represented as a\n    // highlighted box on top of the 2nd character. Otherwise, we allow matches\n    // from before or after the cursor.\n    var match = (!afterCursor && pos >= 0 && matching[line.text.charAt(pos)]) ||\n        matching[line.text.charAt(++pos)];\n    if (!match) return null;\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\n    if (config && config.strict && (dir > 0) != (pos == where.ch)) return null;\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\n\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style || null, config);\n    if (found == null) return null;\n    return {from: Pos(where.line, pos), to: found && found.pos,\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\n  }\n\n  // bracketRegex is used to specify which type of bracket to scan\n  // should be a regexp, e.g. /[[\\]]/\n  //\n  // Note: If \"where\" is on an open bracket, then this bracket is ignored.\n  //\n  // Returns false when no bracket was found, null when it reached\n  // maxScanLines and gave up\n  function scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n\n    var stack = [];\n    var re = config && config.bracketRegex ? config.bracketRegex : /[(){}[\\]]/;\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n      var line = cm.getLine(lineNo);\n      if (!line) continue;\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n      if (line.length > maxScanLen) continue;\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\n      for (; pos != end; pos += dir) {\n        var ch = line.charAt(pos);\n        if (re.test(ch) && (style === undefined || cm.getTokenTypeAt(Pos(lineNo, pos + 1)) == style)) {\n          var match = matching[ch];\n          if ((match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\n          else stack.pop();\n        }\n      }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n  }\n\n  function matchBrackets(cm, autoclear, config) {\n    // Disable brace matching in long lines, since it'll cause hugely slow updates\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000;\n    var marks = [], ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, config);\n      if (match && cm.getLine(match.from.line).length <= maxHighlightLen) {\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\n      }\n    }\n\n    if (marks.length) {\n      // Kludge to work around the IE bug from issue #1193, where text\n      // input stops going to the textare whever this fires.\n      if (ie_lt8 && cm.state.focused) cm.focus();\n\n      var clear = function() {\n        cm.operation(function() {\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\n        });\n      };\n      if (autoclear) setTimeout(clear, 800);\n      else return clear;\n    }\n  }\n\n  function doMatchBrackets(cm) {\n    cm.operation(function() {\n      if (cm.state.matchBrackets.currentlyHighlighted) {\n        cm.state.matchBrackets.currentlyHighlighted();\n        cm.state.matchBrackets.currentlyHighlighted = null;\n      }\n      cm.state.matchBrackets.currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\n    });\n  }\n\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchBrackets);\n      if (cm.state.matchBrackets && cm.state.matchBrackets.currentlyHighlighted) {\n        cm.state.matchBrackets.currentlyHighlighted();\n        cm.state.matchBrackets.currentlyHighlighted = null;\n      }\n    }\n    if (val) {\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\n      cm.on(\"cursorActivity\", doMatchBrackets);\n    }\n  });\n\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, config, oldConfig){\n    // Backwards-compatibility kludge\n    if (oldConfig || typeof config == \"boolean\") {\n      if (!oldConfig) {\n        config = config ? {strict: true} : null\n      } else {\n        oldConfig.strict = config\n        config = oldConfig\n      }\n    }\n    return findMatchingBracket(this, pos, config)\n  });\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\n    return scanForBracket(this, pos, dir, style, config);\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.registerHelper(\"fold\", \"brace\", function(cm, start) {\n  var line = start.line, lineText = cm.getLine(line);\n  var tokenType;\n\n  function findOpening(openCh) {\n    for (var at = start.ch, pass = 0;;) {\n      var found = at <= 0 ? -1 : lineText.lastIndexOf(openCh, at - 1);\n      if (found == -1) {\n        if (pass == 1) break;\n        pass = 1;\n        at = lineText.length;\n        continue;\n      }\n      if (pass == 1 && found < start.ch) break;\n      tokenType = cm.getTokenTypeAt(CodeMirror.Pos(line, found + 1));\n      if (!/^(comment|string)/.test(tokenType)) return found + 1;\n      at = found - 1;\n    }\n  }\n\n  var startToken = \"{\", endToken = \"}\", startCh = findOpening(\"{\");\n  if (startCh == null) {\n    startToken = \"[\", endToken = \"]\";\n    startCh = findOpening(\"[\");\n  }\n\n  if (startCh == null) return;\n  var count = 1, lastLine = cm.lastLine(), end, endCh;\n  outer: for (var i = line; i <= lastLine; ++i) {\n    var text = cm.getLine(i), pos = i == line ? startCh : 0;\n    for (;;) {\n      var nextOpen = text.indexOf(startToken, pos), nextClose = text.indexOf(endToken, pos);\n      if (nextOpen < 0) nextOpen = text.length;\n      if (nextClose < 0) nextClose = text.length;\n      pos = Math.min(nextOpen, nextClose);\n      if (pos == text.length) break;\n      if (cm.getTokenTypeAt(CodeMirror.Pos(i, pos + 1)) == tokenType) {\n        if (pos == nextOpen) ++count;\n        else if (!--count) { end = i; endCh = pos; break outer; }\n      }\n      ++pos;\n    }\n  }\n  if (end == null || line == end && endCh == startCh) return;\n  return {from: CodeMirror.Pos(line, startCh),\n          to: CodeMirror.Pos(end, endCh)};\n});\n\nCodeMirror.registerHelper(\"fold\", \"import\", function(cm, start) {\n  function hasImport(line) {\n    if (line < cm.firstLine() || line > cm.lastLine()) return null;\n    var start = cm.getTokenAt(CodeMirror.Pos(line, 1));\n    if (!/\\S/.test(start.string)) start = cm.getTokenAt(CodeMirror.Pos(line, start.end + 1));\n    if (start.type != \"keyword\" || start.string != \"import\") return null;\n    // Now find closing semicolon, return its position\n    for (var i = line, e = Math.min(cm.lastLine(), line + 10); i <= e; ++i) {\n      var text = cm.getLine(i), semi = text.indexOf(\";\");\n      if (semi != -1) return {startCh: start.end, end: CodeMirror.Pos(i, semi)};\n    }\n  }\n\n  var startLine = start.line, has = hasImport(startLine), prev;\n  if (!has || hasImport(startLine - 1) || ((prev = hasImport(startLine - 2)) && prev.end.line == startLine - 1))\n    return null;\n  for (var end = has.end;;) {\n    var next = hasImport(end.line + 1);\n    if (next == null) break;\n    end = next.end;\n  }\n  return {from: cm.clipPos(CodeMirror.Pos(startLine, has.startCh + 1)), to: end};\n});\n\nCodeMirror.registerHelper(\"fold\", \"include\", function(cm, start) {\n  function hasInclude(line) {\n    if (line < cm.firstLine() || line > cm.lastLine()) return null;\n    var start = cm.getTokenAt(CodeMirror.Pos(line, 1));\n    if (!/\\S/.test(start.string)) start = cm.getTokenAt(CodeMirror.Pos(line, start.end + 1));\n    if (start.type == \"meta\" && start.string.slice(0, 8) == \"#include\") return start.start + 8;\n  }\n\n  var startLine = start.line, has = hasInclude(startLine);\n  if (has == null || hasInclude(startLine - 1) != null) return null;\n  for (var end = startLine;;) {\n    var next = hasInclude(end + 1);\n    if (next == null) break;\n    ++end;\n  }\n  return {from: CodeMirror.Pos(startLine, has + 1),\n          to: cm.clipPos(CodeMirror.Pos(end))};\n});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.registerGlobalHelper(\"fold\", \"comment\", function(mode) {\n  return mode.blockCommentStart && mode.blockCommentEnd;\n}, function(cm, start) {\n  var mode = cm.getModeAt(start), startToken = mode.blockCommentStart, endToken = mode.blockCommentEnd;\n  if (!startToken || !endToken) return;\n  var line = start.line, lineText = cm.getLine(line);\n\n  var startCh;\n  for (var at = start.ch, pass = 0;;) {\n    var found = at <= 0 ? -1 : lineText.lastIndexOf(startToken, at - 1);\n    if (found == -1) {\n      if (pass == 1) return;\n      pass = 1;\n      at = lineText.length;\n      continue;\n    }\n    if (pass == 1 && found < start.ch) return;\n    if (/comment/.test(cm.getTokenTypeAt(CodeMirror.Pos(line, found + 1))) &&\n        (found == 0 || lineText.slice(found - endToken.length, found) == endToken ||\n         !/comment/.test(cm.getTokenTypeAt(CodeMirror.Pos(line, found))))) {\n      startCh = found + startToken.length;\n      break;\n    }\n    at = found - 1;\n  }\n\n  var depth = 1, lastLine = cm.lastLine(), end, endCh;\n  outer: for (var i = line; i <= lastLine; ++i) {\n    var text = cm.getLine(i), pos = i == line ? startCh : 0;\n    for (;;) {\n      var nextOpen = text.indexOf(startToken, pos), nextClose = text.indexOf(endToken, pos);\n      if (nextOpen < 0) nextOpen = text.length;\n      if (nextClose < 0) nextClose = text.length;\n      pos = Math.min(nextOpen, nextClose);\n      if (pos == text.length) break;\n      if (pos == nextOpen) ++depth;\n      else if (!--depth) { end = i; endCh = pos; break outer; }\n      ++pos;\n    }\n  }\n  if (end == null || line == end && endCh == startCh) return;\n  return {from: CodeMirror.Pos(line, startCh),\n          to: CodeMirror.Pos(end, endCh)};\n});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function doFold(cm, pos, options, force) {\n    if (options && options.call) {\n      var finder = options;\n      options = null;\n    } else {\n      var finder = getOption(cm, options, \"rangeFinder\");\n    }\n    if (typeof pos == \"number\") pos = CodeMirror.Pos(pos, 0);\n    var minSize = getOption(cm, options, \"minFoldSize\");\n\n    function getRange(allowFolded) {\n      var range = finder(cm, pos);\n      if (!range || range.to.line - range.from.line < minSize) return null;\n      var marks = cm.findMarksAt(range.from);\n      for (var i = 0; i < marks.length; ++i) {\n        if (marks[i].__isFold && force !== \"fold\") {\n          if (!allowFolded) return null;\n          range.cleared = true;\n          marks[i].clear();\n        }\n      }\n      return range;\n    }\n\n    var range = getRange(true);\n    if (getOption(cm, options, \"scanUp\")) while (!range && pos.line > cm.firstLine()) {\n      pos = CodeMirror.Pos(pos.line - 1, 0);\n      range = getRange(false);\n    }\n    if (!range || range.cleared || force === \"unfold\") return;\n\n    var myWidget = makeWidget(cm, options);\n    CodeMirror.on(myWidget, \"mousedown\", function(e) {\n      myRange.clear();\n      CodeMirror.e_preventDefault(e);\n    });\n    var myRange = cm.markText(range.from, range.to, {\n      replacedWith: myWidget,\n      clearOnEnter: getOption(cm, options, \"clearOnEnter\"),\n      __isFold: true\n    });\n    myRange.on(\"clear\", function(from, to) {\n      CodeMirror.signal(cm, \"unfold\", cm, from, to);\n    });\n    CodeMirror.signal(cm, \"fold\", cm, range.from, range.to);\n  }\n\n  function makeWidget(cm, options) {\n    var widget = getOption(cm, options, \"widget\");\n    if (typeof widget == \"string\") {\n      var text = document.createTextNode(widget);\n      widget = document.createElement(\"span\");\n      widget.appendChild(text);\n      widget.className = \"CodeMirror-foldmarker\";\n    } else if (widget) {\n      widget = widget.cloneNode(true)\n    }\n    return widget;\n  }\n\n  // Clumsy backwards-compatible interface\n  CodeMirror.newFoldFunction = function(rangeFinder, widget) {\n    return function(cm, pos) { doFold(cm, pos, {rangeFinder: rangeFinder, widget: widget}); };\n  };\n\n  // New-style interface\n  CodeMirror.defineExtension(\"foldCode\", function(pos, options, force) {\n    doFold(this, pos, options, force);\n  });\n\n  CodeMirror.defineExtension(\"isFolded\", function(pos) {\n    var marks = this.findMarksAt(pos);\n    for (var i = 0; i < marks.length; ++i)\n      if (marks[i].__isFold) return true;\n  });\n\n  CodeMirror.commands.toggleFold = function(cm) {\n    cm.foldCode(cm.getCursor());\n  };\n  CodeMirror.commands.fold = function(cm) {\n    cm.foldCode(cm.getCursor(), null, \"fold\");\n  };\n  CodeMirror.commands.unfold = function(cm) {\n    cm.foldCode(cm.getCursor(), null, \"unfold\");\n  };\n  CodeMirror.commands.foldAll = function(cm) {\n    cm.operation(function() {\n      for (var i = cm.firstLine(), e = cm.lastLine(); i <= e; i++)\n        cm.foldCode(CodeMirror.Pos(i, 0), null, \"fold\");\n    });\n  };\n  CodeMirror.commands.unfoldAll = function(cm) {\n    cm.operation(function() {\n      for (var i = cm.firstLine(), e = cm.lastLine(); i <= e; i++)\n        cm.foldCode(CodeMirror.Pos(i, 0), null, \"unfold\");\n    });\n  };\n\n  CodeMirror.registerHelper(\"fold\", \"combine\", function() {\n    var funcs = Array.prototype.slice.call(arguments, 0);\n    return function(cm, start) {\n      for (var i = 0; i < funcs.length; ++i) {\n        var found = funcs[i](cm, start);\n        if (found) return found;\n      }\n    };\n  });\n\n  CodeMirror.registerHelper(\"fold\", \"auto\", function(cm, start) {\n    var helpers = cm.getHelpers(start, \"fold\");\n    for (var i = 0; i < helpers.length; i++) {\n      var cur = helpers[i](cm, start);\n      if (cur) return cur;\n    }\n  });\n\n  var defaultOptions = {\n    rangeFinder: CodeMirror.fold.auto,\n    widget: \"\\u2194\",\n    minFoldSize: 0,\n    scanUp: false,\n    clearOnEnter: true\n  };\n\n  CodeMirror.defineOption(\"foldOptions\", null);\n\n  function getOption(cm, options, name) {\n    if (options && options[name] !== undefined)\n      return options[name];\n    var editorOptions = cm.options.foldOptions;\n    if (editorOptions && editorOptions[name] !== undefined)\n      return editorOptions[name];\n    return defaultOptions[name];\n  }\n\n  CodeMirror.defineExtension(\"foldOption\", function(options, name) {\n    return getOption(this, options, name);\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./foldcode\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./foldcode\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"foldGutter\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.clearGutter(cm.state.foldGutter.options.gutter);\n      cm.state.foldGutter = null;\n      cm.off(\"gutterClick\", onGutterClick);\n      cm.off(\"change\", onChange);\n      cm.off(\"viewportChange\", onViewportChange);\n      cm.off(\"fold\", onFold);\n      cm.off(\"unfold\", onFold);\n      cm.off(\"swapDoc\", onChange);\n    }\n    if (val) {\n      cm.state.foldGutter = new State(parseOptions(val));\n      updateInViewport(cm);\n      cm.on(\"gutterClick\", onGutterClick);\n      cm.on(\"change\", onChange);\n      cm.on(\"viewportChange\", onViewportChange);\n      cm.on(\"fold\", onFold);\n      cm.on(\"unfold\", onFold);\n      cm.on(\"swapDoc\", onChange);\n    }\n  });\n\n  var Pos = CodeMirror.Pos;\n\n  function State(options) {\n    this.options = options;\n    this.from = this.to = 0;\n  }\n\n  function parseOptions(opts) {\n    if (opts === true) opts = {};\n    if (opts.gutter == null) opts.gutter = \"CodeMirror-foldgutter\";\n    if (opts.indicatorOpen == null) opts.indicatorOpen = \"CodeMirror-foldgutter-open\";\n    if (opts.indicatorFolded == null) opts.indicatorFolded = \"CodeMirror-foldgutter-folded\";\n    return opts;\n  }\n\n  function isFolded(cm, line) {\n    var marks = cm.findMarks(Pos(line, 0), Pos(line + 1, 0));\n    for (var i = 0; i < marks.length; ++i)\n      if (marks[i].__isFold && marks[i].find().from.line == line) return marks[i];\n  }\n\n  function marker(spec) {\n    if (typeof spec == \"string\") {\n      var elt = document.createElement(\"div\");\n      elt.className = spec + \" CodeMirror-guttermarker-subtle\";\n      return elt;\n    } else {\n      return spec.cloneNode(true);\n    }\n  }\n\n  function updateFoldInfo(cm, from, to) {\n    var opts = cm.state.foldGutter.options, cur = from;\n    var minSize = cm.foldOption(opts, \"minFoldSize\");\n    var func = cm.foldOption(opts, \"rangeFinder\");\n    cm.eachLine(from, to, function(line) {\n      var mark = null;\n      if (isFolded(cm, cur)) {\n        mark = marker(opts.indicatorFolded);\n      } else {\n        var pos = Pos(cur, 0);\n        var range = func && func(cm, pos);\n        if (range && range.to.line - range.from.line >= minSize)\n          mark = marker(opts.indicatorOpen);\n      }\n      cm.setGutterMarker(line, opts.gutter, mark);\n      ++cur;\n    });\n  }\n\n  function updateInViewport(cm) {\n    var vp = cm.getViewport(), state = cm.state.foldGutter;\n    if (!state) return;\n    cm.operation(function() {\n      updateFoldInfo(cm, vp.from, vp.to);\n    });\n    state.from = vp.from; state.to = vp.to;\n  }\n\n  function onGutterClick(cm, line, gutter) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    if (gutter != opts.gutter) return;\n    var folded = isFolded(cm, line);\n    if (folded) folded.clear();\n    else cm.foldCode(Pos(line, 0), opts.rangeFinder);\n  }\n\n  function onChange(cm) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    state.from = state.to = 0;\n    clearTimeout(state.changeUpdate);\n    state.changeUpdate = setTimeout(function() { updateInViewport(cm); }, opts.foldOnChangeTimeSpan || 600);\n  }\n\n  function onViewportChange(cm) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    clearTimeout(state.changeUpdate);\n    state.changeUpdate = setTimeout(function() {\n      var vp = cm.getViewport();\n      if (state.from == state.to || vp.from - state.to > 20 || state.from - vp.to > 20) {\n        updateInViewport(cm);\n      } else {\n        cm.operation(function() {\n          if (vp.from < state.from) {\n            updateFoldInfo(cm, vp.from, state.from);\n            state.from = vp.from;\n          }\n          if (vp.to > state.to) {\n            updateFoldInfo(cm, state.to, vp.to);\n            state.to = vp.to;\n          }\n        });\n      }\n    }, opts.updateViewportTimeSpan || 400);\n  }\n\n  function onFold(cm, from) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var line = from.line;\n    if (line >= state.from && line < state.to)\n      updateFoldInfo(cm, line, line + 1);\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var HINT_ELEMENT_CLASS        = \"CodeMirror-hint\";\n  var ACTIVE_HINT_ELEMENT_CLASS = \"CodeMirror-hint-active\";\n\n  // This is the old interface, kept around for now to stay\n  // backwards-compatible.\n  CodeMirror.showHint = function(cm, getHints, options) {\n    if (!getHints) return cm.showHint(options);\n    if (options && options.async) getHints.async = true;\n    var newOpts = {hint: getHints};\n    if (options) for (var prop in options) newOpts[prop] = options[prop];\n    return cm.showHint(newOpts);\n  };\n\n  CodeMirror.defineExtension(\"showHint\", function(options) {\n    options = parseOptions(this, this.getCursor(\"start\"), options);\n    var selections = this.listSelections()\n    if (selections.length > 1) return;\n    // By default, don't allow completion when something is selected.\n    // A hint function can have a `supportsSelection` property to\n    // indicate that it can handle selections.\n    if (this.somethingSelected()) {\n      if (!options.hint.supportsSelection) return;\n      // Don't try with cross-line selections\n      for (var i = 0; i < selections.length; i++)\n        if (selections[i].head.line != selections[i].anchor.line) return;\n    }\n\n    if (this.state.completionActive) this.state.completionActive.close();\n    var completion = this.state.completionActive = new Completion(this, options);\n    if (!completion.options.hint) return;\n\n    CodeMirror.signal(this, \"startCompletion\", this);\n    completion.update(true);\n  });\n\n  function Completion(cm, options) {\n    this.cm = cm;\n    this.options = options;\n    this.widget = null;\n    this.debounce = 0;\n    this.tick = 0;\n    this.startPos = this.cm.getCursor(\"start\");\n    this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;\n\n    var self = this;\n    cm.on(\"cursorActivity\", this.activityFunc = function() { self.cursorActivity(); });\n  }\n\n  var requestAnimationFrame = window.requestAnimationFrame || function(fn) {\n    return setTimeout(fn, 1000/60);\n  };\n  var cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\n\n  Completion.prototype = {\n    close: function() {\n      if (!this.active()) return;\n      this.cm.state.completionActive = null;\n      this.tick = null;\n      this.cm.off(\"cursorActivity\", this.activityFunc);\n\n      if (this.widget && this.data) CodeMirror.signal(this.data, \"close\");\n      if (this.widget) this.widget.close();\n      CodeMirror.signal(this.cm, \"endCompletion\", this.cm);\n    },\n\n    active: function() {\n      return this.cm.state.completionActive == this;\n    },\n\n    pick: function(data, i) {\n      var completion = data.list[i];\n      if (completion.hint) completion.hint(this.cm, data, completion);\n      else this.cm.replaceRange(getText(completion), completion.from || data.from,\n                                completion.to || data.to, \"complete\");\n      CodeMirror.signal(data, \"pick\", completion);\n      this.close();\n    },\n\n    cursorActivity: function() {\n      if (this.debounce) {\n        cancelAnimationFrame(this.debounce);\n        this.debounce = 0;\n      }\n\n      var pos = this.cm.getCursor(), line = this.cm.getLine(pos.line);\n      if (pos.line != this.startPos.line || line.length - pos.ch != this.startLen - this.startPos.ch ||\n          pos.ch < this.startPos.ch || this.cm.somethingSelected() ||\n          (!pos.ch || this.options.closeCharacters.test(line.charAt(pos.ch - 1)))) {\n        this.close();\n      } else {\n        var self = this;\n        this.debounce = requestAnimationFrame(function() {self.update();});\n        if (this.widget) this.widget.disable();\n      }\n    },\n\n    update: function(first) {\n      if (this.tick == null) return\n      var self = this, myTick = ++this.tick\n      fetchHints(this.options.hint, this.cm, this.options, function(data) {\n        if (self.tick == myTick) self.finishUpdate(data, first)\n      })\n    },\n\n    finishUpdate: function(data, first) {\n      if (this.data) CodeMirror.signal(this.data, \"update\");\n\n      var picked = (this.widget && this.widget.picked) || (first && this.options.completeSingle);\n      if (this.widget) this.widget.close();\n\n      this.data = data;\n\n      if (data && data.list.length) {\n        if (picked && data.list.length == 1) {\n          this.pick(data, 0);\n        } else {\n          this.widget = new Widget(this, data);\n          CodeMirror.signal(data, \"shown\");\n        }\n      }\n    }\n  };\n\n  function parseOptions(cm, pos, options) {\n    var editor = cm.options.hintOptions;\n    var out = {};\n    for (var prop in defaultOptions) out[prop] = defaultOptions[prop];\n    if (editor) for (var prop in editor)\n      if (editor[prop] !== undefined) out[prop] = editor[prop];\n    if (options) for (var prop in options)\n      if (options[prop] !== undefined) out[prop] = options[prop];\n    if (out.hint.resolve) out.hint = out.hint.resolve(cm, pos)\n    return out;\n  }\n\n  function getText(completion) {\n    if (typeof completion == \"string\") return completion;\n    else return completion.text;\n  }\n\n  function buildKeyMap(completion, handle) {\n    var baseMap = {\n      Up: function() {handle.moveFocus(-1);},\n      Down: function() {handle.moveFocus(1);},\n      PageUp: function() {handle.moveFocus(-handle.menuSize() + 1, true);},\n      PageDown: function() {handle.moveFocus(handle.menuSize() - 1, true);},\n      Home: function() {handle.setFocus(0);},\n      End: function() {handle.setFocus(handle.length - 1);},\n      Enter: handle.pick,\n      Tab: handle.pick,\n      Esc: handle.close\n    };\n    var custom = completion.options.customKeys;\n    var ourMap = custom ? {} : baseMap;\n    function addBinding(key, val) {\n      var bound;\n      if (typeof val != \"string\")\n        bound = function(cm) { return val(cm, handle); };\n      // This mechanism is deprecated\n      else if (baseMap.hasOwnProperty(val))\n        bound = baseMap[val];\n      else\n        bound = val;\n      ourMap[key] = bound;\n    }\n    if (custom)\n      for (var key in custom) if (custom.hasOwnProperty(key))\n        addBinding(key, custom[key]);\n    var extra = completion.options.extraKeys;\n    if (extra)\n      for (var key in extra) if (extra.hasOwnProperty(key))\n        addBinding(key, extra[key]);\n    return ourMap;\n  }\n\n  function getHintElement(hintsElement, el) {\n    while (el && el != hintsElement) {\n      if (el.nodeName.toUpperCase() === \"LI\" && el.parentNode == hintsElement) return el;\n      el = el.parentNode;\n    }\n  }\n\n  function Widget(completion, data) {\n    this.completion = completion;\n    this.data = data;\n    this.picked = false;\n    var widget = this, cm = completion.cm;\n\n    var hints = this.hints = document.createElement(\"ul\");\n    var theme = completion.cm.options.theme;\n    hints.className = \"CodeMirror-hints \" + theme;\n    this.selectedHint = data.selectedHint || 0;\n\n    var completions = data.list;\n    for (var i = 0; i < completions.length; ++i) {\n      var elt = hints.appendChild(document.createElement(\"li\")), cur = completions[i];\n      var className = HINT_ELEMENT_CLASS + (i != this.selectedHint ? \"\" : \" \" + ACTIVE_HINT_ELEMENT_CLASS);\n      if (cur.className != null) className = cur.className + \" \" + className;\n      elt.className = className;\n      if (cur.render) cur.render(elt, data, cur);\n      else elt.appendChild(document.createTextNode(cur.displayText || getText(cur)));\n      elt.hintId = i;\n    }\n\n    var pos = cm.cursorCoords(completion.options.alignWithWord ? data.from : null);\n    var left = pos.left, top = pos.bottom, below = true;\n    hints.style.left = left + \"px\";\n    hints.style.top = top + \"px\";\n    // If we're at the edge of the screen, then we want the menu to appear on the left of the cursor.\n    var winW = window.innerWidth || Math.max(document.body.offsetWidth, document.documentElement.offsetWidth);\n    var winH = window.innerHeight || Math.max(document.body.offsetHeight, document.documentElement.offsetHeight);\n    (completion.options.container || document.body).appendChild(hints);\n    var box = hints.getBoundingClientRect(), overlapY = box.bottom - winH;\n    var scrolls = hints.scrollHeight > hints.clientHeight + 1\n    var startScroll = cm.getScrollInfo();\n\n    if (overlapY > 0) {\n      var height = box.bottom - box.top, curTop = pos.top - (pos.bottom - box.top);\n      if (curTop - height > 0) { // Fits above cursor\n        hints.style.top = (top = pos.top - height) + \"px\";\n        below = false;\n      } else if (height > winH) {\n        hints.style.height = (winH - 5) + \"px\";\n        hints.style.top = (top = pos.bottom - box.top) + \"px\";\n        var cursor = cm.getCursor();\n        if (data.from.ch != cursor.ch) {\n          pos = cm.cursorCoords(cursor);\n          hints.style.left = (left = pos.left) + \"px\";\n          box = hints.getBoundingClientRect();\n        }\n      }\n    }\n    var overlapX = box.right - winW;\n    if (overlapX > 0) {\n      if (box.right - box.left > winW) {\n        hints.style.width = (winW - 5) + \"px\";\n        overlapX -= (box.right - box.left) - winW;\n      }\n      hints.style.left = (left = pos.left - overlapX) + \"px\";\n    }\n    if (scrolls) for (var node = hints.firstChild; node; node = node.nextSibling)\n      node.style.paddingRight = cm.display.nativeBarWidth + \"px\"\n\n    cm.addKeyMap(this.keyMap = buildKeyMap(completion, {\n      moveFocus: function(n, avoidWrap) { widget.changeActive(widget.selectedHint + n, avoidWrap); },\n      setFocus: function(n) { widget.changeActive(n); },\n      menuSize: function() { return widget.screenAmount(); },\n      length: completions.length,\n      close: function() { completion.close(); },\n      pick: function() { widget.pick(); },\n      data: data\n    }));\n\n    if (completion.options.closeOnUnfocus) {\n      var closingOnBlur;\n      cm.on(\"blur\", this.onBlur = function() { closingOnBlur = setTimeout(function() { completion.close(); }, 100); });\n      cm.on(\"focus\", this.onFocus = function() { clearTimeout(closingOnBlur); });\n    }\n\n    cm.on(\"scroll\", this.onScroll = function() {\n      var curScroll = cm.getScrollInfo(), editor = cm.getWrapperElement().getBoundingClientRect();\n      var newTop = top + startScroll.top - curScroll.top;\n      var point = newTop - (window.pageYOffset || (document.documentElement || document.body).scrollTop);\n      if (!below) point += hints.offsetHeight;\n      if (point <= editor.top || point >= editor.bottom) return completion.close();\n      hints.style.top = newTop + \"px\";\n      hints.style.left = (left + startScroll.left - curScroll.left) + \"px\";\n    });\n\n    CodeMirror.on(hints, \"dblclick\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {widget.changeActive(t.hintId); widget.pick();}\n    });\n\n    CodeMirror.on(hints, \"click\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {\n        widget.changeActive(t.hintId);\n        if (completion.options.completeOnSingleClick) widget.pick();\n      }\n    });\n\n    CodeMirror.on(hints, \"mousedown\", function() {\n      setTimeout(function(){cm.focus();}, 20);\n    });\n\n    CodeMirror.signal(data, \"select\", completions[this.selectedHint], hints.childNodes[this.selectedHint]);\n    return true;\n  }\n\n  Widget.prototype = {\n    close: function() {\n      if (this.completion.widget != this) return;\n      this.completion.widget = null;\n      this.hints.parentNode.removeChild(this.hints);\n      this.completion.cm.removeKeyMap(this.keyMap);\n\n      var cm = this.completion.cm;\n      if (this.completion.options.closeOnUnfocus) {\n        cm.off(\"blur\", this.onBlur);\n        cm.off(\"focus\", this.onFocus);\n      }\n      cm.off(\"scroll\", this.onScroll);\n    },\n\n    disable: function() {\n      this.completion.cm.removeKeyMap(this.keyMap);\n      var widget = this;\n      this.keyMap = {Enter: function() { widget.picked = true; }};\n      this.completion.cm.addKeyMap(this.keyMap);\n    },\n\n    pick: function() {\n      this.completion.pick(this.data, this.selectedHint);\n    },\n\n    changeActive: function(i, avoidWrap) {\n      if (i >= this.data.list.length)\n        i = avoidWrap ? this.data.list.length - 1 : 0;\n      else if (i < 0)\n        i = avoidWrap ? 0  : this.data.list.length - 1;\n      if (this.selectedHint == i) return;\n      var node = this.hints.childNodes[this.selectedHint];\n      if (node) node.className = node.className.replace(\" \" + ACTIVE_HINT_ELEMENT_CLASS, \"\");\n      node = this.hints.childNodes[this.selectedHint = i];\n      node.className += \" \" + ACTIVE_HINT_ELEMENT_CLASS;\n      if (node.offsetTop < this.hints.scrollTop)\n        this.hints.scrollTop = node.offsetTop - 3;\n      else if (node.offsetTop + node.offsetHeight > this.hints.scrollTop + this.hints.clientHeight)\n        this.hints.scrollTop = node.offsetTop + node.offsetHeight - this.hints.clientHeight + 3;\n      CodeMirror.signal(this.data, \"select\", this.data.list[this.selectedHint], node);\n    },\n\n    screenAmount: function() {\n      return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1;\n    }\n  };\n\n  function applicableHelpers(cm, helpers) {\n    if (!cm.somethingSelected()) return helpers\n    var result = []\n    for (var i = 0; i < helpers.length; i++)\n      if (helpers[i].supportsSelection) result.push(helpers[i])\n    return result\n  }\n\n  function fetchHints(hint, cm, options, callback) {\n    if (hint.async) {\n      hint(cm, callback, options)\n    } else {\n      var result = hint(cm, options)\n      if (result && result.then) result.then(callback)\n      else callback(result)\n    }\n  }\n\n  function resolveAutoHints(cm, pos) {\n    var helpers = cm.getHelpers(pos, \"hint\"), words\n    if (helpers.length) {\n      var resolved = function(cm, callback, options) {\n        var app = applicableHelpers(cm, helpers);\n        function run(i) {\n          if (i == app.length) return callback(null)\n          fetchHints(app[i], cm, options, function(result) {\n            if (result && result.list.length > 0) callback(result)\n            else run(i + 1)\n          })\n        }\n        run(0)\n      }\n      resolved.async = true\n      resolved.supportsSelection = true\n      return resolved\n    } else if (words = cm.getHelper(cm.getCursor(), \"hintWords\")) {\n      return function(cm) { return CodeMirror.hint.fromList(cm, {words: words}) }\n    } else if (CodeMirror.hint.anyword) {\n      return function(cm, options) { return CodeMirror.hint.anyword(cm, options) }\n    } else {\n      return function() {}\n    }\n  }\n\n  CodeMirror.registerHelper(\"hint\", \"auto\", {\n    resolve: resolveAutoHints\n  });\n\n  CodeMirror.registerHelper(\"hint\", \"fromList\", function(cm, options) {\n    var cur = cm.getCursor(), token = cm.getTokenAt(cur)\n    var term, from = CodeMirror.Pos(cur.line, token.start), to = cur\n    if (token.start < cur.ch && /\\w/.test(token.string.charAt(cur.ch - token.start - 1))) {\n      term = token.string.substr(0, cur.ch - token.start)\n    } else {\n      term = \"\"\n      from = cur\n    }\n    var found = [];\n    for (var i = 0; i < options.words.length; i++) {\n      var word = options.words[i];\n      if (word.slice(0, term.length) == term)\n        found.push(word);\n    }\n\n    if (found.length) return {list: found, from: from, to: to};\n  });\n\n  CodeMirror.commands.autocomplete = CodeMirror.showHint;\n\n  var defaultOptions = {\n    hint: CodeMirror.hint.auto,\n    completeSingle: true,\n    alignWithWord: true,\n    closeCharacters: /[\\s()\\[\\]{};:>,]/,\n    closeOnUnfocus: true,\n    completeOnSingleClick: true,\n    container: null,\n    customKeys: null,\n    extraKeys: null\n  };\n\n  CodeMirror.defineOption(\"hintOptions\", null);\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n// Define search commands. Depends on dialog.js or another\n// implementation of the openDialog method.\n\n// Replace works a little oddly -- it will do the replace on the next\n// Ctrl-G (or whatever is bound to findNext) press. You prevent a\n// replace by making sure the match is no longer selected when hitting\n// Ctrl-G.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./searchcursor\"), require(\"../dialog/dialog\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./searchcursor\", \"../dialog/dialog\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function searchOverlay(query, caseInsensitive) {\n    if (typeof query == \"string\")\n      query = new RegExp(query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\"), caseInsensitive ? \"gi\" : \"g\");\n    else if (!query.global)\n      query = new RegExp(query.source, query.ignoreCase ? \"gi\" : \"g\");\n\n    return {token: function(stream) {\n      query.lastIndex = stream.pos;\n      var match = query.exec(stream.string);\n      if (match && match.index == stream.pos) {\n        stream.pos += match[0].length || 1;\n        return \"searching\";\n      } else if (match) {\n        stream.pos = match.index;\n      } else {\n        stream.skipToEnd();\n      }\n    }};\n  }\n\n  function SearchState() {\n    this.posFrom = this.posTo = this.lastQuery = this.query = null;\n    this.overlay = null;\n  }\n\n  function getSearchState(cm) {\n    return cm.state.search || (cm.state.search = new SearchState());\n  }\n\n  function queryCaseInsensitive(query) {\n    return typeof query == \"string\" && query == query.toLowerCase();\n  }\n\n  function getSearchCursor(cm, query, pos) {\n    // Heuristic: if the query string is all lowercase, do a case insensitive search.\n    return cm.getSearchCursor(query, pos, {caseFold: queryCaseInsensitive(query), multiline: true});\n  }\n\n  function persistentDialog(cm, text, deflt, onEnter, onKeyDown) {\n    cm.openDialog(text, onEnter, {\n      value: deflt,\n      selectValueOnOpen: true,\n      closeOnEnter: false,\n      onClose: function() { clearSearch(cm); },\n      onKeyDown: onKeyDown\n    });\n  }\n\n  function dialog(cm, text, shortText, deflt, f) {\n    if (cm.openDialog) cm.openDialog(text, f, {value: deflt, selectValueOnOpen: true});\n    else f(prompt(shortText, deflt));\n  }\n\n  function confirmDialog(cm, text, shortText, fs) {\n    if (cm.openConfirm) cm.openConfirm(text, fs);\n    else if (confirm(shortText)) fs[0]();\n  }\n\n  function parseString(string) {\n    return string.replace(/\\\\(.)/g, function(_, ch) {\n      if (ch == \"n\") return \"\\n\"\n      if (ch == \"r\") return \"\\r\"\n      return ch\n    })\n  }\n\n  function parseQuery(query) {\n    var isRE = query.match(/^\\/(.*)\\/([a-z]*)$/);\n    if (isRE) {\n      try { query = new RegExp(isRE[1], isRE[2].indexOf(\"i\") == -1 ? \"\" : \"i\"); }\n      catch(e) {} // Not a regular expression after all, do a string search\n    } else {\n      query = parseString(query)\n    }\n    if (typeof query == \"string\" ? query == \"\" : query.test(\"\"))\n      query = /x^/;\n    return query;\n  }\n\n  var queryDialog =\n    '<span class=\"CodeMirror-search-label\">Search:</span> <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">(Use /re/ syntax for regexp search)</span>';\n\n  function startSearch(cm, state, query) {\n    state.queryText = query;\n    state.query = parseQuery(query);\n    cm.removeOverlay(state.overlay, queryCaseInsensitive(state.query));\n    state.overlay = searchOverlay(state.query, queryCaseInsensitive(state.query));\n    cm.addOverlay(state.overlay);\n    if (cm.showMatchesOnScrollbar) {\n      if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n      state.annotate = cm.showMatchesOnScrollbar(state.query, queryCaseInsensitive(state.query));\n    }\n  }\n\n  function doSearch(cm, rev, persistent, immediate) {\n    var state = getSearchState(cm);\n    if (state.query) return findNext(cm, rev);\n    var q = cm.getSelection() || state.lastQuery;\n    if (q instanceof RegExp && q.source == \"x^\") q = null\n    if (persistent && cm.openDialog) {\n      var hiding = null\n      var searchNext = function(query, event) {\n        CodeMirror.e_stop(event);\n        if (!query) return;\n        if (query != state.queryText) {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n        }\n        if (hiding) hiding.style.opacity = 1\n        findNext(cm, event.shiftKey, function(_, to) {\n          var dialog\n          if (to.line < 3 && document.querySelector &&\n              (dialog = cm.display.wrapper.querySelector(\".CodeMirror-dialog\")) &&\n              dialog.getBoundingClientRect().bottom - 4 > cm.cursorCoords(to, \"window\").top)\n            (hiding = dialog).style.opacity = .4\n        })\n      };\n      persistentDialog(cm, queryDialog, q, searchNext, function(event, query) {\n        var keyName = CodeMirror.keyName(event)\n        var extra = cm.getOption('extraKeys'), cmd = (extra && extra[keyName]) || CodeMirror.keyMap[cm.getOption(\"keyMap\")][keyName]\n        if (cmd == \"findNext\" || cmd == \"findPrev\" ||\n          cmd == \"findPersistentNext\" || cmd == \"findPersistentPrev\") {\n          CodeMirror.e_stop(event);\n          startSearch(cm, getSearchState(cm), query);\n          cm.execCommand(cmd);\n        } else if (cmd == \"find\" || cmd == \"findPersistent\") {\n          CodeMirror.e_stop(event);\n          searchNext(query, event);\n        }\n      });\n      if (immediate && q) {\n        startSearch(cm, state, q);\n        findNext(cm, rev);\n      }\n    } else {\n      dialog(cm, queryDialog, \"Search for:\", q, function(query) {\n        if (query && !state.query) cm.operation(function() {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n          findNext(cm, rev);\n        });\n      });\n    }\n  }\n\n  function findNext(cm, rev, callback) {cm.operation(function() {\n    var state = getSearchState(cm);\n    var cursor = getSearchCursor(cm, state.query, rev ? state.posFrom : state.posTo);\n    if (!cursor.find(rev)) {\n      cursor = getSearchCursor(cm, state.query, rev ? CodeMirror.Pos(cm.lastLine()) : CodeMirror.Pos(cm.firstLine(), 0));\n      if (!cursor.find(rev)) return;\n    }\n    cm.setSelection(cursor.from(), cursor.to());\n    cm.scrollIntoView({from: cursor.from(), to: cursor.to()}, 20);\n    state.posFrom = cursor.from(); state.posTo = cursor.to();\n    if (callback) callback(cursor.from(), cursor.to())\n  });}\n\n  function clearSearch(cm) {cm.operation(function() {\n    var state = getSearchState(cm);\n    state.lastQuery = state.query;\n    if (!state.query) return;\n    state.query = state.queryText = null;\n    cm.removeOverlay(state.overlay);\n    if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n  });}\n\n  var replaceQueryDialog =\n    ' <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">(Use /re/ syntax for regexp search)</span>';\n  var replacementQueryDialog = '<span class=\"CodeMirror-search-label\">With:</span> <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/>';\n  var doReplaceConfirm = '<span class=\"CodeMirror-search-label\">Replace?</span> <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>';\n\n  function replaceAll(cm, query, text) {\n    cm.operation(function() {\n      for (var cursor = getSearchCursor(cm, query); cursor.findNext();) {\n        if (typeof query != \"string\") {\n          var match = cm.getRange(cursor.from(), cursor.to()).match(query);\n          cursor.replace(text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n        } else cursor.replace(text);\n      }\n    });\n  }\n\n  function replace(cm, all) {\n    if (cm.getOption(\"readOnly\")) return;\n    var query = cm.getSelection() || getSearchState(cm).lastQuery;\n    var dialogText = '<span class=\"CodeMirror-search-label\">' + (all ? 'Replace all:' : 'Replace:') + '</span>';\n    dialog(cm, dialogText + replaceQueryDialog, dialogText, query, function(query) {\n      if (!query) return;\n      query = parseQuery(query);\n      dialog(cm, replacementQueryDialog, \"Replace with:\", \"\", function(text) {\n        text = parseString(text)\n        if (all) {\n          replaceAll(cm, query, text)\n        } else {\n          clearSearch(cm);\n          var cursor = getSearchCursor(cm, query, cm.getCursor(\"from\"));\n          var advance = function() {\n            var start = cursor.from(), match;\n            if (!(match = cursor.findNext())) {\n              cursor = getSearchCursor(cm, query);\n              if (!(match = cursor.findNext()) ||\n                  (start && cursor.from().line == start.line && cursor.from().ch == start.ch)) return;\n            }\n            cm.setSelection(cursor.from(), cursor.to());\n            cm.scrollIntoView({from: cursor.from(), to: cursor.to()});\n            confirmDialog(cm, doReplaceConfirm, \"Replace?\",\n                          [function() {doReplace(match);}, advance,\n                           function() {replaceAll(cm, query, text)}]);\n          };\n          var doReplace = function(match) {\n            cursor.replace(typeof query == \"string\" ? text :\n                           text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n            advance();\n          };\n          advance();\n        }\n      });\n    });\n  }\n\n  CodeMirror.commands.find = function(cm) {clearSearch(cm); doSearch(cm);};\n  CodeMirror.commands.findPersistent = function(cm) {clearSearch(cm); doSearch(cm, false, true);};\n  CodeMirror.commands.findPersistentNext = function(cm) {doSearch(cm, false, true, true);};\n  CodeMirror.commands.findPersistentPrev = function(cm) {doSearch(cm, true, true, true);};\n  CodeMirror.commands.findNext = doSearch;\n  CodeMirror.commands.findPrev = function(cm) {doSearch(cm, true);};\n  CodeMirror.commands.clearSearch = clearSearch;\n  CodeMirror.commands.replace = replace;\n  CodeMirror.commands.replaceAll = function(cm) {replace(cm, true);};\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"))\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod)\n  else // Plain browser env\n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n  var Pos = CodeMirror.Pos\n\n  function regexpFlags(regexp) {\n    var flags = regexp.flags\n    return flags != null ? flags : (regexp.ignoreCase ? \"i\" : \"\")\n      + (regexp.global ? \"g\" : \"\")\n      + (regexp.multiline ? \"m\" : \"\")\n  }\n\n  function ensureFlags(regexp, flags) {\n    var current = regexpFlags(regexp), target = current\n    for (var i = 0; i < flags.length; i++) if (target.indexOf(flags.charAt(i)) == -1)\n      target += flags.charAt(i)\n    return current == target ? regexp : new RegExp(regexp.source, target)\n  }\n\n  function maybeMultiline(regexp) {\n    return /\\\\s|\\\\n|\\n|\\\\W|\\\\D|\\[\\^/.test(regexp.source)\n  }\n\n  function searchRegexpForward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, last = doc.lastLine(); line <= last; line++, ch = 0) {\n      regexp.lastIndex = ch\n      var string = doc.getLine(line), match = regexp.exec(string)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpForwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpForward(doc, regexp, start)\n\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunk = 1\n    for (var line = start.line, last = doc.lastLine(); line <= last;) {\n      // This grows the search buffer in exponentially-sized chunks\n      // between matches, so that nearby matches are fast and don't\n      // require concatenating the whole document (in case we're\n      // searching for something that has tons of matches), but at the\n      // same time, the amount of retries is limited.\n      for (var i = 0; i < chunk; i++) {\n        if (line > last) break\n        var curLine = doc.getLine(line++)\n        string = string == null ? curLine : string + \"\\n\" + curLine\n      }\n      chunk = chunk * 2\n      regexp.lastIndex = start.ch\n      var match = regexp.exec(string)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = start.line + before.length - 1, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  function lastMatchIn(string, regexp) {\n    var cutOff = 0, match\n    for (;;) {\n      regexp.lastIndex = cutOff\n      var newMatch = regexp.exec(string)\n      if (!newMatch) return match\n      match = newMatch\n      cutOff = match.index + (match[0].length || 1)\n      if (cutOff == string.length) return match\n    }\n  }\n\n  function searchRegexpBackward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, first = doc.firstLine(); line >= first; line--, ch = -1) {\n      var string = doc.getLine(line)\n      if (ch > -1) string = string.slice(0, ch)\n      var match = lastMatchIn(string, regexp)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpBackwardMultiline(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunk = 1\n    for (var line = start.line, first = doc.firstLine(); line >= first;) {\n      for (var i = 0; i < chunk; i++) {\n        var curLine = doc.getLine(line--)\n        string = string == null ? curLine.slice(0, start.ch) : curLine + \"\\n\" + string\n      }\n      chunk *= 2\n\n      var match = lastMatchIn(string, regexp)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = line + before.length, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  var doFold, noFold\n  if (String.prototype.normalize) {\n    doFold = function(str) { return str.normalize(\"NFD\").toLowerCase() }\n    noFold = function(str) { return str.normalize(\"NFD\") }\n  } else {\n    doFold = function(str) { return str.toLowerCase() }\n    noFold = function(str) { return str }\n  }\n\n  // Maps a position in a case-folded line back to a position in the original line\n  // (compensating for codepoints increasing in number during folding)\n  function adjustPos(orig, folded, pos, foldFunc) {\n    if (orig.length == folded.length) return pos\n    for (var min = 0, max = pos + Math.max(0, orig.length - folded.length);;) {\n      if (min == max) return min\n      var mid = (min + max) >> 1\n      var len = foldFunc(orig.slice(0, mid)).length\n      if (len == pos) return mid\n      else if (len > pos) max = mid\n      else min = mid + 1\n    }\n  }\n\n  function searchStringForward(doc, query, start, caseFold) {\n    // Empty string would match anything and never progress, so we\n    // define it to match nothing instead.\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, last = doc.lastLine() + 1 - lines.length; line <= last; line++, ch = 0) {\n      var orig = doc.getLine(line).slice(ch), string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.indexOf(lines[0])\n        if (found == -1) continue search\n        var start = adjustPos(orig, string, found, fold) + ch\n        return {from: Pos(line, adjustPos(orig, string, found, fold) + ch),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold) + ch)}\n      } else {\n        var cutFrom = string.length - lines[0].length\n        if (string.slice(cutFrom) != lines[0]) continue search\n        for (var i = 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(line + i)) != lines[i]) continue search\n        var end = doc.getLine(line + lines.length - 1), endString = fold(end), lastLine = lines[lines.length - 1]\n        if (endString.slice(0, lastLine.length) != lastLine) continue search\n        return {from: Pos(line, adjustPos(orig, string, cutFrom, fold) + ch),\n                to: Pos(line + lines.length - 1, adjustPos(end, endString, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function searchStringBackward(doc, query, start, caseFold) {\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, first = doc.firstLine() - 1 + lines.length; line >= first; line--, ch = -1) {\n      var orig = doc.getLine(line)\n      if (ch > -1) orig = orig.slice(0, ch)\n      var string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.lastIndexOf(lines[0])\n        if (found == -1) continue search\n        return {from: Pos(line, adjustPos(orig, string, found, fold)),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold))}\n      } else {\n        var lastLine = lines[lines.length - 1]\n        if (string.slice(0, lastLine.length) != lastLine) continue search\n        for (var i = 1, start = line - lines.length + 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(start + i)) != lines[i]) continue search\n        var top = doc.getLine(line + 1 - lines.length), topString = fold(top)\n        if (topString.slice(topString.length - lines[0].length) != lines[0]) continue search\n        return {from: Pos(line + 1 - lines.length, adjustPos(top, topString, top.length - lines[0].length, fold)),\n                to: Pos(line, adjustPos(orig, string, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function SearchCursor(doc, query, pos, options) {\n    this.atOccurrence = false\n    this.doc = doc\n    pos = pos ? doc.clipPos(pos) : Pos(0, 0)\n    this.pos = {from: pos, to: pos}\n\n    var caseFold\n    if (typeof options == \"object\") {\n      caseFold = options.caseFold\n    } else { // Backwards compat for when caseFold was the 4th argument\n      caseFold = options\n      options = null\n    }\n\n    if (typeof query == \"string\") {\n      if (caseFold == null) caseFold = false\n      this.matches = function(reverse, pos) {\n        return (reverse ? searchStringBackward : searchStringForward)(doc, query, pos, caseFold)\n      }\n    } else {\n      query = ensureFlags(query, \"gm\")\n      if (!options || options.multiline !== false)\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackwardMultiline : searchRegexpForwardMultiline)(doc, query, pos)\n        }\n      else\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackward : searchRegexpForward)(doc, query, pos)\n        }\n    }\n  }\n\n  SearchCursor.prototype = {\n    findNext: function() {return this.find(false)},\n    findPrevious: function() {return this.find(true)},\n\n    find: function(reverse) {\n      var result = this.matches(reverse, this.doc.clipPos(reverse ? this.pos.from : this.pos.to))\n\n      // Implements weird auto-growing behavior on null-matches for\n      // backwards-compatiblity with the vim code (unfortunately)\n      while (result && CodeMirror.cmpPos(result.from, result.to) == 0) {\n        if (reverse) {\n          if (result.from.ch) result.from = Pos(result.from.line, result.from.ch - 1)\n          else if (result.from.line == this.doc.firstLine()) result = null\n          else result = this.matches(reverse, this.doc.clipPos(Pos(result.from.line - 1)))\n        } else {\n          if (result.to.ch < this.doc.getLine(result.to.line).length) result.to = Pos(result.to.line, result.to.ch + 1)\n          else if (result.to.line == this.doc.lastLine()) result = null\n          else result = this.matches(reverse, Pos(result.to.line + 1, 0))\n        }\n      }\n\n      if (result) {\n        this.pos = result\n        this.atOccurrence = true\n        return this.pos.match || true\n      } else {\n        var end = Pos(reverse ? this.doc.firstLine() : this.doc.lastLine() + 1, 0)\n        this.pos = {from: end, to: end}\n        return this.atOccurrence = false\n      }\n    },\n\n    from: function() {if (this.atOccurrence) return this.pos.from},\n    to: function() {if (this.atOccurrence) return this.pos.to},\n\n    replace: function(newText, origin) {\n      if (!this.atOccurrence) return\n      var lines = CodeMirror.splitLines(newText)\n      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin)\n      this.pos.to = Pos(this.pos.from.line + lines.length - 1,\n                        lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0))\n    }\n  }\n\n  CodeMirror.defineExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this.doc, query, pos, caseFold)\n  })\n  CodeMirror.defineDocExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this, query, pos, caseFold)\n  })\n\n  CodeMirror.defineExtension(\"selectMatches\", function(query, caseFold) {\n    var ranges = []\n    var cur = this.getSearchCursor(query, this.getCursor(\"from\"), caseFold)\n    while (cur.findNext()) {\n      if (CodeMirror.cmpPos(cur.to(), this.getCursor(\"to\")) > 0) break\n      ranges.push({anchor: cur.from(), head: cur.to()})\n    }\n    if (ranges.length)\n      this.setSelections(ranges, 0)\n  })\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n// This is CodeMirror (http://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n// Kludges for bugs and behavior differences that can't be feature\n// detected are enabled based on userAgent etc sniffing.\nvar userAgent = navigator.userAgent;\nvar platform = navigator.platform;\n\nvar gecko = /gecko\\/\\d/i.test(userAgent);\nvar ie_upto10 = /MSIE \\d/.test(userAgent);\nvar ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\nvar edge = /Edge\\/(\\d+)/.exec(userAgent);\nvar ie = ie_upto10 || ie_11up || edge;\nvar ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\nvar webkit = !edge && /WebKit\\//.test(userAgent);\nvar qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\nvar chrome = !edge && /Chrome\\//.test(userAgent);\nvar presto = /Opera\\//.test(userAgent);\nvar safari = /Apple Computer/.test(navigator.vendor);\nvar mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\nvar phantom = /PhantomJS/.test(userAgent);\n\nvar ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\nvar android = /Android/.test(userAgent);\n// This is woefully incomplete. Suggestions for alternative methods welcome.\nvar mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\nvar mac = ios || /Mac/.test(platform);\nvar chromeOS = /\\bCrOS\\b/.test(userAgent);\nvar windows = /win/i.test(platform);\n\nvar presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\nif (presto_version) { presto_version = Number(presto_version[1]); }\nif (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n// Some browsers use the wrong event properties to signal cmd/ctrl on OS X\nvar flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\nvar captureRightClick = gecko || (ie && ie_version >= 9);\n\nfunction classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\nvar rmClass = function(node, cls) {\n  var current = node.className;\n  var match = classTest(cls).exec(current);\n  if (match) {\n    var after = current.slice(match.index + match[0].length);\n    node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n  }\n};\n\nfunction removeChildren(e) {\n  for (var count = e.childNodes.length; count > 0; --count)\n    { e.removeChild(e.firstChild); }\n  return e\n}\n\nfunction removeChildrenAndAdd(parent, e) {\n  return removeChildren(parent).appendChild(e)\n}\n\nfunction elt(tag, content, className, style) {\n  var e = document.createElement(tag);\n  if (className) { e.className = className; }\n  if (style) { e.style.cssText = style; }\n  if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n  else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n  return e\n}\n// wrapper for elt, which removes the elt from the accessibility tree\nfunction eltP(tag, content, className, style) {\n  var e = elt(tag, content, className, style);\n  e.setAttribute(\"role\", \"presentation\");\n  return e\n}\n\nvar range;\nif (document.createRange) { range = function(node, start, end, endNode) {\n  var r = document.createRange();\n  r.setEnd(endNode || node, end);\n  r.setStart(node, start);\n  return r\n}; }\nelse { range = function(node, start, end) {\n  var r = document.body.createTextRange();\n  try { r.moveToElementText(node.parentNode); }\n  catch(e) { return r }\n  r.collapse(true);\n  r.moveEnd(\"character\", end);\n  r.moveStart(\"character\", start);\n  return r\n}; }\n\nfunction contains(parent, child) {\n  if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n    { child = child.parentNode; }\n  if (parent.contains)\n    { return parent.contains(child) }\n  do {\n    if (child.nodeType == 11) { child = child.host; }\n    if (child == parent) { return true }\n  } while (child = child.parentNode)\n}\n\nfunction activeElt() {\n  // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n  // IE < 10 will throw when accessed while the page is loading or in an iframe.\n  // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n  var activeElement;\n  try {\n    activeElement = document.activeElement;\n  } catch(e) {\n    activeElement = document.body || null;\n  }\n  while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n    { activeElement = activeElement.shadowRoot.activeElement; }\n  return activeElement\n}\n\nfunction addClass(node, cls) {\n  var current = node.className;\n  if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n}\nfunction joinClasses(a, b) {\n  var as = a.split(\" \");\n  for (var i = 0; i < as.length; i++)\n    { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n  return b\n}\n\nvar selectInput = function(node) { node.select(); };\nif (ios) // Mobile Safari apparently has a bug where select() is broken.\n  { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\nelse if (ie) // Suppress mysterious IE10 errors\n  { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\nfunction bind(f) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return function(){return f.apply(null, args)}\n}\n\nfunction copyObj(obj, target, overwrite) {\n  if (!target) { target = {}; }\n  for (var prop in obj)\n    { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n      { target[prop] = obj[prop]; } }\n  return target\n}\n\n// Counts the column offset in a string, taking tabs into account.\n// Used mostly to find indentation.\nfunction countColumn(string, end, tabSize, startIndex, startValue) {\n  if (end == null) {\n    end = string.search(/[^\\s\\u00a0]/);\n    if (end == -1) { end = string.length; }\n  }\n  for (var i = startIndex || 0, n = startValue || 0;;) {\n    var nextTab = string.indexOf(\"\\t\", i);\n    if (nextTab < 0 || nextTab >= end)\n      { return n + (end - i) }\n    n += nextTab - i;\n    n += tabSize - (n % tabSize);\n    i = nextTab + 1;\n  }\n}\n\nvar Delayed = function() {this.id = null;};\nDelayed.prototype.set = function (ms, f) {\n  clearTimeout(this.id);\n  this.id = setTimeout(f, ms);\n};\n\nfunction indexOf(array, elt) {\n  for (var i = 0; i < array.length; ++i)\n    { if (array[i] == elt) { return i } }\n  return -1\n}\n\n// Number of pixels added to scroller and sizer to hide scrollbar\nvar scrollerGap = 30;\n\n// Returned or thrown by various protocols to signal 'I'm not\n// handling this'.\nvar Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n// Reused option objects for setSelection & friends\nvar sel_dontScroll = {scroll: false};\nvar sel_mouse = {origin: \"*mouse\"};\nvar sel_move = {origin: \"+move\"};\n\n// The inverse of countColumn -- find the offset that corresponds to\n// a particular column.\nfunction findColumn(string, goal, tabSize) {\n  for (var pos = 0, col = 0;;) {\n    var nextTab = string.indexOf(\"\\t\", pos);\n    if (nextTab == -1) { nextTab = string.length; }\n    var skipped = nextTab - pos;\n    if (nextTab == string.length || col + skipped >= goal)\n      { return pos + Math.min(skipped, goal - col) }\n    col += nextTab - pos;\n    col += tabSize - (col % tabSize);\n    pos = nextTab + 1;\n    if (col >= goal) { return pos }\n  }\n}\n\nvar spaceStrs = [\"\"];\nfunction spaceStr(n) {\n  while (spaceStrs.length <= n)\n    { spaceStrs.push(lst(spaceStrs) + \" \"); }\n  return spaceStrs[n]\n}\n\nfunction lst(arr) { return arr[arr.length-1] }\n\nfunction map(array, f) {\n  var out = [];\n  for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n  return out\n}\n\nfunction insertSorted(array, value, score) {\n  var pos = 0, priority = score(value);\n  while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n  array.splice(pos, 0, value);\n}\n\nfunction nothing() {}\n\nfunction createObj(base, props) {\n  var inst;\n  if (Object.create) {\n    inst = Object.create(base);\n  } else {\n    nothing.prototype = base;\n    inst = new nothing();\n  }\n  if (props) { copyObj(props, inst); }\n  return inst\n}\n\nvar nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\nfunction isWordCharBasic(ch) {\n  return /\\w/.test(ch) || ch > \"\\x80\" &&\n    (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n}\nfunction isWordChar(ch, helper) {\n  if (!helper) { return isWordCharBasic(ch) }\n  if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n  return helper.test(ch)\n}\n\nfunction isEmpty(obj) {\n  for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n  return true\n}\n\n// Extending unicode characters. A series of a non-extending char +\n// any number of extending chars is treated as a single unit as far\n// as editing and measuring is concerned. This is not fully correct,\n// since some scripts/fonts/browsers also treat other configurations\n// of code points as a group.\nvar extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\nfunction isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n// Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\nfunction skipExtendingChars(str, pos, dir) {\n  while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n  return pos\n}\n\n// Returns the value from the range [`from`; `to`] that satisfies\n// `pred` and is closest to `from`. Assumes that at least `to`\n// satisfies `pred`. Supports `from` being greater than `to`.\nfunction findFirst(pred, from, to) {\n  // At any point we are certain `to` satisfies `pred`, don't know\n  // whether `from` does.\n  var dir = from > to ? -1 : 1;\n  for (;;) {\n    if (from == to) { return from }\n    var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n    if (mid == from) { return pred(mid) ? from : to }\n    if (pred(mid)) { to = mid; }\n    else { from = mid + dir; }\n  }\n}\n\n// The display handles the DOM integration, both for input reading\n// and content drawing. It holds references to DOM nodes and\n// display-related state.\n\nfunction Display(place, doc, input) {\n  var d = this;\n  this.input = input;\n\n  // Covers bottom-right square when both scrollbars are present.\n  d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n  d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n  // Covers bottom of gutter when coverGutterNextToScrollbar is on\n  // and h scrollbar is present.\n  d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n  d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n  // Will contain the actual code, positioned to cover the viewport.\n  d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n  // Elements are added to these to represent selection and cursors.\n  d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n  d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n  // A visibility: hidden element used to find the size of things.\n  d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n  // When lines outside of the viewport are measured, they are drawn in this.\n  d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n  // Wraps everything that needs to exist inside the vertically-padded coordinate system\n  d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                    null, \"position: relative; outline: none\");\n  var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n  // Moved around its parent to cover visible view.\n  d.mover = elt(\"div\", [lines], null, \"position: relative\");\n  // Set to the height of the document, allowing scrolling.\n  d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n  d.sizerWidth = null;\n  // Behavior of elts with overflow: auto and padding is\n  // inconsistent across browsers. This is used to ensure the\n  // scrollable area is big enough.\n  d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n  // Will contain the gutters, if any.\n  d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n  d.lineGutter = null;\n  // Actual scrollable element.\n  d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n  d.scroller.setAttribute(\"tabIndex\", \"-1\");\n  // The element in which the editor lives.\n  d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n  // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n  if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n  if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n  if (place) {\n    if (place.appendChild) { place.appendChild(d.wrapper); }\n    else { place(d.wrapper); }\n  }\n\n  // Current rendered range (may be bigger than the view window).\n  d.viewFrom = d.viewTo = doc.first;\n  d.reportedViewFrom = d.reportedViewTo = doc.first;\n  // Information about the rendered lines.\n  d.view = [];\n  d.renderedView = null;\n  // Holds info about a single rendered line when it was rendered\n  // for measurement, while not in view.\n  d.externalMeasured = null;\n  // Empty space (in pixels) above the view\n  d.viewOffset = 0;\n  d.lastWrapHeight = d.lastWrapWidth = 0;\n  d.updateLineNumbers = null;\n\n  d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n  d.scrollbarsClipped = false;\n\n  // Used to only resize the line number gutter when necessary (when\n  // the amount of lines crosses a boundary that makes its width change)\n  d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n  // Set to true when a non-horizontal-scrolling line widget is\n  // added. As an optimization, line widget aligning is skipped when\n  // this is false.\n  d.alignWidgets = false;\n\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n  // Tracks the maximum line length so that the horizontal scrollbar\n  // can be kept static when scrolling.\n  d.maxLine = null;\n  d.maxLineLength = 0;\n  d.maxLineChanged = false;\n\n  // Used for measuring wheel scrolling granularity\n  d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n  // True when shift is held down.\n  d.shift = false;\n\n  // Used to track whether anything happened since the context menu\n  // was opened.\n  d.selForContextMenu = null;\n\n  d.activeTouch = null;\n\n  input.init(d);\n}\n\n// Find the line object corresponding to the given line number.\nfunction getLine(doc, n) {\n  n -= doc.first;\n  if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n  var chunk = doc;\n  while (!chunk.lines) {\n    for (var i = 0;; ++i) {\n      var child = chunk.children[i], sz = child.chunkSize();\n      if (n < sz) { chunk = child; break }\n      n -= sz;\n    }\n  }\n  return chunk.lines[n]\n}\n\n// Get the part of a document between two positions, as an array of\n// strings.\nfunction getBetween(doc, start, end) {\n  var out = [], n = start.line;\n  doc.iter(start.line, end.line + 1, function (line) {\n    var text = line.text;\n    if (n == end.line) { text = text.slice(0, end.ch); }\n    if (n == start.line) { text = text.slice(start.ch); }\n    out.push(text);\n    ++n;\n  });\n  return out\n}\n// Get the lines between from and to, as array of strings.\nfunction getLines(doc, from, to) {\n  var out = [];\n  doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n  return out\n}\n\n// Update the height of a line, propagating the height change\n// upwards to parent nodes.\nfunction updateLineHeight(line, height) {\n  var diff = height - line.height;\n  if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n}\n\n// Given a line object, find its line number by walking up through\n// its parent links.\nfunction lineNo(line) {\n  if (line.parent == null) { return null }\n  var cur = line.parent, no = indexOf(cur.lines, line);\n  for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n    for (var i = 0;; ++i) {\n      if (chunk.children[i] == cur) { break }\n      no += chunk.children[i].chunkSize();\n    }\n  }\n  return no + cur.first\n}\n\n// Find the line at the given vertical position, using the height\n// information in the document tree.\nfunction lineAtHeight(chunk, h) {\n  var n = chunk.first;\n  outer: do {\n    for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n      var child = chunk.children[i$1], ch = child.height;\n      if (h < ch) { chunk = child; continue outer }\n      h -= ch;\n      n += child.chunkSize();\n    }\n    return n\n  } while (!chunk.lines)\n  var i = 0;\n  for (; i < chunk.lines.length; ++i) {\n    var line = chunk.lines[i], lh = line.height;\n    if (h < lh) { break }\n    h -= lh;\n  }\n  return n + i\n}\n\nfunction isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\nfunction lineNumberFor(options, i) {\n  return String(options.lineNumberFormatter(i + options.firstLineNumber))\n}\n\n// A Pos instance represents a position within the text.\nfunction Pos(line, ch, sticky) {\n  if ( sticky === void 0 ) sticky = null;\n\n  if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n  this.line = line;\n  this.ch = ch;\n  this.sticky = sticky;\n}\n\n// Compare two positions, return 0 if they are the same, a negative\n// number when a is less, and a positive number otherwise.\nfunction cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\nfunction equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\nfunction copyPos(x) {return Pos(x.line, x.ch)}\nfunction maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\nfunction minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n// Most of the external API clips given positions to make sure they\n// actually exist within the document.\nfunction clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\nfunction clipPos(doc, pos) {\n  if (pos.line < doc.first) { return Pos(doc.first, 0) }\n  var last = doc.first + doc.size - 1;\n  if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n  return clipToLen(pos, getLine(doc, pos.line).text.length)\n}\nfunction clipToLen(pos, linelen) {\n  var ch = pos.ch;\n  if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n  else if (ch < 0) { return Pos(pos.line, 0) }\n  else { return pos }\n}\nfunction clipPosArray(doc, array) {\n  var out = [];\n  for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n  return out\n}\n\n// Optimize some code when these features are not used.\nvar sawReadOnlySpans = false;\nvar sawCollapsedSpans = false;\n\nfunction seeReadOnlySpans() {\n  sawReadOnlySpans = true;\n}\n\nfunction seeCollapsedSpans() {\n  sawCollapsedSpans = true;\n}\n\n// TEXTMARKER SPANS\n\nfunction MarkedSpan(marker, from, to) {\n  this.marker = marker;\n  this.from = from; this.to = to;\n}\n\n// Search an array of spans for a span matching the given marker.\nfunction getMarkedSpanFor(spans, marker) {\n  if (spans) { for (var i = 0; i < spans.length; ++i) {\n    var span = spans[i];\n    if (span.marker == marker) { return span }\n  } }\n}\n// Remove a span from an array, returning undefined if no spans are\n// left (we don't store arrays for lines without spans).\nfunction removeMarkedSpan(spans, span) {\n  var r;\n  for (var i = 0; i < spans.length; ++i)\n    { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n  return r\n}\n// Add a span to a line.\nfunction addMarkedSpan(line, span) {\n  line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n  span.marker.attachLine(line);\n}\n\n// Used for the algorithm that adjusts markers for a change in the\n// document. These functions cut an array of spans at a given\n// character position, returning an array of remaining chunks (or\n// undefined if nothing remains).\nfunction markedSpansBefore(old, startCh, isInsert) {\n  var nw;\n  if (old) { for (var i = 0; i < old.length; ++i) {\n    var span = old[i], marker = span.marker;\n    var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n    if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh);(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n    }\n  } }\n  return nw\n}\nfunction markedSpansAfter(old, endCh, isInsert) {\n  var nw;\n  if (old) { for (var i = 0; i < old.length; ++i) {\n    var span = old[i], marker = span.marker;\n    var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n    if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh);(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                            span.to == null ? null : span.to - endCh));\n    }\n  } }\n  return nw\n}\n\n// Given a change object, compute the new set of marker spans that\n// cover the line in which the change took place. Removes spans\n// entirely within the change, reconnects spans belonging to the\n// same marker that appear on both sides of the change, and cuts off\n// spans partially within the change. Returns an array of span\n// arrays with one element for each line in (after) the change.\nfunction stretchSpansOverChange(doc, change) {\n  if (change.full) { return null }\n  var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n  var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n  if (!oldFirst && !oldLast) { return null }\n\n  var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n  // Get the spans that 'stick out' on both sides\n  var first = markedSpansBefore(oldFirst, startCh, isInsert);\n  var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n  // Next, merge those two ends\n  var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n  if (first) {\n    // Fix up .to properties of first\n    for (var i = 0; i < first.length; ++i) {\n      var span = first[i];\n      if (span.to == null) {\n        var found = getMarkedSpanFor(last, span.marker);\n        if (!found) { span.to = startCh; }\n        else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n      }\n    }\n  }\n  if (last) {\n    // Fix up .from in last (or move them into first in case of sameLine)\n    for (var i$1 = 0; i$1 < last.length; ++i$1) {\n      var span$1 = last[i$1];\n      if (span$1.to != null) { span$1.to += offset; }\n      if (span$1.from == null) {\n        var found$1 = getMarkedSpanFor(first, span$1.marker);\n        if (!found$1) {\n          span$1.from = offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      } else {\n        span$1.from += offset;\n        if (sameLine) { (first || (first = [])).push(span$1); }\n      }\n    }\n  }\n  // Make sure we didn't create any zero-length spans\n  if (first) { first = clearEmptySpans(first); }\n  if (last && last != first) { last = clearEmptySpans(last); }\n\n  var newMarkers = [first];\n  if (!sameLine) {\n    // Fill gap with whole-line-spans\n    var gap = change.text.length - 2, gapMarkers;\n    if (gap > 0 && first)\n      { for (var i$2 = 0; i$2 < first.length; ++i$2)\n        { if (first[i$2].to == null)\n          { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n    for (var i$3 = 0; i$3 < gap; ++i$3)\n      { newMarkers.push(gapMarkers); }\n    newMarkers.push(last);\n  }\n  return newMarkers\n}\n\n// Remove spans that are empty and don't have a clearWhenEmpty\n// option of false.\nfunction clearEmptySpans(spans) {\n  for (var i = 0; i < spans.length; ++i) {\n    var span = spans[i];\n    if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n      { spans.splice(i--, 1); }\n  }\n  if (!spans.length) { return null }\n  return spans\n}\n\n// Used to 'clip' out readOnly ranges when making a change.\nfunction removeReadOnlyRanges(doc, from, to) {\n  var markers = null;\n  doc.iter(from.line, to.line + 1, function (line) {\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var mark = line.markedSpans[i].marker;\n      if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n        { (markers || (markers = [])).push(mark); }\n    } }\n  });\n  if (!markers) { return null }\n  var parts = [{from: from, to: to}];\n  for (var i = 0; i < markers.length; ++i) {\n    var mk = markers[i], m = mk.find(0);\n    for (var j = 0; j < parts.length; ++j) {\n      var p = parts[j];\n      if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n      var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n      if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n        { newParts.push({from: p.from, to: m.from}); }\n      if (dto > 0 || !mk.inclusiveRight && !dto)\n        { newParts.push({from: m.to, to: p.to}); }\n      parts.splice.apply(parts, newParts);\n      j += newParts.length - 3;\n    }\n  }\n  return parts\n}\n\n// Connect or disconnect spans from a line.\nfunction detachMarkedSpans(line) {\n  var spans = line.markedSpans;\n  if (!spans) { return }\n  for (var i = 0; i < spans.length; ++i)\n    { spans[i].marker.detachLine(line); }\n  line.markedSpans = null;\n}\nfunction attachMarkedSpans(line, spans) {\n  if (!spans) { return }\n  for (var i = 0; i < spans.length; ++i)\n    { spans[i].marker.attachLine(line); }\n  line.markedSpans = spans;\n}\n\n// Helpers used when computing which overlapping collapsed span\n// counts as the larger one.\nfunction extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\nfunction extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n// Returns a number indicating which of two overlapping collapsed\n// spans is larger (and thus includes the other). Falls back to\n// comparing ids when the spans cover exactly the same range.\nfunction compareCollapsedMarkers(a, b) {\n  var lenDiff = a.lines.length - b.lines.length;\n  if (lenDiff != 0) { return lenDiff }\n  var aPos = a.find(), bPos = b.find();\n  var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n  if (fromCmp) { return -fromCmp }\n  var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n  if (toCmp) { return toCmp }\n  return b.id - a.id\n}\n\n// Find out whether a line ends or starts in a collapsed span. If\n// so, return the marker for that span.\nfunction collapsedSpanAtSide(line, start) {\n  var sps = sawCollapsedSpans && line.markedSpans, found;\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n    sp = sps[i];\n    if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n        (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n      { found = sp.marker; }\n  } }\n  return found\n}\nfunction collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\nfunction collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\nfunction collapsedSpanAround(line, ch) {\n  var sps = sawCollapsedSpans && line.markedSpans, found;\n  if (sps) { for (var i = 0; i < sps.length; ++i) {\n    var sp = sps[i];\n    if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n        (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n  } }\n  return found\n}\n\n// Test whether there exists a collapsed span that partially\n// overlaps (covers the start or end, but not both) of a new span.\n// Such overlap is not allowed.\nfunction conflictingCollapsedRange(doc, lineNo$$1, from, to, marker) {\n  var line = getLine(doc, lineNo$$1);\n  var sps = sawCollapsedSpans && line.markedSpans;\n  if (sps) { for (var i = 0; i < sps.length; ++i) {\n    var sp = sps[i];\n    if (!sp.marker.collapsed) { continue }\n    var found = sp.marker.find(0);\n    var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n    var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n    if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n    if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n        fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n      { return true }\n  } }\n}\n\n// A visual line is a line as drawn on the screen. Folding, for\n// example, can cause multiple logical lines to appear on the same\n// visual line. This finds the start of the visual line that the\n// given line is part of (usually that is the line itself).\nfunction visualLine(line) {\n  var merged;\n  while (merged = collapsedSpanAtStart(line))\n    { line = merged.find(-1, true).line; }\n  return line\n}\n\nfunction visualLineEnd(line) {\n  var merged;\n  while (merged = collapsedSpanAtEnd(line))\n    { line = merged.find(1, true).line; }\n  return line\n}\n\n// Returns an array of logical lines that continue the visual line\n// started by the argument, or undefined if there are no such lines.\nfunction visualLineContinued(line) {\n  var merged, lines;\n  while (merged = collapsedSpanAtEnd(line)) {\n    line = merged.find(1, true).line\n    ;(lines || (lines = [])).push(line);\n  }\n  return lines\n}\n\n// Get the line number of the start of the visual line that the\n// given line number is part of.\nfunction visualLineNo(doc, lineN) {\n  var line = getLine(doc, lineN), vis = visualLine(line);\n  if (line == vis) { return lineN }\n  return lineNo(vis)\n}\n\n// Get the line number of the start of the next visual line after\n// the given line.\nfunction visualLineEndNo(doc, lineN) {\n  if (lineN > doc.lastLine()) { return lineN }\n  var line = getLine(doc, lineN), merged;\n  if (!lineIsHidden(doc, line)) { return lineN }\n  while (merged = collapsedSpanAtEnd(line))\n    { line = merged.find(1, true).line; }\n  return lineNo(line) + 1\n}\n\n// Compute whether a line is hidden. Lines count as hidden when they\n// are part of a visual line that starts with another line, or when\n// they are entirely covered by collapsed, non-widget span.\nfunction lineIsHidden(doc, line) {\n  var sps = sawCollapsedSpans && line.markedSpans;\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n    sp = sps[i];\n    if (!sp.marker.collapsed) { continue }\n    if (sp.from == null) { return true }\n    if (sp.marker.widgetNode) { continue }\n    if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n      { return true }\n  } }\n}\nfunction lineIsHiddenInner(doc, line, span) {\n  if (span.to == null) {\n    var end = span.marker.find(1, true);\n    return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n  }\n  if (span.marker.inclusiveRight && span.to == line.text.length)\n    { return true }\n  for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n    sp = line.markedSpans[i];\n    if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n        (sp.to == null || sp.to != span.from) &&\n        (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n        lineIsHiddenInner(doc, line, sp)) { return true }\n  }\n}\n\n// Find the height above the given line.\nfunction heightAtLine(lineObj) {\n  lineObj = visualLine(lineObj);\n\n  var h = 0, chunk = lineObj.parent;\n  for (var i = 0; i < chunk.lines.length; ++i) {\n    var line = chunk.lines[i];\n    if (line == lineObj) { break }\n    else { h += line.height; }\n  }\n  for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n    for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n      var cur = p.children[i$1];\n      if (cur == chunk) { break }\n      else { h += cur.height; }\n    }\n  }\n  return h\n}\n\n// Compute the character length of a line, taking into account\n// collapsed ranges (see markText) that might hide parts, and join\n// other lines onto it.\nfunction lineLength(line) {\n  if (line.height == 0) { return 0 }\n  var len = line.text.length, merged, cur = line;\n  while (merged = collapsedSpanAtStart(cur)) {\n    var found = merged.find(0, true);\n    cur = found.from.line;\n    len += found.from.ch - found.to.ch;\n  }\n  cur = line;\n  while (merged = collapsedSpanAtEnd(cur)) {\n    var found$1 = merged.find(0, true);\n    len -= cur.text.length - found$1.from.ch;\n    cur = found$1.to.line;\n    len += cur.text.length - found$1.to.ch;\n  }\n  return len\n}\n\n// Find the longest line in the document.\nfunction findMaxLine(cm) {\n  var d = cm.display, doc = cm.doc;\n  d.maxLine = getLine(doc, doc.first);\n  d.maxLineLength = lineLength(d.maxLine);\n  d.maxLineChanged = true;\n  doc.iter(function (line) {\n    var len = lineLength(line);\n    if (len > d.maxLineLength) {\n      d.maxLineLength = len;\n      d.maxLine = line;\n    }\n  });\n}\n\n// BIDI HELPERS\n\nfunction iterateBidiSections(order, from, to, f) {\n  if (!order) { return f(from, to, \"ltr\", 0) }\n  var found = false;\n  for (var i = 0; i < order.length; ++i) {\n    var part = order[i];\n    if (part.from < to && part.to > from || from == to && part.to == from) {\n      f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n      found = true;\n    }\n  }\n  if (!found) { f(from, to, \"ltr\"); }\n}\n\nvar bidiOther = null;\nfunction getBidiPartAt(order, ch, sticky) {\n  var found;\n  bidiOther = null;\n  for (var i = 0; i < order.length; ++i) {\n    var cur = order[i];\n    if (cur.from < ch && cur.to > ch) { return i }\n    if (cur.to == ch) {\n      if (cur.from != cur.to && sticky == \"before\") { found = i; }\n      else { bidiOther = i; }\n    }\n    if (cur.from == ch) {\n      if (cur.from != cur.to && sticky != \"before\") { found = i; }\n      else { bidiOther = i; }\n    }\n  }\n  return found != null ? found : bidiOther\n}\n\n// Bidirectional ordering algorithm\n// See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n// that this (partially) implements.\n\n// One-char codes used for character types:\n// L (L):   Left-to-Right\n// R (R):   Right-to-Left\n// r (AL):  Right-to-Left Arabic\n// 1 (EN):  European Number\n// + (ES):  European Number Separator\n// % (ET):  European Number Terminator\n// n (AN):  Arabic Number\n// , (CS):  Common Number Separator\n// m (NSM): Non-Spacing Mark\n// b (BN):  Boundary Neutral\n// s (B):   Paragraph Separator\n// t (S):   Segment Separator\n// w (WS):  Whitespace\n// N (ON):  Other Neutrals\n\n// Returns null if characters are ordered as they appear\n// (left-to-right), or an array of sections ({from, to, level}\n// objects) in the order in which they occur visually.\nvar bidiOrdering = (function() {\n  // Character types for codepoints 0 to 0xff\n  var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n  // Character types for codepoints 0x600 to 0x6f9\n  var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n  function charType(code) {\n    if (code <= 0xf7) { return lowTypes.charAt(code) }\n    else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n    else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n    else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n    else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n    else if (code == 0x200c) { return \"b\" }\n    else { return \"L\" }\n  }\n\n  var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n  var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n  function BidiSpan(level, from, to) {\n    this.level = level;\n    this.from = from; this.to = to;\n  }\n\n  return function(str, direction) {\n    var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n    if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n    var len = str.length, types = [];\n    for (var i = 0; i < len; ++i)\n      { types.push(charType(str.charCodeAt(i))); }\n\n    // W1. Examine each non-spacing mark (NSM) in the level run, and\n    // change the type of the NSM to the type of the previous\n    // character. If the NSM is at the start of the level run, it will\n    // get the type of sor.\n    for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n      var type = types[i$1];\n      if (type == \"m\") { types[i$1] = prev; }\n      else { prev = type; }\n    }\n\n    // W2. Search backwards from each instance of a European number\n    // until the first strong type (R, L, AL, or sor) is found. If an\n    // AL is found, change the type of the European number to Arabic\n    // number.\n    // W3. Change all ALs to R.\n    for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n      var type$1 = types[i$2];\n      if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n      else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n    }\n\n    // W4. A single European separator between two European numbers\n    // changes to a European number. A single common separator between\n    // two numbers of the same type changes to that type.\n    for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n      var type$2 = types[i$3];\n      if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n      else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n               (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n      prev$1 = type$2;\n    }\n\n    // W5. A sequence of European terminators adjacent to European\n    // numbers changes to all European numbers.\n    // W6. Otherwise, separators and terminators change to Other\n    // Neutral.\n    for (var i$4 = 0; i$4 < len; ++i$4) {\n      var type$3 = types[i$4];\n      if (type$3 == \",\") { types[i$4] = \"N\"; }\n      else if (type$3 == \"%\") {\n        var end = (void 0);\n        for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n        var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n        for (var j = i$4; j < end; ++j) { types[j] = replace; }\n        i$4 = end - 1;\n      }\n    }\n\n    // W7. Search backwards from each instance of a European number\n    // until the first strong type (R, L, or sor) is found. If an L is\n    // found, then change the type of the European number to L.\n    for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n      var type$4 = types[i$5];\n      if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n      else if (isStrong.test(type$4)) { cur$1 = type$4; }\n    }\n\n    // N1. A sequence of neutrals takes the direction of the\n    // surrounding strong text if the text on both sides has the same\n    // direction. European and Arabic numbers act as if they were R in\n    // terms of their influence on neutrals. Start-of-level-run (sor)\n    // and end-of-level-run (eor) are used at level run boundaries.\n    // N2. Any remaining neutrals take the embedding direction.\n    for (var i$6 = 0; i$6 < len; ++i$6) {\n      if (isNeutral.test(types[i$6])) {\n        var end$1 = (void 0);\n        for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n        var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n        var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n        var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n        for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n        i$6 = end$1 - 1;\n      }\n    }\n\n    // Here we depart from the documented algorithm, in order to avoid\n    // building up an actual levels array. Since there are only three\n    // levels (0, 1, 2) in an implementation that doesn't take\n    // explicit embedding into account, we can build up the order on\n    // the fly, without following the level-based algorithm.\n    var order = [], m;\n    for (var i$7 = 0; i$7 < len;) {\n      if (countsAsLeft.test(types[i$7])) {\n        var start = i$7;\n        for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n        order.push(new BidiSpan(0, start, i$7));\n      } else {\n        var pos = i$7, at = order.length;\n        for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n        for (var j$2 = pos; j$2 < i$7;) {\n          if (countsAsNum.test(types[j$2])) {\n            if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); }\n            var nstart = j$2;\n            for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n            order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n            pos = j$2;\n          } else { ++j$2; }\n        }\n        if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n      }\n    }\n    if (direction == \"ltr\") {\n      if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n        order[0].from = m[0].length;\n        order.unshift(new BidiSpan(0, 0, m[0].length));\n      }\n      if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n        lst(order).to -= m[0].length;\n        order.push(new BidiSpan(0, len - m[0].length, len));\n      }\n    }\n\n    return direction == \"rtl\" ? order.reverse() : order\n  }\n})();\n\n// Get the bidi ordering for the given line (and cache it). Returns\n// false for lines that are fully left-to-right, and an array of\n// BidiSpan objects otherwise.\nfunction getOrder(line, direction) {\n  var order = line.order;\n  if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n  return order\n}\n\n// EVENT HANDLING\n\n// Lightweight event framework. on/off also work on DOM nodes,\n// registering native DOM handlers.\n\nvar noHandlers = [];\n\nvar on = function(emitter, type, f) {\n  if (emitter.addEventListener) {\n    emitter.addEventListener(type, f, false);\n  } else if (emitter.attachEvent) {\n    emitter.attachEvent(\"on\" + type, f);\n  } else {\n    var map$$1 = emitter._handlers || (emitter._handlers = {});\n    map$$1[type] = (map$$1[type] || noHandlers).concat(f);\n  }\n};\n\nfunction getHandlers(emitter, type) {\n  return emitter._handlers && emitter._handlers[type] || noHandlers\n}\n\nfunction off(emitter, type, f) {\n  if (emitter.removeEventListener) {\n    emitter.removeEventListener(type, f, false);\n  } else if (emitter.detachEvent) {\n    emitter.detachEvent(\"on\" + type, f);\n  } else {\n    var map$$1 = emitter._handlers, arr = map$$1 && map$$1[type];\n    if (arr) {\n      var index = indexOf(arr, f);\n      if (index > -1)\n        { map$$1[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n    }\n  }\n}\n\nfunction signal(emitter, type /*, values...*/) {\n  var handlers = getHandlers(emitter, type);\n  if (!handlers.length) { return }\n  var args = Array.prototype.slice.call(arguments, 2);\n  for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n}\n\n// The DOM events that CodeMirror handles can be overridden by\n// registering a (non-DOM) handler on the editor for the event name,\n// and preventDefault-ing the event in that handler.\nfunction signalDOMEvent(cm, e, override) {\n  if (typeof e == \"string\")\n    { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n  signal(cm, override || e.type, cm, e);\n  return e_defaultPrevented(e) || e.codemirrorIgnore\n}\n\nfunction signalCursorActivity(cm) {\n  var arr = cm._handlers && cm._handlers.cursorActivity;\n  if (!arr) { return }\n  var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n  for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n    { set.push(arr[i]); } }\n}\n\nfunction hasHandler(emitter, type) {\n  return getHandlers(emitter, type).length > 0\n}\n\n// Add on and off methods to a constructor's prototype, to make\n// registering events on such objects more convenient.\nfunction eventMixin(ctor) {\n  ctor.prototype.on = function(type, f) {on(this, type, f);};\n  ctor.prototype.off = function(type, f) {off(this, type, f);};\n}\n\n// Due to the fact that we still support jurassic IE versions, some\n// compatibility wrappers are needed.\n\nfunction e_preventDefault(e) {\n  if (e.preventDefault) { e.preventDefault(); }\n  else { e.returnValue = false; }\n}\nfunction e_stopPropagation(e) {\n  if (e.stopPropagation) { e.stopPropagation(); }\n  else { e.cancelBubble = true; }\n}\nfunction e_defaultPrevented(e) {\n  return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n}\nfunction e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\nfunction e_target(e) {return e.target || e.srcElement}\nfunction e_button(e) {\n  var b = e.which;\n  if (b == null) {\n    if (e.button & 1) { b = 1; }\n    else if (e.button & 2) { b = 3; }\n    else if (e.button & 4) { b = 2; }\n  }\n  if (mac && e.ctrlKey && b == 1) { b = 3; }\n  return b\n}\n\n// Detect drag-and-drop\nvar dragAndDrop = function() {\n  // There is *some* kind of drag-and-drop support in IE6-8, but I\n  // couldn't get it to work yet.\n  if (ie && ie_version < 9) { return false }\n  var div = elt('div');\n  return \"draggable\" in div || \"dragDrop\" in div\n}();\n\nvar zwspSupported;\nfunction zeroWidthElement(measure) {\n  if (zwspSupported == null) {\n    var test = elt(\"span\", \"\\u200b\");\n    removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n    if (measure.firstChild.offsetHeight != 0)\n      { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n  }\n  var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n    elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n  node.setAttribute(\"cm-text\", \"\");\n  return node\n}\n\n// Feature-detect IE's crummy client rect reporting for bidi text\nvar badBidiRects;\nfunction hasBadBidiRects(measure) {\n  if (badBidiRects != null) { return badBidiRects }\n  var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n  var r0 = range(txt, 0, 1).getBoundingClientRect();\n  var r1 = range(txt, 1, 2).getBoundingClientRect();\n  removeChildren(measure);\n  if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n  return badBidiRects = (r1.right - r0.right < 3)\n}\n\n// See if \"\".split is the broken IE version, if so, provide an\n// alternative way to split lines.\nvar splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n  var pos = 0, result = [], l = string.length;\n  while (pos <= l) {\n    var nl = string.indexOf(\"\\n\", pos);\n    if (nl == -1) { nl = string.length; }\n    var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n    var rt = line.indexOf(\"\\r\");\n    if (rt != -1) {\n      result.push(line.slice(0, rt));\n      pos += rt + 1;\n    } else {\n      result.push(line);\n      pos = nl + 1;\n    }\n  }\n  return result\n} : function (string) { return string.split(/\\r\\n?|\\n/); };\n\nvar hasSelection = window.getSelection ? function (te) {\n  try { return te.selectionStart != te.selectionEnd }\n  catch(e) { return false }\n} : function (te) {\n  var range$$1;\n  try {range$$1 = te.ownerDocument.selection.createRange();}\n  catch(e) {}\n  if (!range$$1 || range$$1.parentElement() != te) { return false }\n  return range$$1.compareEndPoints(\"StartToEnd\", range$$1) != 0\n};\n\nvar hasCopyEvent = (function () {\n  var e = elt(\"div\");\n  if (\"oncopy\" in e) { return true }\n  e.setAttribute(\"oncopy\", \"return;\");\n  return typeof e.oncopy == \"function\"\n})();\n\nvar badZoomedRects = null;\nfunction hasBadZoomedRects(measure) {\n  if (badZoomedRects != null) { return badZoomedRects }\n  var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n  var normal = node.getBoundingClientRect();\n  var fromRange = range(node, 0, 1).getBoundingClientRect();\n  return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n}\n\n// Known modes, by name and by MIME\nvar modes = {};\nvar mimeModes = {};\n\n// Extra arguments are stored as the mode's dependencies, which is\n// used by (legacy) mechanisms like loadmode.js to automatically\n// load a mode. (Preferred mechanism is the require/define calls.)\nfunction defineMode(name, mode) {\n  if (arguments.length > 2)\n    { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n  modes[name] = mode;\n}\n\nfunction defineMIME(mime, spec) {\n  mimeModes[mime] = spec;\n}\n\n// Given a MIME type, a {name, ...options} config object, or a name\n// string, return a mode config object.\nfunction resolveMode(spec) {\n  if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n    spec = mimeModes[spec];\n  } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n    var found = mimeModes[spec.name];\n    if (typeof found == \"string\") { found = {name: found}; }\n    spec = createObj(found, spec);\n    spec.name = found.name;\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n    return resolveMode(\"application/xml\")\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n    return resolveMode(\"application/json\")\n  }\n  if (typeof spec == \"string\") { return {name: spec} }\n  else { return spec || {name: \"null\"} }\n}\n\n// Given a mode spec (anything that resolveMode accepts), find and\n// initialize an actual mode object.\nfunction getMode(options, spec) {\n  spec = resolveMode(spec);\n  var mfactory = modes[spec.name];\n  if (!mfactory) { return getMode(options, \"text/plain\") }\n  var modeObj = mfactory(options, spec);\n  if (modeExtensions.hasOwnProperty(spec.name)) {\n    var exts = modeExtensions[spec.name];\n    for (var prop in exts) {\n      if (!exts.hasOwnProperty(prop)) { continue }\n      if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n      modeObj[prop] = exts[prop];\n    }\n  }\n  modeObj.name = spec.name;\n  if (spec.helperType) { modeObj.helperType = spec.helperType; }\n  if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n    { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n  return modeObj\n}\n\n// This can be used to attach properties to mode objects from\n// outside the actual mode definition.\nvar modeExtensions = {};\nfunction extendMode(mode, properties) {\n  var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n  copyObj(properties, exts);\n}\n\nfunction copyState(mode, state) {\n  if (state === true) { return state }\n  if (mode.copyState) { return mode.copyState(state) }\n  var nstate = {};\n  for (var n in state) {\n    var val = state[n];\n    if (val instanceof Array) { val = val.concat([]); }\n    nstate[n] = val;\n  }\n  return nstate\n}\n\n// Given a mode and a state (for that mode), find the inner mode and\n// state at the position that the state refers to.\nfunction innerMode(mode, state) {\n  var info;\n  while (mode.innerMode) {\n    info = mode.innerMode(state);\n    if (!info || info.mode == mode) { break }\n    state = info.state;\n    mode = info.mode;\n  }\n  return info || {mode: mode, state: state}\n}\n\nfunction startState(mode, a1, a2) {\n  return mode.startState ? mode.startState(a1, a2) : true\n}\n\n// STRING STREAM\n\n// Fed to the mode parsers, provides helper functions to make\n// parsers more succinct.\n\nvar StringStream = function(string, tabSize, lineOracle) {\n  this.pos = this.start = 0;\n  this.string = string;\n  this.tabSize = tabSize || 8;\n  this.lastColumnPos = this.lastColumnValue = 0;\n  this.lineStart = 0;\n  this.lineOracle = lineOracle;\n};\n\nStringStream.prototype.eol = function () {return this.pos >= this.string.length};\nStringStream.prototype.sol = function () {return this.pos == this.lineStart};\nStringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\nStringStream.prototype.next = function () {\n  if (this.pos < this.string.length)\n    { return this.string.charAt(this.pos++) }\n};\nStringStream.prototype.eat = function (match) {\n  var ch = this.string.charAt(this.pos);\n  var ok;\n  if (typeof match == \"string\") { ok = ch == match; }\n  else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n  if (ok) {++this.pos; return ch}\n};\nStringStream.prototype.eatWhile = function (match) {\n  var start = this.pos;\n  while (this.eat(match)){}\n  return this.pos > start\n};\nStringStream.prototype.eatSpace = function () {\n    var this$1 = this;\n\n  var start = this.pos;\n  while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this$1.pos; }\n  return this.pos > start\n};\nStringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\nStringStream.prototype.skipTo = function (ch) {\n  var found = this.string.indexOf(ch, this.pos);\n  if (found > -1) {this.pos = found; return true}\n};\nStringStream.prototype.backUp = function (n) {this.pos -= n;};\nStringStream.prototype.column = function () {\n  if (this.lastColumnPos < this.start) {\n    this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n    this.lastColumnPos = this.start;\n  }\n  return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n};\nStringStream.prototype.indentation = function () {\n  return countColumn(this.string, null, this.tabSize) -\n    (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n};\nStringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n  if (typeof pattern == \"string\") {\n    var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n    var substr = this.string.substr(this.pos, pattern.length);\n    if (cased(substr) == cased(pattern)) {\n      if (consume !== false) { this.pos += pattern.length; }\n      return true\n    }\n  } else {\n    var match = this.string.slice(this.pos).match(pattern);\n    if (match && match.index > 0) { return null }\n    if (match && consume !== false) { this.pos += match[0].length; }\n    return match\n  }\n};\nStringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\nStringStream.prototype.hideFirstChars = function (n, inner) {\n  this.lineStart += n;\n  try { return inner() }\n  finally { this.lineStart -= n; }\n};\nStringStream.prototype.lookAhead = function (n) {\n  var oracle = this.lineOracle;\n  return oracle && oracle.lookAhead(n)\n};\nStringStream.prototype.baseToken = function () {\n  var oracle = this.lineOracle;\n  return oracle && oracle.baseToken(this.pos)\n};\n\nvar SavedContext = function(state, lookAhead) {\n  this.state = state;\n  this.lookAhead = lookAhead;\n};\n\nvar Context = function(doc, state, line, lookAhead) {\n  this.state = state;\n  this.doc = doc;\n  this.line = line;\n  this.maxLookAhead = lookAhead || 0;\n  this.baseTokens = null;\n  this.baseTokenPos = 1;\n};\n\nContext.prototype.lookAhead = function (n) {\n  var line = this.doc.getLine(this.line + n);\n  if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n  return line\n};\n\nContext.prototype.baseToken = function (n) {\n    var this$1 = this;\n\n  if (!this.baseTokens) { return null }\n  while (this.baseTokens[this.baseTokenPos] <= n)\n    { this$1.baseTokenPos += 2; }\n  var type = this.baseTokens[this.baseTokenPos + 1];\n  return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n          size: this.baseTokens[this.baseTokenPos] - n}\n};\n\nContext.prototype.nextLine = function () {\n  this.line++;\n  if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n};\n\nContext.fromSaved = function (doc, saved, line) {\n  if (saved instanceof SavedContext)\n    { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n  else\n    { return new Context(doc, copyState(doc.mode, saved), line) }\n};\n\nContext.prototype.save = function (copy) {\n  var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n  return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n};\n\n\n// Compute a style array (an array starting with a mode generation\n// -- for invalidation -- followed by pairs of end positions and\n// style strings), which is used to highlight the tokens on the\n// line.\nfunction highlightLine(cm, line, context, forceToEnd) {\n  // A styles array always starts with a number identifying the\n  // mode/overlays that it is based on (for easy invalidation).\n  var st = [cm.state.modeGen], lineClasses = {};\n  // Compute the base array of styles\n  runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n          lineClasses, forceToEnd);\n  var state = context.state;\n\n  // Run overlays, adjust style array.\n  var loop = function ( o ) {\n    context.baseTokens = st;\n    var overlay = cm.state.overlays[o], i = 1, at = 0;\n    context.state = true;\n    runMode(cm, line.text, overlay.mode, context, function (end, style) {\n      var start = i;\n      // Ensure there's a token end at the current position, and that i points at it\n      while (at < end) {\n        var i_end = st[i];\n        if (i_end > end)\n          { st.splice(i, 1, end, st[i+1], i_end); }\n        i += 2;\n        at = Math.min(end, i_end);\n      }\n      if (!style) { return }\n      if (overlay.opaque) {\n        st.splice(start, i - start, end, \"overlay \" + style);\n        i = start + 2;\n      } else {\n        for (; start < i; start += 2) {\n          var cur = st[start+1];\n          st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n        }\n      }\n    }, lineClasses);\n    context.state = state;\n    context.baseTokens = null;\n    context.baseTokenPos = 1;\n  };\n\n  for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n  return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n}\n\nfunction getLineStyles(cm, line, updateFrontier) {\n  if (!line.styles || line.styles[0] != cm.state.modeGen) {\n    var context = getContextBefore(cm, lineNo(line));\n    var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n    var result = highlightLine(cm, line, context);\n    if (resetState) { context.state = resetState; }\n    line.stateAfter = context.save(!resetState);\n    line.styles = result.styles;\n    if (result.classes) { line.styleClasses = result.classes; }\n    else if (line.styleClasses) { line.styleClasses = null; }\n    if (updateFrontier === cm.doc.highlightFrontier)\n      { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n  }\n  return line.styles\n}\n\nfunction getContextBefore(cm, n, precise) {\n  var doc = cm.doc, display = cm.display;\n  if (!doc.mode.startState) { return new Context(doc, true, n) }\n  var start = findStartLine(cm, n, precise);\n  var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n  var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n  doc.iter(start, n, function (line) {\n    processLine(cm, line.text, context);\n    var pos = context.line;\n    line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n    context.nextLine();\n  });\n  if (precise) { doc.modeFrontier = context.line; }\n  return context\n}\n\n// Lightweight form of highlight -- proceed over this line and\n// update state, but don't save a style array. Used for lines that\n// aren't currently visible.\nfunction processLine(cm, text, context, startAt) {\n  var mode = cm.doc.mode;\n  var stream = new StringStream(text, cm.options.tabSize, context);\n  stream.start = stream.pos = startAt || 0;\n  if (text == \"\") { callBlankLine(mode, context.state); }\n  while (!stream.eol()) {\n    readToken(mode, stream, context.state);\n    stream.start = stream.pos;\n  }\n}\n\nfunction callBlankLine(mode, state) {\n  if (mode.blankLine) { return mode.blankLine(state) }\n  if (!mode.innerMode) { return }\n  var inner = innerMode(mode, state);\n  if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n}\n\nfunction readToken(mode, stream, state, inner) {\n  for (var i = 0; i < 10; i++) {\n    if (inner) { inner[0] = innerMode(mode, state).mode; }\n    var style = mode.token(stream, state);\n    if (stream.pos > stream.start) { return style }\n  }\n  throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n}\n\nvar Token = function(stream, type, state) {\n  this.start = stream.start; this.end = stream.pos;\n  this.string = stream.current();\n  this.type = type || null;\n  this.state = state;\n};\n\n// Utility for getTokenAt and getLineTokens\nfunction takeToken(cm, pos, precise, asArray) {\n  var doc = cm.doc, mode = doc.mode, style;\n  pos = clipPos(doc, pos);\n  var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n  var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n  if (asArray) { tokens = []; }\n  while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n    stream.start = stream.pos;\n    style = readToken(mode, stream, context.state);\n    if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n  }\n  return asArray ? tokens : new Token(stream, style, context.state)\n}\n\nfunction extractLineClasses(type, output) {\n  if (type) { for (;;) {\n    var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n    if (!lineClass) { break }\n    type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n    var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n    if (output[prop] == null)\n      { output[prop] = lineClass[2]; }\n    else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\n      { output[prop] += \" \" + lineClass[2]; }\n  } }\n  return type\n}\n\n// Run the given mode's parser over a line, calling f for each token.\nfunction runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n  var flattenSpans = mode.flattenSpans;\n  if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n  var curStart = 0, curStyle = null;\n  var stream = new StringStream(text, cm.options.tabSize, context), style;\n  var inner = cm.options.addModeClass && [null];\n  if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n  while (!stream.eol()) {\n    if (stream.pos > cm.options.maxHighlightLength) {\n      flattenSpans = false;\n      if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n      stream.pos = text.length;\n      style = null;\n    } else {\n      style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n    }\n    if (inner) {\n      var mName = inner[0].name;\n      if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n    }\n    if (!flattenSpans || curStyle != style) {\n      while (curStart < stream.start) {\n        curStart = Math.min(stream.start, curStart + 5000);\n        f(curStart, curStyle);\n      }\n      curStyle = style;\n    }\n    stream.start = stream.pos;\n  }\n  while (curStart < stream.pos) {\n    // Webkit seems to refuse to render text nodes longer than 57444\n    // characters, and returns inaccurate measurements in nodes\n    // starting around 5000 chars.\n    var pos = Math.min(stream.pos, curStart + 5000);\n    f(pos, curStyle);\n    curStart = pos;\n  }\n}\n\n// Finds the line to start with when starting a parse. Tries to\n// find a line with a stateAfter, so that it can start with a\n// valid state. If that fails, it returns the line with the\n// smallest indentation, which tends to need the least context to\n// parse correctly.\nfunction findStartLine(cm, n, precise) {\n  var minindent, minline, doc = cm.doc;\n  var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n  for (var search = n; search > lim; --search) {\n    if (search <= doc.first) { return doc.first }\n    var line = getLine(doc, search - 1), after = line.stateAfter;\n    if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n      { return search }\n    var indented = countColumn(line.text, null, cm.options.tabSize);\n    if (minline == null || minindent > indented) {\n      minline = search - 1;\n      minindent = indented;\n    }\n  }\n  return minline\n}\n\nfunction retreatFrontier(doc, n) {\n  doc.modeFrontier = Math.min(doc.modeFrontier, n);\n  if (doc.highlightFrontier < n - 10) { return }\n  var start = doc.first;\n  for (var line = n - 1; line > start; line--) {\n    var saved = getLine(doc, line).stateAfter;\n    // change is on 3\n    // state on line 1 looked ahead 2 -- so saw 3\n    // test 1 + 2 < 3 should cover this\n    if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n      start = line + 1;\n      break\n    }\n  }\n  doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n}\n\n// LINE DATA STRUCTURE\n\n// Line objects. These hold state related to a line, including\n// highlighting info (the styles array).\nvar Line = function(text, markedSpans, estimateHeight) {\n  this.text = text;\n  attachMarkedSpans(this, markedSpans);\n  this.height = estimateHeight ? estimateHeight(this) : 1;\n};\n\nLine.prototype.lineNo = function () { return lineNo(this) };\neventMixin(Line);\n\n// Change the content (text, markers) of a line. Automatically\n// invalidates cached information and tries to re-estimate the\n// line's height.\nfunction updateLine(line, text, markedSpans, estimateHeight) {\n  line.text = text;\n  if (line.stateAfter) { line.stateAfter = null; }\n  if (line.styles) { line.styles = null; }\n  if (line.order != null) { line.order = null; }\n  detachMarkedSpans(line);\n  attachMarkedSpans(line, markedSpans);\n  var estHeight = estimateHeight ? estimateHeight(line) : 1;\n  if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n}\n\n// Detach a line from the document tree and its markers.\nfunction cleanUpLine(line) {\n  line.parent = null;\n  detachMarkedSpans(line);\n}\n\n// Convert a style as returned by a mode (either null, or a string\n// containing one or more styles) to a CSS style. This is cached,\n// and also looks for line-wide styles.\nvar styleToClassCache = {};\nvar styleToClassCacheWithMode = {};\nfunction interpretTokenStyle(style, options) {\n  if (!style || /^\\s*$/.test(style)) { return null }\n  var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n  return cache[style] ||\n    (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n}\n\n// Render the DOM representation of the text of a line. Also builds\n// up a 'line map', which points at the DOM nodes that represent\n// specific stretches of text, and is used by the measuring code.\n// The returned object contains the DOM node, this map, and\n// information about line-wide styles that were set by the mode.\nfunction buildLineContent(cm, lineView) {\n  // The padding-right forces the element to have a 'border', which\n  // is needed on Webkit to be able to get line-level bounding\n  // rectangles for it (in measureChar).\n  var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n  var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                 col: 0, pos: 0, cm: cm,\n                 trailingSpace: false,\n                 splitSpaces: (ie || webkit) && cm.getOption(\"lineWrapping\")};\n  lineView.measure = {};\n\n  // Iterate over the logical lines that make up this visual line.\n  for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n    var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n    builder.pos = 0;\n    builder.addToken = buildToken;\n    // Optionally wire in some hacks into the token-rendering\n    // algorithm, to deal with browser quirks.\n    if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n      { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n    builder.map = [];\n    var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n    insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n    if (line.styleClasses) {\n      if (line.styleClasses.bgClass)\n        { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n      if (line.styleClasses.textClass)\n        { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n    }\n\n    // Ensure at least a single node is present, for measuring.\n    if (builder.map.length == 0)\n      { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n    // Store the map and a cache object for the current logical line\n    if (i == 0) {\n      lineView.measure.map = builder.map;\n      lineView.measure.cache = {};\n    } else {\n      (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n      ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n    }\n  }\n\n  // See issue #2901\n  if (webkit) {\n    var last = builder.content.lastChild;\n    if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n      { builder.content.className = \"cm-tab-wrap-hack\"; }\n  }\n\n  signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n  if (builder.pre.className)\n    { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n  return builder\n}\n\nfunction defaultSpecialCharPlaceholder(ch) {\n  var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n  token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n  token.setAttribute(\"aria-label\", token.title);\n  return token\n}\n\n// Build up the DOM representation for a single token, and add it to\n// the line map. Takes care to render special characters separately.\nfunction buildToken(builder, text, style, startStyle, endStyle, title, css) {\n  if (!text) { return }\n  var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n  var special = builder.cm.state.specialChars, mustWrap = false;\n  var content;\n  if (!special.test(text)) {\n    builder.col += text.length;\n    content = document.createTextNode(displayText);\n    builder.map.push(builder.pos, builder.pos + text.length, content);\n    if (ie && ie_version < 9) { mustWrap = true; }\n    builder.pos += text.length;\n  } else {\n    content = document.createDocumentFragment();\n    var pos = 0;\n    while (true) {\n      special.lastIndex = pos;\n      var m = special.exec(text);\n      var skipped = m ? m.index - pos : text.length - pos;\n      if (skipped) {\n        var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n        else { content.appendChild(txt); }\n        builder.map.push(builder.pos, builder.pos + skipped, txt);\n        builder.col += skipped;\n        builder.pos += skipped;\n      }\n      if (!m) { break }\n      pos += skipped + 1;\n      var txt$1 = (void 0);\n      if (m[0] == \"\\t\") {\n        var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n        txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n        txt$1.setAttribute(\"role\", \"presentation\");\n        txt$1.setAttribute(\"cm-text\", \"\\t\");\n        builder.col += tabWidth;\n      } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n        txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n        txt$1.setAttribute(\"cm-text\", m[0]);\n        builder.col += 1;\n      } else {\n        txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n        txt$1.setAttribute(\"cm-text\", m[0]);\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n        else { content.appendChild(txt$1); }\n        builder.col += 1;\n      }\n      builder.map.push(builder.pos, builder.pos + 1, txt$1);\n      builder.pos++;\n    }\n  }\n  builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n  if (style || startStyle || endStyle || mustWrap || css) {\n    var fullStyle = style || \"\";\n    if (startStyle) { fullStyle += startStyle; }\n    if (endStyle) { fullStyle += endStyle; }\n    var token = elt(\"span\", [content], fullStyle, css);\n    if (title) { token.title = title; }\n    return builder.content.appendChild(token)\n  }\n  builder.content.appendChild(content);\n}\n\nfunction splitSpaces(text, trailingBefore) {\n  if (text.length > 1 && !/  /.test(text)) { return text }\n  var spaceBefore = trailingBefore, result = \"\";\n  for (var i = 0; i < text.length; i++) {\n    var ch = text.charAt(i);\n    if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n      { ch = \"\\u00a0\"; }\n    result += ch;\n    spaceBefore = ch == \" \";\n  }\n  return result\n}\n\n// Work around nonsense dimensions being reported for stretches of\n// right-to-left text.\nfunction buildTokenBadBidi(inner, order) {\n  return function (builder, text, style, startStyle, endStyle, title, css) {\n    style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n    var start = builder.pos, end = start + text.length;\n    for (;;) {\n      // Find the part that overlaps with the start of this text\n      var part = (void 0);\n      for (var i = 0; i < order.length; i++) {\n        part = order[i];\n        if (part.to > start && part.from <= start) { break }\n      }\n      if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, title, css) }\n      inner(builder, text.slice(0, part.to - start), style, startStyle, null, title, css);\n      startStyle = null;\n      text = text.slice(part.to - start);\n      start = part.to;\n    }\n  }\n}\n\nfunction buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n  var widget = !ignoreWidget && marker.widgetNode;\n  if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n  if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n    if (!widget)\n      { widget = builder.content.appendChild(document.createElement(\"span\")); }\n    widget.setAttribute(\"cm-marker\", marker.id);\n  }\n  if (widget) {\n    builder.cm.display.input.setUneditable(widget);\n    builder.content.appendChild(widget);\n  }\n  builder.pos += size;\n  builder.trailingSpace = false;\n}\n\n// Outputs a number of spans to make up a line, taking highlighting\n// and marked text into account.\nfunction insertLineContent(line, builder, styles) {\n  var spans = line.markedSpans, allText = line.text, at = 0;\n  if (!spans) {\n    for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n      { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n    return\n  }\n\n  var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n  var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, title, collapsed;\n  for (;;) {\n    if (nextChange == pos) { // Update current marker set\n      spanStyle = spanEndStyle = spanStartStyle = title = css = \"\";\n      collapsed = null; nextChange = Infinity;\n      var foundBookmarks = [], endStyles = (void 0);\n      for (var j = 0; j < spans.length; ++j) {\n        var sp = spans[j], m = sp.marker;\n        if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n          foundBookmarks.push(m);\n        } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n          if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n            nextChange = sp.to;\n            spanEndStyle = \"\";\n          }\n          if (m.className) { spanStyle += \" \" + m.className; }\n          if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n          if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n          if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n          if (m.title && !title) { title = m.title; }\n          if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n            { collapsed = sp; }\n        } else if (sp.from > pos && nextChange > sp.from) {\n          nextChange = sp.from;\n        }\n      }\n      if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n        { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n      if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n        { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n      if (collapsed && (collapsed.from || 0) == pos) {\n        buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                           collapsed.marker, collapsed.from == null);\n        if (collapsed.to == null) { return }\n        if (collapsed.to == pos) { collapsed = false; }\n      }\n    }\n    if (pos >= len) { break }\n\n    var upto = Math.min(len, nextChange);\n    while (true) {\n      if (text) {\n        var end = pos + text.length;\n        if (!collapsed) {\n          var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n          builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                           spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", title, css);\n        }\n        if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n        pos = end;\n        spanStartStyle = \"\";\n      }\n      text = allText.slice(at, at = styles[i++]);\n      style = interpretTokenStyle(styles[i++], builder.cm.options);\n    }\n  }\n}\n\n\n// These objects are used to represent the visible (currently drawn)\n// part of the document. A LineView may correspond to multiple\n// logical lines, if those are connected by collapsed ranges.\nfunction LineView(doc, line, lineN) {\n  // The starting line\n  this.line = line;\n  // Continuing lines, if any\n  this.rest = visualLineContinued(line);\n  // Number of logical lines in this visual line\n  this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n  this.node = this.text = null;\n  this.hidden = lineIsHidden(doc, line);\n}\n\n// Create a range of LineView objects for the given lines.\nfunction buildViewArray(cm, from, to) {\n  var array = [], nextPos;\n  for (var pos = from; pos < to; pos = nextPos) {\n    var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n    nextPos = pos + view.size;\n    array.push(view);\n  }\n  return array\n}\n\nvar operationGroup = null;\n\nfunction pushOperation(op) {\n  if (operationGroup) {\n    operationGroup.ops.push(op);\n  } else {\n    op.ownsGroup = operationGroup = {\n      ops: [op],\n      delayedCallbacks: []\n    };\n  }\n}\n\nfunction fireCallbacksForOps(group) {\n  // Calls delayed callbacks and cursorActivity handlers until no\n  // new ones appear\n  var callbacks = group.delayedCallbacks, i = 0;\n  do {\n    for (; i < callbacks.length; i++)\n      { callbacks[i].call(null); }\n    for (var j = 0; j < group.ops.length; j++) {\n      var op = group.ops[j];\n      if (op.cursorActivityHandlers)\n        { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n          { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n    }\n  } while (i < callbacks.length)\n}\n\nfunction finishOperation(op, endCb) {\n  var group = op.ownsGroup;\n  if (!group) { return }\n\n  try { fireCallbacksForOps(group); }\n  finally {\n    operationGroup = null;\n    endCb(group);\n  }\n}\n\nvar orphanDelayedCallbacks = null;\n\n// Often, we want to signal events at a point where we are in the\n// middle of some work, but don't want the handler to start calling\n// other methods on the editor, which might be in an inconsistent\n// state or simply not expect any other events to happen.\n// signalLater looks whether there are any handlers, and schedules\n// them to be executed when the last operation ends, or, if no\n// operation is active, when a timeout fires.\nfunction signalLater(emitter, type /*, values...*/) {\n  var arr = getHandlers(emitter, type);\n  if (!arr.length) { return }\n  var args = Array.prototype.slice.call(arguments, 2), list;\n  if (operationGroup) {\n    list = operationGroup.delayedCallbacks;\n  } else if (orphanDelayedCallbacks) {\n    list = orphanDelayedCallbacks;\n  } else {\n    list = orphanDelayedCallbacks = [];\n    setTimeout(fireOrphanDelayed, 0);\n  }\n  var loop = function ( i ) {\n    list.push(function () { return arr[i].apply(null, args); });\n  };\n\n  for (var i = 0; i < arr.length; ++i)\n    loop( i );\n}\n\nfunction fireOrphanDelayed() {\n  var delayed = orphanDelayedCallbacks;\n  orphanDelayedCallbacks = null;\n  for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n}\n\n// When an aspect of a line changes, a string is added to\n// lineView.changes. This updates the relevant part of the line's\n// DOM structure.\nfunction updateLineForChanges(cm, lineView, lineN, dims) {\n  for (var j = 0; j < lineView.changes.length; j++) {\n    var type = lineView.changes[j];\n    if (type == \"text\") { updateLineText(cm, lineView); }\n    else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n    else if (type == \"class\") { updateLineClasses(cm, lineView); }\n    else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n  }\n  lineView.changes = null;\n}\n\n// Lines with gutter elements, widgets or a background class need to\n// be wrapped, and have the extra elements added to the wrapper div\nfunction ensureLineWrapped(lineView) {\n  if (lineView.node == lineView.text) {\n    lineView.node = elt(\"div\", null, null, \"position: relative\");\n    if (lineView.text.parentNode)\n      { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n    lineView.node.appendChild(lineView.text);\n    if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n  }\n  return lineView.node\n}\n\nfunction updateLineBackground(cm, lineView) {\n  var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n  if (cls) { cls += \" CodeMirror-linebackground\"; }\n  if (lineView.background) {\n    if (cls) { lineView.background.className = cls; }\n    else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n  } else if (cls) {\n    var wrap = ensureLineWrapped(lineView);\n    lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n    cm.display.input.setUneditable(lineView.background);\n  }\n}\n\n// Wrapper around buildLineContent which will reuse the structure\n// in display.externalMeasured when possible.\nfunction getLineContent(cm, lineView) {\n  var ext = cm.display.externalMeasured;\n  if (ext && ext.line == lineView.line) {\n    cm.display.externalMeasured = null;\n    lineView.measure = ext.measure;\n    return ext.built\n  }\n  return buildLineContent(cm, lineView)\n}\n\n// Redraw the line's text. Interacts with the background and text\n// classes because the mode may output tokens that influence these\n// classes.\nfunction updateLineText(cm, lineView) {\n  var cls = lineView.text.className;\n  var built = getLineContent(cm, lineView);\n  if (lineView.text == lineView.node) { lineView.node = built.pre; }\n  lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n  lineView.text = built.pre;\n  if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n    lineView.bgClass = built.bgClass;\n    lineView.textClass = built.textClass;\n    updateLineClasses(cm, lineView);\n  } else if (cls) {\n    lineView.text.className = cls;\n  }\n}\n\nfunction updateLineClasses(cm, lineView) {\n  updateLineBackground(cm, lineView);\n  if (lineView.line.wrapClass)\n    { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n  else if (lineView.node != lineView.text)\n    { lineView.node.className = \"\"; }\n  var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n  lineView.text.className = textClass || \"\";\n}\n\nfunction updateLineGutter(cm, lineView, lineN, dims) {\n  if (lineView.gutter) {\n    lineView.node.removeChild(lineView.gutter);\n    lineView.gutter = null;\n  }\n  if (lineView.gutterBackground) {\n    lineView.node.removeChild(lineView.gutterBackground);\n    lineView.gutterBackground = null;\n  }\n  if (lineView.line.gutterClass) {\n    var wrap = ensureLineWrapped(lineView);\n    lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                    (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n    cm.display.input.setUneditable(lineView.gutterBackground);\n    wrap.insertBefore(lineView.gutterBackground, lineView.text);\n  }\n  var markers = lineView.line.gutterMarkers;\n  if (cm.options.lineNumbers || markers) {\n    var wrap$1 = ensureLineWrapped(lineView);\n    var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n    cm.display.input.setUneditable(gutterWrap);\n    wrap$1.insertBefore(gutterWrap, lineView.text);\n    if (lineView.line.gutterClass)\n      { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n    if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n      { lineView.lineNumber = gutterWrap.appendChild(\n        elt(\"div\", lineNumberFor(cm.options, lineN),\n            \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n            (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n    if (markers) { for (var k = 0; k < cm.options.gutters.length; ++k) {\n      var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id];\n      if (found)\n        { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                   (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n    } }\n  }\n}\n\nfunction updateLineWidgets(cm, lineView, dims) {\n  if (lineView.alignable) { lineView.alignable = null; }\n  for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n    next = node.nextSibling;\n    if (node.className == \"CodeMirror-linewidget\")\n      { lineView.node.removeChild(node); }\n  }\n  insertLineWidgets(cm, lineView, dims);\n}\n\n// Build a line's DOM representation from scratch\nfunction buildLineElement(cm, lineView, lineN, dims) {\n  var built = getLineContent(cm, lineView);\n  lineView.text = lineView.node = built.pre;\n  if (built.bgClass) { lineView.bgClass = built.bgClass; }\n  if (built.textClass) { lineView.textClass = built.textClass; }\n\n  updateLineClasses(cm, lineView);\n  updateLineGutter(cm, lineView, lineN, dims);\n  insertLineWidgets(cm, lineView, dims);\n  return lineView.node\n}\n\n// A lineView may contain multiple logical lines (when merged by\n// collapsed spans). The widgets for all of them need to be drawn.\nfunction insertLineWidgets(cm, lineView, dims) {\n  insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n  if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n    { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n}\n\nfunction insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n  if (!line.widgets) { return }\n  var wrap = ensureLineWrapped(lineView);\n  for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n    var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\");\n    if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n    positionLineWidget(widget, node, lineView, dims);\n    cm.display.input.setUneditable(node);\n    if (allowAbove && widget.above)\n      { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n    else\n      { wrap.appendChild(node); }\n    signalLater(widget, \"redraw\");\n  }\n}\n\nfunction positionLineWidget(widget, node, lineView, dims) {\n  if (widget.noHScroll) {\n    (lineView.alignable || (lineView.alignable = [])).push(node);\n    var width = dims.wrapperWidth;\n    node.style.left = dims.fixedPos + \"px\";\n    if (!widget.coverGutter) {\n      width -= dims.gutterTotalWidth;\n      node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n    }\n    node.style.width = width + \"px\";\n  }\n  if (widget.coverGutter) {\n    node.style.zIndex = 5;\n    node.style.position = \"relative\";\n    if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n  }\n}\n\nfunction widgetHeight(widget) {\n  if (widget.height != null) { return widget.height }\n  var cm = widget.doc.cm;\n  if (!cm) { return 0 }\n  if (!contains(document.body, widget.node)) {\n    var parentStyle = \"position: relative;\";\n    if (widget.coverGutter)\n      { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n    if (widget.noHScroll)\n      { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n    removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n  }\n  return widget.height = widget.node.parentNode.offsetHeight\n}\n\n// Return true when the given mouse event happened in a widget\nfunction eventInWidget(display, e) {\n  for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n    if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n        (n.parentNode == display.sizer && n != display.mover))\n      { return true }\n  }\n}\n\n// POSITION MEASUREMENT\n\nfunction paddingTop(display) {return display.lineSpace.offsetTop}\nfunction paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\nfunction paddingH(display) {\n  if (display.cachedPaddingH) { return display.cachedPaddingH }\n  var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\"));\n  var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n  var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n  if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n  return data\n}\n\nfunction scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\nfunction displayWidth(cm) {\n  return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n}\nfunction displayHeight(cm) {\n  return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n}\n\n// Ensure the lineView.wrapping.heights array is populated. This is\n// an array of bottom offsets for the lines that make up a drawn\n// line. When lineWrapping is on, there might be more than one\n// height.\nfunction ensureLineHeights(cm, lineView, rect) {\n  var wrapping = cm.options.lineWrapping;\n  var curWidth = wrapping && displayWidth(cm);\n  if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n    var heights = lineView.measure.heights = [];\n    if (wrapping) {\n      lineView.measure.width = curWidth;\n      var rects = lineView.text.firstChild.getClientRects();\n      for (var i = 0; i < rects.length - 1; i++) {\n        var cur = rects[i], next = rects[i + 1];\n        if (Math.abs(cur.bottom - next.bottom) > 2)\n          { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n      }\n    }\n    heights.push(rect.bottom - rect.top);\n  }\n}\n\n// Find a line map (mapping character offsets to text nodes) and a\n// measurement cache for the given line number. (A line view might\n// contain multiple lines when collapsed ranges are present.)\nfunction mapFromLineView(lineView, line, lineN) {\n  if (lineView.line == line)\n    { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n  for (var i = 0; i < lineView.rest.length; i++)\n    { if (lineView.rest[i] == line)\n      { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n  for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n    { if (lineNo(lineView.rest[i$1]) > lineN)\n      { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n}\n\n// Render a line into the hidden node display.externalMeasured. Used\n// when measurement is needed for a line that's not in the viewport.\nfunction updateExternalMeasurement(cm, line) {\n  line = visualLine(line);\n  var lineN = lineNo(line);\n  var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n  view.lineN = lineN;\n  var built = view.built = buildLineContent(cm, view);\n  view.text = built.pre;\n  removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n  return view\n}\n\n// Get a {top, bottom, left, right} box (in line-local coordinates)\n// for a given character.\nfunction measureChar(cm, line, ch, bias) {\n  return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n}\n\n// Find a line view that corresponds to the given line number.\nfunction findViewForLine(cm, lineN) {\n  if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n    { return cm.display.view[findViewIndex(cm, lineN)] }\n  var ext = cm.display.externalMeasured;\n  if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n    { return ext }\n}\n\n// Measurement can be split in two steps, the set-up work that\n// applies to the whole line, and the measurement of the actual\n// character. Functions like coordsChar, that need to do a lot of\n// measurements in a row, can thus ensure that the set-up work is\n// only done once.\nfunction prepareMeasureForLine(cm, line) {\n  var lineN = lineNo(line);\n  var view = findViewForLine(cm, lineN);\n  if (view && !view.text) {\n    view = null;\n  } else if (view && view.changes) {\n    updateLineForChanges(cm, view, lineN, getDimensions(cm));\n    cm.curOp.forceUpdate = true;\n  }\n  if (!view)\n    { view = updateExternalMeasurement(cm, line); }\n\n  var info = mapFromLineView(view, line, lineN);\n  return {\n    line: line, view: view, rect: null,\n    map: info.map, cache: info.cache, before: info.before,\n    hasHeights: false\n  }\n}\n\n// Given a prepared measurement object, measures the position of an\n// actual character (or fetches it from the cache).\nfunction measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n  if (prepared.before) { ch = -1; }\n  var key = ch + (bias || \"\"), found;\n  if (prepared.cache.hasOwnProperty(key)) {\n    found = prepared.cache[key];\n  } else {\n    if (!prepared.rect)\n      { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n    if (!prepared.hasHeights) {\n      ensureLineHeights(cm, prepared.view, prepared.rect);\n      prepared.hasHeights = true;\n    }\n    found = measureCharInner(cm, prepared, ch, bias);\n    if (!found.bogus) { prepared.cache[key] = found; }\n  }\n  return {left: found.left, right: found.right,\n          top: varHeight ? found.rtop : found.top,\n          bottom: varHeight ? found.rbottom : found.bottom}\n}\n\nvar nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\nfunction nodeAndOffsetInLineMap(map$$1, ch, bias) {\n  var node, start, end, collapse, mStart, mEnd;\n  // First, search the line map for the text node corresponding to,\n  // or closest to, the target character.\n  for (var i = 0; i < map$$1.length; i += 3) {\n    mStart = map$$1[i];\n    mEnd = map$$1[i + 1];\n    if (ch < mStart) {\n      start = 0; end = 1;\n      collapse = \"left\";\n    } else if (ch < mEnd) {\n      start = ch - mStart;\n      end = start + 1;\n    } else if (i == map$$1.length - 3 || ch == mEnd && map$$1[i + 3] > ch) {\n      end = mEnd - mStart;\n      start = end - 1;\n      if (ch >= mEnd) { collapse = \"right\"; }\n    }\n    if (start != null) {\n      node = map$$1[i + 2];\n      if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n        { collapse = bias; }\n      if (bias == \"left\" && start == 0)\n        { while (i && map$$1[i - 2] == map$$1[i - 3] && map$$1[i - 1].insertLeft) {\n          node = map$$1[(i -= 3) + 2];\n          collapse = \"left\";\n        } }\n      if (bias == \"right\" && start == mEnd - mStart)\n        { while (i < map$$1.length - 3 && map$$1[i + 3] == map$$1[i + 4] && !map$$1[i + 5].insertLeft) {\n          node = map$$1[(i += 3) + 2];\n          collapse = \"right\";\n        } }\n      break\n    }\n  }\n  return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n}\n\nfunction getUsefulRect(rects, bias) {\n  var rect = nullRect;\n  if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n    if ((rect = rects[i]).left != rect.right) { break }\n  } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n    if ((rect = rects[i$1]).left != rect.right) { break }\n  } }\n  return rect\n}\n\nfunction measureCharInner(cm, prepared, ch, bias) {\n  var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n  var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n  var rect;\n  if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n    for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n      while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n      while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n      if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n        { rect = node.parentNode.getBoundingClientRect(); }\n      else\n        { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n      if (rect.left || rect.right || start == 0) { break }\n      end = start;\n      start = start - 1;\n      collapse = \"right\";\n    }\n    if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n  } else { // If it is a widget, simply get the box for the whole widget.\n    if (start > 0) { collapse = bias = \"right\"; }\n    var rects;\n    if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n      { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n    else\n      { rect = node.getBoundingClientRect(); }\n  }\n  if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n    var rSpan = node.parentNode.getClientRects()[0];\n    if (rSpan)\n      { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n    else\n      { rect = nullRect; }\n  }\n\n  var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n  var mid = (rtop + rbot) / 2;\n  var heights = prepared.view.measure.heights;\n  var i = 0;\n  for (; i < heights.length - 1; i++)\n    { if (mid < heights[i]) { break } }\n  var top = i ? heights[i - 1] : 0, bot = heights[i];\n  var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                top: top, bottom: bot};\n  if (!rect.left && !rect.right) { result.bogus = true; }\n  if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n  return result\n}\n\n// Work around problem with bounding client rects on ranges being\n// returned incorrectly when zoomed on IE10 and below.\nfunction maybeUpdateRectForZooming(measure, rect) {\n  if (!window.screen || screen.logicalXDPI == null ||\n      screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n    { return rect }\n  var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n  var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n  return {left: rect.left * scaleX, right: rect.right * scaleX,\n          top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n}\n\nfunction clearLineMeasurementCacheFor(lineView) {\n  if (lineView.measure) {\n    lineView.measure.cache = {};\n    lineView.measure.heights = null;\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { lineView.measure.caches[i] = {}; } }\n  }\n}\n\nfunction clearLineMeasurementCache(cm) {\n  cm.display.externalMeasure = null;\n  removeChildren(cm.display.lineMeasure);\n  for (var i = 0; i < cm.display.view.length; i++)\n    { clearLineMeasurementCacheFor(cm.display.view[i]); }\n}\n\nfunction clearCaches(cm) {\n  clearLineMeasurementCache(cm);\n  cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n  if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n  cm.display.lineNumChars = null;\n}\n\nfunction pageScrollX() {\n  // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n  // which causes page_Offset and bounding client rects to use\n  // different reference viewports and invalidate our calculations.\n  if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n  return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n}\nfunction pageScrollY() {\n  if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n  return window.pageYOffset || (document.documentElement || document.body).scrollTop\n}\n\nfunction widgetTopHeight(lineObj) {\n  var height = 0;\n  if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n    { height += widgetHeight(lineObj.widgets[i]); } } }\n  return height\n}\n\n// Converts a {top, bottom, left, right} box from line-local\n// coordinates into another coordinate system. Context may be one of\n// \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n// or \"page\".\nfunction intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n  if (!includeWidgets) {\n    var height = widgetTopHeight(lineObj);\n    rect.top += height; rect.bottom += height;\n  }\n  if (context == \"line\") { return rect }\n  if (!context) { context = \"local\"; }\n  var yOff = heightAtLine(lineObj);\n  if (context == \"local\") { yOff += paddingTop(cm.display); }\n  else { yOff -= cm.display.viewOffset; }\n  if (context == \"page\" || context == \"window\") {\n    var lOff = cm.display.lineSpace.getBoundingClientRect();\n    yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n    var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n    rect.left += xOff; rect.right += xOff;\n  }\n  rect.top += yOff; rect.bottom += yOff;\n  return rect\n}\n\n// Coverts a box from \"div\" coords to another coordinate system.\n// Context may be \"window\", \"page\", \"div\", or \"local\"./null.\nfunction fromCoordSystem(cm, coords, context) {\n  if (context == \"div\") { return coords }\n  var left = coords.left, top = coords.top;\n  // First move into \"page\" coordinate system\n  if (context == \"page\") {\n    left -= pageScrollX();\n    top -= pageScrollY();\n  } else if (context == \"local\" || !context) {\n    var localBox = cm.display.sizer.getBoundingClientRect();\n    left += localBox.left;\n    top += localBox.top;\n  }\n\n  var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n  return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n}\n\nfunction charCoords(cm, pos, context, lineObj, bias) {\n  if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n  return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n}\n\n// Returns a box for a given cursor position, which may have an\n// 'other' property containing the position of the secondary cursor\n// on a bidi boundary.\n// A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n// and after `char - 1` in writing order of `char - 1`\n// A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n// and before `char` in writing order of `char`\n// Examples (upper-case letters are RTL, lower-case are LTR):\n//     Pos(0, 1, ...)\n//     before   after\n// ab     a|b     a|b\n// aB     a|B     aB|\n// Ab     |Ab     A|b\n// AB     B|A     B|A\n// Every position after the last character on a line is considered to stick\n// to the last character on the line.\nfunction cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n  lineObj = lineObj || getLine(cm.doc, pos.line);\n  if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n  function get(ch, right) {\n    var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n    if (right) { m.left = m.right; } else { m.right = m.left; }\n    return intoCoordSystem(cm, lineObj, m, context)\n  }\n  var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n  if (ch >= lineObj.text.length) {\n    ch = lineObj.text.length;\n    sticky = \"before\";\n  } else if (ch <= 0) {\n    ch = 0;\n    sticky = \"after\";\n  }\n  if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n  function getBidi(ch, partPos, invert) {\n    var part = order[partPos], right = part.level == 1;\n    return get(invert ? ch - 1 : ch, right != invert)\n  }\n  var partPos = getBidiPartAt(order, ch, sticky);\n  var other = bidiOther;\n  var val = getBidi(ch, partPos, sticky == \"before\");\n  if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n  return val\n}\n\n// Used to cheaply estimate the coordinates for a position. Used for\n// intermediate scroll updates.\nfunction estimateCoords(cm, pos) {\n  var left = 0;\n  pos = clipPos(cm.doc, pos);\n  if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n  var lineObj = getLine(cm.doc, pos.line);\n  var top = heightAtLine(lineObj) + paddingTop(cm.display);\n  return {left: left, right: left, top: top, bottom: top + lineObj.height}\n}\n\n// Positions returned by coordsChar contain some extra information.\n// xRel is the relative x position of the input coordinates compared\n// to the found position (so xRel > 0 means the coordinates are to\n// the right of the character position, for example). When outside\n// is true, that means the coordinates lie outside the line's\n// vertical range.\nfunction PosWithInfo(line, ch, sticky, outside, xRel) {\n  var pos = Pos(line, ch, sticky);\n  pos.xRel = xRel;\n  if (outside) { pos.outside = true; }\n  return pos\n}\n\n// Compute the character position closest to the given coordinates.\n// Input must be lineSpace-local (\"div\" coordinate system).\nfunction coordsChar(cm, x, y) {\n  var doc = cm.doc;\n  y += cm.display.viewOffset;\n  if (y < 0) { return PosWithInfo(doc.first, 0, null, true, -1) }\n  var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n  if (lineN > last)\n    { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, true, 1) }\n  if (x < 0) { x = 0; }\n\n  var lineObj = getLine(doc, lineN);\n  for (;;) {\n    var found = coordsCharInner(cm, lineObj, lineN, x, y);\n    var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 ? 1 : 0));\n    if (!collapsed) { return found }\n    var rangeEnd = collapsed.find(1);\n    if (rangeEnd.line == lineN) { return rangeEnd }\n    lineObj = getLine(doc, lineN = rangeEnd.line);\n  }\n}\n\nfunction wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n  y -= widgetTopHeight(lineObj);\n  var end = lineObj.text.length;\n  var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n  end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n  return {begin: begin, end: end}\n}\n\nfunction wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n  if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n  var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n  return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n}\n\n// Returns true if the given side of a box is after the given\n// coordinates, in top-to-bottom, left-to-right order.\nfunction boxIsAfter(box, x, y, left) {\n  return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n}\n\nfunction coordsCharInner(cm, lineObj, lineNo$$1, x, y) {\n  // Move y into line-local coordinate space\n  y -= heightAtLine(lineObj);\n  var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n  // When directly calling `measureCharPrepared`, we have to adjust\n  // for the widgets at this line.\n  var widgetHeight$$1 = widgetTopHeight(lineObj);\n  var begin = 0, end = lineObj.text.length, ltr = true;\n\n  var order = getOrder(lineObj, cm.doc.direction);\n  // If the line isn't plain left-to-right text, first figure out\n  // which bidi section the coordinates fall into.\n  if (order) {\n    var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                 (cm, lineObj, lineNo$$1, preparedMeasure, order, x, y);\n    ltr = part.level != 1;\n    // The awkward -1 offsets are needed because findFirst (called\n    // on these below) will treat its first bound as inclusive,\n    // second as exclusive, but we want to actually address the\n    // characters in the part's range\n    begin = ltr ? part.from : part.to - 1;\n    end = ltr ? part.to : part.from - 1;\n  }\n\n  // A binary search to find the first character whose bounding box\n  // starts after the coordinates. If we run across any whose box wrap\n  // the coordinates, store that.\n  var chAround = null, boxAround = null;\n  var ch = findFirst(function (ch) {\n    var box = measureCharPrepared(cm, preparedMeasure, ch);\n    box.top += widgetHeight$$1; box.bottom += widgetHeight$$1;\n    if (!boxIsAfter(box, x, y, false)) { return false }\n    if (box.top <= y && box.left <= x) {\n      chAround = ch;\n      boxAround = box;\n    }\n    return true\n  }, begin, end);\n\n  var baseX, sticky, outside = false;\n  // If a box around the coordinates was found, use that\n  if (boxAround) {\n    // Distinguish coordinates nearer to the left or right side of the box\n    var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n    ch = chAround + (atStart ? 0 : 1);\n    sticky = atStart ? \"after\" : \"before\";\n    baseX = atLeft ? boxAround.left : boxAround.right;\n  } else {\n    // (Adjust for extended bound, if necessary.)\n    if (!ltr && (ch == end || ch == begin)) { ch++; }\n    // To determine which side to associate with, get the box to the\n    // left of the character and compare it's vertical position to the\n    // coordinates\n    sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n      (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight$$1 <= y) == ltr ?\n      \"after\" : \"before\";\n    // Now get accurate coordinates for this place, in order to get a\n    // base X position\n    var coords = cursorCoords(cm, Pos(lineNo$$1, ch, sticky), \"line\", lineObj, preparedMeasure);\n    baseX = coords.left;\n    outside = y < coords.top || y >= coords.bottom;\n  }\n\n  ch = skipExtendingChars(lineObj.text, ch, 1);\n  return PosWithInfo(lineNo$$1, ch, sticky, outside, x - baseX)\n}\n\nfunction coordsBidiPart(cm, lineObj, lineNo$$1, preparedMeasure, order, x, y) {\n  // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n  // situation, we can take this ordering to correspond to the visual\n  // ordering. This finds the first part whose end is after the given\n  // coordinates.\n  var index = findFirst(function (i) {\n    var part = order[i], ltr = part.level != 1;\n    return boxIsAfter(cursorCoords(cm, Pos(lineNo$$1, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                   \"line\", lineObj, preparedMeasure), x, y, true)\n  }, 0, order.length - 1);\n  var part = order[index];\n  // If this isn't the first part, the part's start is also after\n  // the coordinates, and the coordinates aren't on the same line as\n  // that start, move one part back.\n  if (index > 0) {\n    var ltr = part.level != 1;\n    var start = cursorCoords(cm, Pos(lineNo$$1, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                             \"line\", lineObj, preparedMeasure);\n    if (boxIsAfter(start, x, y, true) && start.top > y)\n      { part = order[index - 1]; }\n  }\n  return part\n}\n\nfunction coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n  // In a wrapped line, rtl text on wrapping boundaries can do things\n  // that don't correspond to the ordering in our `order` array at\n  // all, so a binary search doesn't work, and we want to return a\n  // part that only spans one line so that the binary search in\n  // coordsCharInner is safe. As such, we first find the extent of the\n  // wrapped line, and then do a flat search in which we discard any\n  // spans that aren't on the line.\n  var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n  var begin = ref.begin;\n  var end = ref.end;\n  if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n  var part = null, closestDist = null;\n  for (var i = 0; i < order.length; i++) {\n    var p = order[i];\n    if (p.from >= end || p.to <= begin) { continue }\n    var ltr = p.level != 1;\n    var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n    // Weigh against spans ending before this, so that they are only\n    // picked if nothing ends after\n    var dist = endX < x ? x - endX + 1e9 : endX - x;\n    if (!part || closestDist > dist) {\n      part = p;\n      closestDist = dist;\n    }\n  }\n  if (!part) { part = order[order.length - 1]; }\n  // Clip the part to the wrapped line.\n  if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n  if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n  return part\n}\n\nvar measureText;\n// Compute the default text height.\nfunction textHeight(display) {\n  if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n  if (measureText == null) {\n    measureText = elt(\"pre\");\n    // Measure a bunch of lines, for browsers that compute\n    // fractional heights.\n    for (var i = 0; i < 49; ++i) {\n      measureText.appendChild(document.createTextNode(\"x\"));\n      measureText.appendChild(elt(\"br\"));\n    }\n    measureText.appendChild(document.createTextNode(\"x\"));\n  }\n  removeChildrenAndAdd(display.measure, measureText);\n  var height = measureText.offsetHeight / 50;\n  if (height > 3) { display.cachedTextHeight = height; }\n  removeChildren(display.measure);\n  return height || 1\n}\n\n// Compute the default character width.\nfunction charWidth(display) {\n  if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n  var anchor = elt(\"span\", \"xxxxxxxxxx\");\n  var pre = elt(\"pre\", [anchor]);\n  removeChildrenAndAdd(display.measure, pre);\n  var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n  if (width > 2) { display.cachedCharWidth = width; }\n  return width || 10\n}\n\n// Do a bulk-read of the DOM positions and sizes needed to draw the\n// view, so that we don't interleave reading and writing to the DOM.\nfunction getDimensions(cm) {\n  var d = cm.display, left = {}, width = {};\n  var gutterLeft = d.gutters.clientLeft;\n  for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n    left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft;\n    width[cm.options.gutters[i]] = n.clientWidth;\n  }\n  return {fixedPos: compensateForHScroll(d),\n          gutterTotalWidth: d.gutters.offsetWidth,\n          gutterLeft: left,\n          gutterWidth: width,\n          wrapperWidth: d.wrapper.clientWidth}\n}\n\n// Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n// but using getBoundingClientRect to get a sub-pixel-accurate\n// result.\nfunction compensateForHScroll(display) {\n  return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n}\n\n// Returns a function that estimates the height of a line, to use as\n// first approximation until the line becomes visible (and is thus\n// properly measurable).\nfunction estimateHeight(cm) {\n  var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n  var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n  return function (line) {\n    if (lineIsHidden(cm.doc, line)) { return 0 }\n\n    var widgetsHeight = 0;\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n      if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n    } }\n\n    if (wrapping)\n      { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n    else\n      { return widgetsHeight + th }\n  }\n}\n\nfunction estimateLineHeights(cm) {\n  var doc = cm.doc, est = estimateHeight(cm);\n  doc.iter(function (line) {\n    var estHeight = est(line);\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  });\n}\n\n// Given a mouse event, find the corresponding position. If liberal\n// is false, it checks whether a gutter or scrollbar was clicked,\n// and returns null if it was. forRect is used by rectangular\n// selections, and tries to estimate a character position even for\n// coordinates beyond the right of the text.\nfunction posFromMouse(cm, e, liberal, forRect) {\n  var display = cm.display;\n  if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n  var x, y, space = display.lineSpace.getBoundingClientRect();\n  // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n  try { x = e.clientX - space.left; y = e.clientY - space.top; }\n  catch (e) { return null }\n  var coords = coordsChar(cm, x, y), line;\n  if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n    var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n    coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n  }\n  return coords\n}\n\n// Find the view element corresponding to a given line. Return null\n// when the line isn't visible.\nfunction findViewIndex(cm, n) {\n  if (n >= cm.display.viewTo) { return null }\n  n -= cm.display.viewFrom;\n  if (n < 0) { return null }\n  var view = cm.display.view;\n  for (var i = 0; i < view.length; i++) {\n    n -= view[i].size;\n    if (n < 0) { return i }\n  }\n}\n\nfunction updateSelection(cm) {\n  cm.display.input.showSelection(cm.display.input.prepareSelection());\n}\n\nfunction prepareSelection(cm, primary) {\n  if ( primary === void 0 ) primary = true;\n\n  var doc = cm.doc, result = {};\n  var curFragment = result.cursors = document.createDocumentFragment();\n  var selFragment = result.selection = document.createDocumentFragment();\n\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\n    if (!primary && i == doc.sel.primIndex) { continue }\n    var range$$1 = doc.sel.ranges[i];\n    if (range$$1.from().line >= cm.display.viewTo || range$$1.to().line < cm.display.viewFrom) { continue }\n    var collapsed = range$$1.empty();\n    if (collapsed || cm.options.showCursorWhenSelecting)\n      { drawSelectionCursor(cm, range$$1.head, curFragment); }\n    if (!collapsed)\n      { drawSelectionRange(cm, range$$1, selFragment); }\n  }\n  return result\n}\n\n// Draws a cursor for the given range\nfunction drawSelectionCursor(cm, head, output) {\n  var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n  var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n  cursor.style.left = pos.left + \"px\";\n  cursor.style.top = pos.top + \"px\";\n  cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n  if (pos.other) {\n    // Secondary cursor, shown when on a 'jump' in bi-directional text\n    var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n    otherCursor.style.display = \"\";\n    otherCursor.style.left = pos.other.left + \"px\";\n    otherCursor.style.top = pos.other.top + \"px\";\n    otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n  }\n}\n\nfunction cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n// Draws the given range as a highlighted selection\nfunction drawSelectionRange(cm, range$$1, output) {\n  var display = cm.display, doc = cm.doc;\n  var fragment = document.createDocumentFragment();\n  var padding = paddingH(cm.display), leftSide = padding.left;\n  var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n  var docLTR = doc.direction == \"ltr\";\n\n  function add(left, top, width, bottom) {\n    if (top < 0) { top = 0; }\n    top = Math.round(top);\n    bottom = Math.round(bottom);\n    fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n  }\n\n  function drawForLine(line, fromArg, toArg) {\n    var lineObj = getLine(doc, line);\n    var lineLen = lineObj.text.length;\n    var start, end;\n    function coords(ch, bias) {\n      return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n    }\n\n    function wrapX(pos, dir, side) {\n      var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n      var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n      var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n      return coords(ch, prop)[prop]\n    }\n\n    var order = getOrder(lineObj, doc.direction);\n    iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n      var ltr = dir == \"ltr\";\n      var fromPos = coords(from, ltr ? \"left\" : \"right\");\n      var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n      var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n      var first = i == 0, last = !order || i == order.length - 1;\n      if (toPos.top - fromPos.top <= 3) { // Single line\n        var openLeft = (docLTR ? openStart : openEnd) && first;\n        var openRight = (docLTR ? openEnd : openStart) && last;\n        var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n        var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n        add(left, fromPos.top, right - left, fromPos.bottom);\n      } else { // Multiple lines\n        var topLeft, topRight, botLeft, botRight;\n        if (ltr) {\n          topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n          topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n          botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n          botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n        } else {\n          topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n          topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n          botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n          botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n        }\n        add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n        if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n        add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n      }\n\n      if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n      if (cmpCoords(toPos, start) < 0) { start = toPos; }\n      if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n      if (cmpCoords(toPos, end) < 0) { end = toPos; }\n    });\n    return {start: start, end: end}\n  }\n\n  var sFrom = range$$1.from(), sTo = range$$1.to();\n  if (sFrom.line == sTo.line) {\n    drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n  } else {\n    var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n    var singleVLine = visualLine(fromLine) == visualLine(toLine);\n    var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n    var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n    if (singleVLine) {\n      if (leftEnd.top < rightStart.top - 2) {\n        add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n        add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n      } else {\n        add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n      }\n    }\n    if (leftEnd.bottom < rightStart.top)\n      { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n  }\n\n  output.appendChild(fragment);\n}\n\n// Cursor-blinking\nfunction restartBlink(cm) {\n  if (!cm.state.focused) { return }\n  var display = cm.display;\n  clearInterval(display.blinker);\n  var on = true;\n  display.cursorDiv.style.visibility = \"\";\n  if (cm.options.cursorBlinkRate > 0)\n    { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\"; },\n      cm.options.cursorBlinkRate); }\n  else if (cm.options.cursorBlinkRate < 0)\n    { display.cursorDiv.style.visibility = \"hidden\"; }\n}\n\nfunction ensureFocus(cm) {\n  if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm); }\n}\n\nfunction delayBlurEvent(cm) {\n  cm.state.delayingBlurEvent = true;\n  setTimeout(function () { if (cm.state.delayingBlurEvent) {\n    cm.state.delayingBlurEvent = false;\n    onBlur(cm);\n  } }, 100);\n}\n\nfunction onFocus(cm, e) {\n  if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false; }\n\n  if (cm.options.readOnly == \"nocursor\") { return }\n  if (!cm.state.focused) {\n    signal(cm, \"focus\", cm, e);\n    cm.state.focused = true;\n    addClass(cm.display.wrapper, \"CodeMirror-focused\");\n    // This test prevents this from firing when a context\n    // menu is closed (since the input reset would kill the\n    // select-all detection hack)\n    if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n      cm.display.input.reset();\n      if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n    }\n    cm.display.input.receivedFocus();\n  }\n  restartBlink(cm);\n}\nfunction onBlur(cm, e) {\n  if (cm.state.delayingBlurEvent) { return }\n\n  if (cm.state.focused) {\n    signal(cm, \"blur\", cm, e);\n    cm.state.focused = false;\n    rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n  }\n  clearInterval(cm.display.blinker);\n  setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n}\n\n// Read the actual heights of the rendered lines, and update their\n// stored heights to match.\nfunction updateHeightsInViewport(cm) {\n  var display = cm.display;\n  var prevBottom = display.lineDiv.offsetTop;\n  for (var i = 0; i < display.view.length; i++) {\n    var cur = display.view[i], height = (void 0);\n    if (cur.hidden) { continue }\n    if (ie && ie_version < 8) {\n      var bot = cur.node.offsetTop + cur.node.offsetHeight;\n      height = bot - prevBottom;\n      prevBottom = bot;\n    } else {\n      var box = cur.node.getBoundingClientRect();\n      height = box.bottom - box.top;\n    }\n    var diff = cur.line.height - height;\n    if (height < 2) { height = textHeight(display); }\n    if (diff > .005 || diff < -.005) {\n      updateLineHeight(cur.line, height);\n      updateWidgetHeight(cur.line);\n      if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n        { updateWidgetHeight(cur.rest[j]); } }\n    }\n  }\n}\n\n// Read and store the height of line widgets associated with the\n// given line.\nfunction updateWidgetHeight(line) {\n  if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n    var w = line.widgets[i], parent = w.node.parentNode;\n    if (parent) { w.height = parent.offsetHeight; }\n  } }\n}\n\n// Compute the lines that are visible in a given viewport (defaults\n// the the current scroll position). viewport may contain top,\n// height, and ensure (see op.scrollToPos) properties.\nfunction visibleLines(display, doc, viewport) {\n  var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n  top = Math.floor(top - paddingTop(display));\n  var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n  var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n  // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n  // forces those lines into the viewport (if possible).\n  if (viewport && viewport.ensure) {\n    var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n    if (ensureFrom < from) {\n      from = ensureFrom;\n      to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n    } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n      from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n      to = ensureTo;\n    }\n  }\n  return {from: from, to: Math.max(to, from + 1)}\n}\n\n// Re-align line numbers and gutter marks to compensate for\n// horizontal scrolling.\nfunction alignHorizontally(cm) {\n  var display = cm.display, view = display.view;\n  if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n  var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n  var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n  for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n    if (cm.options.fixedGutter) {\n      if (view[i].gutter)\n        { view[i].gutter.style.left = left; }\n      if (view[i].gutterBackground)\n        { view[i].gutterBackground.style.left = left; }\n    }\n    var align = view[i].alignable;\n    if (align) { for (var j = 0; j < align.length; j++)\n      { align[j].style.left = left; } }\n  } }\n  if (cm.options.fixedGutter)\n    { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n}\n\n// Used to ensure that the line number gutter is still the right\n// size for the current document size. Returns true when an update\n// is needed.\nfunction maybeUpdateLineNumberWidth(cm) {\n  if (!cm.options.lineNumbers) { return false }\n  var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n  if (last.length != display.lineNumChars) {\n    var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                               \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n    var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n    display.lineGutter.style.width = \"\";\n    display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n    display.lineNumWidth = display.lineNumInnerWidth + padding;\n    display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n    display.lineGutter.style.width = display.lineNumWidth + \"px\";\n    updateGutterSpace(cm);\n    return true\n  }\n  return false\n}\n\n// SCROLLING THINGS INTO VIEW\n\n// If an editor sits on the top or bottom of the window, partially\n// scrolled out of view, this ensures that the cursor is visible.\nfunction maybeScrollWindow(cm, rect) {\n  if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n  var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n  if (rect.top + box.top < 0) { doScroll = true; }\n  else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n  if (doScroll != null && !phantom) {\n    var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n    cm.display.lineSpace.appendChild(scrollNode);\n    scrollNode.scrollIntoView(doScroll);\n    cm.display.lineSpace.removeChild(scrollNode);\n  }\n}\n\n// Scroll a given position into view (immediately), verifying that\n// it actually became visible (as line heights are accurately\n// measured, the position of something may 'drift' during drawing).\nfunction scrollPosIntoView(cm, pos, end, margin) {\n  if (margin == null) { margin = 0; }\n  var rect;\n  if (!cm.options.lineWrapping && pos == end) {\n    // Set pos and end to the cursor positions around the character pos sticks to\n    // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n    // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n    pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n    end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n  }\n  for (var limit = 0; limit < 5; limit++) {\n    var changed = false;\n    var coords = cursorCoords(cm, pos);\n    var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n    rect = {left: Math.min(coords.left, endCoords.left),\n            top: Math.min(coords.top, endCoords.top) - margin,\n            right: Math.max(coords.left, endCoords.left),\n            bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n    var scrollPos = calculateScrollPos(cm, rect);\n    var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n    if (scrollPos.scrollTop != null) {\n      updateScrollTop(cm, scrollPos.scrollTop);\n      if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n    }\n    if (scrollPos.scrollLeft != null) {\n      setScrollLeft(cm, scrollPos.scrollLeft);\n      if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n    }\n    if (!changed) { break }\n  }\n  return rect\n}\n\n// Scroll a given set of coordinates into view (immediately).\nfunction scrollIntoView(cm, rect) {\n  var scrollPos = calculateScrollPos(cm, rect);\n  if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n  if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n}\n\n// Calculate a new scroll position needed to scroll the given\n// rectangle into view. Returns an object with scrollTop and\n// scrollLeft properties. When these are undefined, the\n// vertical/horizontal position does not need to be adjusted.\nfunction calculateScrollPos(cm, rect) {\n  var display = cm.display, snapMargin = textHeight(cm.display);\n  if (rect.top < 0) { rect.top = 0; }\n  var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n  var screen = displayHeight(cm), result = {};\n  if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n  var docBottom = cm.doc.height + paddingVert(display);\n  var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n  if (rect.top < screentop) {\n    result.scrollTop = atTop ? 0 : rect.top;\n  } else if (rect.bottom > screentop + screen) {\n    var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n    if (newTop != screentop) { result.scrollTop = newTop; }\n  }\n\n  var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n  var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n  var tooWide = rect.right - rect.left > screenw;\n  if (tooWide) { rect.right = rect.left + screenw; }\n  if (rect.left < 10)\n    { result.scrollLeft = 0; }\n  else if (rect.left < screenleft)\n    { result.scrollLeft = Math.max(0, rect.left - (tooWide ? 0 : 10)); }\n  else if (rect.right > screenw + screenleft - 3)\n    { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n  return result\n}\n\n// Store a relative adjustment to the scroll position in the current\n// operation (to be applied when the operation finishes).\nfunction addToScrollTop(cm, top) {\n  if (top == null) { return }\n  resolveScrollToPos(cm);\n  cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n}\n\n// Make sure that at the end of the operation the current cursor is\n// shown.\nfunction ensureCursorVisible(cm) {\n  resolveScrollToPos(cm);\n  var cur = cm.getCursor();\n  cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n}\n\nfunction scrollToCoords(cm, x, y) {\n  if (x != null || y != null) { resolveScrollToPos(cm); }\n  if (x != null) { cm.curOp.scrollLeft = x; }\n  if (y != null) { cm.curOp.scrollTop = y; }\n}\n\nfunction scrollToRange(cm, range$$1) {\n  resolveScrollToPos(cm);\n  cm.curOp.scrollToPos = range$$1;\n}\n\n// When an operation has its scrollToPos property set, and another\n// scroll action is applied before the end of the operation, this\n// 'simulates' scrolling that position into view in a cheap way, so\n// that the effect of intermediate scroll commands is not ignored.\nfunction resolveScrollToPos(cm) {\n  var range$$1 = cm.curOp.scrollToPos;\n  if (range$$1) {\n    cm.curOp.scrollToPos = null;\n    var from = estimateCoords(cm, range$$1.from), to = estimateCoords(cm, range$$1.to);\n    scrollToCoordsRange(cm, from, to, range$$1.margin);\n  }\n}\n\nfunction scrollToCoordsRange(cm, from, to, margin) {\n  var sPos = calculateScrollPos(cm, {\n    left: Math.min(from.left, to.left),\n    top: Math.min(from.top, to.top) - margin,\n    right: Math.max(from.right, to.right),\n    bottom: Math.max(from.bottom, to.bottom) + margin\n  });\n  scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n}\n\n// Sync the scrollable area and scrollbars, ensure the viewport\n// covers the visible area.\nfunction updateScrollTop(cm, val) {\n  if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n  if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n  setScrollTop(cm, val, true);\n  if (gecko) { updateDisplaySimple(cm); }\n  startWorker(cm, 100);\n}\n\nfunction setScrollTop(cm, val, forceScroll) {\n  val = Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val);\n  if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n  cm.doc.scrollTop = val;\n  cm.display.scrollbars.setScrollTop(val);\n  if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n}\n\n// Sync scroller and scrollbar, ensure the gutter elements are\n// aligned.\nfunction setScrollLeft(cm, val, isScroller, forceScroll) {\n  val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth);\n  if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n  cm.doc.scrollLeft = val;\n  alignHorizontally(cm);\n  if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n  cm.display.scrollbars.setScrollLeft(val);\n}\n\n// SCROLLBARS\n\n// Prepare DOM reads needed to update the scrollbars. Done in one\n// shot to minimize update/measure roundtrips.\nfunction measureForScrollbars(cm) {\n  var d = cm.display, gutterW = d.gutters.offsetWidth;\n  var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n  return {\n    clientHeight: d.scroller.clientHeight,\n    viewHeight: d.wrapper.clientHeight,\n    scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n    viewWidth: d.wrapper.clientWidth,\n    barLeft: cm.options.fixedGutter ? gutterW : 0,\n    docHeight: docH,\n    scrollHeight: docH + scrollGap(cm) + d.barHeight,\n    nativeBarWidth: d.nativeBarWidth,\n    gutterWidth: gutterW\n  }\n}\n\nvar NativeScrollbars = function(place, scroll, cm) {\n  this.cm = cm;\n  var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n  var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n  vert.tabIndex = horiz.tabIndex = -1;\n  place(vert); place(horiz);\n\n  on(vert, \"scroll\", function () {\n    if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n  });\n  on(horiz, \"scroll\", function () {\n    if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n  });\n\n  this.checkedZeroWidth = false;\n  // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n  if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n};\n\nNativeScrollbars.prototype.update = function (measure) {\n  var needsH = measure.scrollWidth > measure.clientWidth + 1;\n  var needsV = measure.scrollHeight > measure.clientHeight + 1;\n  var sWidth = measure.nativeBarWidth;\n\n  if (needsV) {\n    this.vert.style.display = \"block\";\n    this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n    var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n    // A bug in IE8 can cause this value to be negative, so guard it.\n    this.vert.firstChild.style.height =\n      Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n  } else {\n    this.vert.style.display = \"\";\n    this.vert.firstChild.style.height = \"0\";\n  }\n\n  if (needsH) {\n    this.horiz.style.display = \"block\";\n    this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n    this.horiz.style.left = measure.barLeft + \"px\";\n    var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n    this.horiz.firstChild.style.width =\n      Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n  } else {\n    this.horiz.style.display = \"\";\n    this.horiz.firstChild.style.width = \"0\";\n  }\n\n  if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n    if (sWidth == 0) { this.zeroWidthHack(); }\n    this.checkedZeroWidth = true;\n  }\n\n  return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n};\n\nNativeScrollbars.prototype.setScrollLeft = function (pos) {\n  if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n  if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n};\n\nNativeScrollbars.prototype.setScrollTop = function (pos) {\n  if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n  if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n};\n\nNativeScrollbars.prototype.zeroWidthHack = function () {\n  var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n  this.horiz.style.height = this.vert.style.width = w;\n  this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n  this.disableHoriz = new Delayed;\n  this.disableVert = new Delayed;\n};\n\nNativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n  bar.style.pointerEvents = \"auto\";\n  function maybeDisable() {\n    // To find out whether the scrollbar is still visible, we\n    // check whether the element under the pixel in the bottom\n    // right corner of the scrollbar box is the scrollbar box\n    // itself (when the bar is still visible) or its filler child\n    // (when the bar is hidden). If it is still visible, we keep\n    // it enabled, if it's hidden, we disable pointer events.\n    var box = bar.getBoundingClientRect();\n    var elt$$1 = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n        : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n    if (elt$$1 != bar) { bar.style.pointerEvents = \"none\"; }\n    else { delay.set(1000, maybeDisable); }\n  }\n  delay.set(1000, maybeDisable);\n};\n\nNativeScrollbars.prototype.clear = function () {\n  var parent = this.horiz.parentNode;\n  parent.removeChild(this.horiz);\n  parent.removeChild(this.vert);\n};\n\nvar NullScrollbars = function () {};\n\nNullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\nNullScrollbars.prototype.setScrollLeft = function () {};\nNullScrollbars.prototype.setScrollTop = function () {};\nNullScrollbars.prototype.clear = function () {};\n\nfunction updateScrollbars(cm, measure) {\n  if (!measure) { measure = measureForScrollbars(cm); }\n  var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n  updateScrollbarsInner(cm, measure);\n  for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n    if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n      { updateHeightsInViewport(cm); }\n    updateScrollbarsInner(cm, measureForScrollbars(cm));\n    startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n  }\n}\n\n// Re-synchronize the fake scrollbars with the actual size of the\n// content.\nfunction updateScrollbarsInner(cm, measure) {\n  var d = cm.display;\n  var sizes = d.scrollbars.update(measure);\n\n  d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n  d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n  d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n  if (sizes.right && sizes.bottom) {\n    d.scrollbarFiller.style.display = \"block\";\n    d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n    d.scrollbarFiller.style.width = sizes.right + \"px\";\n  } else { d.scrollbarFiller.style.display = \"\"; }\n  if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n    d.gutterFiller.style.display = \"block\";\n    d.gutterFiller.style.height = sizes.bottom + \"px\";\n    d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n  } else { d.gutterFiller.style.display = \"\"; }\n}\n\nvar scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\nfunction initScrollbars(cm) {\n  if (cm.display.scrollbars) {\n    cm.display.scrollbars.clear();\n    if (cm.display.scrollbars.addClass)\n      { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n    cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n    // Prevent clicks in the scrollbars from killing focus\n    on(node, \"mousedown\", function () {\n      if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n    });\n    node.setAttribute(\"cm-not-content\", \"true\");\n  }, function (pos, axis) {\n    if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n    else { updateScrollTop(cm, pos); }\n  }, cm);\n  if (cm.display.scrollbars.addClass)\n    { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n}\n\n// Operations are used to wrap a series of changes to the editor\n// state in such a way that each change won't have to update the\n// cursor and display (which would be awkward, slow, and\n// error-prone). Instead, display updates are batched and then all\n// combined and executed at once.\n\nvar nextOpId = 0;\n// Start a new operation.\nfunction startOperation(cm) {\n  cm.curOp = {\n    cm: cm,\n    viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n    startHeight: cm.doc.height, // Used to detect need to update scrollbar\n    forceUpdate: false,      // Used to force a redraw\n    updateInput: null,       // Whether to reset the input textarea\n    typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n    changeObjs: null,        // Accumulated changes, for firing change events\n    cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n    cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n    selectionChanged: false, // Whether the selection needs to be redrawn\n    updateMaxLine: false,    // Set when the widest line needs to be determined anew\n    scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n    scrollToPos: null,       // Used to scroll to a specific position\n    focus: false,\n    id: ++nextOpId           // Unique ID\n  };\n  pushOperation(cm.curOp);\n}\n\n// Finish an operation, updating the display and signalling delayed events\nfunction endOperation(cm) {\n  var op = cm.curOp;\n  finishOperation(op, function (group) {\n    for (var i = 0; i < group.ops.length; i++)\n      { group.ops[i].cm.curOp = null; }\n    endOperations(group);\n  });\n}\n\n// The DOM updates done when an operation finishes are batched so\n// that the minimum number of relayouts are required.\nfunction endOperations(group) {\n  var ops = group.ops;\n  for (var i = 0; i < ops.length; i++) // Read DOM\n    { endOperation_R1(ops[i]); }\n  for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n    { endOperation_W1(ops[i$1]); }\n  for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n    { endOperation_R2(ops[i$2]); }\n  for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n    { endOperation_W2(ops[i$3]); }\n  for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n    { endOperation_finish(ops[i$4]); }\n}\n\nfunction endOperation_R1(op) {\n  var cm = op.cm, display = cm.display;\n  maybeClipScrollbars(cm);\n  if (op.updateMaxLine) { findMaxLine(cm); }\n\n  op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n    op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                       op.scrollToPos.to.line >= display.viewTo) ||\n    display.maxLineChanged && cm.options.lineWrapping;\n  op.update = op.mustUpdate &&\n    new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n}\n\nfunction endOperation_W1(op) {\n  op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n}\n\nfunction endOperation_R2(op) {\n  var cm = op.cm, display = cm.display;\n  if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n  op.barMeasure = measureForScrollbars(cm);\n\n  // If the max line changed since it was last measured, measure it,\n  // and ensure the document's width matches it.\n  // updateDisplay_W2 will use these properties to do the actual resizing\n  if (display.maxLineChanged && !cm.options.lineWrapping) {\n    op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n    cm.display.sizerWidth = op.adjustWidthTo;\n    op.barMeasure.scrollWidth =\n      Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n    op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n  }\n\n  if (op.updatedDisplay || op.selectionChanged)\n    { op.preparedSelection = display.input.prepareSelection(); }\n}\n\nfunction endOperation_W2(op) {\n  var cm = op.cm;\n\n  if (op.adjustWidthTo != null) {\n    cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n    if (op.maxScrollLeft < cm.doc.scrollLeft)\n      { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n    cm.display.maxLineChanged = false;\n  }\n\n  var takeFocus = op.focus && op.focus == activeElt();\n  if (op.preparedSelection)\n    { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n  if (op.updatedDisplay || op.startHeight != cm.doc.height)\n    { updateScrollbars(cm, op.barMeasure); }\n  if (op.updatedDisplay)\n    { setDocumentHeight(cm, op.barMeasure); }\n\n  if (op.selectionChanged) { restartBlink(cm); }\n\n  if (cm.state.focused && op.updateInput)\n    { cm.display.input.reset(op.typing); }\n  if (takeFocus) { ensureFocus(op.cm); }\n}\n\nfunction endOperation_finish(op) {\n  var cm = op.cm, display = cm.display, doc = cm.doc;\n\n  if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n  // Abort mouse wheel delta measurement, when scrolling explicitly\n  if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n    { display.wheelStartX = display.wheelStartY = null; }\n\n  // Propagate the scroll position to the actual DOM scroller\n  if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n  if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n  // If we need to scroll a specific position into view, do so.\n  if (op.scrollToPos) {\n    var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                 clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n    maybeScrollWindow(cm, rect);\n  }\n\n  // Fire events for markers that are hidden/unidden by editing or\n  // undoing\n  var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n  if (hidden) { for (var i = 0; i < hidden.length; ++i)\n    { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n  if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n    { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n  if (display.wrapper.offsetHeight)\n    { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n  // Fire change events, and delayed event handlers\n  if (op.changeObjs)\n    { signal(cm, \"changes\", cm, op.changeObjs); }\n  if (op.update)\n    { op.update.finish(); }\n}\n\n// Run the given function in an operation\nfunction runInOp(cm, f) {\n  if (cm.curOp) { return f() }\n  startOperation(cm);\n  try { return f() }\n  finally { endOperation(cm); }\n}\n// Wraps a function in an operation. Returns the wrapped function.\nfunction operation(cm, f) {\n  return function() {\n    if (cm.curOp) { return f.apply(cm, arguments) }\n    startOperation(cm);\n    try { return f.apply(cm, arguments) }\n    finally { endOperation(cm); }\n  }\n}\n// Used to add methods to editor and doc instances, wrapping them in\n// operations.\nfunction methodOp(f) {\n  return function() {\n    if (this.curOp) { return f.apply(this, arguments) }\n    startOperation(this);\n    try { return f.apply(this, arguments) }\n    finally { endOperation(this); }\n  }\n}\nfunction docMethodOp(f) {\n  return function() {\n    var cm = this.cm;\n    if (!cm || cm.curOp) { return f.apply(this, arguments) }\n    startOperation(cm);\n    try { return f.apply(this, arguments) }\n    finally { endOperation(cm); }\n  }\n}\n\n// Updates the display.view data structure for a given change to the\n// document. From and to are in pre-change coordinates. Lendiff is\n// the amount of lines added or subtracted by the change. This is\n// used for changes that span multiple lines, or change the way\n// lines are divided into visual lines. regLineChange (below)\n// registers single-line changes.\nfunction regChange(cm, from, to, lendiff) {\n  if (from == null) { from = cm.doc.first; }\n  if (to == null) { to = cm.doc.first + cm.doc.size; }\n  if (!lendiff) { lendiff = 0; }\n\n  var display = cm.display;\n  if (lendiff && to < display.viewTo &&\n      (display.updateLineNumbers == null || display.updateLineNumbers > from))\n    { display.updateLineNumbers = from; }\n\n  cm.curOp.viewChanged = true;\n\n  if (from >= display.viewTo) { // Change after\n    if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n      { resetView(cm); }\n  } else if (to <= display.viewFrom) { // Change before\n    if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n      resetView(cm);\n    } else {\n      display.viewFrom += lendiff;\n      display.viewTo += lendiff;\n    }\n  } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n    resetView(cm);\n  } else if (from <= display.viewFrom) { // Top overlap\n    var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n    if (cut) {\n      display.view = display.view.slice(cut.index);\n      display.viewFrom = cut.lineN;\n      display.viewTo += lendiff;\n    } else {\n      resetView(cm);\n    }\n  } else if (to >= display.viewTo) { // Bottom overlap\n    var cut$1 = viewCuttingPoint(cm, from, from, -1);\n    if (cut$1) {\n      display.view = display.view.slice(0, cut$1.index);\n      display.viewTo = cut$1.lineN;\n    } else {\n      resetView(cm);\n    }\n  } else { // Gap in the middle\n    var cutTop = viewCuttingPoint(cm, from, from, -1);\n    var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n    if (cutTop && cutBot) {\n      display.view = display.view.slice(0, cutTop.index)\n        .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n        .concat(display.view.slice(cutBot.index));\n      display.viewTo += lendiff;\n    } else {\n      resetView(cm);\n    }\n  }\n\n  var ext = display.externalMeasured;\n  if (ext) {\n    if (to < ext.lineN)\n      { ext.lineN += lendiff; }\n    else if (from < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n  }\n}\n\n// Register a change to a single line. Type must be one of \"text\",\n// \"gutter\", \"class\", \"widget\"\nfunction regLineChange(cm, line, type) {\n  cm.curOp.viewChanged = true;\n  var display = cm.display, ext = cm.display.externalMeasured;\n  if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n    { display.externalMeasured = null; }\n\n  if (line < display.viewFrom || line >= display.viewTo) { return }\n  var lineView = display.view[findViewIndex(cm, line)];\n  if (lineView.node == null) { return }\n  var arr = lineView.changes || (lineView.changes = []);\n  if (indexOf(arr, type) == -1) { arr.push(type); }\n}\n\n// Clear the view.\nfunction resetView(cm) {\n  cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n  cm.display.view = [];\n  cm.display.viewOffset = 0;\n}\n\nfunction viewCuttingPoint(cm, oldN, newN, dir) {\n  var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n  if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n    { return {index: index, lineN: newN} }\n  var n = cm.display.viewFrom;\n  for (var i = 0; i < index; i++)\n    { n += view[i].size; }\n  if (n != oldN) {\n    if (dir > 0) {\n      if (index == view.length - 1) { return null }\n      diff = (n + view[index].size) - oldN;\n      index++;\n    } else {\n      diff = n - oldN;\n    }\n    oldN += diff; newN += diff;\n  }\n  while (visualLineNo(cm.doc, newN) != newN) {\n    if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n    newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n    index += dir;\n  }\n  return {index: index, lineN: newN}\n}\n\n// Force the view to cover a given range, adding empty view element\n// or clipping off existing ones as needed.\nfunction adjustView(cm, from, to) {\n  var display = cm.display, view = display.view;\n  if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n    display.view = buildViewArray(cm, from, to);\n    display.viewFrom = from;\n  } else {\n    if (display.viewFrom > from)\n      { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n    else if (display.viewFrom < from)\n      { display.view = display.view.slice(findViewIndex(cm, from)); }\n    display.viewFrom = from;\n    if (display.viewTo < to)\n      { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n    else if (display.viewTo > to)\n      { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n  }\n  display.viewTo = to;\n}\n\n// Count the number of lines in the view whose DOM representation is\n// out of date (or nonexistent).\nfunction countDirtyView(cm) {\n  var view = cm.display.view, dirty = 0;\n  for (var i = 0; i < view.length; i++) {\n    var lineView = view[i];\n    if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n  }\n  return dirty\n}\n\n// HIGHLIGHT WORKER\n\nfunction startWorker(cm, time) {\n  if (cm.doc.highlightFrontier < cm.display.viewTo)\n    { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n}\n\nfunction highlightWorker(cm) {\n  var doc = cm.doc;\n  if (doc.highlightFrontier >= cm.display.viewTo) { return }\n  var end = +new Date + cm.options.workTime;\n  var context = getContextBefore(cm, doc.highlightFrontier);\n  var changedLines = [];\n\n  doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n    if (context.line >= cm.display.viewFrom) { // Visible\n      var oldStyles = line.styles;\n      var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n      var highlighted = highlightLine(cm, line, context, true);\n      if (resetState) { context.state = resetState; }\n      line.styles = highlighted.styles;\n      var oldCls = line.styleClasses, newCls = highlighted.classes;\n      if (newCls) { line.styleClasses = newCls; }\n      else if (oldCls) { line.styleClasses = null; }\n      var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n        oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n      for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n      if (ischange) { changedLines.push(context.line); }\n      line.stateAfter = context.save();\n      context.nextLine();\n    } else {\n      if (line.text.length <= cm.options.maxHighlightLength)\n        { processLine(cm, line.text, context); }\n      line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n      context.nextLine();\n    }\n    if (+new Date > end) {\n      startWorker(cm, cm.options.workDelay);\n      return true\n    }\n  });\n  doc.highlightFrontier = context.line;\n  doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n  if (changedLines.length) { runInOp(cm, function () {\n    for (var i = 0; i < changedLines.length; i++)\n      { regLineChange(cm, changedLines[i], \"text\"); }\n  }); }\n}\n\n// DISPLAY DRAWING\n\nvar DisplayUpdate = function(cm, viewport, force) {\n  var display = cm.display;\n\n  this.viewport = viewport;\n  // Store some values that we'll need later (but don't want to force a relayout for)\n  this.visible = visibleLines(display, cm.doc, viewport);\n  this.editorIsHidden = !display.wrapper.offsetWidth;\n  this.wrapperHeight = display.wrapper.clientHeight;\n  this.wrapperWidth = display.wrapper.clientWidth;\n  this.oldDisplayWidth = displayWidth(cm);\n  this.force = force;\n  this.dims = getDimensions(cm);\n  this.events = [];\n};\n\nDisplayUpdate.prototype.signal = function (emitter, type) {\n  if (hasHandler(emitter, type))\n    { this.events.push(arguments); }\n};\nDisplayUpdate.prototype.finish = function () {\n    var this$1 = this;\n\n  for (var i = 0; i < this.events.length; i++)\n    { signal.apply(null, this$1.events[i]); }\n};\n\nfunction maybeClipScrollbars(cm) {\n  var display = cm.display;\n  if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n    display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n    display.heightForcer.style.height = scrollGap(cm) + \"px\";\n    display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n    display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n    display.scrollbarsClipped = true;\n  }\n}\n\nfunction selectionSnapshot(cm) {\n  if (cm.hasFocus()) { return null }\n  var active = activeElt();\n  if (!active || !contains(cm.display.lineDiv, active)) { return null }\n  var result = {activeElt: active};\n  if (window.getSelection) {\n    var sel = window.getSelection();\n    if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n      result.anchorNode = sel.anchorNode;\n      result.anchorOffset = sel.anchorOffset;\n      result.focusNode = sel.focusNode;\n      result.focusOffset = sel.focusOffset;\n    }\n  }\n  return result\n}\n\nfunction restoreSelection(snapshot) {\n  if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n  snapshot.activeElt.focus();\n  if (snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n    var sel = window.getSelection(), range$$1 = document.createRange();\n    range$$1.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n    range$$1.collapse(false);\n    sel.removeAllRanges();\n    sel.addRange(range$$1);\n    sel.extend(snapshot.focusNode, snapshot.focusOffset);\n  }\n}\n\n// Does the actual updating of the line display. Bails out\n// (returning false) when there is nothing to be done and forced is\n// false.\nfunction updateDisplayIfNeeded(cm, update) {\n  var display = cm.display, doc = cm.doc;\n\n  if (update.editorIsHidden) {\n    resetView(cm);\n    return false\n  }\n\n  // Bail out if the visible area is already rendered and nothing changed.\n  if (!update.force &&\n      update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n      display.renderedView == display.view && countDirtyView(cm) == 0)\n    { return false }\n\n  if (maybeUpdateLineNumberWidth(cm)) {\n    resetView(cm);\n    update.dims = getDimensions(cm);\n  }\n\n  // Compute a suitable new viewport (from & to)\n  var end = doc.first + doc.size;\n  var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n  var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n  if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n  if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n  if (sawCollapsedSpans) {\n    from = visualLineNo(cm.doc, from);\n    to = visualLineEndNo(cm.doc, to);\n  }\n\n  var different = from != display.viewFrom || to != display.viewTo ||\n    display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n  adjustView(cm, from, to);\n\n  display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n  // Position the mover div to align with the current scroll position\n  cm.display.mover.style.top = display.viewOffset + \"px\";\n\n  var toUpdate = countDirtyView(cm);\n  if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n    { return false }\n\n  // For big changes, we hide the enclosing element during the\n  // update, since that speeds up the operations on most browsers.\n  var selSnapshot = selectionSnapshot(cm);\n  if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n  patchDisplay(cm, display.updateLineNumbers, update.dims);\n  if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n  display.renderedView = display.view;\n  // There might have been a widget with a focused element that got\n  // hidden or updated, if so re-focus it.\n  restoreSelection(selSnapshot);\n\n  // Prevent selection and cursors from interfering with the scroll\n  // width and height.\n  removeChildren(display.cursorDiv);\n  removeChildren(display.selectionDiv);\n  display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n  if (different) {\n    display.lastWrapHeight = update.wrapperHeight;\n    display.lastWrapWidth = update.wrapperWidth;\n    startWorker(cm, 400);\n  }\n\n  display.updateLineNumbers = null;\n\n  return true\n}\n\nfunction postUpdateDisplay(cm, update) {\n  var viewport = update.viewport;\n\n  for (var first = true;; first = false) {\n    if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n      // Clip forced viewport to actual scrollable area.\n      if (viewport && viewport.top != null)\n        { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n      // Updated line heights might result in the drawn area not\n      // actually covering the viewport. Keep looping until it does.\n      update.visible = visibleLines(cm.display, cm.doc, viewport);\n      if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n        { break }\n    }\n    if (!updateDisplayIfNeeded(cm, update)) { break }\n    updateHeightsInViewport(cm);\n    var barMeasure = measureForScrollbars(cm);\n    updateSelection(cm);\n    updateScrollbars(cm, barMeasure);\n    setDocumentHeight(cm, barMeasure);\n    update.force = false;\n  }\n\n  update.signal(cm, \"update\", cm);\n  if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n    update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n    cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n  }\n}\n\nfunction updateDisplaySimple(cm, viewport) {\n  var update = new DisplayUpdate(cm, viewport);\n  if (updateDisplayIfNeeded(cm, update)) {\n    updateHeightsInViewport(cm);\n    postUpdateDisplay(cm, update);\n    var barMeasure = measureForScrollbars(cm);\n    updateSelection(cm);\n    updateScrollbars(cm, barMeasure);\n    setDocumentHeight(cm, barMeasure);\n    update.finish();\n  }\n}\n\n// Sync the actual display DOM structure with display.view, removing\n// nodes for lines that are no longer in view, and creating the ones\n// that are not there yet, and updating the ones that are out of\n// date.\nfunction patchDisplay(cm, updateNumbersFrom, dims) {\n  var display = cm.display, lineNumbers = cm.options.lineNumbers;\n  var container = display.lineDiv, cur = container.firstChild;\n\n  function rm(node) {\n    var next = node.nextSibling;\n    // Works around a throw-scroll bug in OS X Webkit\n    if (webkit && mac && cm.display.currentWheelTarget == node)\n      { node.style.display = \"none\"; }\n    else\n      { node.parentNode.removeChild(node); }\n    return next\n  }\n\n  var view = display.view, lineN = display.viewFrom;\n  // Loop over the elements in the view, syncing cur (the DOM nodes\n  // in display.lineDiv) with the view as we go.\n  for (var i = 0; i < view.length; i++) {\n    var lineView = view[i];\n    if (lineView.hidden) {\n    } else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n      var node = buildLineElement(cm, lineView, lineN, dims);\n      container.insertBefore(node, cur);\n    } else { // Already drawn\n      while (cur != lineView.node) { cur = rm(cur); }\n      var updateNumber = lineNumbers && updateNumbersFrom != null &&\n        updateNumbersFrom <= lineN && lineView.lineNumber;\n      if (lineView.changes) {\n        if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n        updateLineForChanges(cm, lineView, lineN, dims);\n      }\n      if (updateNumber) {\n        removeChildren(lineView.lineNumber);\n        lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n      }\n      cur = lineView.node.nextSibling;\n    }\n    lineN += lineView.size;\n  }\n  while (cur) { cur = rm(cur); }\n}\n\nfunction updateGutterSpace(cm) {\n  var width = cm.display.gutters.offsetWidth;\n  cm.display.sizer.style.marginLeft = width + \"px\";\n}\n\nfunction setDocumentHeight(cm, measure) {\n  cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n  cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n  cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n}\n\n// Rebuild the gutter elements, ensure the margin to the left of the\n// code matches their width.\nfunction updateGutters(cm) {\n  var gutters = cm.display.gutters, specs = cm.options.gutters;\n  removeChildren(gutters);\n  var i = 0;\n  for (; i < specs.length; ++i) {\n    var gutterClass = specs[i];\n    var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + gutterClass));\n    if (gutterClass == \"CodeMirror-linenumbers\") {\n      cm.display.lineGutter = gElt;\n      gElt.style.width = (cm.display.lineNumWidth || 1) + \"px\";\n    }\n  }\n  gutters.style.display = i ? \"\" : \"none\";\n  updateGutterSpace(cm);\n}\n\n// Make sure the gutters options contains the element\n// \"CodeMirror-linenumbers\" when the lineNumbers option is true.\nfunction setGuttersForLineNumbers(options) {\n  var found = indexOf(options.gutters, \"CodeMirror-linenumbers\");\n  if (found == -1 && options.lineNumbers) {\n    options.gutters = options.gutters.concat([\"CodeMirror-linenumbers\"]);\n  } else if (found > -1 && !options.lineNumbers) {\n    options.gutters = options.gutters.slice(0);\n    options.gutters.splice(found, 1);\n  }\n}\n\n// Since the delta values reported on mouse wheel events are\n// unstandardized between browsers and even browser versions, and\n// generally horribly unpredictable, this code starts by measuring\n// the scroll effect that the first few mouse wheel events have,\n// and, from that, detects the way it can convert deltas to pixel\n// offsets afterwards.\n//\n// The reason we want to know the amount a wheel event will scroll\n// is that it gives us a chance to update the display before the\n// actual scrolling happens, reducing flickering.\n\nvar wheelSamples = 0;\nvar wheelPixelsPerUnit = null;\n// Fill in a browser-detected starting value on browsers where we\n// know one. These don't have to be accurate -- the result of them\n// being wrong would just be a slight flicker on the first wheel\n// scroll (if it is large enough).\nif (ie) { wheelPixelsPerUnit = -.53; }\nelse if (gecko) { wheelPixelsPerUnit = 15; }\nelse if (chrome) { wheelPixelsPerUnit = -.7; }\nelse if (safari) { wheelPixelsPerUnit = -1/3; }\n\nfunction wheelEventDelta(e) {\n  var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n  if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n  if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n  else if (dy == null) { dy = e.wheelDelta; }\n  return {x: dx, y: dy}\n}\nfunction wheelEventPixels(e) {\n  var delta = wheelEventDelta(e);\n  delta.x *= wheelPixelsPerUnit;\n  delta.y *= wheelPixelsPerUnit;\n  return delta\n}\n\nfunction onScrollWheel(cm, e) {\n  var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n  var display = cm.display, scroll = display.scroller;\n  // Quit if there's nothing to scroll here\n  var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n  var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n  if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n  // Webkit browsers on OS X abort momentum scrolls when the target\n  // of the scroll event is removed from the scrollable element.\n  // This hack (see related code in patchDisplay) makes sure the\n  // element is kept around.\n  if (dy && mac && webkit) {\n    outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n      for (var i = 0; i < view.length; i++) {\n        if (view[i].node == cur) {\n          cm.display.currentWheelTarget = cur;\n          break outer\n        }\n      }\n    }\n  }\n\n  // On some browsers, horizontal scrolling will cause redraws to\n  // happen before the gutter has been realigned, causing it to\n  // wriggle around in a most unseemly way. When we have an\n  // estimated pixels/delta value, we just handle horizontal\n  // scrolling entirely here. It'll be slightly off from native, but\n  // better than glitching out.\n  if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n    if (dy && canScrollY)\n      { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n    setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n    // Only prevent default scrolling if vertical scrolling is\n    // actually possible. Otherwise, it causes vertical scroll\n    // jitter on OSX trackpads when deltaX is small and deltaY\n    // is large (issue #3579)\n    if (!dy || (dy && canScrollY))\n      { e_preventDefault(e); }\n    display.wheelStartX = null; // Abort measurement, if in progress\n    return\n  }\n\n  // 'Project' the visible viewport to cover the area that is being\n  // scrolled into view (if we know enough to estimate it).\n  if (dy && wheelPixelsPerUnit != null) {\n    var pixels = dy * wheelPixelsPerUnit;\n    var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n    if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n    else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n    updateDisplaySimple(cm, {top: top, bottom: bot});\n  }\n\n  if (wheelSamples < 20) {\n    if (display.wheelStartX == null) {\n      display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n      display.wheelDX = dx; display.wheelDY = dy;\n      setTimeout(function () {\n        if (display.wheelStartX == null) { return }\n        var movedX = scroll.scrollLeft - display.wheelStartX;\n        var movedY = scroll.scrollTop - display.wheelStartY;\n        var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n          (movedX && display.wheelDX && movedX / display.wheelDX);\n        display.wheelStartX = display.wheelStartY = null;\n        if (!sample) { return }\n        wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n        ++wheelSamples;\n      }, 200);\n    } else {\n      display.wheelDX += dx; display.wheelDY += dy;\n    }\n  }\n}\n\n// Selection objects are immutable. A new one is created every time\n// the selection changes. A selection is one or more non-overlapping\n// (and non-touching) ranges, sorted, and an integer that indicates\n// which one is the primary selection (the one that's scrolled into\n// view, that getCursor returns, etc).\nvar Selection = function(ranges, primIndex) {\n  this.ranges = ranges;\n  this.primIndex = primIndex;\n};\n\nSelection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\nSelection.prototype.equals = function (other) {\n    var this$1 = this;\n\n  if (other == this) { return true }\n  if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n  for (var i = 0; i < this.ranges.length; i++) {\n    var here = this$1.ranges[i], there = other.ranges[i];\n    if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n  }\n  return true\n};\n\nSelection.prototype.deepCopy = function () {\n    var this$1 = this;\n\n  var out = [];\n  for (var i = 0; i < this.ranges.length; i++)\n    { out[i] = new Range(copyPos(this$1.ranges[i].anchor), copyPos(this$1.ranges[i].head)); }\n  return new Selection(out, this.primIndex)\n};\n\nSelection.prototype.somethingSelected = function () {\n    var this$1 = this;\n\n  for (var i = 0; i < this.ranges.length; i++)\n    { if (!this$1.ranges[i].empty()) { return true } }\n  return false\n};\n\nSelection.prototype.contains = function (pos, end) {\n    var this$1 = this;\n\n  if (!end) { end = pos; }\n  for (var i = 0; i < this.ranges.length; i++) {\n    var range = this$1.ranges[i];\n    if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n      { return i }\n  }\n  return -1\n};\n\nvar Range = function(anchor, head) {\n  this.anchor = anchor; this.head = head;\n};\n\nRange.prototype.from = function () { return minPos(this.anchor, this.head) };\nRange.prototype.to = function () { return maxPos(this.anchor, this.head) };\nRange.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n// Take an unsorted, potentially overlapping set of ranges, and\n// build a selection out of it. 'Consumes' ranges array (modifying\n// it).\nfunction normalizeSelection(ranges, primIndex) {\n  var prim = ranges[primIndex];\n  ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n  primIndex = indexOf(ranges, prim);\n  for (var i = 1; i < ranges.length; i++) {\n    var cur = ranges[i], prev = ranges[i - 1];\n    if (cmp(prev.to(), cur.from()) >= 0) {\n      var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n      var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n      if (i <= primIndex) { --primIndex; }\n      ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n    }\n  }\n  return new Selection(ranges, primIndex)\n}\n\nfunction simpleSelection(anchor, head) {\n  return new Selection([new Range(anchor, head || anchor)], 0)\n}\n\n// Compute the position of the end of a change (its 'to' property\n// refers to the pre-change end).\nfunction changeEnd(change) {\n  if (!change.text) { return change.to }\n  return Pos(change.from.line + change.text.length - 1,\n             lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n}\n\n// Adjust a position to refer to the post-change position of the\n// same text, or the end of the change if the change covers it.\nfunction adjustForChange(pos, change) {\n  if (cmp(pos, change.from) < 0) { return pos }\n  if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n  var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n  if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n  return Pos(line, ch)\n}\n\nfunction computeSelAfterChange(doc, change) {\n  var out = [];\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\n    var range = doc.sel.ranges[i];\n    out.push(new Range(adjustForChange(range.anchor, change),\n                       adjustForChange(range.head, change)));\n  }\n  return normalizeSelection(out, doc.sel.primIndex)\n}\n\nfunction offsetPos(pos, old, nw) {\n  if (pos.line == old.line)\n    { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n  else\n    { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n}\n\n// Used by replaceSelections to allow moving the selection to the\n// start or around the replaced test. Hint may be \"start\" or \"around\".\nfunction computeReplacedSel(doc, changes, hint) {\n  var out = [];\n  var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n  for (var i = 0; i < changes.length; i++) {\n    var change = changes[i];\n    var from = offsetPos(change.from, oldPrev, newPrev);\n    var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n    oldPrev = change.to;\n    newPrev = to;\n    if (hint == \"around\") {\n      var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n      out[i] = new Range(inv ? to : from, inv ? from : to);\n    } else {\n      out[i] = new Range(from, from);\n    }\n  }\n  return new Selection(out, doc.sel.primIndex)\n}\n\n// Used to get the editor into a consistent state again when options change.\n\nfunction loadMode(cm) {\n  cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n  resetModeState(cm);\n}\n\nfunction resetModeState(cm) {\n  cm.doc.iter(function (line) {\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n  });\n  cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n  startWorker(cm, 100);\n  cm.state.modeGen++;\n  if (cm.curOp) { regChange(cm); }\n}\n\n// DOCUMENT DATA STRUCTURE\n\n// By default, updates that start and end at the beginning of a line\n// are treated specially, in order to make the association of line\n// widgets and marker elements with the text behave more intuitive.\nfunction isWholeLineUpdate(doc, change) {\n  return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n    (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n}\n\n// Perform a change on the document data structure.\nfunction updateDoc(doc, change, markedSpans, estimateHeight$$1) {\n  function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n  function update(line, text, spans) {\n    updateLine(line, text, spans, estimateHeight$$1);\n    signalLater(line, \"change\", line, change);\n  }\n  function linesFor(start, end) {\n    var result = [];\n    for (var i = start; i < end; ++i)\n      { result.push(new Line(text[i], spansFor(i), estimateHeight$$1)); }\n    return result\n  }\n\n  var from = change.from, to = change.to, text = change.text;\n  var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n  var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n  // Adjust the line structure\n  if (change.full) {\n    doc.insert(0, linesFor(0, text.length));\n    doc.remove(text.length, doc.size - text.length);\n  } else if (isWholeLineUpdate(doc, change)) {\n    // This is a whole-line replace. Treated specially to make\n    // sure line objects move the way they are supposed to.\n    var added = linesFor(0, text.length - 1);\n    update(lastLine, lastLine.text, lastSpans);\n    if (nlines) { doc.remove(from.line, nlines); }\n    if (added.length) { doc.insert(from.line, added); }\n  } else if (firstLine == lastLine) {\n    if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n    } else {\n      var added$1 = linesFor(1, text.length - 1);\n      added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight$$1));\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      doc.insert(from.line + 1, added$1);\n    }\n  } else if (text.length == 1) {\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n    doc.remove(from.line + 1, nlines);\n  } else {\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n    update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n    var added$2 = linesFor(1, text.length - 1);\n    if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n    doc.insert(from.line + 1, added$2);\n  }\n\n  signalLater(doc, \"change\", doc, change);\n}\n\n// Call f for all linked documents.\nfunction linkedDocs(doc, f, sharedHistOnly) {\n  function propagate(doc, skip, sharedHist) {\n    if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n      var rel = doc.linked[i];\n      if (rel.doc == skip) { continue }\n      var shared = sharedHist && rel.sharedHist;\n      if (sharedHistOnly && !shared) { continue }\n      f(rel.doc, shared);\n      propagate(rel.doc, doc, shared);\n    } }\n  }\n  propagate(doc, null, true);\n}\n\n// Attach a document to an editor.\nfunction attachDoc(cm, doc) {\n  if (doc.cm) { throw new Error(\"This document is already in use.\") }\n  cm.doc = doc;\n  doc.cm = cm;\n  estimateLineHeights(cm);\n  loadMode(cm);\n  setDirectionClass(cm);\n  if (!cm.options.lineWrapping) { findMaxLine(cm); }\n  cm.options.mode = doc.modeOption;\n  regChange(cm);\n}\n\nfunction setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n}\n\nfunction directionChanged(cm) {\n  runInOp(cm, function () {\n    setDirectionClass(cm);\n    regChange(cm);\n  });\n}\n\nfunction History(startGen) {\n  // Arrays of change events and selections. Doing something adds an\n  // event to done and clears undo. Undoing moves events from done\n  // to undone, redoing moves them in the other direction.\n  this.done = []; this.undone = [];\n  this.undoDepth = Infinity;\n  // Used to track when changes can be merged into a single undo\n  // event\n  this.lastModTime = this.lastSelTime = 0;\n  this.lastOp = this.lastSelOp = null;\n  this.lastOrigin = this.lastSelOrigin = null;\n  // Used by the isClean() method\n  this.generation = this.maxGeneration = startGen || 1;\n}\n\n// Create a history change event from an updateDoc-style change\n// object.\nfunction historyChangeFromChange(doc, change) {\n  var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n  attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n  linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n  return histChange\n}\n\n// Pop all selection events off the end of a history array. Stop at\n// a change event.\nfunction clearSelectionEvents(array) {\n  while (array.length) {\n    var last = lst(array);\n    if (last.ranges) { array.pop(); }\n    else { break }\n  }\n}\n\n// Find the top change event in the history. Pop off selection\n// events that are in the way.\nfunction lastChangeEvent(hist, force) {\n  if (force) {\n    clearSelectionEvents(hist.done);\n    return lst(hist.done)\n  } else if (hist.done.length && !lst(hist.done).ranges) {\n    return lst(hist.done)\n  } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n    hist.done.pop();\n    return lst(hist.done)\n  }\n}\n\n// Register a change in the history. Merges changes that are within\n// a single operation, or are close together with an origin that\n// allows merging (starting with \"+\") into a single event.\nfunction addChangeToHistory(doc, change, selAfter, opId) {\n  var hist = doc.history;\n  hist.undone.length = 0;\n  var time = +new Date, cur;\n  var last;\n\n  if ((hist.lastOp == opId ||\n       hist.lastOrigin == change.origin && change.origin &&\n       ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n        change.origin.charAt(0) == \"*\")) &&\n      (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n    // Merge this change into the last event\n    last = lst(cur.changes);\n    if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n      // Optimized case for simple insertion -- don't want to add\n      // new changesets for every character typed\n      last.to = changeEnd(change);\n    } else {\n      // Add new sub-event\n      cur.changes.push(historyChangeFromChange(doc, change));\n    }\n  } else {\n    // Can not be merged, start a new event.\n    var before = lst(hist.done);\n    if (!before || !before.ranges)\n      { pushSelectionToHistory(doc.sel, hist.done); }\n    cur = {changes: [historyChangeFromChange(doc, change)],\n           generation: hist.generation};\n    hist.done.push(cur);\n    while (hist.done.length > hist.undoDepth) {\n      hist.done.shift();\n      if (!hist.done[0].ranges) { hist.done.shift(); }\n    }\n  }\n  hist.done.push(selAfter);\n  hist.generation = ++hist.maxGeneration;\n  hist.lastModTime = hist.lastSelTime = time;\n  hist.lastOp = hist.lastSelOp = opId;\n  hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n  if (!last) { signal(doc, \"historyAdded\"); }\n}\n\nfunction selectionEventCanBeMerged(doc, origin, prev, sel) {\n  var ch = origin.charAt(0);\n  return ch == \"*\" ||\n    ch == \"+\" &&\n    prev.ranges.length == sel.ranges.length &&\n    prev.somethingSelected() == sel.somethingSelected() &&\n    new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n}\n\n// Called whenever the selection changes, sets the new selection as\n// the pending selection in the history, and pushes the old pending\n// selection into the 'done' array when it was significantly\n// different (in number of selected ranges, emptiness, or time).\nfunction addSelectionToHistory(doc, sel, opId, options) {\n  var hist = doc.history, origin = options && options.origin;\n\n  // A new event is started when the previous origin does not match\n  // the current, or the origins don't allow matching. Origins\n  // starting with * are always merged, those starting with + are\n  // merged when similar and close together in time.\n  if (opId == hist.lastSelOp ||\n      (origin && hist.lastSelOrigin == origin &&\n       (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n        selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n    { hist.done[hist.done.length - 1] = sel; }\n  else\n    { pushSelectionToHistory(sel, hist.done); }\n\n  hist.lastSelTime = +new Date;\n  hist.lastSelOrigin = origin;\n  hist.lastSelOp = opId;\n  if (options && options.clearRedo !== false)\n    { clearSelectionEvents(hist.undone); }\n}\n\nfunction pushSelectionToHistory(sel, dest) {\n  var top = lst(dest);\n  if (!(top && top.ranges && top.equals(sel)))\n    { dest.push(sel); }\n}\n\n// Used to store marked span information in the history.\nfunction attachLocalSpans(doc, change, from, to) {\n  var existing = change[\"spans_\" + doc.id], n = 0;\n  doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n    if (line.markedSpans)\n      { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n    ++n;\n  });\n}\n\n// When un/re-doing restores text containing marked spans, those\n// that have been explicitly cleared should not be restored.\nfunction removeClearedSpans(spans) {\n  if (!spans) { return null }\n  var out;\n  for (var i = 0; i < spans.length; ++i) {\n    if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n    else if (out) { out.push(spans[i]); }\n  }\n  return !out ? spans : out.length ? out : null\n}\n\n// Retrieve and filter the old marked spans stored in a change event.\nfunction getOldSpans(doc, change) {\n  var found = change[\"spans_\" + doc.id];\n  if (!found) { return null }\n  var nw = [];\n  for (var i = 0; i < change.text.length; ++i)\n    { nw.push(removeClearedSpans(found[i])); }\n  return nw\n}\n\n// Used for un/re-doing changes from the history. Combines the\n// result of computing the existing spans with the set of spans that\n// existed in the history (so that deleting around a span and then\n// undoing brings back the span).\nfunction mergeOldSpans(doc, change) {\n  var old = getOldSpans(doc, change);\n  var stretched = stretchSpansOverChange(doc, change);\n  if (!old) { return stretched }\n  if (!stretched) { return old }\n\n  for (var i = 0; i < old.length; ++i) {\n    var oldCur = old[i], stretchCur = stretched[i];\n    if (oldCur && stretchCur) {\n      spans: for (var j = 0; j < stretchCur.length; ++j) {\n        var span = stretchCur[j];\n        for (var k = 0; k < oldCur.length; ++k)\n          { if (oldCur[k].marker == span.marker) { continue spans } }\n        oldCur.push(span);\n      }\n    } else if (stretchCur) {\n      old[i] = stretchCur;\n    }\n  }\n  return old\n}\n\n// Used both to provide a JSON-safe object in .getHistory, and, when\n// detaching a document, to split the history in two\nfunction copyHistoryArray(events, newGroup, instantiateSel) {\n  var copy = [];\n  for (var i = 0; i < events.length; ++i) {\n    var event = events[i];\n    if (event.ranges) {\n      copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n      continue\n    }\n    var changes = event.changes, newChanges = [];\n    copy.push({changes: newChanges});\n    for (var j = 0; j < changes.length; ++j) {\n      var change = changes[j], m = (void 0);\n      newChanges.push({from: change.from, to: change.to, text: change.text});\n      if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n        if (indexOf(newGroup, Number(m[1])) > -1) {\n          lst(newChanges)[prop] = change[prop];\n          delete change[prop];\n        }\n      } } }\n    }\n  }\n  return copy\n}\n\n// The 'scroll' parameter given to many of these indicated whether\n// the new cursor position should be scrolled into view after\n// modifying the selection.\n\n// If shift is held or the extend flag is set, extends a range to\n// include a given position (and optionally a second position).\n// Otherwise, simply returns the range between the given positions.\n// Used for cursor motion and such.\nfunction extendRange(range, head, other, extend) {\n  if (extend) {\n    var anchor = range.anchor;\n    if (other) {\n      var posBefore = cmp(head, anchor) < 0;\n      if (posBefore != (cmp(other, anchor) < 0)) {\n        anchor = head;\n        head = other;\n      } else if (posBefore != (cmp(head, other) < 0)) {\n        head = other;\n      }\n    }\n    return new Range(anchor, head)\n  } else {\n    return new Range(other || head, head)\n  }\n}\n\n// Extend the primary selection range, discard the rest.\nfunction extendSelection(doc, head, other, options, extend) {\n  if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n  setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n}\n\n// Extend all selections (pos is an array of selections with length\n// equal the number of selections)\nfunction extendSelections(doc, heads, options) {\n  var out = [];\n  var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n  for (var i = 0; i < doc.sel.ranges.length; i++)\n    { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n  var newSel = normalizeSelection(out, doc.sel.primIndex);\n  setSelection(doc, newSel, options);\n}\n\n// Updates a single range in the selection.\nfunction replaceOneSelection(doc, i, range, options) {\n  var ranges = doc.sel.ranges.slice(0);\n  ranges[i] = range;\n  setSelection(doc, normalizeSelection(ranges, doc.sel.primIndex), options);\n}\n\n// Reset the selection to a single range.\nfunction setSimpleSelection(doc, anchor, head, options) {\n  setSelection(doc, simpleSelection(anchor, head), options);\n}\n\n// Give beforeSelectionChange handlers a change to influence a\n// selection update.\nfunction filterSelectionChange(doc, sel, options) {\n  var obj = {\n    ranges: sel.ranges,\n    update: function(ranges) {\n      var this$1 = this;\n\n      this.ranges = [];\n      for (var i = 0; i < ranges.length; i++)\n        { this$1.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                   clipPos(doc, ranges[i].head)); }\n    },\n    origin: options && options.origin\n  };\n  signal(doc, \"beforeSelectionChange\", doc, obj);\n  if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n  if (obj.ranges != sel.ranges) { return normalizeSelection(obj.ranges, obj.ranges.length - 1) }\n  else { return sel }\n}\n\nfunction setSelectionReplaceHistory(doc, sel, options) {\n  var done = doc.history.done, last = lst(done);\n  if (last && last.ranges) {\n    done[done.length - 1] = sel;\n    setSelectionNoUndo(doc, sel, options);\n  } else {\n    setSelection(doc, sel, options);\n  }\n}\n\n// Set a new selection.\nfunction setSelection(doc, sel, options) {\n  setSelectionNoUndo(doc, sel, options);\n  addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n}\n\nfunction setSelectionNoUndo(doc, sel, options) {\n  if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n    { sel = filterSelectionChange(doc, sel, options); }\n\n  var bias = options && options.bias ||\n    (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n  setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n  if (!(options && options.scroll === false) && doc.cm)\n    { ensureCursorVisible(doc.cm); }\n}\n\nfunction setSelectionInner(doc, sel) {\n  if (sel.equals(doc.sel)) { return }\n\n  doc.sel = sel;\n\n  if (doc.cm) {\n    doc.cm.curOp.updateInput = doc.cm.curOp.selectionChanged = true;\n    signalCursorActivity(doc.cm);\n  }\n  signalLater(doc, \"cursorActivity\", doc);\n}\n\n// Verify that the selection does not partially select any atomic\n// marked ranges.\nfunction reCheckSelection(doc) {\n  setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n}\n\n// Return a selection that does not partially select any atomic\n// ranges.\nfunction skipAtomicInSelection(doc, sel, bias, mayClear) {\n  var out;\n  for (var i = 0; i < sel.ranges.length; i++) {\n    var range = sel.ranges[i];\n    var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n    var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n    var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n    if (out || newAnchor != range.anchor || newHead != range.head) {\n      if (!out) { out = sel.ranges.slice(0, i); }\n      out[i] = new Range(newAnchor, newHead);\n    }\n  }\n  return out ? normalizeSelection(out, sel.primIndex) : sel\n}\n\nfunction skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n  var line = getLine(doc, pos.line);\n  if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n    var sp = line.markedSpans[i], m = sp.marker;\n    if ((sp.from == null || (m.inclusiveLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n        (sp.to == null || (m.inclusiveRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n      if (mayClear) {\n        signal(m, \"beforeCursorEnter\");\n        if (m.explicitlyCleared) {\n          if (!line.markedSpans) { break }\n          else {--i; continue}\n        }\n      }\n      if (!m.atomic) { continue }\n\n      if (oldPos) {\n        var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n        if (dir < 0 ? m.inclusiveRight : m.inclusiveLeft)\n          { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n        if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n          { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n      }\n\n      var far = m.find(dir < 0 ? -1 : 1);\n      if (dir < 0 ? m.inclusiveLeft : m.inclusiveRight)\n        { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n      return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n    }\n  } }\n  return pos\n}\n\n// Ensure a given position is not inside an atomic range.\nfunction skipAtomic(doc, pos, oldPos, bias, mayClear) {\n  var dir = bias || 1;\n  var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n      skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n  if (!found) {\n    doc.cantEdit = true;\n    return Pos(doc.first, 0)\n  }\n  return found\n}\n\nfunction movePos(doc, pos, dir, line) {\n  if (dir < 0 && pos.ch == 0) {\n    if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n    else { return null }\n  } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n    if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n    else { return null }\n  } else {\n    return new Pos(pos.line, pos.ch + dir)\n  }\n}\n\nfunction selectAll(cm) {\n  cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n}\n\n// UPDATING\n\n// Allow \"beforeChange\" event handlers to influence a change\nfunction filterChange(doc, change, update) {\n  var obj = {\n    canceled: false,\n    from: change.from,\n    to: change.to,\n    text: change.text,\n    origin: change.origin,\n    cancel: function () { return obj.canceled = true; }\n  };\n  if (update) { obj.update = function (from, to, text, origin) {\n    if (from) { obj.from = clipPos(doc, from); }\n    if (to) { obj.to = clipPos(doc, to); }\n    if (text) { obj.text = text; }\n    if (origin !== undefined) { obj.origin = origin; }\n  }; }\n  signal(doc, \"beforeChange\", doc, obj);\n  if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n  if (obj.canceled) { return null }\n  return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n}\n\n// Apply a change to a document, and add it to the document's\n// history, and propagating it to all linked documents.\nfunction makeChange(doc, change, ignoreReadOnly) {\n  if (doc.cm) {\n    if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n    if (doc.cm.state.suppressEdits) { return }\n  }\n\n  if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n    change = filterChange(doc, change, true);\n    if (!change) { return }\n  }\n\n  // Possibly split or suppress the update based on the presence\n  // of read-only spans in its range.\n  var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n  if (split) {\n    for (var i = split.length - 1; i >= 0; --i)\n      { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n  } else {\n    makeChangeInner(doc, change);\n  }\n}\n\nfunction makeChangeInner(doc, change) {\n  if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n  var selAfter = computeSelAfterChange(doc, change);\n  addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n  makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n  var rebased = [];\n\n  linkedDocs(doc, function (doc, sharedHist) {\n    if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n      rebaseHist(doc.history, change);\n      rebased.push(doc.history);\n    }\n    makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n  });\n}\n\n// Revert a change stored in a document's history.\nfunction makeChangeFromHistory(doc, type, allowSelectionOnly) {\n  var suppress = doc.cm && doc.cm.state.suppressEdits;\n  if (suppress && !allowSelectionOnly) { return }\n\n  var hist = doc.history, event, selAfter = doc.sel;\n  var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n  // Verify that there is a useable event (so that ctrl-z won't\n  // needlessly clear selection events)\n  var i = 0;\n  for (; i < source.length; i++) {\n    event = source[i];\n    if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n      { break }\n  }\n  if (i == source.length) { return }\n  hist.lastOrigin = hist.lastSelOrigin = null;\n\n  for (;;) {\n    event = source.pop();\n    if (event.ranges) {\n      pushSelectionToHistory(event, dest);\n      if (allowSelectionOnly && !event.equals(doc.sel)) {\n        setSelection(doc, event, {clearRedo: false});\n        return\n      }\n      selAfter = event;\n    } else if (suppress) {\n      source.push(event);\n      return\n    } else { break }\n  }\n\n  // Build up a reverse change object to add to the opposite history\n  // stack (redo when undoing, and vice versa).\n  var antiChanges = [];\n  pushSelectionToHistory(selAfter, dest);\n  dest.push({changes: antiChanges, generation: hist.generation});\n  hist.generation = event.generation || ++hist.maxGeneration;\n\n  var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n  var loop = function ( i ) {\n    var change = event.changes[i];\n    change.origin = type;\n    if (filter && !filterChange(doc, change, false)) {\n      source.length = 0;\n      return {}\n    }\n\n    antiChanges.push(historyChangeFromChange(doc, change));\n\n    var after = i ? computeSelAfterChange(doc, change) : lst(source);\n    makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n    if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n    var rebased = [];\n\n    // Propagate to the linked documents\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n    });\n  };\n\n  for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n    var returned = loop( i$1 );\n\n    if ( returned ) return returned.v;\n  }\n}\n\n// Sub-views need their line numbers shifted when text is added\n// above or below them in the parent document.\nfunction shiftDoc(doc, distance) {\n  if (distance == 0) { return }\n  doc.first += distance;\n  doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n    Pos(range.anchor.line + distance, range.anchor.ch),\n    Pos(range.head.line + distance, range.head.ch)\n  ); }), doc.sel.primIndex);\n  if (doc.cm) {\n    regChange(doc.cm, doc.first, doc.first - distance, distance);\n    for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n      { regLineChange(doc.cm, l, \"gutter\"); }\n  }\n}\n\n// More lower-level change function, handling only a single document\n// (not linked ones).\nfunction makeChangeSingleDoc(doc, change, selAfter, spans) {\n  if (doc.cm && !doc.cm.curOp)\n    { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n  if (change.to.line < doc.first) {\n    shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n    return\n  }\n  if (change.from.line > doc.lastLine()) { return }\n\n  // Clip the change to the size of this doc\n  if (change.from.line < doc.first) {\n    var shift = change.text.length - 1 - (doc.first - change.from.line);\n    shiftDoc(doc, shift);\n    change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n              text: [lst(change.text)], origin: change.origin};\n  }\n  var last = doc.lastLine();\n  if (change.to.line > last) {\n    change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n              text: [change.text[0]], origin: change.origin};\n  }\n\n  change.removed = getBetween(doc, change.from, change.to);\n\n  if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n  if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n  else { updateDoc(doc, change, spans); }\n  setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n}\n\n// Handle the interaction of a change to a document with the editor\n// that this document is part of.\nfunction makeChangeSingleDocInEditor(cm, change, spans) {\n  var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n  var recomputeMaxLength = false, checkWidthStart = from.line;\n  if (!cm.options.lineWrapping) {\n    checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n    doc.iter(checkWidthStart, to.line + 1, function (line) {\n      if (line == display.maxLine) {\n        recomputeMaxLength = true;\n        return true\n      }\n    });\n  }\n\n  if (doc.sel.contains(change.from, change.to) > -1)\n    { signalCursorActivity(cm); }\n\n  updateDoc(doc, change, spans, estimateHeight(cm));\n\n  if (!cm.options.lineWrapping) {\n    doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n      var len = lineLength(line);\n      if (len > display.maxLineLength) {\n        display.maxLine = line;\n        display.maxLineLength = len;\n        display.maxLineChanged = true;\n        recomputeMaxLength = false;\n      }\n    });\n    if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n  }\n\n  retreatFrontier(doc, from.line);\n  startWorker(cm, 400);\n\n  var lendiff = change.text.length - (to.line - from.line) - 1;\n  // Remember that these lines changed, for updating the display\n  if (change.full)\n    { regChange(cm); }\n  else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n    { regLineChange(cm, from.line, \"text\"); }\n  else\n    { regChange(cm, from.line, to.line + 1, lendiff); }\n\n  var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n  if (changeHandler || changesHandler) {\n    var obj = {\n      from: from, to: to,\n      text: change.text,\n      removed: change.removed,\n      origin: change.origin\n    };\n    if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n    if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n  }\n  cm.display.selForContextMenu = null;\n}\n\nfunction replaceRange(doc, code, from, to, origin) {\n  if (!to) { to = from; }\n  if (cmp(to, from) < 0) { var assign;\n    (assign = [to, from], from = assign[0], to = assign[1]); }\n  if (typeof code == \"string\") { code = doc.splitLines(code); }\n  makeChange(doc, {from: from, to: to, text: code, origin: origin});\n}\n\n// Rebasing/resetting history to deal with externally-sourced changes\n\nfunction rebaseHistSelSingle(pos, from, to, diff) {\n  if (to < pos.line) {\n    pos.line += diff;\n  } else if (from < pos.line) {\n    pos.line = from;\n    pos.ch = 0;\n  }\n}\n\n// Tries to rebase an array of history events given a change in the\n// document. If the change touches the same lines as the event, the\n// event, and everything 'behind' it, is discarded. If the change is\n// before the event, the event's positions are updated. Uses a\n// copy-on-write scheme for the positions, to avoid having to\n// reallocate them all on every rebase, but also avoid problems with\n// shared position objects being unsafely updated.\nfunction rebaseHistArray(array, from, to, diff) {\n  for (var i = 0; i < array.length; ++i) {\n    var sub = array[i], ok = true;\n    if (sub.ranges) {\n      if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n      for (var j = 0; j < sub.ranges.length; j++) {\n        rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n        rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n      }\n      continue\n    }\n    for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n      var cur = sub.changes[j$1];\n      if (to < cur.from.line) {\n        cur.from = Pos(cur.from.line + diff, cur.from.ch);\n        cur.to = Pos(cur.to.line + diff, cur.to.ch);\n      } else if (from <= cur.to.line) {\n        ok = false;\n        break\n      }\n    }\n    if (!ok) {\n      array.splice(0, i + 1);\n      i = 0;\n    }\n  }\n}\n\nfunction rebaseHist(hist, change) {\n  var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n  rebaseHistArray(hist.done, from, to, diff);\n  rebaseHistArray(hist.undone, from, to, diff);\n}\n\n// Utility for applying a change to a line by handle or number,\n// returning the number and optionally registering the line as\n// changed.\nfunction changeLine(doc, handle, changeType, op) {\n  var no = handle, line = handle;\n  if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n  else { no = lineNo(handle); }\n  if (no == null) { return null }\n  if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n  return line\n}\n\n// The document is represented as a BTree consisting of leaves, with\n// chunk of lines in them, and branches, with up to ten leaves or\n// other branch nodes below them. The top node is always a branch\n// node, and is the document object itself (meaning it has\n// additional methods and properties).\n//\n// All nodes have parent links. The tree is used both to go from\n// line numbers to line objects, and to go from objects to numbers.\n// It also indexes by height, and is used to convert between height\n// and line object, and to find the total height of the document.\n//\n// See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\nfunction LeafChunk(lines) {\n  var this$1 = this;\n\n  this.lines = lines;\n  this.parent = null;\n  var height = 0;\n  for (var i = 0; i < lines.length; ++i) {\n    lines[i].parent = this$1;\n    height += lines[i].height;\n  }\n  this.height = height;\n}\n\nLeafChunk.prototype = {\n  chunkSize: function() { return this.lines.length },\n\n  // Remove the n lines at offset 'at'.\n  removeInner: function(at, n) {\n    var this$1 = this;\n\n    for (var i = at, e = at + n; i < e; ++i) {\n      var line = this$1.lines[i];\n      this$1.height -= line.height;\n      cleanUpLine(line);\n      signalLater(line, \"delete\");\n    }\n    this.lines.splice(at, n);\n  },\n\n  // Helper used to collapse a small branch into a single leaf.\n  collapse: function(lines) {\n    lines.push.apply(lines, this.lines);\n  },\n\n  // Insert the given array of lines at offset 'at', count them as\n  // having the given height.\n  insertInner: function(at, lines, height) {\n    var this$1 = this;\n\n    this.height += height;\n    this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n    for (var i = 0; i < lines.length; ++i) { lines[i].parent = this$1; }\n  },\n\n  // Used to iterate over a part of the tree.\n  iterN: function(at, n, op) {\n    var this$1 = this;\n\n    for (var e = at + n; at < e; ++at)\n      { if (op(this$1.lines[at])) { return true } }\n  }\n};\n\nfunction BranchChunk(children) {\n  var this$1 = this;\n\n  this.children = children;\n  var size = 0, height = 0;\n  for (var i = 0; i < children.length; ++i) {\n    var ch = children[i];\n    size += ch.chunkSize(); height += ch.height;\n    ch.parent = this$1;\n  }\n  this.size = size;\n  this.height = height;\n  this.parent = null;\n}\n\nBranchChunk.prototype = {\n  chunkSize: function() { return this.size },\n\n  removeInner: function(at, n) {\n    var this$1 = this;\n\n    this.size -= n;\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this$1.children[i], sz = child.chunkSize();\n      if (at < sz) {\n        var rm = Math.min(n, sz - at), oldHeight = child.height;\n        child.removeInner(at, rm);\n        this$1.height -= oldHeight - child.height;\n        if (sz == rm) { this$1.children.splice(i--, 1); child.parent = null; }\n        if ((n -= rm) == 0) { break }\n        at = 0;\n      } else { at -= sz; }\n    }\n    // If the result is smaller than 25 lines, ensure that it is a\n    // single leaf node.\n    if (this.size - n < 25 &&\n        (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n      var lines = [];\n      this.collapse(lines);\n      this.children = [new LeafChunk(lines)];\n      this.children[0].parent = this;\n    }\n  },\n\n  collapse: function(lines) {\n    var this$1 = this;\n\n    for (var i = 0; i < this.children.length; ++i) { this$1.children[i].collapse(lines); }\n  },\n\n  insertInner: function(at, lines, height) {\n    var this$1 = this;\n\n    this.size += lines.length;\n    this.height += height;\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this$1.children[i], sz = child.chunkSize();\n      if (at <= sz) {\n        child.insertInner(at, lines, height);\n        if (child.lines && child.lines.length > 50) {\n          // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n          // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n          var remaining = child.lines.length % 25 + 25;\n          for (var pos = remaining; pos < child.lines.length;) {\n            var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n            child.height -= leaf.height;\n            this$1.children.splice(++i, 0, leaf);\n            leaf.parent = this$1;\n          }\n          child.lines = child.lines.slice(0, remaining);\n          this$1.maybeSpill();\n        }\n        break\n      }\n      at -= sz;\n    }\n  },\n\n  // When a node has grown, check whether it should be split.\n  maybeSpill: function() {\n    if (this.children.length <= 10) { return }\n    var me = this;\n    do {\n      var spilled = me.children.splice(me.children.length - 5, 5);\n      var sibling = new BranchChunk(spilled);\n      if (!me.parent) { // Become the parent node\n        var copy = new BranchChunk(me.children);\n        copy.parent = me;\n        me.children = [copy, sibling];\n        me = copy;\n     } else {\n        me.size -= sibling.size;\n        me.height -= sibling.height;\n        var myIndex = indexOf(me.parent.children, me);\n        me.parent.children.splice(myIndex + 1, 0, sibling);\n      }\n      sibling.parent = me.parent;\n    } while (me.children.length > 10)\n    me.parent.maybeSpill();\n  },\n\n  iterN: function(at, n, op) {\n    var this$1 = this;\n\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this$1.children[i], sz = child.chunkSize();\n      if (at < sz) {\n        var used = Math.min(n, sz - at);\n        if (child.iterN(at, used, op)) { return true }\n        if ((n -= used) == 0) { break }\n        at = 0;\n      } else { at -= sz; }\n    }\n  }\n};\n\n// Line widgets are block elements displayed above or below a line.\n\nvar LineWidget = function(doc, node, options) {\n  var this$1 = this;\n\n  if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n    { this$1[opt] = options[opt]; } } }\n  this.doc = doc;\n  this.node = node;\n};\n\nLineWidget.prototype.clear = function () {\n    var this$1 = this;\n\n  var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n  if (no == null || !ws) { return }\n  for (var i = 0; i < ws.length; ++i) { if (ws[i] == this$1) { ws.splice(i--, 1); } }\n  if (!ws.length) { line.widgets = null; }\n  var height = widgetHeight(this);\n  updateLineHeight(line, Math.max(0, line.height - height));\n  if (cm) {\n    runInOp(cm, function () {\n      adjustScrollWhenAboveVisible(cm, line, -height);\n      regLineChange(cm, no, \"widget\");\n    });\n    signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n  }\n};\n\nLineWidget.prototype.changed = function () {\n    var this$1 = this;\n\n  var oldH = this.height, cm = this.doc.cm, line = this.line;\n  this.height = null;\n  var diff = widgetHeight(this) - oldH;\n  if (!diff) { return }\n  if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n  if (cm) {\n    runInOp(cm, function () {\n      cm.curOp.forceUpdate = true;\n      adjustScrollWhenAboveVisible(cm, line, diff);\n      signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n    });\n  }\n};\neventMixin(LineWidget);\n\nfunction adjustScrollWhenAboveVisible(cm, line, diff) {\n  if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n    { addToScrollTop(cm, diff); }\n}\n\nfunction addLineWidget(doc, handle, node, options) {\n  var widget = new LineWidget(doc, node, options);\n  var cm = doc.cm;\n  if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n  changeLine(doc, handle, \"widget\", function (line) {\n    var widgets = line.widgets || (line.widgets = []);\n    if (widget.insertAt == null) { widgets.push(widget); }\n    else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget); }\n    widget.line = line;\n    if (cm && !lineIsHidden(doc, line)) {\n      var aboveVisible = heightAtLine(line) < doc.scrollTop;\n      updateLineHeight(line, line.height + widgetHeight(widget));\n      if (aboveVisible) { addToScrollTop(cm, widget.height); }\n      cm.curOp.forceUpdate = true;\n    }\n    return true\n  });\n  if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n  return widget\n}\n\n// TEXTMARKERS\n\n// Created with markText and setBookmark methods. A TextMarker is a\n// handle that can be used to clear or find a marked position in the\n// document. Line objects hold arrays (markedSpans) containing\n// {from, to, marker} object pointing to such marker objects, and\n// indicating that such a marker is present on that line. Multiple\n// lines may point to the same marker when it spans across lines.\n// The spans will have null for their from/to properties when the\n// marker continues beyond the start/end of the line. Markers have\n// links back to the lines they currently touch.\n\n// Collapsed markers have unique ids, in order to be able to order\n// them, which is needed for uniquely determining an outer marker\n// when they overlap (they may nest, but not partially overlap).\nvar nextMarkerId = 0;\n\nvar TextMarker = function(doc, type) {\n  this.lines = [];\n  this.type = type;\n  this.doc = doc;\n  this.id = ++nextMarkerId;\n};\n\n// Clear the marker.\nTextMarker.prototype.clear = function () {\n    var this$1 = this;\n\n  if (this.explicitlyCleared) { return }\n  var cm = this.doc.cm, withOp = cm && !cm.curOp;\n  if (withOp) { startOperation(cm); }\n  if (hasHandler(this, \"clear\")) {\n    var found = this.find();\n    if (found) { signalLater(this, \"clear\", found.from, found.to); }\n  }\n  var min = null, max = null;\n  for (var i = 0; i < this.lines.length; ++i) {\n    var line = this$1.lines[i];\n    var span = getMarkedSpanFor(line.markedSpans, this$1);\n    if (cm && !this$1.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n    else if (cm) {\n      if (span.to != null) { max = lineNo(line); }\n      if (span.from != null) { min = lineNo(line); }\n    }\n    line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n    if (span.from == null && this$1.collapsed && !lineIsHidden(this$1.doc, line) && cm)\n      { updateLineHeight(line, textHeight(cm.display)); }\n  }\n  if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n    var visual = visualLine(this$1.lines[i$1]), len = lineLength(visual);\n    if (len > cm.display.maxLineLength) {\n      cm.display.maxLine = visual;\n      cm.display.maxLineLength = len;\n      cm.display.maxLineChanged = true;\n    }\n  } }\n\n  if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n  this.lines.length = 0;\n  this.explicitlyCleared = true;\n  if (this.atomic && this.doc.cantEdit) {\n    this.doc.cantEdit = false;\n    if (cm) { reCheckSelection(cm.doc); }\n  }\n  if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n  if (withOp) { endOperation(cm); }\n  if (this.parent) { this.parent.clear(); }\n};\n\n// Find the position of the marker in the document. Returns a {from,\n// to} object by default. Side can be passed to get a specific side\n// -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n// Pos objects returned contain a line object, rather than a line\n// number (used to prevent looking up the same line twice).\nTextMarker.prototype.find = function (side, lineObj) {\n    var this$1 = this;\n\n  if (side == null && this.type == \"bookmark\") { side = 1; }\n  var from, to;\n  for (var i = 0; i < this.lines.length; ++i) {\n    var line = this$1.lines[i];\n    var span = getMarkedSpanFor(line.markedSpans, this$1);\n    if (span.from != null) {\n      from = Pos(lineObj ? line : lineNo(line), span.from);\n      if (side == -1) { return from }\n    }\n    if (span.to != null) {\n      to = Pos(lineObj ? line : lineNo(line), span.to);\n      if (side == 1) { return to }\n    }\n  }\n  return from && {from: from, to: to}\n};\n\n// Signals that the marker's widget changed, and surrounding layout\n// should be recomputed.\nTextMarker.prototype.changed = function () {\n    var this$1 = this;\n\n  var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n  if (!pos || !cm) { return }\n  runInOp(cm, function () {\n    var line = pos.line, lineN = lineNo(pos.line);\n    var view = findViewForLine(cm, lineN);\n    if (view) {\n      clearLineMeasurementCacheFor(view);\n      cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n    }\n    cm.curOp.updateMaxLine = true;\n    if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n      var oldHeight = widget.height;\n      widget.height = null;\n      var dHeight = widgetHeight(widget) - oldHeight;\n      if (dHeight)\n        { updateLineHeight(line, line.height + dHeight); }\n    }\n    signalLater(cm, \"markerChanged\", cm, this$1);\n  });\n};\n\nTextMarker.prototype.attachLine = function (line) {\n  if (!this.lines.length && this.doc.cm) {\n    var op = this.doc.cm.curOp;\n    if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n      { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n  }\n  this.lines.push(line);\n};\n\nTextMarker.prototype.detachLine = function (line) {\n  this.lines.splice(indexOf(this.lines, line), 1);\n  if (!this.lines.length && this.doc.cm) {\n    var op = this.doc.cm.curOp;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n  }\n};\neventMixin(TextMarker);\n\n// Create a marker, wire it up to the right lines, and\nfunction markText(doc, from, to, options, type) {\n  // Shared markers (across linked documents) are handled separately\n  // (markTextShared will call out to this again, once per\n  // document).\n  if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n  // Ensure we are in an operation.\n  if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n  var marker = new TextMarker(doc, type), diff = cmp(from, to);\n  if (options) { copyObj(options, marker, false); }\n  // Don't connect empty markers unless clearWhenEmpty is false\n  if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n    { return marker }\n  if (marker.replacedWith) {\n    // Showing up as a widget implies collapsed (widget replaces text)\n    marker.collapsed = true;\n    marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n    if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n    if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n  }\n  if (marker.collapsed) {\n    if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n        from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n      { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n    seeCollapsedSpans();\n  }\n\n  if (marker.addToHistory)\n    { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n  var curLine = from.line, cm = doc.cm, updateMaxLine;\n  doc.iter(curLine, to.line + 1, function (line) {\n    if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n      { updateMaxLine = true; }\n    if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n    addMarkedSpan(line, new MarkedSpan(marker,\n                                       curLine == from.line ? from.ch : null,\n                                       curLine == to.line ? to.ch : null));\n    ++curLine;\n  });\n  // lineIsHidden depends on the presence of the spans, so needs a second pass\n  if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n    if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n  }); }\n\n  if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n  if (marker.readOnly) {\n    seeReadOnlySpans();\n    if (doc.history.done.length || doc.history.undone.length)\n      { doc.clearHistory(); }\n  }\n  if (marker.collapsed) {\n    marker.id = ++nextMarkerId;\n    marker.atomic = true;\n  }\n  if (cm) {\n    // Sync editor state\n    if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n    if (marker.collapsed)\n      { regChange(cm, from.line, to.line + 1); }\n    else if (marker.className || marker.title || marker.startStyle || marker.endStyle || marker.css)\n      { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n    if (marker.atomic) { reCheckSelection(cm.doc); }\n    signalLater(cm, \"markerAdded\", cm, marker);\n  }\n  return marker\n}\n\n// SHARED TEXTMARKERS\n\n// A shared marker spans multiple linked documents. It is\n// implemented as a meta-marker-object controlling multiple normal\n// markers.\nvar SharedTextMarker = function(markers, primary) {\n  var this$1 = this;\n\n  this.markers = markers;\n  this.primary = primary;\n  for (var i = 0; i < markers.length; ++i)\n    { markers[i].parent = this$1; }\n};\n\nSharedTextMarker.prototype.clear = function () {\n    var this$1 = this;\n\n  if (this.explicitlyCleared) { return }\n  this.explicitlyCleared = true;\n  for (var i = 0; i < this.markers.length; ++i)\n    { this$1.markers[i].clear(); }\n  signalLater(this, \"clear\");\n};\n\nSharedTextMarker.prototype.find = function (side, lineObj) {\n  return this.primary.find(side, lineObj)\n};\neventMixin(SharedTextMarker);\n\nfunction markTextShared(doc, from, to, options, type) {\n  options = copyObj(options);\n  options.shared = false;\n  var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n  var widget = options.widgetNode;\n  linkedDocs(doc, function (doc) {\n    if (widget) { options.widgetNode = widget.cloneNode(true); }\n    markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n    for (var i = 0; i < doc.linked.length; ++i)\n      { if (doc.linked[i].isParent) { return } }\n    primary = lst(markers);\n  });\n  return new SharedTextMarker(markers, primary)\n}\n\nfunction findSharedMarkers(doc) {\n  return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n}\n\nfunction copySharedMarkers(doc, markers) {\n  for (var i = 0; i < markers.length; i++) {\n    var marker = markers[i], pos = marker.find();\n    var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n    if (cmp(mFrom, mTo)) {\n      var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n      marker.markers.push(subMark);\n      subMark.parent = marker;\n    }\n  }\n}\n\nfunction detachSharedMarkers(markers) {\n  var loop = function ( i ) {\n    var marker = markers[i], linked = [marker.primary.doc];\n    linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n    for (var j = 0; j < marker.markers.length; j++) {\n      var subMarker = marker.markers[j];\n      if (indexOf(linked, subMarker.doc) == -1) {\n        subMarker.parent = null;\n        marker.markers.splice(j--, 1);\n      }\n    }\n  };\n\n  for (var i = 0; i < markers.length; i++) loop( i );\n}\n\nvar nextDocId = 0;\nvar Doc = function(text, mode, firstLine, lineSep, direction) {\n  if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n  if (firstLine == null) { firstLine = 0; }\n\n  BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n  this.first = firstLine;\n  this.scrollTop = this.scrollLeft = 0;\n  this.cantEdit = false;\n  this.cleanGeneration = 1;\n  this.modeFrontier = this.highlightFrontier = firstLine;\n  var start = Pos(firstLine, 0);\n  this.sel = simpleSelection(start);\n  this.history = new History(null);\n  this.id = ++nextDocId;\n  this.modeOption = mode;\n  this.lineSep = lineSep;\n  this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n  this.extend = false;\n\n  if (typeof text == \"string\") { text = this.splitLines(text); }\n  updateDoc(this, {from: start, to: start, text: text});\n  setSelection(this, simpleSelection(start), sel_dontScroll);\n};\n\nDoc.prototype = createObj(BranchChunk.prototype, {\n  constructor: Doc,\n  // Iterate over the document. Supports two forms -- with only one\n  // argument, it calls that for each line in the document. With\n  // three, it iterates over the range given by the first two (with\n  // the second being non-inclusive).\n  iter: function(from, to, op) {\n    if (op) { this.iterN(from - this.first, to - from, op); }\n    else { this.iterN(this.first, this.first + this.size, from); }\n  },\n\n  // Non-public interface for adding and removing lines.\n  insert: function(at, lines) {\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n    this.insertInner(at - this.first, lines, height);\n  },\n  remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n  // From here, the methods are part of the public interface. Most\n  // are also available from CodeMirror (editor) instances.\n\n  getValue: function(lineSep) {\n    var lines = getLines(this, this.first, this.first + this.size);\n    if (lineSep === false) { return lines }\n    return lines.join(lineSep || this.lineSeparator())\n  },\n  setValue: docMethodOp(function(code) {\n    var top = Pos(this.first, 0), last = this.first + this.size - 1;\n    makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                      text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n    if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n    setSelection(this, simpleSelection(top), sel_dontScroll);\n  }),\n  replaceRange: function(code, from, to, origin) {\n    from = clipPos(this, from);\n    to = to ? clipPos(this, to) : from;\n    replaceRange(this, code, from, to, origin);\n  },\n  getRange: function(from, to, lineSep) {\n    var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n    if (lineSep === false) { return lines }\n    return lines.join(lineSep || this.lineSeparator())\n  },\n\n  getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n  getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n  getLineNumber: function(line) {return lineNo(line)},\n\n  getLineHandleVisualStart: function(line) {\n    if (typeof line == \"number\") { line = getLine(this, line); }\n    return visualLine(line)\n  },\n\n  lineCount: function() {return this.size},\n  firstLine: function() {return this.first},\n  lastLine: function() {return this.first + this.size - 1},\n\n  clipPos: function(pos) {return clipPos(this, pos)},\n\n  getCursor: function(start) {\n    var range$$1 = this.sel.primary(), pos;\n    if (start == null || start == \"head\") { pos = range$$1.head; }\n    else if (start == \"anchor\") { pos = range$$1.anchor; }\n    else if (start == \"end\" || start == \"to\" || start === false) { pos = range$$1.to(); }\n    else { pos = range$$1.from(); }\n    return pos\n  },\n  listSelections: function() { return this.sel.ranges },\n  somethingSelected: function() {return this.sel.somethingSelected()},\n\n  setCursor: docMethodOp(function(line, ch, options) {\n    setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n  }),\n  setSelection: docMethodOp(function(anchor, head, options) {\n    setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n  }),\n  extendSelection: docMethodOp(function(head, other, options) {\n    extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n  }),\n  extendSelections: docMethodOp(function(heads, options) {\n    extendSelections(this, clipPosArray(this, heads), options);\n  }),\n  extendSelectionsBy: docMethodOp(function(f, options) {\n    var heads = map(this.sel.ranges, f);\n    extendSelections(this, clipPosArray(this, heads), options);\n  }),\n  setSelections: docMethodOp(function(ranges, primary, options) {\n    var this$1 = this;\n\n    if (!ranges.length) { return }\n    var out = [];\n    for (var i = 0; i < ranges.length; i++)\n      { out[i] = new Range(clipPos(this$1, ranges[i].anchor),\n                         clipPos(this$1, ranges[i].head)); }\n    if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n    setSelection(this, normalizeSelection(out, primary), options);\n  }),\n  addSelection: docMethodOp(function(anchor, head, options) {\n    var ranges = this.sel.ranges.slice(0);\n    ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n    setSelection(this, normalizeSelection(ranges, ranges.length - 1), options);\n  }),\n\n  getSelection: function(lineSep) {\n    var this$1 = this;\n\n    var ranges = this.sel.ranges, lines;\n    for (var i = 0; i < ranges.length; i++) {\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n      lines = lines ? lines.concat(sel) : sel;\n    }\n    if (lineSep === false) { return lines }\n    else { return lines.join(lineSep || this.lineSeparator()) }\n  },\n  getSelections: function(lineSep) {\n    var this$1 = this;\n\n    var parts = [], ranges = this.sel.ranges;\n    for (var i = 0; i < ranges.length; i++) {\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n      if (lineSep !== false) { sel = sel.join(lineSep || this$1.lineSeparator()); }\n      parts[i] = sel;\n    }\n    return parts\n  },\n  replaceSelection: function(code, collapse, origin) {\n    var dup = [];\n    for (var i = 0; i < this.sel.ranges.length; i++)\n      { dup[i] = code; }\n    this.replaceSelections(dup, collapse, origin || \"+input\");\n  },\n  replaceSelections: docMethodOp(function(code, collapse, origin) {\n    var this$1 = this;\n\n    var changes = [], sel = this.sel;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range$$1 = sel.ranges[i];\n      changes[i] = {from: range$$1.from(), to: range$$1.to(), text: this$1.splitLines(code[i]), origin: origin};\n    }\n    var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n    for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n      { makeChange(this$1, changes[i$1]); }\n    if (newSel) { setSelectionReplaceHistory(this, newSel); }\n    else if (this.cm) { ensureCursorVisible(this.cm); }\n  }),\n  undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n  redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n  undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n  redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n  setExtending: function(val) {this.extend = val;},\n  getExtending: function() {return this.extend},\n\n  historySize: function() {\n    var hist = this.history, done = 0, undone = 0;\n    for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n    for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n    return {undo: done, redo: undone}\n  },\n  clearHistory: function() {this.history = new History(this.history.maxGeneration);},\n\n  markClean: function() {\n    this.cleanGeneration = this.changeGeneration(true);\n  },\n  changeGeneration: function(forceSplit) {\n    if (forceSplit)\n      { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n    return this.history.generation\n  },\n  isClean: function (gen) {\n    return this.history.generation == (gen || this.cleanGeneration)\n  },\n\n  getHistory: function() {\n    return {done: copyHistoryArray(this.history.done),\n            undone: copyHistoryArray(this.history.undone)}\n  },\n  setHistory: function(histData) {\n    var hist = this.history = new History(this.history.maxGeneration);\n    hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n    hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n  },\n\n  setGutterMarker: docMethodOp(function(line, gutterID, value) {\n    return changeLine(this, line, \"gutter\", function (line) {\n      var markers = line.gutterMarkers || (line.gutterMarkers = {});\n      markers[gutterID] = value;\n      if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n      return true\n    })\n  }),\n\n  clearGutter: docMethodOp(function(gutterID) {\n    var this$1 = this;\n\n    this.iter(function (line) {\n      if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n        changeLine(this$1, line, \"gutter\", function () {\n          line.gutterMarkers[gutterID] = null;\n          if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n          return true\n        });\n      }\n    });\n  }),\n\n  lineInfo: function(line) {\n    var n;\n    if (typeof line == \"number\") {\n      if (!isLine(this, line)) { return null }\n      n = line;\n      line = getLine(this, line);\n      if (!line) { return null }\n    } else {\n      n = lineNo(line);\n      if (n == null) { return null }\n    }\n    return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n            textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n            widgets: line.widgets}\n  },\n\n  addLineClass: docMethodOp(function(handle, where, cls) {\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n      var prop = where == \"text\" ? \"textClass\"\n               : where == \"background\" ? \"bgClass\"\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n      if (!line[prop]) { line[prop] = cls; }\n      else if (classTest(cls).test(line[prop])) { return false }\n      else { line[prop] += \" \" + cls; }\n      return true\n    })\n  }),\n  removeLineClass: docMethodOp(function(handle, where, cls) {\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n      var prop = where == \"text\" ? \"textClass\"\n               : where == \"background\" ? \"bgClass\"\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n      var cur = line[prop];\n      if (!cur) { return false }\n      else if (cls == null) { line[prop] = null; }\n      else {\n        var found = cur.match(classTest(cls));\n        if (!found) { return false }\n        var end = found.index + found[0].length;\n        line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n      }\n      return true\n    })\n  }),\n\n  addLineWidget: docMethodOp(function(handle, node, options) {\n    return addLineWidget(this, handle, node, options)\n  }),\n  removeLineWidget: function(widget) { widget.clear(); },\n\n  markText: function(from, to, options) {\n    return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n  },\n  setBookmark: function(pos, options) {\n    var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                    insertLeft: options && options.insertLeft,\n                    clearWhenEmpty: false, shared: options && options.shared,\n                    handleMouseEvents: options && options.handleMouseEvents};\n    pos = clipPos(this, pos);\n    return markText(this, pos, pos, realOpts, \"bookmark\")\n  },\n  findMarksAt: function(pos) {\n    pos = clipPos(this, pos);\n    var markers = [], spans = getLine(this, pos.line).markedSpans;\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if ((span.from == null || span.from <= pos.ch) &&\n          (span.to == null || span.to >= pos.ch))\n        { markers.push(span.marker.parent || span.marker); }\n    } }\n    return markers\n  },\n  findMarks: function(from, to, filter) {\n    from = clipPos(this, from); to = clipPos(this, to);\n    var found = [], lineNo$$1 = from.line;\n    this.iter(from.line, to.line + 1, function (line) {\n      var spans = line.markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; i++) {\n        var span = spans[i];\n        if (!(span.to != null && lineNo$$1 == from.line && from.ch >= span.to ||\n              span.from == null && lineNo$$1 != from.line ||\n              span.from != null && lineNo$$1 == to.line && span.from >= to.ch) &&\n            (!filter || filter(span.marker)))\n          { found.push(span.marker.parent || span.marker); }\n      } }\n      ++lineNo$$1;\n    });\n    return found\n  },\n  getAllMarks: function() {\n    var markers = [];\n    this.iter(function (line) {\n      var sps = line.markedSpans;\n      if (sps) { for (var i = 0; i < sps.length; ++i)\n        { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n    });\n    return markers\n  },\n\n  posFromIndex: function(off) {\n    var ch, lineNo$$1 = this.first, sepSize = this.lineSeparator().length;\n    this.iter(function (line) {\n      var sz = line.text.length + sepSize;\n      if (sz > off) { ch = off; return true }\n      off -= sz;\n      ++lineNo$$1;\n    });\n    return clipPos(this, Pos(lineNo$$1, ch))\n  },\n  indexFromPos: function (coords) {\n    coords = clipPos(this, coords);\n    var index = coords.ch;\n    if (coords.line < this.first || coords.ch < 0) { return 0 }\n    var sepSize = this.lineSeparator().length;\n    this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n      index += line.text.length + sepSize;\n    });\n    return index\n  },\n\n  copy: function(copyHistory) {\n    var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                      this.modeOption, this.first, this.lineSep, this.direction);\n    doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n    doc.sel = this.sel;\n    doc.extend = false;\n    if (copyHistory) {\n      doc.history.undoDepth = this.history.undoDepth;\n      doc.setHistory(this.getHistory());\n    }\n    return doc\n  },\n\n  linkedDoc: function(options) {\n    if (!options) { options = {}; }\n    var from = this.first, to = this.first + this.size;\n    if (options.from != null && options.from > from) { from = options.from; }\n    if (options.to != null && options.to < to) { to = options.to; }\n    var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n    if (options.sharedHist) { copy.history = this.history\n    ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n    copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n    copySharedMarkers(copy, findSharedMarkers(this));\n    return copy\n  },\n  unlinkDoc: function(other) {\n    var this$1 = this;\n\n    if (other instanceof CodeMirror$1) { other = other.doc; }\n    if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n      var link = this$1.linked[i];\n      if (link.doc != other) { continue }\n      this$1.linked.splice(i, 1);\n      other.unlinkDoc(this$1);\n      detachSharedMarkers(findSharedMarkers(this$1));\n      break\n    } }\n    // If the histories were shared, split them again\n    if (other.history == this.history) {\n      var splitIds = [other.id];\n      linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n      other.history = new History(null);\n      other.history.done = copyHistoryArray(this.history.done, splitIds);\n      other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n    }\n  },\n  iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n  getMode: function() {return this.mode},\n  getEditor: function() {return this.cm},\n\n  splitLines: function(str) {\n    if (this.lineSep) { return str.split(this.lineSep) }\n    return splitLinesAuto(str)\n  },\n  lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n  setDirection: docMethodOp(function (dir) {\n    if (dir != \"rtl\") { dir = \"ltr\"; }\n    if (dir == this.direction) { return }\n    this.direction = dir;\n    this.iter(function (line) { return line.order = null; });\n    if (this.cm) { directionChanged(this.cm); }\n  })\n});\n\n// Public alias.\nDoc.prototype.eachLine = Doc.prototype.iter;\n\n// Kludge to work around strange IE behavior where it'll sometimes\n// re-fire a series of drag-related events right after the drop (#1551)\nvar lastDrop = 0;\n\nfunction onDrop(e) {\n  var cm = this;\n  clearDragCursor(cm);\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n    { return }\n  e_preventDefault(e);\n  if (ie) { lastDrop = +new Date; }\n  var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n  if (!pos || cm.isReadOnly()) { return }\n  // Might be a file drop, in which case we simply extract the text\n  // and insert it.\n  if (files && files.length && window.FileReader && window.File) {\n    var n = files.length, text = Array(n), read = 0;\n    var loadFile = function (file, i) {\n      if (cm.options.allowDropFileTypes &&\n          indexOf(cm.options.allowDropFileTypes, file.type) == -1)\n        { return }\n\n      var reader = new FileReader;\n      reader.onload = operation(cm, function () {\n        var content = reader.result;\n        if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) { content = \"\"; }\n        text[i] = content;\n        if (++read == n) {\n          pos = clipPos(cm.doc, pos);\n          var change = {from: pos, to: pos,\n                        text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\n                        origin: \"paste\"};\n          makeChange(cm.doc, change);\n          setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)));\n        }\n      });\n      reader.readAsText(file);\n    };\n    for (var i = 0; i < n; ++i) { loadFile(files[i], i); }\n  } else { // Normal drop\n    // Don't do a replace if the drop happened inside of the selected text.\n    if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n      cm.state.draggingText(e);\n      // Ensure the editor is re-focused\n      setTimeout(function () { return cm.display.input.focus(); }, 20);\n      return\n    }\n    try {\n      var text$1 = e.dataTransfer.getData(\"Text\");\n      if (text$1) {\n        var selected;\n        if (cm.state.draggingText && !cm.state.draggingText.copy)\n          { selected = cm.listSelections(); }\n        setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n        if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n          { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n        cm.replaceSelection(text$1, \"around\", \"paste\");\n        cm.display.input.focus();\n      }\n    }\n    catch(e){}\n  }\n}\n\nfunction onDragStart(cm, e) {\n  if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n  e.dataTransfer.setData(\"Text\", cm.getSelection());\n  e.dataTransfer.effectAllowed = \"copyMove\";\n\n  // Use dummy image instead of default browsers image.\n  // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n  if (e.dataTransfer.setDragImage && !safari) {\n    var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n    img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n    if (presto) {\n      img.width = img.height = 1;\n      cm.display.wrapper.appendChild(img);\n      // Force a relayout, or Opera won't use our image for some obscure reason\n      img._top = img.offsetTop;\n    }\n    e.dataTransfer.setDragImage(img, 0, 0);\n    if (presto) { img.parentNode.removeChild(img); }\n  }\n}\n\nfunction onDragOver(cm, e) {\n  var pos = posFromMouse(cm, e);\n  if (!pos) { return }\n  var frag = document.createDocumentFragment();\n  drawSelectionCursor(cm, pos, frag);\n  if (!cm.display.dragCursor) {\n    cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n    cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n  }\n  removeChildrenAndAdd(cm.display.dragCursor, frag);\n}\n\nfunction clearDragCursor(cm) {\n  if (cm.display.dragCursor) {\n    cm.display.lineSpace.removeChild(cm.display.dragCursor);\n    cm.display.dragCursor = null;\n  }\n}\n\n// These must be handled carefully, because naively registering a\n// handler for each editor will cause the editors to never be\n// garbage collected.\n\nfunction forEachCodeMirror(f) {\n  if (!document.getElementsByClassName) { return }\n  var byClass = document.getElementsByClassName(\"CodeMirror\");\n  for (var i = 0; i < byClass.length; i++) {\n    var cm = byClass[i].CodeMirror;\n    if (cm) { f(cm); }\n  }\n}\n\nvar globalsRegistered = false;\nfunction ensureGlobalHandlers() {\n  if (globalsRegistered) { return }\n  registerGlobalHandlers();\n  globalsRegistered = true;\n}\nfunction registerGlobalHandlers() {\n  // When the window resizes, we need to refresh active editors.\n  var resizeTimer;\n  on(window, \"resize\", function () {\n    if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n      resizeTimer = null;\n      forEachCodeMirror(onResize);\n    }, 100); }\n  });\n  // When the window loses focus, we want to show the editor as blurred\n  on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n}\n// Called when the window resizes\nfunction onResize(cm) {\n  var d = cm.display;\n  // Might be a text scaling operation, clear size caches.\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n  d.scrollbarsClipped = false;\n  cm.setSize();\n}\n\nvar keyNames = {\n  3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n  19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n  36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n  46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n  106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 127: \"Delete\", 145: \"ScrollLock\",\n  173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n  221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n  63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n};\n\n// Number keys\nfor (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n// Alphabetic keys\nfor (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n// Function keys\nfor (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\nvar keyMap = {};\n\nkeyMap.basic = {\n  \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n  \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n  \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n  \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n  \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n  \"Esc\": \"singleSelection\"\n};\n// Note that the save and find-related commands aren't defined by\n// default. User code or addons can define them. Unknown commands\n// are simply ignored.\nkeyMap.pcDefault = {\n  \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n  \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n  \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n  \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n  \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n  \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n  \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n  \"fallthrough\": \"basic\"\n};\n// Very basic readline/emacs-style bindings, which are standard on Mac.\nkeyMap.emacsy = {\n  \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n  \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n  \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n  \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n  \"Ctrl-O\": \"openLine\"\n};\nkeyMap.macDefault = {\n  \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n  \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n  \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n  \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n  \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n  \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n  \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n  \"fallthrough\": [\"basic\", \"emacsy\"]\n};\nkeyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n// KEYMAP DISPATCH\n\nfunction normalizeKeyName(name) {\n  var parts = name.split(/-(?!$)/);\n  name = parts[parts.length - 1];\n  var alt, ctrl, shift, cmd;\n  for (var i = 0; i < parts.length - 1; i++) {\n    var mod = parts[i];\n    if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n    else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n    else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n    else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n    else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n  }\n  if (alt) { name = \"Alt-\" + name; }\n  if (ctrl) { name = \"Ctrl-\" + name; }\n  if (cmd) { name = \"Cmd-\" + name; }\n  if (shift) { name = \"Shift-\" + name; }\n  return name\n}\n\n// This is a kludge to keep keymaps mostly working as raw objects\n// (backwards compatibility) while at the same time support features\n// like normalization and multi-stroke key bindings. It compiles a\n// new normalized keymap, and then updates the old object to reflect\n// this.\nfunction normalizeKeyMap(keymap) {\n  var copy = {};\n  for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n    var value = keymap[keyname];\n    if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n    if (value == \"...\") { delete keymap[keyname]; continue }\n\n    var keys = map(keyname.split(\" \"), normalizeKeyName);\n    for (var i = 0; i < keys.length; i++) {\n      var val = (void 0), name = (void 0);\n      if (i == keys.length - 1) {\n        name = keys.join(\" \");\n        val = value;\n      } else {\n        name = keys.slice(0, i + 1).join(\" \");\n        val = \"...\";\n      }\n      var prev = copy[name];\n      if (!prev) { copy[name] = val; }\n      else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n    }\n    delete keymap[keyname];\n  } }\n  for (var prop in copy) { keymap[prop] = copy[prop]; }\n  return keymap\n}\n\nfunction lookupKey(key, map$$1, handle, context) {\n  map$$1 = getKeyMap(map$$1);\n  var found = map$$1.call ? map$$1.call(key, context) : map$$1[key];\n  if (found === false) { return \"nothing\" }\n  if (found === \"...\") { return \"multi\" }\n  if (found != null && handle(found)) { return \"handled\" }\n\n  if (map$$1.fallthrough) {\n    if (Object.prototype.toString.call(map$$1.fallthrough) != \"[object Array]\")\n      { return lookupKey(key, map$$1.fallthrough, handle, context) }\n    for (var i = 0; i < map$$1.fallthrough.length; i++) {\n      var result = lookupKey(key, map$$1.fallthrough[i], handle, context);\n      if (result) { return result }\n    }\n  }\n}\n\n// Modifier key presses don't count as 'real' key presses for the\n// purpose of keymap fallthrough.\nfunction isModifierKey(value) {\n  var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n  return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n}\n\nfunction addModifierNames(name, event, noShift) {\n  var base = name;\n  if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n  if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n  if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") { name = \"Cmd-\" + name; }\n  if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n  return name\n}\n\n// Look up the name of a key as indicated by an event object.\nfunction keyName(event, noShift) {\n  if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n  var name = keyNames[event.keyCode];\n  if (name == null || event.altGraphKey) { return false }\n  // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n  // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n  if (event.keyCode == 3 && event.code) { name = event.code; }\n  return addModifierNames(name, event, noShift)\n}\n\nfunction getKeyMap(val) {\n  return typeof val == \"string\" ? keyMap[val] : val\n}\n\n// Helper for deleting text near the selection(s), used to implement\n// backspace, delete, and similar functionality.\nfunction deleteNearSelection(cm, compute) {\n  var ranges = cm.doc.sel.ranges, kill = [];\n  // Build up a set of ranges to kill first, merging overlapping\n  // ranges.\n  for (var i = 0; i < ranges.length; i++) {\n    var toKill = compute(ranges[i]);\n    while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n      var replaced = kill.pop();\n      if (cmp(replaced.from, toKill.from) < 0) {\n        toKill.from = replaced.from;\n        break\n      }\n    }\n    kill.push(toKill);\n  }\n  // Next, remove those actual ranges.\n  runInOp(cm, function () {\n    for (var i = kill.length - 1; i >= 0; i--)\n      { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n    ensureCursorVisible(cm);\n  });\n}\n\nfunction moveCharLogically(line, ch, dir) {\n  var target = skipExtendingChars(line.text, ch + dir, dir);\n  return target < 0 || target > line.text.length ? null : target\n}\n\nfunction moveLogically(line, start, dir) {\n  var ch = moveCharLogically(line, start.ch, dir);\n  return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n}\n\nfunction endOfLine(visually, cm, lineObj, lineNo, dir) {\n  if (visually) {\n    var order = getOrder(lineObj, cm.doc.direction);\n    if (order) {\n      var part = dir < 0 ? lst(order) : order[0];\n      var moveInStorageOrder = (dir < 0) == (part.level == 1);\n      var sticky = moveInStorageOrder ? \"after\" : \"before\";\n      var ch;\n      // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n      // it could be that the last bidi part is not on the last visual line,\n      // since visual lines contain content order-consecutive chunks.\n      // Thus, in rtl, we are looking for the first (content-order) character\n      // in the rtl chunk that is on the last line (that is, the same line\n      // as the last (content-order) character).\n      if (part.level > 0 || cm.doc.direction == \"rtl\") {\n        var prep = prepareMeasureForLine(cm, lineObj);\n        ch = dir < 0 ? lineObj.text.length - 1 : 0;\n        var targetTop = measureCharPrepared(cm, prep, ch).top;\n        ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n        if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n      } else { ch = dir < 0 ? part.to : part.from; }\n      return new Pos(lineNo, ch, sticky)\n    }\n  }\n  return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n}\n\nfunction moveVisually(cm, line, start, dir) {\n  var bidi = getOrder(line, cm.doc.direction);\n  if (!bidi) { return moveLogically(line, start, dir) }\n  if (start.ch >= line.text.length) {\n    start.ch = line.text.length;\n    start.sticky = \"before\";\n  } else if (start.ch <= 0) {\n    start.ch = 0;\n    start.sticky = \"after\";\n  }\n  var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n  if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n    // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n    // nothing interesting happens.\n    return moveLogically(line, start, dir)\n  }\n\n  var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n  var prep;\n  var getWrappedLineExtent = function (ch) {\n    if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n    prep = prep || prepareMeasureForLine(cm, line);\n    return wrappedLineExtentChar(cm, line, prep, ch)\n  };\n  var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n  if (cm.doc.direction == \"rtl\" || part.level == 1) {\n    var moveInStorageOrder = (part.level == 1) == (dir < 0);\n    var ch = mv(start, moveInStorageOrder ? 1 : -1);\n    if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n      // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n      var sticky = moveInStorageOrder ? \"before\" : \"after\";\n      return new Pos(start.line, ch, sticky)\n    }\n  }\n\n  // Case 3: Could not move within this bidi part in this visual line, so leave\n  // the current bidi part\n\n  var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n    var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n      ? new Pos(start.line, mv(ch, 1), \"before\")\n      : new Pos(start.line, ch, \"after\"); };\n\n    for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n      var part = bidi[partPos];\n      var moveInStorageOrder = (dir > 0) == (part.level != 1);\n      var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n      if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n      ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n      if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n    }\n  };\n\n  // Case 3a: Look for other bidi parts on the same visual line\n  var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n  if (res) { return res }\n\n  // Case 3b: Look for other bidi parts on the next visual line\n  var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n  if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n    res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n    if (res) { return res }\n  }\n\n  // Case 4: Nowhere to move\n  return null\n}\n\n// Commands are parameter-less actions that can be performed on an\n// editor, mostly used for keybindings.\nvar commands = {\n  selectAll: selectAll,\n  singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n  killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n    if (range.empty()) {\n      var len = getLine(cm.doc, range.head.line).text.length;\n      if (range.head.ch == len && range.head.line < cm.lastLine())\n        { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n      else\n        { return {from: range.head, to: Pos(range.head.line, len)} }\n    } else {\n      return {from: range.from(), to: range.to()}\n    }\n  }); },\n  deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n    from: Pos(range.from().line, 0),\n    to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n  }); }); },\n  delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n    from: Pos(range.from().line, 0), to: range.from()\n  }); }); },\n  delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5;\n    var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n    return {from: leftPos, to: range.from()}\n  }); },\n  delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5;\n    var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n    return {from: range.from(), to: rightPos }\n  }); },\n  undo: function (cm) { return cm.undo(); },\n  redo: function (cm) { return cm.redo(); },\n  undoSelection: function (cm) { return cm.undoSelection(); },\n  redoSelection: function (cm) { return cm.redoSelection(); },\n  goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n  goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n  goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n    {origin: \"+move\", bias: 1}\n  ); },\n  goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n    {origin: \"+move\", bias: 1}\n  ); },\n  goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n    {origin: \"+move\", bias: -1}\n  ); },\n  goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.cursorCoords(range.head, \"div\").top + 5;\n    return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n  }, sel_move); },\n  goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.cursorCoords(range.head, \"div\").top + 5;\n    return cm.coordsChar({left: 0, top: top}, \"div\")\n  }, sel_move); },\n  goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.cursorCoords(range.head, \"div\").top + 5;\n    var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n    if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n    return pos\n  }, sel_move); },\n  goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n  goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n  goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n  goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n  goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n  goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n  goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n  goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n  goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n  goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n  goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n  goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n  delCharBefore: function (cm) { return cm.deleteH(-1, \"char\"); },\n  delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n  delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n  delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n  delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n  delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n  indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n  indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n  indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n  insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n  insertSoftTab: function (cm) {\n    var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n    for (var i = 0; i < ranges.length; i++) {\n      var pos = ranges[i].from();\n      var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n      spaces.push(spaceStr(tabSize - col % tabSize));\n    }\n    cm.replaceSelections(spaces);\n  },\n  defaultTab: function (cm) {\n    if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n    else { cm.execCommand(\"insertTab\"); }\n  },\n  // Swap the two chars left and right of each selection's head.\n  // Move cursor behind the two swapped characters afterwards.\n  //\n  // Doesn't consider line feeds a character.\n  // Doesn't scan more than one line above to find a character.\n  // Doesn't do anything on an empty line.\n  // Doesn't do anything with non-empty selections.\n  transposeChars: function (cm) { return runInOp(cm, function () {\n    var ranges = cm.listSelections(), newSel = [];\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) { continue }\n      var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n      if (line) {\n        if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n        if (cur.ch > 0) {\n          cur = new Pos(cur.line, cur.ch + 1);\n          cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                          Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n        } else if (cur.line > cm.doc.first) {\n          var prev = getLine(cm.doc, cur.line - 1).text;\n          if (prev) {\n            cur = new Pos(cur.line, 1);\n            cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                            prev.charAt(prev.length - 1),\n                            Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n          }\n        }\n      }\n      newSel.push(new Range(cur, cur));\n    }\n    cm.setSelections(newSel);\n  }); },\n  newlineAndIndent: function (cm) { return runInOp(cm, function () {\n    var sels = cm.listSelections();\n    for (var i = sels.length - 1; i >= 0; i--)\n      { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n    sels = cm.listSelections();\n    for (var i$1 = 0; i$1 < sels.length; i$1++)\n      { cm.indentLine(sels[i$1].from().line, null, true); }\n    ensureCursorVisible(cm);\n  }); },\n  openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n  toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n};\n\n\nfunction lineStart(cm, lineN) {\n  var line = getLine(cm.doc, lineN);\n  var visual = visualLine(line);\n  if (visual != line) { lineN = lineNo(visual); }\n  return endOfLine(true, cm, visual, lineN, 1)\n}\nfunction lineEnd(cm, lineN) {\n  var line = getLine(cm.doc, lineN);\n  var visual = visualLineEnd(line);\n  if (visual != line) { lineN = lineNo(visual); }\n  return endOfLine(true, cm, line, lineN, -1)\n}\nfunction lineStartSmart(cm, pos) {\n  var start = lineStart(cm, pos.line);\n  var line = getLine(cm.doc, start.line);\n  var order = getOrder(line, cm.doc.direction);\n  if (!order || order[0].level == 0) {\n    var firstNonWS = Math.max(0, line.text.search(/\\S/));\n    var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n    return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n  }\n  return start\n}\n\n// Run a handler that was bound to a key.\nfunction doHandleBinding(cm, bound, dropShift) {\n  if (typeof bound == \"string\") {\n    bound = commands[bound];\n    if (!bound) { return false }\n  }\n  // Ensure previous input has been read, so that the handler sees a\n  // consistent view of the document\n  cm.display.input.ensurePolled();\n  var prevShift = cm.display.shift, done = false;\n  try {\n    if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n    if (dropShift) { cm.display.shift = false; }\n    done = bound(cm) != Pass;\n  } finally {\n    cm.display.shift = prevShift;\n    cm.state.suppressEdits = false;\n  }\n  return done\n}\n\nfunction lookupKeyForEditor(cm, name, handle) {\n  for (var i = 0; i < cm.state.keyMaps.length; i++) {\n    var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n    if (result) { return result }\n  }\n  return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n    || lookupKey(name, cm.options.keyMap, handle, cm)\n}\n\n// Note that, despite the name, this function is also used to check\n// for bound mouse clicks.\n\nvar stopSeq = new Delayed;\n\nfunction dispatchKey(cm, name, e, handle) {\n  var seq = cm.state.keySeq;\n  if (seq) {\n    if (isModifierKey(name)) { return \"handled\" }\n    if (/\\'$/.test(name))\n      { cm.state.keySeq = null; }\n    else\n      { stopSeq.set(50, function () {\n        if (cm.state.keySeq == seq) {\n          cm.state.keySeq = null;\n          cm.display.input.reset();\n        }\n      }); }\n    if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n  }\n  return dispatchKeyInner(cm, name, e, handle)\n}\n\nfunction dispatchKeyInner(cm, name, e, handle) {\n  var result = lookupKeyForEditor(cm, name, handle);\n\n  if (result == \"multi\")\n    { cm.state.keySeq = name; }\n  if (result == \"handled\")\n    { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n  if (result == \"handled\" || result == \"multi\") {\n    e_preventDefault(e);\n    restartBlink(cm);\n  }\n\n  return !!result\n}\n\n// Handle a key from the keydown event.\nfunction handleKeyBinding(cm, e) {\n  var name = keyName(e, true);\n  if (!name) { return false }\n\n  if (e.shiftKey && !cm.state.keySeq) {\n    // First try to resolve full name (including 'Shift-'). Failing\n    // that, see if there is a cursor-motion command (starting with\n    // 'go') bound to the keyname without 'Shift-'.\n    return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n        || dispatchKey(cm, name, e, function (b) {\n             if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n               { return doHandleBinding(cm, b) }\n           })\n  } else {\n    return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n  }\n}\n\n// Handle a key from the keypress event\nfunction handleCharBinding(cm, e, ch) {\n  return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n}\n\nvar lastStoppedKey = null;\nfunction onKeyDown(e) {\n  var cm = this;\n  cm.curOp.focus = activeElt();\n  if (signalDOMEvent(cm, e)) { return }\n  // IE does strange things with escape.\n  if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n  var code = e.keyCode;\n  cm.display.shift = code == 16 || e.shiftKey;\n  var handled = handleKeyBinding(cm, e);\n  if (presto) {\n    lastStoppedKey = handled ? code : null;\n    // Opera has no cut event... we try to at least catch the key combo\n    if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n      { cm.replaceSelection(\"\", null, \"cut\"); }\n  }\n\n  // Turn mouse into crosshair when Alt is held on Mac.\n  if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n    { showCrossHair(cm); }\n}\n\nfunction showCrossHair(cm) {\n  var lineDiv = cm.display.lineDiv;\n  addClass(lineDiv, \"CodeMirror-crosshair\");\n\n  function up(e) {\n    if (e.keyCode == 18 || !e.altKey) {\n      rmClass(lineDiv, \"CodeMirror-crosshair\");\n      off(document, \"keyup\", up);\n      off(document, \"mouseover\", up);\n    }\n  }\n  on(document, \"keyup\", up);\n  on(document, \"mouseover\", up);\n}\n\nfunction onKeyUp(e) {\n  if (e.keyCode == 16) { this.doc.sel.shift = false; }\n  signalDOMEvent(this, e);\n}\n\nfunction onKeyPress(e) {\n  var cm = this;\n  if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n  var keyCode = e.keyCode, charCode = e.charCode;\n  if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n  if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n  var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n  // Some browsers fire keypress events for backspace\n  if (ch == \"\\x08\") { return }\n  if (handleCharBinding(cm, e, ch)) { return }\n  cm.display.input.onKeyPress(e);\n}\n\nvar DOUBLECLICK_DELAY = 400;\n\nvar PastClick = function(time, pos, button) {\n  this.time = time;\n  this.pos = pos;\n  this.button = button;\n};\n\nPastClick.prototype.compare = function (time, pos, button) {\n  return this.time + DOUBLECLICK_DELAY > time &&\n    cmp(pos, this.pos) == 0 && button == this.button\n};\n\nvar lastClick;\nvar lastDoubleClick;\nfunction clickRepeat(pos, button) {\n  var now = +new Date;\n  if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n    lastClick = lastDoubleClick = null;\n    return \"triple\"\n  } else if (lastClick && lastClick.compare(now, pos, button)) {\n    lastDoubleClick = new PastClick(now, pos, button);\n    lastClick = null;\n    return \"double\"\n  } else {\n    lastClick = new PastClick(now, pos, button);\n    lastDoubleClick = null;\n    return \"single\"\n  }\n}\n\n// A mouse down can be a single click, double click, triple click,\n// start of selection drag, start of text drag, new cursor\n// (ctrl-click), rectangle drag (alt-drag), or xwin\n// middle-click-paste. Or it might be a click on something we should\n// not interfere with, such as a scrollbar or widget.\nfunction onMouseDown(e) {\n  var cm = this, display = cm.display;\n  if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n  display.input.ensurePolled();\n  display.shift = e.shiftKey;\n\n  if (eventInWidget(display, e)) {\n    if (!webkit) {\n      // Briefly turn off draggability, to allow widgets to do\n      // normal dragging things.\n      display.scroller.draggable = false;\n      setTimeout(function () { return display.scroller.draggable = true; }, 100);\n    }\n    return\n  }\n  if (clickInGutter(cm, e)) { return }\n  var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n  window.focus();\n\n  // #3261: make sure, that we're not starting a second selection\n  if (button == 1 && cm.state.selectingText)\n    { cm.state.selectingText(e); }\n\n  if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n  if (button == 1) {\n    if (pos) { leftButtonDown(cm, pos, repeat, e); }\n    else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n  } else if (button == 2) {\n    if (pos) { extendSelection(cm.doc, pos); }\n    setTimeout(function () { return display.input.focus(); }, 20);\n  } else if (button == 3) {\n    if (captureRightClick) { onContextMenu(cm, e); }\n    else { delayBlurEvent(cm); }\n  }\n}\n\nfunction handleMappedButton(cm, button, pos, repeat, event) {\n  var name = \"Click\";\n  if (repeat == \"double\") { name = \"Double\" + name; }\n  else if (repeat == \"triple\") { name = \"Triple\" + name; }\n  name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n  return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n    if (typeof bound == \"string\") { bound = commands[bound]; }\n    if (!bound) { return false }\n    var done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      done = bound(cm, pos) != Pass;\n    } finally {\n      cm.state.suppressEdits = false;\n    }\n    return done\n  })\n}\n\nfunction configureMouse(cm, repeat, event) {\n  var option = cm.getOption(\"configureMouse\");\n  var value = option ? option(cm, repeat, event) : {};\n  if (value.unit == null) {\n    var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n    value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n  }\n  if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n  if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n  if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n  return value\n}\n\nfunction leftButtonDown(cm, pos, repeat, event) {\n  if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n  else { cm.curOp.focus = activeElt(); }\n\n  var behavior = configureMouse(cm, repeat, event);\n\n  var sel = cm.doc.sel, contained;\n  if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n      repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n      (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n      (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n    { leftButtonStartDrag(cm, event, pos, behavior); }\n  else\n    { leftButtonSelect(cm, event, pos, behavior); }\n}\n\n// Start a text drag. When it ends, see if any dragging actually\n// happen, and treat as a click if it didn't.\nfunction leftButtonStartDrag(cm, event, pos, behavior) {\n  var display = cm.display, moved = false;\n  var dragEnd = operation(cm, function (e) {\n    if (webkit) { display.scroller.draggable = false; }\n    cm.state.draggingText = false;\n    off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    off(display.scroller, \"dragstart\", dragStart);\n    off(display.scroller, \"drop\", dragEnd);\n    if (!moved) {\n      e_preventDefault(e);\n      if (!behavior.addNew)\n        { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n      // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n      if (webkit || ie && ie_version == 9)\n        { setTimeout(function () {display.wrapper.ownerDocument.body.focus(); display.input.focus();}, 20); }\n      else\n        { display.input.focus(); }\n    }\n  });\n  var mouseMove = function(e2) {\n    moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n  };\n  var dragStart = function () { return moved = true; };\n  // Let the drag handler handle this.\n  if (webkit) { display.scroller.draggable = true; }\n  cm.state.draggingText = dragEnd;\n  dragEnd.copy = !behavior.moveOnDrag;\n  // IE's approach to draggable\n  if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n  on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n  on(display.scroller, \"dragstart\", dragStart);\n  on(display.scroller, \"drop\", dragEnd);\n\n  delayBlurEvent(cm);\n  setTimeout(function () { return display.input.focus(); }, 20);\n}\n\nfunction rangeForUnit(cm, pos, unit) {\n  if (unit == \"char\") { return new Range(pos, pos) }\n  if (unit == \"word\") { return cm.findWordAt(pos) }\n  if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n  var result = unit(cm, pos);\n  return new Range(result.from, result.to)\n}\n\n// Normal selection, as opposed to text dragging.\nfunction leftButtonSelect(cm, event, start, behavior) {\n  var display = cm.display, doc = cm.doc;\n  e_preventDefault(event);\n\n  var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n  if (behavior.addNew && !behavior.extend) {\n    ourIndex = doc.sel.contains(start);\n    if (ourIndex > -1)\n      { ourRange = ranges[ourIndex]; }\n    else\n      { ourRange = new Range(start, start); }\n  } else {\n    ourRange = doc.sel.primary();\n    ourIndex = doc.sel.primIndex;\n  }\n\n  if (behavior.unit == \"rectangle\") {\n    if (!behavior.addNew) { ourRange = new Range(start, start); }\n    start = posFromMouse(cm, event, true, true);\n    ourIndex = -1;\n  } else {\n    var range$$1 = rangeForUnit(cm, start, behavior.unit);\n    if (behavior.extend)\n      { ourRange = extendRange(ourRange, range$$1.anchor, range$$1.head, behavior.extend); }\n    else\n      { ourRange = range$$1; }\n  }\n\n  if (!behavior.addNew) {\n    ourIndex = 0;\n    setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n    startSel = doc.sel;\n  } else if (ourIndex == -1) {\n    ourIndex = ranges.length;\n    setSelection(doc, normalizeSelection(ranges.concat([ourRange]), ourIndex),\n                 {scroll: false, origin: \"*mouse\"});\n  } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n    setSelection(doc, normalizeSelection(ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                 {scroll: false, origin: \"*mouse\"});\n    startSel = doc.sel;\n  } else {\n    replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n  }\n\n  var lastPos = start;\n  function extendTo(pos) {\n    if (cmp(lastPos, pos) == 0) { return }\n    lastPos = pos;\n\n    if (behavior.unit == \"rectangle\") {\n      var ranges = [], tabSize = cm.options.tabSize;\n      var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n      var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n      var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n      for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n           line <= end; line++) {\n        var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n        if (left == right)\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n        else if (text.length > leftPos)\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n      }\n      if (!ranges.length) { ranges.push(new Range(start, start)); }\n      setSelection(doc, normalizeSelection(startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                   {origin: \"*mouse\", scroll: false});\n      cm.scrollIntoView(pos);\n    } else {\n      var oldRange = ourRange;\n      var range$$1 = rangeForUnit(cm, pos, behavior.unit);\n      var anchor = oldRange.anchor, head;\n      if (cmp(range$$1.anchor, anchor) > 0) {\n        head = range$$1.head;\n        anchor = minPos(oldRange.from(), range$$1.anchor);\n      } else {\n        head = range$$1.anchor;\n        anchor = maxPos(oldRange.to(), range$$1.head);\n      }\n      var ranges$1 = startSel.ranges.slice(0);\n      ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n      setSelection(doc, normalizeSelection(ranges$1, ourIndex), sel_mouse);\n    }\n  }\n\n  var editorSize = display.wrapper.getBoundingClientRect();\n  // Used to ensure timeout re-tries don't fire when another extend\n  // happened in the meantime (clearTimeout isn't reliable -- at\n  // least on Chrome, the timeouts still happen even when cleared,\n  // if the clear happens after their scheduled firing time).\n  var counter = 0;\n\n  function extend(e) {\n    var curCount = ++counter;\n    var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n    if (!cur) { return }\n    if (cmp(cur, lastPos) != 0) {\n      cm.curOp.focus = activeElt();\n      extendTo(cur);\n      var visible = visibleLines(display, doc);\n      if (cur.line >= visible.to || cur.line < visible.from)\n        { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n    } else {\n      var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n      if (outside) { setTimeout(operation(cm, function () {\n        if (counter != curCount) { return }\n        display.scroller.scrollTop += outside;\n        extend(e);\n      }), 50); }\n    }\n  }\n\n  function done(e) {\n    cm.state.selectingText = false;\n    counter = Infinity;\n    e_preventDefault(e);\n    display.input.focus();\n    off(display.wrapper.ownerDocument, \"mousemove\", move);\n    off(display.wrapper.ownerDocument, \"mouseup\", up);\n    doc.history.lastSelOrigin = null;\n  }\n\n  var move = operation(cm, function (e) {\n    if (e.buttons === 0 || !e_button(e)) { done(e); }\n    else { extend(e); }\n  });\n  var up = operation(cm, done);\n  cm.state.selectingText = up;\n  on(display.wrapper.ownerDocument, \"mousemove\", move);\n  on(display.wrapper.ownerDocument, \"mouseup\", up);\n}\n\n// Used when mouse-selecting to adjust the anchor to the proper side\n// of a bidi jump depending on the visual position of the head.\nfunction bidiSimplify(cm, range$$1) {\n  var anchor = range$$1.anchor;\n  var head = range$$1.head;\n  var anchorLine = getLine(cm.doc, anchor.line);\n  if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range$$1 }\n  var order = getOrder(anchorLine);\n  if (!order) { return range$$1 }\n  var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n  if (part.from != anchor.ch && part.to != anchor.ch) { return range$$1 }\n  var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n  if (boundary == 0 || boundary == order.length) { return range$$1 }\n\n  // Compute the relative visual position of the head compared to the\n  // anchor (<0 is to the left, >0 to the right)\n  var leftSide;\n  if (head.line != anchor.line) {\n    leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n  } else {\n    var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n    var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n    if (headIndex == boundary - 1 || headIndex == boundary)\n      { leftSide = dir < 0; }\n    else\n      { leftSide = dir > 0; }\n  }\n\n  var usePart = order[boundary + (leftSide ? -1 : 0)];\n  var from = leftSide == (usePart.level == 1);\n  var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n  return anchor.ch == ch && anchor.sticky == sticky ? range$$1 : new Range(new Pos(anchor.line, ch, sticky), head)\n}\n\n\n// Determines whether an event happened in the gutter, and fires the\n// handlers for the corresponding event.\nfunction gutterEvent(cm, e, type, prevent) {\n  var mX, mY;\n  if (e.touches) {\n    mX = e.touches[0].clientX;\n    mY = e.touches[0].clientY;\n  } else {\n    try { mX = e.clientX; mY = e.clientY; }\n    catch(e) { return false }\n  }\n  if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n  if (prevent) { e_preventDefault(e); }\n\n  var display = cm.display;\n  var lineBox = display.lineDiv.getBoundingClientRect();\n\n  if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n  mY -= lineBox.top - display.viewOffset;\n\n  for (var i = 0; i < cm.options.gutters.length; ++i) {\n    var g = display.gutters.childNodes[i];\n    if (g && g.getBoundingClientRect().right >= mX) {\n      var line = lineAtHeight(cm.doc, mY);\n      var gutter = cm.options.gutters[i];\n      signal(cm, type, cm, line, gutter, e);\n      return e_defaultPrevented(e)\n    }\n  }\n}\n\nfunction clickInGutter(cm, e) {\n  return gutterEvent(cm, e, \"gutterClick\", true)\n}\n\n// CONTEXT MENU HANDLING\n\n// To make the context menu work, we need to briefly unhide the\n// textarea (making it as unobtrusive as possible) to let the\n// right-click take effect on it.\nfunction onContextMenu(cm, e) {\n  if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n  if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n  cm.display.input.onContextMenu(e);\n}\n\nfunction contextMenuInGutter(cm, e) {\n  if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n  return gutterEvent(cm, e, \"gutterContextMenu\", false)\n}\n\nfunction themeChanged(cm) {\n  cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n    cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n  clearCaches(cm);\n}\n\nvar Init = {toString: function(){return \"CodeMirror.Init\"}};\n\nvar defaults = {};\nvar optionHandlers = {};\n\nfunction defineOptions(CodeMirror) {\n  var optionHandlers = CodeMirror.optionHandlers;\n\n  function option(name, deflt, handle, notOnInit) {\n    CodeMirror.defaults[name] = deflt;\n    if (handle) { optionHandlers[name] =\n      notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n  }\n\n  CodeMirror.defineOption = option;\n\n  // Passed to option handlers when there is no old value.\n  CodeMirror.Init = Init;\n\n  // These two are, on init, called from the constructor because they\n  // have to be initialized before the editor can start at all.\n  option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n  option(\"mode\", null, function (cm, val) {\n    cm.doc.modeOption = val;\n    loadMode(cm);\n  }, true);\n\n  option(\"indentUnit\", 2, loadMode, true);\n  option(\"indentWithTabs\", false);\n  option(\"smartIndent\", true);\n  option(\"tabSize\", 4, function (cm) {\n    resetModeState(cm);\n    clearCaches(cm);\n    regChange(cm);\n  }, true);\n\n  option(\"lineSeparator\", null, function (cm, val) {\n    cm.doc.lineSep = val;\n    if (!val) { return }\n    var newBreaks = [], lineNo = cm.doc.first;\n    cm.doc.iter(function (line) {\n      for (var pos = 0;;) {\n        var found = line.text.indexOf(val, pos);\n        if (found == -1) { break }\n        pos = found + val.length;\n        newBreaks.push(Pos(lineNo, found));\n      }\n      lineNo++;\n    });\n    for (var i = newBreaks.length - 1; i >= 0; i--)\n      { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n  });\n  option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function (cm, val, old) {\n    cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n    if (old != Init) { cm.refresh(); }\n  });\n  option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n  option(\"electricChars\", true);\n  option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n    throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n  }, true);\n  option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n  option(\"rtlMoveVisually\", !windows);\n  option(\"wholeLineUpdateBefore\", true);\n\n  option(\"theme\", \"default\", function (cm) {\n    themeChanged(cm);\n    guttersChanged(cm);\n  }, true);\n  option(\"keyMap\", \"default\", function (cm, val, old) {\n    var next = getKeyMap(val);\n    var prev = old != Init && getKeyMap(old);\n    if (prev && prev.detach) { prev.detach(cm, next); }\n    if (next.attach) { next.attach(cm, prev || null); }\n  });\n  option(\"extraKeys\", null);\n  option(\"configureMouse\", null);\n\n  option(\"lineWrapping\", false, wrappingChanged, true);\n  option(\"gutters\", [], function (cm) {\n    setGuttersForLineNumbers(cm.options);\n    guttersChanged(cm);\n  }, true);\n  option(\"fixedGutter\", true, function (cm, val) {\n    cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n    cm.refresh();\n  }, true);\n  option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n  option(\"scrollbarStyle\", \"native\", function (cm) {\n    initScrollbars(cm);\n    updateScrollbars(cm);\n    cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n    cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n  }, true);\n  option(\"lineNumbers\", false, function (cm) {\n    setGuttersForLineNumbers(cm.options);\n    guttersChanged(cm);\n  }, true);\n  option(\"firstLineNumber\", 1, guttersChanged, true);\n  option(\"lineNumberFormatter\", function (integer) { return integer; }, guttersChanged, true);\n  option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n  option(\"resetSelectionOnContextMenu\", true);\n  option(\"lineWiseCopyCut\", true);\n  option(\"pasteLinesPerSelection\", true);\n\n  option(\"readOnly\", false, function (cm, val) {\n    if (val == \"nocursor\") {\n      onBlur(cm);\n      cm.display.input.blur();\n    }\n    cm.display.input.readOnlyChanged(val);\n  });\n  option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n  option(\"dragDrop\", true, dragDropChanged);\n  option(\"allowDropFileTypes\", null);\n\n  option(\"cursorBlinkRate\", 530);\n  option(\"cursorScrollMargin\", 0);\n  option(\"cursorHeight\", 1, updateSelection, true);\n  option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n  option(\"workTime\", 100);\n  option(\"workDelay\", 100);\n  option(\"flattenSpans\", true, resetModeState, true);\n  option(\"addModeClass\", false, resetModeState, true);\n  option(\"pollInterval\", 100);\n  option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n  option(\"historyEventDelay\", 1250);\n  option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n  option(\"maxHighlightLength\", 10000, resetModeState, true);\n  option(\"moveInputWithCursor\", true, function (cm, val) {\n    if (!val) { cm.display.input.resetPosition(); }\n  });\n\n  option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n  option(\"autofocus\", null);\n  option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n}\n\nfunction guttersChanged(cm) {\n  updateGutters(cm);\n  regChange(cm);\n  alignHorizontally(cm);\n}\n\nfunction dragDropChanged(cm, value, old) {\n  var wasOn = old && old != Init;\n  if (!value != !wasOn) {\n    var funcs = cm.display.dragFunctions;\n    var toggle = value ? on : off;\n    toggle(cm.display.scroller, \"dragstart\", funcs.start);\n    toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n    toggle(cm.display.scroller, \"dragover\", funcs.over);\n    toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n    toggle(cm.display.scroller, \"drop\", funcs.drop);\n  }\n}\n\nfunction wrappingChanged(cm) {\n  if (cm.options.lineWrapping) {\n    addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n    cm.display.sizer.style.minWidth = \"\";\n    cm.display.sizerWidth = null;\n  } else {\n    rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n    findMaxLine(cm);\n  }\n  estimateLineHeights(cm);\n  regChange(cm);\n  clearCaches(cm);\n  setTimeout(function () { return updateScrollbars(cm); }, 100);\n}\n\n// A CodeMirror instance represents an editor. This is the object\n// that user code is usually dealing with.\n\nfunction CodeMirror$1(place, options) {\n  var this$1 = this;\n\n  if (!(this instanceof CodeMirror$1)) { return new CodeMirror$1(place, options) }\n\n  this.options = options = options ? copyObj(options) : {};\n  // Determine effective options based on given values and defaults.\n  copyObj(defaults, options, false);\n  setGuttersForLineNumbers(options);\n\n  var doc = options.value;\n  if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n  else if (options.mode) { doc.modeOption = options.mode; }\n  this.doc = doc;\n\n  var input = new CodeMirror$1.inputStyles[options.inputStyle](this);\n  var display = this.display = new Display(place, doc, input);\n  display.wrapper.CodeMirror = this;\n  updateGutters(this);\n  themeChanged(this);\n  if (options.lineWrapping)\n    { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n  initScrollbars(this);\n\n  this.state = {\n    keyMaps: [],  // stores maps added by addKeyMap\n    overlays: [], // highlighting overlays, as added by addOverlay\n    modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n    overwrite: false,\n    delayingBlurEvent: false,\n    focused: false,\n    suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n    pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in input.poll\n    selectingText: false,\n    draggingText: false,\n    highlight: new Delayed(), // stores highlight worker timeout\n    keySeq: null,  // Unfinished key sequence\n    specialChars: null\n  };\n\n  if (options.autofocus && !mobile) { display.input.focus(); }\n\n  // Override magic textarea content restore that IE sometimes does\n  // on our hidden textarea on reload\n  if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n  registerEventHandlers(this);\n  ensureGlobalHandlers();\n\n  startOperation(this);\n  this.curOp.forceUpdate = true;\n  attachDoc(this, doc);\n\n  if ((options.autofocus && !mobile) || this.hasFocus())\n    { setTimeout(bind(onFocus, this), 20); }\n  else\n    { onBlur(this); }\n\n  for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n    { optionHandlers[opt](this$1, options[opt], Init); } }\n  maybeUpdateLineNumberWidth(this);\n  if (options.finishInit) { options.finishInit(this); }\n  for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this$1); }\n  endOperation(this);\n  // Suppress optimizelegibility in Webkit, since it breaks text\n  // measuring on line wrapping boundaries.\n  if (webkit && options.lineWrapping &&\n      getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n    { display.lineDiv.style.textRendering = \"auto\"; }\n}\n\n// The default configuration options.\nCodeMirror$1.defaults = defaults;\n// Functions to run when options are changed.\nCodeMirror$1.optionHandlers = optionHandlers;\n\n// Attach the necessary event handlers when initializing the editor\nfunction registerEventHandlers(cm) {\n  var d = cm.display;\n  on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n  // Older IE's will not fire a second mousedown for a double click\n  if (ie && ie_version < 11)\n    { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n      if (signalDOMEvent(cm, e)) { return }\n      var pos = posFromMouse(cm, e);\n      if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n      e_preventDefault(e);\n      var word = cm.findWordAt(pos);\n      extendSelection(cm.doc, word.anchor, word.head);\n    })); }\n  else\n    { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n  // Some browsers fire contextmenu *after* opening the menu, at\n  // which point we can't mess with it anymore. Context menu is\n  // handled in onMouseDown for these browsers.\n  if (!captureRightClick) { on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); }); }\n\n  // Used to suppress mouse event handling when a touch happens\n  var touchFinished, prevTouch = {end: 0};\n  function finishTouch() {\n    if (d.activeTouch) {\n      touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n      prevTouch = d.activeTouch;\n      prevTouch.end = +new Date;\n    }\n  }\n  function isMouseLikeTouchEvent(e) {\n    if (e.touches.length != 1) { return false }\n    var touch = e.touches[0];\n    return touch.radiusX <= 1 && touch.radiusY <= 1\n  }\n  function farAway(touch, other) {\n    if (other.left == null) { return true }\n    var dx = other.left - touch.left, dy = other.top - touch.top;\n    return dx * dx + dy * dy > 20 * 20\n  }\n  on(d.scroller, \"touchstart\", function (e) {\n    if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n      d.input.ensurePolled();\n      clearTimeout(touchFinished);\n      var now = +new Date;\n      d.activeTouch = {start: now, moved: false,\n                       prev: now - prevTouch.end <= 300 ? prevTouch : null};\n      if (e.touches.length == 1) {\n        d.activeTouch.left = e.touches[0].pageX;\n        d.activeTouch.top = e.touches[0].pageY;\n      }\n    }\n  });\n  on(d.scroller, \"touchmove\", function () {\n    if (d.activeTouch) { d.activeTouch.moved = true; }\n  });\n  on(d.scroller, \"touchend\", function (e) {\n    var touch = d.activeTouch;\n    if (touch && !eventInWidget(d, e) && touch.left != null &&\n        !touch.moved && new Date - touch.start < 300) {\n      var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n      if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n        { range = new Range(pos, pos); }\n      else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n        { range = cm.findWordAt(pos); }\n      else // Triple tap\n        { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n      cm.setSelection(range.anchor, range.head);\n      cm.focus();\n      e_preventDefault(e);\n    }\n    finishTouch();\n  });\n  on(d.scroller, \"touchcancel\", finishTouch);\n\n  // Sync scrolling between fake scrollbars and real scrollable\n  // area, ensure viewport is updated when scrolling.\n  on(d.scroller, \"scroll\", function () {\n    if (d.scroller.clientHeight) {\n      updateScrollTop(cm, d.scroller.scrollTop);\n      setScrollLeft(cm, d.scroller.scrollLeft, true);\n      signal(cm, \"scroll\", cm);\n    }\n  });\n\n  // Listen to wheel events in order to try and update the viewport on time.\n  on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n  on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n  // Prevent wrapper from ever scrolling\n  on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n  d.dragFunctions = {\n    enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n    over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n    start: function (e) { return onDragStart(cm, e); },\n    drop: operation(cm, onDrop),\n    leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n  };\n\n  var inp = d.input.getField();\n  on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n  on(inp, \"keydown\", operation(cm, onKeyDown));\n  on(inp, \"keypress\", operation(cm, onKeyPress));\n  on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n  on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n}\n\nvar initHooks = [];\nCodeMirror$1.defineInitHook = function (f) { return initHooks.push(f); };\n\n// Indent the given line. The how parameter can be \"smart\",\n// \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n// (typically set to true for forced single-line indents), empty\n// lines are not indented, and places where the mode returns Pass\n// are left alone.\nfunction indentLine(cm, n, how, aggressive) {\n  var doc = cm.doc, state;\n  if (how == null) { how = \"add\"; }\n  if (how == \"smart\") {\n    // Fall back to \"prev\" when the mode doesn't have an indentation\n    // method.\n    if (!doc.mode.indent) { how = \"prev\"; }\n    else { state = getContextBefore(cm, n).state; }\n  }\n\n  var tabSize = cm.options.tabSize;\n  var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n  if (line.stateAfter) { line.stateAfter = null; }\n  var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n  if (!aggressive && !/\\S/.test(line.text)) {\n    indentation = 0;\n    how = \"not\";\n  } else if (how == \"smart\") {\n    indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n    if (indentation == Pass || indentation > 150) {\n      if (!aggressive) { return }\n      how = \"prev\";\n    }\n  }\n  if (how == \"prev\") {\n    if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n    else { indentation = 0; }\n  } else if (how == \"add\") {\n    indentation = curSpace + cm.options.indentUnit;\n  } else if (how == \"subtract\") {\n    indentation = curSpace - cm.options.indentUnit;\n  } else if (typeof how == \"number\") {\n    indentation = curSpace + how;\n  }\n  indentation = Math.max(0, indentation);\n\n  var indentString = \"\", pos = 0;\n  if (cm.options.indentWithTabs)\n    { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n  if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n  if (indentString != curSpaceString) {\n    replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n    line.stateAfter = null;\n    return true\n  } else {\n    // Ensure that, if the cursor was in the whitespace at the start\n    // of the line, it is moved to the end of that space.\n    for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n      var range = doc.sel.ranges[i$1];\n      if (range.head.line == n && range.head.ch < curSpaceString.length) {\n        var pos$1 = Pos(n, curSpaceString.length);\n        replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n        break\n      }\n    }\n  }\n}\n\n// This will be set to a {lineWise: bool, text: [string]} object, so\n// that, when pasting, we know what kind of selections the copied\n// text was made out of.\nvar lastCopied = null;\n\nfunction setLastCopied(newLastCopied) {\n  lastCopied = newLastCopied;\n}\n\nfunction applyTextInput(cm, inserted, deleted, sel, origin) {\n  var doc = cm.doc;\n  cm.display.shift = false;\n  if (!sel) { sel = doc.sel; }\n\n  var paste = cm.state.pasteIncoming || origin == \"paste\";\n  var textLines = splitLinesAuto(inserted), multiPaste = null;\n  // When pasting N lines into N selections, insert one line per selection\n  if (paste && sel.ranges.length > 1) {\n    if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n      if (sel.ranges.length % lastCopied.text.length == 0) {\n        multiPaste = [];\n        for (var i = 0; i < lastCopied.text.length; i++)\n          { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n      }\n    } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n      multiPaste = map(textLines, function (l) { return [l]; });\n    }\n  }\n\n  var updateInput;\n  // Normal behavior is to insert the new text into every selection\n  for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n    var range$$1 = sel.ranges[i$1];\n    var from = range$$1.from(), to = range$$1.to();\n    if (range$$1.empty()) {\n      if (deleted && deleted > 0) // Handle deletion\n        { from = Pos(from.line, from.ch - deleted); }\n      else if (cm.state.overwrite && !paste) // Handle overwrite\n        { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n      else if (lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\n        { from = to = Pos(from.line, 0); }\n    }\n    updateInput = cm.curOp.updateInput;\n    var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                       origin: origin || (paste ? \"paste\" : cm.state.cutIncoming ? \"cut\" : \"+input\")};\n    makeChange(cm.doc, changeEvent);\n    signalLater(cm, \"inputRead\", cm, changeEvent);\n  }\n  if (inserted && !paste)\n    { triggerElectric(cm, inserted); }\n\n  ensureCursorVisible(cm);\n  cm.curOp.updateInput = updateInput;\n  cm.curOp.typing = true;\n  cm.state.pasteIncoming = cm.state.cutIncoming = false;\n}\n\nfunction handlePaste(e, cm) {\n  var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n  if (pasted) {\n    e.preventDefault();\n    if (!cm.isReadOnly() && !cm.options.disableInput)\n      { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n    return true\n  }\n}\n\nfunction triggerElectric(cm, inserted) {\n  // When an 'electric' character is inserted, immediately trigger a reindent\n  if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n  var sel = cm.doc.sel;\n\n  for (var i = sel.ranges.length - 1; i >= 0; i--) {\n    var range$$1 = sel.ranges[i];\n    if (range$$1.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range$$1.head.line)) { continue }\n    var mode = cm.getModeAt(range$$1.head);\n    var indented = false;\n    if (mode.electricChars) {\n      for (var j = 0; j < mode.electricChars.length; j++)\n        { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n          indented = indentLine(cm, range$$1.head.line, \"smart\");\n          break\n        } }\n    } else if (mode.electricInput) {\n      if (mode.electricInput.test(getLine(cm.doc, range$$1.head.line).text.slice(0, range$$1.head.ch)))\n        { indented = indentLine(cm, range$$1.head.line, \"smart\"); }\n    }\n    if (indented) { signalLater(cm, \"electricInput\", cm, range$$1.head.line); }\n  }\n}\n\nfunction copyableRanges(cm) {\n  var text = [], ranges = [];\n  for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n    var line = cm.doc.sel.ranges[i].head.line;\n    var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n    ranges.push(lineRange);\n    text.push(cm.getRange(lineRange.anchor, lineRange.head));\n  }\n  return {text: text, ranges: ranges}\n}\n\nfunction disableBrowserMagic(field, spellcheck) {\n  field.setAttribute(\"autocorrect\", \"off\");\n  field.setAttribute(\"autocapitalize\", \"off\");\n  field.setAttribute(\"spellcheck\", !!spellcheck);\n}\n\nfunction hiddenTextarea() {\n  var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n  var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n  // The textarea is kept positioned near the cursor to prevent the\n  // fact that it'll be scrolled into view on input from scrolling\n  // our fake cursor out of view. On webkit, when wrap=off, paste is\n  // very slow. So make the area wide instead.\n  if (webkit) { te.style.width = \"1000px\"; }\n  else { te.setAttribute(\"wrap\", \"off\"); }\n  // If border: 0; -- iOS fails to open keyboard (issue #1287)\n  if (ios) { te.style.border = \"1px solid black\"; }\n  disableBrowserMagic(te);\n  return div\n}\n\n// The publicly visible API. Note that methodOp(f) means\n// 'wrap f in an operation, performed on its `this` parameter'.\n\n// This is not the complete set of editor methods. Most of the\n// methods defined on the Doc type are also injected into\n// CodeMirror.prototype, for backwards compatibility and\n// convenience.\n\nvar addEditorMethods = function(CodeMirror) {\n  var optionHandlers = CodeMirror.optionHandlers;\n\n  var helpers = CodeMirror.helpers = {};\n\n  CodeMirror.prototype = {\n    constructor: CodeMirror,\n    focus: function(){window.focus(); this.display.input.focus();},\n\n    setOption: function(option, value) {\n      var options = this.options, old = options[option];\n      if (options[option] == value && option != \"mode\") { return }\n      options[option] = value;\n      if (optionHandlers.hasOwnProperty(option))\n        { operation(this, optionHandlers[option])(this, value, old); }\n      signal(this, \"optionChange\", this, option);\n    },\n\n    getOption: function(option) {return this.options[option]},\n    getDoc: function() {return this.doc},\n\n    addKeyMap: function(map$$1, bottom) {\n      this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map$$1));\n    },\n    removeKeyMap: function(map$$1) {\n      var maps = this.state.keyMaps;\n      for (var i = 0; i < maps.length; ++i)\n        { if (maps[i] == map$$1 || maps[i].name == map$$1) {\n          maps.splice(i, 1);\n          return true\n        } }\n    },\n\n    addOverlay: methodOp(function(spec, options) {\n      var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n      if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n      insertSorted(this.state.overlays,\n                   {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                    priority: (options && options.priority) || 0},\n                   function (overlay) { return overlay.priority; });\n      this.state.modeGen++;\n      regChange(this);\n    }),\n    removeOverlay: methodOp(function(spec) {\n      var this$1 = this;\n\n      var overlays = this.state.overlays;\n      for (var i = 0; i < overlays.length; ++i) {\n        var cur = overlays[i].modeSpec;\n        if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n          overlays.splice(i, 1);\n          this$1.state.modeGen++;\n          regChange(this$1);\n          return\n        }\n      }\n    }),\n\n    indentLine: methodOp(function(n, dir, aggressive) {\n      if (typeof dir != \"string\" && typeof dir != \"number\") {\n        if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n        else { dir = dir ? \"add\" : \"subtract\"; }\n      }\n      if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n    }),\n    indentSelection: methodOp(function(how) {\n      var this$1 = this;\n\n      var ranges = this.doc.sel.ranges, end = -1;\n      for (var i = 0; i < ranges.length; i++) {\n        var range$$1 = ranges[i];\n        if (!range$$1.empty()) {\n          var from = range$$1.from(), to = range$$1.to();\n          var start = Math.max(end, from.line);\n          end = Math.min(this$1.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n          for (var j = start; j < end; ++j)\n            { indentLine(this$1, j, how); }\n          var newRanges = this$1.doc.sel.ranges;\n          if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n            { replaceOneSelection(this$1.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n        } else if (range$$1.head.line > end) {\n          indentLine(this$1, range$$1.head.line, how, true);\n          end = range$$1.head.line;\n          if (i == this$1.doc.sel.primIndex) { ensureCursorVisible(this$1); }\n        }\n      }\n    }),\n\n    // Fetch the parser token for a given character. Useful for hacks\n    // that want to inspect the mode state (say, for completion).\n    getTokenAt: function(pos, precise) {\n      return takeToken(this, pos, precise)\n    },\n\n    getLineTokens: function(line, precise) {\n      return takeToken(this, Pos(line), precise, true)\n    },\n\n    getTokenTypeAt: function(pos) {\n      pos = clipPos(this.doc, pos);\n      var styles = getLineStyles(this, getLine(this.doc, pos.line));\n      var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n      var type;\n      if (ch == 0) { type = styles[2]; }\n      else { for (;;) {\n        var mid = (before + after) >> 1;\n        if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n        else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n        else { type = styles[mid * 2 + 2]; break }\n      } }\n      var cut = type ? type.indexOf(\"overlay \") : -1;\n      return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n    },\n\n    getModeAt: function(pos) {\n      var mode = this.doc.mode;\n      if (!mode.innerMode) { return mode }\n      return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n    },\n\n    getHelper: function(pos, type) {\n      return this.getHelpers(pos, type)[0]\n    },\n\n    getHelpers: function(pos, type) {\n      var this$1 = this;\n\n      var found = [];\n      if (!helpers.hasOwnProperty(type)) { return found }\n      var help = helpers[type], mode = this.getModeAt(pos);\n      if (typeof mode[type] == \"string\") {\n        if (help[mode[type]]) { found.push(help[mode[type]]); }\n      } else if (mode[type]) {\n        for (var i = 0; i < mode[type].length; i++) {\n          var val = help[mode[type][i]];\n          if (val) { found.push(val); }\n        }\n      } else if (mode.helperType && help[mode.helperType]) {\n        found.push(help[mode.helperType]);\n      } else if (help[mode.name]) {\n        found.push(help[mode.name]);\n      }\n      for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n        var cur = help._global[i$1];\n        if (cur.pred(mode, this$1) && indexOf(found, cur.val) == -1)\n          { found.push(cur.val); }\n      }\n      return found\n    },\n\n    getStateAfter: function(line, precise) {\n      var doc = this.doc;\n      line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n      return getContextBefore(this, line + 1, precise).state\n    },\n\n    cursorCoords: function(start, mode) {\n      var pos, range$$1 = this.doc.sel.primary();\n      if (start == null) { pos = range$$1.head; }\n      else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n      else { pos = start ? range$$1.from() : range$$1.to(); }\n      return cursorCoords(this, pos, mode || \"page\")\n    },\n\n    charCoords: function(pos, mode) {\n      return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n    },\n\n    coordsChar: function(coords, mode) {\n      coords = fromCoordSystem(this, coords, mode || \"page\");\n      return coordsChar(this, coords.left, coords.top)\n    },\n\n    lineAtHeight: function(height, mode) {\n      height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n      return lineAtHeight(this.doc, height + this.display.viewOffset)\n    },\n    heightAtLine: function(line, mode, includeWidgets) {\n      var end = false, lineObj;\n      if (typeof line == \"number\") {\n        var last = this.doc.first + this.doc.size - 1;\n        if (line < this.doc.first) { line = this.doc.first; }\n        else if (line > last) { line = last; end = true; }\n        lineObj = getLine(this.doc, line);\n      } else {\n        lineObj = line;\n      }\n      return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n        (end ? this.doc.height - heightAtLine(lineObj) : 0)\n    },\n\n    defaultTextHeight: function() { return textHeight(this.display) },\n    defaultCharWidth: function() { return charWidth(this.display) },\n\n    getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n    addWidget: function(pos, node, scroll, vert, horiz) {\n      var display = this.display;\n      pos = cursorCoords(this, clipPos(this.doc, pos));\n      var top = pos.bottom, left = pos.left;\n      node.style.position = \"absolute\";\n      node.setAttribute(\"cm-ignore-events\", \"true\");\n      this.display.input.setUneditable(node);\n      display.sizer.appendChild(node);\n      if (vert == \"over\") {\n        top = pos.top;\n      } else if (vert == \"above\" || vert == \"near\") {\n        var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n        hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n        // Default to positioning above (if specified and possible); otherwise default to positioning below\n        if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n          { top = pos.top - node.offsetHeight; }\n        else if (pos.bottom + node.offsetHeight <= vspace)\n          { top = pos.bottom; }\n        if (left + node.offsetWidth > hspace)\n          { left = hspace - node.offsetWidth; }\n      }\n      node.style.top = top + \"px\";\n      node.style.left = node.style.right = \"\";\n      if (horiz == \"right\") {\n        left = display.sizer.clientWidth - node.offsetWidth;\n        node.style.right = \"0px\";\n      } else {\n        if (horiz == \"left\") { left = 0; }\n        else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n        node.style.left = left + \"px\";\n      }\n      if (scroll)\n        { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n    },\n\n    triggerOnKeyDown: methodOp(onKeyDown),\n    triggerOnKeyPress: methodOp(onKeyPress),\n    triggerOnKeyUp: onKeyUp,\n    triggerOnMouseDown: methodOp(onMouseDown),\n\n    execCommand: function(cmd) {\n      if (commands.hasOwnProperty(cmd))\n        { return commands[cmd].call(null, this) }\n    },\n\n    triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n    findPosH: function(from, amount, unit, visually) {\n      var this$1 = this;\n\n      var dir = 1;\n      if (amount < 0) { dir = -1; amount = -amount; }\n      var cur = clipPos(this.doc, from);\n      for (var i = 0; i < amount; ++i) {\n        cur = findPosH(this$1.doc, cur, dir, unit, visually);\n        if (cur.hitSide) { break }\n      }\n      return cur\n    },\n\n    moveH: methodOp(function(dir, unit) {\n      var this$1 = this;\n\n      this.extendSelectionsBy(function (range$$1) {\n        if (this$1.display.shift || this$1.doc.extend || range$$1.empty())\n          { return findPosH(this$1.doc, range$$1.head, dir, unit, this$1.options.rtlMoveVisually) }\n        else\n          { return dir < 0 ? range$$1.from() : range$$1.to() }\n      }, sel_move);\n    }),\n\n    deleteH: methodOp(function(dir, unit) {\n      var sel = this.doc.sel, doc = this.doc;\n      if (sel.somethingSelected())\n        { doc.replaceSelection(\"\", null, \"+delete\"); }\n      else\n        { deleteNearSelection(this, function (range$$1) {\n          var other = findPosH(doc, range$$1.head, dir, unit, false);\n          return dir < 0 ? {from: other, to: range$$1.head} : {from: range$$1.head, to: other}\n        }); }\n    }),\n\n    findPosV: function(from, amount, unit, goalColumn) {\n      var this$1 = this;\n\n      var dir = 1, x = goalColumn;\n      if (amount < 0) { dir = -1; amount = -amount; }\n      var cur = clipPos(this.doc, from);\n      for (var i = 0; i < amount; ++i) {\n        var coords = cursorCoords(this$1, cur, \"div\");\n        if (x == null) { x = coords.left; }\n        else { coords.left = x; }\n        cur = findPosV(this$1, coords, dir, unit);\n        if (cur.hitSide) { break }\n      }\n      return cur\n    },\n\n    moveV: methodOp(function(dir, unit) {\n      var this$1 = this;\n\n      var doc = this.doc, goals = [];\n      var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n      doc.extendSelectionsBy(function (range$$1) {\n        if (collapse)\n          { return dir < 0 ? range$$1.from() : range$$1.to() }\n        var headPos = cursorCoords(this$1, range$$1.head, \"div\");\n        if (range$$1.goalColumn != null) { headPos.left = range$$1.goalColumn; }\n        goals.push(headPos.left);\n        var pos = findPosV(this$1, headPos, dir, unit);\n        if (unit == \"page\" && range$$1 == doc.sel.primary())\n          { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n        return pos\n      }, sel_move);\n      if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n        { doc.sel.ranges[i].goalColumn = goals[i]; } }\n    }),\n\n    // Find the word at the given position (as returned by coordsChar).\n    findWordAt: function(pos) {\n      var doc = this.doc, line = getLine(doc, pos.line).text;\n      var start = pos.ch, end = pos.ch;\n      if (line) {\n        var helper = this.getHelper(pos, \"wordChars\");\n        if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n        var startChar = line.charAt(start);\n        var check = isWordChar(startChar, helper)\n          ? function (ch) { return isWordChar(ch, helper); }\n          : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n          : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n        while (start > 0 && check(line.charAt(start - 1))) { --start; }\n        while (end < line.length && check(line.charAt(end))) { ++end; }\n      }\n      return new Range(Pos(pos.line, start), Pos(pos.line, end))\n    },\n\n    toggleOverwrite: function(value) {\n      if (value != null && value == this.state.overwrite) { return }\n      if (this.state.overwrite = !this.state.overwrite)\n        { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n      else\n        { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n      signal(this, \"overwriteToggle\", this, this.state.overwrite);\n    },\n    hasFocus: function() { return this.display.input.getField() == activeElt() },\n    isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n    scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n    getScrollInfo: function() {\n      var scroller = this.display.scroller;\n      return {left: scroller.scrollLeft, top: scroller.scrollTop,\n              height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n              width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n              clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n    },\n\n    scrollIntoView: methodOp(function(range$$1, margin) {\n      if (range$$1 == null) {\n        range$$1 = {from: this.doc.sel.primary().head, to: null};\n        if (margin == null) { margin = this.options.cursorScrollMargin; }\n      } else if (typeof range$$1 == \"number\") {\n        range$$1 = {from: Pos(range$$1, 0), to: null};\n      } else if (range$$1.from == null) {\n        range$$1 = {from: range$$1, to: null};\n      }\n      if (!range$$1.to) { range$$1.to = range$$1.from; }\n      range$$1.margin = margin || 0;\n\n      if (range$$1.from.line != null) {\n        scrollToRange(this, range$$1);\n      } else {\n        scrollToCoordsRange(this, range$$1.from, range$$1.to, range$$1.margin);\n      }\n    }),\n\n    setSize: methodOp(function(width, height) {\n      var this$1 = this;\n\n      var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n      if (width != null) { this.display.wrapper.style.width = interpret(width); }\n      if (height != null) { this.display.wrapper.style.height = interpret(height); }\n      if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n      var lineNo$$1 = this.display.viewFrom;\n      this.doc.iter(lineNo$$1, this.display.viewTo, function (line) {\n        if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n          { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo$$1, \"widget\"); break } } }\n        ++lineNo$$1;\n      });\n      this.curOp.forceUpdate = true;\n      signal(this, \"refresh\", this);\n    }),\n\n    operation: function(f){return runInOp(this, f)},\n    startOperation: function(){return startOperation(this)},\n    endOperation: function(){return endOperation(this)},\n\n    refresh: methodOp(function() {\n      var oldHeight = this.display.cachedTextHeight;\n      regChange(this);\n      this.curOp.forceUpdate = true;\n      clearCaches(this);\n      scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n      updateGutterSpace(this);\n      if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\n        { estimateLineHeights(this); }\n      signal(this, \"refresh\", this);\n    }),\n\n    swapDoc: methodOp(function(doc) {\n      var old = this.doc;\n      old.cm = null;\n      attachDoc(this, doc);\n      clearCaches(this);\n      this.display.input.reset();\n      scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n      this.curOp.forceScroll = true;\n      signalLater(this, \"swapDoc\", this, old);\n      return old\n    }),\n\n    getInputField: function(){return this.display.input.getField()},\n    getWrapperElement: function(){return this.display.wrapper},\n    getScrollerElement: function(){return this.display.scroller},\n    getGutterElement: function(){return this.display.gutters}\n  };\n  eventMixin(CodeMirror);\n\n  CodeMirror.registerHelper = function(type, name, value) {\n    if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n    helpers[type][name] = value;\n  };\n  CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n    CodeMirror.registerHelper(type, name, value);\n    helpers[type]._global.push({pred: predicate, val: value});\n  };\n};\n\n// Used for horizontal relative motion. Dir is -1 or 1 (left or\n// right), unit can be \"char\", \"column\" (like char, but doesn't\n// cross line boundaries), \"word\" (across next word), or \"group\" (to\n// the start of next group of word or non-word-non-whitespace\n// chars). The visually param controls whether, in right-to-left\n// text, direction 1 means to move towards the next index in the\n// string, or towards the character to the right of the current\n// position. The resulting position will have a hitSide=true\n// property if it reached the end of the document.\nfunction findPosH(doc, pos, dir, unit, visually) {\n  var oldPos = pos;\n  var origDir = dir;\n  var lineObj = getLine(doc, pos.line);\n  function findNextLine() {\n    var l = pos.line + dir;\n    if (l < doc.first || l >= doc.first + doc.size) { return false }\n    pos = new Pos(l, pos.ch, pos.sticky);\n    return lineObj = getLine(doc, l)\n  }\n  function moveOnce(boundToLine) {\n    var next;\n    if (visually) {\n      next = moveVisually(doc.cm, lineObj, pos, dir);\n    } else {\n      next = moveLogically(lineObj, pos, dir);\n    }\n    if (next == null) {\n      if (!boundToLine && findNextLine())\n        { pos = endOfLine(visually, doc.cm, lineObj, pos.line, dir); }\n      else\n        { return false }\n    } else {\n      pos = next;\n    }\n    return true\n  }\n\n  if (unit == \"char\") {\n    moveOnce();\n  } else if (unit == \"column\") {\n    moveOnce(true);\n  } else if (unit == \"word\" || unit == \"group\") {\n    var sawType = null, group = unit == \"group\";\n    var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n    for (var first = true;; first = false) {\n      if (dir < 0 && !moveOnce(!first)) { break }\n      var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n      var type = isWordChar(cur, helper) ? \"w\"\n        : group && cur == \"\\n\" ? \"n\"\n        : !group || /\\s/.test(cur) ? null\n        : \"p\";\n      if (group && !first && !type) { type = \"s\"; }\n      if (sawType && sawType != type) {\n        if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n        break\n      }\n\n      if (type) { sawType = type; }\n      if (dir > 0 && !moveOnce(!first)) { break }\n    }\n  }\n  var result = skipAtomic(doc, pos, oldPos, origDir, true);\n  if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n  return result\n}\n\n// For relative vertical movement. Dir may be -1 or 1. Unit can be\n// \"page\" or \"line\". The resulting position will have a hitSide=true\n// property if it reached the end of the document.\nfunction findPosV(cm, pos, dir, unit) {\n  var doc = cm.doc, x = pos.left, y;\n  if (unit == \"page\") {\n    var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n    var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n    y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n  } else if (unit == \"line\") {\n    y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n  }\n  var target;\n  for (;;) {\n    target = coordsChar(cm, x, y);\n    if (!target.outside) { break }\n    if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n    y += dir * 5;\n  }\n  return target\n}\n\n// CONTENTEDITABLE INPUT STYLE\n\nvar ContentEditableInput = function(cm) {\n  this.cm = cm;\n  this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n  this.polling = new Delayed();\n  this.composing = null;\n  this.gracePeriod = false;\n  this.readDOMTimeout = null;\n};\n\nContentEditableInput.prototype.init = function (display) {\n    var this$1 = this;\n\n  var input = this, cm = input.cm;\n  var div = input.div = display.lineDiv;\n  disableBrowserMagic(div, cm.options.spellcheck);\n\n  on(div, \"paste\", function (e) {\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n    // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n    if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n  });\n\n  on(div, \"compositionstart\", function (e) {\n    this$1.composing = {data: e.data, done: false};\n  });\n  on(div, \"compositionupdate\", function (e) {\n    if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n  });\n  on(div, \"compositionend\", function (e) {\n    if (this$1.composing) {\n      if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n      this$1.composing.done = true;\n    }\n  });\n\n  on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n  on(div, \"input\", function () {\n    if (!this$1.composing) { this$1.readFromDOMSoon(); }\n  });\n\n  function onCopyCut(e) {\n    if (signalDOMEvent(cm, e)) { return }\n    if (cm.somethingSelected()) {\n      setLastCopied({lineWise: false, text: cm.getSelections()});\n      if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n    } else if (!cm.options.lineWiseCopyCut) {\n      return\n    } else {\n      var ranges = copyableRanges(cm);\n      setLastCopied({lineWise: true, text: ranges.text});\n      if (e.type == \"cut\") {\n        cm.operation(function () {\n          cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n          cm.replaceSelection(\"\", null, \"cut\");\n        });\n      }\n    }\n    if (e.clipboardData) {\n      e.clipboardData.clearData();\n      var content = lastCopied.text.join(\"\\n\");\n      // iOS exposes the clipboard API, but seems to discard content inserted into it\n      e.clipboardData.setData(\"Text\", content);\n      if (e.clipboardData.getData(\"Text\") == content) {\n        e.preventDefault();\n        return\n      }\n    }\n    // Old-fashioned briefly-focus-a-textarea hack\n    var kludge = hiddenTextarea(), te = kludge.firstChild;\n    cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n    te.value = lastCopied.text.join(\"\\n\");\n    var hadFocus = document.activeElement;\n    selectInput(te);\n    setTimeout(function () {\n      cm.display.lineSpace.removeChild(kludge);\n      hadFocus.focus();\n      if (hadFocus == div) { input.showPrimarySelection(); }\n    }, 50);\n  }\n  on(div, \"copy\", onCopyCut);\n  on(div, \"cut\", onCopyCut);\n};\n\nContentEditableInput.prototype.prepareSelection = function () {\n  var result = prepareSelection(this.cm, false);\n  result.focus = this.cm.state.focused;\n  return result\n};\n\nContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n  if (!info || !this.cm.display.view.length) { return }\n  if (info.focus || takeFocus) { this.showPrimarySelection(); }\n  this.showMultipleSelections(info);\n};\n\nContentEditableInput.prototype.getSelection = function () {\n  return this.cm.display.wrapper.ownerDocument.getSelection()\n};\n\nContentEditableInput.prototype.showPrimarySelection = function () {\n  var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n  var from = prim.from(), to = prim.to();\n\n  if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n    sel.removeAllRanges();\n    return\n  }\n\n  var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n  var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n  if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n      cmp(minPos(curAnchor, curFocus), from) == 0 &&\n      cmp(maxPos(curAnchor, curFocus), to) == 0)\n    { return }\n\n  var view = cm.display.view;\n  var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n      {node: view[0].measure.map[2], offset: 0};\n  var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n  if (!end) {\n    var measure = view[view.length - 1].measure;\n    var map$$1 = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n    end = {node: map$$1[map$$1.length - 1], offset: map$$1[map$$1.length - 2] - map$$1[map$$1.length - 3]};\n  }\n\n  if (!start || !end) {\n    sel.removeAllRanges();\n    return\n  }\n\n  var old = sel.rangeCount && sel.getRangeAt(0), rng;\n  try { rng = range(start.node, start.offset, end.offset, end.node); }\n  catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n  if (rng) {\n    if (!gecko && cm.state.focused) {\n      sel.collapse(start.node, start.offset);\n      if (!rng.collapsed) {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n    } else {\n      sel.removeAllRanges();\n      sel.addRange(rng);\n    }\n    if (old && sel.anchorNode == null) { sel.addRange(old); }\n    else if (gecko) { this.startGracePeriod(); }\n  }\n  this.rememberSelection();\n};\n\nContentEditableInput.prototype.startGracePeriod = function () {\n    var this$1 = this;\n\n  clearTimeout(this.gracePeriod);\n  this.gracePeriod = setTimeout(function () {\n    this$1.gracePeriod = false;\n    if (this$1.selectionChanged())\n      { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n  }, 20);\n};\n\nContentEditableInput.prototype.showMultipleSelections = function (info) {\n  removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n  removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n};\n\nContentEditableInput.prototype.rememberSelection = function () {\n  var sel = this.getSelection();\n  this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n  this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n};\n\nContentEditableInput.prototype.selectionInEditor = function () {\n  var sel = this.getSelection();\n  if (!sel.rangeCount) { return false }\n  var node = sel.getRangeAt(0).commonAncestorContainer;\n  return contains(this.div, node)\n};\n\nContentEditableInput.prototype.focus = function () {\n  if (this.cm.options.readOnly != \"nocursor\") {\n    if (!this.selectionInEditor())\n      { this.showSelection(this.prepareSelection(), true); }\n    this.div.focus();\n  }\n};\nContentEditableInput.prototype.blur = function () { this.div.blur(); };\nContentEditableInput.prototype.getField = function () { return this.div };\n\nContentEditableInput.prototype.supportsTouch = function () { return true };\n\nContentEditableInput.prototype.receivedFocus = function () {\n  var input = this;\n  if (this.selectionInEditor())\n    { this.pollSelection(); }\n  else\n    { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n  function poll() {\n    if (input.cm.state.focused) {\n      input.pollSelection();\n      input.polling.set(input.cm.options.pollInterval, poll);\n    }\n  }\n  this.polling.set(this.cm.options.pollInterval, poll);\n};\n\nContentEditableInput.prototype.selectionChanged = function () {\n  var sel = this.getSelection();\n  return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n    sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n};\n\nContentEditableInput.prototype.pollSelection = function () {\n  if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n  var sel = this.getSelection(), cm = this.cm;\n  // On Android Chrome (version 56, at least), backspacing into an\n  // uneditable block element will put the cursor in that element,\n  // and then, because it's not editable, hide the virtual keyboard.\n  // Because Android doesn't allow us to actually detect backspace\n  // presses in a sane way, this code checks for when that happens\n  // and simulates a backspace press in this case.\n  if (android && chrome && this.cm.options.gutters.length && isInGutter(sel.anchorNode)) {\n    this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n    this.blur();\n    this.focus();\n    return\n  }\n  if (this.composing) { return }\n  this.rememberSelection();\n  var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n  var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n  if (anchor && head) { runInOp(cm, function () {\n    setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n    if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n  }); }\n};\n\nContentEditableInput.prototype.pollContent = function () {\n  if (this.readDOMTimeout != null) {\n    clearTimeout(this.readDOMTimeout);\n    this.readDOMTimeout = null;\n  }\n\n  var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n  var from = sel.from(), to = sel.to();\n  if (from.ch == 0 && from.line > cm.firstLine())\n    { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n  if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n    { to = Pos(to.line + 1, 0); }\n  if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n  var fromIndex, fromLine, fromNode;\n  if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n    fromLine = lineNo(display.view[0].line);\n    fromNode = display.view[0].node;\n  } else {\n    fromLine = lineNo(display.view[fromIndex].line);\n    fromNode = display.view[fromIndex - 1].node.nextSibling;\n  }\n  var toIndex = findViewIndex(cm, to.line);\n  var toLine, toNode;\n  if (toIndex == display.view.length - 1) {\n    toLine = display.viewTo - 1;\n    toNode = display.lineDiv.lastChild;\n  } else {\n    toLine = lineNo(display.view[toIndex + 1].line) - 1;\n    toNode = display.view[toIndex + 1].node.previousSibling;\n  }\n\n  if (!fromNode) { return false }\n  var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n  var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n  while (newText.length > 1 && oldText.length > 1) {\n    if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n    else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n    else { break }\n  }\n\n  var cutFront = 0, cutEnd = 0;\n  var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n  while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n    { ++cutFront; }\n  var newBot = lst(newText), oldBot = lst(oldText);\n  var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                           oldBot.length - (oldText.length == 1 ? cutFront : 0));\n  while (cutEnd < maxCutEnd &&\n         newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n    { ++cutEnd; }\n  // Try to move start of change to start of selection if ambiguous\n  if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n    while (cutFront && cutFront > from.ch &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n      cutFront--;\n      cutEnd++;\n    }\n  }\n\n  newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n  newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n  var chFrom = Pos(fromLine, cutFront);\n  var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n  if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n    replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n    return true\n  }\n};\n\nContentEditableInput.prototype.ensurePolled = function () {\n  this.forceCompositionEnd();\n};\nContentEditableInput.prototype.reset = function () {\n  this.forceCompositionEnd();\n};\nContentEditableInput.prototype.forceCompositionEnd = function () {\n  if (!this.composing) { return }\n  clearTimeout(this.readDOMTimeout);\n  this.composing = null;\n  this.updateFromDOM();\n  this.div.blur();\n  this.div.focus();\n};\nContentEditableInput.prototype.readFromDOMSoon = function () {\n    var this$1 = this;\n\n  if (this.readDOMTimeout != null) { return }\n  this.readDOMTimeout = setTimeout(function () {\n    this$1.readDOMTimeout = null;\n    if (this$1.composing) {\n      if (this$1.composing.done) { this$1.composing = null; }\n      else { return }\n    }\n    this$1.updateFromDOM();\n  }, 80);\n};\n\nContentEditableInput.prototype.updateFromDOM = function () {\n    var this$1 = this;\n\n  if (this.cm.isReadOnly() || !this.pollContent())\n    { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n};\n\nContentEditableInput.prototype.setUneditable = function (node) {\n  node.contentEditable = \"false\";\n};\n\nContentEditableInput.prototype.onKeyPress = function (e) {\n  if (e.charCode == 0 || this.composing) { return }\n  e.preventDefault();\n  if (!this.cm.isReadOnly())\n    { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n};\n\nContentEditableInput.prototype.readOnlyChanged = function (val) {\n  this.div.contentEditable = String(val != \"nocursor\");\n};\n\nContentEditableInput.prototype.onContextMenu = function () {};\nContentEditableInput.prototype.resetPosition = function () {};\n\nContentEditableInput.prototype.needsContentAttribute = true;\n\nfunction posToDOM(cm, pos) {\n  var view = findViewForLine(cm, pos.line);\n  if (!view || view.hidden) { return null }\n  var line = getLine(cm.doc, pos.line);\n  var info = mapFromLineView(view, line, pos.line);\n\n  var order = getOrder(line, cm.doc.direction), side = \"left\";\n  if (order) {\n    var partPos = getBidiPartAt(order, pos.ch);\n    side = partPos % 2 ? \"right\" : \"left\";\n  }\n  var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n  result.offset = result.collapse == \"right\" ? result.end : result.start;\n  return result\n}\n\nfunction isInGutter(node) {\n  for (var scan = node; scan; scan = scan.parentNode)\n    { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n  return false\n}\n\nfunction badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\nfunction domTextBetween(cm, from, to, fromLine, toLine) {\n  var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n  function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n  function close() {\n    if (closing) {\n      text += lineSep;\n      if (extraLinebreak) { text += lineSep; }\n      closing = extraLinebreak = false;\n    }\n  }\n  function addText(str) {\n    if (str) {\n      close();\n      text += str;\n    }\n  }\n  function walk(node) {\n    if (node.nodeType == 1) {\n      var cmText = node.getAttribute(\"cm-text\");\n      if (cmText) {\n        addText(cmText);\n        return\n      }\n      var markerID = node.getAttribute(\"cm-marker\"), range$$1;\n      if (markerID) {\n        var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n        if (found.length && (range$$1 = found[0].find(0)))\n          { addText(getBetween(cm.doc, range$$1.from, range$$1.to).join(lineSep)); }\n        return\n      }\n      if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n      var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n      if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n      if (isBlock) { close(); }\n      for (var i = 0; i < node.childNodes.length; i++)\n        { walk(node.childNodes[i]); }\n\n      if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n      if (isBlock) { closing = true; }\n    } else if (node.nodeType == 3) {\n      addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n    }\n  }\n  for (;;) {\n    walk(from);\n    if (from == to) { break }\n    from = from.nextSibling;\n    extraLinebreak = false;\n  }\n  return text\n}\n\nfunction domToPos(cm, node, offset) {\n  var lineNode;\n  if (node == cm.display.lineDiv) {\n    lineNode = cm.display.lineDiv.childNodes[offset];\n    if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n    node = null; offset = 0;\n  } else {\n    for (lineNode = node;; lineNode = lineNode.parentNode) {\n      if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n      if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n    }\n  }\n  for (var i = 0; i < cm.display.view.length; i++) {\n    var lineView = cm.display.view[i];\n    if (lineView.node == lineNode)\n      { return locateNodeInLineView(lineView, node, offset) }\n  }\n}\n\nfunction locateNodeInLineView(lineView, node, offset) {\n  var wrapper = lineView.text.firstChild, bad = false;\n  if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n  if (node == wrapper) {\n    bad = true;\n    node = wrapper.childNodes[offset];\n    offset = 0;\n    if (!node) {\n      var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n      return badPos(Pos(lineNo(line), line.text.length), bad)\n    }\n  }\n\n  var textNode = node.nodeType == 3 ? node : null, topNode = node;\n  if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n    textNode = node.firstChild;\n    if (offset) { offset = textNode.nodeValue.length; }\n  }\n  while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n  var measure = lineView.measure, maps = measure.maps;\n\n  function find(textNode, topNode, offset) {\n    for (var i = -1; i < (maps ? maps.length : 0); i++) {\n      var map$$1 = i < 0 ? measure.map : maps[i];\n      for (var j = 0; j < map$$1.length; j += 3) {\n        var curNode = map$$1[j + 2];\n        if (curNode == textNode || curNode == topNode) {\n          var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n          var ch = map$$1[j] + offset;\n          if (offset < 0 || curNode != textNode) { ch = map$$1[j + (offset ? 1 : 0)]; }\n          return Pos(line, ch)\n        }\n      }\n    }\n  }\n  var found = find(textNode, topNode, offset);\n  if (found) { return badPos(found, bad) }\n\n  // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n  for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n    found = find(after, after.firstChild, 0);\n    if (found)\n      { return badPos(Pos(found.line, found.ch - dist), bad) }\n    else\n      { dist += after.textContent.length; }\n  }\n  for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n    found = find(before, before.firstChild, -1);\n    if (found)\n      { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n    else\n      { dist$1 += before.textContent.length; }\n  }\n}\n\n// TEXTAREA INPUT STYLE\n\nvar TextareaInput = function(cm) {\n  this.cm = cm;\n  // See input.poll and input.reset\n  this.prevInput = \"\";\n\n  // Flag that indicates whether we expect input to appear real soon\n  // now (after some event like 'keypress' or 'input') and are\n  // polling intensively.\n  this.pollingFast = false;\n  // Self-resetting timeout for the poller\n  this.polling = new Delayed();\n  // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n  this.hasSelection = false;\n  this.composing = null;\n};\n\nTextareaInput.prototype.init = function (display) {\n    var this$1 = this;\n\n  var input = this, cm = this.cm;\n  this.createField(display);\n  var te = this.textarea;\n\n  display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n  // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n  if (ios) { te.style.width = \"0px\"; }\n\n  on(te, \"input\", function () {\n    if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n    input.poll();\n  });\n\n  on(te, \"paste\", function (e) {\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n    cm.state.pasteIncoming = true;\n    input.fastPoll();\n  });\n\n  function prepareCopyCut(e) {\n    if (signalDOMEvent(cm, e)) { return }\n    if (cm.somethingSelected()) {\n      setLastCopied({lineWise: false, text: cm.getSelections()});\n    } else if (!cm.options.lineWiseCopyCut) {\n      return\n    } else {\n      var ranges = copyableRanges(cm);\n      setLastCopied({lineWise: true, text: ranges.text});\n      if (e.type == \"cut\") {\n        cm.setSelections(ranges.ranges, null, sel_dontScroll);\n      } else {\n        input.prevInput = \"\";\n        te.value = ranges.text.join(\"\\n\");\n        selectInput(te);\n      }\n    }\n    if (e.type == \"cut\") { cm.state.cutIncoming = true; }\n  }\n  on(te, \"cut\", prepareCopyCut);\n  on(te, \"copy\", prepareCopyCut);\n\n  on(display.scroller, \"paste\", function (e) {\n    if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n    cm.state.pasteIncoming = true;\n    input.focus();\n  });\n\n  // Prevent normal selection in the editor (we handle our own)\n  on(display.lineSpace, \"selectstart\", function (e) {\n    if (!eventInWidget(display, e)) { e_preventDefault(e); }\n  });\n\n  on(te, \"compositionstart\", function () {\n    var start = cm.getCursor(\"from\");\n    if (input.composing) { input.composing.range.clear(); }\n    input.composing = {\n      start: start,\n      range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n    };\n  });\n  on(te, \"compositionend\", function () {\n    if (input.composing) {\n      input.poll();\n      input.composing.range.clear();\n      input.composing = null;\n    }\n  });\n};\n\nTextareaInput.prototype.createField = function (_display) {\n  // Wraps and hides input textarea\n  this.wrapper = hiddenTextarea();\n  // The semihidden textarea that is focused when the editor is\n  // focused, and receives input.\n  this.textarea = this.wrapper.firstChild;\n};\n\nTextareaInput.prototype.prepareSelection = function () {\n  // Redraw the selection and/or cursor\n  var cm = this.cm, display = cm.display, doc = cm.doc;\n  var result = prepareSelection(cm);\n\n  // Move the hidden textarea near the cursor to prevent scrolling artifacts\n  if (cm.options.moveInputWithCursor) {\n    var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n    var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n    result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                        headPos.top + lineOff.top - wrapOff.top));\n    result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                         headPos.left + lineOff.left - wrapOff.left));\n  }\n\n  return result\n};\n\nTextareaInput.prototype.showSelection = function (drawn) {\n  var cm = this.cm, display = cm.display;\n  removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n  removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n  if (drawn.teTop != null) {\n    this.wrapper.style.top = drawn.teTop + \"px\";\n    this.wrapper.style.left = drawn.teLeft + \"px\";\n  }\n};\n\n// Reset the input to correspond to the selection (or to be empty,\n// when not typing and nothing is selected)\nTextareaInput.prototype.reset = function (typing) {\n  if (this.contextMenuPending || this.composing) { return }\n  var cm = this.cm;\n  if (cm.somethingSelected()) {\n    this.prevInput = \"\";\n    var content = cm.getSelection();\n    this.textarea.value = content;\n    if (cm.state.focused) { selectInput(this.textarea); }\n    if (ie && ie_version >= 9) { this.hasSelection = content; }\n  } else if (!typing) {\n    this.prevInput = this.textarea.value = \"\";\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n  }\n};\n\nTextareaInput.prototype.getField = function () { return this.textarea };\n\nTextareaInput.prototype.supportsTouch = function () { return false };\n\nTextareaInput.prototype.focus = function () {\n  if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n    try { this.textarea.focus(); }\n    catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n  }\n};\n\nTextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\nTextareaInput.prototype.resetPosition = function () {\n  this.wrapper.style.top = this.wrapper.style.left = 0;\n};\n\nTextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n// Poll for input changes, using the normal rate of polling. This\n// runs as long as the editor is focused.\nTextareaInput.prototype.slowPoll = function () {\n    var this$1 = this;\n\n  if (this.pollingFast) { return }\n  this.polling.set(this.cm.options.pollInterval, function () {\n    this$1.poll();\n    if (this$1.cm.state.focused) { this$1.slowPoll(); }\n  });\n};\n\n// When an event has just come in that is likely to add or change\n// something in the input textarea, we poll faster, to ensure that\n// the change appears on the screen quickly.\nTextareaInput.prototype.fastPoll = function () {\n  var missed = false, input = this;\n  input.pollingFast = true;\n  function p() {\n    var changed = input.poll();\n    if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n    else {input.pollingFast = false; input.slowPoll();}\n  }\n  input.polling.set(20, p);\n};\n\n// Read input from the textarea, and update the document to match.\n// When something is selected, it is present in the textarea, and\n// selected (unless it is huge, in which case a placeholder is\n// used). When nothing is selected, the cursor sits after previously\n// seen text (can be empty), which is stored in prevInput (we must\n// not reset the textarea when typing, because that breaks IME).\nTextareaInput.prototype.poll = function () {\n    var this$1 = this;\n\n  var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n  // Since this is called a *lot*, try to bail out as cheaply as\n  // possible when it is clear that nothing happened. hasSelection\n  // will be the case when there is a lot of text in the textarea,\n  // in which case reading its value would be expensive.\n  if (this.contextMenuPending || !cm.state.focused ||\n      (hasSelection(input) && !prevInput && !this.composing) ||\n      cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n    { return false }\n\n  var text = input.value;\n  // If nothing changed, bail.\n  if (text == prevInput && !cm.somethingSelected()) { return false }\n  // Work around nonsensical selection resetting in IE9/10, and\n  // inexplicable appearance of private area unicode characters on\n  // some key combos in Mac (#2689).\n  if (ie && ie_version >= 9 && this.hasSelection === text ||\n      mac && /[\\uf700-\\uf7ff]/.test(text)) {\n    cm.display.input.reset();\n    return false\n  }\n\n  if (cm.doc.sel == cm.display.selForContextMenu) {\n    var first = text.charCodeAt(0);\n    if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n    if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n  }\n  // Find the part of the input that is actually new\n  var same = 0, l = Math.min(prevInput.length, text.length);\n  while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n  runInOp(cm, function () {\n    applyTextInput(cm, text.slice(same), prevInput.length - same,\n                   null, this$1.composing ? \"*compose\" : null);\n\n    // Don't leave long text in the textarea, since it makes further polling slow\n    if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n    else { this$1.prevInput = text; }\n\n    if (this$1.composing) {\n      this$1.composing.range.clear();\n      this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                         {className: \"CodeMirror-composing\"});\n    }\n  });\n  return true\n};\n\nTextareaInput.prototype.ensurePolled = function () {\n  if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n};\n\nTextareaInput.prototype.onKeyPress = function () {\n  if (ie && ie_version >= 9) { this.hasSelection = null; }\n  this.fastPoll();\n};\n\nTextareaInput.prototype.onContextMenu = function (e) {\n  var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n  var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n  if (!pos || presto) { return } // Opera is difficult.\n\n  // Reset the current text selection only if the click is done outside of the selection\n  // and 'resetSelectionOnContextMenu' option is true.\n  var reset = cm.options.resetSelectionOnContextMenu;\n  if (reset && cm.doc.sel.contains(pos) == -1)\n    { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n  var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n  input.wrapper.style.cssText = \"position: absolute\";\n  var wrapperBox = input.wrapper.getBoundingClientRect();\n  te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n  var oldScrollY;\n  if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n  display.input.focus();\n  if (webkit) { window.scrollTo(null, oldScrollY); }\n  display.input.reset();\n  // Adds \"Select all\" to context menu in FF\n  if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n  input.contextMenuPending = true;\n  display.selForContextMenu = cm.doc.sel;\n  clearTimeout(display.detectingSelectAll);\n\n  // Select-all will be greyed out if there's nothing to select, so\n  // this adds a zero-width space so that we can later check whether\n  // it got selected.\n  function prepareSelectAllHack() {\n    if (te.selectionStart != null) {\n      var selected = cm.somethingSelected();\n      var extval = \"\\u200b\" + (selected ? te.value : \"\");\n      te.value = \"\\u21da\"; // Used to catch context-menu undo\n      te.value = extval;\n      input.prevInput = selected ? \"\" : \"\\u200b\";\n      te.selectionStart = 1; te.selectionEnd = extval.length;\n      // Re-set this, in case some other handler touched the\n      // selection in the meantime.\n      display.selForContextMenu = cm.doc.sel;\n    }\n  }\n  function rehide() {\n    input.contextMenuPending = false;\n    input.wrapper.style.cssText = oldWrapperCSS;\n    te.style.cssText = oldCSS;\n    if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n    // Try to detect the user choosing select-all\n    if (te.selectionStart != null) {\n      if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n      var i = 0, poll = function () {\n        if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n            te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n          operation(cm, selectAll)(cm);\n        } else if (i++ < 10) {\n          display.detectingSelectAll = setTimeout(poll, 500);\n        } else {\n          display.selForContextMenu = null;\n          display.input.reset();\n        }\n      };\n      display.detectingSelectAll = setTimeout(poll, 200);\n    }\n  }\n\n  if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n  if (captureRightClick) {\n    e_stop(e);\n    var mouseup = function () {\n      off(window, \"mouseup\", mouseup);\n      setTimeout(rehide, 20);\n    };\n    on(window, \"mouseup\", mouseup);\n  } else {\n    setTimeout(rehide, 50);\n  }\n};\n\nTextareaInput.prototype.readOnlyChanged = function (val) {\n  if (!val) { this.reset(); }\n  this.textarea.disabled = val == \"nocursor\";\n};\n\nTextareaInput.prototype.setUneditable = function () {};\n\nTextareaInput.prototype.needsContentAttribute = false;\n\nfunction fromTextArea(textarea, options) {\n  options = options ? copyObj(options) : {};\n  options.value = textarea.value;\n  if (!options.tabindex && textarea.tabIndex)\n    { options.tabindex = textarea.tabIndex; }\n  if (!options.placeholder && textarea.placeholder)\n    { options.placeholder = textarea.placeholder; }\n  // Set autofocus to true if this textarea is focused, or if it has\n  // autofocus and no other element is focused.\n  if (options.autofocus == null) {\n    var hasFocus = activeElt();\n    options.autofocus = hasFocus == textarea ||\n      textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n  }\n\n  function save() {textarea.value = cm.getValue();}\n\n  var realSubmit;\n  if (textarea.form) {\n    on(textarea.form, \"submit\", save);\n    // Deplorable hack to make the submit method do the right thing.\n    if (!options.leaveSubmitMethodAlone) {\n      var form = textarea.form;\n      realSubmit = form.submit;\n      try {\n        var wrappedSubmit = form.submit = function () {\n          save();\n          form.submit = realSubmit;\n          form.submit();\n          form.submit = wrappedSubmit;\n        };\n      } catch(e) {}\n    }\n  }\n\n  options.finishInit = function (cm) {\n    cm.save = save;\n    cm.getTextArea = function () { return textarea; };\n    cm.toTextArea = function () {\n      cm.toTextArea = isNaN; // Prevent this from being ran twice\n      save();\n      textarea.parentNode.removeChild(cm.getWrapperElement());\n      textarea.style.display = \"\";\n      if (textarea.form) {\n        off(textarea.form, \"submit\", save);\n        if (typeof textarea.form.submit == \"function\")\n          { textarea.form.submit = realSubmit; }\n      }\n    };\n  };\n\n  textarea.style.display = \"none\";\n  var cm = CodeMirror$1(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n    options);\n  return cm\n}\n\nfunction addLegacyProps(CodeMirror) {\n  CodeMirror.off = off;\n  CodeMirror.on = on;\n  CodeMirror.wheelEventPixels = wheelEventPixels;\n  CodeMirror.Doc = Doc;\n  CodeMirror.splitLines = splitLinesAuto;\n  CodeMirror.countColumn = countColumn;\n  CodeMirror.findColumn = findColumn;\n  CodeMirror.isWordChar = isWordCharBasic;\n  CodeMirror.Pass = Pass;\n  CodeMirror.signal = signal;\n  CodeMirror.Line = Line;\n  CodeMirror.changeEnd = changeEnd;\n  CodeMirror.scrollbarModel = scrollbarModel;\n  CodeMirror.Pos = Pos;\n  CodeMirror.cmpPos = cmp;\n  CodeMirror.modes = modes;\n  CodeMirror.mimeModes = mimeModes;\n  CodeMirror.resolveMode = resolveMode;\n  CodeMirror.getMode = getMode;\n  CodeMirror.modeExtensions = modeExtensions;\n  CodeMirror.extendMode = extendMode;\n  CodeMirror.copyState = copyState;\n  CodeMirror.startState = startState;\n  CodeMirror.innerMode = innerMode;\n  CodeMirror.commands = commands;\n  CodeMirror.keyMap = keyMap;\n  CodeMirror.keyName = keyName;\n  CodeMirror.isModifierKey = isModifierKey;\n  CodeMirror.lookupKey = lookupKey;\n  CodeMirror.normalizeKeyMap = normalizeKeyMap;\n  CodeMirror.StringStream = StringStream;\n  CodeMirror.SharedTextMarker = SharedTextMarker;\n  CodeMirror.TextMarker = TextMarker;\n  CodeMirror.LineWidget = LineWidget;\n  CodeMirror.e_preventDefault = e_preventDefault;\n  CodeMirror.e_stopPropagation = e_stopPropagation;\n  CodeMirror.e_stop = e_stop;\n  CodeMirror.addClass = addClass;\n  CodeMirror.contains = contains;\n  CodeMirror.rmClass = rmClass;\n  CodeMirror.keyNames = keyNames;\n}\n\n// EDITOR CONSTRUCTOR\n\ndefineOptions(CodeMirror$1);\n\naddEditorMethods(CodeMirror$1);\n\n// Set up methods on CodeMirror's prototype to redirect to the editor's document.\nvar dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\nfor (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n  { CodeMirror$1.prototype[prop] = (function(method) {\n    return function() {return method.apply(this.doc, arguments)}\n  })(Doc.prototype[prop]); } }\n\neventMixin(Doc);\n\n// INPUT HANDLING\n\nCodeMirror$1.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n// MODE DEFINITION AND QUERYING\n\n// Extra arguments are stored as the mode's dependencies, which is\n// used by (legacy) mechanisms like loadmode.js to automatically\n// load a mode. (Preferred mechanism is the require/define calls.)\nCodeMirror$1.defineMode = function(name/*, mode, */) {\n  if (!CodeMirror$1.defaults.mode && name != \"null\") { CodeMirror$1.defaults.mode = name; }\n  defineMode.apply(this, arguments);\n};\n\nCodeMirror$1.defineMIME = defineMIME;\n\n// Minimal default mode.\nCodeMirror$1.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\nCodeMirror$1.defineMIME(\"text/plain\", \"null\");\n\n// EXTENSIONS\n\nCodeMirror$1.defineExtension = function (name, func) {\n  CodeMirror$1.prototype[name] = func;\n};\nCodeMirror$1.defineDocExtension = function (name, func) {\n  Doc.prototype[name] = func;\n};\n\nCodeMirror$1.fromTextArea = fromTextArea;\n\naddLegacyProps(CodeMirror$1);\n\nCodeMirror$1.version = \"5.39.2\";\n\nreturn CodeMirror$1;\n\n})));\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction Context(indented, column, type, info, align, prev) {\n  this.indented = indented;\n  this.column = column;\n  this.type = type;\n  this.info = info;\n  this.align = align;\n  this.prev = prev;\n}\nfunction pushContext(state, col, type, info) {\n  var indent = state.indented;\n  if (state.context && state.context.type == \"statement\" && type != \"statement\")\n    indent = state.context.indented;\n  return state.context = new Context(indent, col, type, info, null, state.context);\n}\nfunction popContext(state) {\n  var t = state.context.type;\n  if (t == \")\" || t == \"]\" || t == \"}\")\n    state.indented = state.context.indented;\n  return state.context = state.context.prev;\n}\n\nfunction typeBefore(stream, state, pos) {\n  if (state.prevToken == \"variable\" || state.prevToken == \"type\") return true;\n  if (/\\S(?:[^- ]>|[*\\]])\\s*$|\\*$/.test(stream.string.slice(0, pos))) return true;\n  if (state.typeAtEndOfLine && stream.column() == stream.indentation()) return true;\n}\n\nfunction isTopScope(context) {\n  for (;;) {\n    if (!context || context.type == \"top\") return true;\n    if (context.type == \"}\" && context.prev.info != \"namespace\") return false;\n    context = context.prev;\n  }\n}\n\nCodeMirror.defineMode(\"clike\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit,\n      statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,\n      dontAlignCalls = parserConfig.dontAlignCalls,\n      keywords = parserConfig.keywords || {},\n      types = parserConfig.types || {},\n      builtin = parserConfig.builtin || {},\n      blockKeywords = parserConfig.blockKeywords || {},\n      defKeywords = parserConfig.defKeywords || {},\n      atoms = parserConfig.atoms || {},\n      hooks = parserConfig.hooks || {},\n      multiLineStrings = parserConfig.multiLineStrings,\n      indentStatements = parserConfig.indentStatements !== false,\n      indentSwitch = parserConfig.indentSwitch !== false,\n      namespaceSeparator = parserConfig.namespaceSeparator,\n      isPunctuationChar = parserConfig.isPunctuationChar || /[\\[\\]{}\\(\\),;\\:\\.]/,\n      numberStart = parserConfig.numberStart || /[\\d\\.]/,\n      number = parserConfig.number || /^(?:0x[a-f\\d]+|0b[01]+|(?:\\d+\\.?\\d*|\\.\\d+)(?:e[-+]?\\d+)?)(u|ll?|l|f)?/i,\n      isOperatorChar = parserConfig.isOperatorChar || /[+\\-*&%=<>!?|\\/]/,\n      isIdentifierChar = parserConfig.isIdentifierChar || /[\\w\\$_\\xa1-\\uffff]/;\n\n  var curPunc, isDefKeyword;\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (hooks[ch]) {\n      var result = hooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    }\n    if (isPunctuationChar.test(ch)) {\n      curPunc = ch;\n      return null;\n    }\n    if (numberStart.test(ch)) {\n      stream.backUp(1)\n      if (stream.match(number)) return \"number\"\n      stream.next()\n    }\n    if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      }\n      if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return \"comment\";\n      }\n    }\n    if (isOperatorChar.test(ch)) {\n      while (!stream.match(/^\\/[\\/*]/, false) && stream.eat(isOperatorChar)) {}\n      return \"operator\";\n    }\n    stream.eatWhile(isIdentifierChar);\n    if (namespaceSeparator) while (stream.match(namespaceSeparator))\n      stream.eatWhile(isIdentifierChar);\n\n    var cur = stream.current();\n    if (contains(keywords, cur)) {\n      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n      if (contains(defKeywords, cur)) isDefKeyword = true;\n      return \"keyword\";\n    }\n    if (contains(types, cur)) return \"type\";\n    if (contains(builtin, cur)) {\n      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n      return \"builtin\";\n    }\n    if (contains(atoms, cur)) return \"atom\";\n    return \"variable\";\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) {end = true; break;}\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (end || !(escaped || multiLineStrings))\n        state.tokenize = null;\n      return \"string\";\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return \"comment\";\n  }\n\n  function maybeEOL(stream, state) {\n    if (parserConfig.typeFirstDefinitions && stream.eol() && isTopScope(state.context))\n      state.typeAtEndOfLine = typeBefore(stream, state, stream.pos)\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      return {\n        tokenize: null,\n        context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", null, false),\n        indented: 0,\n        startOfLine: true,\n        prevToken: null\n      };\n    },\n\n    token: function(stream, state) {\n      var ctx = state.context;\n      if (stream.sol()) {\n        if (ctx.align == null) ctx.align = false;\n        state.indented = stream.indentation();\n        state.startOfLine = true;\n      }\n      if (stream.eatSpace()) { maybeEOL(stream, state); return null; }\n      curPunc = isDefKeyword = null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style == \"comment\" || style == \"meta\") return style;\n      if (ctx.align == null) ctx.align = true;\n\n      if (curPunc == \";\" || curPunc == \":\" || (curPunc == \",\" && stream.match(/^\\s*(?:\\/\\/.*)?$/, false)))\n        while (state.context.type == \"statement\") popContext(state);\n      else if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n      else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n      else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n      else if (curPunc == \"}\") {\n        while (ctx.type == \"statement\") ctx = popContext(state);\n        if (ctx.type == \"}\") ctx = popContext(state);\n        while (ctx.type == \"statement\") ctx = popContext(state);\n      }\n      else if (curPunc == ctx.type) popContext(state);\n      else if (indentStatements &&\n               (((ctx.type == \"}\" || ctx.type == \"top\") && curPunc != \";\") ||\n                (ctx.type == \"statement\" && curPunc == \"newstatement\"))) {\n        pushContext(state, stream.column(), \"statement\", stream.current());\n      }\n\n      if (style == \"variable\" &&\n          ((state.prevToken == \"def\" ||\n            (parserConfig.typeFirstDefinitions && typeBefore(stream, state, stream.start) &&\n             isTopScope(state.context) && stream.match(/^\\s*\\(/, false)))))\n        style = \"def\";\n\n      if (hooks.token) {\n        var result = hooks.token(stream, state, style);\n        if (result !== undefined) style = result;\n      }\n\n      if (style == \"def\" && parserConfig.styleDefs === false) style = \"variable\";\n\n      state.startOfLine = false;\n      state.prevToken = isDefKeyword ? \"def\" : style || curPunc;\n      maybeEOL(stream, state);\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize != tokenBase && state.tokenize != null || state.typeAtEndOfLine) return CodeMirror.Pass;\n      var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);\n      var closing = firstChar == ctx.type;\n      if (ctx.type == \"statement\" && firstChar == \"}\") ctx = ctx.prev;\n      if (parserConfig.dontIndentStatements)\n        while (ctx.type == \"statement\" && parserConfig.dontIndentStatements.test(ctx.info))\n          ctx = ctx.prev\n      if (hooks.indent) {\n        var hook = hooks.indent(state, ctx, textAfter, indentUnit);\n        if (typeof hook == \"number\") return hook\n      }\n      var switchBlock = ctx.prev && ctx.prev.info == \"switch\";\n      if (parserConfig.allmanIndentation && /[{(]/.test(firstChar)) {\n        while (ctx.type != \"top\" && ctx.type != \"}\") ctx = ctx.prev\n        return ctx.indented\n      }\n      if (ctx.type == \"statement\")\n        return ctx.indented + (firstChar == \"{\" ? 0 : statementIndentUnit);\n      if (ctx.align && (!dontAlignCalls || ctx.type != \")\"))\n        return ctx.column + (closing ? 0 : 1);\n      if (ctx.type == \")\" && !closing)\n        return ctx.indented + statementIndentUnit;\n\n      return ctx.indented + (closing ? 0 : indentUnit) +\n        (!closing && switchBlock && !/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 0);\n    },\n\n    electricInput: indentSwitch ? /^\\s*(?:case .*?:|default:|\\{\\}?|\\})$/ : /^\\s*[{}]$/,\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    blockCommentContinue: \" * \",\n    lineComment: \"//\",\n    fold: \"brace\"\n  };\n});\n\n  function words(str) {\n    var obj = {}, words = str.split(\" \");\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n  function contains(words, word) {\n    if (typeof words === \"function\") {\n      return words(word);\n    } else {\n      return words.propertyIsEnumerable(word);\n    }\n  }\n  var cKeywords = \"auto if break case register continue return default do sizeof \" +\n    \"static else struct switch extern typedef union for goto while enum const volatile\";\n  var cTypes = \"int long char short double float unsigned signed void size_t ptrdiff_t\";\n\n  function cppHook(stream, state) {\n    if (!state.startOfLine) return false\n    for (var ch, next = null; ch = stream.peek();) {\n      if (ch == \"\\\\\" && stream.match(/^.$/)) {\n        next = cppHook\n        break\n      } else if (ch == \"/\" && stream.match(/^\\/[\\/\\*]/, false)) {\n        break\n      }\n      stream.next()\n    }\n    state.tokenize = next\n    return \"meta\"\n  }\n\n  function pointerHook(_stream, state) {\n    if (state.prevToken == \"type\") return \"type\";\n    return false;\n  }\n\n  function cpp14Literal(stream) {\n    stream.eatWhile(/[\\w\\.']/);\n    return \"number\";\n  }\n\n  function cpp11StringHook(stream, state) {\n    stream.backUp(1);\n    // Raw strings.\n    if (stream.match(/(R|u8R|uR|UR|LR)/)) {\n      var match = stream.match(/\"([^\\s\\\\()]{0,16})\\(/);\n      if (!match) {\n        return false;\n      }\n      state.cpp11RawStringDelim = match[1];\n      state.tokenize = tokenRawString;\n      return tokenRawString(stream, state);\n    }\n    // Unicode strings/chars.\n    if (stream.match(/(u8|u|U|L)/)) {\n      if (stream.match(/[\"']/, /* eat */ false)) {\n        return \"string\";\n      }\n      return false;\n    }\n    // Ignore this hook.\n    stream.next();\n    return false;\n  }\n\n  function cppLooksLikeConstructor(word) {\n    var lastTwo = /(\\w+)::~?(\\w+)$/.exec(word);\n    return lastTwo && lastTwo[1] == lastTwo[2];\n  }\n\n  // C#-style strings where \"\" escapes a quote.\n  function tokenAtString(stream, state) {\n    var next;\n    while ((next = stream.next()) != null) {\n      if (next == '\"' && !stream.eat('\"')) {\n        state.tokenize = null;\n        break;\n      }\n    }\n    return \"string\";\n  }\n\n  // C++11 raw string literal is <prefix>\"<delim>( anything )<delim>\", where\n  // <delim> can be a string up to 16 characters long.\n  function tokenRawString(stream, state) {\n    // Escape characters that have special regex meanings.\n    var delim = state.cpp11RawStringDelim.replace(/[^\\w\\s]/g, '\\\\$&');\n    var match = stream.match(new RegExp(\".*?\\\\)\" + delim + '\"'));\n    if (match)\n      state.tokenize = null;\n    else\n      stream.skipToEnd();\n    return \"string\";\n  }\n\n  function def(mimes, mode) {\n    if (typeof mimes == \"string\") mimes = [mimes];\n    var words = [];\n    function add(obj) {\n      if (obj) for (var prop in obj) if (obj.hasOwnProperty(prop))\n        words.push(prop);\n    }\n    add(mode.keywords);\n    add(mode.types);\n    add(mode.builtin);\n    add(mode.atoms);\n    if (words.length) {\n      mode.helperType = mimes[0];\n      CodeMirror.registerHelper(\"hintWords\", mimes[0], words);\n    }\n\n    for (var i = 0; i < mimes.length; ++i)\n      CodeMirror.defineMIME(mimes[i], mode);\n  }\n\n  def([\"text/x-csrc\", \"text/x-c\", \"text/x-chdr\"], {\n    name: \"clike\",\n    keywords: words(cKeywords),\n    types: words(cTypes + \" bool _Complex _Bool float_t double_t intptr_t intmax_t \" +\n                 \"int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t \" +\n                 \"uint32_t uint64_t\"),\n    blockKeywords: words(\"case do else for if switch while struct\"),\n    defKeywords: words(\"struct\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"NULL true false\"),\n    hooks: {\"#\": cppHook, \"*\": pointerHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def([\"text/x-c++src\", \"text/x-c++hdr\"], {\n    name: \"clike\",\n    keywords: words(cKeywords + \" asm dynamic_cast namespace reinterpret_cast try explicit new \" +\n                    \"static_cast typeid catch operator template typename class friend private \" +\n                    \"this using const_cast inline public throw virtual delete mutable protected \" +\n                    \"alignas alignof constexpr decltype nullptr noexcept thread_local final \" +\n                    \"static_assert override\"),\n    types: words(cTypes + \" bool wchar_t\"),\n    blockKeywords: words(\"catch class do else finally for if struct switch try while\"),\n    defKeywords: words(\"class namespace struct enum union\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false NULL\"),\n    dontIndentStatements: /^template$/,\n    isIdentifierChar: /[\\w\\$_~\\xa1-\\uffff]/,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n      \"u\": cpp11StringHook,\n      \"U\": cpp11StringHook,\n      \"L\": cpp11StringHook,\n      \"R\": cpp11StringHook,\n      \"0\": cpp14Literal,\n      \"1\": cpp14Literal,\n      \"2\": cpp14Literal,\n      \"3\": cpp14Literal,\n      \"4\": cpp14Literal,\n      \"5\": cpp14Literal,\n      \"6\": cpp14Literal,\n      \"7\": cpp14Literal,\n      \"8\": cpp14Literal,\n      \"9\": cpp14Literal,\n      token: function(stream, state, style) {\n        if (style == \"variable\" && stream.peek() == \"(\" &&\n            (state.prevToken == \";\" || state.prevToken == null ||\n             state.prevToken == \"}\") &&\n            cppLooksLikeConstructor(stream.current()))\n          return \"def\";\n      }\n    },\n    namespaceSeparator: \"::\",\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-java\", {\n    name: \"clike\",\n    keywords: words(\"abstract assert break case catch class const continue default \" +\n                    \"do else enum extends final finally float for goto if implements import \" +\n                    \"instanceof interface native new package private protected public \" +\n                    \"return static strictfp super switch synchronized this throw throws transient \" +\n                    \"try volatile while @interface\"),\n    types: words(\"byte short int long float double boolean char void Boolean Byte Character Double Float \" +\n                 \"Integer Long Number Object Short String StringBuffer StringBuilder Void\"),\n    blockKeywords: words(\"catch class do else finally for if switch try while\"),\n    defKeywords: words(\"class interface enum @interface\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    number: /^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+\\.?\\d*|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,\n    hooks: {\n      \"@\": function(stream) {\n        // Don't match the @interface keyword.\n        if (stream.match('interface', false)) return false;\n\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      }\n    },\n    modeProps: {fold: [\"brace\", \"import\"]}\n  });\n\n  def(\"text/x-csharp\", {\n    name: \"clike\",\n    keywords: words(\"abstract as async await base break case catch checked class const continue\" +\n                    \" default delegate do else enum event explicit extern finally fixed for\" +\n                    \" foreach goto if implicit in interface internal is lock namespace new\" +\n                    \" operator out override params private protected public readonly ref return sealed\" +\n                    \" sizeof stackalloc static struct switch this throw try typeof unchecked\" +\n                    \" unsafe using virtual void volatile while add alias ascending descending dynamic from get\" +\n                    \" global group into join let orderby partial remove select set value var yield\"),\n    types: words(\"Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func\" +\n                 \" Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32\" +\n                 \" UInt64 bool byte char decimal double short int long object\"  +\n                 \" sbyte float string ushort uint ulong\"),\n    blockKeywords: words(\"catch class do else finally for foreach if struct switch try while\"),\n    defKeywords: words(\"class interface namespace struct var\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    hooks: {\n      \"@\": function(stream, state) {\n        if (stream.eat('\"')) {\n          state.tokenize = tokenAtString;\n          return tokenAtString(stream, state);\n        }\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      }\n    }\n  });\n\n  function tokenTripleString(stream, state) {\n    var escaped = false;\n    while (!stream.eol()) {\n      if (!escaped && stream.match('\"\"\"')) {\n        state.tokenize = null;\n        break;\n      }\n      escaped = stream.next() == \"\\\\\" && !escaped;\n    }\n    return \"string\";\n  }\n\n  function tokenNestedComment(depth) {\n    return function (stream, state) {\n      var ch\n      while (ch = stream.next()) {\n        if (ch == \"*\" && stream.eat(\"/\")) {\n          if (depth == 1) {\n            state.tokenize = null\n            break\n          } else {\n            state.tokenize = tokenNestedComment(depth - 1)\n            return state.tokenize(stream, state)\n          }\n        } else if (ch == \"/\" && stream.eat(\"*\")) {\n          state.tokenize = tokenNestedComment(depth + 1)\n          return state.tokenize(stream, state)\n        }\n      }\n      return \"comment\"\n    }\n  }\n\n  def(\"text/x-scala\", {\n    name: \"clike\",\n    keywords: words(\n\n      /* scala */\n      \"abstract case catch class def do else extends final finally for forSome if \" +\n      \"implicit import lazy match new null object override package private protected return \" +\n      \"sealed super this throw trait try type val var while with yield _ \" +\n\n      /* package scala */\n      \"assert assume require print println printf readLine readBoolean readByte readShort \" +\n      \"readChar readInt readLong readFloat readDouble\"\n    ),\n    types: words(\n      \"AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either \" +\n      \"Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable \" +\n      \"Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering \" +\n      \"Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder \" +\n      \"StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector \" +\n\n      /* package java.lang */\n      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void\"\n    ),\n    multiLineStrings: true,\n    blockKeywords: words(\"catch class enum do else finally for forSome if match switch try while\"),\n    defKeywords: words(\"class enum def object package trait type val var\"),\n    atoms: words(\"true false null\"),\n    indentStatements: false,\n    indentSwitch: false,\n    isOperatorChar: /[+\\-*&%=<>!?|\\/#:@]/,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n        if (!stream.match('\"\"')) return false;\n        state.tokenize = tokenTripleString;\n        return state.tokenize(stream, state);\n      },\n      \"'\": function(stream) {\n        stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n        return \"atom\";\n      },\n      \"=\": function(stream, state) {\n        var cx = state.context\n        if (cx.type == \"}\" && cx.align && stream.eat(\">\")) {\n          state.context = new Context(cx.indented, cx.column, cx.type, cx.info, null, cx.prev)\n          return \"operator\"\n        } else {\n          return false\n        }\n      },\n\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false\n        state.tokenize = tokenNestedComment(1)\n        return state.tokenize(stream, state)\n      }\n    },\n    modeProps: {closeBrackets: {triples: '\"'}}\n  });\n\n  function tokenKotlinString(tripleString){\n    return function (stream, state) {\n      var escaped = false, next, end = false;\n      while (!stream.eol()) {\n        if (!tripleString && !escaped && stream.match('\"') ) {end = true; break;}\n        if (tripleString && stream.match('\"\"\"')) {end = true; break;}\n        next = stream.next();\n        if(!escaped && next == \"$\" && stream.match('{'))\n          stream.skipTo(\"}\");\n        escaped = !escaped && next == \"\\\\\" && !tripleString;\n      }\n      if (end || !tripleString)\n        state.tokenize = null;\n      return \"string\";\n    }\n  }\n\n  def(\"text/x-kotlin\", {\n    name: \"clike\",\n    keywords: words(\n      /*keywords*/\n      \"package as typealias class interface this super val operator \" +\n      \"var fun for is in This throw return annotation \" +\n      \"break continue object if else while do try when !in !is as? \" +\n\n      /*soft keywords*/\n      \"file import where by get set abstract enum open inner override private public internal \" +\n      \"protected catch finally out final vararg reified dynamic companion constructor init \" +\n      \"sealed field property receiver param sparam lateinit data inline noinline tailrec \" +\n      \"external annotation crossinline const operator infix suspend actual expect setparam\"\n    ),\n    types: words(\n      /* package java.lang */\n      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray \" +\n      \"ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy \" +\n      \"LazyThreadSafetyMode LongArray Nothing ShortArray Unit\"\n    ),\n    intendSwitch: false,\n    indentStatements: false,\n    multiLineStrings: true,\n    number: /^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+(\\.\\d+)?|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,\n    blockKeywords: words(\"catch class do else finally for if where try while enum\"),\n    defKeywords: words(\"class val var object interface fun\"),\n    atoms: words(\"true false null this\"),\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n        state.tokenize = tokenKotlinString(stream.match('\"\"'));\n        return state.tokenize(stream, state);\n      },\n      indent: function(state, ctx, textAfter, indentUnit) {\n        var firstChar = textAfter && textAfter.charAt(0);\n        if ((state.prevToken == \"}\" || state.prevToken == \")\") && textAfter == \"\")\n          return state.indented;\n        if (state.prevToken == \"operator\" && textAfter != \"}\" ||\n          state.prevToken == \"variable\" && firstChar == \".\" ||\n          (state.prevToken == \"}\" || state.prevToken == \")\") && firstChar == \".\")\n          return indentUnit * 2 + ctx.indented;\n        if (ctx.align && ctx.type == \"}\")\n          return ctx.indented + (state.context.type == (textAfter || \"\").charAt(0) ? 0 : indentUnit);\n      }\n    },\n    modeProps: {closeBrackets: {triples: '\"'}}\n  });\n\n  def([\"x-shader/x-vertex\", \"x-shader/x-fragment\"], {\n    name: \"clike\",\n    keywords: words(\"sampler1D sampler2D sampler3D samplerCube \" +\n                    \"sampler1DShadow sampler2DShadow \" +\n                    \"const attribute uniform varying \" +\n                    \"break continue discard return \" +\n                    \"for while do if else struct \" +\n                    \"in out inout\"),\n    types: words(\"float int bool void \" +\n                 \"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 \" +\n                 \"mat2 mat3 mat4\"),\n    blockKeywords: words(\"for while do if else struct\"),\n    builtin: words(\"radians degrees sin cos tan asin acos atan \" +\n                    \"pow exp log exp2 sqrt inversesqrt \" +\n                    \"abs sign floor ceil fract mod min max clamp mix step smoothstep \" +\n                    \"length distance dot cross normalize ftransform faceforward \" +\n                    \"reflect refract matrixCompMult \" +\n                    \"lessThan lessThanEqual greaterThan greaterThanEqual \" +\n                    \"equal notEqual any all not \" +\n                    \"texture1D texture1DProj texture1DLod texture1DProjLod \" +\n                    \"texture2D texture2DProj texture2DLod texture2DProjLod \" +\n                    \"texture3D texture3DProj texture3DLod texture3DProjLod \" +\n                    \"textureCube textureCubeLod \" +\n                    \"shadow1D shadow2D shadow1DProj shadow2DProj \" +\n                    \"shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod \" +\n                    \"dFdx dFdy fwidth \" +\n                    \"noise1 noise2 noise3 noise4\"),\n    atoms: words(\"true false \" +\n                \"gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex \" +\n                \"gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 \" +\n                \"gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 \" +\n                \"gl_FogCoord gl_PointCoord \" +\n                \"gl_Position gl_PointSize gl_ClipVertex \" +\n                \"gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor \" +\n                \"gl_TexCoord gl_FogFragCoord \" +\n                \"gl_FragCoord gl_FrontFacing \" +\n                \"gl_FragData gl_FragDepth \" +\n                \"gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix \" +\n                \"gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse \" +\n                \"gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse \" +\n                \"gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose \" +\n                \"gl_ProjectionMatrixInverseTranspose \" +\n                \"gl_ModelViewProjectionMatrixInverseTranspose \" +\n                \"gl_TextureMatrixInverseTranspose \" +\n                \"gl_NormalScale gl_DepthRange gl_ClipPlane \" +\n                \"gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel \" +\n                \"gl_FrontLightModelProduct gl_BackLightModelProduct \" +\n                \"gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ \" +\n                \"gl_FogParameters \" +\n                \"gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords \" +\n                \"gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats \" +\n                \"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits \" +\n                \"gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits \" +\n                \"gl_MaxDrawBuffers\"),\n    indentSwitch: false,\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-nesc\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \"as atomic async call command component components configuration event generic \" +\n                    \"implementation includes interface module new norace nx_struct nx_union post provides \" +\n                    \"signal task uses abstract extends\"),\n    types: words(cTypes),\n    blockKeywords: words(\"case do else for if switch while struct\"),\n    atoms: words(\"null true false\"),\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-objectivec\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \"inline restrict _Bool _Complex _Imaginary BOOL Class bycopy byref id IMP in \" +\n                    \"inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly\"),\n    types: words(cTypes),\n    atoms: words(\"YES NO NULL NILL ON OFF true false\"),\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$]/);\n        return \"keyword\";\n      },\n      \"#\": cppHook,\n      indent: function(_state, ctx, textAfter) {\n        if (ctx.type == \"statement\" && /^@\\w/.test(textAfter)) return ctx.indented\n      }\n    },\n    modeProps: {fold: \"brace\"}\n  });\n\n  def(\"text/x-squirrel\", {\n    name: \"clike\",\n    keywords: words(\"base break clone continue const default delete enum extends function in class\" +\n                    \" foreach local resume return this throw typeof yield constructor instanceof static\"),\n    types: words(cTypes),\n    blockKeywords: words(\"case catch class else for foreach if switch try while\"),\n    defKeywords: words(\"function local class\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  // Ceylon Strings need to deal with interpolation\n  var stringTokenizer = null;\n  function tokenCeylonString(type) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while (!stream.eol()) {\n        if (!escaped && stream.match('\"') &&\n              (type == \"single\" || stream.match('\"\"'))) {\n          end = true;\n          break;\n        }\n        if (!escaped && stream.match('``')) {\n          stringTokenizer = tokenCeylonString(type);\n          end = true;\n          break;\n        }\n        next = stream.next();\n        escaped = type == \"single\" && !escaped && next == \"\\\\\";\n      }\n      if (end)\n          state.tokenize = null;\n      return \"string\";\n    }\n  }\n\n  def(\"text/x-ceylon\", {\n    name: \"clike\",\n    keywords: words(\"abstracts alias assembly assert assign break case catch class continue dynamic else\" +\n                    \" exists extends finally for function given if import in interface is let module new\" +\n                    \" nonempty object of out outer package return satisfies super switch then this throw\" +\n                    \" try value void while\"),\n    types: function(word) {\n        // In Ceylon all identifiers that start with an uppercase are types\n        var first = word.charAt(0);\n        return (first === first.toUpperCase() && first !== first.toLowerCase());\n    },\n    blockKeywords: words(\"case catch class dynamic else finally for function if interface module new object switch try while\"),\n    defKeywords: words(\"class dynamic function interface module object package value\"),\n    builtin: words(\"abstract actual aliased annotation by default deprecated doc final formal late license\" +\n                   \" native optional sealed see serializable shared suppressWarnings tagged throws variable\"),\n    isPunctuationChar: /[\\[\\]{}\\(\\),;\\:\\.`]/,\n    isOperatorChar: /[+\\-*&%=<>!?|^~:\\/]/,\n    numberStart: /[\\d#$]/,\n    number: /^(?:#[\\da-fA-F_]+|\\$[01_]+|[\\d_]+[kMGTPmunpf]?|[\\d_]+\\.[\\d_]+(?:[eE][-+]?\\d+|[kMGTPmunpf]|)|)/i,\n    multiLineStrings: true,\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null larger smaller equal empty finished\"),\n    indentSwitch: false,\n    styleDefs: false,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n          state.tokenize = tokenCeylonString(stream.match('\"\"') ? \"triple\" : \"single\");\n          return state.tokenize(stream, state);\n        },\n      '`': function(stream, state) {\n          if (!stringTokenizer || !stream.match('`')) return false;\n          state.tokenize = stringTokenizer;\n          stringTokenizer = null;\n          return state.tokenize(stream, state);\n        },\n      \"'\": function(stream) {\n        stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n        return \"atom\";\n      },\n      token: function(_stream, state, style) {\n          if ((style == \"variable\" || style == \"type\") &&\n              state.prevToken == \".\") {\n            return \"variable-2\";\n          }\n        }\n    },\n    modeProps: {\n        fold: [\"brace\", \"import\"],\n        closeBrackets: {triples: '\"'}\n    }\n  });\n\n});\n","require('../../modules/core.regexp.escape');\nmodule.exports = require('../../modules/_core').RegExp.escape;\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var cof = require('./_cof');\nmodule.exports = function (it, msg) {\n  if (typeof it != 'number' && cof(it) != 'Number') throw TypeError(msg);\n  return +it;\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var forOf = require('./_for-of');\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","var aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar toLength = require('./_to-length');\n\nmodule.exports = function (that, callbackfn, aLen, memo, isRight) {\n  aFunction(callbackfn);\n  var O = toObject(that);\n  var self = IObject(O);\n  var length = toLength(O.length);\n  var index = isRight ? length - 1 : 0;\n  var i = isRight ? -1 : 1;\n  if (aLen < 2) for (;;) {\n    if (index in self) {\n      memo = self[index];\n      index += i;\n      break;\n    }\n    index += i;\n    if (isRight ? index < 0 : length <= index) {\n      throw TypeError('Reduce of empty array with no initial value');\n    }\n  }\n  for (;isRight ? index >= 0 : length > index; index += i) if (index in self) {\n    memo = callbackfn(memo, self[index], index, O);\n  }\n  return memo;\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","'use strict';\nvar aFunction = require('./_a-function');\nvar isObject = require('./_is-object');\nvar invoke = require('./_invoke');\nvar arraySlice = [].slice;\nvar factories = {};\n\nvar construct = function (F, len, args) {\n  if (!(len in factories)) {\n    for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');\n  } return factories[len](F, args);\n};\n\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = arraySlice.call(arguments, 1);\n  var bound = function (/* args... */) {\n    var args = partArgs.concat(arraySlice.call(arguments));\n    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);\n  };\n  if (isObject(fn.prototype)) bound.prototype = fn.prototype;\n  return bound;\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof');\nvar from = require('./_array-from-iterable');\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n","'use strict';\nvar redefineAll = require('./_redefine-all');\nvar getWeak = require('./_meta').getWeak;\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar createArrayMethod = require('./_array-methods');\nvar $has = require('./_has');\nvar validate = require('./_validate-collection');\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","var core = module.exports = { version: '2.5.3' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\n// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar fails = require('./_fails');\nvar getTime = Date.prototype.getTime;\nvar $toISOString = Date.prototype.toISOString;\n\nvar lz = function (num) {\n  return num > 9 ? num : '0' + num;\n};\n\n// PhantomJS / old WebKit has a broken implementations\nmodule.exports = (fails(function () {\n  return $toISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';\n}) || !fails(function () {\n  $toISOString.call(new Date(NaN));\n})) ? function toISOString() {\n  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');\n  var d = this;\n  var y = d.getUTCFullYear();\n  var m = d.getUTCMilliseconds();\n  var s = y < 0 ? '-' : y > 9999 ? '+' : '';\n  return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +\n    '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +\n    'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +\n    ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';\n} : $toISOString;\n","'use strict';\nvar anObject = require('./_an-object');\nvar toPrimitive = require('./_to-primitive');\nvar NUMBER = 'number';\n\nmodule.exports = function (hint) {\n  if (hint !== 'string' && hint !== NUMBER && hint !== 'default') throw TypeError('Incorrect hint');\n  return toPrimitive(anObject(this), hint != NUMBER);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","'use strict';\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n  var fns = exec(defined, SYMBOL, ''[KEY]);\n  var strfn = fns[0];\n  var rxfn = fns[1];\n  if (fails(function () {\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  })) {\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar isArray = require('./_is-array');\nvar isObject = require('./_is-object');\nvar toLength = require('./_to-length');\nvar ctx = require('./_ctx');\nvar IS_CONCAT_SPREADABLE = require('./_wks')('isConcatSpreadable');\n\nfunction flattenIntoArray(target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? ctx(mapper, thisArg, 3) : false;\n  var element, spreadable;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      spreadable = false;\n      if (isObject(element)) {\n        spreadable = element[IS_CONCAT_SPREADABLE];\n        spreadable = spreadable !== undefined ? !!spreadable : isArray(element);\n      }\n\n      if (spreadable && depth > 0) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1fffffffffffff) throw TypeError();\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n}\n\nmodule.exports = flattenIntoArray;\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = (!BUGGY && $native) || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = {};\n","module.exports = false;\n","// 20.2.2.14 Math.expm1(x)\nvar $expm1 = Math.expm1;\nmodule.exports = (!$expm1\n  // Old FF bug\n  || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168\n  // Tor Browser bug\n  || $expm1(-2e-17) != -2e-17\n) ? function expm1(x) {\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;\n} : $expm1;\n","// 20.2.2.16 Math.fround(x)\nvar sign = require('./_math-sign');\nvar pow = Math.pow;\nvar EPSILON = pow(2, -52);\nvar EPSILON32 = pow(2, -23);\nvar MAX32 = pow(2, 127) * (2 - EPSILON32);\nvar MIN32 = pow(2, -126);\n\nvar roundTiesToEven = function (n) {\n  return n + 1 / EPSILON - 1 / EPSILON;\n};\n\nmodule.exports = Math.fround || function fround(x) {\n  var $abs = Math.abs(x);\n  var $sign = sign(x);\n  var a, result;\n  if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n  a = (1 + EPSILON32 / EPSILON) * $abs;\n  result = a - (a - $abs);\n  // eslint-disable-next-line no-self-compare\n  if (result > MAX32 || result != result) return $sign * Infinity;\n  return $sign * result;\n};\n","// 20.2.2.20 Math.log1p(x)\nmodule.exports = Math.log1p || function log1p(x) {\n  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);\n};\n","// https://rwaldron.github.io/proposal-math-extensions/\nmodule.exports = Math.scale || function scale(x, inLow, inHigh, outLow, outHigh) {\n  if (\n    arguments.length === 0\n      // eslint-disable-next-line no-self-compare\n      || x != x\n      // eslint-disable-next-line no-self-compare\n      || inLow != inLow\n      // eslint-disable-next-line no-self-compare\n      || inHigh != inHigh\n      // eslint-disable-next-line no-self-compare\n      || outLow != outLow\n      // eslint-disable-next-line no-self-compare\n      || outHigh != outHigh\n  ) return NaN;\n  if (x === Infinity || x === -Infinity) return x;\n  return (x - inLow) * (outHigh - outLow) / (inHigh - inLow) + outLow;\n};\n","// 20.2.2.28 Math.sign(x)\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var Map = require('./es6.map');\nvar $export = require('./_export');\nvar shared = require('./_shared')('metadata');\nvar store = shared.store || (shared.store = new (require('./es6.weak-map'))());\n\nvar getOrCreateMetadataMap = function (target, targetKey, create) {\n  var targetMetadata = store.get(target);\n  if (!targetMetadata) {\n    if (!create) return undefined;\n    store.set(target, targetMetadata = new Map());\n  }\n  var keyMetadata = targetMetadata.get(targetKey);\n  if (!keyMetadata) {\n    if (!create) return undefined;\n    targetMetadata.set(targetKey, keyMetadata = new Map());\n  } return keyMetadata;\n};\nvar ordinaryHasOwnMetadata = function (MetadataKey, O, P) {\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? false : metadataMap.has(MetadataKey);\n};\nvar ordinaryGetOwnMetadata = function (MetadataKey, O, P) {\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? undefined : metadataMap.get(MetadataKey);\n};\nvar ordinaryDefineOwnMetadata = function (MetadataKey, MetadataValue, O, P) {\n  getOrCreateMetadataMap(O, P, true).set(MetadataKey, MetadataValue);\n};\nvar ordinaryOwnMetadataKeys = function (target, targetKey) {\n  var metadataMap = getOrCreateMetadataMap(target, targetKey, false);\n  var keys = [];\n  if (metadataMap) metadataMap.forEach(function (_, key) { keys.push(key); });\n  return keys;\n};\nvar toMetaKey = function (it) {\n  return it === undefined || typeof it == 'symbol' ? it : String(it);\n};\nvar exp = function (O) {\n  $export($export.S, 'Reflect', O);\n};\n\nmodule.exports = {\n  store: store,\n  map: getOrCreateMetadataMap,\n  has: ordinaryHasOwnMetadata,\n  get: ordinaryGetOwnMetadata,\n  set: ordinaryDefineOwnMetadata,\n  keys: ordinaryOwnMetadataKeys,\n  key: toMetaKey,\n  exp: exp\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","'use strict';\n// Forced replacement prototype accessors methods\nmodule.exports = require('./_library') || !require('./_fails')(function () {\n  var K = Math.random();\n  // In FF throws only define methods\n  // eslint-disable-next-line no-undef, no-useless-call\n  __defineSetter__.call(null, K, function () { /* empty */ });\n  delete require('./_global')[K];\n});\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = {}.propertyIsEnumerable;\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","var $parseFloat = require('./_global').parseFloat;\nvar $trim = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var $parseInt = require('./_global').parseInt;\nvar $trim = require('./_string-trim').trim;\nvar ws = require('./_string-ws');\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar TO_STRING = 'toString';\nvar $toString = Function[TO_STRING];\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","module.exports = function (regExp, replace) {\n  var replacer = replace === Object(replace) ? function (part) {\n    return replace[part];\n  } : replace;\n  return function (it) {\n    return String(it).replace(regExp, replacer);\n  };\n};\n","// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = new Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nif (require('./_descriptors')) {\n  var LIBRARY = require('./_library');\n  var global = require('./_global');\n  var fails = require('./_fails');\n  var $export = require('./_export');\n  var $typed = require('./_typed');\n  var $buffer = require('./_typed-buffer');\n  var ctx = require('./_ctx');\n  var anInstance = require('./_an-instance');\n  var propertyDesc = require('./_property-desc');\n  var hide = require('./_hide');\n  var redefineAll = require('./_redefine-all');\n  var toInteger = require('./_to-integer');\n  var toLength = require('./_to-length');\n  var toIndex = require('./_to-index');\n  var toAbsoluteIndex = require('./_to-absolute-index');\n  var toPrimitive = require('./_to-primitive');\n  var has = require('./_has');\n  var classof = require('./_classof');\n  var isObject = require('./_is-object');\n  var toObject = require('./_to-object');\n  var isArrayIter = require('./_is-array-iter');\n  var create = require('./_object-create');\n  var getPrototypeOf = require('./_object-gpo');\n  var gOPN = require('./_object-gopn').f;\n  var getIterFn = require('./core.get-iterator-method');\n  var uid = require('./_uid');\n  var wks = require('./_wks');\n  var createArrayMethod = require('./_array-methods');\n  var createArrayIncludes = require('./_array-includes');\n  var speciesConstructor = require('./_species-constructor');\n  var ArrayIterators = require('./es6.array.iterator');\n  var Iterators = require('./_iterators');\n  var $iterDetect = require('./_iter-detect');\n  var setSpecies = require('./_set-species');\n  var arrayFill = require('./_array-fill');\n  var arrayCopyWithin = require('./_array-copy-within');\n  var $DP = require('./_object-dp');\n  var $GOPD = require('./_object-gopd');\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n","'use strict';\nvar global = require('./_global');\nvar DESCRIPTORS = require('./_descriptors');\nvar LIBRARY = require('./_library');\nvar $typed = require('./_typed');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar fails = require('./_fails');\nvar anInstance = require('./_an-instance');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar toIndex = require('./_to-index');\nvar gOPN = require('./_object-gopn').f;\nvar dP = require('./_object-dp').f;\nvar arrayFill = require('./_array-fill');\nvar setToStringTag = require('./_set-to-string-tag');\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = new Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(new Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar uid = require('./_uid');\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = require('./_wks');\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","// https://github.com/benjamingr/RexExp.escape\nvar $export = require('./_export');\nvar $re = require('./_replacer')(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\n$export($export.S, 'RegExp', { escape: function escape(it) { return $re(it); } });\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { copyWithin: require('./_array-copy-within') });\n\nrequire('./_add-to-unscopables')('copyWithin');\n","'use strict';\nvar $export = require('./_export');\nvar $every = require('./_array-methods')(4);\n\n$export($export.P + $export.F * !require('./_strict-method')([].every, true), 'Array', {\n  // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg])\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments[1]);\n  }\n});\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","'use strict';\nvar $export = require('./_export');\nvar $filter = require('./_array-methods')(2);\n\n$export($export.P + $export.F * !require('./_strict-method')([].filter, true), 'Array', {\n  // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","'use strict';\nvar $export = require('./_export');\nvar $forEach = require('./_array-methods')(0);\nvar STRICT = require('./_strict-method')([].forEach, true);\n\n$export($export.P + $export.F * !STRICT, 'Array', {\n  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\n  forEach: function forEach(callbackfn /* , thisArg */) {\n    return $forEach(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $indexOf = require('./_array-includes')(false);\nvar $native = [].indexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? $native.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments[1]);\n  }\n});\n","// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', { isArray: require('./_is-array') });\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\n// 22.1.3.13 Array.prototype.join(separator)\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar arrayJoin = [].join;\n\n// fallback for not array-like strings\n$export($export.P + $export.F * (require('./_iobject') != Object || !require('./_strict-method')(arrayJoin)), 'Array', {\n  join: function join(separator) {\n    return arrayJoin.call(toIObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar $native = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])\n  lastIndexOf: function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n    // convert -0 to +0\n    if (NEGATIVE_ZERO) return $native.apply(this, arguments) || 0;\n    var O = toIObject(this);\n    var length = toLength(O.length);\n    var index = length - 1;\n    if (arguments.length > 1) index = Math.min(index, toInteger(arguments[1]));\n    if (index < 0) index = length + index;\n    for (;index >= 0; index--) if (index in O) if (O[index] === searchElement) return index || 0;\n    return -1;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $map = require('./_array-methods')(1);\n\n$export($export.P + $export.F * !require('./_strict-method')([].map, true), 'Array', {\n  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar createProperty = require('./_create-property');\n\n// WebKit Array.of isn't generic\n$export($export.S + $export.F * require('./_fails')(function () {\n  function F() { /* empty */ }\n  return !(Array.of.call(F) instanceof F);\n}), 'Array', {\n  // 22.1.2.3 Array.of( ...items)\n  of: function of(/* ...args */) {\n    var index = 0;\n    var aLen = arguments.length;\n    var result = new (typeof this == 'function' ? this : Array)(aLen);\n    while (aLen > index) createProperty(result, index, arguments[index++]);\n    result.length = aLen;\n    return result;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduceRight, true), 'Array', {\n  // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])\n  reduceRight: function reduceRight(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], true);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduce, true), 'Array', {\n  // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue])\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], false);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar html = require('./_html');\nvar cof = require('./_cof');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nvar arraySlice = [].slice;\n\n// fallback for not array-like ES3 strings and DOM objects\n$export($export.P + $export.F * require('./_fails')(function () {\n  if (html) arraySlice.call(html);\n}), 'Array', {\n  slice: function slice(begin, end) {\n    var len = toLength(this.length);\n    var klass = cof(this);\n    end = end === undefined ? len : end;\n    if (klass == 'Array') return arraySlice.call(this, begin, end);\n    var start = toAbsoluteIndex(begin, len);\n    var upTo = toAbsoluteIndex(end, len);\n    var size = toLength(upTo - start);\n    var cloned = new Array(size);\n    var i = 0;\n    for (; i < size; i++) cloned[i] = klass == 'String'\n      ? this.charAt(start + i)\n      : this[start + i];\n    return cloned;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $some = require('./_array-methods')(3);\n\n$export($export.P + $export.F * !require('./_strict-method')([].some, true), 'Array', {\n  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","require('./_set-species')('Array');\n","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n","// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar $export = require('./_export');\nvar toISOString = require('./_date-to-iso-string');\n\n// PhantomJS / old WebKit has a broken implementations\n$export($export.P + $export.F * (Date.prototype.toISOString !== toISOString), 'Date', {\n  toISOString: toISOString\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\n\n$export($export.P + $export.F * require('./_fails')(function () {\n  return new Date(NaN).toJSON() !== null\n    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;\n}), 'Date', {\n  // eslint-disable-next-line no-unused-vars\n  toJSON: function toJSON(key) {\n    var O = toObject(this);\n    var pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n","var TO_PRIMITIVE = require('./_wks')('toPrimitive');\nvar proto = Date.prototype;\n\nif (!(TO_PRIMITIVE in proto)) require('./_hide')(proto, TO_PRIMITIVE, require('./_date-to-primitive'));\n","var DateProto = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar $toString = DateProto[TO_STRING];\nvar getTime = DateProto.getTime;\nif (new Date(NaN) + '' != INVALID_DATE) {\n  require('./_redefine')(DateProto, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? $toString.call(this) : INVALID_DATE;\n  });\n}\n","// 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...)\nvar $export = require('./_export');\n\n$export($export.P, 'Function', { bind: require('./_bind') });\n","'use strict';\nvar isObject = require('./_is-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar HAS_INSTANCE = require('./_wks')('hasInstance');\nvar FunctionProto = Function.prototype;\n// 19.2.3.6 Function.prototype[@@hasInstance](V)\nif (!(HAS_INSTANCE in FunctionProto)) require('./_object-dp').f(FunctionProto, HAS_INSTANCE, { value: function (O) {\n  if (typeof this != 'function' || !isObject(O)) return false;\n  if (!isObject(this.prototype)) return O instanceof this;\n  // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:\n  while (O = getPrototypeOf(O)) if (this.prototype === O) return true;\n  return false;\n} });\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","// 20.2.2.3 Math.acosh(x)\nvar $export = require('./_export');\nvar log1p = require('./_math-log1p');\nvar sqrt = Math.sqrt;\nvar $acosh = Math.acosh;\n\n$export($export.S + $export.F * !($acosh\n  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509\n  && Math.floor($acosh(Number.MAX_VALUE)) == 710\n  // Tor Browser bug: Math.acosh(Infinity) -> NaN\n  && $acosh(Infinity) == Infinity\n), 'Math', {\n  acosh: function acosh(x) {\n    return (x = +x) < 1 ? NaN : x > 94906265.62425156\n      ? Math.log(x) + Math.LN2\n      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));\n  }\n});\n","// 20.2.2.5 Math.asinh(x)\nvar $export = require('./_export');\nvar $asinh = Math.asinh;\n\nfunction asinh(x) {\n  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));\n}\n\n// Tor Browser bug: Math.asinh(0) -> -0\n$export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', { asinh: asinh });\n","// 20.2.2.7 Math.atanh(x)\nvar $export = require('./_export');\nvar $atanh = Math.atanh;\n\n// Tor Browser bug: Math.atanh(-0) -> 0\n$export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', {\n  atanh: function atanh(x) {\n    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;\n  }\n});\n","// 20.2.2.9 Math.cbrt(x)\nvar $export = require('./_export');\nvar sign = require('./_math-sign');\n\n$export($export.S, 'Math', {\n  cbrt: function cbrt(x) {\n    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);\n  }\n});\n","// 20.2.2.11 Math.clz32(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  clz32: function clz32(x) {\n    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;\n  }\n});\n","// 20.2.2.12 Math.cosh(x)\nvar $export = require('./_export');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  cosh: function cosh(x) {\n    return (exp(x = +x) + exp(-x)) / 2;\n  }\n});\n","// 20.2.2.14 Math.expm1(x)\nvar $export = require('./_export');\nvar $expm1 = require('./_math-expm1');\n\n$export($export.S + $export.F * ($expm1 != Math.expm1), 'Math', { expm1: $expm1 });\n","// 20.2.2.16 Math.fround(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { fround: require('./_math-fround') });\n","// 20.2.2.17 Math.hypot([value1[, value2[,  ]]])\nvar $export = require('./_export');\nvar abs = Math.abs;\n\n$export($export.S, 'Math', {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n  }\n});\n","// 20.2.2.18 Math.imul(x, y)\nvar $export = require('./_export');\nvar $imul = Math.imul;\n\n// some WebKit versions fails with big numbers, some has wrong arity\n$export($export.S + $export.F * require('./_fails')(function () {\n  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;\n}), 'Math', {\n  imul: function imul(x, y) {\n    var UINT16 = 0xffff;\n    var xn = +x;\n    var yn = +y;\n    var xl = UINT16 & xn;\n    var yl = UINT16 & yn;\n    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);\n  }\n});\n","// 20.2.2.21 Math.log10(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log10: function log10(x) {\n    return Math.log(x) * Math.LOG10E;\n  }\n});\n","// 20.2.2.20 Math.log1p(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { log1p: require('./_math-log1p') });\n","// 20.2.2.22 Math.log2(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x) {\n    return Math.log(x) / Math.LN2;\n  }\n});\n","// 20.2.2.28 Math.sign(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { sign: require('./_math-sign') });\n","// 20.2.2.30 Math.sinh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n// V8 near Chromium 38 has a problem with very small numbers\n$export($export.S + $export.F * require('./_fails')(function () {\n  return !Math.sinh(-2e-17) != -2e-17;\n}), 'Math', {\n  sinh: function sinh(x) {\n    return Math.abs(x = +x) < 1\n      ? (expm1(x) - expm1(-x)) / 2\n      : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);\n  }\n});\n","// 20.2.2.33 Math.tanh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  tanh: function tanh(x) {\n    var a = expm1(x = +x);\n    var b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n","// 20.2.2.34 Math.trunc(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  trunc: function trunc(it) {\n    return (it > 0 ? Math.floor : Math.ceil)(it);\n  }\n});\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","// 20.1.2.1 Number.EPSILON\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { EPSILON: Math.pow(2, -52) });\n","// 20.1.2.2 Number.isFinite(number)\nvar $export = require('./_export');\nvar _isFinite = require('./_global').isFinite;\n\n$export($export.S, 'Number', {\n  isFinite: function isFinite(it) {\n    return typeof it == 'number' && _isFinite(it);\n  }\n});\n","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","// 20.1.2.5 Number.isSafeInteger(number)\nvar $export = require('./_export');\nvar isInteger = require('./_is-integer');\nvar abs = Math.abs;\n\n$export($export.S, 'Number', {\n  isSafeInteger: function isSafeInteger(number) {\n    return isInteger(number) && abs(number) <= 0x1fffffffffffff;\n  }\n});\n","// 20.1.2.6 Number.MAX_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MAX_SAFE_INTEGER: 0x1fffffffffffff });\n","// 20.1.2.10 Number.MIN_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MIN_SAFE_INTEGER: -0x1fffffffffffff });\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 20.1.2.12 Number.parseFloat(string)\n$export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', { parseFloat: $parseFloat });\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 20.1.2.13 Number.parseInt(string, radix)\n$export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', { parseInt: $parseInt });\n","'use strict';\nvar $export = require('./_export');\nvar toInteger = require('./_to-integer');\nvar aNumberValue = require('./_a-number-value');\nvar repeat = require('./_string-repeat');\nvar $toFixed = 1.0.toFixed;\nvar floor = Math.floor;\nvar data = [0, 0, 0, 0, 0, 0];\nvar ERROR = 'Number.toFixed: incorrect invocation!';\nvar ZERO = '0';\n\nvar multiply = function (n, c) {\n  var i = -1;\n  var c2 = c;\n  while (++i < 6) {\n    c2 += n * data[i];\n    data[i] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\nvar divide = function (n) {\n  var i = 6;\n  var c = 0;\n  while (--i >= 0) {\n    c += data[i];\n    data[i] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\nvar numToString = function () {\n  var i = 6;\n  var s = '';\n  while (--i >= 0) {\n    if (s !== '' || i === 0 || data[i] !== 0) {\n      var t = String(data[i]);\n      s = s === '' ? t : s + repeat.call(ZERO, 7 - t.length) + t;\n    }\n  } return s;\n};\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\n$export($export.P + $export.F * (!!$toFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !require('./_fails')(function () {\n  // V8 ~ Android 4.3-\n  $toFixed.call({});\n})), 'Number', {\n  toFixed: function toFixed(fractionDigits) {\n    var x = aNumberValue(this, ERROR);\n    var f = toInteger(fractionDigits);\n    var s = '';\n    var m = ZERO;\n    var e, z, j, k;\n    if (f < 0 || f > 20) throw RangeError(ERROR);\n    // eslint-disable-next-line no-self-compare\n    if (x != x) return 'NaN';\n    if (x <= -1e21 || x >= 1e21) return String(x);\n    if (x < 0) {\n      s = '-';\n      x = -x;\n    }\n    if (x > 1e-21) {\n      e = log(x * pow(2, 69, 1)) - 69;\n      z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = f;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        m = numToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        m = numToString() + repeat.call(ZERO, f);\n      }\n    }\n    if (f > 0) {\n      k = m.length;\n      m = s + (k <= f ? '0.' + repeat.call(ZERO, f - k) + m : m.slice(0, k - f) + '.' + m.slice(k - f));\n    } else {\n      m = s + m;\n    } return m;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $fails = require('./_fails');\nvar aNumberValue = require('./_a-number-value');\nvar $toPrecision = 1.0.toPrecision;\n\n$export($export.P + $export.F * ($fails(function () {\n  // IE7-\n  return $toPrecision.call(1, undefined) !== '1';\n}) || !$fails(function () {\n  // V8 ~ Android 4.3-\n  $toPrecision.call({});\n})), 'Number', {\n  toPrecision: function toPrecision(precision) {\n    var that = aNumberValue(this, 'Number#toPrecision: incorrect invocation!');\n    return precision === undefined ? $toPrecision.call(that) : $toPrecision.call(that, precision);\n  }\n});\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","var $export = require('./_export');\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperties: require('./_object-dps') });\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function ($freeze) {\n  return function freeze(it) {\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n","// 19.1.2.7 Object.getOwnPropertyNames(O)\nrequire('./_object-sap')('getOwnPropertyNames', function () {\n  return require('./_object-gopn-ext').f;\n});\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// 19.1.2.11 Object.isExtensible(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isExtensible', function ($isExtensible) {\n  return function isExtensible(it) {\n    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;\n  };\n});\n","// 19.1.2.12 Object.isFrozen(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isFrozen', function ($isFrozen) {\n  return function isFrozen(it) {\n    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;\n  };\n});\n","// 19.1.2.13 Object.isSealed(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isSealed', function ($isSealed) {\n  return function isSealed(it) {\n    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;\n  };\n});\n","// 19.1.3.10 Object.is(value1, value2)\nvar $export = require('./_export');\n$export($export.S, 'Object', { is: require('./_same-value') });\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// 19.1.2.15 Object.preventExtensions(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('preventExtensions', function ($preventExtensions) {\n  return function preventExtensions(it) {\n    return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it;\n  };\n});\n","// 19.1.2.17 Object.seal(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('seal', function ($seal) {\n  return function seal(it) {\n    return $seal && isObject(it) ? $seal(meta(it)) : it;\n  };\n});\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof');\nvar test = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  require('./_redefine')(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 18.2.4 parseFloat(string)\n$export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat });\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 18.2.5 parseInt(string, radix)\n$export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt });\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar rApply = (require('./_global').Reflect || {}).apply;\nvar fApply = Function.apply;\n// MS Edge argumentsList argument is optional\n$export($export.S + $export.F * !require('./_fails')(function () {\n  rApply(function () { /* empty */ });\n}), 'Reflect', {\n  apply: function apply(target, thisArgument, argumentsList) {\n    var T = aFunction(target);\n    var L = anObject(argumentsList);\n    return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L);\n  }\n});\n","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export = require('./_export');\nvar create = require('./_object-create');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar bind = require('./_bind');\nvar rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  rConstruct(function () { /* empty */ });\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)\nvar dP = require('./_object-dp');\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar toPrimitive = require('./_to-primitive');\n\n// MS Edge has broken Reflect.defineProperty - throwing instead of returning false\n$export($export.S + $export.F * require('./_fails')(function () {\n  // eslint-disable-next-line no-undef\n  Reflect.defineProperty(dP.f({}, 1, { value: 1 }), 1, { value: 2 });\n}), 'Reflect', {\n  defineProperty: function defineProperty(target, propertyKey, attributes) {\n    anObject(target);\n    propertyKey = toPrimitive(propertyKey, true);\n    anObject(attributes);\n    try {\n      dP.f(target, propertyKey, attributes);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","// 26.1.4 Reflect.deleteProperty(target, propertyKey)\nvar $export = require('./_export');\nvar gOPD = require('./_object-gopd').f;\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  deleteProperty: function deleteProperty(target, propertyKey) {\n    var desc = gOPD(anObject(target), propertyKey);\n    return desc && !desc.configurable ? false : delete target[propertyKey];\n  }\n});\n","'use strict';\n// 26.1.5 Reflect.enumerate(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar Enumerate = function (iterated) {\n  this._t = anObject(iterated); // target\n  this._i = 0;                  // next index\n  var keys = this._k = [];      // keys\n  var key;\n  for (key in iterated) keys.push(key);\n};\nrequire('./_iter-create')(Enumerate, 'Object', function () {\n  var that = this;\n  var keys = that._k;\n  var key;\n  do {\n    if (that._i >= keys.length) return { value: undefined, done: true };\n  } while (!((key = keys[that._i++]) in that._t));\n  return { value: key, done: false };\n});\n\n$export($export.S, 'Reflect', {\n  enumerate: function enumerate(target) {\n    return new Enumerate(target);\n  }\n});\n","// 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)\nvar gOPD = require('./_object-gopd');\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {\n    return gOPD.f(anObject(target), propertyKey);\n  }\n});\n","// 26.1.8 Reflect.getPrototypeOf(target)\nvar $export = require('./_export');\nvar getProto = require('./_object-gpo');\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getPrototypeOf: function getPrototypeOf(target) {\n    return getProto(anObject(target));\n  }\n});\n","// 26.1.6 Reflect.get(target, propertyKey [, receiver])\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\n\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var desc, proto;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (desc = gOPD.f(target, propertyKey)) return has(desc, 'value')\n    ? desc.value\n    : desc.get !== undefined\n      ? desc.get.call(receiver)\n      : undefined;\n  if (isObject(proto = getPrototypeOf(target))) return get(proto, propertyKey, receiver);\n}\n\n$export($export.S, 'Reflect', { get: get });\n","// 26.1.9 Reflect.has(target, propertyKey)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', {\n  has: function has(target, propertyKey) {\n    return propertyKey in target;\n  }\n});\n","// 26.1.10 Reflect.isExtensible(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar $isExtensible = Object.isExtensible;\n\n$export($export.S, 'Reflect', {\n  isExtensible: function isExtensible(target) {\n    anObject(target);\n    return $isExtensible ? $isExtensible(target) : true;\n  }\n});\n","// 26.1.11 Reflect.ownKeys(target)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', { ownKeys: require('./_own-keys') });\n","// 26.1.12 Reflect.preventExtensions(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar $preventExtensions = Object.preventExtensions;\n\n$export($export.S, 'Reflect', {\n  preventExtensions: function preventExtensions(target) {\n    anObject(target);\n    try {\n      if ($preventExtensions) $preventExtensions(target);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","// 26.1.14 Reflect.setPrototypeOf(target, proto)\nvar $export = require('./_export');\nvar setProto = require('./_set-proto');\n\nif (setProto) $export($export.S, 'Reflect', {\n  setPrototypeOf: function setPrototypeOf(target, proto) {\n    setProto.check(target, proto);\n    try {\n      setProto.set(target, proto);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])\nvar dP = require('./_object-dp');\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar createDesc = require('./_property-desc');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\n\nfunction set(target, propertyKey, V /* , receiver */) {\n  var receiver = arguments.length < 4 ? target : arguments[3];\n  var ownDesc = gOPD.f(anObject(target), propertyKey);\n  var existingDescriptor, proto;\n  if (!ownDesc) {\n    if (isObject(proto = getPrototypeOf(target))) {\n      return set(proto, propertyKey, V, receiver);\n    }\n    ownDesc = createDesc(0);\n  }\n  if (has(ownDesc, 'value')) {\n    if (ownDesc.writable === false || !isObject(receiver)) return false;\n    existingDescriptor = gOPD.f(receiver, propertyKey) || createDesc(0);\n    existingDescriptor.value = V;\n    dP.f(receiver, propertyKey, existingDescriptor);\n    return true;\n  }\n  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);\n}\n\n$export($export.S, 'Reflect', { set: set });\n","var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match) {\n  // 21.1.3.11 String.prototype.match(regexp)\n  return [function match(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[MATCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n  }, $match];\n});\n","// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace) {\n  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n  return [function replace(searchValue, replaceValue) {\n    'use strict';\n    var O = defined(this);\n    var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n    return fn !== undefined\n      ? fn.call(searchValue, O, replaceValue)\n      : $replace.call(String(O), searchValue, replaceValue);\n  }, $replace];\n});\n","// @@search logic\nrequire('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search) {\n  // 21.1.3.15 String.prototype.search(regexp)\n  return [function search(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[SEARCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n  }, $search];\n});\n","// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split) {\n  'use strict';\n  var isRegExp = require('./_is-regexp');\n  var _split = $split;\n  var $push = [].push;\n  var $SPLIT = 'split';\n  var LENGTH = 'length';\n  var LAST_INDEX = 'lastIndex';\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n    // based on es5-shim implementation, need to rework it\n    $split = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return _split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var separator2, match, lastIndex, lastLength, i;\n      // Doesn't need flags gy, but they don't hurt\n      if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n      while (match = separatorCopy.exec(string)) {\n        // `separatorCopy.lastIndex` is not reliable cross-browser\n        lastIndex = match.index + match[0][LENGTH];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n          // eslint-disable-next-line no-loop-func\n          if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n            for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n          });\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    $split = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n    };\n  }\n  // 21.1.3.17 String.prototype.split(separator, limit)\n  return [function split(separator, limit) {\n    var O = defined(this);\n    var fn = separator == undefined ? undefined : separator[SPLIT];\n    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n  }, $split];\n});\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function (createHTML) {\n  return function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  };\n});\n","'use strict';\n// B.2.3.3 String.prototype.big()\nrequire('./_string-html')('big', function (createHTML) {\n  return function big() {\n    return createHTML(this, 'big', '', '');\n  };\n});\n","'use strict';\n// B.2.3.4 String.prototype.blink()\nrequire('./_string-html')('blink', function (createHTML) {\n  return function blink() {\n    return createHTML(this, 'blink', '', '');\n  };\n});\n","'use strict';\n// B.2.3.5 String.prototype.bold()\nrequire('./_string-html')('bold', function (createHTML) {\n  return function bold() {\n    return createHTML(this, 'b', '', '');\n  };\n});\n","'use strict';\nvar $export = require('./_export');\nvar $at = require('./_string-at')(false);\n$export($export.P, 'String', {\n  // 21.1.3.3 String.prototype.codePointAt(pos)\n  codePointAt: function codePointAt(pos) {\n    return $at(this, pos);\n  }\n});\n","// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar ENDS_WITH = 'endsWith';\nvar $endsWith = ''[ENDS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(ENDS_WITH), 'String', {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = context(this, searchString, ENDS_WITH);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : Math.min(toLength(endPosition), len);\n    var search = String(searchString);\n    return $endsWith\n      ? $endsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n","'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n","'use strict';\n// B.2.3.7 String.prototype.fontcolor(color)\nrequire('./_string-html')('fontcolor', function (createHTML) {\n  return function fontcolor(color) {\n    return createHTML(this, 'font', 'color', color);\n  };\n});\n","'use strict';\n// B.2.3.8 String.prototype.fontsize(size)\nrequire('./_string-html')('fontsize', function (createHTML) {\n  return function fontsize(size) {\n    return createHTML(this, 'font', 'size', size);\n  };\n});\n","var $export = require('./_export');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar fromCharCode = String.fromCharCode;\nvar $fromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\n$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n  // 21.1.2.2 String.fromCodePoint(...codePoints)\n  fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars\n    var res = [];\n    var aLen = arguments.length;\n    var i = 0;\n    var code;\n    while (aLen > i) {\n      code = +arguments[i++];\n      if (toAbsoluteIndex(code, 0x10ffff) !== code) throw RangeError(code + ' is not a valid code point');\n      res.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n      );\n    } return res.join('');\n  }\n});\n","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\n// B.2.3.9 String.prototype.italics()\nrequire('./_string-html')('italics', function (createHTML) {\n  return function italics() {\n    return createHTML(this, 'i', '', '');\n  };\n});\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","var $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\n\n$export($export.S, 'String', {\n  // 21.1.2.4 String.raw(callSite, ...substitutions)\n  raw: function raw(callSite) {\n    var tpl = toIObject(callSite.raw);\n    var len = toLength(tpl.length);\n    var aLen = arguments.length;\n    var res = [];\n    var i = 0;\n    while (len > i) {\n      res.push(String(tpl[i++]));\n      if (i < aLen) res.push(String(arguments[i]));\n    } return res.join('');\n  }\n});\n","var $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n","'use strict';\n// B.2.3.11 String.prototype.small()\nrequire('./_string-html')('small', function (createHTML) {\n  return function small() {\n    return createHTML(this, 'small', '', '');\n  };\n});\n","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","'use strict';\n// B.2.3.12 String.prototype.strike()\nrequire('./_string-html')('strike', function (createHTML) {\n  return function strike() {\n    return createHTML(this, 'strike', '', '');\n  };\n});\n","'use strict';\n// B.2.3.13 String.prototype.sub()\nrequire('./_string-html')('sub', function (createHTML) {\n  return function sub() {\n    return createHTML(this, 'sub', '', '');\n  };\n});\n","'use strict';\n// B.2.3.14 String.prototype.sup()\nrequire('./_string-html')('sup', function (createHTML) {\n  return function sup() {\n    return createHTML(this, 'sup', '', '');\n  };\n});\n","'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function ($trim) {\n  return function trim() {\n    return $trim(this, 3);\n  };\n});\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","'use strict';\nvar $export = require('./_export');\nvar $typed = require('./_typed');\nvar buffer = require('./_typed-buffer');\nvar anObject = require('./_an-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nvar isObject = require('./_is-object');\nvar ArrayBuffer = require('./_global').ArrayBuffer;\nvar speciesConstructor = require('./_species-constructor');\nvar $ArrayBuffer = buffer.ArrayBuffer;\nvar $DataView = buffer.DataView;\nvar $isView = $typed.ABV && ArrayBuffer.isView;\nvar $slice = $ArrayBuffer.prototype.slice;\nvar VIEW = $typed.VIEW;\nvar ARRAY_BUFFER = 'ArrayBuffer';\n\n$export($export.G + $export.W + $export.F * (ArrayBuffer !== $ArrayBuffer), { ArrayBuffer: $ArrayBuffer });\n\n$export($export.S + $export.F * !$typed.CONSTR, ARRAY_BUFFER, {\n  // 24.1.3.1 ArrayBuffer.isView(arg)\n  isView: function isView(it) {\n    return $isView && $isView(it) || isObject(it) && VIEW in it;\n  }\n});\n\n$export($export.P + $export.U + $export.F * require('./_fails')(function () {\n  return !new $ArrayBuffer(2).slice(1, undefined).byteLength;\n}), ARRAY_BUFFER, {\n  // 24.1.4.3 ArrayBuffer.prototype.slice(start, end)\n  slice: function slice(start, end) {\n    if ($slice !== undefined && end === undefined) return $slice.call(anObject(this), start); // FF fix\n    var len = anObject(this).byteLength;\n    var first = toAbsoluteIndex(start, len);\n    var final = toAbsoluteIndex(end === undefined ? len : end, len);\n    var result = new (speciesConstructor(this, $ArrayBuffer))(toLength(final - first));\n    var viewS = new $DataView(this);\n    var viewT = new $DataView(result);\n    var index = 0;\n    while (first < final) {\n      viewT.setUint8(index++, viewS.getUint8(first++));\n    } return result;\n  }\n});\n\nrequire('./_set-species')(ARRAY_BUFFER);\n","var $export = require('./_export');\n$export($export.G + $export.W + $export.F * !require('./_typed').ABV, {\n  DataView: require('./_typed-buffer').DataView\n});\n","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Float64', 8, function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int16', 2, function (init) {\n  return function Int16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int32', 4, function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int8', 1, function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint16', 2, function (init) {\n  return function Uint16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint32', 4, function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n","'use strict';\nvar each = require('./_array-methods')(0);\nvar redefine = require('./_redefine');\nvar meta = require('./_meta');\nvar assign = require('./_object-assign');\nvar weak = require('./_collection-weak');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar validate = require('./_validate-collection');\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar tmp = {};\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (fails(function () { return new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7; })) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n","'use strict';\nvar weak = require('./_collection-weak');\nvar validate = require('./_validate-collection');\nvar WEAK_SET = 'WeakSet';\n\n// 23.4 WeakSet Objects\nrequire('./_collection')(WEAK_SET, function (get) {\n  return function WeakSet() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.4.3.1 WeakSet.prototype.add(value)\n  add: function add(value) {\n    return weak.def(validate(this, WEAK_SET), value, true);\n  }\n}, weak, false, true);\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatMap\nvar $export = require('./_export');\nvar flattenIntoArray = require('./_flatten-into-array');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar aFunction = require('./_a-function');\nvar arraySpeciesCreate = require('./_array-species-create');\n\n$export($export.P, 'Array', {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen, A;\n    aFunction(callbackfn);\n    sourceLen = toLength(O.length);\n    A = arraySpeciesCreate(O, 0);\n    flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments[1]);\n    return A;\n  }\n});\n\nrequire('./_add-to-unscopables')('flatMap');\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatten\nvar $export = require('./_export');\nvar flattenIntoArray = require('./_flatten-into-array');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar arraySpeciesCreate = require('./_array-species-create');\n\n$export($export.P, 'Array', {\n  flatten: function flatten(/* depthArg = 1 */) {\n    var depthArg = arguments[0];\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n\nrequire('./_add-to-unscopables')('flatten');\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","// https://github.com/rwaldron/tc39-notes/blob/master/es6/2014-09/sept-25.md#510-globalasap-for-enqueuing-a-microtask\nvar $export = require('./_export');\nvar microtask = require('./_microtask')();\nvar process = require('./_global').process;\nvar isNode = require('./_cof')(process) == 'process';\n\n$export($export.G, {\n  asap: function asap(fn) {\n    var domain = isNode && process.domain;\n    microtask(domain ? domain.bind(fn) : fn);\n  }\n});\n","// https://github.com/ljharb/proposal-is-error\nvar $export = require('./_export');\nvar cof = require('./_cof');\n\n$export($export.S, 'Error', {\n  isError: function isError(it) {\n    return cof(it) === 'Error';\n  }\n});\n","// https://github.com/tc39/proposal-global\nvar $export = require('./_export');\n\n$export($export.G, { global: require('./_global') });\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from\nrequire('./_set-collection-from')('Map');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of\nrequire('./_set-collection-of')('Map');\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Map', { toJSON: require('./_collection-to-json')('Map') });\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  clamp: function clamp(x, lower, upper) {\n    return Math.min(upper, Math.max(lower, x));\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { DEG_PER_RAD: Math.PI / 180 });\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\nvar RAD_PER_DEG = 180 / Math.PI;\n\n$export($export.S, 'Math', {\n  degrees: function degrees(radians) {\n    return radians * RAD_PER_DEG;\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\nvar scale = require('./_math-scale');\nvar fround = require('./_math-fround');\n\n$export($export.S, 'Math', {\n  fscale: function fscale(x, inLow, inHigh, outLow, outHigh) {\n    return fround(scale(x, inLow, inHigh, outLow, outHigh));\n  }\n});\n","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  iaddh: function iaddh(x0, x1, y0, y1) {\n    var $x0 = x0 >>> 0;\n    var $x1 = x1 >>> 0;\n    var $y0 = y0 >>> 0;\n    return $x1 + (y1 >>> 0) + (($x0 & $y0 | ($x0 | $y0) & ~($x0 + $y0 >>> 0)) >>> 31) | 0;\n  }\n});\n","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  imulh: function imulh(u, v) {\n    var UINT16 = 0xffff;\n    var $u = +u;\n    var $v = +v;\n    var u0 = $u & UINT16;\n    var v0 = $v & UINT16;\n    var u1 = $u >> 16;\n    var v1 = $v >> 16;\n    var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >> 16);\n  }\n});\n","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  isubh: function isubh(x0, x1, y0, y1) {\n    var $x0 = x0 >>> 0;\n    var $x1 = x1 >>> 0;\n    var $y0 = y0 >>> 0;\n    return $x1 - (y1 >>> 0) - ((~$x0 & $y0 | ~($x0 ^ $y0) & $x0 - $y0 >>> 0) >>> 31) | 0;\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { RAD_PER_DEG: 180 / Math.PI });\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\nvar DEG_PER_RAD = Math.PI / 180;\n\n$export($export.S, 'Math', {\n  radians: function radians(degrees) {\n    return degrees * DEG_PER_RAD;\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { scale: require('./_math-scale') });\n","// http://jfbastien.github.io/papers/Math.signbit.html\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { signbit: function signbit(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) != x ? x : x == 0 ? 1 / x == Infinity : x > 0;\n} });\n","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  umulh: function umulh(u, v) {\n    var UINT16 = 0xffff;\n    var $u = +u;\n    var $v = +v;\n    var u0 = $u & UINT16;\n    var v0 = $v & UINT16;\n    var u1 = $u >>> 16;\n    var v1 = $v >>> 16;\n    var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >>> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >>> 16);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar aFunction = require('./_a-function');\nvar $defineProperty = require('./_object-dp');\n\n// B.2.2.2 Object.prototype.__defineGetter__(P, getter)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __defineGetter__: function __defineGetter__(P, getter) {\n    $defineProperty.f(toObject(this), P, { get: aFunction(getter), enumerable: true, configurable: true });\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar aFunction = require('./_a-function');\nvar $defineProperty = require('./_object-dp');\n\n// B.2.2.3 Object.prototype.__defineSetter__(P, setter)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __defineSetter__: function __defineSetter__(P, setter) {\n    $defineProperty.f(toObject(this), P, { set: aFunction(setter), enumerable: true, configurable: true });\n  }\n});\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\nvar getPrototypeOf = require('./_object-gpo');\nvar getOwnPropertyDescriptor = require('./_object-gopd').f;\n\n// B.2.2.4 Object.prototype.__lookupGetter__(P)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __lookupGetter__: function __lookupGetter__(P) {\n    var O = toObject(this);\n    var K = toPrimitive(P, true);\n    var D;\n    do {\n      if (D = getOwnPropertyDescriptor(O, K)) return D.get;\n    } while (O = getPrototypeOf(O));\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\nvar getPrototypeOf = require('./_object-gpo');\nvar getOwnPropertyDescriptor = require('./_object-gopd').f;\n\n// B.2.2.5 Object.prototype.__lookupSetter__(P)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __lookupSetter__: function __lookupSetter__(P) {\n    var O = toObject(this);\n    var K = toPrimitive(P, true);\n    var D;\n    do {\n      if (D = getOwnPropertyDescriptor(O, K)) return D.set;\n    } while (O = getPrototypeOf(O));\n  }\n});\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","'use strict';\n// https://github.com/zenparsing/es-observable\nvar $export = require('./_export');\nvar global = require('./_global');\nvar core = require('./_core');\nvar microtask = require('./_microtask')();\nvar OBSERVABLE = require('./_wks')('observable');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar anInstance = require('./_an-instance');\nvar redefineAll = require('./_redefine-all');\nvar hide = require('./_hide');\nvar forOf = require('./_for-of');\nvar RETURN = forOf.RETURN;\n\nvar getMethod = function (fn) {\n  return fn == null ? undefined : aFunction(fn);\n};\n\nvar cleanupSubscription = function (subscription) {\n  var cleanup = subscription._c;\n  if (cleanup) {\n    subscription._c = undefined;\n    cleanup();\n  }\n};\n\nvar subscriptionClosed = function (subscription) {\n  return subscription._o === undefined;\n};\n\nvar closeSubscription = function (subscription) {\n  if (!subscriptionClosed(subscription)) {\n    subscription._o = undefined;\n    cleanupSubscription(subscription);\n  }\n};\n\nvar Subscription = function (observer, subscriber) {\n  anObject(observer);\n  this._c = undefined;\n  this._o = observer;\n  observer = new SubscriptionObserver(this);\n  try {\n    var cleanup = subscriber(observer);\n    var subscription = cleanup;\n    if (cleanup != null) {\n      if (typeof cleanup.unsubscribe === 'function') cleanup = function () { subscription.unsubscribe(); };\n      else aFunction(cleanup);\n      this._c = cleanup;\n    }\n  } catch (e) {\n    observer.error(e);\n    return;\n  } if (subscriptionClosed(this)) cleanupSubscription(this);\n};\n\nSubscription.prototype = redefineAll({}, {\n  unsubscribe: function unsubscribe() { closeSubscription(this); }\n});\n\nvar SubscriptionObserver = function (subscription) {\n  this._s = subscription;\n};\n\nSubscriptionObserver.prototype = redefineAll({}, {\n  next: function next(value) {\n    var subscription = this._s;\n    if (!subscriptionClosed(subscription)) {\n      var observer = subscription._o;\n      try {\n        var m = getMethod(observer.next);\n        if (m) return m.call(observer, value);\n      } catch (e) {\n        try {\n          closeSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      }\n    }\n  },\n  error: function error(value) {\n    var subscription = this._s;\n    if (subscriptionClosed(subscription)) throw value;\n    var observer = subscription._o;\n    subscription._o = undefined;\n    try {\n      var m = getMethod(observer.error);\n      if (!m) throw value;\n      value = m.call(observer, value);\n    } catch (e) {\n      try {\n        cleanupSubscription(subscription);\n      } finally {\n        throw e;\n      }\n    } cleanupSubscription(subscription);\n    return value;\n  },\n  complete: function complete(value) {\n    var subscription = this._s;\n    if (!subscriptionClosed(subscription)) {\n      var observer = subscription._o;\n      subscription._o = undefined;\n      try {\n        var m = getMethod(observer.complete);\n        value = m ? m.call(observer, value) : undefined;\n      } catch (e) {\n        try {\n          cleanupSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      } cleanupSubscription(subscription);\n      return value;\n    }\n  }\n});\n\nvar $Observable = function Observable(subscriber) {\n  anInstance(this, $Observable, 'Observable', '_f')._f = aFunction(subscriber);\n};\n\nredefineAll($Observable.prototype, {\n  subscribe: function subscribe(observer) {\n    return new Subscription(observer, this._f);\n  },\n  forEach: function forEach(fn) {\n    var that = this;\n    return new (core.Promise || global.Promise)(function (resolve, reject) {\n      aFunction(fn);\n      var subscription = that.subscribe({\n        next: function (value) {\n          try {\n            return fn(value);\n          } catch (e) {\n            reject(e);\n            subscription.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n    });\n  }\n});\n\nredefineAll($Observable, {\n  from: function from(x) {\n    var C = typeof this === 'function' ? this : $Observable;\n    var method = getMethod(anObject(x)[OBSERVABLE]);\n    if (method) {\n      var observable = anObject(method.call(x));\n      return observable.constructor === C ? observable : new C(function (observer) {\n        return observable.subscribe(observer);\n      });\n    }\n    return new C(function (observer) {\n      var done = false;\n      microtask(function () {\n        if (!done) {\n          try {\n            if (forOf(x, false, function (it) {\n              observer.next(it);\n              if (done) return RETURN;\n            }) === RETURN) return;\n          } catch (e) {\n            if (done) throw e;\n            observer.error(e);\n            return;\n          } observer.complete();\n        }\n      });\n      return function () { done = true; };\n    });\n  },\n  of: function of() {\n    for (var i = 0, l = arguments.length, items = new Array(l); i < l;) items[i] = arguments[i++];\n    return new (typeof this === 'function' ? this : $Observable)(function (observer) {\n      var done = false;\n      microtask(function () {\n        if (!done) {\n          for (var j = 0; j < items.length; ++j) {\n            observer.next(items[j]);\n            if (done) return;\n          } observer.complete();\n        }\n      });\n      return function () { done = true; };\n    });\n  }\n});\n\nhide($Observable.prototype, OBSERVABLE, function () { return this; });\n\n$export($export.G, { Observable: $Observable });\n\nrequire('./_set-species')('Observable');\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar toMetaKey = metadata.key;\nvar ordinaryDefineOwnMetadata = metadata.set;\n\nmetadata.exp({ defineMetadata: function defineMetadata(metadataKey, metadataValue, target, targetKey) {\n  ordinaryDefineOwnMetadata(metadataKey, metadataValue, anObject(target), toMetaKey(targetKey));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar toMetaKey = metadata.key;\nvar getOrCreateMetadataMap = metadata.map;\nvar store = metadata.store;\n\nmetadata.exp({ deleteMetadata: function deleteMetadata(metadataKey, target /* , targetKey */) {\n  var targetKey = arguments.length < 3 ? undefined : toMetaKey(arguments[2]);\n  var metadataMap = getOrCreateMetadataMap(anObject(target), targetKey, false);\n  if (metadataMap === undefined || !metadataMap['delete'](metadataKey)) return false;\n  if (metadataMap.size) return true;\n  var targetMetadata = store.get(target);\n  targetMetadata['delete'](targetKey);\n  return !!targetMetadata.size || store['delete'](target);\n} });\n","var Set = require('./es6.set');\nvar from = require('./_array-from-iterable');\nvar metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar ordinaryOwnMetadataKeys = metadata.keys;\nvar toMetaKey = metadata.key;\n\nvar ordinaryMetadataKeys = function (O, P) {\n  var oKeys = ordinaryOwnMetadataKeys(O, P);\n  var parent = getPrototypeOf(O);\n  if (parent === null) return oKeys;\n  var pKeys = ordinaryMetadataKeys(parent, P);\n  return pKeys.length ? oKeys.length ? from(new Set(oKeys.concat(pKeys))) : pKeys : oKeys;\n};\n\nmetadata.exp({ getMetadataKeys: function getMetadataKeys(target /* , targetKey */) {\n  return ordinaryMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar ordinaryHasOwnMetadata = metadata.has;\nvar ordinaryGetOwnMetadata = metadata.get;\nvar toMetaKey = metadata.key;\n\nvar ordinaryGetMetadata = function (MetadataKey, O, P) {\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if (hasOwn) return ordinaryGetOwnMetadata(MetadataKey, O, P);\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryGetMetadata(MetadataKey, parent, P) : undefined;\n};\n\nmetadata.exp({ getMetadata: function getMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryGetMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar ordinaryOwnMetadataKeys = metadata.keys;\nvar toMetaKey = metadata.key;\n\nmetadata.exp({ getOwnMetadataKeys: function getOwnMetadataKeys(target /* , targetKey */) {\n  return ordinaryOwnMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar ordinaryGetOwnMetadata = metadata.get;\nvar toMetaKey = metadata.key;\n\nmetadata.exp({ getOwnMetadata: function getOwnMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryGetOwnMetadata(metadataKey, anObject(target)\n    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar ordinaryHasOwnMetadata = metadata.has;\nvar toMetaKey = metadata.key;\n\nvar ordinaryHasMetadata = function (MetadataKey, O, P) {\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if (hasOwn) return true;\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryHasMetadata(MetadataKey, parent, P) : false;\n};\n\nmetadata.exp({ hasMetadata: function hasMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryHasMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar ordinaryHasOwnMetadata = metadata.has;\nvar toMetaKey = metadata.key;\n\nmetadata.exp({ hasOwnMetadata: function hasOwnMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryHasOwnMetadata(metadataKey, anObject(target)\n    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n","var $metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar toMetaKey = $metadata.key;\nvar ordinaryDefineOwnMetadata = $metadata.set;\n\n$metadata.exp({ metadata: function metadata(metadataKey, metadataValue) {\n  return function decorator(target, targetKey) {\n    ordinaryDefineOwnMetadata(\n      metadataKey, metadataValue,\n      (targetKey !== undefined ? anObject : aFunction)(target),\n      toMetaKey(targetKey)\n    );\n  };\n} });\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from\nrequire('./_set-collection-from')('Set');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of\nrequire('./_set-collection-of')('Set');\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });\n","'use strict';\n// https://github.com/mathiasbynens/String.prototype.at\nvar $export = require('./_export');\nvar $at = require('./_string-at')(true);\n\n$export($export.P, 'String', {\n  at: function at(pos) {\n    return $at(this, pos);\n  }\n});\n","'use strict';\n// https://tc39.github.io/String.prototype.matchAll/\nvar $export = require('./_export');\nvar defined = require('./_defined');\nvar toLength = require('./_to-length');\nvar isRegExp = require('./_is-regexp');\nvar getFlags = require('./_flags');\nvar RegExpProto = RegExp.prototype;\n\nvar $RegExpStringIterator = function (regexp, string) {\n  this._r = regexp;\n  this._s = string;\n};\n\nrequire('./_iter-create')($RegExpStringIterator, 'RegExp String', function next() {\n  var match = this._r.exec(this._s);\n  return { value: match, done: match === null };\n});\n\n$export($export.P, 'String', {\n  matchAll: function matchAll(regexp) {\n    defined(this);\n    if (!isRegExp(regexp)) throw TypeError(regexp + ' is not a regexp!');\n    var S = String(this);\n    var flags = 'flags' in RegExpProto ? String(regexp.flags) : getFlags.call(regexp);\n    var rx = new RegExp(regexp.source, ~flags.indexOf('g') ? flags : 'g' + flags);\n    rx.lastIndex = toLength(regexp.lastIndex);\n    return new $RegExpStringIterator(rx, S);\n  }\n});\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\n$export($export.P + $export.F * /Version\\/10\\.\\d+(\\.\\d+)? Safari\\//.test(userAgent), 'String', {\n  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);\n  }\n});\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\n$export($export.P + $export.F * /Version\\/10\\.\\d+(\\.\\d+)? Safari\\//.test(userAgent), 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimLeft', function ($trim) {\n  return function trimLeft() {\n    return $trim(this, 1);\n  };\n}, 'trimStart');\n","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimRight', function ($trim) {\n  return function trimRight() {\n    return $trim(this, 2);\n  };\n}, 'trimEnd');\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","// https://github.com/tc39/proposal-global\nvar $export = require('./_export');\n\n$export($export.S, 'System', { global: require('./_global') });\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.from\nrequire('./_set-collection-from')('WeakMap');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.of\nrequire('./_set-collection-of')('WeakMap');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakset.from\nrequire('./_set-collection-from')('WeakSet');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakset.of\nrequire('./_set-collection-of')('WeakSet');\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","var $export = require('./_export');\nvar $task = require('./_task');\n$export($export.G + $export.B, {\n  setImmediate: $task.set,\n  clearImmediate: $task.clear\n});\n","// ie9- setTimeout & setInterval additional parameters fix\nvar global = require('./_global');\nvar $export = require('./_export');\nvar userAgent = require('./_user-agent');\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\nvar wrap = function (set) {\n  return function (fn, time /* , ...args */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : false;\n    return set(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(this, args);\n    } : fn, time);\n  };\n};\n$export($export.G + $export.B + $export.F * MSIE, {\n  setTimeout: wrap(global.setTimeout),\n  setInterval: wrap(global.setInterval)\n});\n","require('./modules/es6.symbol');\nrequire('./modules/es6.object.create');\nrequire('./modules/es6.object.define-property');\nrequire('./modules/es6.object.define-properties');\nrequire('./modules/es6.object.get-own-property-descriptor');\nrequire('./modules/es6.object.get-prototype-of');\nrequire('./modules/es6.object.keys');\nrequire('./modules/es6.object.get-own-property-names');\nrequire('./modules/es6.object.freeze');\nrequire('./modules/es6.object.seal');\nrequire('./modules/es6.object.prevent-extensions');\nrequire('./modules/es6.object.is-frozen');\nrequire('./modules/es6.object.is-sealed');\nrequire('./modules/es6.object.is-extensible');\nrequire('./modules/es6.object.assign');\nrequire('./modules/es6.object.is');\nrequire('./modules/es6.object.set-prototype-of');\nrequire('./modules/es6.object.to-string');\nrequire('./modules/es6.function.bind');\nrequire('./modules/es6.function.name');\nrequire('./modules/es6.function.has-instance');\nrequire('./modules/es6.parse-int');\nrequire('./modules/es6.parse-float');\nrequire('./modules/es6.number.constructor');\nrequire('./modules/es6.number.to-fixed');\nrequire('./modules/es6.number.to-precision');\nrequire('./modules/es6.number.epsilon');\nrequire('./modules/es6.number.is-finite');\nrequire('./modules/es6.number.is-integer');\nrequire('./modules/es6.number.is-nan');\nrequire('./modules/es6.number.is-safe-integer');\nrequire('./modules/es6.number.max-safe-integer');\nrequire('./modules/es6.number.min-safe-integer');\nrequire('./modules/es6.number.parse-float');\nrequire('./modules/es6.number.parse-int');\nrequire('./modules/es6.math.acosh');\nrequire('./modules/es6.math.asinh');\nrequire('./modules/es6.math.atanh');\nrequire('./modules/es6.math.cbrt');\nrequire('./modules/es6.math.clz32');\nrequire('./modules/es6.math.cosh');\nrequire('./modules/es6.math.expm1');\nrequire('./modules/es6.math.fround');\nrequire('./modules/es6.math.hypot');\nrequire('./modules/es6.math.imul');\nrequire('./modules/es6.math.log10');\nrequire('./modules/es6.math.log1p');\nrequire('./modules/es6.math.log2');\nrequire('./modules/es6.math.sign');\nrequire('./modules/es6.math.sinh');\nrequire('./modules/es6.math.tanh');\nrequire('./modules/es6.math.trunc');\nrequire('./modules/es6.string.from-code-point');\nrequire('./modules/es6.string.raw');\nrequire('./modules/es6.string.trim');\nrequire('./modules/es6.string.iterator');\nrequire('./modules/es6.string.code-point-at');\nrequire('./modules/es6.string.ends-with');\nrequire('./modules/es6.string.includes');\nrequire('./modules/es6.string.repeat');\nrequire('./modules/es6.string.starts-with');\nrequire('./modules/es6.string.anchor');\nrequire('./modules/es6.string.big');\nrequire('./modules/es6.string.blink');\nrequire('./modules/es6.string.bold');\nrequire('./modules/es6.string.fixed');\nrequire('./modules/es6.string.fontcolor');\nrequire('./modules/es6.string.fontsize');\nrequire('./modules/es6.string.italics');\nrequire('./modules/es6.string.link');\nrequire('./modules/es6.string.small');\nrequire('./modules/es6.string.strike');\nrequire('./modules/es6.string.sub');\nrequire('./modules/es6.string.sup');\nrequire('./modules/es6.date.now');\nrequire('./modules/es6.date.to-json');\nrequire('./modules/es6.date.to-iso-string');\nrequire('./modules/es6.date.to-string');\nrequire('./modules/es6.date.to-primitive');\nrequire('./modules/es6.array.is-array');\nrequire('./modules/es6.array.from');\nrequire('./modules/es6.array.of');\nrequire('./modules/es6.array.join');\nrequire('./modules/es6.array.slice');\nrequire('./modules/es6.array.sort');\nrequire('./modules/es6.array.for-each');\nrequire('./modules/es6.array.map');\nrequire('./modules/es6.array.filter');\nrequire('./modules/es6.array.some');\nrequire('./modules/es6.array.every');\nrequire('./modules/es6.array.reduce');\nrequire('./modules/es6.array.reduce-right');\nrequire('./modules/es6.array.index-of');\nrequire('./modules/es6.array.last-index-of');\nrequire('./modules/es6.array.copy-within');\nrequire('./modules/es6.array.fill');\nrequire('./modules/es6.array.find');\nrequire('./modules/es6.array.find-index');\nrequire('./modules/es6.array.species');\nrequire('./modules/es6.array.iterator');\nrequire('./modules/es6.regexp.constructor');\nrequire('./modules/es6.regexp.to-string');\nrequire('./modules/es6.regexp.flags');\nrequire('./modules/es6.regexp.match');\nrequire('./modules/es6.regexp.replace');\nrequire('./modules/es6.regexp.search');\nrequire('./modules/es6.regexp.split');\nrequire('./modules/es6.promise');\nrequire('./modules/es6.map');\nrequire('./modules/es6.set');\nrequire('./modules/es6.weak-map');\nrequire('./modules/es6.weak-set');\nrequire('./modules/es6.typed.array-buffer');\nrequire('./modules/es6.typed.data-view');\nrequire('./modules/es6.typed.int8-array');\nrequire('./modules/es6.typed.uint8-array');\nrequire('./modules/es6.typed.uint8-clamped-array');\nrequire('./modules/es6.typed.int16-array');\nrequire('./modules/es6.typed.uint16-array');\nrequire('./modules/es6.typed.int32-array');\nrequire('./modules/es6.typed.uint32-array');\nrequire('./modules/es6.typed.float32-array');\nrequire('./modules/es6.typed.float64-array');\nrequire('./modules/es6.reflect.apply');\nrequire('./modules/es6.reflect.construct');\nrequire('./modules/es6.reflect.define-property');\nrequire('./modules/es6.reflect.delete-property');\nrequire('./modules/es6.reflect.enumerate');\nrequire('./modules/es6.reflect.get');\nrequire('./modules/es6.reflect.get-own-property-descriptor');\nrequire('./modules/es6.reflect.get-prototype-of');\nrequire('./modules/es6.reflect.has');\nrequire('./modules/es6.reflect.is-extensible');\nrequire('./modules/es6.reflect.own-keys');\nrequire('./modules/es6.reflect.prevent-extensions');\nrequire('./modules/es6.reflect.set');\nrequire('./modules/es6.reflect.set-prototype-of');\nrequire('./modules/es7.array.includes');\nrequire('./modules/es7.array.flat-map');\nrequire('./modules/es7.array.flatten');\nrequire('./modules/es7.string.at');\nrequire('./modules/es7.string.pad-start');\nrequire('./modules/es7.string.pad-end');\nrequire('./modules/es7.string.trim-left');\nrequire('./modules/es7.string.trim-right');\nrequire('./modules/es7.string.match-all');\nrequire('./modules/es7.symbol.async-iterator');\nrequire('./modules/es7.symbol.observable');\nrequire('./modules/es7.object.get-own-property-descriptors');\nrequire('./modules/es7.object.values');\nrequire('./modules/es7.object.entries');\nrequire('./modules/es7.object.define-getter');\nrequire('./modules/es7.object.define-setter');\nrequire('./modules/es7.object.lookup-getter');\nrequire('./modules/es7.object.lookup-setter');\nrequire('./modules/es7.map.to-json');\nrequire('./modules/es7.set.to-json');\nrequire('./modules/es7.map.of');\nrequire('./modules/es7.set.of');\nrequire('./modules/es7.weak-map.of');\nrequire('./modules/es7.weak-set.of');\nrequire('./modules/es7.map.from');\nrequire('./modules/es7.set.from');\nrequire('./modules/es7.weak-map.from');\nrequire('./modules/es7.weak-set.from');\nrequire('./modules/es7.global');\nrequire('./modules/es7.system.global');\nrequire('./modules/es7.error.is-error');\nrequire('./modules/es7.math.clamp');\nrequire('./modules/es7.math.deg-per-rad');\nrequire('./modules/es7.math.degrees');\nrequire('./modules/es7.math.fscale');\nrequire('./modules/es7.math.iaddh');\nrequire('./modules/es7.math.isubh');\nrequire('./modules/es7.math.imulh');\nrequire('./modules/es7.math.rad-per-deg');\nrequire('./modules/es7.math.radians');\nrequire('./modules/es7.math.scale');\nrequire('./modules/es7.math.umulh');\nrequire('./modules/es7.math.signbit');\nrequire('./modules/es7.promise.finally');\nrequire('./modules/es7.promise.try');\nrequire('./modules/es7.reflect.define-metadata');\nrequire('./modules/es7.reflect.delete-metadata');\nrequire('./modules/es7.reflect.get-metadata');\nrequire('./modules/es7.reflect.get-metadata-keys');\nrequire('./modules/es7.reflect.get-own-metadata');\nrequire('./modules/es7.reflect.get-own-metadata-keys');\nrequire('./modules/es7.reflect.has-metadata');\nrequire('./modules/es7.reflect.has-own-metadata');\nrequire('./modules/es7.reflect.metadata');\nrequire('./modules/es7.asap');\nrequire('./modules/es7.observable');\nrequire('./modules/web.timers');\nrequire('./modules/web.immediate');\nrequire('./modules/web.dom.iterable');\nmodule.exports = require('./modules/_core');\n","module.exports = global[\"jQuery\"] = require(\"-!.\\\\jquery.js\");","/**!\n\n @license\n handlebars v4.0.11\n\nCopyright (C) 2011-2017 by Yehuda Katz\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Handlebars\"] = factory();\n\telse\n\t\troot[\"Handlebars\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\n\n\texports.__esModule = true;\n\n\tvar _handlebarsRuntime = __webpack_require__(2);\n\n\tvar _handlebarsRuntime2 = _interopRequireDefault(_handlebarsRuntime);\n\n\t// Compiler imports\n\n\tvar _handlebarsCompilerAst = __webpack_require__(35);\n\n\tvar _handlebarsCompilerAst2 = _interopRequireDefault(_handlebarsCompilerAst);\n\n\tvar _handlebarsCompilerBase = __webpack_require__(36);\n\n\tvar _handlebarsCompilerCompiler = __webpack_require__(41);\n\n\tvar _handlebarsCompilerJavascriptCompiler = __webpack_require__(42);\n\n\tvar _handlebarsCompilerJavascriptCompiler2 = _interopRequireDefault(_handlebarsCompilerJavascriptCompiler);\n\n\tvar _handlebarsCompilerVisitor = __webpack_require__(39);\n\n\tvar _handlebarsCompilerVisitor2 = _interopRequireDefault(_handlebarsCompilerVisitor);\n\n\tvar _handlebarsNoConflict = __webpack_require__(34);\n\n\tvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);\n\n\tvar _create = _handlebarsRuntime2['default'].create;\n\tfunction create() {\n\t  var hb = _create();\n\n\t  hb.compile = function (input, options) {\n\t    return _handlebarsCompilerCompiler.compile(input, options, hb);\n\t  };\n\t  hb.precompile = function (input, options) {\n\t    return _handlebarsCompilerCompiler.precompile(input, options, hb);\n\t  };\n\n\t  hb.AST = _handlebarsCompilerAst2['default'];\n\t  hb.Compiler = _handlebarsCompilerCompiler.Compiler;\n\t  hb.JavaScriptCompiler = _handlebarsCompilerJavascriptCompiler2['default'];\n\t  hb.Parser = _handlebarsCompilerBase.parser;\n\t  hb.parse = _handlebarsCompilerBase.parse;\n\n\t  return hb;\n\t}\n\n\tvar inst = create();\n\tinst.create = create;\n\n\t_handlebarsNoConflict2['default'](inst);\n\n\tinst.Visitor = _handlebarsCompilerVisitor2['default'];\n\n\tinst['default'] = inst;\n\n\texports['default'] = inst;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\texports[\"default\"] = function (obj) {\n\t  return obj && obj.__esModule ? obj : {\n\t    \"default\": obj\n\t  };\n\t};\n\n\texports.__esModule = true;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireWildcard = __webpack_require__(3)['default'];\n\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\n\n\texports.__esModule = true;\n\n\tvar _handlebarsBase = __webpack_require__(4);\n\n\tvar base = _interopRequireWildcard(_handlebarsBase);\n\n\t// Each of these augment the Handlebars object. No need to setup here.\n\t// (This is done to easily share code between commonjs and browse envs)\n\n\tvar _handlebarsSafeString = __webpack_require__(21);\n\n\tvar _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);\n\n\tvar _handlebarsException = __webpack_require__(6);\n\n\tvar _handlebarsException2 = _interopRequireDefault(_handlebarsException);\n\n\tvar _handlebarsUtils = __webpack_require__(5);\n\n\tvar Utils = _interopRequireWildcard(_handlebarsUtils);\n\n\tvar _handlebarsRuntime = __webpack_require__(22);\n\n\tvar runtime = _interopRequireWildcard(_handlebarsRuntime);\n\n\tvar _handlebarsNoConflict = __webpack_require__(34);\n\n\tvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);\n\n\t// For compatibility and usage outside of module systems, make the Handlebars object a namespace\n\tfunction create() {\n\t  var hb = new base.HandlebarsEnvironment();\n\n\t  Utils.extend(hb, base);\n\t  hb.SafeString = _handlebarsSafeString2['default'];\n\t  hb.Exception = _handlebarsException2['default'];\n\t  hb.Utils = Utils;\n\t  hb.escapeExpression = Utils.escapeExpression;\n\n\t  hb.VM = runtime;\n\t  hb.template = function (spec) {\n\t    return runtime.template(spec, hb);\n\t  };\n\n\t  return hb;\n\t}\n\n\tvar inst = create();\n\tinst.create = create;\n\n\t_handlebarsNoConflict2['default'](inst);\n\n\tinst['default'] = inst;\n\n\texports['default'] = inst;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\texports[\"default\"] = function (obj) {\n\t  if (obj && obj.__esModule) {\n\t    return obj;\n\t  } else {\n\t    var newObj = {};\n\n\t    if (obj != null) {\n\t      for (var key in obj) {\n\t        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n\t      }\n\t    }\n\n\t    newObj[\"default\"] = obj;\n\t    return newObj;\n\t  }\n\t};\n\n\texports.__esModule = true;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\n\n\texports.__esModule = true;\n\texports.HandlebarsEnvironment = HandlebarsEnvironment;\n\n\tvar _utils = __webpack_require__(5);\n\n\tvar _exception = __webpack_require__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\tvar _helpers = __webpack_require__(10);\n\n\tvar _decorators = __webpack_require__(18);\n\n\tvar _logger = __webpack_require__(20);\n\n\tvar _logger2 = _interopRequireDefault(_logger);\n\n\tvar VERSION = '4.0.11';\n\texports.VERSION = VERSION;\n\tvar COMPILER_REVISION = 7;\n\n\texports.COMPILER_REVISION = COMPILER_REVISION;\n\tvar REVISION_CHANGES = {\n\t  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n\t  2: '== 1.0.0-rc.3',\n\t  3: '== 1.0.0-rc.4',\n\t  4: '== 1.x.x',\n\t  5: '== 2.0.0-alpha.x',\n\t  6: '>= 2.0.0-beta.1',\n\t  7: '>= 4.0.0'\n\t};\n\n\texports.REVISION_CHANGES = REVISION_CHANGES;\n\tvar objectType = '[object Object]';\n\n\tfunction HandlebarsEnvironment(helpers, partials, decorators) {\n\t  this.helpers = helpers || {};\n\t  this.partials = partials || {};\n\t  this.decorators = decorators || {};\n\n\t  _helpers.registerDefaultHelpers(this);\n\t  _decorators.registerDefaultDecorators(this);\n\t}\n\n\tHandlebarsEnvironment.prototype = {\n\t  constructor: HandlebarsEnvironment,\n\n\t  logger: _logger2['default'],\n\t  log: _logger2['default'].log,\n\n\t  registerHelper: function registerHelper(name, fn) {\n\t    if (_utils.toString.call(name) === objectType) {\n\t      if (fn) {\n\t        throw new _exception2['default']('Arg not supported with multiple helpers');\n\t      }\n\t      _utils.extend(this.helpers, name);\n\t    } else {\n\t      this.helpers[name] = fn;\n\t    }\n\t  },\n\t  unregisterHelper: function unregisterHelper(name) {\n\t    delete this.helpers[name];\n\t  },\n\n\t  registerPartial: function registerPartial(name, partial) {\n\t    if (_utils.toString.call(name) === objectType) {\n\t      _utils.extend(this.partials, name);\n\t    } else {\n\t      if (typeof partial === 'undefined') {\n\t        throw new _exception2['default']('Attempting to register a partial called \"' + name + '\" as undefined');\n\t      }\n\t      this.partials[name] = partial;\n\t    }\n\t  },\n\t  unregisterPartial: function unregisterPartial(name) {\n\t    delete this.partials[name];\n\t  },\n\n\t  registerDecorator: function registerDecorator(name, fn) {\n\t    if (_utils.toString.call(name) === objectType) {\n\t      if (fn) {\n\t        throw new _exception2['default']('Arg not supported with multiple decorators');\n\t      }\n\t      _utils.extend(this.decorators, name);\n\t    } else {\n\t      this.decorators[name] = fn;\n\t    }\n\t  },\n\t  unregisterDecorator: function unregisterDecorator(name) {\n\t    delete this.decorators[name];\n\t  }\n\t};\n\n\tvar log = _logger2['default'].log;\n\n\texports.log = log;\n\texports.createFrame = _utils.createFrame;\n\texports.logger = _logger2['default'];\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\texports.extend = extend;\n\texports.indexOf = indexOf;\n\texports.escapeExpression = escapeExpression;\n\texports.isEmpty = isEmpty;\n\texports.createFrame = createFrame;\n\texports.blockParams = blockParams;\n\texports.appendContextPath = appendContextPath;\n\tvar escape = {\n\t  '&': '&amp;',\n\t  '<': '&lt;',\n\t  '>': '&gt;',\n\t  '\"': '&quot;',\n\t  \"'\": '&#x27;',\n\t  '`': '&#x60;',\n\t  '=': '&#x3D;'\n\t};\n\n\tvar badChars = /[&<>\"'`=]/g,\n\t    possible = /[&<>\"'`=]/;\n\n\tfunction escapeChar(chr) {\n\t  return escape[chr];\n\t}\n\n\tfunction extend(obj /* , ...source */) {\n\t  for (var i = 1; i < arguments.length; i++) {\n\t    for (var key in arguments[i]) {\n\t      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n\t        obj[key] = arguments[i][key];\n\t      }\n\t    }\n\t  }\n\n\t  return obj;\n\t}\n\n\tvar toString = Object.prototype.toString;\n\n\texports.toString = toString;\n\t// Sourced from lodash\n\t// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n\t/* eslint-disable func-style */\n\tvar isFunction = function isFunction(value) {\n\t  return typeof value === 'function';\n\t};\n\t// fallback for older versions of Chrome and Safari\n\t/* istanbul ignore next */\n\tif (isFunction(/x/)) {\n\t  exports.isFunction = isFunction = function (value) {\n\t    return typeof value === 'function' && toString.call(value) === '[object Function]';\n\t  };\n\t}\n\texports.isFunction = isFunction;\n\n\t/* eslint-enable func-style */\n\n\t/* istanbul ignore next */\n\tvar isArray = Array.isArray || function (value) {\n\t  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;\n\t};\n\n\texports.isArray = isArray;\n\t// Older IE versions do not directly support indexOf so we must implement our own, sadly.\n\n\tfunction indexOf(array, value) {\n\t  for (var i = 0, len = array.length; i < len; i++) {\n\t    if (array[i] === value) {\n\t      return i;\n\t    }\n\t  }\n\t  return -1;\n\t}\n\n\tfunction escapeExpression(string) {\n\t  if (typeof string !== 'string') {\n\t    // don't escape SafeStrings, since they're already safe\n\t    if (string && string.toHTML) {\n\t      return string.toHTML();\n\t    } else if (string == null) {\n\t      return '';\n\t    } else if (!string) {\n\t      return string + '';\n\t    }\n\n\t    // Force a string conversion as this will be done by the append regardless and\n\t    // the regex test will do this transparently behind the scenes, causing issues if\n\t    // an object's to string has escaped characters in it.\n\t    string = '' + string;\n\t  }\n\n\t  if (!possible.test(string)) {\n\t    return string;\n\t  }\n\t  return string.replace(badChars, escapeChar);\n\t}\n\n\tfunction isEmpty(value) {\n\t  if (!value && value !== 0) {\n\t    return true;\n\t  } else if (isArray(value) && value.length === 0) {\n\t    return true;\n\t  } else {\n\t    return false;\n\t  }\n\t}\n\n\tfunction createFrame(object) {\n\t  var frame = extend({}, object);\n\t  frame._parent = object;\n\t  return frame;\n\t}\n\n\tfunction blockParams(params, ids) {\n\t  params.path = ids;\n\t  return params;\n\t}\n\n\tfunction appendContextPath(contextPath, id) {\n\t  return (contextPath ? contextPath + '.' : '') + id;\n\t}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _Object$defineProperty = __webpack_require__(7)['default'];\n\n\texports.__esModule = true;\n\n\tvar errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];\n\n\tfunction Exception(message, node) {\n\t  var loc = node && node.loc,\n\t      line = undefined,\n\t      column = undefined;\n\t  if (loc) {\n\t    line = loc.start.line;\n\t    column = loc.start.column;\n\n\t    message += ' - ' + line + ':' + column;\n\t  }\n\n\t  var tmp = Error.prototype.constructor.call(this, message);\n\n\t  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n\t  for (var idx = 0; idx < errorProps.length; idx++) {\n\t    this[errorProps[idx]] = tmp[errorProps[idx]];\n\t  }\n\n\t  /* istanbul ignore else */\n\t  if (Error.captureStackTrace) {\n\t    Error.captureStackTrace(this, Exception);\n\t  }\n\n\t  try {\n\t    if (loc) {\n\t      this.lineNumber = line;\n\n\t      // Work around issue under safari where we can't directly set the column value\n\t      /* istanbul ignore next */\n\t      if (_Object$defineProperty) {\n\t        Object.defineProperty(this, 'column', {\n\t          value: column,\n\t          enumerable: true\n\t        });\n\t      } else {\n\t        this.column = column;\n\t      }\n\t    }\n\t  } catch (nop) {\n\t    /* Ignore if the browser is very particular */\n\t  }\n\t}\n\n\tException.prototype = new Error();\n\n\texports['default'] = Exception;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(8), __esModule: true };\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar $ = __webpack_require__(9);\n\tmodule.exports = function defineProperty(it, key, desc){\n\t  return $.setDesc(it, key, desc);\n\t};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n\tvar $Object = Object;\n\tmodule.exports = {\n\t  create:     $Object.create,\n\t  getProto:   $Object.getPrototypeOf,\n\t  isEnum:     {}.propertyIsEnumerable,\n\t  getDesc:    $Object.getOwnPropertyDescriptor,\n\t  setDesc:    $Object.defineProperty,\n\t  setDescs:   $Object.defineProperties,\n\t  getKeys:    $Object.keys,\n\t  getNames:   $Object.getOwnPropertyNames,\n\t  getSymbols: $Object.getOwnPropertySymbols,\n\t  each:       [].forEach\n\t};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\n\n\texports.__esModule = true;\n\texports.registerDefaultHelpers = registerDefaultHelpers;\n\n\tvar _helpersBlockHelperMissing = __webpack_require__(11);\n\n\tvar _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);\n\n\tvar _helpersEach = __webpack_require__(12);\n\n\tvar _helpersEach2 = _interopRequireDefault(_helpersEach);\n\n\tvar _helpersHelperMissing = __webpack_require__(13);\n\n\tvar _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);\n\n\tvar _helpersIf = __webpack_require__(14);\n\n\tvar _helpersIf2 = _interopRequireDefault(_helpersIf);\n\n\tvar _helpersLog = __webpack_require__(15);\n\n\tvar _helpersLog2 = _interopRequireDefault(_helpersLog);\n\n\tvar _helpersLookup = __webpack_require__(16);\n\n\tvar _helpersLookup2 = _interopRequireDefault(_helpersLookup);\n\n\tvar _helpersWith = __webpack_require__(17);\n\n\tvar _helpersWith2 = _interopRequireDefault(_helpersWith);\n\n\tfunction registerDefaultHelpers(instance) {\n\t  _helpersBlockHelperMissing2['default'](instance);\n\t  _helpersEach2['default'](instance);\n\t  _helpersHelperMissing2['default'](instance);\n\t  _helpersIf2['default'](instance);\n\t  _helpersLog2['default'](instance);\n\t  _helpersLookup2['default'](instance);\n\t  _helpersWith2['default'](instance);\n\t}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _utils = __webpack_require__(5);\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('blockHelperMissing', function (context, options) {\n\t    var inverse = options.inverse,\n\t        fn = options.fn;\n\n\t    if (context === true) {\n\t      return fn(this);\n\t    } else if (context === false || context == null) {\n\t      return inverse(this);\n\t    } else if (_utils.isArray(context)) {\n\t      if (context.length > 0) {\n\t        if (options.ids) {\n\t          options.ids = [options.name];\n\t        }\n\n\t        return instance.helpers.each(context, options);\n\t      } else {\n\t        return inverse(this);\n\t      }\n\t    } else {\n\t      if (options.data && options.ids) {\n\t        var data = _utils.createFrame(options.data);\n\t        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n\t        options = { data: data };\n\t      }\n\n\t      return fn(context, options);\n\t    }\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\n\n\texports.__esModule = true;\n\n\tvar _utils = __webpack_require__(5);\n\n\tvar _exception = __webpack_require__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('each', function (context, options) {\n\t    if (!options) {\n\t      throw new _exception2['default']('Must pass iterator to #each');\n\t    }\n\n\t    var fn = options.fn,\n\t        inverse = options.inverse,\n\t        i = 0,\n\t        ret = '',\n\t        data = undefined,\n\t        contextPath = undefined;\n\n\t    if (options.data && options.ids) {\n\t      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n\t    }\n\n\t    if (_utils.isFunction(context)) {\n\t      context = context.call(this);\n\t    }\n\n\t    if (options.data) {\n\t      data = _utils.createFrame(options.data);\n\t    }\n\n\t    function execIteration(field, index, last) {\n\t      if (data) {\n\t        data.key = field;\n\t        data.index = index;\n\t        data.first = index === 0;\n\t        data.last = !!last;\n\n\t        if (contextPath) {\n\t          data.contextPath = contextPath + field;\n\t        }\n\t      }\n\n\t      ret = ret + fn(context[field], {\n\t        data: data,\n\t        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n\t      });\n\t    }\n\n\t    if (context && typeof context === 'object') {\n\t      if (_utils.isArray(context)) {\n\t        for (var j = context.length; i < j; i++) {\n\t          if (i in context) {\n\t            execIteration(i, i, i === context.length - 1);\n\t          }\n\t        }\n\t      } else {\n\t        var priorKey = undefined;\n\n\t        for (var key in context) {\n\t          if (context.hasOwnProperty(key)) {\n\t            // We're running the iterations one step out of sync so we can detect\n\t            // the last iteration without have to scan the object twice and create\n\t            // an itermediate keys array.\n\t            if (priorKey !== undefined) {\n\t              execIteration(priorKey, i - 1);\n\t            }\n\t            priorKey = key;\n\t            i++;\n\t          }\n\t        }\n\t        if (priorKey !== undefined) {\n\t          execIteration(priorKey, i - 1, true);\n\t        }\n\t      }\n\t    }\n\n\t    if (i === 0) {\n\t      ret = inverse(this);\n\t    }\n\n\t    return ret;\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\n\n\texports.__esModule = true;\n\n\tvar _exception = __webpack_require__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('helperMissing', function () /* [args, ]options */{\n\t    if (arguments.length === 1) {\n\t      // A missing field in a {{foo}} construct.\n\t      return undefined;\n\t    } else {\n\t      // Someone is actually trying to call something, blow up.\n\t      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n\t    }\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _utils = __webpack_require__(5);\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('if', function (conditional, options) {\n\t    if (_utils.isFunction(conditional)) {\n\t      conditional = conditional.call(this);\n\t    }\n\n\t    // Default behavior is to render the positive path if the value is truthy and not empty.\n\t    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n\t    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n\t    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n\t      return options.inverse(this);\n\t    } else {\n\t      return options.fn(this);\n\t    }\n\t  });\n\n\t  instance.registerHelper('unless', function (conditional, options) {\n\t    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('log', function () /* message, options */{\n\t    var args = [undefined],\n\t        options = arguments[arguments.length - 1];\n\t    for (var i = 0; i < arguments.length - 1; i++) {\n\t      args.push(arguments[i]);\n\t    }\n\n\t    var level = 1;\n\t    if (options.hash.level != null) {\n\t      level = options.hash.level;\n\t    } else if (options.data && options.data.level != null) {\n\t      level = options.data.level;\n\t    }\n\t    args[0] = level;\n\n\t    instance.log.apply(instance, args);\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('lookup', function (obj, field) {\n\t    return obj && obj[field];\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _utils = __webpack_require__(5);\n\n\texports['default'] = function (instance) {\n\t  instance.registerHelper('with', function (context, options) {\n\t    if (_utils.isFunction(context)) {\n\t      context = context.call(this);\n\t    }\n\n\t    var fn = options.fn;\n\n\t    if (!_utils.isEmpty(context)) {\n\t      var data = options.data;\n\t      if (options.data && options.ids) {\n\t        data = _utils.createFrame(options.data);\n\t        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n\t      }\n\n\t      return fn(context, {\n\t        data: data,\n\t        blockParams: _utils.blockParams([context], [data && data.contextPath])\n\t      });\n\t    } else {\n\t      return options.inverse(this);\n\t    }\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\n\n\texports.__esModule = true;\n\texports.registerDefaultDecorators = registerDefaultDecorators;\n\n\tvar _decoratorsInline = __webpack_require__(19);\n\n\tvar _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);\n\n\tfunction registerDefaultDecorators(instance) {\n\t  _decoratorsInline2['default'](instance);\n\t}\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _utils = __webpack_require__(5);\n\n\texports['default'] = function (instance) {\n\t  instance.registerDecorator('inline', function (fn, props, container, options) {\n\t    var ret = fn;\n\t    if (!props.partials) {\n\t      props.partials = {};\n\t      ret = function (context, options) {\n\t        // Create a new partials stack frame prior to exec.\n\t        var original = container.partials;\n\t        container.partials = _utils.extend({}, original, props.partials);\n\t        var ret = fn(context, options);\n\t        container.partials = original;\n\t        return ret;\n\t      };\n\t    }\n\n\t    props.partials[options.args[0]] = options.fn;\n\n\t    return ret;\n\t  });\n\t};\n\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _utils = __webpack_require__(5);\n\n\tvar logger = {\n\t  methodMap: ['debug', 'info', 'warn', 'error'],\n\t  level: 'info',\n\n\t  // Maps a given level value to the `methodMap` indexes above.\n\t  lookupLevel: function lookupLevel(level) {\n\t    if (typeof level === 'string') {\n\t      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());\n\t      if (levelMap >= 0) {\n\t        level = levelMap;\n\t      } else {\n\t        level = parseInt(level, 10);\n\t      }\n\t    }\n\n\t    return level;\n\t  },\n\n\t  // Can be overridden in the host environment\n\t  log: function log(level) {\n\t    level = logger.lookupLevel(level);\n\n\t    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\n\t      var method = logger.methodMap[level];\n\t      if (!console[method]) {\n\t        // eslint-disable-line no-console\n\t        method = 'log';\n\t      }\n\n\t      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t        message[_key - 1] = arguments[_key];\n\t      }\n\n\t      console[method].apply(console, message); // eslint-disable-line no-console\n\t    }\n\t  }\n\t};\n\n\texports['default'] = logger;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\n\t// Build out our basic SafeString type\n\t'use strict';\n\n\texports.__esModule = true;\n\tfunction SafeString(string) {\n\t  this.string = string;\n\t}\n\n\tSafeString.prototype.toString = SafeString.prototype.toHTML = function () {\n\t  return '' + this.string;\n\t};\n\n\texports['default'] = SafeString;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _Object$seal = __webpack_require__(23)['default'];\n\n\tvar _interopRequireWildcard = __webpack_require__(3)['default'];\n\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\n\n\texports.__esModule = true;\n\texports.checkRevision = checkRevision;\n\texports.template = template;\n\texports.wrapProgram = wrapProgram;\n\texports.resolvePartial = resolvePartial;\n\texports.invokePartial = invokePartial;\n\texports.noop = noop;\n\n\tvar _utils = __webpack_require__(5);\n\n\tvar Utils = _interopRequireWildcard(_utils);\n\n\tvar _exception = __webpack_require__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\tvar _base = __webpack_require__(4);\n\n\tfunction checkRevision(compilerInfo) {\n\t  var compilerRevision = compilerInfo && compilerInfo[0] || 1,\n\t      currentRevision = _base.COMPILER_REVISION;\n\n\t  if (compilerRevision !== currentRevision) {\n\t    if (compilerRevision < currentRevision) {\n\t      var runtimeVersions = _base.REVISION_CHANGES[currentRevision],\n\t          compilerVersions = _base.REVISION_CHANGES[compilerRevision];\n\t      throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n\t    } else {\n\t      // Use the embedded version info since the runtime doesn't know about this revision yet\n\t      throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n\t    }\n\t  }\n\t}\n\n\tfunction template(templateSpec, env) {\n\t  /* istanbul ignore next */\n\t  if (!env) {\n\t    throw new _exception2['default']('No environment passed to template');\n\t  }\n\t  if (!templateSpec || !templateSpec.main) {\n\t    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);\n\t  }\n\n\t  templateSpec.main.decorator = templateSpec.main_d;\n\n\t  // Note: Using env.VM references rather than local var references throughout this section to allow\n\t  // for external users to override these as psuedo-supported APIs.\n\t  env.VM.checkRevision(templateSpec.compiler);\n\n\t  function invokePartialWrapper(partial, context, options) {\n\t    if (options.hash) {\n\t      context = Utils.extend({}, context, options.hash);\n\t      if (options.ids) {\n\t        options.ids[0] = true;\n\t      }\n\t    }\n\n\t    partial = env.VM.resolvePartial.call(this, partial, context, options);\n\t    var result = env.VM.invokePartial.call(this, partial, context, options);\n\n\t    if (result == null && env.compile) {\n\t      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n\t      result = options.partials[options.name](context, options);\n\t    }\n\t    if (result != null) {\n\t      if (options.indent) {\n\t        var lines = result.split('\\n');\n\t        for (var i = 0, l = lines.length; i < l; i++) {\n\t          if (!lines[i] && i + 1 === l) {\n\t            break;\n\t          }\n\n\t          lines[i] = options.indent + lines[i];\n\t        }\n\t        result = lines.join('\\n');\n\t      }\n\t      return result;\n\t    } else {\n\t      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n\t    }\n\t  }\n\n\t  // Just add water\n\t  var container = {\n\t    strict: function strict(obj, name) {\n\t      if (!(name in obj)) {\n\t        throw new _exception2['default']('\"' + name + '\" not defined in ' + obj);\n\t      }\n\t      return obj[name];\n\t    },\n\t    lookup: function lookup(depths, name) {\n\t      var len = depths.length;\n\t      for (var i = 0; i < len; i++) {\n\t        if (depths[i] && depths[i][name] != null) {\n\t          return depths[i][name];\n\t        }\n\t      }\n\t    },\n\t    lambda: function lambda(current, context) {\n\t      return typeof current === 'function' ? current.call(context) : current;\n\t    },\n\n\t    escapeExpression: Utils.escapeExpression,\n\t    invokePartial: invokePartialWrapper,\n\n\t    fn: function fn(i) {\n\t      var ret = templateSpec[i];\n\t      ret.decorator = templateSpec[i + '_d'];\n\t      return ret;\n\t    },\n\n\t    programs: [],\n\t    program: function program(i, data, declaredBlockParams, blockParams, depths) {\n\t      var programWrapper = this.programs[i],\n\t          fn = this.fn(i);\n\t      if (data || depths || blockParams || declaredBlockParams) {\n\t        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n\t      } else if (!programWrapper) {\n\t        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n\t      }\n\t      return programWrapper;\n\t    },\n\n\t    data: function data(value, depth) {\n\t      while (value && depth--) {\n\t        value = value._parent;\n\t      }\n\t      return value;\n\t    },\n\t    merge: function merge(param, common) {\n\t      var obj = param || common;\n\n\t      if (param && common && param !== common) {\n\t        obj = Utils.extend({}, common, param);\n\t      }\n\n\t      return obj;\n\t    },\n\t    // An empty object to use as replacement for null-contexts\n\t    nullContext: _Object$seal({}),\n\n\t    noop: env.VM.noop,\n\t    compilerInfo: templateSpec.compiler\n\t  };\n\n\t  function ret(context) {\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n\t    var data = options.data;\n\n\t    ret._setup(options);\n\t    if (!options.partial && templateSpec.useData) {\n\t      data = initData(context, data);\n\t    }\n\t    var depths = undefined,\n\t        blockParams = templateSpec.useBlockParams ? [] : undefined;\n\t    if (templateSpec.useDepths) {\n\t      if (options.depths) {\n\t        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;\n\t      } else {\n\t        depths = [context];\n\t      }\n\t    }\n\n\t    function main(context /*, options*/) {\n\t      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\n\t    }\n\t    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\n\t    return main(context, options);\n\t  }\n\t  ret.isTop = true;\n\n\t  ret._setup = function (options) {\n\t    if (!options.partial) {\n\t      container.helpers = container.merge(options.helpers, env.helpers);\n\n\t      if (templateSpec.usePartial) {\n\t        container.partials = container.merge(options.partials, env.partials);\n\t      }\n\t      if (templateSpec.usePartial || templateSpec.useDecorators) {\n\t        container.decorators = container.merge(options.decorators, env.decorators);\n\t      }\n\t    } else {\n\t      container.helpers = options.helpers;\n\t      container.partials = options.partials;\n\t      container.decorators = options.decorators;\n\t    }\n\t  };\n\n\t  ret._child = function (i, data, blockParams, depths) {\n\t    if (templateSpec.useBlockParams && !blockParams) {\n\t      throw new _exception2['default']('must pass block params');\n\t    }\n\t    if (templateSpec.useDepths && !depths) {\n\t      throw new _exception2['default']('must pass parent depths');\n\t    }\n\n\t    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n\t  };\n\t  return ret;\n\t}\n\n\tfunction wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n\t  function prog(context) {\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n\t    var currentDepths = depths;\n\t    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {\n\t      currentDepths = [context].concat(depths);\n\t    }\n\n\t    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);\n\t  }\n\n\t  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n\n\t  prog.program = i;\n\t  prog.depth = depths ? depths.length : 0;\n\t  prog.blockParams = declaredBlockParams || 0;\n\t  return prog;\n\t}\n\n\tfunction resolvePartial(partial, context, options) {\n\t  if (!partial) {\n\t    if (options.name === '@partial-block') {\n\t      partial = options.data['partial-block'];\n\t    } else {\n\t      partial = options.partials[options.name];\n\t    }\n\t  } else if (!partial.call && !options.name) {\n\t    // This is a dynamic partial that returned a string\n\t    options.name = partial;\n\t    partial = options.partials[partial];\n\t  }\n\t  return partial;\n\t}\n\n\tfunction invokePartial(partial, context, options) {\n\t  // Use the current closure context to save the partial-block if this partial\n\t  var currentPartialBlock = options.data && options.data['partial-block'];\n\t  options.partial = true;\n\t  if (options.ids) {\n\t    options.data.contextPath = options.ids[0] || options.data.contextPath;\n\t  }\n\n\t  var partialBlock = undefined;\n\t  if (options.fn && options.fn !== noop) {\n\t    (function () {\n\t      options.data = _base.createFrame(options.data);\n\t      // Wrapper function to get access to currentPartialBlock from the closure\n\t      var fn = options.fn;\n\t      partialBlock = options.data['partial-block'] = function partialBlockWrapper(context) {\n\t        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n\t        // Restore the partial-block from the closure for the execution of the block\n\t        // i.e. the part inside the block of the partial call.\n\t        options.data = _base.createFrame(options.data);\n\t        options.data['partial-block'] = currentPartialBlock;\n\t        return fn(context, options);\n\t      };\n\t      if (fn.partials) {\n\t        options.partials = Utils.extend({}, options.partials, fn.partials);\n\t      }\n\t    })();\n\t  }\n\n\t  if (partial === undefined && partialBlock) {\n\t    partial = partialBlock;\n\t  }\n\n\t  if (partial === undefined) {\n\t    throw new _exception2['default']('The partial ' + options.name + ' could not be found');\n\t  } else if (partial instanceof Function) {\n\t    return partial(context, options);\n\t  }\n\t}\n\n\tfunction noop() {\n\t  return '';\n\t}\n\n\tfunction initData(context, data) {\n\t  if (!data || !('root' in data)) {\n\t    data = data ? _base.createFrame(data) : {};\n\t    data.root = context;\n\t  }\n\t  return data;\n\t}\n\n\tfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n\t  if (fn.decorator) {\n\t    var props = {};\n\t    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\n\t    Utils.extend(prog, props);\n\t  }\n\t  return prog;\n\t}\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(24), __esModule: true };\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(25);\n\tmodule.exports = __webpack_require__(30).Object.seal;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// 19.1.2.17 Object.seal(O)\n\tvar isObject = __webpack_require__(26);\n\n\t__webpack_require__(27)('seal', function($seal){\n\t  return function seal(it){\n\t    return $seal && isObject(it) ? $seal(it) : it;\n\t  };\n\t});\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function(it){\n\t  return typeof it === 'object' ? it !== null : typeof it === 'function';\n\t};\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// most Object methods by ES6 should accept primitives\n\tvar $export = __webpack_require__(28)\n\t  , core    = __webpack_require__(30)\n\t  , fails   = __webpack_require__(33);\n\tmodule.exports = function(KEY, exec){\n\t  var fn  = (core.Object || {})[KEY] || Object[KEY]\n\t    , exp = {};\n\t  exp[KEY] = exec(fn);\n\t  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n\t};\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar global    = __webpack_require__(29)\n\t  , core      = __webpack_require__(30)\n\t  , ctx       = __webpack_require__(31)\n\t  , PROTOTYPE = 'prototype';\n\n\tvar $export = function(type, name, source){\n\t  var IS_FORCED = type & $export.F\n\t    , IS_GLOBAL = type & $export.G\n\t    , IS_STATIC = type & $export.S\n\t    , IS_PROTO  = type & $export.P\n\t    , IS_BIND   = type & $export.B\n\t    , IS_WRAP   = type & $export.W\n\t    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n\t    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n\t    , key, own, out;\n\t  if(IS_GLOBAL)source = name;\n\t  for(key in source){\n\t    // contains in native\n\t    own = !IS_FORCED && target && key in target;\n\t    if(own && key in exports)continue;\n\t    // export native or passed\n\t    out = own ? target[key] : source[key];\n\t    // prevent global pollution for namespaces\n\t    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n\t    // bind timers to global for call from export context\n\t    : IS_BIND && own ? ctx(out, global)\n\t    // wrap global constructors for prevent change them in library\n\t    : IS_WRAP && target[key] == out ? (function(C){\n\t      var F = function(param){\n\t        return this instanceof C ? new C(param) : C(param);\n\t      };\n\t      F[PROTOTYPE] = C[PROTOTYPE];\n\t      return F;\n\t    // make static versions for prototype methods\n\t    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n\t    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n\t  }\n\t};\n\t// type bitmap\n\t$export.F = 1;  // forced\n\t$export.G = 2;  // global\n\t$export.S = 4;  // static\n\t$export.P = 8;  // proto\n\t$export.B = 16; // bind\n\t$export.W = 32; // wrap\n\tmodule.exports = $export;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports) {\n\n\t// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\tvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n\t  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\tif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports) {\n\n\tvar core = module.exports = {version: '1.2.6'};\n\tif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// optional / simple context binding\n\tvar aFunction = __webpack_require__(32);\n\tmodule.exports = function(fn, that, length){\n\t  aFunction(fn);\n\t  if(that === undefined)return fn;\n\t  switch(length){\n\t    case 1: return function(a){\n\t      return fn.call(that, a);\n\t    };\n\t    case 2: return function(a, b){\n\t      return fn.call(that, a, b);\n\t    };\n\t    case 3: return function(a, b, c){\n\t      return fn.call(that, a, b, c);\n\t    };\n\t  }\n\t  return function(/* ...args */){\n\t    return fn.apply(that, arguments);\n\t  };\n\t};\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function(it){\n\t  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n\t  return it;\n\t};\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function(exec){\n\t  try {\n\t    return !!exec();\n\t  } catch(e){\n\t    return true;\n\t  }\n\t};\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/* global window */\n\t'use strict';\n\n\texports.__esModule = true;\n\n\texports['default'] = function (Handlebars) {\n\t  /* istanbul ignore next */\n\t  var root = typeof global !== 'undefined' ? global : window,\n\t      $Handlebars = root.Handlebars;\n\t  /* istanbul ignore next */\n\t  Handlebars.noConflict = function () {\n\t    if (root.Handlebars === Handlebars) {\n\t      root.Handlebars = $Handlebars;\n\t    }\n\t    return Handlebars;\n\t  };\n\t};\n\n\tmodule.exports = exports['default'];\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\tvar AST = {\n\t  // Public API used to evaluate derived attributes regarding AST nodes\n\t  helpers: {\n\t    // a mustache is definitely a helper if:\n\t    // * it is an eligible helper, and\n\t    // * it has at least one parameter or hash segment\n\t    helperExpression: function helperExpression(node) {\n\t      return node.type === 'SubExpression' || (node.type === 'MustacheStatement' || node.type === 'BlockStatement') && !!(node.params && node.params.length || node.hash);\n\t    },\n\n\t    scopedId: function scopedId(path) {\n\t      return (/^\\.|this\\b/.test(path.original)\n\t      );\n\t    },\n\n\t    // an ID is simple if it only has one part, and that part is not\n\t    // `..` or `this`.\n\t    simpleId: function simpleId(path) {\n\t      return path.parts.length === 1 && !AST.helpers.scopedId(path) && !path.depth;\n\t    }\n\t  }\n\t};\n\n\t// Must be exported as an object rather than the root of the module as the jison lexer\n\t// must modify the object to operate properly.\n\texports['default'] = AST;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\n\n\tvar _interopRequireWildcard = __webpack_require__(3)['default'];\n\n\texports.__esModule = true;\n\texports.parse = parse;\n\n\tvar _parser = __webpack_require__(37);\n\n\tvar _parser2 = _interopRequireDefault(_parser);\n\n\tvar _whitespaceControl = __webpack_require__(38);\n\n\tvar _whitespaceControl2 = _interopRequireDefault(_whitespaceControl);\n\n\tvar _helpers = __webpack_require__(40);\n\n\tvar Helpers = _interopRequireWildcard(_helpers);\n\n\tvar _utils = __webpack_require__(5);\n\n\texports.parser = _parser2['default'];\n\n\tvar yy = {};\n\t_utils.extend(yy, Helpers);\n\n\tfunction parse(input, options) {\n\t  // Just return if an already-compiled AST was passed in.\n\t  if (input.type === 'Program') {\n\t    return input;\n\t  }\n\n\t  _parser2['default'].yy = yy;\n\n\t  // Altering the shared object here, but this is ok as parser is a sync operation\n\t  yy.locInfo = function (locInfo) {\n\t    return new yy.SourceLocation(options && options.srcName, locInfo);\n\t  };\n\n\t  var strip = new _whitespaceControl2['default'](options);\n\t  return strip.accept(_parser2['default'].parse(input));\n\t}\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports) {\n\n\t// File ignored in coverage tests via setting in .istanbul.yml\n\t/* Jison generated parser */\n\t\"use strict\";\n\n\texports.__esModule = true;\n\tvar handlebars = (function () {\n\t    var parser = { trace: function trace() {},\n\t        yy: {},\n\t        symbols_: { \"error\": 2, \"root\": 3, \"program\": 4, \"EOF\": 5, \"program_repetition0\": 6, \"statement\": 7, \"mustache\": 8, \"block\": 9, \"rawBlock\": 10, \"partial\": 11, \"partialBlock\": 12, \"content\": 13, \"COMMENT\": 14, \"CONTENT\": 15, \"openRawBlock\": 16, \"rawBlock_repetition_plus0\": 17, \"END_RAW_BLOCK\": 18, \"OPEN_RAW_BLOCK\": 19, \"helperName\": 20, \"openRawBlock_repetition0\": 21, \"openRawBlock_option0\": 22, \"CLOSE_RAW_BLOCK\": 23, \"openBlock\": 24, \"block_option0\": 25, \"closeBlock\": 26, \"openInverse\": 27, \"block_option1\": 28, \"OPEN_BLOCK\": 29, \"openBlock_repetition0\": 30, \"openBlock_option0\": 31, \"openBlock_option1\": 32, \"CLOSE\": 33, \"OPEN_INVERSE\": 34, \"openInverse_repetition0\": 35, \"openInverse_option0\": 36, \"openInverse_option1\": 37, \"openInverseChain\": 38, \"OPEN_INVERSE_CHAIN\": 39, \"openInverseChain_repetition0\": 40, \"openInverseChain_option0\": 41, \"openInverseChain_option1\": 42, \"inverseAndProgram\": 43, \"INVERSE\": 44, \"inverseChain\": 45, \"inverseChain_option0\": 46, \"OPEN_ENDBLOCK\": 47, \"OPEN\": 48, \"mustache_repetition0\": 49, \"mustache_option0\": 50, \"OPEN_UNESCAPED\": 51, \"mustache_repetition1\": 52, \"mustache_option1\": 53, \"CLOSE_UNESCAPED\": 54, \"OPEN_PARTIAL\": 55, \"partialName\": 56, \"partial_repetition0\": 57, \"partial_option0\": 58, \"openPartialBlock\": 59, \"OPEN_PARTIAL_BLOCK\": 60, \"openPartialBlock_repetition0\": 61, \"openPartialBlock_option0\": 62, \"param\": 63, \"sexpr\": 64, \"OPEN_SEXPR\": 65, \"sexpr_repetition0\": 66, \"sexpr_option0\": 67, \"CLOSE_SEXPR\": 68, \"hash\": 69, \"hash_repetition_plus0\": 70, \"hashSegment\": 71, \"ID\": 72, \"EQUALS\": 73, \"blockParams\": 74, \"OPEN_BLOCK_PARAMS\": 75, \"blockParams_repetition_plus0\": 76, \"CLOSE_BLOCK_PARAMS\": 77, \"path\": 78, \"dataName\": 79, \"STRING\": 80, \"NUMBER\": 81, \"BOOLEAN\": 82, \"UNDEFINED\": 83, \"NULL\": 84, \"DATA\": 85, \"pathSegments\": 86, \"SEP\": 87, \"$accept\": 0, \"$end\": 1 },\n\t        terminals_: { 2: \"error\", 5: \"EOF\", 14: \"COMMENT\", 15: \"CONTENT\", 18: \"END_RAW_BLOCK\", 19: \"OPEN_RAW_BLOCK\", 23: \"CLOSE_RAW_BLOCK\", 29: \"OPEN_BLOCK\", 33: \"CLOSE\", 34: \"OPEN_INVERSE\", 39: \"OPEN_INVERSE_CHAIN\", 44: \"INVERSE\", 47: \"OPEN_ENDBLOCK\", 48: \"OPEN\", 51: \"OPEN_UNESCAPED\", 54: \"CLOSE_UNESCAPED\", 55: \"OPEN_PARTIAL\", 60: \"OPEN_PARTIAL_BLOCK\", 65: \"OPEN_SEXPR\", 68: \"CLOSE_SEXPR\", 72: \"ID\", 73: \"EQUALS\", 75: \"OPEN_BLOCK_PARAMS\", 77: \"CLOSE_BLOCK_PARAMS\", 80: \"STRING\", 81: \"NUMBER\", 82: \"BOOLEAN\", 83: \"UNDEFINED\", 84: \"NULL\", 85: \"DATA\", 87: \"SEP\" },\n\t        productions_: [0, [3, 2], [4, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [13, 1], [10, 3], [16, 5], [9, 4], [9, 4], [24, 6], [27, 6], [38, 6], [43, 2], [45, 3], [45, 1], [26, 3], [8, 5], [8, 5], [11, 5], [12, 3], [59, 5], [63, 1], [63, 1], [64, 5], [69, 1], [71, 3], [74, 3], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [56, 1], [56, 1], [79, 2], [78, 1], [86, 3], [86, 1], [6, 0], [6, 2], [17, 1], [17, 2], [21, 0], [21, 2], [22, 0], [22, 1], [25, 0], [25, 1], [28, 0], [28, 1], [30, 0], [30, 2], [31, 0], [31, 1], [32, 0], [32, 1], [35, 0], [35, 2], [36, 0], [36, 1], [37, 0], [37, 1], [40, 0], [40, 2], [41, 0], [41, 1], [42, 0], [42, 1], [46, 0], [46, 1], [49, 0], [49, 2], [50, 0], [50, 1], [52, 0], [52, 2], [53, 0], [53, 1], [57, 0], [57, 2], [58, 0], [58, 1], [61, 0], [61, 2], [62, 0], [62, 1], [66, 0], [66, 2], [67, 0], [67, 1], [70, 1], [70, 2], [76, 1], [76, 2]],\n\t        performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$\n\t        /**/) {\n\n\t            var $0 = $$.length - 1;\n\t            switch (yystate) {\n\t                case 1:\n\t                    return $$[$0 - 1];\n\t                    break;\n\t                case 2:\n\t                    this.$ = yy.prepareProgram($$[$0]);\n\t                    break;\n\t                case 3:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 4:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 5:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 6:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 7:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 8:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 9:\n\t                    this.$ = {\n\t                        type: 'CommentStatement',\n\t                        value: yy.stripComment($$[$0]),\n\t                        strip: yy.stripFlags($$[$0], $$[$0]),\n\t                        loc: yy.locInfo(this._$)\n\t                    };\n\n\t                    break;\n\t                case 10:\n\t                    this.$ = {\n\t                        type: 'ContentStatement',\n\t                        original: $$[$0],\n\t                        value: $$[$0],\n\t                        loc: yy.locInfo(this._$)\n\t                    };\n\n\t                    break;\n\t                case 11:\n\t                    this.$ = yy.prepareRawBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$);\n\t                    break;\n\t                case 12:\n\t                    this.$ = { path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1] };\n\t                    break;\n\t                case 13:\n\t                    this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], false, this._$);\n\t                    break;\n\t                case 14:\n\t                    this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], true, this._$);\n\t                    break;\n\t                case 15:\n\t                    this.$ = { open: $$[$0 - 5], path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };\n\t                    break;\n\t                case 16:\n\t                    this.$ = { path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };\n\t                    break;\n\t                case 17:\n\t                    this.$ = { path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };\n\t                    break;\n\t                case 18:\n\t                    this.$ = { strip: yy.stripFlags($$[$0 - 1], $$[$0 - 1]), program: $$[$0] };\n\t                    break;\n\t                case 19:\n\t                    var inverse = yy.prepareBlock($$[$0 - 2], $$[$0 - 1], $$[$0], $$[$0], false, this._$),\n\t                        program = yy.prepareProgram([inverse], $$[$0 - 1].loc);\n\t                    program.chained = true;\n\n\t                    this.$ = { strip: $$[$0 - 2].strip, program: program, chain: true };\n\n\t                    break;\n\t                case 20:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 21:\n\t                    this.$ = { path: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 2], $$[$0]) };\n\t                    break;\n\t                case 22:\n\t                    this.$ = yy.prepareMustache($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0 - 4], yy.stripFlags($$[$0 - 4], $$[$0]), this._$);\n\t                    break;\n\t                case 23:\n\t                    this.$ = yy.prepareMustache($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0 - 4], yy.stripFlags($$[$0 - 4], $$[$0]), this._$);\n\t                    break;\n\t                case 24:\n\t                    this.$ = {\n\t                        type: 'PartialStatement',\n\t                        name: $$[$0 - 3],\n\t                        params: $$[$0 - 2],\n\t                        hash: $$[$0 - 1],\n\t                        indent: '',\n\t                        strip: yy.stripFlags($$[$0 - 4], $$[$0]),\n\t                        loc: yy.locInfo(this._$)\n\t                    };\n\n\t                    break;\n\t                case 25:\n\t                    this.$ = yy.preparePartialBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$);\n\t                    break;\n\t                case 26:\n\t                    this.$ = { path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 4], $$[$0]) };\n\t                    break;\n\t                case 27:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 28:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 29:\n\t                    this.$ = {\n\t                        type: 'SubExpression',\n\t                        path: $$[$0 - 3],\n\t                        params: $$[$0 - 2],\n\t                        hash: $$[$0 - 1],\n\t                        loc: yy.locInfo(this._$)\n\t                    };\n\n\t                    break;\n\t                case 30:\n\t                    this.$ = { type: 'Hash', pairs: $$[$0], loc: yy.locInfo(this._$) };\n\t                    break;\n\t                case 31:\n\t                    this.$ = { type: 'HashPair', key: yy.id($$[$0 - 2]), value: $$[$0], loc: yy.locInfo(this._$) };\n\t                    break;\n\t                case 32:\n\t                    this.$ = yy.id($$[$0 - 1]);\n\t                    break;\n\t                case 33:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 34:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 35:\n\t                    this.$ = { type: 'StringLiteral', value: $$[$0], original: $$[$0], loc: yy.locInfo(this._$) };\n\t                    break;\n\t                case 36:\n\t                    this.$ = { type: 'NumberLiteral', value: Number($$[$0]), original: Number($$[$0]), loc: yy.locInfo(this._$) };\n\t                    break;\n\t                case 37:\n\t                    this.$ = { type: 'BooleanLiteral', value: $$[$0] === 'true', original: $$[$0] === 'true', loc: yy.locInfo(this._$) };\n\t                    break;\n\t                case 38:\n\t                    this.$ = { type: 'UndefinedLiteral', original: undefined, value: undefined, loc: yy.locInfo(this._$) };\n\t                    break;\n\t                case 39:\n\t                    this.$ = { type: 'NullLiteral', original: null, value: null, loc: yy.locInfo(this._$) };\n\t                    break;\n\t                case 40:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 41:\n\t                    this.$ = $$[$0];\n\t                    break;\n\t                case 42:\n\t                    this.$ = yy.preparePath(true, $$[$0], this._$);\n\t                    break;\n\t                case 43:\n\t                    this.$ = yy.preparePath(false, $$[$0], this._$);\n\t                    break;\n\t                case 44:\n\t                    $$[$0 - 2].push({ part: yy.id($$[$0]), original: $$[$0], separator: $$[$0 - 1] });this.$ = $$[$0 - 2];\n\t                    break;\n\t                case 45:\n\t                    this.$ = [{ part: yy.id($$[$0]), original: $$[$0] }];\n\t                    break;\n\t                case 46:\n\t                    this.$ = [];\n\t                    break;\n\t                case 47:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 48:\n\t                    this.$ = [$$[$0]];\n\t                    break;\n\t                case 49:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 50:\n\t                    this.$ = [];\n\t                    break;\n\t                case 51:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 58:\n\t                    this.$ = [];\n\t                    break;\n\t                case 59:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 64:\n\t                    this.$ = [];\n\t                    break;\n\t                case 65:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 70:\n\t                    this.$ = [];\n\t                    break;\n\t                case 71:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 78:\n\t                    this.$ = [];\n\t                    break;\n\t                case 79:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 82:\n\t                    this.$ = [];\n\t                    break;\n\t                case 83:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 86:\n\t                    this.$ = [];\n\t                    break;\n\t                case 87:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 90:\n\t                    this.$ = [];\n\t                    break;\n\t                case 91:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 94:\n\t                    this.$ = [];\n\t                    break;\n\t                case 95:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 98:\n\t                    this.$ = [$$[$0]];\n\t                    break;\n\t                case 99:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t                case 100:\n\t                    this.$ = [$$[$0]];\n\t                    break;\n\t                case 101:\n\t                    $$[$0 - 1].push($$[$0]);\n\t                    break;\n\t            }\n\t        },\n\t        table: [{ 3: 1, 4: 2, 5: [2, 46], 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 1: [3] }, { 5: [1, 4] }, { 5: [2, 2], 7: 5, 8: 6, 9: 7, 10: 8, 11: 9, 12: 10, 13: 11, 14: [1, 12], 15: [1, 20], 16: 17, 19: [1, 23], 24: 15, 27: 16, 29: [1, 21], 34: [1, 22], 39: [2, 2], 44: [2, 2], 47: [2, 2], 48: [1, 13], 51: [1, 14], 55: [1, 18], 59: 19, 60: [1, 24] }, { 1: [2, 1] }, { 5: [2, 47], 14: [2, 47], 15: [2, 47], 19: [2, 47], 29: [2, 47], 34: [2, 47], 39: [2, 47], 44: [2, 47], 47: [2, 47], 48: [2, 47], 51: [2, 47], 55: [2, 47], 60: [2, 47] }, { 5: [2, 3], 14: [2, 3], 15: [2, 3], 19: [2, 3], 29: [2, 3], 34: [2, 3], 39: [2, 3], 44: [2, 3], 47: [2, 3], 48: [2, 3], 51: [2, 3], 55: [2, 3], 60: [2, 3] }, { 5: [2, 4], 14: [2, 4], 15: [2, 4], 19: [2, 4], 29: [2, 4], 34: [2, 4], 39: [2, 4], 44: [2, 4], 47: [2, 4], 48: [2, 4], 51: [2, 4], 55: [2, 4], 60: [2, 4] }, { 5: [2, 5], 14: [2, 5], 15: [2, 5], 19: [2, 5], 29: [2, 5], 34: [2, 5], 39: [2, 5], 44: [2, 5], 47: [2, 5], 48: [2, 5], 51: [2, 5], 55: [2, 5], 60: [2, 5] }, { 5: [2, 6], 14: [2, 6], 15: [2, 6], 19: [2, 6], 29: [2, 6], 34: [2, 6], 39: [2, 6], 44: [2, 6], 47: [2, 6], 48: [2, 6], 51: [2, 6], 55: [2, 6], 60: [2, 6] }, { 5: [2, 7], 14: [2, 7], 15: [2, 7], 19: [2, 7], 29: [2, 7], 34: [2, 7], 39: [2, 7], 44: [2, 7], 47: [2, 7], 48: [2, 7], 51: [2, 7], 55: [2, 7], 60: [2, 7] }, { 5: [2, 8], 14: [2, 8], 15: [2, 8], 19: [2, 8], 29: [2, 8], 34: [2, 8], 39: [2, 8], 44: [2, 8], 47: [2, 8], 48: [2, 8], 51: [2, 8], 55: [2, 8], 60: [2, 8] }, { 5: [2, 9], 14: [2, 9], 15: [2, 9], 19: [2, 9], 29: [2, 9], 34: [2, 9], 39: [2, 9], 44: [2, 9], 47: [2, 9], 48: [2, 9], 51: [2, 9], 55: [2, 9], 60: [2, 9] }, { 20: 25, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 36, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 37, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 4: 38, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 13: 40, 15: [1, 20], 17: 39 }, { 20: 42, 56: 41, 64: 43, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 45, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 5: [2, 10], 14: [2, 10], 15: [2, 10], 18: [2, 10], 19: [2, 10], 29: [2, 10], 34: [2, 10], 39: [2, 10], 44: [2, 10], 47: [2, 10], 48: [2, 10], 51: [2, 10], 55: [2, 10], 60: [2, 10] }, { 20: 46, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 47, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 48, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 42, 56: 49, 64: 43, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [2, 78], 49: 50, 65: [2, 78], 72: [2, 78], 80: [2, 78], 81: [2, 78], 82: [2, 78], 83: [2, 78], 84: [2, 78], 85: [2, 78] }, { 23: [2, 33], 33: [2, 33], 54: [2, 33], 65: [2, 33], 68: [2, 33], 72: [2, 33], 75: [2, 33], 80: [2, 33], 81: [2, 33], 82: [2, 33], 83: [2, 33], 84: [2, 33], 85: [2, 33] }, { 23: [2, 34], 33: [2, 34], 54: [2, 34], 65: [2, 34], 68: [2, 34], 72: [2, 34], 75: [2, 34], 80: [2, 34], 81: [2, 34], 82: [2, 34], 83: [2, 34], 84: [2, 34], 85: [2, 34] }, { 23: [2, 35], 33: [2, 35], 54: [2, 35], 65: [2, 35], 68: [2, 35], 72: [2, 35], 75: [2, 35], 80: [2, 35], 81: [2, 35], 82: [2, 35], 83: [2, 35], 84: [2, 35], 85: [2, 35] }, { 23: [2, 36], 33: [2, 36], 54: [2, 36], 65: [2, 36], 68: [2, 36], 72: [2, 36], 75: [2, 36], 80: [2, 36], 81: [2, 36], 82: [2, 36], 83: [2, 36], 84: [2, 36], 85: [2, 36] }, { 23: [2, 37], 33: [2, 37], 54: [2, 37], 65: [2, 37], 68: [2, 37], 72: [2, 37], 75: [2, 37], 80: [2, 37], 81: [2, 37], 82: [2, 37], 83: [2, 37], 84: [2, 37], 85: [2, 37] }, { 23: [2, 38], 33: [2, 38], 54: [2, 38], 65: [2, 38], 68: [2, 38], 72: [2, 38], 75: [2, 38], 80: [2, 38], 81: [2, 38], 82: [2, 38], 83: [2, 38], 84: [2, 38], 85: [2, 38] }, { 23: [2, 39], 33: [2, 39], 54: [2, 39], 65: [2, 39], 68: [2, 39], 72: [2, 39], 75: [2, 39], 80: [2, 39], 81: [2, 39], 82: [2, 39], 83: [2, 39], 84: [2, 39], 85: [2, 39] }, { 23: [2, 43], 33: [2, 43], 54: [2, 43], 65: [2, 43], 68: [2, 43], 72: [2, 43], 75: [2, 43], 80: [2, 43], 81: [2, 43], 82: [2, 43], 83: [2, 43], 84: [2, 43], 85: [2, 43], 87: [1, 51] }, { 72: [1, 35], 86: 52 }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 52: 53, 54: [2, 82], 65: [2, 82], 72: [2, 82], 80: [2, 82], 81: [2, 82], 82: [2, 82], 83: [2, 82], 84: [2, 82], 85: [2, 82] }, { 25: 54, 38: 56, 39: [1, 58], 43: 57, 44: [1, 59], 45: 55, 47: [2, 54] }, { 28: 60, 43: 61, 44: [1, 59], 47: [2, 56] }, { 13: 63, 15: [1, 20], 18: [1, 62] }, { 15: [2, 48], 18: [2, 48] }, { 33: [2, 86], 57: 64, 65: [2, 86], 72: [2, 86], 80: [2, 86], 81: [2, 86], 82: [2, 86], 83: [2, 86], 84: [2, 86], 85: [2, 86] }, { 33: [2, 40], 65: [2, 40], 72: [2, 40], 80: [2, 40], 81: [2, 40], 82: [2, 40], 83: [2, 40], 84: [2, 40], 85: [2, 40] }, { 33: [2, 41], 65: [2, 41], 72: [2, 41], 80: [2, 41], 81: [2, 41], 82: [2, 41], 83: [2, 41], 84: [2, 41], 85: [2, 41] }, { 20: 65, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 66, 47: [1, 67] }, { 30: 68, 33: [2, 58], 65: [2, 58], 72: [2, 58], 75: [2, 58], 80: [2, 58], 81: [2, 58], 82: [2, 58], 83: [2, 58], 84: [2, 58], 85: [2, 58] }, { 33: [2, 64], 35: 69, 65: [2, 64], 72: [2, 64], 75: [2, 64], 80: [2, 64], 81: [2, 64], 82: [2, 64], 83: [2, 64], 84: [2, 64], 85: [2, 64] }, { 21: 70, 23: [2, 50], 65: [2, 50], 72: [2, 50], 80: [2, 50], 81: [2, 50], 82: [2, 50], 83: [2, 50], 84: [2, 50], 85: [2, 50] }, { 33: [2, 90], 61: 71, 65: [2, 90], 72: [2, 90], 80: [2, 90], 81: [2, 90], 82: [2, 90], 83: [2, 90], 84: [2, 90], 85: [2, 90] }, { 20: 75, 33: [2, 80], 50: 72, 63: 73, 64: 76, 65: [1, 44], 69: 74, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 72: [1, 80] }, { 23: [2, 42], 33: [2, 42], 54: [2, 42], 65: [2, 42], 68: [2, 42], 72: [2, 42], 75: [2, 42], 80: [2, 42], 81: [2, 42], 82: [2, 42], 83: [2, 42], 84: [2, 42], 85: [2, 42], 87: [1, 51] }, { 20: 75, 53: 81, 54: [2, 84], 63: 82, 64: 76, 65: [1, 44], 69: 83, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 84, 47: [1, 67] }, { 47: [2, 55] }, { 4: 85, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 47: [2, 20] }, { 20: 86, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 87, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 26: 88, 47: [1, 67] }, { 47: [2, 57] }, { 5: [2, 11], 14: [2, 11], 15: [2, 11], 19: [2, 11], 29: [2, 11], 34: [2, 11], 39: [2, 11], 44: [2, 11], 47: [2, 11], 48: [2, 11], 51: [2, 11], 55: [2, 11], 60: [2, 11] }, { 15: [2, 49], 18: [2, 49] }, { 20: 75, 33: [2, 88], 58: 89, 63: 90, 64: 76, 65: [1, 44], 69: 91, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 65: [2, 94], 66: 92, 68: [2, 94], 72: [2, 94], 80: [2, 94], 81: [2, 94], 82: [2, 94], 83: [2, 94], 84: [2, 94], 85: [2, 94] }, { 5: [2, 25], 14: [2, 25], 15: [2, 25], 19: [2, 25], 29: [2, 25], 34: [2, 25], 39: [2, 25], 44: [2, 25], 47: [2, 25], 48: [2, 25], 51: [2, 25], 55: [2, 25], 60: [2, 25] }, { 20: 93, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 31: 94, 33: [2, 60], 63: 95, 64: 76, 65: [1, 44], 69: 96, 70: 77, 71: 78, 72: [1, 79], 75: [2, 60], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 33: [2, 66], 36: 97, 63: 98, 64: 76, 65: [1, 44], 69: 99, 70: 77, 71: 78, 72: [1, 79], 75: [2, 66], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 22: 100, 23: [2, 52], 63: 101, 64: 76, 65: [1, 44], 69: 102, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 33: [2, 92], 62: 103, 63: 104, 64: 76, 65: [1, 44], 69: 105, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 106] }, { 33: [2, 79], 65: [2, 79], 72: [2, 79], 80: [2, 79], 81: [2, 79], 82: [2, 79], 83: [2, 79], 84: [2, 79], 85: [2, 79] }, { 33: [2, 81] }, { 23: [2, 27], 33: [2, 27], 54: [2, 27], 65: [2, 27], 68: [2, 27], 72: [2, 27], 75: [2, 27], 80: [2, 27], 81: [2, 27], 82: [2, 27], 83: [2, 27], 84: [2, 27], 85: [2, 27] }, { 23: [2, 28], 33: [2, 28], 54: [2, 28], 65: [2, 28], 68: [2, 28], 72: [2, 28], 75: [2, 28], 80: [2, 28], 81: [2, 28], 82: [2, 28], 83: [2, 28], 84: [2, 28], 85: [2, 28] }, { 23: [2, 30], 33: [2, 30], 54: [2, 30], 68: [2, 30], 71: 107, 72: [1, 108], 75: [2, 30] }, { 23: [2, 98], 33: [2, 98], 54: [2, 98], 68: [2, 98], 72: [2, 98], 75: [2, 98] }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 73: [1, 109], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 23: [2, 44], 33: [2, 44], 54: [2, 44], 65: [2, 44], 68: [2, 44], 72: [2, 44], 75: [2, 44], 80: [2, 44], 81: [2, 44], 82: [2, 44], 83: [2, 44], 84: [2, 44], 85: [2, 44], 87: [2, 44] }, { 54: [1, 110] }, { 54: [2, 83], 65: [2, 83], 72: [2, 83], 80: [2, 83], 81: [2, 83], 82: [2, 83], 83: [2, 83], 84: [2, 83], 85: [2, 83] }, { 54: [2, 85] }, { 5: [2, 13], 14: [2, 13], 15: [2, 13], 19: [2, 13], 29: [2, 13], 34: [2, 13], 39: [2, 13], 44: [2, 13], 47: [2, 13], 48: [2, 13], 51: [2, 13], 55: [2, 13], 60: [2, 13] }, { 38: 56, 39: [1, 58], 43: 57, 44: [1, 59], 45: 112, 46: 111, 47: [2, 76] }, { 33: [2, 70], 40: 113, 65: [2, 70], 72: [2, 70], 75: [2, 70], 80: [2, 70], 81: [2, 70], 82: [2, 70], 83: [2, 70], 84: [2, 70], 85: [2, 70] }, { 47: [2, 18] }, { 5: [2, 14], 14: [2, 14], 15: [2, 14], 19: [2, 14], 29: [2, 14], 34: [2, 14], 39: [2, 14], 44: [2, 14], 47: [2, 14], 48: [2, 14], 51: [2, 14], 55: [2, 14], 60: [2, 14] }, { 33: [1, 114] }, { 33: [2, 87], 65: [2, 87], 72: [2, 87], 80: [2, 87], 81: [2, 87], 82: [2, 87], 83: [2, 87], 84: [2, 87], 85: [2, 87] }, { 33: [2, 89] }, { 20: 75, 63: 116, 64: 76, 65: [1, 44], 67: 115, 68: [2, 96], 69: 117, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 118] }, { 32: 119, 33: [2, 62], 74: 120, 75: [1, 121] }, { 33: [2, 59], 65: [2, 59], 72: [2, 59], 75: [2, 59], 80: [2, 59], 81: [2, 59], 82: [2, 59], 83: [2, 59], 84: [2, 59], 85: [2, 59] }, { 33: [2, 61], 75: [2, 61] }, { 33: [2, 68], 37: 122, 74: 123, 75: [1, 121] }, { 33: [2, 65], 65: [2, 65], 72: [2, 65], 75: [2, 65], 80: [2, 65], 81: [2, 65], 82: [2, 65], 83: [2, 65], 84: [2, 65], 85: [2, 65] }, { 33: [2, 67], 75: [2, 67] }, { 23: [1, 124] }, { 23: [2, 51], 65: [2, 51], 72: [2, 51], 80: [2, 51], 81: [2, 51], 82: [2, 51], 83: [2, 51], 84: [2, 51], 85: [2, 51] }, { 23: [2, 53] }, { 33: [1, 125] }, { 33: [2, 91], 65: [2, 91], 72: [2, 91], 80: [2, 91], 81: [2, 91], 82: [2, 91], 83: [2, 91], 84: [2, 91], 85: [2, 91] }, { 33: [2, 93] }, { 5: [2, 22], 14: [2, 22], 15: [2, 22], 19: [2, 22], 29: [2, 22], 34: [2, 22], 39: [2, 22], 44: [2, 22], 47: [2, 22], 48: [2, 22], 51: [2, 22], 55: [2, 22], 60: [2, 22] }, { 23: [2, 99], 33: [2, 99], 54: [2, 99], 68: [2, 99], 72: [2, 99], 75: [2, 99] }, { 73: [1, 109] }, { 20: 75, 63: 126, 64: 76, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 23], 14: [2, 23], 15: [2, 23], 19: [2, 23], 29: [2, 23], 34: [2, 23], 39: [2, 23], 44: [2, 23], 47: [2, 23], 48: [2, 23], 51: [2, 23], 55: [2, 23], 60: [2, 23] }, { 47: [2, 19] }, { 47: [2, 77] }, { 20: 75, 33: [2, 72], 41: 127, 63: 128, 64: 76, 65: [1, 44], 69: 129, 70: 77, 71: 78, 72: [1, 79], 75: [2, 72], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 24], 14: [2, 24], 15: [2, 24], 19: [2, 24], 29: [2, 24], 34: [2, 24], 39: [2, 24], 44: [2, 24], 47: [2, 24], 48: [2, 24], 51: [2, 24], 55: [2, 24], 60: [2, 24] }, { 68: [1, 130] }, { 65: [2, 95], 68: [2, 95], 72: [2, 95], 80: [2, 95], 81: [2, 95], 82: [2, 95], 83: [2, 95], 84: [2, 95], 85: [2, 95] }, { 68: [2, 97] }, { 5: [2, 21], 14: [2, 21], 15: [2, 21], 19: [2, 21], 29: [2, 21], 34: [2, 21], 39: [2, 21], 44: [2, 21], 47: [2, 21], 48: [2, 21], 51: [2, 21], 55: [2, 21], 60: [2, 21] }, { 33: [1, 131] }, { 33: [2, 63] }, { 72: [1, 133], 76: 132 }, { 33: [1, 134] }, { 33: [2, 69] }, { 15: [2, 12] }, { 14: [2, 26], 15: [2, 26], 19: [2, 26], 29: [2, 26], 34: [2, 26], 47: [2, 26], 48: [2, 26], 51: [2, 26], 55: [2, 26], 60: [2, 26] }, { 23: [2, 31], 33: [2, 31], 54: [2, 31], 68: [2, 31], 72: [2, 31], 75: [2, 31] }, { 33: [2, 74], 42: 135, 74: 136, 75: [1, 121] }, { 33: [2, 71], 65: [2, 71], 72: [2, 71], 75: [2, 71], 80: [2, 71], 81: [2, 71], 82: [2, 71], 83: [2, 71], 84: [2, 71], 85: [2, 71] }, { 33: [2, 73], 75: [2, 73] }, { 23: [2, 29], 33: [2, 29], 54: [2, 29], 65: [2, 29], 68: [2, 29], 72: [2, 29], 75: [2, 29], 80: [2, 29], 81: [2, 29], 82: [2, 29], 83: [2, 29], 84: [2, 29], 85: [2, 29] }, { 14: [2, 15], 15: [2, 15], 19: [2, 15], 29: [2, 15], 34: [2, 15], 39: [2, 15], 44: [2, 15], 47: [2, 15], 48: [2, 15], 51: [2, 15], 55: [2, 15], 60: [2, 15] }, { 72: [1, 138], 77: [1, 137] }, { 72: [2, 100], 77: [2, 100] }, { 14: [2, 16], 15: [2, 16], 19: [2, 16], 29: [2, 16], 34: [2, 16], 44: [2, 16], 47: [2, 16], 48: [2, 16], 51: [2, 16], 55: [2, 16], 60: [2, 16] }, { 33: [1, 139] }, { 33: [2, 75] }, { 33: [2, 32] }, { 72: [2, 101], 77: [2, 101] }, { 14: [2, 17], 15: [2, 17], 19: [2, 17], 29: [2, 17], 34: [2, 17], 39: [2, 17], 44: [2, 17], 47: [2, 17], 48: [2, 17], 51: [2, 17], 55: [2, 17], 60: [2, 17] }],\n\t        defaultActions: { 4: [2, 1], 55: [2, 55], 57: [2, 20], 61: [2, 57], 74: [2, 81], 83: [2, 85], 87: [2, 18], 91: [2, 89], 102: [2, 53], 105: [2, 93], 111: [2, 19], 112: [2, 77], 117: [2, 97], 120: [2, 63], 123: [2, 69], 124: [2, 12], 136: [2, 75], 137: [2, 32] },\n\t        parseError: function parseError(str, hash) {\n\t            throw new Error(str);\n\t        },\n\t        parse: function parse(input) {\n\t            var self = this,\n\t                stack = [0],\n\t                vstack = [null],\n\t                lstack = [],\n\t                table = this.table,\n\t                yytext = \"\",\n\t                yylineno = 0,\n\t                yyleng = 0,\n\t                recovering = 0,\n\t                TERROR = 2,\n\t                EOF = 1;\n\t            this.lexer.setInput(input);\n\t            this.lexer.yy = this.yy;\n\t            this.yy.lexer = this.lexer;\n\t            this.yy.parser = this;\n\t            if (typeof this.lexer.yylloc == \"undefined\") this.lexer.yylloc = {};\n\t            var yyloc = this.lexer.yylloc;\n\t            lstack.push(yyloc);\n\t            var ranges = this.lexer.options && this.lexer.options.ranges;\n\t            if (typeof this.yy.parseError === \"function\") this.parseError = this.yy.parseError;\n\t            function popStack(n) {\n\t                stack.length = stack.length - 2 * n;\n\t                vstack.length = vstack.length - n;\n\t                lstack.length = lstack.length - n;\n\t            }\n\t            function lex() {\n\t                var token;\n\t                token = self.lexer.lex() || 1;\n\t                if (typeof token !== \"number\") {\n\t                    token = self.symbols_[token] || token;\n\t                }\n\t                return token;\n\t            }\n\t            var symbol,\n\t                preErrorSymbol,\n\t                state,\n\t                action,\n\t                a,\n\t                r,\n\t                yyval = {},\n\t                p,\n\t                len,\n\t                newState,\n\t                expected;\n\t            while (true) {\n\t                state = stack[stack.length - 1];\n\t                if (this.defaultActions[state]) {\n\t                    action = this.defaultActions[state];\n\t                } else {\n\t                    if (symbol === null || typeof symbol == \"undefined\") {\n\t                        symbol = lex();\n\t                    }\n\t                    action = table[state] && table[state][symbol];\n\t                }\n\t                if (typeof action === \"undefined\" || !action.length || !action[0]) {\n\t                    var errStr = \"\";\n\t                    if (!recovering) {\n\t                        expected = [];\n\t                        for (p in table[state]) if (this.terminals_[p] && p > 2) {\n\t                            expected.push(\"'\" + this.terminals_[p] + \"'\");\n\t                        }\n\t                        if (this.lexer.showPosition) {\n\t                            errStr = \"Parse error on line \" + (yylineno + 1) + \":\\n\" + this.lexer.showPosition() + \"\\nExpecting \" + expected.join(\", \") + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\n\t                        } else {\n\t                            errStr = \"Parse error on line \" + (yylineno + 1) + \": Unexpected \" + (symbol == 1 ? \"end of input\" : \"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n\t                        }\n\t                        this.parseError(errStr, { text: this.lexer.match, token: this.terminals_[symbol] || symbol, line: this.lexer.yylineno, loc: yyloc, expected: expected });\n\t                    }\n\t                }\n\t                if (action[0] instanceof Array && action.length > 1) {\n\t                    throw new Error(\"Parse Error: multiple actions possible at state: \" + state + \", token: \" + symbol);\n\t                }\n\t                switch (action[0]) {\n\t                    case 1:\n\t                        stack.push(symbol);\n\t                        vstack.push(this.lexer.yytext);\n\t                        lstack.push(this.lexer.yylloc);\n\t                        stack.push(action[1]);\n\t                        symbol = null;\n\t                        if (!preErrorSymbol) {\n\t                            yyleng = this.lexer.yyleng;\n\t                            yytext = this.lexer.yytext;\n\t                            yylineno = this.lexer.yylineno;\n\t                            yyloc = this.lexer.yylloc;\n\t                            if (recovering > 0) recovering--;\n\t                        } else {\n\t                            symbol = preErrorSymbol;\n\t                            preErrorSymbol = null;\n\t                        }\n\t                        break;\n\t                    case 2:\n\t                        len = this.productions_[action[1]][1];\n\t                        yyval.$ = vstack[vstack.length - len];\n\t                        yyval._$ = { first_line: lstack[lstack.length - (len || 1)].first_line, last_line: lstack[lstack.length - 1].last_line, first_column: lstack[lstack.length - (len || 1)].first_column, last_column: lstack[lstack.length - 1].last_column };\n\t                        if (ranges) {\n\t                            yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n\t                        }\n\t                        r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);\n\t                        if (typeof r !== \"undefined\") {\n\t                            return r;\n\t                        }\n\t                        if (len) {\n\t                            stack = stack.slice(0, -1 * len * 2);\n\t                            vstack = vstack.slice(0, -1 * len);\n\t                            lstack = lstack.slice(0, -1 * len);\n\t                        }\n\t                        stack.push(this.productions_[action[1]][0]);\n\t                        vstack.push(yyval.$);\n\t                        lstack.push(yyval._$);\n\t                        newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n\t                        stack.push(newState);\n\t                        break;\n\t                    case 3:\n\t                        return true;\n\t                }\n\t            }\n\t            return true;\n\t        }\n\t    };\n\t    /* Jison generated lexer */\n\t    var lexer = (function () {\n\t        var lexer = { EOF: 1,\n\t            parseError: function parseError(str, hash) {\n\t                if (this.yy.parser) {\n\t                    this.yy.parser.parseError(str, hash);\n\t                } else {\n\t                    throw new Error(str);\n\t                }\n\t            },\n\t            setInput: function setInput(input) {\n\t                this._input = input;\n\t                this._more = this._less = this.done = false;\n\t                this.yylineno = this.yyleng = 0;\n\t                this.yytext = this.matched = this.match = '';\n\t                this.conditionStack = ['INITIAL'];\n\t                this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 };\n\t                if (this.options.ranges) this.yylloc.range = [0, 0];\n\t                this.offset = 0;\n\t                return this;\n\t            },\n\t            input: function input() {\n\t                var ch = this._input[0];\n\t                this.yytext += ch;\n\t                this.yyleng++;\n\t                this.offset++;\n\t                this.match += ch;\n\t                this.matched += ch;\n\t                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n\t                if (lines) {\n\t                    this.yylineno++;\n\t                    this.yylloc.last_line++;\n\t                } else {\n\t                    this.yylloc.last_column++;\n\t                }\n\t                if (this.options.ranges) this.yylloc.range[1]++;\n\n\t                this._input = this._input.slice(1);\n\t                return ch;\n\t            },\n\t            unput: function unput(ch) {\n\t                var len = ch.length;\n\t                var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n\t                this._input = ch + this._input;\n\t                this.yytext = this.yytext.substr(0, this.yytext.length - len - 1);\n\t                //this.yyleng -= len;\n\t                this.offset -= len;\n\t                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n\t                this.match = this.match.substr(0, this.match.length - 1);\n\t                this.matched = this.matched.substr(0, this.matched.length - 1);\n\n\t                if (lines.length - 1) this.yylineno -= lines.length - 1;\n\t                var r = this.yylloc.range;\n\n\t                this.yylloc = { first_line: this.yylloc.first_line,\n\t                    last_line: this.yylineno + 1,\n\t                    first_column: this.yylloc.first_column,\n\t                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n\t                };\n\n\t                if (this.options.ranges) {\n\t                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n\t                }\n\t                return this;\n\t            },\n\t            more: function more() {\n\t                this._more = true;\n\t                return this;\n\t            },\n\t            less: function less(n) {\n\t                this.unput(this.match.slice(n));\n\t            },\n\t            pastInput: function pastInput() {\n\t                var past = this.matched.substr(0, this.matched.length - this.match.length);\n\t                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n\t            },\n\t            upcomingInput: function upcomingInput() {\n\t                var next = this.match;\n\t                if (next.length < 20) {\n\t                    next += this._input.substr(0, 20 - next.length);\n\t                }\n\t                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n\t            },\n\t            showPosition: function showPosition() {\n\t                var pre = this.pastInput();\n\t                var c = new Array(pre.length + 1).join(\"-\");\n\t                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n\t            },\n\t            next: function next() {\n\t                if (this.done) {\n\t                    return this.EOF;\n\t                }\n\t                if (!this._input) this.done = true;\n\n\t                var token, match, tempMatch, index, col, lines;\n\t                if (!this._more) {\n\t                    this.yytext = '';\n\t                    this.match = '';\n\t                }\n\t                var rules = this._currentRules();\n\t                for (var i = 0; i < rules.length; i++) {\n\t                    tempMatch = this._input.match(this.rules[rules[i]]);\n\t                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n\t                        match = tempMatch;\n\t                        index = i;\n\t                        if (!this.options.flex) break;\n\t                    }\n\t                }\n\t                if (match) {\n\t                    lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n\t                    if (lines) this.yylineno += lines.length;\n\t                    this.yylloc = { first_line: this.yylloc.last_line,\n\t                        last_line: this.yylineno + 1,\n\t                        first_column: this.yylloc.last_column,\n\t                        last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length };\n\t                    this.yytext += match[0];\n\t                    this.match += match[0];\n\t                    this.matches = match;\n\t                    this.yyleng = this.yytext.length;\n\t                    if (this.options.ranges) {\n\t                        this.yylloc.range = [this.offset, this.offset += this.yyleng];\n\t                    }\n\t                    this._more = false;\n\t                    this._input = this._input.slice(match[0].length);\n\t                    this.matched += match[0];\n\t                    token = this.performAction.call(this, this.yy, this, rules[index], this.conditionStack[this.conditionStack.length - 1]);\n\t                    if (this.done && this._input) this.done = false;\n\t                    if (token) return token;else return;\n\t                }\n\t                if (this._input === \"\") {\n\t                    return this.EOF;\n\t                } else {\n\t                    return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), { text: \"\", token: null, line: this.yylineno });\n\t                }\n\t            },\n\t            lex: function lex() {\n\t                var r = this.next();\n\t                if (typeof r !== 'undefined') {\n\t                    return r;\n\t                } else {\n\t                    return this.lex();\n\t                }\n\t            },\n\t            begin: function begin(condition) {\n\t                this.conditionStack.push(condition);\n\t            },\n\t            popState: function popState() {\n\t                return this.conditionStack.pop();\n\t            },\n\t            _currentRules: function _currentRules() {\n\t                return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n\t            },\n\t            topState: function topState() {\n\t                return this.conditionStack[this.conditionStack.length - 2];\n\t            },\n\t            pushState: function begin(condition) {\n\t                this.begin(condition);\n\t            } };\n\t        lexer.options = {};\n\t        lexer.performAction = function anonymous(yy, yy_, $avoiding_name_collisions, YY_START\n\t        /**/) {\n\n\t            function strip(start, end) {\n\t                return yy_.yytext = yy_.yytext.substr(start, yy_.yyleng - end);\n\t            }\n\n\t            var YYSTATE = YY_START;\n\t            switch ($avoiding_name_collisions) {\n\t                case 0:\n\t                    if (yy_.yytext.slice(-2) === \"\\\\\\\\\") {\n\t                        strip(0, 1);\n\t                        this.begin(\"mu\");\n\t                    } else if (yy_.yytext.slice(-1) === \"\\\\\") {\n\t                        strip(0, 1);\n\t                        this.begin(\"emu\");\n\t                    } else {\n\t                        this.begin(\"mu\");\n\t                    }\n\t                    if (yy_.yytext) return 15;\n\n\t                    break;\n\t                case 1:\n\t                    return 15;\n\t                    break;\n\t                case 2:\n\t                    this.popState();\n\t                    return 15;\n\n\t                    break;\n\t                case 3:\n\t                    this.begin('raw');return 15;\n\t                    break;\n\t                case 4:\n\t                    this.popState();\n\t                    // Should be using `this.topState()` below, but it currently\n\t                    // returns the second top instead of the first top. Opened an\n\t                    // issue about it at https://github.com/zaach/jison/issues/291\n\t                    if (this.conditionStack[this.conditionStack.length - 1] === 'raw') {\n\t                        return 15;\n\t                    } else {\n\t                        yy_.yytext = yy_.yytext.substr(5, yy_.yyleng - 9);\n\t                        return 'END_RAW_BLOCK';\n\t                    }\n\n\t                    break;\n\t                case 5:\n\t                    return 15;\n\t                    break;\n\t                case 6:\n\t                    this.popState();\n\t                    return 14;\n\n\t                    break;\n\t                case 7:\n\t                    return 65;\n\t                    break;\n\t                case 8:\n\t                    return 68;\n\t                    break;\n\t                case 9:\n\t                    return 19;\n\t                    break;\n\t                case 10:\n\t                    this.popState();\n\t                    this.begin('raw');\n\t                    return 23;\n\n\t                    break;\n\t                case 11:\n\t                    return 55;\n\t                    break;\n\t                case 12:\n\t                    return 60;\n\t                    break;\n\t                case 13:\n\t                    return 29;\n\t                    break;\n\t                case 14:\n\t                    return 47;\n\t                    break;\n\t                case 15:\n\t                    this.popState();return 44;\n\t                    break;\n\t                case 16:\n\t                    this.popState();return 44;\n\t                    break;\n\t                case 17:\n\t                    return 34;\n\t                    break;\n\t                case 18:\n\t                    return 39;\n\t                    break;\n\t                case 19:\n\t                    return 51;\n\t                    break;\n\t                case 20:\n\t                    return 48;\n\t                    break;\n\t                case 21:\n\t                    this.unput(yy_.yytext);\n\t                    this.popState();\n\t                    this.begin('com');\n\n\t                    break;\n\t                case 22:\n\t                    this.popState();\n\t                    return 14;\n\n\t                    break;\n\t                case 23:\n\t                    return 48;\n\t                    break;\n\t                case 24:\n\t                    return 73;\n\t                    break;\n\t                case 25:\n\t                    return 72;\n\t                    break;\n\t                case 26:\n\t                    return 72;\n\t                    break;\n\t                case 27:\n\t                    return 87;\n\t                    break;\n\t                case 28:\n\t                    // ignore whitespace\n\t                    break;\n\t                case 29:\n\t                    this.popState();return 54;\n\t                    break;\n\t                case 30:\n\t                    this.popState();return 33;\n\t                    break;\n\t                case 31:\n\t                    yy_.yytext = strip(1, 2).replace(/\\\\\"/g, '\"');return 80;\n\t                    break;\n\t                case 32:\n\t                    yy_.yytext = strip(1, 2).replace(/\\\\'/g, \"'\");return 80;\n\t                    break;\n\t                case 33:\n\t                    return 85;\n\t                    break;\n\t                case 34:\n\t                    return 82;\n\t                    break;\n\t                case 35:\n\t                    return 82;\n\t                    break;\n\t                case 36:\n\t                    return 83;\n\t                    break;\n\t                case 37:\n\t                    return 84;\n\t                    break;\n\t                case 38:\n\t                    return 81;\n\t                    break;\n\t                case 39:\n\t                    return 75;\n\t                    break;\n\t                case 40:\n\t                    return 77;\n\t                    break;\n\t                case 41:\n\t                    return 72;\n\t                    break;\n\t                case 42:\n\t                    yy_.yytext = yy_.yytext.replace(/\\\\([\\\\\\]])/g, '$1');return 72;\n\t                    break;\n\t                case 43:\n\t                    return 'INVALID';\n\t                    break;\n\t                case 44:\n\t                    return 5;\n\t                    break;\n\t            }\n\t        };\n\t        lexer.rules = [/^(?:[^\\x00]*?(?=(\\{\\{)))/, /^(?:[^\\x00]+)/, /^(?:[^\\x00]{2,}?(?=(\\{\\{|\\\\\\{\\{|\\\\\\\\\\{\\{|$)))/, /^(?:\\{\\{\\{\\{(?=[^\\/]))/, /^(?:\\{\\{\\{\\{\\/[^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=[=}\\s\\/.])\\}\\}\\}\\})/, /^(?:[^\\x00]*?(?=(\\{\\{\\{\\{)))/, /^(?:[\\s\\S]*?--(~)?\\}\\})/, /^(?:\\()/, /^(?:\\))/, /^(?:\\{\\{\\{\\{)/, /^(?:\\}\\}\\}\\})/, /^(?:\\{\\{(~)?>)/, /^(?:\\{\\{(~)?#>)/, /^(?:\\{\\{(~)?#\\*?)/, /^(?:\\{\\{(~)?\\/)/, /^(?:\\{\\{(~)?\\^\\s*(~)?\\}\\})/, /^(?:\\{\\{(~)?\\s*else\\s*(~)?\\}\\})/, /^(?:\\{\\{(~)?\\^)/, /^(?:\\{\\{(~)?\\s*else\\b)/, /^(?:\\{\\{(~)?\\{)/, /^(?:\\{\\{(~)?&)/, /^(?:\\{\\{(~)?!--)/, /^(?:\\{\\{(~)?![\\s\\S]*?\\}\\})/, /^(?:\\{\\{(~)?\\*?)/, /^(?:=)/, /^(?:\\.\\.)/, /^(?:\\.(?=([=~}\\s\\/.)|])))/, /^(?:[\\/.])/, /^(?:\\s+)/, /^(?:\\}(~)?\\}\\})/, /^(?:(~)?\\}\\})/, /^(?:\"(\\\\[\"]|[^\"])*\")/, /^(?:'(\\\\[']|[^'])*')/, /^(?:@)/, /^(?:true(?=([~}\\s)])))/, /^(?:false(?=([~}\\s)])))/, /^(?:undefined(?=([~}\\s)])))/, /^(?:null(?=([~}\\s)])))/, /^(?:-?[0-9]+(?:\\.[0-9]+)?(?=([~}\\s)])))/, /^(?:as\\s+\\|)/, /^(?:\\|)/, /^(?:([^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=([=~}\\s\\/.)|]))))/, /^(?:\\[(\\\\\\]|[^\\]])*\\])/, /^(?:.)/, /^(?:$)/];\n\t        lexer.conditions = { \"mu\": { \"rules\": [7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44], \"inclusive\": false }, \"emu\": { \"rules\": [2], \"inclusive\": false }, \"com\": { \"rules\": [6], \"inclusive\": false }, \"raw\": { \"rules\": [3, 4, 5], \"inclusive\": false }, \"INITIAL\": { \"rules\": [0, 1, 44], \"inclusive\": true } };\n\t        return lexer;\n\t    })();\n\t    parser.lexer = lexer;\n\t    function Parser() {\n\t        this.yy = {};\n\t    }Parser.prototype = parser;parser.Parser = Parser;\n\t    return new Parser();\n\t})();exports[\"default\"] = handlebars;\n\tmodule.exports = exports[\"default\"];\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\n\n\texports.__esModule = true;\n\n\tvar _visitor = __webpack_require__(39);\n\n\tvar _visitor2 = _interopRequireDefault(_visitor);\n\n\tfunction WhitespaceControl() {\n\t  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n\t  this.options = options;\n\t}\n\tWhitespaceControl.prototype = new _visitor2['default']();\n\n\tWhitespaceControl.prototype.Program = function (program) {\n\t  var doStandalone = !this.options.ignoreStandalone;\n\n\t  var isRoot = !this.isRootSeen;\n\t  this.isRootSeen = true;\n\n\t  var body = program.body;\n\t  for (var i = 0, l = body.length; i < l; i++) {\n\t    var current = body[i],\n\t        strip = this.accept(current);\n\n\t    if (!strip) {\n\t      continue;\n\t    }\n\n\t    var _isPrevWhitespace = isPrevWhitespace(body, i, isRoot),\n\t        _isNextWhitespace = isNextWhitespace(body, i, isRoot),\n\t        openStandalone = strip.openStandalone && _isPrevWhitespace,\n\t        closeStandalone = strip.closeStandalone && _isNextWhitespace,\n\t        inlineStandalone = strip.inlineStandalone && _isPrevWhitespace && _isNextWhitespace;\n\n\t    if (strip.close) {\n\t      omitRight(body, i, true);\n\t    }\n\t    if (strip.open) {\n\t      omitLeft(body, i, true);\n\t    }\n\n\t    if (doStandalone && inlineStandalone) {\n\t      omitRight(body, i);\n\n\t      if (omitLeft(body, i)) {\n\t        // If we are on a standalone node, save the indent info for partials\n\t        if (current.type === 'PartialStatement') {\n\t          // Pull out the whitespace from the final line\n\t          current.indent = /([ \\t]+$)/.exec(body[i - 1].original)[1];\n\t        }\n\t      }\n\t    }\n\t    if (doStandalone && openStandalone) {\n\t      omitRight((current.program || current.inverse).body);\n\n\t      // Strip out the previous content node if it's whitespace only\n\t      omitLeft(body, i);\n\t    }\n\t    if (doStandalone && closeStandalone) {\n\t      // Always strip the next node\n\t      omitRight(body, i);\n\n\t      omitLeft((current.inverse || current.program).body);\n\t    }\n\t  }\n\n\t  return program;\n\t};\n\n\tWhitespaceControl.prototype.BlockStatement = WhitespaceControl.prototype.DecoratorBlock = WhitespaceControl.prototype.PartialBlockStatement = function (block) {\n\t  this.accept(block.program);\n\t  this.accept(block.inverse);\n\n\t  // Find the inverse program that is involed with whitespace stripping.\n\t  var program = block.program || block.inverse,\n\t      inverse = block.program && block.inverse,\n\t      firstInverse = inverse,\n\t      lastInverse = inverse;\n\n\t  if (inverse && inverse.chained) {\n\t    firstInverse = inverse.body[0].program;\n\n\t    // Walk the inverse chain to find the last inverse that is actually in the chain.\n\t    while (lastInverse.chained) {\n\t      lastInverse = lastInverse.body[lastInverse.body.length - 1].program;\n\t    }\n\t  }\n\n\t  var strip = {\n\t    open: block.openStrip.open,\n\t    close: block.closeStrip.close,\n\n\t    // Determine the standalone candiacy. Basically flag our content as being possibly standalone\n\t    // so our parent can determine if we actually are standalone\n\t    openStandalone: isNextWhitespace(program.body),\n\t    closeStandalone: isPrevWhitespace((firstInverse || program).body)\n\t  };\n\n\t  if (block.openStrip.close) {\n\t    omitRight(program.body, null, true);\n\t  }\n\n\t  if (inverse) {\n\t    var inverseStrip = block.inverseStrip;\n\n\t    if (inverseStrip.open) {\n\t      omitLeft(program.body, null, true);\n\t    }\n\n\t    if (inverseStrip.close) {\n\t      omitRight(firstInverse.body, null, true);\n\t    }\n\t    if (block.closeStrip.open) {\n\t      omitLeft(lastInverse.body, null, true);\n\t    }\n\n\t    // Find standalone else statments\n\t    if (!this.options.ignoreStandalone && isPrevWhitespace(program.body) && isNextWhitespace(firstInverse.body)) {\n\t      omitLeft(program.body);\n\t      omitRight(firstInverse.body);\n\t    }\n\t  } else if (block.closeStrip.open) {\n\t    omitLeft(program.body, null, true);\n\t  }\n\n\t  return strip;\n\t};\n\n\tWhitespaceControl.prototype.Decorator = WhitespaceControl.prototype.MustacheStatement = function (mustache) {\n\t  return mustache.strip;\n\t};\n\n\tWhitespaceControl.prototype.PartialStatement = WhitespaceControl.prototype.CommentStatement = function (node) {\n\t  /* istanbul ignore next */\n\t  var strip = node.strip || {};\n\t  return {\n\t    inlineStandalone: true,\n\t    open: strip.open,\n\t    close: strip.close\n\t  };\n\t};\n\n\tfunction isPrevWhitespace(body, i, isRoot) {\n\t  if (i === undefined) {\n\t    i = body.length;\n\t  }\n\n\t  // Nodes that end with newlines are considered whitespace (but are special\n\t  // cased for strip operations)\n\t  var prev = body[i - 1],\n\t      sibling = body[i - 2];\n\t  if (!prev) {\n\t    return isRoot;\n\t  }\n\n\t  if (prev.type === 'ContentStatement') {\n\t    return (sibling || !isRoot ? /\\r?\\n\\s*?$/ : /(^|\\r?\\n)\\s*?$/).test(prev.original);\n\t  }\n\t}\n\tfunction isNextWhitespace(body, i, isRoot) {\n\t  if (i === undefined) {\n\t    i = -1;\n\t  }\n\n\t  var next = body[i + 1],\n\t      sibling = body[i + 2];\n\t  if (!next) {\n\t    return isRoot;\n\t  }\n\n\t  if (next.type === 'ContentStatement') {\n\t    return (sibling || !isRoot ? /^\\s*?\\r?\\n/ : /^\\s*?(\\r?\\n|$)/).test(next.original);\n\t  }\n\t}\n\n\t// Marks the node to the right of the position as omitted.\n\t// I.e. {{foo}}' ' will mark the ' ' node as omitted.\n\t//\n\t// If i is undefined, then the first child will be marked as such.\n\t//\n\t// If mulitple is truthy then all whitespace will be stripped out until non-whitespace\n\t// content is met.\n\tfunction omitRight(body, i, multiple) {\n\t  var current = body[i == null ? 0 : i + 1];\n\t  if (!current || current.type !== 'ContentStatement' || !multiple && current.rightStripped) {\n\t    return;\n\t  }\n\n\t  var original = current.value;\n\t  current.value = current.value.replace(multiple ? /^\\s+/ : /^[ \\t]*\\r?\\n?/, '');\n\t  current.rightStripped = current.value !== original;\n\t}\n\n\t// Marks the node to the left of the position as omitted.\n\t// I.e. ' '{{foo}} will mark the ' ' node as omitted.\n\t//\n\t// If i is undefined then the last child will be marked as such.\n\t//\n\t// If mulitple is truthy then all whitespace will be stripped out until non-whitespace\n\t// content is met.\n\tfunction omitLeft(body, i, multiple) {\n\t  var current = body[i == null ? body.length - 1 : i - 1];\n\t  if (!current || current.type !== 'ContentStatement' || !multiple && current.leftStripped) {\n\t    return;\n\t  }\n\n\t  // We omit the last node if it's whitespace only and not preceeded by a non-content node.\n\t  var original = current.value;\n\t  current.value = current.value.replace(multiple ? /\\s+$/ : /[ \\t]+$/, '');\n\t  current.leftStripped = current.value !== original;\n\t  return current.leftStripped;\n\t}\n\n\texports['default'] = WhitespaceControl;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\n\n\texports.__esModule = true;\n\n\tvar _exception = __webpack_require__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\tfunction Visitor() {\n\t  this.parents = [];\n\t}\n\n\tVisitor.prototype = {\n\t  constructor: Visitor,\n\t  mutating: false,\n\n\t  // Visits a given value. If mutating, will replace the value if necessary.\n\t  acceptKey: function acceptKey(node, name) {\n\t    var value = this.accept(node[name]);\n\t    if (this.mutating) {\n\t      // Hacky sanity check: This may have a few false positives for type for the helper\n\t      // methods but will generally do the right thing without a lot of overhead.\n\t      if (value && !Visitor.prototype[value.type]) {\n\t        throw new _exception2['default']('Unexpected node type \"' + value.type + '\" found when accepting ' + name + ' on ' + node.type);\n\t      }\n\t      node[name] = value;\n\t    }\n\t  },\n\n\t  // Performs an accept operation with added sanity check to ensure\n\t  // required keys are not removed.\n\t  acceptRequired: function acceptRequired(node, name) {\n\t    this.acceptKey(node, name);\n\n\t    if (!node[name]) {\n\t      throw new _exception2['default'](node.type + ' requires ' + name);\n\t    }\n\t  },\n\n\t  // Traverses a given array. If mutating, empty respnses will be removed\n\t  // for child elements.\n\t  acceptArray: function acceptArray(array) {\n\t    for (var i = 0, l = array.length; i < l; i++) {\n\t      this.acceptKey(array, i);\n\n\t      if (!array[i]) {\n\t        array.splice(i, 1);\n\t        i--;\n\t        l--;\n\t      }\n\t    }\n\t  },\n\n\t  accept: function accept(object) {\n\t    if (!object) {\n\t      return;\n\t    }\n\n\t    /* istanbul ignore next: Sanity code */\n\t    if (!this[object.type]) {\n\t      throw new _exception2['default']('Unknown type: ' + object.type, object);\n\t    }\n\n\t    if (this.current) {\n\t      this.parents.unshift(this.current);\n\t    }\n\t    this.current = object;\n\n\t    var ret = this[object.type](object);\n\n\t    this.current = this.parents.shift();\n\n\t    if (!this.mutating || ret) {\n\t      return ret;\n\t    } else if (ret !== false) {\n\t      return object;\n\t    }\n\t  },\n\n\t  Program: function Program(program) {\n\t    this.acceptArray(program.body);\n\t  },\n\n\t  MustacheStatement: visitSubExpression,\n\t  Decorator: visitSubExpression,\n\n\t  BlockStatement: visitBlock,\n\t  DecoratorBlock: visitBlock,\n\n\t  PartialStatement: visitPartial,\n\t  PartialBlockStatement: function PartialBlockStatement(partial) {\n\t    visitPartial.call(this, partial);\n\n\t    this.acceptKey(partial, 'program');\n\t  },\n\n\t  ContentStatement: function ContentStatement() /* content */{},\n\t  CommentStatement: function CommentStatement() /* comment */{},\n\n\t  SubExpression: visitSubExpression,\n\n\t  PathExpression: function PathExpression() /* path */{},\n\n\t  StringLiteral: function StringLiteral() /* string */{},\n\t  NumberLiteral: function NumberLiteral() /* number */{},\n\t  BooleanLiteral: function BooleanLiteral() /* bool */{},\n\t  UndefinedLiteral: function UndefinedLiteral() /* literal */{},\n\t  NullLiteral: function NullLiteral() /* literal */{},\n\n\t  Hash: function Hash(hash) {\n\t    this.acceptArray(hash.pairs);\n\t  },\n\t  HashPair: function HashPair(pair) {\n\t    this.acceptRequired(pair, 'value');\n\t  }\n\t};\n\n\tfunction visitSubExpression(mustache) {\n\t  this.acceptRequired(mustache, 'path');\n\t  this.acceptArray(mustache.params);\n\t  this.acceptKey(mustache, 'hash');\n\t}\n\tfunction visitBlock(block) {\n\t  visitSubExpression.call(this, block);\n\n\t  this.acceptKey(block, 'program');\n\t  this.acceptKey(block, 'inverse');\n\t}\n\tfunction visitPartial(partial) {\n\t  this.acceptRequired(partial, 'name');\n\t  this.acceptArray(partial.params);\n\t  this.acceptKey(partial, 'hash');\n\t}\n\n\texports['default'] = Visitor;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\n\n\texports.__esModule = true;\n\texports.SourceLocation = SourceLocation;\n\texports.id = id;\n\texports.stripFlags = stripFlags;\n\texports.stripComment = stripComment;\n\texports.preparePath = preparePath;\n\texports.prepareMustache = prepareMustache;\n\texports.prepareRawBlock = prepareRawBlock;\n\texports.prepareBlock = prepareBlock;\n\texports.prepareProgram = prepareProgram;\n\texports.preparePartialBlock = preparePartialBlock;\n\n\tvar _exception = __webpack_require__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\tfunction validateClose(open, close) {\n\t  close = close.path ? close.path.original : close;\n\n\t  if (open.path.original !== close) {\n\t    var errorNode = { loc: open.path.loc };\n\n\t    throw new _exception2['default'](open.path.original + \" doesn't match \" + close, errorNode);\n\t  }\n\t}\n\n\tfunction SourceLocation(source, locInfo) {\n\t  this.source = source;\n\t  this.start = {\n\t    line: locInfo.first_line,\n\t    column: locInfo.first_column\n\t  };\n\t  this.end = {\n\t    line: locInfo.last_line,\n\t    column: locInfo.last_column\n\t  };\n\t}\n\n\tfunction id(token) {\n\t  if (/^\\[.*\\]$/.test(token)) {\n\t    return token.substr(1, token.length - 2);\n\t  } else {\n\t    return token;\n\t  }\n\t}\n\n\tfunction stripFlags(open, close) {\n\t  return {\n\t    open: open.charAt(2) === '~',\n\t    close: close.charAt(close.length - 3) === '~'\n\t  };\n\t}\n\n\tfunction stripComment(comment) {\n\t  return comment.replace(/^\\{\\{~?\\!-?-?/, '').replace(/-?-?~?\\}\\}$/, '');\n\t}\n\n\tfunction preparePath(data, parts, loc) {\n\t  loc = this.locInfo(loc);\n\n\t  var original = data ? '@' : '',\n\t      dig = [],\n\t      depth = 0,\n\t      depthString = '';\n\n\t  for (var i = 0, l = parts.length; i < l; i++) {\n\t    var part = parts[i].part,\n\n\t    // If we have [] syntax then we do not treat path references as operators,\n\t    // i.e. foo.[this] resolves to approximately context.foo['this']\n\t    isLiteral = parts[i].original !== part;\n\t    original += (parts[i].separator || '') + part;\n\n\t    if (!isLiteral && (part === '..' || part === '.' || part === 'this')) {\n\t      if (dig.length > 0) {\n\t        throw new _exception2['default']('Invalid path: ' + original, { loc: loc });\n\t      } else if (part === '..') {\n\t        depth++;\n\t        depthString += '../';\n\t      }\n\t    } else {\n\t      dig.push(part);\n\t    }\n\t  }\n\n\t  return {\n\t    type: 'PathExpression',\n\t    data: data,\n\t    depth: depth,\n\t    parts: dig,\n\t    original: original,\n\t    loc: loc\n\t  };\n\t}\n\n\tfunction prepareMustache(path, params, hash, open, strip, locInfo) {\n\t  // Must use charAt to support IE pre-10\n\t  var escapeFlag = open.charAt(3) || open.charAt(2),\n\t      escaped = escapeFlag !== '{' && escapeFlag !== '&';\n\n\t  var decorator = /\\*/.test(open);\n\t  return {\n\t    type: decorator ? 'Decorator' : 'MustacheStatement',\n\t    path: path,\n\t    params: params,\n\t    hash: hash,\n\t    escaped: escaped,\n\t    strip: strip,\n\t    loc: this.locInfo(locInfo)\n\t  };\n\t}\n\n\tfunction prepareRawBlock(openRawBlock, contents, close, locInfo) {\n\t  validateClose(openRawBlock, close);\n\n\t  locInfo = this.locInfo(locInfo);\n\t  var program = {\n\t    type: 'Program',\n\t    body: contents,\n\t    strip: {},\n\t    loc: locInfo\n\t  };\n\n\t  return {\n\t    type: 'BlockStatement',\n\t    path: openRawBlock.path,\n\t    params: openRawBlock.params,\n\t    hash: openRawBlock.hash,\n\t    program: program,\n\t    openStrip: {},\n\t    inverseStrip: {},\n\t    closeStrip: {},\n\t    loc: locInfo\n\t  };\n\t}\n\n\tfunction prepareBlock(openBlock, program, inverseAndProgram, close, inverted, locInfo) {\n\t  if (close && close.path) {\n\t    validateClose(openBlock, close);\n\t  }\n\n\t  var decorator = /\\*/.test(openBlock.open);\n\n\t  program.blockParams = openBlock.blockParams;\n\n\t  var inverse = undefined,\n\t      inverseStrip = undefined;\n\n\t  if (inverseAndProgram) {\n\t    if (decorator) {\n\t      throw new _exception2['default']('Unexpected inverse block on decorator', inverseAndProgram);\n\t    }\n\n\t    if (inverseAndProgram.chain) {\n\t      inverseAndProgram.program.body[0].closeStrip = close.strip;\n\t    }\n\n\t    inverseStrip = inverseAndProgram.strip;\n\t    inverse = inverseAndProgram.program;\n\t  }\n\n\t  if (inverted) {\n\t    inverted = inverse;\n\t    inverse = program;\n\t    program = inverted;\n\t  }\n\n\t  return {\n\t    type: decorator ? 'DecoratorBlock' : 'BlockStatement',\n\t    path: openBlock.path,\n\t    params: openBlock.params,\n\t    hash: openBlock.hash,\n\t    program: program,\n\t    inverse: inverse,\n\t    openStrip: openBlock.strip,\n\t    inverseStrip: inverseStrip,\n\t    closeStrip: close && close.strip,\n\t    loc: this.locInfo(locInfo)\n\t  };\n\t}\n\n\tfunction prepareProgram(statements, loc) {\n\t  if (!loc && statements.length) {\n\t    var firstLoc = statements[0].loc,\n\t        lastLoc = statements[statements.length - 1].loc;\n\n\t    /* istanbul ignore else */\n\t    if (firstLoc && lastLoc) {\n\t      loc = {\n\t        source: firstLoc.source,\n\t        start: {\n\t          line: firstLoc.start.line,\n\t          column: firstLoc.start.column\n\t        },\n\t        end: {\n\t          line: lastLoc.end.line,\n\t          column: lastLoc.end.column\n\t        }\n\t      };\n\t    }\n\t  }\n\n\t  return {\n\t    type: 'Program',\n\t    body: statements,\n\t    strip: {},\n\t    loc: loc\n\t  };\n\t}\n\n\tfunction preparePartialBlock(open, program, close, locInfo) {\n\t  validateClose(open, close);\n\n\t  return {\n\t    type: 'PartialBlockStatement',\n\t    name: open.path,\n\t    params: open.params,\n\t    hash: open.hash,\n\t    program: program,\n\t    openStrip: open.strip,\n\t    closeStrip: close && close.strip,\n\t    loc: this.locInfo(locInfo)\n\t  };\n\t}\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* eslint-disable new-cap */\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\n\n\texports.__esModule = true;\n\texports.Compiler = Compiler;\n\texports.precompile = precompile;\n\texports.compile = compile;\n\n\tvar _exception = __webpack_require__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\tvar _utils = __webpack_require__(5);\n\n\tvar _ast = __webpack_require__(35);\n\n\tvar _ast2 = _interopRequireDefault(_ast);\n\n\tvar slice = [].slice;\n\n\tfunction Compiler() {}\n\n\t// the foundHelper register will disambiguate helper lookup from finding a\n\t// function in a context. This is necessary for mustache compatibility, which\n\t// requires that context functions in blocks are evaluated by blockHelperMissing,\n\t// and then proceed as if the resulting value was provided to blockHelperMissing.\n\n\tCompiler.prototype = {\n\t  compiler: Compiler,\n\n\t  equals: function equals(other) {\n\t    var len = this.opcodes.length;\n\t    if (other.opcodes.length !== len) {\n\t      return false;\n\t    }\n\n\t    for (var i = 0; i < len; i++) {\n\t      var opcode = this.opcodes[i],\n\t          otherOpcode = other.opcodes[i];\n\t      if (opcode.opcode !== otherOpcode.opcode || !argEquals(opcode.args, otherOpcode.args)) {\n\t        return false;\n\t      }\n\t    }\n\n\t    // We know that length is the same between the two arrays because they are directly tied\n\t    // to the opcode behavior above.\n\t    len = this.children.length;\n\t    for (var i = 0; i < len; i++) {\n\t      if (!this.children[i].equals(other.children[i])) {\n\t        return false;\n\t      }\n\t    }\n\n\t    return true;\n\t  },\n\n\t  guid: 0,\n\n\t  compile: function compile(program, options) {\n\t    this.sourceNode = [];\n\t    this.opcodes = [];\n\t    this.children = [];\n\t    this.options = options;\n\t    this.stringParams = options.stringParams;\n\t    this.trackIds = options.trackIds;\n\n\t    options.blockParams = options.blockParams || [];\n\n\t    // These changes will propagate to the other compiler components\n\t    var knownHelpers = options.knownHelpers;\n\t    options.knownHelpers = {\n\t      'helperMissing': true,\n\t      'blockHelperMissing': true,\n\t      'each': true,\n\t      'if': true,\n\t      'unless': true,\n\t      'with': true,\n\t      'log': true,\n\t      'lookup': true\n\t    };\n\t    if (knownHelpers) {\n\t      for (var _name in knownHelpers) {\n\t        /* istanbul ignore else */\n\t        if (_name in knownHelpers) {\n\t          this.options.knownHelpers[_name] = knownHelpers[_name];\n\t        }\n\t      }\n\t    }\n\n\t    return this.accept(program);\n\t  },\n\n\t  compileProgram: function compileProgram(program) {\n\t    var childCompiler = new this.compiler(),\n\t        // eslint-disable-line new-cap\n\t    result = childCompiler.compile(program, this.options),\n\t        guid = this.guid++;\n\n\t    this.usePartial = this.usePartial || result.usePartial;\n\n\t    this.children[guid] = result;\n\t    this.useDepths = this.useDepths || result.useDepths;\n\n\t    return guid;\n\t  },\n\n\t  accept: function accept(node) {\n\t    /* istanbul ignore next: Sanity code */\n\t    if (!this[node.type]) {\n\t      throw new _exception2['default']('Unknown type: ' + node.type, node);\n\t    }\n\n\t    this.sourceNode.unshift(node);\n\t    var ret = this[node.type](node);\n\t    this.sourceNode.shift();\n\t    return ret;\n\t  },\n\n\t  Program: function Program(program) {\n\t    this.options.blockParams.unshift(program.blockParams);\n\n\t    var body = program.body,\n\t        bodyLength = body.length;\n\t    for (var i = 0; i < bodyLength; i++) {\n\t      this.accept(body[i]);\n\t    }\n\n\t    this.options.blockParams.shift();\n\n\t    this.isSimple = bodyLength === 1;\n\t    this.blockParams = program.blockParams ? program.blockParams.length : 0;\n\n\t    return this;\n\t  },\n\n\t  BlockStatement: function BlockStatement(block) {\n\t    transformLiteralToPath(block);\n\n\t    var program = block.program,\n\t        inverse = block.inverse;\n\n\t    program = program && this.compileProgram(program);\n\t    inverse = inverse && this.compileProgram(inverse);\n\n\t    var type = this.classifySexpr(block);\n\n\t    if (type === 'helper') {\n\t      this.helperSexpr(block, program, inverse);\n\t    } else if (type === 'simple') {\n\t      this.simpleSexpr(block);\n\n\t      // now that the simple mustache is resolved, we need to\n\t      // evaluate it by executing `blockHelperMissing`\n\t      this.opcode('pushProgram', program);\n\t      this.opcode('pushProgram', inverse);\n\t      this.opcode('emptyHash');\n\t      this.opcode('blockValue', block.path.original);\n\t    } else {\n\t      this.ambiguousSexpr(block, program, inverse);\n\n\t      // now that the simple mustache is resolved, we need to\n\t      // evaluate it by executing `blockHelperMissing`\n\t      this.opcode('pushProgram', program);\n\t      this.opcode('pushProgram', inverse);\n\t      this.opcode('emptyHash');\n\t      this.opcode('ambiguousBlockValue');\n\t    }\n\n\t    this.opcode('append');\n\t  },\n\n\t  DecoratorBlock: function DecoratorBlock(decorator) {\n\t    var program = decorator.program && this.compileProgram(decorator.program);\n\t    var params = this.setupFullMustacheParams(decorator, program, undefined),\n\t        path = decorator.path;\n\n\t    this.useDecorators = true;\n\t    this.opcode('registerDecorator', params.length, path.original);\n\t  },\n\n\t  PartialStatement: function PartialStatement(partial) {\n\t    this.usePartial = true;\n\n\t    var program = partial.program;\n\t    if (program) {\n\t      program = this.compileProgram(partial.program);\n\t    }\n\n\t    var params = partial.params;\n\t    if (params.length > 1) {\n\t      throw new _exception2['default']('Unsupported number of partial arguments: ' + params.length, partial);\n\t    } else if (!params.length) {\n\t      if (this.options.explicitPartialContext) {\n\t        this.opcode('pushLiteral', 'undefined');\n\t      } else {\n\t        params.push({ type: 'PathExpression', parts: [], depth: 0 });\n\t      }\n\t    }\n\n\t    var partialName = partial.name.original,\n\t        isDynamic = partial.name.type === 'SubExpression';\n\t    if (isDynamic) {\n\t      this.accept(partial.name);\n\t    }\n\n\t    this.setupFullMustacheParams(partial, program, undefined, true);\n\n\t    var indent = partial.indent || '';\n\t    if (this.options.preventIndent && indent) {\n\t      this.opcode('appendContent', indent);\n\t      indent = '';\n\t    }\n\n\t    this.opcode('invokePartial', isDynamic, partialName, indent);\n\t    this.opcode('append');\n\t  },\n\t  PartialBlockStatement: function PartialBlockStatement(partialBlock) {\n\t    this.PartialStatement(partialBlock);\n\t  },\n\n\t  MustacheStatement: function MustacheStatement(mustache) {\n\t    this.SubExpression(mustache);\n\n\t    if (mustache.escaped && !this.options.noEscape) {\n\t      this.opcode('appendEscaped');\n\t    } else {\n\t      this.opcode('append');\n\t    }\n\t  },\n\t  Decorator: function Decorator(decorator) {\n\t    this.DecoratorBlock(decorator);\n\t  },\n\n\t  ContentStatement: function ContentStatement(content) {\n\t    if (content.value) {\n\t      this.opcode('appendContent', content.value);\n\t    }\n\t  },\n\n\t  CommentStatement: function CommentStatement() {},\n\n\t  SubExpression: function SubExpression(sexpr) {\n\t    transformLiteralToPath(sexpr);\n\t    var type = this.classifySexpr(sexpr);\n\n\t    if (type === 'simple') {\n\t      this.simpleSexpr(sexpr);\n\t    } else if (type === 'helper') {\n\t      this.helperSexpr(sexpr);\n\t    } else {\n\t      this.ambiguousSexpr(sexpr);\n\t    }\n\t  },\n\t  ambiguousSexpr: function ambiguousSexpr(sexpr, program, inverse) {\n\t    var path = sexpr.path,\n\t        name = path.parts[0],\n\t        isBlock = program != null || inverse != null;\n\n\t    this.opcode('getContext', path.depth);\n\n\t    this.opcode('pushProgram', program);\n\t    this.opcode('pushProgram', inverse);\n\n\t    path.strict = true;\n\t    this.accept(path);\n\n\t    this.opcode('invokeAmbiguous', name, isBlock);\n\t  },\n\n\t  simpleSexpr: function simpleSexpr(sexpr) {\n\t    var path = sexpr.path;\n\t    path.strict = true;\n\t    this.accept(path);\n\t    this.opcode('resolvePossibleLambda');\n\t  },\n\n\t  helperSexpr: function helperSexpr(sexpr, program, inverse) {\n\t    var params = this.setupFullMustacheParams(sexpr, program, inverse),\n\t        path = sexpr.path,\n\t        name = path.parts[0];\n\n\t    if (this.options.knownHelpers[name]) {\n\t      this.opcode('invokeKnownHelper', params.length, name);\n\t    } else if (this.options.knownHelpersOnly) {\n\t      throw new _exception2['default']('You specified knownHelpersOnly, but used the unknown helper ' + name, sexpr);\n\t    } else {\n\t      path.strict = true;\n\t      path.falsy = true;\n\n\t      this.accept(path);\n\t      this.opcode('invokeHelper', params.length, path.original, _ast2['default'].helpers.simpleId(path));\n\t    }\n\t  },\n\n\t  PathExpression: function PathExpression(path) {\n\t    this.addDepth(path.depth);\n\t    this.opcode('getContext', path.depth);\n\n\t    var name = path.parts[0],\n\t        scoped = _ast2['default'].helpers.scopedId(path),\n\t        blockParamId = !path.depth && !scoped && this.blockParamIndex(name);\n\n\t    if (blockParamId) {\n\t      this.opcode('lookupBlockParam', blockParamId, path.parts);\n\t    } else if (!name) {\n\t      // Context reference, i.e. `{{foo .}}` or `{{foo ..}}`\n\t      this.opcode('pushContext');\n\t    } else if (path.data) {\n\t      this.options.data = true;\n\t      this.opcode('lookupData', path.depth, path.parts, path.strict);\n\t    } else {\n\t      this.opcode('lookupOnContext', path.parts, path.falsy, path.strict, scoped);\n\t    }\n\t  },\n\n\t  StringLiteral: function StringLiteral(string) {\n\t    this.opcode('pushString', string.value);\n\t  },\n\n\t  NumberLiteral: function NumberLiteral(number) {\n\t    this.opcode('pushLiteral', number.value);\n\t  },\n\n\t  BooleanLiteral: function BooleanLiteral(bool) {\n\t    this.opcode('pushLiteral', bool.value);\n\t  },\n\n\t  UndefinedLiteral: function UndefinedLiteral() {\n\t    this.opcode('pushLiteral', 'undefined');\n\t  },\n\n\t  NullLiteral: function NullLiteral() {\n\t    this.opcode('pushLiteral', 'null');\n\t  },\n\n\t  Hash: function Hash(hash) {\n\t    var pairs = hash.pairs,\n\t        i = 0,\n\t        l = pairs.length;\n\n\t    this.opcode('pushHash');\n\n\t    for (; i < l; i++) {\n\t      this.pushParam(pairs[i].value);\n\t    }\n\t    while (i--) {\n\t      this.opcode('assignToHash', pairs[i].key);\n\t    }\n\t    this.opcode('popHash');\n\t  },\n\n\t  // HELPERS\n\t  opcode: function opcode(name) {\n\t    this.opcodes.push({ opcode: name, args: slice.call(arguments, 1), loc: this.sourceNode[0].loc });\n\t  },\n\n\t  addDepth: function addDepth(depth) {\n\t    if (!depth) {\n\t      return;\n\t    }\n\n\t    this.useDepths = true;\n\t  },\n\n\t  classifySexpr: function classifySexpr(sexpr) {\n\t    var isSimple = _ast2['default'].helpers.simpleId(sexpr.path);\n\n\t    var isBlockParam = isSimple && !!this.blockParamIndex(sexpr.path.parts[0]);\n\n\t    // a mustache is an eligible helper if:\n\t    // * its id is simple (a single part, not `this` or `..`)\n\t    var isHelper = !isBlockParam && _ast2['default'].helpers.helperExpression(sexpr);\n\n\t    // if a mustache is an eligible helper but not a definite\n\t    // helper, it is ambiguous, and will be resolved in a later\n\t    // pass or at runtime.\n\t    var isEligible = !isBlockParam && (isHelper || isSimple);\n\n\t    // if ambiguous, we can possibly resolve the ambiguity now\n\t    // An eligible helper is one that does not have a complex path, i.e. `this.foo`, `../foo` etc.\n\t    if (isEligible && !isHelper) {\n\t      var _name2 = sexpr.path.parts[0],\n\t          options = this.options;\n\n\t      if (options.knownHelpers[_name2]) {\n\t        isHelper = true;\n\t      } else if (options.knownHelpersOnly) {\n\t        isEligible = false;\n\t      }\n\t    }\n\n\t    if (isHelper) {\n\t      return 'helper';\n\t    } else if (isEligible) {\n\t      return 'ambiguous';\n\t    } else {\n\t      return 'simple';\n\t    }\n\t  },\n\n\t  pushParams: function pushParams(params) {\n\t    for (var i = 0, l = params.length; i < l; i++) {\n\t      this.pushParam(params[i]);\n\t    }\n\t  },\n\n\t  pushParam: function pushParam(val) {\n\t    var value = val.value != null ? val.value : val.original || '';\n\n\t    if (this.stringParams) {\n\t      if (value.replace) {\n\t        value = value.replace(/^(\\.?\\.\\/)*/g, '').replace(/\\//g, '.');\n\t      }\n\n\t      if (val.depth) {\n\t        this.addDepth(val.depth);\n\t      }\n\t      this.opcode('getContext', val.depth || 0);\n\t      this.opcode('pushStringParam', value, val.type);\n\n\t      if (val.type === 'SubExpression') {\n\t        // SubExpressions get evaluated and passed in\n\t        // in string params mode.\n\t        this.accept(val);\n\t      }\n\t    } else {\n\t      if (this.trackIds) {\n\t        var blockParamIndex = undefined;\n\t        if (val.parts && !_ast2['default'].helpers.scopedId(val) && !val.depth) {\n\t          blockParamIndex = this.blockParamIndex(val.parts[0]);\n\t        }\n\t        if (blockParamIndex) {\n\t          var blockParamChild = val.parts.slice(1).join('.');\n\t          this.opcode('pushId', 'BlockParam', blockParamIndex, blockParamChild);\n\t        } else {\n\t          value = val.original || value;\n\t          if (value.replace) {\n\t            value = value.replace(/^this(?:\\.|$)/, '').replace(/^\\.\\//, '').replace(/^\\.$/, '');\n\t          }\n\n\t          this.opcode('pushId', val.type, value);\n\t        }\n\t      }\n\t      this.accept(val);\n\t    }\n\t  },\n\n\t  setupFullMustacheParams: function setupFullMustacheParams(sexpr, program, inverse, omitEmpty) {\n\t    var params = sexpr.params;\n\t    this.pushParams(params);\n\n\t    this.opcode('pushProgram', program);\n\t    this.opcode('pushProgram', inverse);\n\n\t    if (sexpr.hash) {\n\t      this.accept(sexpr.hash);\n\t    } else {\n\t      this.opcode('emptyHash', omitEmpty);\n\t    }\n\n\t    return params;\n\t  },\n\n\t  blockParamIndex: function blockParamIndex(name) {\n\t    for (var depth = 0, len = this.options.blockParams.length; depth < len; depth++) {\n\t      var blockParams = this.options.blockParams[depth],\n\t          param = blockParams && _utils.indexOf(blockParams, name);\n\t      if (blockParams && param >= 0) {\n\t        return [depth, param];\n\t      }\n\t    }\n\t  }\n\t};\n\n\tfunction precompile(input, options, env) {\n\t  if (input == null || typeof input !== 'string' && input.type !== 'Program') {\n\t    throw new _exception2['default']('You must pass a string or Handlebars AST to Handlebars.precompile. You passed ' + input);\n\t  }\n\n\t  options = options || {};\n\t  if (!('data' in options)) {\n\t    options.data = true;\n\t  }\n\t  if (options.compat) {\n\t    options.useDepths = true;\n\t  }\n\n\t  var ast = env.parse(input, options),\n\t      environment = new env.Compiler().compile(ast, options);\n\t  return new env.JavaScriptCompiler().compile(environment, options);\n\t}\n\n\tfunction compile(input, options, env) {\n\t  if (options === undefined) options = {};\n\n\t  if (input == null || typeof input !== 'string' && input.type !== 'Program') {\n\t    throw new _exception2['default']('You must pass a string or Handlebars AST to Handlebars.compile. You passed ' + input);\n\t  }\n\n\t  options = _utils.extend({}, options);\n\t  if (!('data' in options)) {\n\t    options.data = true;\n\t  }\n\t  if (options.compat) {\n\t    options.useDepths = true;\n\t  }\n\n\t  var compiled = undefined;\n\n\t  function compileInput() {\n\t    var ast = env.parse(input, options),\n\t        environment = new env.Compiler().compile(ast, options),\n\t        templateSpec = new env.JavaScriptCompiler().compile(environment, options, undefined, true);\n\t    return env.template(templateSpec);\n\t  }\n\n\t  // Template is only compiled on first use and cached after that point.\n\t  function ret(context, execOptions) {\n\t    if (!compiled) {\n\t      compiled = compileInput();\n\t    }\n\t    return compiled.call(this, context, execOptions);\n\t  }\n\t  ret._setup = function (setupOptions) {\n\t    if (!compiled) {\n\t      compiled = compileInput();\n\t    }\n\t    return compiled._setup(setupOptions);\n\t  };\n\t  ret._child = function (i, data, blockParams, depths) {\n\t    if (!compiled) {\n\t      compiled = compileInput();\n\t    }\n\t    return compiled._child(i, data, blockParams, depths);\n\t  };\n\t  return ret;\n\t}\n\n\tfunction argEquals(a, b) {\n\t  if (a === b) {\n\t    return true;\n\t  }\n\n\t  if (_utils.isArray(a) && _utils.isArray(b) && a.length === b.length) {\n\t    for (var i = 0; i < a.length; i++) {\n\t      if (!argEquals(a[i], b[i])) {\n\t        return false;\n\t      }\n\t    }\n\t    return true;\n\t  }\n\t}\n\n\tfunction transformLiteralToPath(sexpr) {\n\t  if (!sexpr.path.parts) {\n\t    var literal = sexpr.path;\n\t    // Casting to string here to make false and 0 literal values play nicely with the rest\n\t    // of the system.\n\t    sexpr.path = {\n\t      type: 'PathExpression',\n\t      data: false,\n\t      depth: 0,\n\t      parts: [literal.original + ''],\n\t      original: literal.original + '',\n\t      loc: literal.loc\n\t    };\n\t  }\n\t}\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\n\n\texports.__esModule = true;\n\n\tvar _base = __webpack_require__(4);\n\n\tvar _exception = __webpack_require__(6);\n\n\tvar _exception2 = _interopRequireDefault(_exception);\n\n\tvar _utils = __webpack_require__(5);\n\n\tvar _codeGen = __webpack_require__(43);\n\n\tvar _codeGen2 = _interopRequireDefault(_codeGen);\n\n\tfunction Literal(value) {\n\t  this.value = value;\n\t}\n\n\tfunction JavaScriptCompiler() {}\n\n\tJavaScriptCompiler.prototype = {\n\t  // PUBLIC API: You can override these methods in a subclass to provide\n\t  // alternative compiled forms for name lookup and buffering semantics\n\t  nameLookup: function nameLookup(parent, name /* , type*/) {\n\t    if (JavaScriptCompiler.isValidJavaScriptVariableName(name)) {\n\t      return [parent, '.', name];\n\t    } else {\n\t      return [parent, '[', JSON.stringify(name), ']'];\n\t    }\n\t  },\n\t  depthedLookup: function depthedLookup(name) {\n\t    return [this.aliasable('container.lookup'), '(depths, \"', name, '\")'];\n\t  },\n\n\t  compilerInfo: function compilerInfo() {\n\t    var revision = _base.COMPILER_REVISION,\n\t        versions = _base.REVISION_CHANGES[revision];\n\t    return [revision, versions];\n\t  },\n\n\t  appendToBuffer: function appendToBuffer(source, location, explicit) {\n\t    // Force a source as this simplifies the merge logic.\n\t    if (!_utils.isArray(source)) {\n\t      source = [source];\n\t    }\n\t    source = this.source.wrap(source, location);\n\n\t    if (this.environment.isSimple) {\n\t      return ['return ', source, ';'];\n\t    } else if (explicit) {\n\t      // This is a case where the buffer operation occurs as a child of another\n\t      // construct, generally braces. We have to explicitly output these buffer\n\t      // operations to ensure that the emitted code goes in the correct location.\n\t      return ['buffer += ', source, ';'];\n\t    } else {\n\t      source.appendToBuffer = true;\n\t      return source;\n\t    }\n\t  },\n\n\t  initializeBuffer: function initializeBuffer() {\n\t    return this.quotedString('');\n\t  },\n\t  // END PUBLIC API\n\n\t  compile: function compile(environment, options, context, asObject) {\n\t    this.environment = environment;\n\t    this.options = options;\n\t    this.stringParams = this.options.stringParams;\n\t    this.trackIds = this.options.trackIds;\n\t    this.precompile = !asObject;\n\n\t    this.name = this.environment.name;\n\t    this.isChild = !!context;\n\t    this.context = context || {\n\t      decorators: [],\n\t      programs: [],\n\t      environments: []\n\t    };\n\n\t    this.preamble();\n\n\t    this.stackSlot = 0;\n\t    this.stackVars = [];\n\t    this.aliases = {};\n\t    this.registers = { list: [] };\n\t    this.hashes = [];\n\t    this.compileStack = [];\n\t    this.inlineStack = [];\n\t    this.blockParams = [];\n\n\t    this.compileChildren(environment, options);\n\n\t    this.useDepths = this.useDepths || environment.useDepths || environment.useDecorators || this.options.compat;\n\t    this.useBlockParams = this.useBlockParams || environment.useBlockParams;\n\n\t    var opcodes = environment.opcodes,\n\t        opcode = undefined,\n\t        firstLoc = undefined,\n\t        i = undefined,\n\t        l = undefined;\n\n\t    for (i = 0, l = opcodes.length; i < l; i++) {\n\t      opcode = opcodes[i];\n\n\t      this.source.currentLocation = opcode.loc;\n\t      firstLoc = firstLoc || opcode.loc;\n\t      this[opcode.opcode].apply(this, opcode.args);\n\t    }\n\n\t    // Flush any trailing content that might be pending.\n\t    this.source.currentLocation = firstLoc;\n\t    this.pushSource('');\n\n\t    /* istanbul ignore next */\n\t    if (this.stackSlot || this.inlineStack.length || this.compileStack.length) {\n\t      throw new _exception2['default']('Compile completed with content left on stack');\n\t    }\n\n\t    if (!this.decorators.isEmpty()) {\n\t      this.useDecorators = true;\n\n\t      this.decorators.prepend('var decorators = container.decorators;\\n');\n\t      this.decorators.push('return fn;');\n\n\t      if (asObject) {\n\t        this.decorators = Function.apply(this, ['fn', 'props', 'container', 'depth0', 'data', 'blockParams', 'depths', this.decorators.merge()]);\n\t      } else {\n\t        this.decorators.prepend('function(fn, props, container, depth0, data, blockParams, depths) {\\n');\n\t        this.decorators.push('}\\n');\n\t        this.decorators = this.decorators.merge();\n\t      }\n\t    } else {\n\t      this.decorators = undefined;\n\t    }\n\n\t    var fn = this.createFunctionContext(asObject);\n\t    if (!this.isChild) {\n\t      var ret = {\n\t        compiler: this.compilerInfo(),\n\t        main: fn\n\t      };\n\n\t      if (this.decorators) {\n\t        ret.main_d = this.decorators; // eslint-disable-line camelcase\n\t        ret.useDecorators = true;\n\t      }\n\n\t      var _context = this.context;\n\t      var programs = _context.programs;\n\t      var decorators = _context.decorators;\n\n\t      for (i = 0, l = programs.length; i < l; i++) {\n\t        if (programs[i]) {\n\t          ret[i] = programs[i];\n\t          if (decorators[i]) {\n\t            ret[i + '_d'] = decorators[i];\n\t            ret.useDecorators = true;\n\t          }\n\t        }\n\t      }\n\n\t      if (this.environment.usePartial) {\n\t        ret.usePartial = true;\n\t      }\n\t      if (this.options.data) {\n\t        ret.useData = true;\n\t      }\n\t      if (this.useDepths) {\n\t        ret.useDepths = true;\n\t      }\n\t      if (this.useBlockParams) {\n\t        ret.useBlockParams = true;\n\t      }\n\t      if (this.options.compat) {\n\t        ret.compat = true;\n\t      }\n\n\t      if (!asObject) {\n\t        ret.compiler = JSON.stringify(ret.compiler);\n\n\t        this.source.currentLocation = { start: { line: 1, column: 0 } };\n\t        ret = this.objectLiteral(ret);\n\n\t        if (options.srcName) {\n\t          ret = ret.toStringWithSourceMap({ file: options.destName });\n\t          ret.map = ret.map && ret.map.toString();\n\t        } else {\n\t          ret = ret.toString();\n\t        }\n\t      } else {\n\t        ret.compilerOptions = this.options;\n\t      }\n\n\t      return ret;\n\t    } else {\n\t      return fn;\n\t    }\n\t  },\n\n\t  preamble: function preamble() {\n\t    // track the last context pushed into place to allow skipping the\n\t    // getContext opcode when it would be a noop\n\t    this.lastContext = 0;\n\t    this.source = new _codeGen2['default'](this.options.srcName);\n\t    this.decorators = new _codeGen2['default'](this.options.srcName);\n\t  },\n\n\t  createFunctionContext: function createFunctionContext(asObject) {\n\t    var varDeclarations = '';\n\n\t    var locals = this.stackVars.concat(this.registers.list);\n\t    if (locals.length > 0) {\n\t      varDeclarations += ', ' + locals.join(', ');\n\t    }\n\n\t    // Generate minimizer alias mappings\n\t    //\n\t    // When using true SourceNodes, this will update all references to the given alias\n\t    // as the source nodes are reused in situ. For the non-source node compilation mode,\n\t    // aliases will not be used, but this case is already being run on the client and\n\t    // we aren't concern about minimizing the template size.\n\t    var aliasCount = 0;\n\t    for (var alias in this.aliases) {\n\t      // eslint-disable-line guard-for-in\n\t      var node = this.aliases[alias];\n\n\t      if (this.aliases.hasOwnProperty(alias) && node.children && node.referenceCount > 1) {\n\t        varDeclarations += ', alias' + ++aliasCount + '=' + alias;\n\t        node.children[0] = 'alias' + aliasCount;\n\t      }\n\t    }\n\n\t    var params = ['container', 'depth0', 'helpers', 'partials', 'data'];\n\n\t    if (this.useBlockParams || this.useDepths) {\n\t      params.push('blockParams');\n\t    }\n\t    if (this.useDepths) {\n\t      params.push('depths');\n\t    }\n\n\t    // Perform a second pass over the output to merge content when possible\n\t    var source = this.mergeSource(varDeclarations);\n\n\t    if (asObject) {\n\t      params.push(source);\n\n\t      return Function.apply(this, params);\n\t    } else {\n\t      return this.source.wrap(['function(', params.join(','), ') {\\n  ', source, '}']);\n\t    }\n\t  },\n\t  mergeSource: function mergeSource(varDeclarations) {\n\t    var isSimple = this.environment.isSimple,\n\t        appendOnly = !this.forceBuffer,\n\t        appendFirst = undefined,\n\t        sourceSeen = undefined,\n\t        bufferStart = undefined,\n\t        bufferEnd = undefined;\n\t    this.source.each(function (line) {\n\t      if (line.appendToBuffer) {\n\t        if (bufferStart) {\n\t          line.prepend('  + ');\n\t        } else {\n\t          bufferStart = line;\n\t        }\n\t        bufferEnd = line;\n\t      } else {\n\t        if (bufferStart) {\n\t          if (!sourceSeen) {\n\t            appendFirst = true;\n\t          } else {\n\t            bufferStart.prepend('buffer += ');\n\t          }\n\t          bufferEnd.add(';');\n\t          bufferStart = bufferEnd = undefined;\n\t        }\n\n\t        sourceSeen = true;\n\t        if (!isSimple) {\n\t          appendOnly = false;\n\t        }\n\t      }\n\t    });\n\n\t    if (appendOnly) {\n\t      if (bufferStart) {\n\t        bufferStart.prepend('return ');\n\t        bufferEnd.add(';');\n\t      } else if (!sourceSeen) {\n\t        this.source.push('return \"\";');\n\t      }\n\t    } else {\n\t      varDeclarations += ', buffer = ' + (appendFirst ? '' : this.initializeBuffer());\n\n\t      if (bufferStart) {\n\t        bufferStart.prepend('return buffer + ');\n\t        bufferEnd.add(';');\n\t      } else {\n\t        this.source.push('return buffer;');\n\t      }\n\t    }\n\n\t    if (varDeclarations) {\n\t      this.source.prepend('var ' + varDeclarations.substring(2) + (appendFirst ? '' : ';\\n'));\n\t    }\n\n\t    return this.source.merge();\n\t  },\n\n\t  // [blockValue]\n\t  //\n\t  // On stack, before: hash, inverse, program, value\n\t  // On stack, after: return value of blockHelperMissing\n\t  //\n\t  // The purpose of this opcode is to take a block of the form\n\t  // `{{#this.foo}}...{{/this.foo}}`, resolve the value of `foo`, and\n\t  // replace it on the stack with the result of properly\n\t  // invoking blockHelperMissing.\n\t  blockValue: function blockValue(name) {\n\t    var blockHelperMissing = this.aliasable('helpers.blockHelperMissing'),\n\t        params = [this.contextName(0)];\n\t    this.setupHelperArgs(name, 0, params);\n\n\t    var blockName = this.popStack();\n\t    params.splice(1, 0, blockName);\n\n\t    this.push(this.source.functionCall(blockHelperMissing, 'call', params));\n\t  },\n\n\t  // [ambiguousBlockValue]\n\t  //\n\t  // On stack, before: hash, inverse, program, value\n\t  // Compiler value, before: lastHelper=value of last found helper, if any\n\t  // On stack, after, if no lastHelper: same as [blockValue]\n\t  // On stack, after, if lastHelper: value\n\t  ambiguousBlockValue: function ambiguousBlockValue() {\n\t    // We're being a bit cheeky and reusing the options value from the prior exec\n\t    var blockHelperMissing = this.aliasable('helpers.blockHelperMissing'),\n\t        params = [this.contextName(0)];\n\t    this.setupHelperArgs('', 0, params, true);\n\n\t    this.flushInline();\n\n\t    var current = this.topStack();\n\t    params.splice(1, 0, current);\n\n\t    this.pushSource(['if (!', this.lastHelper, ') { ', current, ' = ', this.source.functionCall(blockHelperMissing, 'call', params), '}']);\n\t  },\n\n\t  // [appendContent]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: ...\n\t  //\n\t  // Appends the string value of `content` to the current buffer\n\t  appendContent: function appendContent(content) {\n\t    if (this.pendingContent) {\n\t      content = this.pendingContent + content;\n\t    } else {\n\t      this.pendingLocation = this.source.currentLocation;\n\t    }\n\n\t    this.pendingContent = content;\n\t  },\n\n\t  // [append]\n\t  //\n\t  // On stack, before: value, ...\n\t  // On stack, after: ...\n\t  //\n\t  // Coerces `value` to a String and appends it to the current buffer.\n\t  //\n\t  // If `value` is truthy, or 0, it is coerced into a string and appended\n\t  // Otherwise, the empty string is appended\n\t  append: function append() {\n\t    if (this.isInline()) {\n\t      this.replaceStack(function (current) {\n\t        return [' != null ? ', current, ' : \"\"'];\n\t      });\n\n\t      this.pushSource(this.appendToBuffer(this.popStack()));\n\t    } else {\n\t      var local = this.popStack();\n\t      this.pushSource(['if (', local, ' != null) { ', this.appendToBuffer(local, undefined, true), ' }']);\n\t      if (this.environment.isSimple) {\n\t        this.pushSource(['else { ', this.appendToBuffer(\"''\", undefined, true), ' }']);\n\t      }\n\t    }\n\t  },\n\n\t  // [appendEscaped]\n\t  //\n\t  // On stack, before: value, ...\n\t  // On stack, after: ...\n\t  //\n\t  // Escape `value` and append it to the buffer\n\t  appendEscaped: function appendEscaped() {\n\t    this.pushSource(this.appendToBuffer([this.aliasable('container.escapeExpression'), '(', this.popStack(), ')']));\n\t  },\n\n\t  // [getContext]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: ...\n\t  // Compiler value, after: lastContext=depth\n\t  //\n\t  // Set the value of the `lastContext` compiler value to the depth\n\t  getContext: function getContext(depth) {\n\t    this.lastContext = depth;\n\t  },\n\n\t  // [pushContext]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: currentContext, ...\n\t  //\n\t  // Pushes the value of the current context onto the stack.\n\t  pushContext: function pushContext() {\n\t    this.pushStackLiteral(this.contextName(this.lastContext));\n\t  },\n\n\t  // [lookupOnContext]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: currentContext[name], ...\n\t  //\n\t  // Looks up the value of `name` on the current context and pushes\n\t  // it onto the stack.\n\t  lookupOnContext: function lookupOnContext(parts, falsy, strict, scoped) {\n\t    var i = 0;\n\n\t    if (!scoped && this.options.compat && !this.lastContext) {\n\t      // The depthed query is expected to handle the undefined logic for the root level that\n\t      // is implemented below, so we evaluate that directly in compat mode\n\t      this.push(this.depthedLookup(parts[i++]));\n\t    } else {\n\t      this.pushContext();\n\t    }\n\n\t    this.resolvePath('context', parts, i, falsy, strict);\n\t  },\n\n\t  // [lookupBlockParam]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: blockParam[name], ...\n\t  //\n\t  // Looks up the value of `parts` on the given block param and pushes\n\t  // it onto the stack.\n\t  lookupBlockParam: function lookupBlockParam(blockParamId, parts) {\n\t    this.useBlockParams = true;\n\n\t    this.push(['blockParams[', blockParamId[0], '][', blockParamId[1], ']']);\n\t    this.resolvePath('context', parts, 1);\n\t  },\n\n\t  // [lookupData]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: data, ...\n\t  //\n\t  // Push the data lookup operator\n\t  lookupData: function lookupData(depth, parts, strict) {\n\t    if (!depth) {\n\t      this.pushStackLiteral('data');\n\t    } else {\n\t      this.pushStackLiteral('container.data(data, ' + depth + ')');\n\t    }\n\n\t    this.resolvePath('data', parts, 0, true, strict);\n\t  },\n\n\t  resolvePath: function resolvePath(type, parts, i, falsy, strict) {\n\t    // istanbul ignore next\n\n\t    var _this = this;\n\n\t    if (this.options.strict || this.options.assumeObjects) {\n\t      this.push(strictLookup(this.options.strict && strict, this, parts, type));\n\t      return;\n\t    }\n\n\t    var len = parts.length;\n\t    for (; i < len; i++) {\n\t      /* eslint-disable no-loop-func */\n\t      this.replaceStack(function (current) {\n\t        var lookup = _this.nameLookup(current, parts[i], type);\n\t        // We want to ensure that zero and false are handled properly if the context (falsy flag)\n\t        // needs to have the special handling for these values.\n\t        if (!falsy) {\n\t          return [' != null ? ', lookup, ' : ', current];\n\t        } else {\n\t          // Otherwise we can use generic falsy handling\n\t          return [' && ', lookup];\n\t        }\n\t      });\n\t      /* eslint-enable no-loop-func */\n\t    }\n\t  },\n\n\t  // [resolvePossibleLambda]\n\t  //\n\t  // On stack, before: value, ...\n\t  // On stack, after: resolved value, ...\n\t  //\n\t  // If the `value` is a lambda, replace it on the stack by\n\t  // the return value of the lambda\n\t  resolvePossibleLambda: function resolvePossibleLambda() {\n\t    this.push([this.aliasable('container.lambda'), '(', this.popStack(), ', ', this.contextName(0), ')']);\n\t  },\n\n\t  // [pushStringParam]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: string, currentContext, ...\n\t  //\n\t  // This opcode is designed for use in string mode, which\n\t  // provides the string value of a parameter along with its\n\t  // depth rather than resolving it immediately.\n\t  pushStringParam: function pushStringParam(string, type) {\n\t    this.pushContext();\n\t    this.pushString(type);\n\n\t    // If it's a subexpression, the string result\n\t    // will be pushed after this opcode.\n\t    if (type !== 'SubExpression') {\n\t      if (typeof string === 'string') {\n\t        this.pushString(string);\n\t      } else {\n\t        this.pushStackLiteral(string);\n\t      }\n\t    }\n\t  },\n\n\t  emptyHash: function emptyHash(omitEmpty) {\n\t    if (this.trackIds) {\n\t      this.push('{}'); // hashIds\n\t    }\n\t    if (this.stringParams) {\n\t      this.push('{}'); // hashContexts\n\t      this.push('{}'); // hashTypes\n\t    }\n\t    this.pushStackLiteral(omitEmpty ? 'undefined' : '{}');\n\t  },\n\t  pushHash: function pushHash() {\n\t    if (this.hash) {\n\t      this.hashes.push(this.hash);\n\t    }\n\t    this.hash = { values: [], types: [], contexts: [], ids: [] };\n\t  },\n\t  popHash: function popHash() {\n\t    var hash = this.hash;\n\t    this.hash = this.hashes.pop();\n\n\t    if (this.trackIds) {\n\t      this.push(this.objectLiteral(hash.ids));\n\t    }\n\t    if (this.stringParams) {\n\t      this.push(this.objectLiteral(hash.contexts));\n\t      this.push(this.objectLiteral(hash.types));\n\t    }\n\n\t    this.push(this.objectLiteral(hash.values));\n\t  },\n\n\t  // [pushString]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: quotedString(string), ...\n\t  //\n\t  // Push a quoted version of `string` onto the stack\n\t  pushString: function pushString(string) {\n\t    this.pushStackLiteral(this.quotedString(string));\n\t  },\n\n\t  // [pushLiteral]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: value, ...\n\t  //\n\t  // Pushes a value onto the stack. This operation prevents\n\t  // the compiler from creating a temporary variable to hold\n\t  // it.\n\t  pushLiteral: function pushLiteral(value) {\n\t    this.pushStackLiteral(value);\n\t  },\n\n\t  // [pushProgram]\n\t  //\n\t  // On stack, before: ...\n\t  // On stack, after: program(guid), ...\n\t  //\n\t  // Push a program expression onto the stack. This takes\n\t  // a compile-time guid and converts it into a runtime-accessible\n\t  // expression.\n\t  pushProgram: function pushProgram(guid) {\n\t    if (guid != null) {\n\t      this.pushStackLiteral(this.programExpression(guid));\n\t    } else {\n\t      this.pushStackLiteral(null);\n\t    }\n\t  },\n\n\t  // [registerDecorator]\n\t  //\n\t  // On stack, before: hash, program, params..., ...\n\t  // On stack, after: ...\n\t  //\n\t  // Pops off the decorator's parameters, invokes the decorator,\n\t  // and inserts the decorator into the decorators list.\n\t  registerDecorator: function registerDecorator(paramSize, name) {\n\t    var foundDecorator = this.nameLookup('decorators', name, 'decorator'),\n\t        options = this.setupHelperArgs(name, paramSize);\n\n\t    this.decorators.push(['fn = ', this.decorators.functionCall(foundDecorator, '', ['fn', 'props', 'container', options]), ' || fn;']);\n\t  },\n\n\t  // [invokeHelper]\n\t  //\n\t  // On stack, before: hash, inverse, program, params..., ...\n\t  // On stack, after: result of helper invocation\n\t  //\n\t  // Pops off the helper's parameters, invokes the helper,\n\t  // and pushes the helper's return value onto the stack.\n\t  //\n\t  // If the helper is not found, `helperMissing` is called.\n\t  invokeHelper: function invokeHelper(paramSize, name, isSimple) {\n\t    var nonHelper = this.popStack(),\n\t        helper = this.setupHelper(paramSize, name),\n\t        simple = isSimple ? [helper.name, ' || '] : '';\n\n\t    var lookup = ['('].concat(simple, nonHelper);\n\t    if (!this.options.strict) {\n\t      lookup.push(' || ', this.aliasable('helpers.helperMissing'));\n\t    }\n\t    lookup.push(')');\n\n\t    this.push(this.source.functionCall(lookup, 'call', helper.callParams));\n\t  },\n\n\t  // [invokeKnownHelper]\n\t  //\n\t  // On stack, before: hash, inverse, program, params..., ...\n\t  // On stack, after: result of helper invocation\n\t  //\n\t  // This operation is used when the helper is known to exist,\n\t  // so a `helperMissing` fallback is not required.\n\t  invokeKnownHelper: function invokeKnownHelper(paramSize, name) {\n\t    var helper = this.setupHelper(paramSize, name);\n\t    this.push(this.source.functionCall(helper.name, 'call', helper.callParams));\n\t  },\n\n\t  // [invokeAmbiguous]\n\t  //\n\t  // On stack, before: hash, inverse, program, params..., ...\n\t  // On stack, after: result of disambiguation\n\t  //\n\t  // This operation is used when an expression like `{{foo}}`\n\t  // is provided, but we don't know at compile-time whether it\n\t  // is a helper or a path.\n\t  //\n\t  // This operation emits more code than the other options,\n\t  // and can be avoided by passing the `knownHelpers` and\n\t  // `knownHelpersOnly` flags at compile-time.\n\t  invokeAmbiguous: function invokeAmbiguous(name, helperCall) {\n\t    this.useRegister('helper');\n\n\t    var nonHelper = this.popStack();\n\n\t    this.emptyHash();\n\t    var helper = this.setupHelper(0, name, helperCall);\n\n\t    var helperName = this.lastHelper = this.nameLookup('helpers', name, 'helper');\n\n\t    var lookup = ['(', '(helper = ', helperName, ' || ', nonHelper, ')'];\n\t    if (!this.options.strict) {\n\t      lookup[0] = '(helper = ';\n\t      lookup.push(' != null ? helper : ', this.aliasable('helpers.helperMissing'));\n\t    }\n\n\t    this.push(['(', lookup, helper.paramsInit ? ['),(', helper.paramsInit] : [], '),', '(typeof helper === ', this.aliasable('\"function\"'), ' ? ', this.source.functionCall('helper', 'call', helper.callParams), ' : helper))']);\n\t  },\n\n\t  // [invokePartial]\n\t  //\n\t  // On stack, before: context, ...\n\t  // On stack after: result of partial invocation\n\t  //\n\t  // This operation pops off a context, invokes a partial with that context,\n\t  // and pushes the result of the invocation back.\n\t  invokePartial: function invokePartial(isDynamic, name, indent) {\n\t    var params = [],\n\t        options = this.setupParams(name, 1, params);\n\n\t    if (isDynamic) {\n\t      name = this.popStack();\n\t      delete options.name;\n\t    }\n\n\t    if (indent) {\n\t      options.indent = JSON.stringify(indent);\n\t    }\n\t    options.helpers = 'helpers';\n\t    options.partials = 'partials';\n\t    options.decorators = 'container.decorators';\n\n\t    if (!isDynamic) {\n\t      params.unshift(this.nameLookup('partials', name, 'partial'));\n\t    } else {\n\t      params.unshift(name);\n\t    }\n\n\t    if (this.options.compat) {\n\t      options.depths = 'depths';\n\t    }\n\t    options = this.objectLiteral(options);\n\t    params.push(options);\n\n\t    this.push(this.source.functionCall('container.invokePartial', '', params));\n\t  },\n\n\t  // [assignToHash]\n\t  //\n\t  // On stack, before: value, ..., hash, ...\n\t  // On stack, after: ..., hash, ...\n\t  //\n\t  // Pops a value off the stack and assigns it to the current hash\n\t  assignToHash: function assignToHash(key) {\n\t    var value = this.popStack(),\n\t        context = undefined,\n\t        type = undefined,\n\t        id = undefined;\n\n\t    if (this.trackIds) {\n\t      id = this.popStack();\n\t    }\n\t    if (this.stringParams) {\n\t      type = this.popStack();\n\t      context = this.popStack();\n\t    }\n\n\t    var hash = this.hash;\n\t    if (context) {\n\t      hash.contexts[key] = context;\n\t    }\n\t    if (type) {\n\t      hash.types[key] = type;\n\t    }\n\t    if (id) {\n\t      hash.ids[key] = id;\n\t    }\n\t    hash.values[key] = value;\n\t  },\n\n\t  pushId: function pushId(type, name, child) {\n\t    if (type === 'BlockParam') {\n\t      this.pushStackLiteral('blockParams[' + name[0] + '].path[' + name[1] + ']' + (child ? ' + ' + JSON.stringify('.' + child) : ''));\n\t    } else if (type === 'PathExpression') {\n\t      this.pushString(name);\n\t    } else if (type === 'SubExpression') {\n\t      this.pushStackLiteral('true');\n\t    } else {\n\t      this.pushStackLiteral('null');\n\t    }\n\t  },\n\n\t  // HELPERS\n\n\t  compiler: JavaScriptCompiler,\n\n\t  compileChildren: function compileChildren(environment, options) {\n\t    var children = environment.children,\n\t        child = undefined,\n\t        compiler = undefined;\n\n\t    for (var i = 0, l = children.length; i < l; i++) {\n\t      child = children[i];\n\t      compiler = new this.compiler(); // eslint-disable-line new-cap\n\n\t      var existing = this.matchExistingProgram(child);\n\n\t      if (existing == null) {\n\t        this.context.programs.push(''); // Placeholder to prevent name conflicts for nested children\n\t        var index = this.context.programs.length;\n\t        child.index = index;\n\t        child.name = 'program' + index;\n\t        this.context.programs[index] = compiler.compile(child, options, this.context, !this.precompile);\n\t        this.context.decorators[index] = compiler.decorators;\n\t        this.context.environments[index] = child;\n\n\t        this.useDepths = this.useDepths || compiler.useDepths;\n\t        this.useBlockParams = this.useBlockParams || compiler.useBlockParams;\n\t        child.useDepths = this.useDepths;\n\t        child.useBlockParams = this.useBlockParams;\n\t      } else {\n\t        child.index = existing.index;\n\t        child.name = 'program' + existing.index;\n\n\t        this.useDepths = this.useDepths || existing.useDepths;\n\t        this.useBlockParams = this.useBlockParams || existing.useBlockParams;\n\t      }\n\t    }\n\t  },\n\t  matchExistingProgram: function matchExistingProgram(child) {\n\t    for (var i = 0, len = this.context.environments.length; i < len; i++) {\n\t      var environment = this.context.environments[i];\n\t      if (environment && environment.equals(child)) {\n\t        return environment;\n\t      }\n\t    }\n\t  },\n\n\t  programExpression: function programExpression(guid) {\n\t    var child = this.environment.children[guid],\n\t        programParams = [child.index, 'data', child.blockParams];\n\n\t    if (this.useBlockParams || this.useDepths) {\n\t      programParams.push('blockParams');\n\t    }\n\t    if (this.useDepths) {\n\t      programParams.push('depths');\n\t    }\n\n\t    return 'container.program(' + programParams.join(', ') + ')';\n\t  },\n\n\t  useRegister: function useRegister(name) {\n\t    if (!this.registers[name]) {\n\t      this.registers[name] = true;\n\t      this.registers.list.push(name);\n\t    }\n\t  },\n\n\t  push: function push(expr) {\n\t    if (!(expr instanceof Literal)) {\n\t      expr = this.source.wrap(expr);\n\t    }\n\n\t    this.inlineStack.push(expr);\n\t    return expr;\n\t  },\n\n\t  pushStackLiteral: function pushStackLiteral(item) {\n\t    this.push(new Literal(item));\n\t  },\n\n\t  pushSource: function pushSource(source) {\n\t    if (this.pendingContent) {\n\t      this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent), this.pendingLocation));\n\t      this.pendingContent = undefined;\n\t    }\n\n\t    if (source) {\n\t      this.source.push(source);\n\t    }\n\t  },\n\n\t  replaceStack: function replaceStack(callback) {\n\t    var prefix = ['('],\n\t        stack = undefined,\n\t        createdStack = undefined,\n\t        usedLiteral = undefined;\n\n\t    /* istanbul ignore next */\n\t    if (!this.isInline()) {\n\t      throw new _exception2['default']('replaceStack on non-inline');\n\t    }\n\n\t    // We want to merge the inline statement into the replacement statement via ','\n\t    var top = this.popStack(true);\n\n\t    if (top instanceof Literal) {\n\t      // Literals do not need to be inlined\n\t      stack = [top.value];\n\t      prefix = ['(', stack];\n\t      usedLiteral = true;\n\t    } else {\n\t      // Get or create the current stack name for use by the inline\n\t      createdStack = true;\n\t      var _name = this.incrStack();\n\n\t      prefix = ['((', this.push(_name), ' = ', top, ')'];\n\t      stack = this.topStack();\n\t    }\n\n\t    var item = callback.call(this, stack);\n\n\t    if (!usedLiteral) {\n\t      this.popStack();\n\t    }\n\t    if (createdStack) {\n\t      this.stackSlot--;\n\t    }\n\t    this.push(prefix.concat(item, ')'));\n\t  },\n\n\t  incrStack: function incrStack() {\n\t    this.stackSlot++;\n\t    if (this.stackSlot > this.stackVars.length) {\n\t      this.stackVars.push('stack' + this.stackSlot);\n\t    }\n\t    return this.topStackName();\n\t  },\n\t  topStackName: function topStackName() {\n\t    return 'stack' + this.stackSlot;\n\t  },\n\t  flushInline: function flushInline() {\n\t    var inlineStack = this.inlineStack;\n\t    this.inlineStack = [];\n\t    for (var i = 0, len = inlineStack.length; i < len; i++) {\n\t      var entry = inlineStack[i];\n\t      /* istanbul ignore if */\n\t      if (entry instanceof Literal) {\n\t        this.compileStack.push(entry);\n\t      } else {\n\t        var stack = this.incrStack();\n\t        this.pushSource([stack, ' = ', entry, ';']);\n\t        this.compileStack.push(stack);\n\t      }\n\t    }\n\t  },\n\t  isInline: function isInline() {\n\t    return this.inlineStack.length;\n\t  },\n\n\t  popStack: function popStack(wrapped) {\n\t    var inline = this.isInline(),\n\t        item = (inline ? this.inlineStack : this.compileStack).pop();\n\n\t    if (!wrapped && item instanceof Literal) {\n\t      return item.value;\n\t    } else {\n\t      if (!inline) {\n\t        /* istanbul ignore next */\n\t        if (!this.stackSlot) {\n\t          throw new _exception2['default']('Invalid stack pop');\n\t        }\n\t        this.stackSlot--;\n\t      }\n\t      return item;\n\t    }\n\t  },\n\n\t  topStack: function topStack() {\n\t    var stack = this.isInline() ? this.inlineStack : this.compileStack,\n\t        item = stack[stack.length - 1];\n\n\t    /* istanbul ignore if */\n\t    if (item instanceof Literal) {\n\t      return item.value;\n\t    } else {\n\t      return item;\n\t    }\n\t  },\n\n\t  contextName: function contextName(context) {\n\t    if (this.useDepths && context) {\n\t      return 'depths[' + context + ']';\n\t    } else {\n\t      return 'depth' + context;\n\t    }\n\t  },\n\n\t  quotedString: function quotedString(str) {\n\t    return this.source.quotedString(str);\n\t  },\n\n\t  objectLiteral: function objectLiteral(obj) {\n\t    return this.source.objectLiteral(obj);\n\t  },\n\n\t  aliasable: function aliasable(name) {\n\t    var ret = this.aliases[name];\n\t    if (ret) {\n\t      ret.referenceCount++;\n\t      return ret;\n\t    }\n\n\t    ret = this.aliases[name] = this.source.wrap(name);\n\t    ret.aliasable = true;\n\t    ret.referenceCount = 1;\n\n\t    return ret;\n\t  },\n\n\t  setupHelper: function setupHelper(paramSize, name, blockHelper) {\n\t    var params = [],\n\t        paramsInit = this.setupHelperArgs(name, paramSize, params, blockHelper);\n\t    var foundHelper = this.nameLookup('helpers', name, 'helper'),\n\t        callContext = this.aliasable(this.contextName(0) + ' != null ? ' + this.contextName(0) + ' : (container.nullContext || {})');\n\n\t    return {\n\t      params: params,\n\t      paramsInit: paramsInit,\n\t      name: foundHelper,\n\t      callParams: [callContext].concat(params)\n\t    };\n\t  },\n\n\t  setupParams: function setupParams(helper, paramSize, params) {\n\t    var options = {},\n\t        contexts = [],\n\t        types = [],\n\t        ids = [],\n\t        objectArgs = !params,\n\t        param = undefined;\n\n\t    if (objectArgs) {\n\t      params = [];\n\t    }\n\n\t    options.name = this.quotedString(helper);\n\t    options.hash = this.popStack();\n\n\t    if (this.trackIds) {\n\t      options.hashIds = this.popStack();\n\t    }\n\t    if (this.stringParams) {\n\t      options.hashTypes = this.popStack();\n\t      options.hashContexts = this.popStack();\n\t    }\n\n\t    var inverse = this.popStack(),\n\t        program = this.popStack();\n\n\t    // Avoid setting fn and inverse if neither are set. This allows\n\t    // helpers to do a check for `if (options.fn)`\n\t    if (program || inverse) {\n\t      options.fn = program || 'container.noop';\n\t      options.inverse = inverse || 'container.noop';\n\t    }\n\n\t    // The parameters go on to the stack in order (making sure that they are evaluated in order)\n\t    // so we need to pop them off the stack in reverse order\n\t    var i = paramSize;\n\t    while (i--) {\n\t      param = this.popStack();\n\t      params[i] = param;\n\n\t      if (this.trackIds) {\n\t        ids[i] = this.popStack();\n\t      }\n\t      if (this.stringParams) {\n\t        types[i] = this.popStack();\n\t        contexts[i] = this.popStack();\n\t      }\n\t    }\n\n\t    if (objectArgs) {\n\t      options.args = this.source.generateArray(params);\n\t    }\n\n\t    if (this.trackIds) {\n\t      options.ids = this.source.generateArray(ids);\n\t    }\n\t    if (this.stringParams) {\n\t      options.types = this.source.generateArray(types);\n\t      options.contexts = this.source.generateArray(contexts);\n\t    }\n\n\t    if (this.options.data) {\n\t      options.data = 'data';\n\t    }\n\t    if (this.useBlockParams) {\n\t      options.blockParams = 'blockParams';\n\t    }\n\t    return options;\n\t  },\n\n\t  setupHelperArgs: function setupHelperArgs(helper, paramSize, params, useRegister) {\n\t    var options = this.setupParams(helper, paramSize, params);\n\t    options = this.objectLiteral(options);\n\t    if (useRegister) {\n\t      this.useRegister('options');\n\t      params.push('options');\n\t      return ['options=', options];\n\t    } else if (params) {\n\t      params.push(options);\n\t      return '';\n\t    } else {\n\t      return options;\n\t    }\n\t  }\n\t};\n\n\t(function () {\n\t  var reservedWords = ('break else new var' + ' case finally return void' + ' catch for switch while' + ' continue function this with' + ' default if throw' + ' delete in try' + ' do instanceof typeof' + ' abstract enum int short' + ' boolean export interface static' + ' byte extends long super' + ' char final native synchronized' + ' class float package throws' + ' const goto private transient' + ' debugger implements protected volatile' + ' double import public let yield await' + ' null true false').split(' ');\n\n\t  var compilerWords = JavaScriptCompiler.RESERVED_WORDS = {};\n\n\t  for (var i = 0, l = reservedWords.length; i < l; i++) {\n\t    compilerWords[reservedWords[i]] = true;\n\t  }\n\t})();\n\n\tJavaScriptCompiler.isValidJavaScriptVariableName = function (name) {\n\t  return !JavaScriptCompiler.RESERVED_WORDS[name] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name);\n\t};\n\n\tfunction strictLookup(requireTerminal, compiler, parts, type) {\n\t  var stack = compiler.popStack(),\n\t      i = 0,\n\t      len = parts.length;\n\t  if (requireTerminal) {\n\t    len--;\n\t  }\n\n\t  for (; i < len; i++) {\n\t    stack = compiler.nameLookup(stack, parts[i], type);\n\t  }\n\n\t  if (requireTerminal) {\n\t    return [compiler.aliasable('container.strict'), '(', stack, ', ', compiler.quotedString(parts[i]), ')'];\n\t  } else {\n\t    return stack;\n\t  }\n\t}\n\n\texports['default'] = JavaScriptCompiler;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* global define */\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar _utils = __webpack_require__(5);\n\n\tvar SourceNode = undefined;\n\n\ttry {\n\t  /* istanbul ignore next */\n\t  if (false) {\n\t    // We don't support this in AMD environments. For these environments, we asusme that\n\t    // they are running on the browser and thus have no need for the source-map library.\n\t    var SourceMap = require('source-map');\n\t    SourceNode = SourceMap.SourceNode;\n\t  }\n\t} catch (err) {}\n\t/* NOP */\n\n\t/* istanbul ignore if: tested but not covered in istanbul due to dist build  */\n\tif (!SourceNode) {\n\t  SourceNode = function (line, column, srcFile, chunks) {\n\t    this.src = '';\n\t    if (chunks) {\n\t      this.add(chunks);\n\t    }\n\t  };\n\t  /* istanbul ignore next */\n\t  SourceNode.prototype = {\n\t    add: function add(chunks) {\n\t      if (_utils.isArray(chunks)) {\n\t        chunks = chunks.join('');\n\t      }\n\t      this.src += chunks;\n\t    },\n\t    prepend: function prepend(chunks) {\n\t      if (_utils.isArray(chunks)) {\n\t        chunks = chunks.join('');\n\t      }\n\t      this.src = chunks + this.src;\n\t    },\n\t    toStringWithSourceMap: function toStringWithSourceMap() {\n\t      return { code: this.toString() };\n\t    },\n\t    toString: function toString() {\n\t      return this.src;\n\t    }\n\t  };\n\t}\n\n\tfunction castChunk(chunk, codeGen, loc) {\n\t  if (_utils.isArray(chunk)) {\n\t    var ret = [];\n\n\t    for (var i = 0, len = chunk.length; i < len; i++) {\n\t      ret.push(codeGen.wrap(chunk[i], loc));\n\t    }\n\t    return ret;\n\t  } else if (typeof chunk === 'boolean' || typeof chunk === 'number') {\n\t    // Handle primitives that the SourceNode will throw up on\n\t    return chunk + '';\n\t  }\n\t  return chunk;\n\t}\n\n\tfunction CodeGen(srcFile) {\n\t  this.srcFile = srcFile;\n\t  this.source = [];\n\t}\n\n\tCodeGen.prototype = {\n\t  isEmpty: function isEmpty() {\n\t    return !this.source.length;\n\t  },\n\t  prepend: function prepend(source, loc) {\n\t    this.source.unshift(this.wrap(source, loc));\n\t  },\n\t  push: function push(source, loc) {\n\t    this.source.push(this.wrap(source, loc));\n\t  },\n\n\t  merge: function merge() {\n\t    var source = this.empty();\n\t    this.each(function (line) {\n\t      source.add(['  ', line, '\\n']);\n\t    });\n\t    return source;\n\t  },\n\n\t  each: function each(iter) {\n\t    for (var i = 0, len = this.source.length; i < len; i++) {\n\t      iter(this.source[i]);\n\t    }\n\t  },\n\n\t  empty: function empty() {\n\t    var loc = this.currentLocation || { start: {} };\n\t    return new SourceNode(loc.start.line, loc.start.column, this.srcFile);\n\t  },\n\t  wrap: function wrap(chunk) {\n\t    var loc = arguments.length <= 1 || arguments[1] === undefined ? this.currentLocation || { start: {} } : arguments[1];\n\n\t    if (chunk instanceof SourceNode) {\n\t      return chunk;\n\t    }\n\n\t    chunk = castChunk(chunk, this, loc);\n\n\t    return new SourceNode(loc.start.line, loc.start.column, this.srcFile, chunk);\n\t  },\n\n\t  functionCall: function functionCall(fn, type, params) {\n\t    params = this.generateList(params);\n\t    return this.wrap([fn, type ? '.' + type + '(' : '(', params, ')']);\n\t  },\n\n\t  quotedString: function quotedString(str) {\n\t    return '\"' + (str + '').replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r').replace(/\\u2028/g, '\\\\u2028') // Per Ecma-262 7.3 + 7.8.4\n\t    .replace(/\\u2029/g, '\\\\u2029') + '\"';\n\t  },\n\n\t  objectLiteral: function objectLiteral(obj) {\n\t    var pairs = [];\n\n\t    for (var key in obj) {\n\t      if (obj.hasOwnProperty(key)) {\n\t        var value = castChunk(obj[key], this);\n\t        if (value !== 'undefined') {\n\t          pairs.push([this.quotedString(key), ':', value]);\n\t        }\n\t      }\n\t    }\n\n\t    var ret = this.generateList(pairs);\n\t    ret.prepend('{');\n\t    ret.add('}');\n\t    return ret;\n\t  },\n\n\t  generateList: function generateList(entries) {\n\t    var ret = this.empty();\n\n\t    for (var i = 0, len = entries.length; i < len; i++) {\n\t      if (i) {\n\t        ret.add(',');\n\t      }\n\n\t      ret.add(castChunk(entries[i], this));\n\t    }\n\n\t    return ret;\n\t  },\n\n\t  generateArray: function generateArray(entries) {\n\t    var ret = this.generateList(entries);\n\t    ret.prepend('[');\n\t    ret.add(']');\n\n\t    return ret;\n\t  }\n\t};\n\n\texports['default'] = CodeGen;\n\tmodule.exports = exports['default'];\n\n/***/ })\n/******/ ])\n});\n;","module.exports = global[\"Handlebars\"] = require(\"-!.\\\\handlebars.js\");","/**\n * innerHTML property for SVGElement\n * Copyright(c) 2010, Jeff Schiller\n *\n * Licensed under the Apache License, Version 2\n *\n * Works in a SVG document in Chrome 6+, Safari 5+, Firefox 4+ and IE9+.\n * Works in a HTML5 document in Chrome 7+, Firefox 4+ and IE9+.\n * Does not work in Opera since it doesn't support the SVGElement interface yet.\n *\n * I haven't decided on the best name for this property - thus the duplication.\n */\n\n(function() {\nvar serializeXML = function(node, output) {\n  var nodeType = node.nodeType;\n  if (nodeType == 3) { // TEXT nodes.\n    // Replace special XML characters with their entities.\n    output.push(node.textContent.replace(/&/, '&amp;').replace(/</, '&lt;').replace('>', '&gt;'));\n  } else if (nodeType == 1) { // ELEMENT nodes.\n    // Serialize Element nodes.\n    output.push('<', node.tagName);\n    if (node.hasAttributes()) {\n      var attrMap = node.attributes;\n      for (var i = 0, len = attrMap.length; i < len; ++i) {\n        var attrNode = attrMap.item(i);\n        output.push(' ', attrNode.name, '=\\'', attrNode.value, '\\'');\n      }\n    }\n    if (node.hasChildNodes()) {\n      output.push('>');\n      var childNodes = node.childNodes;\n      for (var i = 0, len = childNodes.length; i < len; ++i) {\n        serializeXML(childNodes.item(i), output);\n      }\n      output.push('</', node.tagName, '>');\n    } else {\n      output.push('/>');\n    }\n  } else if (nodeType == 8) {\n    // TODO(codedread): Replace special characters with XML entities?\n    output.push('<!--', node.nodeValue, '-->');\n  } else {\n    // TODO: Handle CDATA nodes.\n    // TODO: Handle ENTITY nodes.\n    // TODO: Handle DOCUMENT nodes.\n    throw 'Error serializing XML. Unhandled node of type: ' + nodeType;\n  }\n}\n// The innerHTML DOM property for SVGElement.\nObject.defineProperty(SVGElement.prototype, 'innerHTML', {\n  get: function() {\n    var output = [];\n    var childNode = this.firstChild;\n    while (childNode) {\n      serializeXML(childNode, output);\n      childNode = childNode.nextSibling;\n    }\n    return output.join('');\n  },\n  set: function(markupText) {\n    // Wipe out the current contents of the element.\n    while (this.firstChild) {\n      this.removeChild(this.firstChild);\n    }\n\n    try {\n      // Parse the markup into valid nodes.\n      var dXML = new DOMParser();\n      dXML.async = false;\n      // Wrap the markup into a SVG node to ensure parsing works.\n      sXML = '<svg xmlns=\\'http://www.w3.org/2000/svg\\'>' + markupText + '</svg>';\n      var svgDocElement = dXML.parseFromString(sXML, 'text/xml').documentElement;\n\n      // Now take each node, import it and append to this element.\n      var childNode = svgDocElement.firstChild;\n      while(childNode) {\n        this.appendChild(this.ownerDocument.importNode(childNode, true));\n        childNode = childNode.nextSibling;\n      }\n    } catch(e) {\n      throw new Error('Error parsing XML string');\n    };\n  }\n});\n\n// The innerSVG DOM property for SVGElement.\nObject.defineProperty(SVGElement.prototype, 'innerSVG', {\n  get: function() {\n    return this.innerHTML;\n  },\n  set: function(markupText) {\n    this.innerHTML = markupText;\n  }\n});\n\n})();\n","/*!\n * jQuery JavaScript Library v3.3.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2018-01-20T17:24Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar document = window.document;\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar concat = arr.concat;\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n      // Support: Chrome <=57, Firefox <=52\n      // In some browsers, typeof returns \"function\" for HTML <object> elements\n      // (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n      // We don't want to classify *any* DOM node as a function.\n      return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, doc, node ) {\n\t\tdoc = doc || document;\n\n\t\tvar i,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\t\t\t\tif ( node[ i ] ) {\n\t\t\t\t\tscript[ i ] = node[ i ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar\n\tversion = \"3.3.1\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t},\n\n\t// Support: Android <=4.0 only\n\t// Make sure we trim BOM and NBSP\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tsrc = target[ name ];\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\n\t\t\t\t\tif ( copyIsArray ) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && Array.isArray( src ) ? src : [];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject( src ) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\n\t\t/* eslint-disable no-unused-vars */\n\t\t// See https://github.com/eslint/eslint/issues/6125\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a global context\n\tglobalEval: function( code ) {\n\t\tDOMEval( code );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// Support: Android <=4.0 only\n\ttrim: function( text ) {\n\t\treturn text == null ?\n\t\t\t\"\" :\n\t\t\t( text + \"\" ).replace( rtrim, \"\" );\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn concat.apply( [], ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\nfunction( i, name ) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.3\n * https://sizzlejs.com/\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2016-08-08\n */\n(function( window ) {\n\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ({}).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpush_native = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[i] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n\tidentifier = \"(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\n\t\t\"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\n\n\trattributeQuotes = new RegExp( \"=\" + whitespace + \"*([^\\\\]'\\\"]*?)\" + whitespace + \"*\\\\]\", \"g\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\n\tfunescape = function( _, escaped, escapedWhitespace ) {\n\t\tvar high = \"0x\" + escaped - 0x10000;\n\t\t// NaN means non-codepoint\n\t\t// Support: Firefox<24\n\t\t// Workaround erroneous numeric interpretation of +\"0x\"\n\t\treturn high !== high || escapedWhitespace ?\n\t\t\tescaped :\n\t\t\thigh < 0 ?\n\t\t\t\t// BMP codepoint\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tdisabledAncestor = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && (\"form\" in elem || \"label\" in elem);\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t(arr = slice.call( preferredDoc.childNodes )),\n\t\tpreferredDoc.childNodes\n\t);\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpush_native.apply( target, slice.call(els) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( (target[j++] = els[i++]) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\n\t\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\n\t\t\tsetDocument( context );\n\t\t}\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( (m = match[1]) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( (elem = context.getElementById( m )) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && (elem = newContext.getElementById( m )) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[2] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!compilerCache[ selector + \" \" ] &&\n\t\t\t\t(!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\n\n\t\t\t\tif ( nodeType !== 1 ) {\n\t\t\t\t\tnewContext = context;\n\t\t\t\t\tnewSelector = selector;\n\n\t\t\t\t// qSA looks outside Element context, which is not what we want\n\t\t\t\t// Thanks to Andrew Dupont for this workaround technique\n\t\t\t\t// Support: IE <=8\n\t\t\t\t// Exclude object elements\n\t\t\t\t} else if ( context.nodeName.toLowerCase() !== \"object\" ) {\n\n\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\tif ( (nid = context.getAttribute( \"id\" )) ) {\n\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontext.setAttribute( \"id\", (nid = expando) );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[i] = \"#\" + nid + \" \" + toSelector( groups[i] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\t\t\t\t}\n\n\t\t\t\tif ( newSelector ) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn (cache[ key + \" \" ] = value);\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement(\"fieldset\");\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split(\"|\"),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[i] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( (cur = cur.nextSibling) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\t\tdisabledAncestor( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction(function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction(function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\t// documentElement is verified for cases where it doesn't yet exist\n\t// (such as loading iframes in IE - #4833)\n\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\n\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9-11, Edge\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\tif ( preferredDoc !== document &&\n\t\t(subWindow = document.defaultView) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert(function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute(\"className\");\n\t});\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert(function( el ) {\n\t\tel.appendChild( document.createComment(\"\") );\n\t\treturn !el.getElementsByTagName(\"*\").length;\n\t});\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert(function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t});\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter[\"ID\"] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter[\"ID\"] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode(\"id\");\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode(\"id\");\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( (elem = elems[i++]) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode(\"id\");\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( (elem = results[i++]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( (support.qsa = rnative.test( document.querySelectorAll )) ) {\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert(function( el ) {\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll(\"[msallowcapture^='']\").length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll(\"[selected]\").length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push(\"~=\");\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll(\":checked\").length ) {\n\t\t\t\trbuggyQSA.push(\":checked\");\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push(\".#.+[+~]\");\n\t\t\t}\n\t\t});\n\n\t\tassert(function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll(\"[name=d]\").length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll(\":enabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll(\":disabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll(\"*,:x\");\n\t\t\trbuggyQSA.push(\",.*:\");\n\t\t});\n\t}\n\n\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector) )) ) {\n\n\t\tassert(function( el ) {\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t});\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t));\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( (b = b.parentNode) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\tif ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\t\t\treturn a === document ? -1 :\n\t\t\t\tb === document ? 1 :\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[i] === bp[i] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\tap[i] === preferredDoc ? -1 :\n\t\t\tbp[i] === preferredDoc ? 1 :\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\t// Make sure that attribute selectors are quoted\n\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!compilerCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch (e) {}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\t// Set document vars if needed\n\tif ( ( context.ownerDocument || context ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn (sel + \"\").replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( (elem = results[i++]) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( (node = elem[i++]) ) {\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[2] === \"~=\" ) {\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[1] = match[1].toLowerCase();\n\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[3] ) {\n\t\t\t\t\tSizzle.error( match[0] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[3] ) {\n\t\t\t\tSizzle.error( match[0] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[6] && match[2];\n\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[3] ) {\n\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() { return true; } :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== \"undefined\" && elem.getAttribute(\"class\") || \"\" );\n\t\t\t\t});\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[i] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction(function( selector ) {\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}) :\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tinput[0] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[0] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t}),\n\n\t\t\"has\": markFunction(function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t}),\n\n\t\t\"contains\": markFunction(function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t}),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( (elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo(function() {\n\t\t\treturn [ 0 ];\n\t\t}),\n\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t}),\n\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t}),\n\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t})\n\t}\n};\n\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\n\t\t\tif ( match ) {\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( (tokens = []) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push({\n\t\t\t\tvalue: matched,\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\n\t\t\t});\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push({\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t});\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[i].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( (oldCache = uniqueCache[ key ]) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[0];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[i], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (elem = unmatched[i]) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction(function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( (elem = temp[i]) ) {\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\n\t\t\t\t\t\t(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {\n\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t(checkContext = context).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\t\t\t\toutermostContext = context === document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\tif ( !context && elem.ownerDocument !== document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[i] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[0] = match[0].slice( 0 );\n\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\n\t\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[1].type ] ) {\n\n\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[i];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( (find = Expr.find[ type ]) ) {\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( (seed = find(\n\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\n\t\t\t\t)) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert(function( el ) {\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement(\"fieldset\") ) & 1;\n});\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert(function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute(\"href\") === \"#\" ;\n}) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert(function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n}) ) {\n\taddHandle( \"value\", function( elem, name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert(function( el ) {\n\treturn el.getAttribute(\"disabled\") == null;\n}) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\tnull;\n\t\t}\n\t});\n}\n\nreturn Sizzle;\n\n})( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\n\n\nfunction nodeName( elem, name ) {\n\n  return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n};\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n        if ( nodeName( elem, \"iframe\" ) ) {\n            return elem.contentDocument;\n        }\n\n        // Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n        // Treat the template element as a regular one in browsers that\n        // don't support it.\n        if ( nodeName( elem, \"template\" ) ) {\n            elem = elem.content || elem;\n        }\n\n        return jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the master Deferred\n\t\t\tmaster = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tmaster.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( master.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn master.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), master.reject );\n\t\t}\n\n\t\treturn master.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\tvalue :\n\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (#9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see #8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tjQuery.contains( elem.ownerDocument, elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\nvar swap = function( elem, options, callback, args ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.apply( elem, args || [] );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = ( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]+)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n// We have to close these tags to support XHTML (#13200)\nvar wrapMap = {\n\n\t// Support: IE <=9 only\n\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\n// Support: IE <=9 only\nwrapMap.optgroup = wrapMap.option;\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (#15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, contains, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (#12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tcontains = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( contains ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (#11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (#14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n} )();\nvar documentElement = document.documentElement;\n\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 only\n// See #13393 for more info\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\n\t\tif ( !elemData ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = {};\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\t// Make a writable jQuery.Event from the native event object\n\t\tvar event = jQuery.event.fix( nativeEvent );\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\t\t\thandlers = ( dataPriv.get( this, \"events\" ) || {} )[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// Triggered event must either 1) have no namespace, or 2) have namespace(s)\n\t\t\t\t// a subset or equal to those in the bound event (both can have no namespace).\n\t\t\t\tif ( !event.rnamespace || event.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (#13208)\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tfocus: {\n\n\t\t\t// Fire native event if possible so blur/focus sequence is correct\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this !== safeActiveElement() && this.focus ) {\n\t\t\t\t\tthis.focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusin\"\n\t\t},\n\t\tblur: {\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this === safeActiveElement() && this.blur ) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusout\"\n\t\t},\n\t\tclick: {\n\n\t\t\t// For checkbox, fire native event so checked state will be right\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this.type === \"checkbox\" && this.click && nodeName( this, \"input\" ) ) {\n\t\t\t\t\tthis.click();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, don't fire native .click() on links\n\t\t\t_default: function( event ) {\n\t\t\t\treturn nodeName( event.target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (#504, #13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\n\twhich: function( event ) {\n\t\tvar button = event.button;\n\n\t\t// Add which for key events\n\t\tif ( event.which == null && rkeyEvent.test( event.type ) ) {\n\t\t\treturn event.charCode != null ? event.charCode : event.keyCode;\n\t\t}\n\n\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\tif ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {\n\t\t\tif ( button & 1 ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ( button & 2 ) {\n\t\t\t\treturn 3;\n\t\t\t}\n\n\t\t\tif ( button & 4 ) {\n\t\t\t\treturn 2;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn event.which;\n\t}\n}, jQuery.event.addProp );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t/* eslint-disable max-len */\n\n\t// See https://github.com/eslint/eslint/issues/3229\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)[^>]*)\\/>/gi,\n\n\t/* eslint-enable */\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.access( src );\n\t\tpdataCur = dataPriv.set( dest, pdataOld );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdelete pdataCur.handle;\n\t\t\tpdataCur.events = {};\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = concat.apply( [], args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), doc, node );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && jQuery.contains( node.ownerDocument, node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html.replace( rxhtmlTag, \"<$1></$2>\" );\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = div.offsetWidth === 36 || \"absolute\";\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (#8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, #12537)\n\t//   .css('--customProperty) (#3144)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( ret === \"\" && !jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\trcustomProp = /^--/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t},\n\n\tcssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style;\n\n// Return a css property mapped to a potentially vendor prefixed property\nfunction vendorPropName( name ) {\n\n\t// Shortcut for names that are not vendor prefixed\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a property mapped along what jQuery.cssProps suggests or to\n// a vendor prefixed property.\nfunction finalPropName( name ) {\n\tvar ret = jQuery.cssProps[ name ];\n\tif ( !ret ) {\n\t\tret = jQuery.cssProps[ name ] = vendorPropName( name ) || name;\n\t}\n\treturn ret;\n}\n\nfunction setPositiveNumber( elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\tif ( box === \"margin\" ) {\n\t\t\tdelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\t\t) );\n\t}\n\n\treturn delta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\t\tval = curCSS( elem, dimension, styles ),\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox;\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\t// Check for style in case a browser which returns unreliable values\n\t// for getComputedStyle silently falls back to the reliable elem.style\n\tvalueIsBorderBox = valueIsBorderBox &&\n\t\t( support.boxSizingReliable() || val === elem.style[ dimension ] );\n\n\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t// This happens for inline elements with no explicit setting (gh-3571)\n\t// Support: Android <=4.1 - 4.3 only\n\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\tif ( val === \"auto\" ||\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) {\n\n\t\tval = elem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ];\n\n\t\t// offsetWidth/offsetHeight provide border-box values\n\t\tvalueIsBorderBox = true;\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (#7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (#7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\tif ( type === \"number\" ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t\t} ) :\n\t\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\t\t\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra && boxModelAdjustment(\n\t\t\t\t\telem,\n\t\t\t\t\tdimension,\n\t\t\t\t\textra,\n\t\t\t\t\tisBorderBox,\n\t\t\t\t\tstyles\n\t\t\t\t);\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && support.scrollboxSize() === styles.position ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 &&\n\t\t\t\t( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null ||\n\t\t\t\t\tjQuery.cssHooks[ tween.prop ] ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue && type !== false ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t// Use proper attribute retrieval(#12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar className, i, self, classNames;\n\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\ti = 0;\n\t\t\t\tself = jQuery( this );\n\t\t\t\tclassNames = classesToArray( value );\n\n\t\t\t\twhile ( ( className = classNames[ i++ ] ) ) {\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || {} )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = Date.now();\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} )\n\t\t.filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} )\n\t\t.map( function( i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\toriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() ] = match[ 2 ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match;\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce++ ) + uncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\n\njQuery._evalUrl = function( url ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (#11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\t\t\"throws\": true\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain requests\n\tif ( s.crossDomain ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" ).prop( {\n\t\t\t\t\tcharset: s.scriptCharset,\n\t\t\t\t\tsrc: s.url\n\t\t\t\t} ).on(\n\t\t\t\t\t\"load error\",\n\t\t\t\t\tcallback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name },\n\t\tfunction( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( ( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( i, name ) {\n\n\t// Handle event binding\n\tjQuery.fn[ name ] = function( data, fn ) {\n\t\treturn arguments.length > 0 ?\n\t\t\tthis.on( name, null, data, fn ) :\n\t\t\tthis.trigger( name );\n\t};\n} );\n\njQuery.fn.extend( {\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t}\n} );\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( !noGlobal ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n","module.exports = global[\"$\"] = require(\"-!C:\\\\ProductRepos\\\\CORE-MAIN\\\\node_modules\\\\expose-loader\\\\index.js?jQuery!.\\\\jquery.js\");","/*! JSEncrypt v2.3.1 | https://npmcdn.com/jsencrypt@2.3.1/LICENSE.txt */\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD\n    define(['exports'], factory);\n  } else if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {\n    // Node, CommonJS-like\n    factory(module.exports);\n  } else {\n    factory(root);\n  }\n})(this, function (exports) {\n  // Copyright (c) 2005  Tom Wu\n// All Rights Reserved.\n// See \"LICENSE\" for details.\n\n// Basic JavaScript BN library - subset useful for RSA encryption.\n\n// Bits per digit\nvar dbits;\n\n// JavaScript engine analysis\nvar canary = 0xdeadbeefcafe;\nvar j_lm = ((canary&0xffffff)==0xefcafe);\n\n// (public) Constructor\nfunction BigInteger(a,b,c) {\n  if(a != null)\n    if(\"number\" == typeof a) this.fromNumber(a,b,c);\n    else if(b == null && \"string\" != typeof a) this.fromString(a,256);\n    else this.fromString(a,b);\n}\n\n// return new, unset BigInteger\nfunction nbi() { return new BigInteger(null); }\n\n// am: Compute w_j += (x*this_i), propagate carries,\n// c is initial carry, returns final carry.\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n// We need to select the fastest one that works in this environment.\n\n// am1: use a single mult and divide to get the high bits,\n// max digit bits should be 26 because\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\nfunction am1(i,x,w,j,c,n) {\n  while(--n >= 0) {\n    var v = x*this[i++]+w[j]+c;\n    c = Math.floor(v/0x4000000);\n    w[j++] = v&0x3ffffff;\n  }\n  return c;\n}\n// am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\nfunction am2(i,x,w,j,c,n) {\n  var xl = x&0x7fff, xh = x>>15;\n  while(--n >= 0) {\n    var l = this[i]&0x7fff;\n    var h = this[i++]>>15;\n    var m = xh*l+h*xl;\n    l = xl*l+((m&0x7fff)<<15)+w[j]+(c&0x3fffffff);\n    c = (l>>>30)+(m>>>15)+xh*h+(c>>>30);\n    w[j++] = l&0x3fffffff;\n  }\n  return c;\n}\n// Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\nfunction am3(i,x,w,j,c,n) {\n  var xl = x&0x3fff, xh = x>>14;\n  while(--n >= 0) {\n    var l = this[i]&0x3fff;\n    var h = this[i++]>>14;\n    var m = xh*l+h*xl;\n    l = xl*l+((m&0x3fff)<<14)+w[j]+c;\n    c = (l>>28)+(m>>14)+xh*h;\n    w[j++] = l&0xfffffff;\n  }\n  return c;\n}\nif(j_lm && (navigator.appName == \"Microsoft Internet Explorer\")) {\n  BigInteger.prototype.am = am2;\n  dbits = 30;\n}\nelse if(j_lm && (navigator.appName != \"Netscape\")) {\n  BigInteger.prototype.am = am1;\n  dbits = 26;\n}\nelse { // Mozilla/Netscape seems to prefer am3\n  BigInteger.prototype.am = am3;\n  dbits = 28;\n}\n\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = ((1<<dbits)-1);\nBigInteger.prototype.DV = (1<<dbits);\n\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2,BI_FP);\nBigInteger.prototype.F1 = BI_FP-dbits;\nBigInteger.prototype.F2 = 2*dbits-BI_FP;\n\n// Digit conversions\nvar BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\nvar BI_RC = new Array();\nvar rr,vv;\nrr = \"0\".charCodeAt(0);\nfor(vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;\nrr = \"a\".charCodeAt(0);\nfor(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\nrr = \"A\".charCodeAt(0);\nfor(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\n\nfunction int2char(n) { return BI_RM.charAt(n); }\nfunction intAt(s,i) {\n  var c = BI_RC[s.charCodeAt(i)];\n  return (c==null)?-1:c;\n}\n\n// (protected) copy this to r\nfunction bnpCopyTo(r) {\n  for(var i = this.t-1; i >= 0; --i) r[i] = this[i];\n  r.t = this.t;\n  r.s = this.s;\n}\n\n// (protected) set from integer value x, -DV <= x < DV\nfunction bnpFromInt(x) {\n  this.t = 1;\n  this.s = (x<0)?-1:0;\n  if(x > 0) this[0] = x;\n  else if(x < -1) this[0] = x+this.DV;\n  else this.t = 0;\n}\n\n// return bigint initialized to value\nfunction nbv(i) { var r = nbi(); r.fromInt(i); return r; }\n\n// (protected) set from string and radix\nfunction bnpFromString(s,b) {\n  var k;\n  if(b == 16) k = 4;\n  else if(b == 8) k = 3;\n  else if(b == 256) k = 8; // byte array\n  else if(b == 2) k = 1;\n  else if(b == 32) k = 5;\n  else if(b == 4) k = 2;\n  else { this.fromRadix(s,b); return; }\n  this.t = 0;\n  this.s = 0;\n  var i = s.length, mi = false, sh = 0;\n  while(--i >= 0) {\n    var x = (k==8)?s[i]&0xff:intAt(s,i);\n    if(x < 0) {\n      if(s.charAt(i) == \"-\") mi = true;\n      continue;\n    }\n    mi = false;\n    if(sh == 0)\n      this[this.t++] = x;\n    else if(sh+k > this.DB) {\n      this[this.t-1] |= (x&((1<<(this.DB-sh))-1))<<sh;\n      this[this.t++] = (x>>(this.DB-sh));\n    }\n    else\n      this[this.t-1] |= x<<sh;\n    sh += k;\n    if(sh >= this.DB) sh -= this.DB;\n  }\n  if(k == 8 && (s[0]&0x80) != 0) {\n    this.s = -1;\n    if(sh > 0) this[this.t-1] |= ((1<<(this.DB-sh))-1)<<sh;\n  }\n  this.clamp();\n  if(mi) BigInteger.ZERO.subTo(this,this);\n}\n\n// (protected) clamp off excess high words\nfunction bnpClamp() {\n  var c = this.s&this.DM;\n  while(this.t > 0 && this[this.t-1] == c) --this.t;\n}\n\n// (public) return string representation in given radix\nfunction bnToString(b) {\n  if(this.s < 0) return \"-\"+this.negate().toString(b);\n  var k;\n  if(b == 16) k = 4;\n  else if(b == 8) k = 3;\n  else if(b == 2) k = 1;\n  else if(b == 32) k = 5;\n  else if(b == 4) k = 2;\n  else return this.toRadix(b);\n  var km = (1<<k)-1, d, m = false, r = \"\", i = this.t;\n  var p = this.DB-(i*this.DB)%k;\n  if(i-- > 0) {\n    if(p < this.DB && (d = this[i]>>p) > 0) { m = true; r = int2char(d); }\n    while(i >= 0) {\n      if(p < k) {\n        d = (this[i]&((1<<p)-1))<<(k-p);\n        d |= this[--i]>>(p+=this.DB-k);\n      }\n      else {\n        d = (this[i]>>(p-=k))&km;\n        if(p <= 0) { p += this.DB; --i; }\n      }\n      if(d > 0) m = true;\n      if(m) r += int2char(d);\n    }\n  }\n  return m?r:\"0\";\n}\n\n// (public) -this\nfunction bnNegate() { var r = nbi(); BigInteger.ZERO.subTo(this,r); return r; }\n\n// (public) |this|\nfunction bnAbs() { return (this.s<0)?this.negate():this; }\n\n// (public) return + if this > a, - if this < a, 0 if equal\nfunction bnCompareTo(a) {\n  var r = this.s-a.s;\n  if(r != 0) return r;\n  var i = this.t;\n  r = i-a.t;\n  if(r != 0) return (this.s<0)?-r:r;\n  while(--i >= 0) if((r=this[i]-a[i]) != 0) return r;\n  return 0;\n}\n\n// returns bit length of the integer x\nfunction nbits(x) {\n  var r = 1, t;\n  if((t=x>>>16) != 0) { x = t; r += 16; }\n  if((t=x>>8) != 0) { x = t; r += 8; }\n  if((t=x>>4) != 0) { x = t; r += 4; }\n  if((t=x>>2) != 0) { x = t; r += 2; }\n  if((t=x>>1) != 0) { x = t; r += 1; }\n  return r;\n}\n\n// (public) return the number of bits in \"this\"\nfunction bnBitLength() {\n  if(this.t <= 0) return 0;\n  return this.DB*(this.t-1)+nbits(this[this.t-1]^(this.s&this.DM));\n}\n\n// (protected) r = this << n*DB\nfunction bnpDLShiftTo(n,r) {\n  var i;\n  for(i = this.t-1; i >= 0; --i) r[i+n] = this[i];\n  for(i = n-1; i >= 0; --i) r[i] = 0;\n  r.t = this.t+n;\n  r.s = this.s;\n}\n\n// (protected) r = this >> n*DB\nfunction bnpDRShiftTo(n,r) {\n  for(var i = n; i < this.t; ++i) r[i-n] = this[i];\n  r.t = Math.max(this.t-n,0);\n  r.s = this.s;\n}\n\n// (protected) r = this << n\nfunction bnpLShiftTo(n,r) {\n  var bs = n%this.DB;\n  var cbs = this.DB-bs;\n  var bm = (1<<cbs)-1;\n  var ds = Math.floor(n/this.DB), c = (this.s<<bs)&this.DM, i;\n  for(i = this.t-1; i >= 0; --i) {\n    r[i+ds+1] = (this[i]>>cbs)|c;\n    c = (this[i]&bm)<<bs;\n  }\n  for(i = ds-1; i >= 0; --i) r[i] = 0;\n  r[ds] = c;\n  r.t = this.t+ds+1;\n  r.s = this.s;\n  r.clamp();\n}\n\n// (protected) r = this >> n\nfunction bnpRShiftTo(n,r) {\n  r.s = this.s;\n  var ds = Math.floor(n/this.DB);\n  if(ds >= this.t) { r.t = 0; return; }\n  var bs = n%this.DB;\n  var cbs = this.DB-bs;\n  var bm = (1<<bs)-1;\n  r[0] = this[ds]>>bs;\n  for(var i = ds+1; i < this.t; ++i) {\n    r[i-ds-1] |= (this[i]&bm)<<cbs;\n    r[i-ds] = this[i]>>bs;\n  }\n  if(bs > 0) r[this.t-ds-1] |= (this.s&bm)<<cbs;\n  r.t = this.t-ds;\n  r.clamp();\n}\n\n// (protected) r = this - a\nfunction bnpSubTo(a,r) {\n  var i = 0, c = 0, m = Math.min(a.t,this.t);\n  while(i < m) {\n    c += this[i]-a[i];\n    r[i++] = c&this.DM;\n    c >>= this.DB;\n  }\n  if(a.t < this.t) {\n    c -= a.s;\n    while(i < this.t) {\n      c += this[i];\n      r[i++] = c&this.DM;\n      c >>= this.DB;\n    }\n    c += this.s;\n  }\n  else {\n    c += this.s;\n    while(i < a.t) {\n      c -= a[i];\n      r[i++] = c&this.DM;\n      c >>= this.DB;\n    }\n    c -= a.s;\n  }\n  r.s = (c<0)?-1:0;\n  if(c < -1) r[i++] = this.DV+c;\n  else if(c > 0) r[i++] = c;\n  r.t = i;\n  r.clamp();\n}\n\n// (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyTo(a,r) {\n  var x = this.abs(), y = a.abs();\n  var i = x.t;\n  r.t = i+y.t;\n  while(--i >= 0) r[i] = 0;\n  for(i = 0; i < y.t; ++i) r[i+x.t] = x.am(0,y[i],r,i,0,x.t);\n  r.s = 0;\n  r.clamp();\n  if(this.s != a.s) BigInteger.ZERO.subTo(r,r);\n}\n\n// (protected) r = this^2, r != this (HAC 14.16)\nfunction bnpSquareTo(r) {\n  var x = this.abs();\n  var i = r.t = 2*x.t;\n  while(--i >= 0) r[i] = 0;\n  for(i = 0; i < x.t-1; ++i) {\n    var c = x.am(i,x[i],r,2*i,0,1);\n    if((r[i+x.t]+=x.am(i+1,2*x[i],r,2*i+1,c,x.t-i-1)) >= x.DV) {\n      r[i+x.t] -= x.DV;\n      r[i+x.t+1] = 1;\n    }\n  }\n  if(r.t > 0) r[r.t-1] += x.am(i,x[i],r,2*i,0,1);\n  r.s = 0;\n  r.clamp();\n}\n\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\nfunction bnpDivRemTo(m,q,r) {\n  var pm = m.abs();\n  if(pm.t <= 0) return;\n  var pt = this.abs();\n  if(pt.t < pm.t) {\n    if(q != null) q.fromInt(0);\n    if(r != null) this.copyTo(r);\n    return;\n  }\n  if(r == null) r = nbi();\n  var y = nbi(), ts = this.s, ms = m.s;\n  var nsh = this.DB-nbits(pm[pm.t-1]);\t// normalize modulus\n  if(nsh > 0) { pm.lShiftTo(nsh,y); pt.lShiftTo(nsh,r); }\n  else { pm.copyTo(y); pt.copyTo(r); }\n  var ys = y.t;\n  var y0 = y[ys-1];\n  if(y0 == 0) return;\n  var yt = y0*(1<<this.F1)+((ys>1)?y[ys-2]>>this.F2:0);\n  var d1 = this.FV/yt, d2 = (1<<this.F1)/yt, e = 1<<this.F2;\n  var i = r.t, j = i-ys, t = (q==null)?nbi():q;\n  y.dlShiftTo(j,t);\n  if(r.compareTo(t) >= 0) {\n    r[r.t++] = 1;\n    r.subTo(t,r);\n  }\n  BigInteger.ONE.dlShiftTo(ys,t);\n  t.subTo(y,y);\t// \"negative\" y so we can replace sub with am later\n  while(y.t < ys) y[y.t++] = 0;\n  while(--j >= 0) {\n    // Estimate quotient digit\n    var qd = (r[--i]==y0)?this.DM:Math.floor(r[i]*d1+(r[i-1]+e)*d2);\n    if((r[i]+=y.am(0,qd,r,j,0,ys)) < qd) {\t// Try it out\n      y.dlShiftTo(j,t);\n      r.subTo(t,r);\n      while(r[i] < --qd) r.subTo(t,r);\n    }\n  }\n  if(q != null) {\n    r.drShiftTo(ys,q);\n    if(ts != ms) BigInteger.ZERO.subTo(q,q);\n  }\n  r.t = ys;\n  r.clamp();\n  if(nsh > 0) r.rShiftTo(nsh,r);\t// Denormalize remainder\n  if(ts < 0) BigInteger.ZERO.subTo(r,r);\n}\n\n// (public) this mod a\nfunction bnMod(a) {\n  var r = nbi();\n  this.abs().divRemTo(a,null,r);\n  if(this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r,r);\n  return r;\n}\n\n// Modular reduction using \"classic\" algorithm\nfunction Classic(m) { this.m = m; }\nfunction cConvert(x) {\n  if(x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m);\n  else return x;\n}\nfunction cRevert(x) { return x; }\nfunction cReduce(x) { x.divRemTo(this.m,null,x); }\nfunction cMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\nfunction cSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n\nClassic.prototype.convert = cConvert;\nClassic.prototype.revert = cRevert;\nClassic.prototype.reduce = cReduce;\nClassic.prototype.mulTo = cMulTo;\nClassic.prototype.sqrTo = cSqrTo;\n\n// (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n// justification:\n//         xy == 1 (mod m)\n//         xy =  1+km\n//   xy(2-xy) = (1+km)(1-km)\n// x[y(2-xy)] = 1-k^2m^2\n// x[y(2-xy)] == 1 (mod m^2)\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\nfunction bnpInvDigit() {\n  if(this.t < 1) return 0;\n  var x = this[0];\n  if((x&1) == 0) return 0;\n  var y = x&3;\t\t// y == 1/x mod 2^2\n  y = (y*(2-(x&0xf)*y))&0xf;\t// y == 1/x mod 2^4\n  y = (y*(2-(x&0xff)*y))&0xff;\t// y == 1/x mod 2^8\n  y = (y*(2-(((x&0xffff)*y)&0xffff)))&0xffff;\t// y == 1/x mod 2^16\n  // last step - calculate inverse mod DV directly;\n  // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n  y = (y*(2-x*y%this.DV))%this.DV;\t\t// y == 1/x mod 2^dbits\n  // we really want the negative inverse, and -DV < y < DV\n  return (y>0)?this.DV-y:-y;\n}\n\n// Montgomery reduction\nfunction Montgomery(m) {\n  this.m = m;\n  this.mp = m.invDigit();\n  this.mpl = this.mp&0x7fff;\n  this.mph = this.mp>>15;\n  this.um = (1<<(m.DB-15))-1;\n  this.mt2 = 2*m.t;\n}\n\n// xR mod m\nfunction montConvert(x) {\n  var r = nbi();\n  x.abs().dlShiftTo(this.m.t,r);\n  r.divRemTo(this.m,null,r);\n  if(x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r,r);\n  return r;\n}\n\n// x/R mod m\nfunction montRevert(x) {\n  var r = nbi();\n  x.copyTo(r);\n  this.reduce(r);\n  return r;\n}\n\n// x = x/R mod m (HAC 14.32)\nfunction montReduce(x) {\n  while(x.t <= this.mt2)\t// pad x so am has enough room later\n    x[x.t++] = 0;\n  for(var i = 0; i < this.m.t; ++i) {\n    // faster way of calculating u0 = x[i]*mp mod DV\n    var j = x[i]&0x7fff;\n    var u0 = (j*this.mpl+(((j*this.mph+(x[i]>>15)*this.mpl)&this.um)<<15))&x.DM;\n    // use am to combine the multiply-shift-add into one call\n    j = i+this.m.t;\n    x[j] += this.m.am(0,u0,x,i,0,this.m.t);\n    // propagate carry\n    while(x[j] >= x.DV) { x[j] -= x.DV; x[++j]++; }\n  }\n  x.clamp();\n  x.drShiftTo(this.m.t,x);\n  if(x.compareTo(this.m) >= 0) x.subTo(this.m,x);\n}\n\n// r = \"x^2/R mod m\"; x != r\nfunction montSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n\n// r = \"xy/R mod m\"; x,y != r\nfunction montMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\n\nMontgomery.prototype.convert = montConvert;\nMontgomery.prototype.revert = montRevert;\nMontgomery.prototype.reduce = montReduce;\nMontgomery.prototype.mulTo = montMulTo;\nMontgomery.prototype.sqrTo = montSqrTo;\n\n// (protected) true iff this is even\nfunction bnpIsEven() { return ((this.t>0)?(this[0]&1):this.s) == 0; }\n\n// (protected) this^e, e < 2^32, doing sqr and mul with \"r\" (HAC 14.79)\nfunction bnpExp(e,z) {\n  if(e > 0xffffffff || e < 1) return BigInteger.ONE;\n  var r = nbi(), r2 = nbi(), g = z.convert(this), i = nbits(e)-1;\n  g.copyTo(r);\n  while(--i >= 0) {\n    z.sqrTo(r,r2);\n    if((e&(1<<i)) > 0) z.mulTo(r2,g,r);\n    else { var t = r; r = r2; r2 = t; }\n  }\n  return z.revert(r);\n}\n\n// (public) this^e % m, 0 <= e < 2^32\nfunction bnModPowInt(e,m) {\n  var z;\n  if(e < 256 || m.isEven()) z = new Classic(m); else z = new Montgomery(m);\n  return this.exp(e,z);\n}\n\n// protected\nBigInteger.prototype.copyTo = bnpCopyTo;\nBigInteger.prototype.fromInt = bnpFromInt;\nBigInteger.prototype.fromString = bnpFromString;\nBigInteger.prototype.clamp = bnpClamp;\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\nBigInteger.prototype.subTo = bnpSubTo;\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\nBigInteger.prototype.squareTo = bnpSquareTo;\nBigInteger.prototype.divRemTo = bnpDivRemTo;\nBigInteger.prototype.invDigit = bnpInvDigit;\nBigInteger.prototype.isEven = bnpIsEven;\nBigInteger.prototype.exp = bnpExp;\n\n// public\nBigInteger.prototype.toString = bnToString;\nBigInteger.prototype.negate = bnNegate;\nBigInteger.prototype.abs = bnAbs;\nBigInteger.prototype.compareTo = bnCompareTo;\nBigInteger.prototype.bitLength = bnBitLength;\nBigInteger.prototype.mod = bnMod;\nBigInteger.prototype.modPowInt = bnModPowInt;\n\n// \"constants\"\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);\n\n// Copyright (c) 2005-2009  Tom Wu\n// All Rights Reserved.\n// See \"LICENSE\" for details.\n\n// Extended JavaScript BN functions, required for RSA private ops.\n\n// Version 1.1: new BigInteger(\"0\", 10) returns \"proper\" zero\n// Version 1.2: square() API, isProbablePrime fix\n\n// (public)\nfunction bnClone() { var r = nbi(); this.copyTo(r); return r; }\n\n// (public) return value as integer\nfunction bnIntValue() {\n  if(this.s < 0) {\n    if(this.t == 1) return this[0]-this.DV;\n    else if(this.t == 0) return -1;\n  }\n  else if(this.t == 1) return this[0];\n  else if(this.t == 0) return 0;\n  // assumes 16 < DB < 32\n  return ((this[1]&((1<<(32-this.DB))-1))<<this.DB)|this[0];\n}\n\n// (public) return value as byte\nfunction bnByteValue() { return (this.t==0)?this.s:(this[0]<<24)>>24; }\n\n// (public) return value as short (assumes DB>=16)\nfunction bnShortValue() { return (this.t==0)?this.s:(this[0]<<16)>>16; }\n\n// (protected) return x s.t. r^x < DV\nfunction bnpChunkSize(r) { return Math.floor(Math.LN2*this.DB/Math.log(r)); }\n\n// (public) 0 if this == 0, 1 if this > 0\nfunction bnSigNum() {\n  if(this.s < 0) return -1;\n  else if(this.t <= 0 || (this.t == 1 && this[0] <= 0)) return 0;\n  else return 1;\n}\n\n// (protected) convert to radix string\nfunction bnpToRadix(b) {\n  if(b == null) b = 10;\n  if(this.signum() == 0 || b < 2 || b > 36) return \"0\";\n  var cs = this.chunkSize(b);\n  var a = Math.pow(b,cs);\n  var d = nbv(a), y = nbi(), z = nbi(), r = \"\";\n  this.divRemTo(d,y,z);\n  while(y.signum() > 0) {\n    r = (a+z.intValue()).toString(b).substr(1) + r;\n    y.divRemTo(d,y,z);\n  }\n  return z.intValue().toString(b) + r;\n}\n\n// (protected) convert from radix string\nfunction bnpFromRadix(s,b) {\n  this.fromInt(0);\n  if(b == null) b = 10;\n  var cs = this.chunkSize(b);\n  var d = Math.pow(b,cs), mi = false, j = 0, w = 0;\n  for(var i = 0; i < s.length; ++i) {\n    var x = intAt(s,i);\n    if(x < 0) {\n      if(s.charAt(i) == \"-\" && this.signum() == 0) mi = true;\n      continue;\n    }\n    w = b*w+x;\n    if(++j >= cs) {\n      this.dMultiply(d);\n      this.dAddOffset(w,0);\n      j = 0;\n      w = 0;\n    }\n  }\n  if(j > 0) {\n    this.dMultiply(Math.pow(b,j));\n    this.dAddOffset(w,0);\n  }\n  if(mi) BigInteger.ZERO.subTo(this,this);\n}\n\n// (protected) alternate constructor\nfunction bnpFromNumber(a,b,c) {\n  if(\"number\" == typeof b) {\n    // new BigInteger(int,int,RNG)\n    if(a < 2) this.fromInt(1);\n    else {\n      this.fromNumber(a,c);\n      if(!this.testBit(a-1))\t// force MSB set\n        this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this);\n      if(this.isEven()) this.dAddOffset(1,0); // force odd\n      while(!this.isProbablePrime(b)) {\n        this.dAddOffset(2,0);\n        if(this.bitLength() > a) this.subTo(BigInteger.ONE.shiftLeft(a-1),this);\n      }\n    }\n  }\n  else {\n    // new BigInteger(int,RNG)\n    var x = new Array(), t = a&7;\n    x.length = (a>>3)+1;\n    b.nextBytes(x);\n    if(t > 0) x[0] &= ((1<<t)-1); else x[0] = 0;\n    this.fromString(x,256);\n  }\n}\n\n// (public) convert to bigendian byte array\nfunction bnToByteArray() {\n  var i = this.t, r = new Array();\n  r[0] = this.s;\n  var p = this.DB-(i*this.DB)%8, d, k = 0;\n  if(i-- > 0) {\n    if(p < this.DB && (d = this[i]>>p) != (this.s&this.DM)>>p)\n      r[k++] = d|(this.s<<(this.DB-p));\n    while(i >= 0) {\n      if(p < 8) {\n        d = (this[i]&((1<<p)-1))<<(8-p);\n        d |= this[--i]>>(p+=this.DB-8);\n      }\n      else {\n        d = (this[i]>>(p-=8))&0xff;\n        if(p <= 0) { p += this.DB; --i; }\n      }\n      if((d&0x80) != 0) d |= -256;\n      if(k == 0 && (this.s&0x80) != (d&0x80)) ++k;\n      if(k > 0 || d != this.s) r[k++] = d;\n    }\n  }\n  return r;\n}\n\nfunction bnEquals(a) { return(this.compareTo(a)==0); }\nfunction bnMin(a) { return(this.compareTo(a)<0)?this:a; }\nfunction bnMax(a) { return(this.compareTo(a)>0)?this:a; }\n\n// (protected) r = this op a (bitwise)\nfunction bnpBitwiseTo(a,op,r) {\n  var i, f, m = Math.min(a.t,this.t);\n  for(i = 0; i < m; ++i) r[i] = op(this[i],a[i]);\n  if(a.t < this.t) {\n    f = a.s&this.DM;\n    for(i = m; i < this.t; ++i) r[i] = op(this[i],f);\n    r.t = this.t;\n  }\n  else {\n    f = this.s&this.DM;\n    for(i = m; i < a.t; ++i) r[i] = op(f,a[i]);\n    r.t = a.t;\n  }\n  r.s = op(this.s,a.s);\n  r.clamp();\n}\n\n// (public) this & a\nfunction op_and(x,y) { return x&y; }\nfunction bnAnd(a) { var r = nbi(); this.bitwiseTo(a,op_and,r); return r; }\n\n// (public) this | a\nfunction op_or(x,y) { return x|y; }\nfunction bnOr(a) { var r = nbi(); this.bitwiseTo(a,op_or,r); return r; }\n\n// (public) this ^ a\nfunction op_xor(x,y) { return x^y; }\nfunction bnXor(a) { var r = nbi(); this.bitwiseTo(a,op_xor,r); return r; }\n\n// (public) this & ~a\nfunction op_andnot(x,y) { return x&~y; }\nfunction bnAndNot(a) { var r = nbi(); this.bitwiseTo(a,op_andnot,r); return r; }\n\n// (public) ~this\nfunction bnNot() {\n  var r = nbi();\n  for(var i = 0; i < this.t; ++i) r[i] = this.DM&~this[i];\n  r.t = this.t;\n  r.s = ~this.s;\n  return r;\n}\n\n// (public) this << n\nfunction bnShiftLeft(n) {\n  var r = nbi();\n  if(n < 0) this.rShiftTo(-n,r); else this.lShiftTo(n,r);\n  return r;\n}\n\n// (public) this >> n\nfunction bnShiftRight(n) {\n  var r = nbi();\n  if(n < 0) this.lShiftTo(-n,r); else this.rShiftTo(n,r);\n  return r;\n}\n\n// return index of lowest 1-bit in x, x < 2^31\nfunction lbit(x) {\n  if(x == 0) return -1;\n  var r = 0;\n  if((x&0xffff) == 0) { x >>= 16; r += 16; }\n  if((x&0xff) == 0) { x >>= 8; r += 8; }\n  if((x&0xf) == 0) { x >>= 4; r += 4; }\n  if((x&3) == 0) { x >>= 2; r += 2; }\n  if((x&1) == 0) ++r;\n  return r;\n}\n\n// (public) returns index of lowest 1-bit (or -1 if none)\nfunction bnGetLowestSetBit() {\n  for(var i = 0; i < this.t; ++i)\n    if(this[i] != 0) return i*this.DB+lbit(this[i]);\n  if(this.s < 0) return this.t*this.DB;\n  return -1;\n}\n\n// return number of 1 bits in x\nfunction cbit(x) {\n  var r = 0;\n  while(x != 0) { x &= x-1; ++r; }\n  return r;\n}\n\n// (public) return number of set bits\nfunction bnBitCount() {\n  var r = 0, x = this.s&this.DM;\n  for(var i = 0; i < this.t; ++i) r += cbit(this[i]^x);\n  return r;\n}\n\n// (public) true iff nth bit is set\nfunction bnTestBit(n) {\n  var j = Math.floor(n/this.DB);\n  if(j >= this.t) return(this.s!=0);\n  return((this[j]&(1<<(n%this.DB)))!=0);\n}\n\n// (protected) this op (1<<n)\nfunction bnpChangeBit(n,op) {\n  var r = BigInteger.ONE.shiftLeft(n);\n  this.bitwiseTo(r,op,r);\n  return r;\n}\n\n// (public) this | (1<<n)\nfunction bnSetBit(n) { return this.changeBit(n,op_or); }\n\n// (public) this & ~(1<<n)\nfunction bnClearBit(n) { return this.changeBit(n,op_andnot); }\n\n// (public) this ^ (1<<n)\nfunction bnFlipBit(n) { return this.changeBit(n,op_xor); }\n\n// (protected) r = this + a\nfunction bnpAddTo(a,r) {\n  var i = 0, c = 0, m = Math.min(a.t,this.t);\n  while(i < m) {\n    c += this[i]+a[i];\n    r[i++] = c&this.DM;\n    c >>= this.DB;\n  }\n  if(a.t < this.t) {\n    c += a.s;\n    while(i < this.t) {\n      c += this[i];\n      r[i++] = c&this.DM;\n      c >>= this.DB;\n    }\n    c += this.s;\n  }\n  else {\n    c += this.s;\n    while(i < a.t) {\n      c += a[i];\n      r[i++] = c&this.DM;\n      c >>= this.DB;\n    }\n    c += a.s;\n  }\n  r.s = (c<0)?-1:0;\n  if(c > 0) r[i++] = c;\n  else if(c < -1) r[i++] = this.DV+c;\n  r.t = i;\n  r.clamp();\n}\n\n// (public) this + a\nfunction bnAdd(a) { var r = nbi(); this.addTo(a,r); return r; }\n\n// (public) this - a\nfunction bnSubtract(a) { var r = nbi(); this.subTo(a,r); return r; }\n\n// (public) this * a\nfunction bnMultiply(a) { var r = nbi(); this.multiplyTo(a,r); return r; }\n\n// (public) this^2\nfunction bnSquare() { var r = nbi(); this.squareTo(r); return r; }\n\n// (public) this / a\nfunction bnDivide(a) { var r = nbi(); this.divRemTo(a,r,null); return r; }\n\n// (public) this % a\nfunction bnRemainder(a) { var r = nbi(); this.divRemTo(a,null,r); return r; }\n\n// (public) [this/a,this%a]\nfunction bnDivideAndRemainder(a) {\n  var q = nbi(), r = nbi();\n  this.divRemTo(a,q,r);\n  return new Array(q,r);\n}\n\n// (protected) this *= n, this >= 0, 1 < n < DV\nfunction bnpDMultiply(n) {\n  this[this.t] = this.am(0,n-1,this,0,0,this.t);\n  ++this.t;\n  this.clamp();\n}\n\n// (protected) this += n << w words, this >= 0\nfunction bnpDAddOffset(n,w) {\n  if(n == 0) return;\n  while(this.t <= w) this[this.t++] = 0;\n  this[w] += n;\n  while(this[w] >= this.DV) {\n    this[w] -= this.DV;\n    if(++w >= this.t) this[this.t++] = 0;\n    ++this[w];\n  }\n}\n\n// A \"null\" reducer\nfunction NullExp() {}\nfunction nNop(x) { return x; }\nfunction nMulTo(x,y,r) { x.multiplyTo(y,r); }\nfunction nSqrTo(x,r) { x.squareTo(r); }\n\nNullExp.prototype.convert = nNop;\nNullExp.prototype.revert = nNop;\nNullExp.prototype.mulTo = nMulTo;\nNullExp.prototype.sqrTo = nSqrTo;\n\n// (public) this^e\nfunction bnPow(e) { return this.exp(e,new NullExp()); }\n\n// (protected) r = lower n words of \"this * a\", a.t <= n\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyLowerTo(a,n,r) {\n  var i = Math.min(this.t+a.t,n);\n  r.s = 0; // assumes a,this >= 0\n  r.t = i;\n  while(i > 0) r[--i] = 0;\n  var j;\n  for(j = r.t-this.t; i < j; ++i) r[i+this.t] = this.am(0,a[i],r,i,0,this.t);\n  for(j = Math.min(a.t,n); i < j; ++i) this.am(0,a[i],r,i,0,n-i);\n  r.clamp();\n}\n\n// (protected) r = \"this * a\" without lower n words, n > 0\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyUpperTo(a,n,r) {\n  --n;\n  var i = r.t = this.t+a.t-n;\n  r.s = 0; // assumes a,this >= 0\n  while(--i >= 0) r[i] = 0;\n  for(i = Math.max(n-this.t,0); i < a.t; ++i)\n    r[this.t+i-n] = this.am(n-i,a[i],r,0,0,this.t+i-n);\n  r.clamp();\n  r.drShiftTo(1,r);\n}\n\n// Barrett modular reduction\nfunction Barrett(m) {\n  // setup Barrett\n  this.r2 = nbi();\n  this.q3 = nbi();\n  BigInteger.ONE.dlShiftTo(2*m.t,this.r2);\n  this.mu = this.r2.divide(m);\n  this.m = m;\n}\n\nfunction barrettConvert(x) {\n  if(x.s < 0 || x.t > 2*this.m.t) return x.mod(this.m);\n  else if(x.compareTo(this.m) < 0) return x;\n  else { var r = nbi(); x.copyTo(r); this.reduce(r); return r; }\n}\n\nfunction barrettRevert(x) { return x; }\n\n// x = x mod m (HAC 14.42)\nfunction barrettReduce(x) {\n  x.drShiftTo(this.m.t-1,this.r2);\n  if(x.t > this.m.t+1) { x.t = this.m.t+1; x.clamp(); }\n  this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);\n  this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);\n  while(x.compareTo(this.r2) < 0) x.dAddOffset(1,this.m.t+1);\n  x.subTo(this.r2,x);\n  while(x.compareTo(this.m) >= 0) x.subTo(this.m,x);\n}\n\n// r = x^2 mod m; x != r\nfunction barrettSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n\n// r = x*y mod m; x,y != r\nfunction barrettMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\n\nBarrett.prototype.convert = barrettConvert;\nBarrett.prototype.revert = barrettRevert;\nBarrett.prototype.reduce = barrettReduce;\nBarrett.prototype.mulTo = barrettMulTo;\nBarrett.prototype.sqrTo = barrettSqrTo;\n\n// (public) this^e % m (HAC 14.85)\nfunction bnModPow(e,m) {\n  var i = e.bitLength(), k, r = nbv(1), z;\n  if(i <= 0) return r;\n  else if(i < 18) k = 1;\n  else if(i < 48) k = 3;\n  else if(i < 144) k = 4;\n  else if(i < 768) k = 5;\n  else k = 6;\n  if(i < 8)\n    z = new Classic(m);\n  else if(m.isEven())\n    z = new Barrett(m);\n  else\n    z = new Montgomery(m);\n\n  // precomputation\n  var g = new Array(), n = 3, k1 = k-1, km = (1<<k)-1;\n  g[1] = z.convert(this);\n  if(k > 1) {\n    var g2 = nbi();\n    z.sqrTo(g[1],g2);\n    while(n <= km) {\n      g[n] = nbi();\n      z.mulTo(g2,g[n-2],g[n]);\n      n += 2;\n    }\n  }\n\n  var j = e.t-1, w, is1 = true, r2 = nbi(), t;\n  i = nbits(e[j])-1;\n  while(j >= 0) {\n    if(i >= k1) w = (e[j]>>(i-k1))&km;\n    else {\n      w = (e[j]&((1<<(i+1))-1))<<(k1-i);\n      if(j > 0) w |= e[j-1]>>(this.DB+i-k1);\n    }\n\n    n = k;\n    while((w&1) == 0) { w >>= 1; --n; }\n    if((i -= n) < 0) { i += this.DB; --j; }\n    if(is1) {\t// ret == 1, don't bother squaring or multiplying it\n      g[w].copyTo(r);\n      is1 = false;\n    }\n    else {\n      while(n > 1) { z.sqrTo(r,r2); z.sqrTo(r2,r); n -= 2; }\n      if(n > 0) z.sqrTo(r,r2); else { t = r; r = r2; r2 = t; }\n      z.mulTo(r2,g[w],r);\n    }\n\n    while(j >= 0 && (e[j]&(1<<i)) == 0) {\n      z.sqrTo(r,r2); t = r; r = r2; r2 = t;\n      if(--i < 0) { i = this.DB-1; --j; }\n    }\n  }\n  return z.revert(r);\n}\n\n// (public) gcd(this,a) (HAC 14.54)\nfunction bnGCD(a) {\n  var x = (this.s<0)?this.negate():this.clone();\n  var y = (a.s<0)?a.negate():a.clone();\n  if(x.compareTo(y) < 0) { var t = x; x = y; y = t; }\n  var i = x.getLowestSetBit(), g = y.getLowestSetBit();\n  if(g < 0) return x;\n  if(i < g) g = i;\n  if(g > 0) {\n    x.rShiftTo(g,x);\n    y.rShiftTo(g,y);\n  }\n  while(x.signum() > 0) {\n    if((i = x.getLowestSetBit()) > 0) x.rShiftTo(i,x);\n    if((i = y.getLowestSetBit()) > 0) y.rShiftTo(i,y);\n    if(x.compareTo(y) >= 0) {\n      x.subTo(y,x);\n      x.rShiftTo(1,x);\n    }\n    else {\n      y.subTo(x,y);\n      y.rShiftTo(1,y);\n    }\n  }\n  if(g > 0) y.lShiftTo(g,y);\n  return y;\n}\n\n// (protected) this % n, n < 2^26\nfunction bnpModInt(n) {\n  if(n <= 0) return 0;\n  var d = this.DV%n, r = (this.s<0)?n-1:0;\n  if(this.t > 0)\n    if(d == 0) r = this[0]%n;\n    else for(var i = this.t-1; i >= 0; --i) r = (d*r+this[i])%n;\n  return r;\n}\n\n// (public) 1/this % m (HAC 14.61)\nfunction bnModInverse(m) {\n  var ac = m.isEven();\n  if((this.isEven() && ac) || m.signum() == 0) return BigInteger.ZERO;\n  var u = m.clone(), v = this.clone();\n  var a = nbv(1), b = nbv(0), c = nbv(0), d = nbv(1);\n  while(u.signum() != 0) {\n    while(u.isEven()) {\n      u.rShiftTo(1,u);\n      if(ac) {\n        if(!a.isEven() || !b.isEven()) { a.addTo(this,a); b.subTo(m,b); }\n        a.rShiftTo(1,a);\n      }\n      else if(!b.isEven()) b.subTo(m,b);\n      b.rShiftTo(1,b);\n    }\n    while(v.isEven()) {\n      v.rShiftTo(1,v);\n      if(ac) {\n        if(!c.isEven() || !d.isEven()) { c.addTo(this,c); d.subTo(m,d); }\n        c.rShiftTo(1,c);\n      }\n      else if(!d.isEven()) d.subTo(m,d);\n      d.rShiftTo(1,d);\n    }\n    if(u.compareTo(v) >= 0) {\n      u.subTo(v,u);\n      if(ac) a.subTo(c,a);\n      b.subTo(d,b);\n    }\n    else {\n      v.subTo(u,v);\n      if(ac) c.subTo(a,c);\n      d.subTo(b,d);\n    }\n  }\n  if(v.compareTo(BigInteger.ONE) != 0) return BigInteger.ZERO;\n  if(d.compareTo(m) >= 0) return d.subtract(m);\n  if(d.signum() < 0) d.addTo(m,d); else return d;\n  if(d.signum() < 0) return d.add(m); else return d;\n}\n\nvar lowprimes = [2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997];\nvar lplim = (1<<26)/lowprimes[lowprimes.length-1];\n\n// (public) test primality with certainty >= 1-.5^t\nfunction bnIsProbablePrime(t) {\n  var i, x = this.abs();\n  if(x.t == 1 && x[0] <= lowprimes[lowprimes.length-1]) {\n    for(i = 0; i < lowprimes.length; ++i)\n      if(x[0] == lowprimes[i]) return true;\n    return false;\n  }\n  if(x.isEven()) return false;\n  i = 1;\n  while(i < lowprimes.length) {\n    var m = lowprimes[i], j = i+1;\n    while(j < lowprimes.length && m < lplim) m *= lowprimes[j++];\n    m = x.modInt(m);\n    while(i < j) if(m%lowprimes[i++] == 0) return false;\n  }\n  return x.millerRabin(t);\n}\n\n// (protected) true if probably prime (HAC 4.24, Miller-Rabin)\nfunction bnpMillerRabin(t) {\n  var n1 = this.subtract(BigInteger.ONE);\n  var k = n1.getLowestSetBit();\n  if(k <= 0) return false;\n  var r = n1.shiftRight(k);\n  t = (t+1)>>1;\n  if(t > lowprimes.length) t = lowprimes.length;\n  var a = nbi();\n  for(var i = 0; i < t; ++i) {\n    //Pick bases at random, instead of starting at 2\n    a.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);\n    var y = a.modPow(r,this);\n    if(y.compareTo(BigInteger.ONE) != 0 && y.compareTo(n1) != 0) {\n      var j = 1;\n      while(j++ < k && y.compareTo(n1) != 0) {\n        y = y.modPowInt(2,this);\n        if(y.compareTo(BigInteger.ONE) == 0) return false;\n      }\n      if(y.compareTo(n1) != 0) return false;\n    }\n  }\n  return true;\n}\n\n// protected\nBigInteger.prototype.chunkSize = bnpChunkSize;\nBigInteger.prototype.toRadix = bnpToRadix;\nBigInteger.prototype.fromRadix = bnpFromRadix;\nBigInteger.prototype.fromNumber = bnpFromNumber;\nBigInteger.prototype.bitwiseTo = bnpBitwiseTo;\nBigInteger.prototype.changeBit = bnpChangeBit;\nBigInteger.prototype.addTo = bnpAddTo;\nBigInteger.prototype.dMultiply = bnpDMultiply;\nBigInteger.prototype.dAddOffset = bnpDAddOffset;\nBigInteger.prototype.multiplyLowerTo = bnpMultiplyLowerTo;\nBigInteger.prototype.multiplyUpperTo = bnpMultiplyUpperTo;\nBigInteger.prototype.modInt = bnpModInt;\nBigInteger.prototype.millerRabin = bnpMillerRabin;\n\n// public\nBigInteger.prototype.clone = bnClone;\nBigInteger.prototype.intValue = bnIntValue;\nBigInteger.prototype.byteValue = bnByteValue;\nBigInteger.prototype.shortValue = bnShortValue;\nBigInteger.prototype.signum = bnSigNum;\nBigInteger.prototype.toByteArray = bnToByteArray;\nBigInteger.prototype.equals = bnEquals;\nBigInteger.prototype.min = bnMin;\nBigInteger.prototype.max = bnMax;\nBigInteger.prototype.and = bnAnd;\nBigInteger.prototype.or = bnOr;\nBigInteger.prototype.xor = bnXor;\nBigInteger.prototype.andNot = bnAndNot;\nBigInteger.prototype.not = bnNot;\nBigInteger.prototype.shiftLeft = bnShiftLeft;\nBigInteger.prototype.shiftRight = bnShiftRight;\nBigInteger.prototype.getLowestSetBit = bnGetLowestSetBit;\nBigInteger.prototype.bitCount = bnBitCount;\nBigInteger.prototype.testBit = bnTestBit;\nBigInteger.prototype.setBit = bnSetBit;\nBigInteger.prototype.clearBit = bnClearBit;\nBigInteger.prototype.flipBit = bnFlipBit;\nBigInteger.prototype.add = bnAdd;\nBigInteger.prototype.subtract = bnSubtract;\nBigInteger.prototype.multiply = bnMultiply;\nBigInteger.prototype.divide = bnDivide;\nBigInteger.prototype.remainder = bnRemainder;\nBigInteger.prototype.divideAndRemainder = bnDivideAndRemainder;\nBigInteger.prototype.modPow = bnModPow;\nBigInteger.prototype.modInverse = bnModInverse;\nBigInteger.prototype.pow = bnPow;\nBigInteger.prototype.gcd = bnGCD;\nBigInteger.prototype.isProbablePrime = bnIsProbablePrime;\n\n// JSBN-specific extension\nBigInteger.prototype.square = bnSquare;\n\n// BigInteger interfaces not implemented in jsbn:\n\n// BigInteger(int signum, byte[] magnitude)\n// double doubleValue()\n// float floatValue()\n// int hashCode()\n// long longValue()\n// static BigInteger valueOf(long val)\n\n// prng4.js - uses Arcfour as a PRNG\n\nfunction Arcfour() {\n  this.i = 0;\n  this.j = 0;\n  this.S = new Array();\n}\n\n// Initialize arcfour context from key, an array of ints, each from [0..255]\nfunction ARC4init(key) {\n  var i, j, t;\n  for(i = 0; i < 256; ++i)\n    this.S[i] = i;\n  j = 0;\n  for(i = 0; i < 256; ++i) {\n    j = (j + this.S[i] + key[i % key.length]) & 255;\n    t = this.S[i];\n    this.S[i] = this.S[j];\n    this.S[j] = t;\n  }\n  this.i = 0;\n  this.j = 0;\n}\n\nfunction ARC4next() {\n  var t;\n  this.i = (this.i + 1) & 255;\n  this.j = (this.j + this.S[this.i]) & 255;\n  t = this.S[this.i];\n  this.S[this.i] = this.S[this.j];\n  this.S[this.j] = t;\n  return this.S[(t + this.S[this.i]) & 255];\n}\n\nArcfour.prototype.init = ARC4init;\nArcfour.prototype.next = ARC4next;\n\n// Plug in your RNG constructor here\nfunction prng_newstate() {\n  return new Arcfour();\n}\n\n// Pool size must be a multiple of 4 and greater than 32.\n// An array of bytes the size of the pool will be passed to init()\nvar rng_psize = 256;\n\n// Random number generator - requires a PRNG backend, e.g. prng4.js\nvar rng_state;\nvar rng_pool;\nvar rng_pptr;\n\n// Initialize the pool with junk if needed.\nif(rng_pool == null) {\n  rng_pool = new Array();\n  rng_pptr = 0;\n  var t;\n  if(window.crypto && window.crypto.getRandomValues) {\n    // Extract entropy (2048 bits) from RNG if available\n    var z = new Uint32Array(256);\n    window.crypto.getRandomValues(z);\n    for (t = 0; t < z.length; ++t)\n      rng_pool[rng_pptr++] = z[t] & 255;\n  }\n\n  // Use mouse events for entropy, if we do not have enough entropy by the time\n  // we need it, entropy will be generated by Math.random.\n  var onMouseMoveListener = function(ev) {\n    this.count = this.count || 0;\n    if (this.count >= 256 || rng_pptr >= rng_psize) {\n      if (window.removeEventListener)\n        window.removeEventListener(\"mousemove\", onMouseMoveListener, false);\n      else if (window.detachEvent)\n        window.detachEvent(\"onmousemove\", onMouseMoveListener);\n      return;\n    }\n    try {\n      var mouseCoordinates = ev.x + ev.y;\n      rng_pool[rng_pptr++] = mouseCoordinates & 255;\n      this.count += 1;\n    } catch (e) {\n      // Sometimes Firefox will deny permission to access event properties for some reason. Ignore.\n    }\n  };\n  if (window.addEventListener)\n    window.addEventListener(\"mousemove\", onMouseMoveListener, false);\n  else if (window.attachEvent)\n    window.attachEvent(\"onmousemove\", onMouseMoveListener);\n\n}\n\nfunction rng_get_byte() {\n  if(rng_state == null) {\n    rng_state = prng_newstate();\n    // At this point, we may not have collected enough entropy.  If not, fall back to Math.random\n    while (rng_pptr < rng_psize) {\n      var random = Math.floor(65536 * Math.random());\n      rng_pool[rng_pptr++] = random & 255;\n    }\n    rng_state.init(rng_pool);\n    for(rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr)\n      rng_pool[rng_pptr] = 0;\n    rng_pptr = 0;\n  }\n  // TODO: allow reseeding after first request\n  return rng_state.next();\n}\n\nfunction rng_get_bytes(ba) {\n  var i;\n  for(i = 0; i < ba.length; ++i) ba[i] = rng_get_byte();\n}\n\nfunction SecureRandom() {}\n\nSecureRandom.prototype.nextBytes = rng_get_bytes;\n\n// Depends on jsbn.js and rng.js\n\n// Version 1.1: support utf-8 encoding in pkcs1pad2\n\n// convert a (hex) string to a bignum object\nfunction parseBigInt(str,r) {\n  return new BigInteger(str,r);\n}\n\nfunction linebrk(s,n) {\n  var ret = \"\";\n  var i = 0;\n  while(i + n < s.length) {\n    ret += s.substring(i,i+n) + \"\\n\";\n    i += n;\n  }\n  return ret + s.substring(i,s.length);\n}\n\nfunction byte2Hex(b) {\n  if(b < 0x10)\n    return \"0\" + b.toString(16);\n  else\n    return b.toString(16);\n}\n\n// PKCS#1 (type 2, random) pad input string s to n bytes, and return a bigint\nfunction pkcs1pad2(s,n) {\n  if(n < s.length + 11) { // TODO: fix for utf-8\n    console.error(\"Message too long for RSA\");\n    return null;\n  }\n  var ba = new Array();\n  var i = s.length - 1;\n  while(i >= 0 && n > 0) {\n    var c = s.charCodeAt(i--);\n    if(c < 128) { // encode using utf-8\n      ba[--n] = c;\n    }\n    else if((c > 127) && (c < 2048)) {\n      ba[--n] = (c & 63) | 128;\n      ba[--n] = (c >> 6) | 192;\n    }\n    else {\n      ba[--n] = (c & 63) | 128;\n      ba[--n] = ((c >> 6) & 63) | 128;\n      ba[--n] = (c >> 12) | 224;\n    }\n  }\n  ba[--n] = 0;\n  var rng = new SecureRandom();\n  var x = new Array();\n  while(n > 2) { // random non-zero pad\n    x[0] = 0;\n    while(x[0] == 0) rng.nextBytes(x);\n    ba[--n] = x[0];\n  }\n  ba[--n] = 2;\n  ba[--n] = 0;\n  return new BigInteger(ba);\n}\n\n// \"empty\" RSA key constructor\nfunction RSAKey() {\n  this.n = null;\n  this.e = 0;\n  this.d = null;\n  this.p = null;\n  this.q = null;\n  this.dmp1 = null;\n  this.dmq1 = null;\n  this.coeff = null;\n}\n\n// Set the public key fields N and e from hex strings\nfunction RSASetPublic(N,E) {\n  if(N != null && E != null && N.length > 0 && E.length > 0) {\n    this.n = parseBigInt(N,16);\n    this.e = parseInt(E,16);\n  }\n  else\n    console.error(\"Invalid RSA public key\");\n}\n\n// Perform raw public operation on \"x\": return x^e (mod n)\nfunction RSADoPublic(x) {\n  return x.modPowInt(this.e, this.n);\n}\n\n// Return the PKCS#1 RSA encryption of \"text\" as an even-length hex string\nfunction RSAEncrypt(text) {\n  var m = pkcs1pad2(text,(this.n.bitLength()+7)>>3);\n  if(m == null) return null;\n  var c = this.doPublic(m);\n  if(c == null) return null;\n  var h = c.toString(16);\n  if((h.length & 1) == 0) return h; else return \"0\" + h;\n}\n\n// Return the PKCS#1 RSA encryption of \"text\" as a Base64-encoded string\n//function RSAEncryptB64(text) {\n//  var h = this.encrypt(text);\n//  if(h) return hex2b64(h); else return null;\n//}\n\n// protected\nRSAKey.prototype.doPublic = RSADoPublic;\n\n// public\nRSAKey.prototype.setPublic = RSASetPublic;\nRSAKey.prototype.encrypt = RSAEncrypt;\n//RSAKey.prototype.encrypt_b64 = RSAEncryptB64;\n\n// Depends on rsa.js and jsbn2.js\n\n// Version 1.1: support utf-8 decoding in pkcs1unpad2\n\n// Undo PKCS#1 (type 2, random) padding and, if valid, return the plaintext\nfunction pkcs1unpad2(d,n) {\n  var b = d.toByteArray();\n  var i = 0;\n  while(i < b.length && b[i] == 0) ++i;\n  if(b.length-i != n-1 || b[i] != 2)\n    return null;\n  ++i;\n  while(b[i] != 0)\n    if(++i >= b.length) return null;\n  var ret = \"\";\n  while(++i < b.length) {\n    var c = b[i] & 255;\n    if(c < 128) { // utf-8 decode\n      ret += String.fromCharCode(c);\n    }\n    else if((c > 191) && (c < 224)) {\n      ret += String.fromCharCode(((c & 31) << 6) | (b[i+1] & 63));\n      ++i;\n    }\n    else {\n      ret += String.fromCharCode(((c & 15) << 12) | ((b[i+1] & 63) << 6) | (b[i+2] & 63));\n      i += 2;\n    }\n  }\n  return ret;\n}\n\n// Set the private key fields N, e, and d from hex strings\nfunction RSASetPrivate(N,E,D) {\n  if(N != null && E != null && N.length > 0 && E.length > 0) {\n    this.n = parseBigInt(N,16);\n    this.e = parseInt(E,16);\n    this.d = parseBigInt(D,16);\n  }\n  else\n    console.error(\"Invalid RSA private key\");\n}\n\n// Set the private key fields N, e, d and CRT params from hex strings\nfunction RSASetPrivateEx(N,E,D,P,Q,DP,DQ,C) {\n  if(N != null && E != null && N.length > 0 && E.length > 0) {\n    this.n = parseBigInt(N,16);\n    this.e = parseInt(E,16);\n    this.d = parseBigInt(D,16);\n    this.p = parseBigInt(P,16);\n    this.q = parseBigInt(Q,16);\n    this.dmp1 = parseBigInt(DP,16);\n    this.dmq1 = parseBigInt(DQ,16);\n    this.coeff = parseBigInt(C,16);\n  }\n  else\n    console.error(\"Invalid RSA private key\");\n}\n\n// Generate a new random private key B bits long, using public expt E\nfunction RSAGenerate(B,E) {\n  var rng = new SecureRandom();\n  var qs = B>>1;\n  this.e = parseInt(E,16);\n  var ee = new BigInteger(E,16);\n  for(;;) {\n    for(;;) {\n      this.p = new BigInteger(B-qs,1,rng);\n      if(this.p.subtract(BigInteger.ONE).gcd(ee).compareTo(BigInteger.ONE) == 0 && this.p.isProbablePrime(10)) break;\n    }\n    for(;;) {\n      this.q = new BigInteger(qs,1,rng);\n      if(this.q.subtract(BigInteger.ONE).gcd(ee).compareTo(BigInteger.ONE) == 0 && this.q.isProbablePrime(10)) break;\n    }\n    if(this.p.compareTo(this.q) <= 0) {\n      var t = this.p;\n      this.p = this.q;\n      this.q = t;\n    }\n    var p1 = this.p.subtract(BigInteger.ONE);\n    var q1 = this.q.subtract(BigInteger.ONE);\n    var phi = p1.multiply(q1);\n    if(phi.gcd(ee).compareTo(BigInteger.ONE) == 0) {\n      this.n = this.p.multiply(this.q);\n      this.d = ee.modInverse(phi);\n      this.dmp1 = this.d.mod(p1);\n      this.dmq1 = this.d.mod(q1);\n      this.coeff = this.q.modInverse(this.p);\n      break;\n    }\n  }\n}\n\n// Perform raw private operation on \"x\": return x^d (mod n)\nfunction RSADoPrivate(x) {\n  if(this.p == null || this.q == null)\n    return x.modPow(this.d, this.n);\n\n  // TODO: re-calculate any missing CRT params\n  var xp = x.mod(this.p).modPow(this.dmp1, this.p);\n  var xq = x.mod(this.q).modPow(this.dmq1, this.q);\n\n  while(xp.compareTo(xq) < 0)\n    xp = xp.add(this.p);\n  return xp.subtract(xq).multiply(this.coeff).mod(this.p).multiply(this.q).add(xq);\n}\n\n// Return the PKCS#1 RSA decryption of \"ctext\".\n// \"ctext\" is an even-length hex string and the output is a plain string.\nfunction RSADecrypt(ctext) {\n  var c = parseBigInt(ctext, 16);\n  var m = this.doPrivate(c);\n  if(m == null) return null;\n  return pkcs1unpad2(m, (this.n.bitLength()+7)>>3);\n}\n\n// Return the PKCS#1 RSA decryption of \"ctext\".\n// \"ctext\" is a Base64-encoded string and the output is a plain string.\n//function RSAB64Decrypt(ctext) {\n//  var h = b64tohex(ctext);\n//  if(h) return this.decrypt(h); else return null;\n//}\n\n// protected\nRSAKey.prototype.doPrivate = RSADoPrivate;\n\n// public\nRSAKey.prototype.setPrivate = RSASetPrivate;\nRSAKey.prototype.setPrivateEx = RSASetPrivateEx;\nRSAKey.prototype.generate = RSAGenerate;\nRSAKey.prototype.decrypt = RSADecrypt;\n//RSAKey.prototype.b64_decrypt = RSAB64Decrypt;\n\n// Copyright (c) 2011  Kevin M Burns Jr.\n// All Rights Reserved.\n// See \"LICENSE\" for details.\n//\n// Extension to jsbn which adds facilities for asynchronous RSA key generation\n// Primarily created to avoid execution timeout on mobile devices\n//\n// http://www-cs-students.stanford.edu/~tjw/jsbn/\n//\n// ---\n\n(function(){\n\n// Generate a new random private key B bits long, using public expt E\nvar RSAGenerateAsync = function (B, E, callback) {\n    //var rng = new SeededRandom();\n    var rng = new SecureRandom();\n    var qs = B >> 1;\n    this.e = parseInt(E, 16);\n    var ee = new BigInteger(E, 16);\n    var rsa = this;\n    // These functions have non-descript names because they were originally for(;;) loops.\n    // I don't know about cryptography to give them better names than loop1-4.\n    var loop1 = function() {\n        var loop4 = function() {\n            if (rsa.p.compareTo(rsa.q) <= 0) {\n                var t = rsa.p;\n                rsa.p = rsa.q;\n                rsa.q = t;\n            }\n            var p1 = rsa.p.subtract(BigInteger.ONE);\n            var q1 = rsa.q.subtract(BigInteger.ONE);\n            var phi = p1.multiply(q1);\n            if (phi.gcd(ee).compareTo(BigInteger.ONE) == 0) {\n                rsa.n = rsa.p.multiply(rsa.q);\n                rsa.d = ee.modInverse(phi);\n                rsa.dmp1 = rsa.d.mod(p1);\n                rsa.dmq1 = rsa.d.mod(q1);\n                rsa.coeff = rsa.q.modInverse(rsa.p);\n                setTimeout(function(){callback()},0); // escape\n            } else {\n                setTimeout(loop1,0);\n            }\n        };\n        var loop3 = function() {\n            rsa.q = nbi();\n            rsa.q.fromNumberAsync(qs, 1, rng, function(){\n                rsa.q.subtract(BigInteger.ONE).gcda(ee, function(r){\n                    if (r.compareTo(BigInteger.ONE) == 0 && rsa.q.isProbablePrime(10)) {\n                        setTimeout(loop4,0);\n                    } else {\n                        setTimeout(loop3,0);\n                    }\n                });\n            });\n        };\n        var loop2 = function() {\n            rsa.p = nbi();\n            rsa.p.fromNumberAsync(B - qs, 1, rng, function(){\n                rsa.p.subtract(BigInteger.ONE).gcda(ee, function(r){\n                    if (r.compareTo(BigInteger.ONE) == 0 && rsa.p.isProbablePrime(10)) {\n                        setTimeout(loop3,0);\n                    } else {\n                        setTimeout(loop2,0);\n                    }\n                });\n            });\n        };\n        setTimeout(loop2,0);\n    };\n    setTimeout(loop1,0);\n};\nRSAKey.prototype.generateAsync = RSAGenerateAsync;\n\n// Public API method\nvar bnGCDAsync = function (a, callback) {\n    var x = (this.s < 0) ? this.negate() : this.clone();\n    var y = (a.s < 0) ? a.negate() : a.clone();\n    if (x.compareTo(y) < 0) {\n        var t = x;\n        x = y;\n        y = t;\n    }\n    var i = x.getLowestSetBit(),\n        g = y.getLowestSetBit();\n    if (g < 0) {\n        callback(x);\n        return;\n    }\n    if (i < g) g = i;\n    if (g > 0) {\n        x.rShiftTo(g, x);\n        y.rShiftTo(g, y);\n    }\n    // Workhorse of the algorithm, gets called 200 - 800 times per 512 bit keygen.\n    var gcda1 = function() {\n        if ((i = x.getLowestSetBit()) > 0){ x.rShiftTo(i, x); }\n        if ((i = y.getLowestSetBit()) > 0){ y.rShiftTo(i, y); }\n        if (x.compareTo(y) >= 0) {\n            x.subTo(y, x);\n            x.rShiftTo(1, x);\n        } else {\n            y.subTo(x, y);\n            y.rShiftTo(1, y);\n        }\n        if(!(x.signum() > 0)) {\n            if (g > 0) y.lShiftTo(g, y);\n            setTimeout(function(){callback(y)},0); // escape\n        } else {\n            setTimeout(gcda1,0);\n        }\n    };\n    setTimeout(gcda1,10);\n};\nBigInteger.prototype.gcda = bnGCDAsync;\n\n// (protected) alternate constructor\nvar bnpFromNumberAsync = function (a,b,c,callback) {\n  if(\"number\" == typeof b) {\n    if(a < 2) {\n        this.fromInt(1);\n    } else {\n      this.fromNumber(a,c);\n      if(!this.testBit(a-1)){\n        this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this);\n      }\n      if(this.isEven()) {\n        this.dAddOffset(1,0);\n      }\n      var bnp = this;\n      var bnpfn1 = function(){\n        bnp.dAddOffset(2,0);\n        if(bnp.bitLength() > a) bnp.subTo(BigInteger.ONE.shiftLeft(a-1),bnp);\n        if(bnp.isProbablePrime(b)) {\n            setTimeout(function(){callback()},0); // escape\n        } else {\n            setTimeout(bnpfn1,0);\n        }\n      };\n      setTimeout(bnpfn1,0);\n    }\n  } else {\n    var x = new Array(), t = a&7;\n    x.length = (a>>3)+1;\n    b.nextBytes(x);\n    if(t > 0) x[0] &= ((1<<t)-1); else x[0] = 0;\n    this.fromString(x,256);\n  }\n};\nBigInteger.prototype.fromNumberAsync = bnpFromNumberAsync;\n\n})();\nvar b64map=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nvar b64pad=\"=\";\n\nfunction hex2b64(h) {\n  var i;\n  var c;\n  var ret = \"\";\n  for(i = 0; i+3 <= h.length; i+=3) {\n    c = parseInt(h.substring(i,i+3),16);\n    ret += b64map.charAt(c >> 6) + b64map.charAt(c & 63);\n  }\n  if(i+1 == h.length) {\n    c = parseInt(h.substring(i,i+1),16);\n    ret += b64map.charAt(c << 2);\n  }\n  else if(i+2 == h.length) {\n    c = parseInt(h.substring(i,i+2),16);\n    ret += b64map.charAt(c >> 2) + b64map.charAt((c & 3) << 4);\n  }\n  while((ret.length & 3) > 0) ret += b64pad;\n  return ret;\n}\n\n// convert a base64 string to hex\nfunction b64tohex(s) {\n  var ret = \"\"\n  var i;\n  var k = 0; // b64 state, 0-3\n  var slop;\n  for(i = 0; i < s.length; ++i) {\n    if(s.charAt(i) == b64pad) break;\n    v = b64map.indexOf(s.charAt(i));\n    if(v < 0) continue;\n    if(k == 0) {\n      ret += int2char(v >> 2);\n      slop = v & 3;\n      k = 1;\n    }\n    else if(k == 1) {\n      ret += int2char((slop << 2) | (v >> 4));\n      slop = v & 0xf;\n      k = 2;\n    }\n    else if(k == 2) {\n      ret += int2char(slop);\n      ret += int2char(v >> 2);\n      slop = v & 3;\n      k = 3;\n    }\n    else {\n      ret += int2char((slop << 2) | (v >> 4));\n      ret += int2char(v & 0xf);\n      k = 0;\n    }\n  }\n  if(k == 1)\n    ret += int2char(slop << 2);\n  return ret;\n}\n\n// convert a base64 string to a byte/number array\nfunction b64toBA(s) {\n  //piggyback on b64tohex for now, optimize later\n  var h = b64tohex(s);\n  var i;\n  var a = new Array();\n  for(i = 0; 2*i < h.length; ++i) {\n    a[i] = parseInt(h.substring(2*i,2*i+2),16);\n  }\n  return a;\n}\n\n/*! asn1-1.0.2.js (c) 2013 Kenji Urushima | kjur.github.com/jsrsasign/license\n */\n\nvar JSX = JSX || {};\nJSX.env = JSX.env || {};\n\nvar L = JSX, OP = Object.prototype, FUNCTION_TOSTRING = '[object Function]',ADD = [\"toString\", \"valueOf\"];\n\nJSX.env.parseUA = function(agent) {\n\n    var numberify = function(s) {\n        var c = 0;\n        return parseFloat(s.replace(/\\./g, function() {\n            return (c++ == 1) ? '' : '.';\n        }));\n    },\n\n    nav = navigator,\n    o = {\n        ie: 0,\n        opera: 0,\n        gecko: 0,\n        webkit: 0,\n        chrome: 0,\n        mobile: null,\n        air: 0,\n        ipad: 0,\n        iphone: 0,\n        ipod: 0,\n        ios: null,\n        android: 0,\n        webos: 0,\n        caja: nav && nav.cajaVersion,\n        secure: false,\n        os: null\n\n    },\n\n    ua = agent || (navigator && navigator.userAgent),\n    loc = window && window.location,\n    href = loc && loc.href,\n    m;\n\n    o.secure = href && (href.toLowerCase().indexOf(\"https\") === 0);\n\n    if (ua) {\n\n        if ((/windows|win32/i).test(ua)) {\n            o.os = 'windows';\n        } else if ((/macintosh/i).test(ua)) {\n            o.os = 'macintosh';\n        } else if ((/rhino/i).test(ua)) {\n            o.os = 'rhino';\n        }\n        if ((/KHTML/).test(ua)) {\n            o.webkit = 1;\n        }\n        m = ua.match(/AppleWebKit\\/([^\\s]*)/);\n        if (m && m[1]) {\n            o.webkit = numberify(m[1]);\n            if (/ Mobile\\//.test(ua)) {\n                o.mobile = 'Apple'; // iPhone or iPod Touch\n                m = ua.match(/OS ([^\\s]*)/);\n                if (m && m[1]) {\n                    m = numberify(m[1].replace('_', '.'));\n                }\n                o.ios = m;\n                o.ipad = o.ipod = o.iphone = 0;\n                m = ua.match(/iPad|iPod|iPhone/);\n                if (m && m[0]) {\n                    o[m[0].toLowerCase()] = o.ios;\n                }\n            } else {\n                m = ua.match(/NokiaN[^\\/]*|Android \\d\\.\\d|webOS\\/\\d\\.\\d/);\n                if (m) {\n                    o.mobile = m[0];\n                }\n                if (/webOS/.test(ua)) {\n                    o.mobile = 'WebOS';\n                    m = ua.match(/webOS\\/([^\\s]*);/);\n                    if (m && m[1]) {\n                        o.webos = numberify(m[1]);\n                    }\n                }\n                if (/ Android/.test(ua)) {\n                    o.mobile = 'Android';\n                    m = ua.match(/Android ([^\\s]*);/);\n                    if (m && m[1]) {\n                        o.android = numberify(m[1]);\n                    }\n                }\n            }\n            m = ua.match(/Chrome\\/([^\\s]*)/);\n            if (m && m[1]) {\n                o.chrome = numberify(m[1]); // Chrome\n            } else {\n                m = ua.match(/AdobeAIR\\/([^\\s]*)/);\n                if (m) {\n                    o.air = m[0]; // Adobe AIR 1.0 or better\n                }\n            }\n        }\n        if (!o.webkit) {\n            m = ua.match(/Opera[\\s\\/]([^\\s]*)/);\n            if (m && m[1]) {\n                o.opera = numberify(m[1]);\n                m = ua.match(/Version\\/([^\\s]*)/);\n                if (m && m[1]) {\n                    o.opera = numberify(m[1]); // opera 10+\n                }\n                m = ua.match(/Opera Mini[^;]*/);\n                if (m) {\n                    o.mobile = m[0]; // ex: Opera Mini/2.0.4509/1316\n                }\n            } else { // not opera or webkit\n                m = ua.match(/MSIE\\s([^;]*)/);\n                if (m && m[1]) {\n                    o.ie = numberify(m[1]);\n                } else { // not opera, webkit, or ie\n                    m = ua.match(/Gecko\\/([^\\s]*)/);\n                    if (m) {\n                        o.gecko = 1; // Gecko detected, look for revision\n                        m = ua.match(/rv:([^\\s\\)]*)/);\n                        if (m && m[1]) {\n                            o.gecko = numberify(m[1]);\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return o;\n};\n\nJSX.env.ua = JSX.env.parseUA();\n\nJSX.isFunction = function(o) {\n    return (typeof o === 'function') || OP.toString.apply(o) === FUNCTION_TOSTRING;\n};\n\nJSX._IEEnumFix = (JSX.env.ua.ie) ? function(r, s) {\n    var i, fname, f;\n    for (i=0;i<ADD.length;i=i+1) {\n\n        fname = ADD[i];\n        f = s[fname];\n\n        if (L.isFunction(f) && f!=OP[fname]) {\n            r[fname]=f;\n        }\n    }\n} : function(){};\n\nJSX.extend = function(subc, superc, overrides) {\n    if (!superc||!subc) {\n        throw new Error(\"extend failed, please check that \" +\n                        \"all dependencies are included.\");\n    }\n    var F = function() {}, i;\n    F.prototype=superc.prototype;\n    subc.prototype=new F();\n    subc.prototype.constructor=subc;\n    subc.superclass=superc.prototype;\n    if (superc.prototype.constructor == OP.constructor) {\n        superc.prototype.constructor=superc;\n    }\n\n    if (overrides) {\n        for (i in overrides) {\n            if (L.hasOwnProperty(overrides, i)) {\n                subc.prototype[i]=overrides[i];\n            }\n        }\n\n        L._IEEnumFix(subc.prototype, overrides);\n    }\n};\n\n/*\n * asn1.js - ASN.1 DER encoder classes\n *\n * Copyright (c) 2013 Kenji Urushima (kenji.urushima@gmail.com)\n *\n * This software is licensed under the terms of the MIT License.\n * http://kjur.github.com/jsrsasign/license\n *\n * The above copyright and license notice shall be \n * included in all copies or substantial portions of the Software.\n */\n\n/**\n * @fileOverview\n * @name asn1-1.0.js\n * @author Kenji Urushima kenji.urushima@gmail.com\n * @version 1.0.2 (2013-May-30)\n * @since 2.1\n * @license <a href=\"http://kjur.github.io/jsrsasign/license/\">MIT License</a>\n */\n\n/** \n * kjur's class library name space\n * <p>\n * This name space provides following name spaces:\n * <ul>\n * <li>{@link KJUR.asn1} - ASN.1 primitive hexadecimal encoder</li>\n * <li>{@link KJUR.asn1.x509} - ASN.1 structure for X.509 certificate and CRL</li>\n * <li>{@link KJUR.crypto} - Java Cryptographic Extension(JCE) style MessageDigest/Signature \n * class and utilities</li>\n * </ul>\n * </p> \n * NOTE: Please ignore method summary and document of this namespace. This caused by a bug of jsdoc2.\n  * @name KJUR\n * @namespace kjur's class library name space\n */\nif (typeof KJUR == \"undefined\" || !KJUR) KJUR = {};\n\n/**\n * kjur's ASN.1 class library name space\n * <p>\n * This is ITU-T X.690 ASN.1 DER encoder class library and\n * class structure and methods is very similar to \n * org.bouncycastle.asn1 package of \n * well known BouncyCaslte Cryptography Library.\n *\n * <h4>PROVIDING ASN.1 PRIMITIVES</h4>\n * Here are ASN.1 DER primitive classes.\n * <ul>\n * <li>{@link KJUR.asn1.DERBoolean}</li>\n * <li>{@link KJUR.asn1.DERInteger}</li>\n * <li>{@link KJUR.asn1.DERBitString}</li>\n * <li>{@link KJUR.asn1.DEROctetString}</li>\n * <li>{@link KJUR.asn1.DERNull}</li>\n * <li>{@link KJUR.asn1.DERObjectIdentifier}</li>\n * <li>{@link KJUR.asn1.DERUTF8String}</li>\n * <li>{@link KJUR.asn1.DERNumericString}</li>\n * <li>{@link KJUR.asn1.DERPrintableString}</li>\n * <li>{@link KJUR.asn1.DERTeletexString}</li>\n * <li>{@link KJUR.asn1.DERIA5String}</li>\n * <li>{@link KJUR.asn1.DERUTCTime}</li>\n * <li>{@link KJUR.asn1.DERGeneralizedTime}</li>\n * <li>{@link KJUR.asn1.DERSequence}</li>\n * <li>{@link KJUR.asn1.DERSet}</li>\n * </ul>\n *\n * <h4>OTHER ASN.1 CLASSES</h4>\n * <ul>\n * <li>{@link KJUR.asn1.ASN1Object}</li>\n * <li>{@link KJUR.asn1.DERAbstractString}</li>\n * <li>{@link KJUR.asn1.DERAbstractTime}</li>\n * <li>{@link KJUR.asn1.DERAbstractStructured}</li>\n * <li>{@link KJUR.asn1.DERTaggedObject}</li>\n * </ul>\n * </p>\n * NOTE: Please ignore method summary and document of this namespace. This caused by a bug of jsdoc2.\n * @name KJUR.asn1\n * @namespace\n */\nif (typeof KJUR.asn1 == \"undefined\" || !KJUR.asn1) KJUR.asn1 = {};\n\n/**\n * ASN1 utilities class\n * @name KJUR.asn1.ASN1Util\n * @classs ASN1 utilities class\n * @since asn1 1.0.2\n */\nKJUR.asn1.ASN1Util = new function() {\n    this.integerToByteHex = function(i) {\n\tvar h = i.toString(16);\n\tif ((h.length % 2) == 1) h = '0' + h;\n\treturn h;\n    };\n    this.bigIntToMinTwosComplementsHex = function(bigIntegerValue) {\n\tvar h = bigIntegerValue.toString(16);\n\tif (h.substr(0, 1) != '-') {\n\t    if (h.length % 2 == 1) {\n\t\th = '0' + h;\n\t    } else {\n\t\tif (! h.match(/^[0-7]/)) {\n\t\t    h = '00' + h;\n\t\t}\n\t    }\n\t} else {\n\t    var hPos = h.substr(1);\n\t    var xorLen = hPos.length;\n\t    if (xorLen % 2 == 1) {\n\t\txorLen += 1;\n\t    } else {\n\t\tif (! h.match(/^[0-7]/)) {\n\t\t    xorLen += 2;\n\t\t}\n\t    }\n\t    var hMask = '';\n\t    for (var i = 0; i < xorLen; i++) {\n\t\thMask += 'f';\n\t    }\n\t    var biMask = new BigInteger(hMask, 16);\n\t    var biNeg = biMask.xor(bigIntegerValue).add(BigInteger.ONE);\n\t    h = biNeg.toString(16).replace(/^-/, '');\n\t}\n\treturn h;\n    };\n    /**\n     * get PEM string from hexadecimal data and header string\n     * @name getPEMStringFromHex\n     * @memberOf KJUR.asn1.ASN1Util\n     * @function\n     * @param {String} dataHex hexadecimal string of PEM body\n     * @param {String} pemHeader PEM header string (ex. 'RSA PRIVATE KEY')\n     * @return {String} PEM formatted string of input data\n     * @description\n     * @example\n     * var pem  = KJUR.asn1.ASN1Util.getPEMStringFromHex('616161', 'RSA PRIVATE KEY');\n     * // value of pem will be:\n     * -----BEGIN PRIVATE KEY-----\n     * YWFh\n     * -----END PRIVATE KEY-----\n     */\n    this.getPEMStringFromHex = function(dataHex, pemHeader) {\n\tvar dataWA = CryptoJS.enc.Hex.parse(dataHex);\n\tvar dataB64 = CryptoJS.enc.Base64.stringify(dataWA);\n\tvar pemBody = dataB64.replace(/(.{64})/g, \"$1\\r\\n\");\n        pemBody = pemBody.replace(/\\r\\n$/, '');\n\treturn \"-----BEGIN \" + pemHeader + \"-----\\r\\n\" + \n               pemBody + \n               \"\\r\\n-----END \" + pemHeader + \"-----\\r\\n\";\n    };\n};\n\n// ********************************************************************\n//  Abstract ASN.1 Classes\n// ********************************************************************\n\n// ********************************************************************\n\n/**\n * base class for ASN.1 DER encoder object\n * @name KJUR.asn1.ASN1Object\n * @class base class for ASN.1 DER encoder object\n * @property {Boolean} isModified flag whether internal data was changed\n * @property {String} hTLV hexadecimal string of ASN.1 TLV\n * @property {String} hT hexadecimal string of ASN.1 TLV tag(T)\n * @property {String} hL hexadecimal string of ASN.1 TLV length(L)\n * @property {String} hV hexadecimal string of ASN.1 TLV value(V)\n * @description\n */\nKJUR.asn1.ASN1Object = function() {\n    var isModified = true;\n    var hTLV = null;\n    var hT = '00'\n    var hL = '00';\n    var hV = '';\n\n    /**\n     * get hexadecimal ASN.1 TLV length(L) bytes from TLV value(V)\n     * @name getLengthHexFromValue\n     * @memberOf KJUR.asn1.ASN1Object\n     * @function\n     * @return {String} hexadecimal string of ASN.1 TLV length(L)\n     */\n    this.getLengthHexFromValue = function() {\n\tif (typeof this.hV == \"undefined\" || this.hV == null) {\n\t    throw \"this.hV is null or undefined.\";\n\t}\n\tif (this.hV.length % 2 == 1) {\n\t    throw \"value hex must be even length: n=\" + hV.length + \",v=\" + this.hV;\n\t}\n\tvar n = this.hV.length / 2;\n\tvar hN = n.toString(16);\n\tif (hN.length % 2 == 1) {\n\t    hN = \"0\" + hN;\n\t}\n\tif (n < 128) {\n\t    return hN;\n\t} else {\n\t    var hNlen = hN.length / 2;\n\t    if (hNlen > 15) {\n\t\tthrow \"ASN.1 length too long to represent by 8x: n = \" + n.toString(16);\n\t    }\n\t    var head = 128 + hNlen;\n\t    return head.toString(16) + hN;\n\t}\n    };\n\n    /**\n     * get hexadecimal string of ASN.1 TLV bytes\n     * @name getEncodedHex\n     * @memberOf KJUR.asn1.ASN1Object\n     * @function\n     * @return {String} hexadecimal string of ASN.1 TLV\n     */\n    this.getEncodedHex = function() {\n\tif (this.hTLV == null || this.isModified) {\n\t    this.hV = this.getFreshValueHex();\n\t    this.hL = this.getLengthHexFromValue();\n\t    this.hTLV = this.hT + this.hL + this.hV;\n\t    this.isModified = false;\n\t    //console.error(\"first time: \" + this.hTLV);\n\t}\n\treturn this.hTLV;\n    };\n\n    /**\n     * get hexadecimal string of ASN.1 TLV value(V) bytes\n     * @name getValueHex\n     * @memberOf KJUR.asn1.ASN1Object\n     * @function\n     * @return {String} hexadecimal string of ASN.1 TLV value(V) bytes\n     */\n    this.getValueHex = function() {\n\tthis.getEncodedHex();\n\treturn this.hV;\n    }\n\n    this.getFreshValueHex = function() {\n\treturn '';\n    };\n};\n\n// == BEGIN DERAbstractString ================================================\n/**\n * base class for ASN.1 DER string classes\n * @name KJUR.asn1.DERAbstractString\n * @class base class for ASN.1 DER string classes\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\n * @property {String} s internal string of value\n * @extends KJUR.asn1.ASN1Object\n * @description\n * <br/>\n * As for argument 'params' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>str - specify initial ASN.1 value(V) by a string</li>\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\n * </ul>\n * NOTE: 'params' can be omitted.\n */\nKJUR.asn1.DERAbstractString = function(params) {\n    KJUR.asn1.DERAbstractString.superclass.constructor.call(this);\n    var s = null;\n    var hV = null;\n\n    /**\n     * get string value of this string object\n     * @name getString\n     * @memberOf KJUR.asn1.DERAbstractString\n     * @function\n     * @return {String} string value of this string object\n     */\n    this.getString = function() {\n\treturn this.s;\n    };\n\n    /**\n     * set value by a string\n     * @name setString\n     * @memberOf KJUR.asn1.DERAbstractString\n     * @function\n     * @param {String} newS value by a string to set\n     */\n    this.setString = function(newS) {\n\tthis.hTLV = null;\n\tthis.isModified = true;\n\tthis.s = newS;\n\tthis.hV = stohex(this.s);\n    };\n\n    /**\n     * set value by a hexadecimal string\n     * @name setStringHex\n     * @memberOf KJUR.asn1.DERAbstractString\n     * @function\n     * @param {String} newHexString value by a hexadecimal string to set\n     */\n    this.setStringHex = function(newHexString) {\n\tthis.hTLV = null;\n\tthis.isModified = true;\n\tthis.s = null;\n\tthis.hV = newHexString;\n    };\n\n    this.getFreshValueHex = function() {\n\treturn this.hV;\n    };\n\n    if (typeof params != \"undefined\") {\n\tif (typeof params['str'] != \"undefined\") {\n\t    this.setString(params['str']);\n\t} else if (typeof params['hex'] != \"undefined\") {\n\t    this.setStringHex(params['hex']);\n\t}\n    }\n};\nJSX.extend(KJUR.asn1.DERAbstractString, KJUR.asn1.ASN1Object);\n// == END   DERAbstractString ================================================\n\n// == BEGIN DERAbstractTime ==================================================\n/**\n * base class for ASN.1 DER Generalized/UTCTime class\n * @name KJUR.asn1.DERAbstractTime\n * @class base class for ASN.1 DER Generalized/UTCTime class\n * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})\n * @extends KJUR.asn1.ASN1Object\n * @description\n * @see KJUR.asn1.ASN1Object - superclass\n */\nKJUR.asn1.DERAbstractTime = function(params) {\n    KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);\n    var s = null;\n    var date = null;\n\n    // --- PRIVATE METHODS --------------------\n    this.localDateToUTC = function(d) {\n\tutc = d.getTime() + (d.getTimezoneOffset() * 60000);\n\tvar utcDate = new Date(utc);\n\treturn utcDate;\n    };\n\n    this.formatDate = function(dateObject, type) {\n\tvar pad = this.zeroPadding;\n\tvar d = this.localDateToUTC(dateObject);\n\tvar year = String(d.getFullYear());\n\tif (type == 'utc') year = year.substr(2, 2);\n\tvar month = pad(String(d.getMonth() + 1), 2);\n\tvar day = pad(String(d.getDate()), 2);\n\tvar hour = pad(String(d.getHours()), 2);\n\tvar min = pad(String(d.getMinutes()), 2);\n\tvar sec = pad(String(d.getSeconds()), 2);\n\treturn year + month + day + hour + min + sec + 'Z';\n    };\n\n    this.zeroPadding = function(s, len) {\n\tif (s.length >= len) return s;\n\treturn new Array(len - s.length + 1).join('0') + s;\n    };\n\n    // --- PUBLIC METHODS --------------------\n    /**\n     * get string value of this string object\n     * @name getString\n     * @memberOf KJUR.asn1.DERAbstractTime\n     * @function\n     * @return {String} string value of this time object\n     */\n    this.getString = function() {\n\treturn this.s;\n    };\n\n    /**\n     * set value by a string\n     * @name setString\n     * @memberOf KJUR.asn1.DERAbstractTime\n     * @function\n     * @param {String} newS value by a string to set such like \"130430235959Z\"\n     */\n    this.setString = function(newS) {\n\tthis.hTLV = null;\n\tthis.isModified = true;\n\tthis.s = newS;\n\tthis.hV = stohex(this.s);\n    };\n\n    /**\n     * set value by a Date object\n     * @name setByDateValue\n     * @memberOf KJUR.asn1.DERAbstractTime\n     * @function\n     * @param {Integer} year year of date (ex. 2013)\n     * @param {Integer} month month of date between 1 and 12 (ex. 12)\n     * @param {Integer} day day of month\n     * @param {Integer} hour hours of date\n     * @param {Integer} min minutes of date\n     * @param {Integer} sec seconds of date\n     */\n    this.setByDateValue = function(year, month, day, hour, min, sec) {\n\tvar dateObject = new Date(Date.UTC(year, month - 1, day, hour, min, sec, 0));\n\tthis.setByDate(dateObject);\n    };\n\n    this.getFreshValueHex = function() {\n\treturn this.hV;\n    };\n};\nJSX.extend(KJUR.asn1.DERAbstractTime, KJUR.asn1.ASN1Object);\n// == END   DERAbstractTime ==================================================\n\n// == BEGIN DERAbstractStructured ============================================\n/**\n * base class for ASN.1 DER structured class\n * @name KJUR.asn1.DERAbstractStructured\n * @class base class for ASN.1 DER structured class\n * @property {Array} asn1Array internal array of ASN1Object\n * @extends KJUR.asn1.ASN1Object\n * @description\n * @see KJUR.asn1.ASN1Object - superclass\n */\nKJUR.asn1.DERAbstractStructured = function(params) {\n    KJUR.asn1.DERAbstractString.superclass.constructor.call(this);\n    var asn1Array = null;\n\n    /**\n     * set value by array of ASN1Object\n     * @name setByASN1ObjectArray\n     * @memberOf KJUR.asn1.DERAbstractStructured\n     * @function\n     * @param {array} asn1ObjectArray array of ASN1Object to set\n     */\n    this.setByASN1ObjectArray = function(asn1ObjectArray) {\n\tthis.hTLV = null;\n\tthis.isModified = true;\n\tthis.asn1Array = asn1ObjectArray;\n    };\n\n    /**\n     * append an ASN1Object to internal array\n     * @name appendASN1Object\n     * @memberOf KJUR.asn1.DERAbstractStructured\n     * @function\n     * @param {ASN1Object} asn1Object to add\n     */\n    this.appendASN1Object = function(asn1Object) {\n\tthis.hTLV = null;\n\tthis.isModified = true;\n\tthis.asn1Array.push(asn1Object);\n    };\n\n    this.asn1Array = new Array();\n    if (typeof params != \"undefined\") {\n\tif (typeof params['array'] != \"undefined\") {\n\t    this.asn1Array = params['array'];\n\t}\n    }\n};\nJSX.extend(KJUR.asn1.DERAbstractStructured, KJUR.asn1.ASN1Object);\n\n\n// ********************************************************************\n//  ASN.1 Object Classes\n// ********************************************************************\n\n// ********************************************************************\n/**\n * class for ASN.1 DER Boolean\n * @name KJUR.asn1.DERBoolean\n * @class class for ASN.1 DER Boolean\n * @extends KJUR.asn1.ASN1Object\n * @description\n * @see KJUR.asn1.ASN1Object - superclass\n */\nKJUR.asn1.DERBoolean = function() {\n    KJUR.asn1.DERBoolean.superclass.constructor.call(this);\n    this.hT = \"01\";\n    this.hTLV = \"0101ff\";\n};\nJSX.extend(KJUR.asn1.DERBoolean, KJUR.asn1.ASN1Object);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER Integer\n * @name KJUR.asn1.DERInteger\n * @class class for ASN.1 DER Integer\n * @extends KJUR.asn1.ASN1Object\n * @description\n * <br/>\n * As for argument 'params' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>int - specify initial ASN.1 value(V) by integer value</li>\n * <li>bigint - specify initial ASN.1 value(V) by BigInteger object</li>\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\n * </ul>\n * NOTE: 'params' can be omitted.\n */\nKJUR.asn1.DERInteger = function(params) {\n    KJUR.asn1.DERInteger.superclass.constructor.call(this);\n    this.hT = \"02\";\n\n    /**\n     * set value by Tom Wu's BigInteger object\n     * @name setByBigInteger\n     * @memberOf KJUR.asn1.DERInteger\n     * @function\n     * @param {BigInteger} bigIntegerValue to set\n     */\n    this.setByBigInteger = function(bigIntegerValue) {\n\tthis.hTLV = null;\n\tthis.isModified = true;\n\tthis.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue);\n    };\n\n    /**\n     * set value by integer value\n     * @name setByInteger\n     * @memberOf KJUR.asn1.DERInteger\n     * @function\n     * @param {Integer} integer value to set\n     */\n    this.setByInteger = function(intValue) {\n\tvar bi = new BigInteger(String(intValue), 10);\n\tthis.setByBigInteger(bi);\n    };\n\n    /**\n     * set value by integer value\n     * @name setValueHex\n     * @memberOf KJUR.asn1.DERInteger\n     * @function\n     * @param {String} hexadecimal string of integer value\n     * @description\n     * <br/>\n     * NOTE: Value shall be represented by minimum octet length of\n     * two's complement representation.\n     */\n    this.setValueHex = function(newHexString) {\n\tthis.hV = newHexString;\n    };\n\n    this.getFreshValueHex = function() {\n\treturn this.hV;\n    };\n\n    if (typeof params != \"undefined\") {\n\tif (typeof params['bigint'] != \"undefined\") {\n\t    this.setByBigInteger(params['bigint']);\n\t} else if (typeof params['int'] != \"undefined\") {\n\t    this.setByInteger(params['int']);\n\t} else if (typeof params['hex'] != \"undefined\") {\n\t    this.setValueHex(params['hex']);\n\t}\n    }\n};\nJSX.extend(KJUR.asn1.DERInteger, KJUR.asn1.ASN1Object);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER encoded BitString primitive\n * @name KJUR.asn1.DERBitString\n * @class class for ASN.1 DER encoded BitString primitive\n * @extends KJUR.asn1.ASN1Object\n * @description \n * <br/>\n * As for argument 'params' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>bin - specify binary string (ex. '10111')</li>\n * <li>array - specify array of boolean (ex. [true,false,true,true])</li>\n * <li>hex - specify hexadecimal string of ASN.1 value(V) including unused bits</li>\n * </ul>\n * NOTE: 'params' can be omitted.\n */\nKJUR.asn1.DERBitString = function(params) {\n    KJUR.asn1.DERBitString.superclass.constructor.call(this);\n    this.hT = \"03\";\n\n    /**\n     * set ASN.1 value(V) by a hexadecimal string including unused bits\n     * @name setHexValueIncludingUnusedBits\n     * @memberOf KJUR.asn1.DERBitString\n     * @function\n     * @param {String} newHexStringIncludingUnusedBits\n     */\n    this.setHexValueIncludingUnusedBits = function(newHexStringIncludingUnusedBits) {\n\tthis.hTLV = null;\n\tthis.isModified = true;\n\tthis.hV = newHexStringIncludingUnusedBits;\n    };\n\n    /**\n     * set ASN.1 value(V) by unused bit and hexadecimal string of value\n     * @name setUnusedBitsAndHexValue\n     * @memberOf KJUR.asn1.DERBitString\n     * @function\n     * @param {Integer} unusedBits\n     * @param {String} hValue\n     */\n    this.setUnusedBitsAndHexValue = function(unusedBits, hValue) {\n\tif (unusedBits < 0 || 7 < unusedBits) {\n\t    throw \"unused bits shall be from 0 to 7: u = \" + unusedBits;\n\t}\n\tvar hUnusedBits = \"0\" + unusedBits;\n\tthis.hTLV = null;\n\tthis.isModified = true;\n\tthis.hV = hUnusedBits + hValue;\n    };\n\n    /**\n     * set ASN.1 DER BitString by binary string\n     * @name setByBinaryString\n     * @memberOf KJUR.asn1.DERBitString\n     * @function\n     * @param {String} binaryString binary value string (i.e. '10111')\n     * @description\n     * Its unused bits will be calculated automatically by length of \n     * 'binaryValue'. <br/>\n     * NOTE: Trailing zeros '0' will be ignored.\n     */\n    this.setByBinaryString = function(binaryString) {\n\tbinaryString = binaryString.replace(/0+$/, '');\n\tvar unusedBits = 8 - binaryString.length % 8;\n\tif (unusedBits == 8) unusedBits = 0;\n\tfor (var i = 0; i <= unusedBits; i++) {\n\t    binaryString += '0';\n\t}\n\tvar h = '';\n\tfor (var i = 0; i < binaryString.length - 1; i += 8) {\n\t    var b = binaryString.substr(i, 8);\n\t    var x = parseInt(b, 2).toString(16);\n\t    if (x.length == 1) x = '0' + x;\n\t    h += x;  \n\t}\n\tthis.hTLV = null;\n\tthis.isModified = true;\n\tthis.hV = '0' + unusedBits + h;\n    };\n\n    /**\n     * set ASN.1 TLV value(V) by an array of boolean\n     * @name setByBooleanArray\n     * @memberOf KJUR.asn1.DERBitString\n     * @function\n     * @param {array} booleanArray array of boolean (ex. [true, false, true])\n     * @description\n     * NOTE: Trailing falses will be ignored.\n     */\n    this.setByBooleanArray = function(booleanArray) {\n\tvar s = '';\n\tfor (var i = 0; i < booleanArray.length; i++) {\n\t    if (booleanArray[i] == true) {\n\t\ts += '1';\n\t    } else {\n\t\ts += '0';\n\t    }\n\t}\n\tthis.setByBinaryString(s);\n    };\n\n    /**\n     * generate an array of false with specified length\n     * @name newFalseArray\n     * @memberOf KJUR.asn1.DERBitString\n     * @function\n     * @param {Integer} nLength length of array to generate\n     * @return {array} array of boolean faluse\n     * @description\n     * This static method may be useful to initialize boolean array.\n     */\n    this.newFalseArray = function(nLength) {\n\tvar a = new Array(nLength);\n\tfor (var i = 0; i < nLength; i++) {\n\t    a[i] = false;\n\t}\n\treturn a;\n    };\n\n    this.getFreshValueHex = function() {\n\treturn this.hV;\n    };\n\n    if (typeof params != \"undefined\") {\n\tif (typeof params['hex'] != \"undefined\") {\n\t    this.setHexValueIncludingUnusedBits(params['hex']);\n\t} else if (typeof params['bin'] != \"undefined\") {\n\t    this.setByBinaryString(params['bin']);\n\t} else if (typeof params['array'] != \"undefined\") {\n\t    this.setByBooleanArray(params['array']);\n\t}\n    }\n};\nJSX.extend(KJUR.asn1.DERBitString, KJUR.asn1.ASN1Object);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER OctetString\n * @name KJUR.asn1.DEROctetString\n * @class class for ASN.1 DER OctetString\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\n * @extends KJUR.asn1.DERAbstractString\n * @description\n * @see KJUR.asn1.DERAbstractString - superclass\n */\nKJUR.asn1.DEROctetString = function(params) {\n    KJUR.asn1.DEROctetString.superclass.constructor.call(this, params);\n    this.hT = \"04\";\n};\nJSX.extend(KJUR.asn1.DEROctetString, KJUR.asn1.DERAbstractString);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER Null\n * @name KJUR.asn1.DERNull\n * @class class for ASN.1 DER Null\n * @extends KJUR.asn1.ASN1Object\n * @description\n * @see KJUR.asn1.ASN1Object - superclass\n */\nKJUR.asn1.DERNull = function() {\n    KJUR.asn1.DERNull.superclass.constructor.call(this);\n    this.hT = \"05\";\n    this.hTLV = \"0500\";\n};\nJSX.extend(KJUR.asn1.DERNull, KJUR.asn1.ASN1Object);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER ObjectIdentifier\n * @name KJUR.asn1.DERObjectIdentifier\n * @class class for ASN.1 DER ObjectIdentifier\n * @param {Array} params associative array of parameters (ex. {'oid': '2.5.4.5'})\n * @extends KJUR.asn1.ASN1Object\n * @description\n * <br/>\n * As for argument 'params' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>oid - specify initial ASN.1 value(V) by a oid string (ex. 2.5.4.13)</li>\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\n * </ul>\n * NOTE: 'params' can be omitted.\n */\nKJUR.asn1.DERObjectIdentifier = function(params) {\n    var itox = function(i) {\n\tvar h = i.toString(16);\n\tif (h.length == 1) h = '0' + h;\n\treturn h;\n    };\n    var roidtox = function(roid) {\n\tvar h = '';\n\tvar bi = new BigInteger(roid, 10);\n\tvar b = bi.toString(2);\n\tvar padLen = 7 - b.length % 7;\n\tif (padLen == 7) padLen = 0;\n\tvar bPad = '';\n\tfor (var i = 0; i < padLen; i++) bPad += '0';\n\tb = bPad + b;\n\tfor (var i = 0; i < b.length - 1; i += 7) {\n\t    var b8 = b.substr(i, 7);\n\t    if (i != b.length - 7) b8 = '1' + b8;\n\t    h += itox(parseInt(b8, 2));\n\t}\n\treturn h;\n    }\n\n    KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this);\n    this.hT = \"06\";\n\n    /**\n     * set value by a hexadecimal string\n     * @name setValueHex\n     * @memberOf KJUR.asn1.DERObjectIdentifier\n     * @function\n     * @param {String} newHexString hexadecimal value of OID bytes\n     */\n    this.setValueHex = function(newHexString) {\n\tthis.hTLV = null;\n\tthis.isModified = true;\n\tthis.s = null;\n\tthis.hV = newHexString;\n    };\n\n    /**\n     * set value by a OID string\n     * @name setValueOidString\n     * @memberOf KJUR.asn1.DERObjectIdentifier\n     * @function\n     * @param {String} oidString OID string (ex. 2.5.4.13)\n     */\n    this.setValueOidString = function(oidString) {\n\tif (! oidString.match(/^[0-9.]+$/)) {\n\t    throw \"malformed oid string: \" + oidString;\n\t}\n\tvar h = '';\n\tvar a = oidString.split('.');\n\tvar i0 = parseInt(a[0]) * 40 + parseInt(a[1]);\n\th += itox(i0);\n\ta.splice(0, 2);\n\tfor (var i = 0; i < a.length; i++) {\n\t    h += roidtox(a[i]);\n\t}\n\tthis.hTLV = null;\n\tthis.isModified = true;\n\tthis.s = null;\n\tthis.hV = h;\n    };\n\n    /**\n     * set value by a OID name\n     * @name setValueName\n     * @memberOf KJUR.asn1.DERObjectIdentifier\n     * @function\n     * @param {String} oidName OID name (ex. 'serverAuth')\n     * @since 1.0.1\n     * @description\n     * OID name shall be defined in 'KJUR.asn1.x509.OID.name2oidList'.\n     * Otherwise raise error.\n     */\n    this.setValueName = function(oidName) {\n\tif (typeof KJUR.asn1.x509.OID.name2oidList[oidName] != \"undefined\") {\n\t    var oid = KJUR.asn1.x509.OID.name2oidList[oidName];\n\t    this.setValueOidString(oid);\n\t} else {\n\t    throw \"DERObjectIdentifier oidName undefined: \" + oidName;\n\t}\n    };\n\n    this.getFreshValueHex = function() {\n\treturn this.hV;\n    };\n\n    if (typeof params != \"undefined\") {\n\tif (typeof params['oid'] != \"undefined\") {\n\t    this.setValueOidString(params['oid']);\n\t} else if (typeof params['hex'] != \"undefined\") {\n\t    this.setValueHex(params['hex']);\n\t} else if (typeof params['name'] != \"undefined\") {\n\t    this.setValueName(params['name']);\n\t}\n    }\n};\nJSX.extend(KJUR.asn1.DERObjectIdentifier, KJUR.asn1.ASN1Object);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER UTF8String\n * @name KJUR.asn1.DERUTF8String\n * @class class for ASN.1 DER UTF8String\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\n * @extends KJUR.asn1.DERAbstractString\n * @description\n * @see KJUR.asn1.DERAbstractString - superclass\n */\nKJUR.asn1.DERUTF8String = function(params) {\n    KJUR.asn1.DERUTF8String.superclass.constructor.call(this, params);\n    this.hT = \"0c\";\n};\nJSX.extend(KJUR.asn1.DERUTF8String, KJUR.asn1.DERAbstractString);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER NumericString\n * @name KJUR.asn1.DERNumericString\n * @class class for ASN.1 DER NumericString\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\n * @extends KJUR.asn1.DERAbstractString\n * @description\n * @see KJUR.asn1.DERAbstractString - superclass\n */\nKJUR.asn1.DERNumericString = function(params) {\n    KJUR.asn1.DERNumericString.superclass.constructor.call(this, params);\n    this.hT = \"12\";\n};\nJSX.extend(KJUR.asn1.DERNumericString, KJUR.asn1.DERAbstractString);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER PrintableString\n * @name KJUR.asn1.DERPrintableString\n * @class class for ASN.1 DER PrintableString\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\n * @extends KJUR.asn1.DERAbstractString\n * @description\n * @see KJUR.asn1.DERAbstractString - superclass\n */\nKJUR.asn1.DERPrintableString = function(params) {\n    KJUR.asn1.DERPrintableString.superclass.constructor.call(this, params);\n    this.hT = \"13\";\n};\nJSX.extend(KJUR.asn1.DERPrintableString, KJUR.asn1.DERAbstractString);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER TeletexString\n * @name KJUR.asn1.DERTeletexString\n * @class class for ASN.1 DER TeletexString\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\n * @extends KJUR.asn1.DERAbstractString\n * @description\n * @see KJUR.asn1.DERAbstractString - superclass\n */\nKJUR.asn1.DERTeletexString = function(params) {\n    KJUR.asn1.DERTeletexString.superclass.constructor.call(this, params);\n    this.hT = \"14\";\n};\nJSX.extend(KJUR.asn1.DERTeletexString, KJUR.asn1.DERAbstractString);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER IA5String\n * @name KJUR.asn1.DERIA5String\n * @class class for ASN.1 DER IA5String\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\n * @extends KJUR.asn1.DERAbstractString\n * @description\n * @see KJUR.asn1.DERAbstractString - superclass\n */\nKJUR.asn1.DERIA5String = function(params) {\n    KJUR.asn1.DERIA5String.superclass.constructor.call(this, params);\n    this.hT = \"16\";\n};\nJSX.extend(KJUR.asn1.DERIA5String, KJUR.asn1.DERAbstractString);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER UTCTime\n * @name KJUR.asn1.DERUTCTime\n * @class class for ASN.1 DER UTCTime\n * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})\n * @extends KJUR.asn1.DERAbstractTime\n * @description\n * <br/>\n * As for argument 'params' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>str - specify initial ASN.1 value(V) by a string (ex.'130430235959Z')</li>\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\n * <li>date - specify Date object.</li>\n * </ul>\n * NOTE: 'params' can be omitted.\n * <h4>EXAMPLES</h4>\n * @example\n * var d1 = new KJUR.asn1.DERUTCTime();\n * d1.setString('130430125959Z');\n *\n * var d2 = new KJUR.asn1.DERUTCTime({'str': '130430125959Z'});\n *\n * var d3 = new KJUR.asn1.DERUTCTime({'date': new Date(Date.UTC(2015, 0, 31, 0, 0, 0, 0))});\n */\nKJUR.asn1.DERUTCTime = function(params) {\n    KJUR.asn1.DERUTCTime.superclass.constructor.call(this, params);\n    this.hT = \"17\";\n\n    /**\n     * set value by a Date object\n     * @name setByDate\n     * @memberOf KJUR.asn1.DERUTCTime\n     * @function\n     * @param {Date} dateObject Date object to set ASN.1 value(V)\n     */\n    this.setByDate = function(dateObject) {\n\tthis.hTLV = null;\n\tthis.isModified = true;\n\tthis.date = dateObject;\n\tthis.s = this.formatDate(this.date, 'utc');\n\tthis.hV = stohex(this.s);\n    };\n\n    if (typeof params != \"undefined\") {\n\tif (typeof params['str'] != \"undefined\") {\n\t    this.setString(params['str']);\n\t} else if (typeof params['hex'] != \"undefined\") {\n\t    this.setStringHex(params['hex']);\n\t} else if (typeof params['date'] != \"undefined\") {\n\t    this.setByDate(params['date']);\n\t}\n    }\n};\nJSX.extend(KJUR.asn1.DERUTCTime, KJUR.asn1.DERAbstractTime);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER GeneralizedTime\n * @name KJUR.asn1.DERGeneralizedTime\n * @class class for ASN.1 DER GeneralizedTime\n * @param {Array} params associative array of parameters (ex. {'str': '20130430235959Z'})\n * @extends KJUR.asn1.DERAbstractTime\n * @description\n * <br/>\n * As for argument 'params' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>str - specify initial ASN.1 value(V) by a string (ex.'20130430235959Z')</li>\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\n * <li>date - specify Date object.</li>\n * </ul>\n * NOTE: 'params' can be omitted.\n */\nKJUR.asn1.DERGeneralizedTime = function(params) {\n    KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this, params);\n    this.hT = \"18\";\n\n    /**\n     * set value by a Date object\n     * @name setByDate\n     * @memberOf KJUR.asn1.DERGeneralizedTime\n     * @function\n     * @param {Date} dateObject Date object to set ASN.1 value(V)\n     * @example\n     * When you specify UTC time, use 'Date.UTC' method like this:<br/>\n     * var o = new DERUTCTime();\n     * var date = new Date(Date.UTC(2015, 0, 31, 23, 59, 59, 0)); #2015JAN31 23:59:59\n     * o.setByDate(date);\n     */\n    this.setByDate = function(dateObject) {\n\tthis.hTLV = null;\n\tthis.isModified = true;\n\tthis.date = dateObject;\n\tthis.s = this.formatDate(this.date, 'gen');\n\tthis.hV = stohex(this.s);\n    };\n\n    if (typeof params != \"undefined\") {\n\tif (typeof params['str'] != \"undefined\") {\n\t    this.setString(params['str']);\n\t} else if (typeof params['hex'] != \"undefined\") {\n\t    this.setStringHex(params['hex']);\n\t} else if (typeof params['date'] != \"undefined\") {\n\t    this.setByDate(params['date']);\n\t}\n    }\n};\nJSX.extend(KJUR.asn1.DERGeneralizedTime, KJUR.asn1.DERAbstractTime);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER Sequence\n * @name KJUR.asn1.DERSequence\n * @class class for ASN.1 DER Sequence\n * @extends KJUR.asn1.DERAbstractStructured\n * @description\n * <br/>\n * As for argument 'params' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>array - specify array of ASN1Object to set elements of content</li>\n * </ul>\n * NOTE: 'params' can be omitted.\n */\nKJUR.asn1.DERSequence = function(params) {\n    KJUR.asn1.DERSequence.superclass.constructor.call(this, params);\n    this.hT = \"30\";\n    this.getFreshValueHex = function() {\n\tvar h = '';\n\tfor (var i = 0; i < this.asn1Array.length; i++) {\n\t    var asn1Obj = this.asn1Array[i];\n\t    h += asn1Obj.getEncodedHex();\n\t}\n\tthis.hV = h;\n\treturn this.hV;\n    };\n};\nJSX.extend(KJUR.asn1.DERSequence, KJUR.asn1.DERAbstractStructured);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER Set\n * @name KJUR.asn1.DERSet\n * @class class for ASN.1 DER Set\n * @extends KJUR.asn1.DERAbstractStructured\n * @description\n * <br/>\n * As for argument 'params' for constructor, you can specify one of\n * following properties:\n * <ul>\n * <li>array - specify array of ASN1Object to set elements of content</li>\n * </ul>\n * NOTE: 'params' can be omitted.\n */\nKJUR.asn1.DERSet = function(params) {\n    KJUR.asn1.DERSet.superclass.constructor.call(this, params);\n    this.hT = \"31\";\n    this.getFreshValueHex = function() {\n\tvar a = new Array();\n\tfor (var i = 0; i < this.asn1Array.length; i++) {\n\t    var asn1Obj = this.asn1Array[i];\n\t    a.push(asn1Obj.getEncodedHex());\n\t}\n\ta.sort();\n\tthis.hV = a.join('');\n\treturn this.hV;\n    };\n};\nJSX.extend(KJUR.asn1.DERSet, KJUR.asn1.DERAbstractStructured);\n\n// ********************************************************************\n/**\n * class for ASN.1 DER TaggedObject\n * @name KJUR.asn1.DERTaggedObject\n * @class class for ASN.1 DER TaggedObject\n * @extends KJUR.asn1.ASN1Object\n * @description\n * <br/>\n * Parameter 'tagNoNex' is ASN.1 tag(T) value for this object.\n * For example, if you find '[1]' tag in a ASN.1 dump, \n * 'tagNoHex' will be 'a1'.\n * <br/>\n * As for optional argument 'params' for constructor, you can specify *ANY* of\n * following properties:\n * <ul>\n * <li>explicit - specify true if this is explicit tag otherwise false \n *     (default is 'true').</li>\n * <li>tag - specify tag (default is 'a0' which means [0])</li>\n * <li>obj - specify ASN1Object which is tagged</li>\n * </ul>\n * @example\n * d1 = new KJUR.asn1.DERUTF8String({'str':'a'});\n * d2 = new KJUR.asn1.DERTaggedObject({'obj': d1});\n * hex = d2.getEncodedHex();\n */\nKJUR.asn1.DERTaggedObject = function(params) {\n    KJUR.asn1.DERTaggedObject.superclass.constructor.call(this);\n    this.hT = \"a0\";\n    this.hV = '';\n    this.isExplicit = true;\n    this.asn1Object = null;\n\n    /**\n     * set value by an ASN1Object\n     * @name setString\n     * @memberOf KJUR.asn1.DERTaggedObject\n     * @function\n     * @param {Boolean} isExplicitFlag flag for explicit/implicit tag\n     * @param {Integer} tagNoHex hexadecimal string of ASN.1 tag\n     * @param {ASN1Object} asn1Object ASN.1 to encapsulate\n     */\n    this.setASN1Object = function(isExplicitFlag, tagNoHex, asn1Object) {\n\tthis.hT = tagNoHex;\n\tthis.isExplicit = isExplicitFlag;\n\tthis.asn1Object = asn1Object;\n\tif (this.isExplicit) {\n\t    this.hV = this.asn1Object.getEncodedHex();\n\t    this.hTLV = null;\n\t    this.isModified = true;\n\t} else {\n\t    this.hV = null;\n\t    this.hTLV = asn1Object.getEncodedHex();\n\t    this.hTLV = this.hTLV.replace(/^../, tagNoHex);\n\t    this.isModified = false;\n\t}\n    };\n\n    this.getFreshValueHex = function() {\n\treturn this.hV;\n    };\n\n    if (typeof params != \"undefined\") {\n\tif (typeof params['tag'] != \"undefined\") {\n\t    this.hT = params['tag'];\n\t}\n\tif (typeof params['explicit'] != \"undefined\") {\n\t    this.isExplicit = params['explicit'];\n\t}\n\tif (typeof params['obj'] != \"undefined\") {\n\t    this.asn1Object = params['obj'];\n\t    this.setASN1Object(this.isExplicit, this.hT, this.asn1Object);\n\t}\n    }\n};\nJSX.extend(KJUR.asn1.DERTaggedObject, KJUR.asn1.ASN1Object);\n// Hex JavaScript decoder\n// Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>\n\n// Permission to use, copy, modify, and/or distribute this software for any\n// purpose with or without fee is hereby granted, provided that the above\n// copyright notice and this permission notice appear in all copies.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n\n/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */\n(function (undefined) {\n\"use strict\";\n\nvar Hex = {},\n    decoder;\n\nHex.decode = function(a) {\n    var i;\n    if (decoder === undefined) {\n        var hex = \"0123456789ABCDEF\",\n            ignore = \" \\f\\n\\r\\t\\u00A0\\u2028\\u2029\";\n        decoder = [];\n        for (i = 0; i < 16; ++i)\n            decoder[hex.charAt(i)] = i;\n        hex = hex.toLowerCase();\n        for (i = 10; i < 16; ++i)\n            decoder[hex.charAt(i)] = i;\n        for (i = 0; i < ignore.length; ++i)\n            decoder[ignore.charAt(i)] = -1;\n    }\n    var out = [],\n        bits = 0,\n        char_count = 0;\n    for (i = 0; i < a.length; ++i) {\n        var c = a.charAt(i);\n        if (c == '=')\n            break;\n        c = decoder[c];\n        if (c == -1)\n            continue;\n        if (c === undefined)\n            throw 'Illegal character at offset ' + i;\n        bits |= c;\n        if (++char_count >= 2) {\n            out[out.length] = bits;\n            bits = 0;\n            char_count = 0;\n        } else {\n            bits <<= 4;\n        }\n    }\n    if (char_count)\n        throw \"Hex encoding incomplete: 4 bits missing\";\n    return out;\n};\n\n// export globals\nwindow.Hex = Hex;\n})();\n// Base64 JavaScript decoder\n// Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>\n\n// Permission to use, copy, modify, and/or distribute this software for any\n// purpose with or without fee is hereby granted, provided that the above\n// copyright notice and this permission notice appear in all copies.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n\n/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */\n(function (undefined) {\n\"use strict\";\n\nvar Base64 = {},\n    decoder;\n\nBase64.decode = function (a) {\n    var i;\n    if (decoder === undefined) {\n        var b64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",\n            ignore = \"= \\f\\n\\r\\t\\u00A0\\u2028\\u2029\";\n        decoder = [];\n        for (i = 0; i < 64; ++i)\n            decoder[b64.charAt(i)] = i;\n        for (i = 0; i < ignore.length; ++i)\n            decoder[ignore.charAt(i)] = -1;\n    }\n    var out = [];\n    var bits = 0, char_count = 0;\n    for (i = 0; i < a.length; ++i) {\n        var c = a.charAt(i);\n        if (c == '=')\n            break;\n        c = decoder[c];\n        if (c == -1)\n            continue;\n        if (c === undefined)\n            throw 'Illegal character at offset ' + i;\n        bits |= c;\n        if (++char_count >= 4) {\n            out[out.length] = (bits >> 16);\n            out[out.length] = (bits >> 8) & 0xFF;\n            out[out.length] = bits & 0xFF;\n            bits = 0;\n            char_count = 0;\n        } else {\n            bits <<= 6;\n        }\n    }\n    switch (char_count) {\n      case 1:\n        throw \"Base64 encoding incomplete: at least 2 bits missing\";\n      case 2:\n        out[out.length] = (bits >> 10);\n        break;\n      case 3:\n        out[out.length] = (bits >> 16);\n        out[out.length] = (bits >> 8) & 0xFF;\n        break;\n    }\n    return out;\n};\n\nBase64.re = /-----BEGIN [^-]+-----([A-Za-z0-9+\\/=\\s]+)-----END [^-]+-----|begin-base64[^\\n]+\\n([A-Za-z0-9+\\/=\\s]+)====/;\nBase64.unarmor = function (a) {\n    var m = Base64.re.exec(a);\n    if (m) {\n        if (m[1])\n            a = m[1];\n        else if (m[2])\n            a = m[2];\n        else\n            throw \"RegExp out of sync\";\n    }\n    return Base64.decode(a);\n};\n\n// export globals\nwindow.Base64 = Base64;\n})();\n// ASN.1 JavaScript decoder\n// Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>\n\n// Permission to use, copy, modify, and/or distribute this software for any\n// purpose with or without fee is hereby granted, provided that the above\n// copyright notice and this permission notice appear in all copies.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n\n/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */\n/*global oids */\n(function (undefined) {\n\"use strict\";\n\nvar hardLimit = 100,\n    ellipsis = \"\\u2026\",\n    DOM = {\n        tag: function (tagName, className) {\n            var t = document.createElement(tagName);\n            t.className = className;\n            return t;\n        },\n        text: function (str) {\n            return document.createTextNode(str);\n        }\n    };\n\nfunction Stream(enc, pos) {\n    if (enc instanceof Stream) {\n        this.enc = enc.enc;\n        this.pos = enc.pos;\n    } else {\n        this.enc = enc;\n        this.pos = pos;\n    }\n}\nStream.prototype.get = function (pos) {\n    if (pos === undefined)\n        pos = this.pos++;\n    if (pos >= this.enc.length)\n        throw 'Requesting byte offset ' + pos + ' on a stream of length ' + this.enc.length;\n    return this.enc[pos];\n};\nStream.prototype.hexDigits = \"0123456789ABCDEF\";\nStream.prototype.hexByte = function (b) {\n    return this.hexDigits.charAt((b >> 4) & 0xF) + this.hexDigits.charAt(b & 0xF);\n};\nStream.prototype.hexDump = function (start, end, raw) {\n    var s = \"\";\n    for (var i = start; i < end; ++i) {\n        s += this.hexByte(this.get(i));\n        if (raw !== true)\n            switch (i & 0xF) {\n            case 0x7: s += \"  \"; break;\n            case 0xF: s += \"\\n\"; break;\n            default:  s += \" \";\n            }\n    }\n    return s;\n};\nStream.prototype.parseStringISO = function (start, end) {\n    var s = \"\";\n    for (var i = start; i < end; ++i)\n        s += String.fromCharCode(this.get(i));\n    return s;\n};\nStream.prototype.parseStringUTF = function (start, end) {\n    var s = \"\";\n    for (var i = start; i < end; ) {\n        var c = this.get(i++);\n        if (c < 128)\n            s += String.fromCharCode(c);\n        else if ((c > 191) && (c < 224))\n            s += String.fromCharCode(((c & 0x1F) << 6) | (this.get(i++) & 0x3F));\n        else\n            s += String.fromCharCode(((c & 0x0F) << 12) | ((this.get(i++) & 0x3F) << 6) | (this.get(i++) & 0x3F));\n    }\n    return s;\n};\nStream.prototype.parseStringBMP = function (start, end) {\n    var str = \"\"\n    for (var i = start; i < end; i += 2) {\n        var high_byte = this.get(i);\n        var low_byte = this.get(i + 1);\n        str += String.fromCharCode( (high_byte << 8) + low_byte );\n    }\n\n    return str;\n};\nStream.prototype.reTime = /^((?:1[89]|2\\d)?\\d\\d)(0[1-9]|1[0-2])(0[1-9]|[12]\\d|3[01])([01]\\d|2[0-3])(?:([0-5]\\d)(?:([0-5]\\d)(?:[.,](\\d{1,3}))?)?)?(Z|[-+](?:[0]\\d|1[0-2])([0-5]\\d)?)?$/;\nStream.prototype.parseTime = function (start, end) {\n    var s = this.parseStringISO(start, end),\n        m = this.reTime.exec(s);\n    if (!m)\n        return \"Unrecognized time: \" + s;\n    s = m[1] + \"-\" + m[2] + \"-\" + m[3] + \" \" + m[4];\n    if (m[5]) {\n        s += \":\" + m[5];\n        if (m[6]) {\n            s += \":\" + m[6];\n            if (m[7])\n                s += \".\" + m[7];\n        }\n    }\n    if (m[8]) {\n        s += \" UTC\";\n        if (m[8] != 'Z') {\n            s += m[8];\n            if (m[9])\n                s += \":\" + m[9];\n        }\n    }\n    return s;\n};\nStream.prototype.parseInteger = function (start, end) {\n    //TODO support negative numbers\n    var len = end - start;\n    if (len > 4) {\n        len <<= 3;\n        var s = this.get(start);\n        if (s === 0)\n            len -= 8;\n        else\n            while (s < 128) {\n                s <<= 1;\n                --len;\n            }\n        return \"(\" + len + \" bit)\";\n    }\n    var n = 0;\n    for (var i = start; i < end; ++i)\n        n = (n << 8) | this.get(i);\n    return n;\n};\nStream.prototype.parseBitString = function (start, end) {\n    var unusedBit = this.get(start),\n        lenBit = ((end - start - 1) << 3) - unusedBit,\n        s = \"(\" + lenBit + \" bit)\";\n    if (lenBit <= 20) {\n        var skip = unusedBit;\n        s += \" \";\n        for (var i = end - 1; i > start; --i) {\n            var b = this.get(i);\n            for (var j = skip; j < 8; ++j)\n                s += (b >> j) & 1 ? \"1\" : \"0\";\n            skip = 0;\n        }\n    }\n    return s;\n};\nStream.prototype.parseOctetString = function (start, end) {\n    var len = end - start,\n        s = \"(\" + len + \" byte) \";\n    if (len > hardLimit)\n        end = start + hardLimit;\n    for (var i = start; i < end; ++i)\n        s += this.hexByte(this.get(i)); //TODO: also try Latin1?\n    if (len > hardLimit)\n        s += ellipsis;\n    return s;\n};\nStream.prototype.parseOID = function (start, end) {\n    var s = '',\n        n = 0,\n        bits = 0;\n    for (var i = start; i < end; ++i) {\n        var v = this.get(i);\n        n = (n << 7) | (v & 0x7F);\n        bits += 7;\n        if (!(v & 0x80)) { // finished\n            if (s === '') {\n                var m = n < 80 ? n < 40 ? 0 : 1 : 2;\n                s = m + \".\" + (n - m * 40);\n            } else\n                s += \".\" + ((bits >= 31) ? \"bigint\" : n);\n            n = bits = 0;\n        }\n    }\n    return s;\n};\n\nfunction ASN1(stream, header, length, tag, sub) {\n    this.stream = stream;\n    this.header = header;\n    this.length = length;\n    this.tag = tag;\n    this.sub = sub;\n}\nASN1.prototype.typeName = function () {\n    if (this.tag === undefined)\n        return \"unknown\";\n    var tagClass = this.tag >> 6,\n        tagConstructed = (this.tag >> 5) & 1,\n        tagNumber = this.tag & 0x1F;\n    switch (tagClass) {\n    case 0: // universal\n        switch (tagNumber) {\n        case 0x00: return \"EOC\";\n        case 0x01: return \"BOOLEAN\";\n        case 0x02: return \"INTEGER\";\n        case 0x03: return \"BIT_STRING\";\n        case 0x04: return \"OCTET_STRING\";\n        case 0x05: return \"NULL\";\n        case 0x06: return \"OBJECT_IDENTIFIER\";\n        case 0x07: return \"ObjectDescriptor\";\n        case 0x08: return \"EXTERNAL\";\n        case 0x09: return \"REAL\";\n        case 0x0A: return \"ENUMERATED\";\n        case 0x0B: return \"EMBEDDED_PDV\";\n        case 0x0C: return \"UTF8String\";\n        case 0x10: return \"SEQUENCE\";\n        case 0x11: return \"SET\";\n        case 0x12: return \"NumericString\";\n        case 0x13: return \"PrintableString\"; // ASCII subset\n        case 0x14: return \"TeletexString\"; // aka T61String\n        case 0x15: return \"VideotexString\";\n        case 0x16: return \"IA5String\"; // ASCII\n        case 0x17: return \"UTCTime\";\n        case 0x18: return \"GeneralizedTime\";\n        case 0x19: return \"GraphicString\";\n        case 0x1A: return \"VisibleString\"; // ASCII subset\n        case 0x1B: return \"GeneralString\";\n        case 0x1C: return \"UniversalString\";\n        case 0x1E: return \"BMPString\";\n        default:   return \"Universal_\" + tagNumber.toString(16);\n        }\n    case 1: return \"Application_\" + tagNumber.toString(16);\n    case 2: return \"[\" + tagNumber + \"]\"; // Context\n    case 3: return \"Private_\" + tagNumber.toString(16);\n    }\n};\nASN1.prototype.reSeemsASCII = /^[ -~]+$/;\nASN1.prototype.content = function () {\n    if (this.tag === undefined)\n        return null;\n    var tagClass = this.tag >> 6,\n        tagNumber = this.tag & 0x1F,\n        content = this.posContent(),\n        len = Math.abs(this.length);\n    if (tagClass !== 0) { // universal\n        if (this.sub !== null)\n            return \"(\" + this.sub.length + \" elem)\";\n        //TODO: TRY TO PARSE ASCII STRING\n        var s = this.stream.parseStringISO(content, content + Math.min(len, hardLimit));\n        if (this.reSeemsASCII.test(s))\n            return s.substring(0, 2 * hardLimit) + ((s.length > 2 * hardLimit) ? ellipsis : \"\");\n        else\n            return this.stream.parseOctetString(content, content + len);\n    }\n    switch (tagNumber) {\n    case 0x01: // BOOLEAN\n        return (this.stream.get(content) === 0) ? \"false\" : \"true\";\n    case 0x02: // INTEGER\n        return this.stream.parseInteger(content, content + len);\n    case 0x03: // BIT_STRING\n        return this.sub ? \"(\" + this.sub.length + \" elem)\" :\n            this.stream.parseBitString(content, content + len);\n    case 0x04: // OCTET_STRING\n        return this.sub ? \"(\" + this.sub.length + \" elem)\" :\n            this.stream.parseOctetString(content, content + len);\n    //case 0x05: // NULL\n    case 0x06: // OBJECT_IDENTIFIER\n        return this.stream.parseOID(content, content + len);\n    //case 0x07: // ObjectDescriptor\n    //case 0x08: // EXTERNAL\n    //case 0x09: // REAL\n    //case 0x0A: // ENUMERATED\n    //case 0x0B: // EMBEDDED_PDV\n    case 0x10: // SEQUENCE\n    case 0x11: // SET\n        return \"(\" + this.sub.length + \" elem)\";\n    case 0x0C: // UTF8String\n        return this.stream.parseStringUTF(content, content + len);\n    case 0x12: // NumericString\n    case 0x13: // PrintableString\n    case 0x14: // TeletexString\n    case 0x15: // VideotexString\n    case 0x16: // IA5String\n    //case 0x19: // GraphicString\n    case 0x1A: // VisibleString\n    //case 0x1B: // GeneralString\n    //case 0x1C: // UniversalString\n        return this.stream.parseStringISO(content, content + len);\n    case 0x1E: // BMPString\n        return this.stream.parseStringBMP(content, content + len);\n    case 0x17: // UTCTime\n    case 0x18: // GeneralizedTime\n        return this.stream.parseTime(content, content + len);\n    }\n    return null;\n};\nASN1.prototype.toString = function () {\n    return this.typeName() + \"@\" + this.stream.pos + \"[header:\" + this.header + \",length:\" + this.length + \",sub:\" + ((this.sub === null) ? 'null' : this.sub.length) + \"]\";\n};\nASN1.prototype.print = function (indent) {\n    if (indent === undefined) indent = '';\n    document.writeln(indent + this);\n    if (this.sub !== null) {\n        indent += '  ';\n        for (var i = 0, max = this.sub.length; i < max; ++i)\n            this.sub[i].print(indent);\n    }\n};\nASN1.prototype.toPrettyString = function (indent) {\n    if (indent === undefined) indent = '';\n    var s = indent + this.typeName() + \" @\" + this.stream.pos;\n    if (this.length >= 0)\n        s += \"+\";\n    s += this.length;\n    if (this.tag & 0x20)\n        s += \" (constructed)\";\n    else if (((this.tag == 0x03) || (this.tag == 0x04)) && (this.sub !== null))\n        s += \" (encapsulates)\";\n    s += \"\\n\";\n    if (this.sub !== null) {\n        indent += '  ';\n        for (var i = 0, max = this.sub.length; i < max; ++i)\n            s += this.sub[i].toPrettyString(indent);\n    }\n    return s;\n};\nASN1.prototype.toDOM = function () {\n    var node = DOM.tag(\"div\", \"node\");\n    node.asn1 = this;\n    var head = DOM.tag(\"div\", \"head\");\n    var s = this.typeName().replace(/_/g, \" \");\n    head.innerHTML = s;\n    var content = this.content();\n    if (content !== null) {\n        content = String(content).replace(/</g, \"&lt;\");\n        var preview = DOM.tag(\"span\", \"preview\");\n        preview.appendChild(DOM.text(content));\n        head.appendChild(preview);\n    }\n    node.appendChild(head);\n    this.node = node;\n    this.head = head;\n    var value = DOM.tag(\"div\", \"value\");\n    s = \"Offset: \" + this.stream.pos + \"<br/>\";\n    s += \"Length: \" + this.header + \"+\";\n    if (this.length >= 0)\n        s += this.length;\n    else\n        s += (-this.length) + \" (undefined)\";\n    if (this.tag & 0x20)\n        s += \"<br/>(constructed)\";\n    else if (((this.tag == 0x03) || (this.tag == 0x04)) && (this.sub !== null))\n        s += \"<br/>(encapsulates)\";\n    //TODO if (this.tag == 0x03) s += \"Unused bits: \"\n    if (content !== null) {\n        s += \"<br/>Value:<br/><b>\" + content + \"</b>\";\n        if ((typeof oids === 'object') && (this.tag == 0x06)) {\n            var oid = oids[content];\n            if (oid) {\n                if (oid.d) s += \"<br/>\" + oid.d;\n                if (oid.c) s += \"<br/>\" + oid.c;\n                if (oid.w) s += \"<br/>(warning!)\";\n            }\n        }\n    }\n    value.innerHTML = s;\n    node.appendChild(value);\n    var sub = DOM.tag(\"div\", \"sub\");\n    if (this.sub !== null) {\n        for (var i = 0, max = this.sub.length; i < max; ++i)\n            sub.appendChild(this.sub[i].toDOM());\n    }\n    node.appendChild(sub);\n    head.onclick = function () {\n        node.className = (node.className == \"node collapsed\") ? \"node\" : \"node collapsed\";\n    };\n    return node;\n};\nASN1.prototype.posStart = function () {\n    return this.stream.pos;\n};\nASN1.prototype.posContent = function () {\n    return this.stream.pos + this.header;\n};\nASN1.prototype.posEnd = function () {\n    return this.stream.pos + this.header + Math.abs(this.length);\n};\nASN1.prototype.fakeHover = function (current) {\n    this.node.className += \" hover\";\n    if (current)\n        this.head.className += \" hover\";\n};\nASN1.prototype.fakeOut = function (current) {\n    var re = / ?hover/;\n    this.node.className = this.node.className.replace(re, \"\");\n    if (current)\n        this.head.className = this.head.className.replace(re, \"\");\n};\nASN1.prototype.toHexDOM_sub = function (node, className, stream, start, end) {\n    if (start >= end)\n        return;\n    var sub = DOM.tag(\"span\", className);\n    sub.appendChild(DOM.text(\n        stream.hexDump(start, end)));\n    node.appendChild(sub);\n};\nASN1.prototype.toHexDOM = function (root) {\n    var node = DOM.tag(\"span\", \"hex\");\n    if (root === undefined) root = node;\n    this.head.hexNode = node;\n    this.head.onmouseover = function () { this.hexNode.className = \"hexCurrent\"; };\n    this.head.onmouseout  = function () { this.hexNode.className = \"hex\"; };\n    node.asn1 = this;\n    node.onmouseover = function () {\n        var current = !root.selected;\n        if (current) {\n            root.selected = this.asn1;\n            this.className = \"hexCurrent\";\n        }\n        this.asn1.fakeHover(current);\n    };\n    node.onmouseout  = function () {\n        var current = (root.selected == this.asn1);\n        this.asn1.fakeOut(current);\n        if (current) {\n            root.selected = null;\n            this.className = \"hex\";\n        }\n    };\n    this.toHexDOM_sub(node, \"tag\", this.stream, this.posStart(), this.posStart() + 1);\n    this.toHexDOM_sub(node, (this.length >= 0) ? \"dlen\" : \"ulen\", this.stream, this.posStart() + 1, this.posContent());\n    if (this.sub === null)\n        node.appendChild(DOM.text(\n            this.stream.hexDump(this.posContent(), this.posEnd())));\n    else if (this.sub.length > 0) {\n        var first = this.sub[0];\n        var last = this.sub[this.sub.length - 1];\n        this.toHexDOM_sub(node, \"intro\", this.stream, this.posContent(), first.posStart());\n        for (var i = 0, max = this.sub.length; i < max; ++i)\n            node.appendChild(this.sub[i].toHexDOM(root));\n        this.toHexDOM_sub(node, \"outro\", this.stream, last.posEnd(), this.posEnd());\n    }\n    return node;\n};\nASN1.prototype.toHexString = function (root) {\n    return this.stream.hexDump(this.posStart(), this.posEnd(), true);\n};\nASN1.decodeLength = function (stream) {\n    var buf = stream.get(),\n        len = buf & 0x7F;\n    if (len == buf)\n        return len;\n    if (len > 3)\n        throw \"Length over 24 bits not supported at position \" + (stream.pos - 1);\n    if (len === 0)\n        return -1; // undefined\n    buf = 0;\n    for (var i = 0; i < len; ++i)\n        buf = (buf << 8) | stream.get();\n    return buf;\n};\nASN1.hasContent = function (tag, len, stream) {\n    if (tag & 0x20) // constructed\n        return true;\n    if ((tag < 0x03) || (tag > 0x04))\n        return false;\n    var p = new Stream(stream);\n    if (tag == 0x03) p.get(); // BitString unused bits, must be in [0, 7]\n    var subTag = p.get();\n    if ((subTag >> 6) & 0x01) // not (universal or context)\n        return false;\n    try {\n        var subLength = ASN1.decodeLength(p);\n        return ((p.pos - stream.pos) + subLength == len);\n    } catch (exception) {\n        return false;\n    }\n};\nASN1.decode = function (stream) {\n    if (!(stream instanceof Stream))\n        stream = new Stream(stream, 0);\n    var streamStart = new Stream(stream),\n        tag = stream.get(),\n        len = ASN1.decodeLength(stream),\n        header = stream.pos - streamStart.pos,\n        sub = null;\n    if (ASN1.hasContent(tag, len, stream)) {\n        // it has content, so we decode it\n        var start = stream.pos;\n        if (tag == 0x03) stream.get(); // skip BitString unused bits, must be in [0, 7]\n        sub = [];\n        if (len >= 0) {\n            // definite length\n            var end = start + len;\n            while (stream.pos < end)\n                sub[sub.length] = ASN1.decode(stream);\n            if (stream.pos != end)\n                throw \"Content size is not correct for container starting at offset \" + start;\n        } else {\n            // undefined length\n            try {\n                for (;;) {\n                    var s = ASN1.decode(stream);\n                    if (s.tag === 0)\n                        break;\n                    sub[sub.length] = s;\n                }\n                len = start - stream.pos;\n            } catch (e) {\n                throw \"Exception while decoding undefined length content: \" + e;\n            }\n        }\n    } else\n        stream.pos += len; // skip content\n    return new ASN1(streamStart, header, len, tag, sub);\n};\nASN1.test = function () {\n    var test = [\n        { value: [0x27],                   expected: 0x27     },\n        { value: [0x81, 0xC9],             expected: 0xC9     },\n        { value: [0x83, 0xFE, 0xDC, 0xBA], expected: 0xFEDCBA }\n    ];\n    for (var i = 0, max = test.length; i < max; ++i) {\n        var pos = 0,\n            stream = new Stream(test[i].value, 0),\n            res = ASN1.decodeLength(stream);\n        if (res != test[i].expected)\n            document.write(\"In test[\" + i + \"] expected \" + test[i].expected + \" got \" + res + \"\\n\");\n    }\n};\n\n// export globals\nwindow.ASN1 = ASN1;\n})();\n/**\n * Retrieve the hexadecimal value (as a string) of the current ASN.1 element\n * @returns {string}\n * @public\n */\nASN1.prototype.getHexStringValue = function () {\n  var hexString = this.toHexString();\n  var offset = this.header * 2;\n  var length = this.length * 2;\n  return hexString.substr(offset, length);\n};\n\n/**\n * Method to parse a pem encoded string containing both a public or private key.\n * The method will translate the pem encoded string in a der encoded string and\n * will parse private key and public key parameters. This method accepts public key\n * in the rsaencryption pkcs #1 format (oid: 1.2.840.113549.1.1.1).\n *\n * @todo Check how many rsa formats use the same format of pkcs #1.\n *\n * The format is defined as:\n * PublicKeyInfo ::= SEQUENCE {\n *   algorithm       AlgorithmIdentifier,\n *   PublicKey       BIT STRING\n * }\n * Where AlgorithmIdentifier is:\n * AlgorithmIdentifier ::= SEQUENCE {\n *   algorithm       OBJECT IDENTIFIER,     the OID of the enc algorithm\n *   parameters      ANY DEFINED BY algorithm OPTIONAL (NULL for PKCS #1)\n * }\n * and PublicKey is a SEQUENCE encapsulated in a BIT STRING\n * RSAPublicKey ::= SEQUENCE {\n *   modulus           INTEGER,  -- n\n *   publicExponent    INTEGER   -- e\n * }\n * it's possible to examine the structure of the keys obtained from openssl using\n * an asn.1 dumper as the one used here to parse the components: http://lapo.it/asn1js/\n * @argument {string} pem the pem encoded string, can include the BEGIN/END header/footer\n * @private\n */\nRSAKey.prototype.parseKey = function (pem) {\n  try {\n    var modulus = 0;\n    var public_exponent = 0;\n    var reHex = /^\\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\\s*)+$/;\n    var der = reHex.test(pem) ? Hex.decode(pem) : Base64.unarmor(pem);\n    var asn1 = ASN1.decode(der);\n\n    //Fixes a bug with OpenSSL 1.0+ private keys\n    if(asn1.sub.length === 3){\n        asn1 = asn1.sub[2].sub[0];\n    }\n    if (asn1.sub.length === 9) {\n\n      // Parse the private key.\n      modulus = asn1.sub[1].getHexStringValue(); //bigint\n      this.n = parseBigInt(modulus, 16);\n\n      public_exponent = asn1.sub[2].getHexStringValue(); //int\n      this.e = parseInt(public_exponent, 16);\n\n      var private_exponent = asn1.sub[3].getHexStringValue(); //bigint\n      this.d = parseBigInt(private_exponent, 16);\n\n      var prime1 = asn1.sub[4].getHexStringValue(); //bigint\n      this.p = parseBigInt(prime1, 16);\n\n      var prime2 = asn1.sub[5].getHexStringValue(); //bigint\n      this.q = parseBigInt(prime2, 16);\n\n      var exponent1 = asn1.sub[6].getHexStringValue(); //bigint\n      this.dmp1 = parseBigInt(exponent1, 16);\n\n      var exponent2 = asn1.sub[7].getHexStringValue(); //bigint\n      this.dmq1 = parseBigInt(exponent2, 16);\n\n      var coefficient = asn1.sub[8].getHexStringValue(); //bigint\n      this.coeff = parseBigInt(coefficient, 16);\n\n    }\n    else if (asn1.sub.length === 2) {\n\n      // Parse the public key.\n      var bit_string = asn1.sub[1];\n      var sequence = bit_string.sub[0];\n\n      modulus = sequence.sub[0].getHexStringValue();\n      this.n = parseBigInt(modulus, 16);\n      public_exponent = sequence.sub[1].getHexStringValue();\n      this.e = parseInt(public_exponent, 16);\n\n    }\n    else {\n      return false;\n    }\n    return true;\n  }\n  catch (ex) {\n    return false;\n  }\n};\n\n/**\n * Translate rsa parameters in a hex encoded string representing the rsa key.\n *\n * The translation follow the ASN.1 notation :\n * RSAPrivateKey ::= SEQUENCE {\n *   version           Version,\n *   modulus           INTEGER,  -- n\n *   publicExponent    INTEGER,  -- e\n *   privateExponent   INTEGER,  -- d\n *   prime1            INTEGER,  -- p\n *   prime2            INTEGER,  -- q\n *   exponent1         INTEGER,  -- d mod (p1)\n *   exponent2         INTEGER,  -- d mod (q-1)\n *   coefficient       INTEGER,  -- (inverse of q) mod p\n * }\n * @returns {string}  DER Encoded String representing the rsa private key\n * @private\n */\nRSAKey.prototype.getPrivateBaseKey = function () {\n  var options = {\n    'array': [\n      new KJUR.asn1.DERInteger({'int': 0}),\n      new KJUR.asn1.DERInteger({'bigint': this.n}),\n      new KJUR.asn1.DERInteger({'int': this.e}),\n      new KJUR.asn1.DERInteger({'bigint': this.d}),\n      new KJUR.asn1.DERInteger({'bigint': this.p}),\n      new KJUR.asn1.DERInteger({'bigint': this.q}),\n      new KJUR.asn1.DERInteger({'bigint': this.dmp1}),\n      new KJUR.asn1.DERInteger({'bigint': this.dmq1}),\n      new KJUR.asn1.DERInteger({'bigint': this.coeff})\n    ]\n  };\n  var seq = new KJUR.asn1.DERSequence(options);\n  return seq.getEncodedHex();\n};\n\n/**\n * base64 (pem) encoded version of the DER encoded representation\n * @returns {string} pem encoded representation without header and footer\n * @public\n */\nRSAKey.prototype.getPrivateBaseKeyB64 = function () {\n  return hex2b64(this.getPrivateBaseKey());\n};\n\n/**\n * Translate rsa parameters in a hex encoded string representing the rsa public key.\n * The representation follow the ASN.1 notation :\n * PublicKeyInfo ::= SEQUENCE {\n *   algorithm       AlgorithmIdentifier,\n *   PublicKey       BIT STRING\n * }\n * Where AlgorithmIdentifier is:\n * AlgorithmIdentifier ::= SEQUENCE {\n *   algorithm       OBJECT IDENTIFIER,     the OID of the enc algorithm\n *   parameters      ANY DEFINED BY algorithm OPTIONAL (NULL for PKCS #1)\n * }\n * and PublicKey is a SEQUENCE encapsulated in a BIT STRING\n * RSAPublicKey ::= SEQUENCE {\n *   modulus           INTEGER,  -- n\n *   publicExponent    INTEGER   -- e\n * }\n * @returns {string} DER Encoded String representing the rsa public key\n * @private\n */\nRSAKey.prototype.getPublicBaseKey = function () {\n  var options = {\n    'array': [\n      new KJUR.asn1.DERObjectIdentifier({'oid': '1.2.840.113549.1.1.1'}), //RSA Encryption pkcs #1 oid\n      new KJUR.asn1.DERNull()\n    ]\n  };\n  var first_sequence = new KJUR.asn1.DERSequence(options);\n\n  options = {\n    'array': [\n      new KJUR.asn1.DERInteger({'bigint': this.n}),\n      new KJUR.asn1.DERInteger({'int': this.e})\n    ]\n  };\n  var second_sequence = new KJUR.asn1.DERSequence(options);\n\n  options = {\n    'hex': '00' + second_sequence.getEncodedHex()\n  };\n  var bit_string = new KJUR.asn1.DERBitString(options);\n\n  options = {\n    'array': [\n      first_sequence,\n      bit_string\n    ]\n  };\n  var seq = new KJUR.asn1.DERSequence(options);\n  return seq.getEncodedHex();\n};\n\n/**\n * base64 (pem) encoded version of the DER encoded representation\n * @returns {string} pem encoded representation without header and footer\n * @public\n */\nRSAKey.prototype.getPublicBaseKeyB64 = function () {\n  return hex2b64(this.getPublicBaseKey());\n};\n\n/**\n * wrap the string in block of width chars. The default value for rsa keys is 64\n * characters.\n * @param {string} str the pem encoded string without header and footer\n * @param {Number} [width=64] - the length the string has to be wrapped at\n * @returns {string}\n * @private\n */\nRSAKey.prototype.wordwrap = function (str, width) {\n  width = width || 64;\n  if (!str) {\n    return str;\n  }\n  var regex = '(.{1,' + width + '})( +|$\\n?)|(.{1,' + width + '})';\n  return str.match(RegExp(regex, 'g')).join('\\n');\n};\n\n/**\n * Retrieve the pem encoded private key\n * @returns {string} the pem encoded private key with header/footer\n * @public\n */\nRSAKey.prototype.getPrivateKey = function () {\n  var key = \"-----BEGIN RSA PRIVATE KEY-----\\n\";\n  key += this.wordwrap(this.getPrivateBaseKeyB64()) + \"\\n\";\n  key += \"-----END RSA PRIVATE KEY-----\";\n  return key;\n};\n\n/**\n * Retrieve the pem encoded public key\n * @returns {string} the pem encoded public key with header/footer\n * @public\n */\nRSAKey.prototype.getPublicKey = function () {\n  var key = \"-----BEGIN PUBLIC KEY-----\\n\";\n  key += this.wordwrap(this.getPublicBaseKeyB64()) + \"\\n\";\n  key += \"-----END PUBLIC KEY-----\";\n  return key;\n};\n\n/**\n * Check if the object contains the necessary parameters to populate the rsa modulus\n * and public exponent parameters.\n * @param {Object} [obj={}] - An object that may contain the two public key\n * parameters\n * @returns {boolean} true if the object contains both the modulus and the public exponent\n * properties (n and e)\n * @todo check for types of n and e. N should be a parseable bigInt object, E should\n * be a parseable integer number\n * @private\n */\nRSAKey.prototype.hasPublicKeyProperty = function (obj) {\n  obj = obj || {};\n  return (\n    obj.hasOwnProperty('n') &&\n    obj.hasOwnProperty('e')\n  );\n};\n\n/**\n * Check if the object contains ALL the parameters of an RSA key.\n * @param {Object} [obj={}] - An object that may contain nine rsa key\n * parameters\n * @returns {boolean} true if the object contains all the parameters needed\n * @todo check for types of the parameters all the parameters but the public exponent\n * should be parseable bigint objects, the public exponent should be a parseable integer number\n * @private\n */\nRSAKey.prototype.hasPrivateKeyProperty = function (obj) {\n  obj = obj || {};\n  return (\n    obj.hasOwnProperty('n') &&\n    obj.hasOwnProperty('e') &&\n    obj.hasOwnProperty('d') &&\n    obj.hasOwnProperty('p') &&\n    obj.hasOwnProperty('q') &&\n    obj.hasOwnProperty('dmp1') &&\n    obj.hasOwnProperty('dmq1') &&\n    obj.hasOwnProperty('coeff')\n  );\n};\n\n/**\n * Parse the properties of obj in the current rsa object. Obj should AT LEAST\n * include the modulus and public exponent (n, e) parameters.\n * @param {Object} obj - the object containing rsa parameters\n * @private\n */\nRSAKey.prototype.parsePropertiesFrom = function (obj) {\n  this.n = obj.n;\n  this.e = obj.e;\n\n  if (obj.hasOwnProperty('d')) {\n    this.d = obj.d;\n    this.p = obj.p;\n    this.q = obj.q;\n    this.dmp1 = obj.dmp1;\n    this.dmq1 = obj.dmq1;\n    this.coeff = obj.coeff;\n  }\n};\n\n/**\n * Create a new JSEncryptRSAKey that extends Tom Wu's RSA key object.\n * This object is just a decorator for parsing the key parameter\n * @param {string|Object} key - The key in string format, or an object containing\n * the parameters needed to build a RSAKey object.\n * @constructor\n */\nvar JSEncryptRSAKey = function (key) {\n  // Call the super constructor.\n  RSAKey.call(this);\n  // If a key key was provided.\n  if (key) {\n    // If this is a string...\n    if (typeof key === 'string') {\n      this.parseKey(key);\n    }\n    else if (\n      this.hasPrivateKeyProperty(key) ||\n      this.hasPublicKeyProperty(key)\n    ) {\n      // Set the values for the key.\n      this.parsePropertiesFrom(key);\n    }\n  }\n};\n\n// Derive from RSAKey.\nJSEncryptRSAKey.prototype = new RSAKey();\n\n// Reset the contructor.\nJSEncryptRSAKey.prototype.constructor = JSEncryptRSAKey;\n\n\n/**\n *\n * @param {Object} [options = {}] - An object to customize JSEncrypt behaviour\n * possible parameters are:\n * - default_key_size        {number}  default: 1024 the key size in bit\n * - default_public_exponent {string}  default: '010001' the hexadecimal representation of the public exponent\n * - log                     {boolean} default: false whether log warn/error or not\n * @constructor\n */\nvar JSEncrypt = function (options) {\n  options = options || {};\n  this.default_key_size = parseInt(options.default_key_size) || 1024;\n  this.default_public_exponent = options.default_public_exponent || '010001'; //65537 default openssl public exponent for rsa key type\n  this.log = options.log || false;\n  // The private and public key.\n  this.key = null;\n};\n\n/**\n * Method to set the rsa key parameter (one method is enough to set both the public\n * and the private key, since the private key contains the public key paramenters)\n * Log a warning if logs are enabled\n * @param {Object|string} key the pem encoded string or an object (with or without header/footer)\n * @public\n */\nJSEncrypt.prototype.setKey = function (key) {\n  if (this.log && this.key) {\n    console.warn('A key was already set, overriding existing.');\n  }\n  this.key = new JSEncryptRSAKey(key);\n};\n\n/**\n * Proxy method for setKey, for api compatibility\n * @see setKey\n * @public\n */\nJSEncrypt.prototype.setPrivateKey = function (privkey) {\n  // Create the key.\n  this.setKey(privkey);\n};\n\n/**\n * Proxy method for setKey, for api compatibility\n * @see setKey\n * @public\n */\nJSEncrypt.prototype.setPublicKey = function (pubkey) {\n  // Sets the public key.\n  this.setKey(pubkey);\n};\n\n/**\n * Proxy method for RSAKey object's decrypt, decrypt the string using the private\n * components of the rsa key object. Note that if the object was not set will be created\n * on the fly (by the getKey method) using the parameters passed in the JSEncrypt constructor\n * @param {string} string base64 encoded crypted string to decrypt\n * @return {string} the decrypted string\n * @public\n */\nJSEncrypt.prototype.decrypt = function (string) {\n  // Return the decrypted string.\n  try {\n    return this.getKey().decrypt(b64tohex(string));\n  }\n  catch (ex) {\n    return false;\n  }\n};\n\n/**\n * Proxy method for RSAKey object's encrypt, encrypt the string using the public\n * components of the rsa key object. Note that if the object was not set will be created\n * on the fly (by the getKey method) using the parameters passed in the JSEncrypt constructor\n * @param {string} string the string to encrypt\n * @return {string} the encrypted string encoded in base64\n * @public\n */\nJSEncrypt.prototype.encrypt = function (string) {\n  // Return the encrypted string.\n  try {\n    return hex2b64(this.getKey().encrypt(string));\n  }\n  catch (ex) {\n    return false;\n  }\n};\n\n/**\n * Getter for the current JSEncryptRSAKey object. If it doesn't exists a new object\n * will be created and returned\n * @param {callback} [cb] the callback to be called if we want the key to be generated\n * in an async fashion\n * @returns {JSEncryptRSAKey} the JSEncryptRSAKey object\n * @public\n */\nJSEncrypt.prototype.getKey = function (cb) {\n  // Only create new if it does not exist.\n  if (!this.key) {\n    // Get a new private key.\n    this.key = new JSEncryptRSAKey();\n    if (cb && {}.toString.call(cb) === '[object Function]') {\n      this.key.generateAsync(this.default_key_size, this.default_public_exponent, cb);\n      return;\n    }\n    // Generate the key.\n    this.key.generate(this.default_key_size, this.default_public_exponent);\n  }\n  return this.key;\n};\n\n/**\n * Returns the pem encoded representation of the private key\n * If the key doesn't exists a new key will be created\n * @returns {string} pem encoded representation of the private key WITH header and footer\n * @public\n */\nJSEncrypt.prototype.getPrivateKey = function () {\n  // Return the private representation of this key.\n  return this.getKey().getPrivateKey();\n};\n\n/**\n * Returns the pem encoded representation of the private key\n * If the key doesn't exists a new key will be created\n * @returns {string} pem encoded representation of the private key WITHOUT header and footer\n * @public\n */\nJSEncrypt.prototype.getPrivateKeyB64 = function () {\n  // Return the private representation of this key.\n  return this.getKey().getPrivateBaseKeyB64();\n};\n\n\n/**\n * Returns the pem encoded representation of the public key\n * If the key doesn't exists a new key will be created\n * @returns {string} pem encoded representation of the public key WITH header and footer\n * @public\n */\nJSEncrypt.prototype.getPublicKey = function () {\n  // Return the private representation of this key.\n  return this.getKey().getPublicKey();\n};\n\n/**\n * Returns the pem encoded representation of the public key\n * If the key doesn't exists a new key will be created\n * @returns {string} pem encoded representation of the public key WITHOUT header and footer\n * @public\n */\nJSEncrypt.prototype.getPublicKeyB64 = function () {\n  // Return the private representation of this key.\n  return this.getKey().getPublicBaseKeyB64();\n};\n\n\n  JSEncrypt.version = '2.3.1';\n  exports.JSEncrypt = JSEncrypt;\n});","/*\n * ----------------------------- JSTORAGE -------------------------------------\n * Simple local storage wrapper to save data on the browser side, supporting\n * all major browsers - IE6+, Firefox2+, Safari4+, Chrome4+ and Opera 10.5+\n *\n * Author: Andris Reinman, andris.reinman@gmail.com\n * Project homepage: www.jstorage.info\n *\n * Licensed under Unlicense:\n *\n * This is free and unencumbered software released into the public domain.\n *\n * Anyone is free to copy, modify, publish, use, compile, sell, or\n * distribute this software, either in source code form or as a compiled\n * binary, for any purpose, commercial or non-commercial, and by any\n * means.\n *\n * In jurisdictions that recognize copyright laws, the author or authors\n * of this software dedicate any and all copyright interest in the\n * software to the public domain. We make this dedication for the benefit\n * of the public at large and to the detriment of our heirs and\n * successors. We intend this dedication to be an overt act of\n * relinquishment in perpetuity of all present and future rights to this\n * software under copyright law.\n *\n * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n * IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n *\n * For more information, please refer to <http://unlicense.org/>\n */\n\n/* global ActiveXObject: false */\n/* jshint browser: true */\n\n(function() {\n    'use strict';\n\n    var\n    /* jStorage version */\n        JSTORAGE_VERSION = '0.4.12',\n\n        /* detect a dollar object or create one if not found */\n        $ = window.jQuery || window.$ || (window.$ = {}),\n\n        /* check for a JSON handling support */\n        JSON = {\n            parse: window.JSON && (window.JSON.parse || window.JSON.decode) ||\n                String.prototype.evalJSON && function(str) {\n                    return String(str).evalJSON();\n            } ||\n                $.parseJSON ||\n                $.evalJSON,\n            stringify: Object.toJSON ||\n                window.JSON && (window.JSON.stringify || window.JSON.encode) ||\n                $.toJSON\n        };\n\n    // Break if no JSON support was found\n    if (typeof JSON.parse !== 'function' || typeof JSON.stringify !== 'function') {\n        throw new Error('No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page');\n    }\n\n    var\n    /* This is the object, that holds the cached values */\n        _storage = {\n            __jstorage_meta: {\n                CRC32: {}\n            }\n        },\n\n        /* Actual browser storage (localStorage or globalStorage['domain']) */\n        _storage_service = {\n            jStorage: '{}'\n        },\n\n        /* DOM element for older IE versions, holds userData behavior */\n        _storage_elm = null,\n\n        /* How much space does the storage take */\n        _storage_size = 0,\n\n        /* which backend is currently used */\n        _backend = false,\n\n        /* onchange observers */\n        _observers = {},\n\n        /* timeout to wait after onchange event */\n        _observer_timeout = false,\n\n        /* last update time */\n        _observer_update = 0,\n\n        /* pubsub observers */\n        _pubsub_observers = {},\n\n        /* skip published items older than current timestamp */\n        _pubsub_last = +new Date(),\n\n        /* Next check for TTL */\n        _ttl_timeout,\n\n        /**\n         * XML encoding and decoding as XML nodes can't be JSON'ized\n         * XML nodes are encoded and decoded if the node is the value to be saved\n         * but not if it's as a property of another object\n         * Eg. -\n         *   $.jStorage.set('key', xmlNode);        // IS OK\n         *   $.jStorage.set('key', {xml: xmlNode}); // NOT OK\n         */\n        _XMLService = {\n\n            /**\n             * Validates a XML node to be XML\n             * based on jQuery.isXML function\n             */\n            isXML: function(elm) {\n                var documentElement = (elm ? elm.ownerDocument || elm : 0).documentElement;\n                return documentElement ? documentElement.nodeName !== 'HTML' : false;\n            },\n\n            /**\n             * Encodes a XML node to string\n             * based on http://www.mercurytide.co.uk/news/article/issues-when-working-ajax/\n             */\n            encode: function(xmlNode) {\n                if (!this.isXML(xmlNode)) {\n                    return false;\n                }\n                try { // Mozilla, Webkit, Opera\n                    return new XMLSerializer().serializeToString(xmlNode);\n                } catch (E1) {\n                    try { // IE\n                        return xmlNode.xml;\n                    } catch (E2) {}\n                }\n                return false;\n            },\n\n            /**\n             * Decodes a XML node from string\n             * loosely based on http://outwestmedia.com/jquery-plugins/xmldom/\n             */\n            decode: function(xmlString) {\n                var dom_parser = ('DOMParser' in window && (new DOMParser()).parseFromString) ||\n                    (window.ActiveXObject && function(_xmlString) {\n                        var xml_doc = new ActiveXObject('Microsoft.XMLDOM');\n                        xml_doc.async = 'false';\n                        xml_doc.loadXML(_xmlString);\n                        return xml_doc;\n                    }),\n                    resultXML;\n                if (!dom_parser) {\n                    return false;\n                }\n                resultXML = dom_parser.call('DOMParser' in window && (new DOMParser()) || window, xmlString, 'text/xml');\n                return this.isXML(resultXML) ? resultXML : false;\n            }\n        };\n\n\n    ////////////////////////// PRIVATE METHODS ////////////////////////\n\n    /**\n     * Initialization function. Detects if the browser supports DOM Storage\n     * or userData behavior and behaves accordingly.\n     */\n    function _init() {\n        /* Check if browser supports localStorage */\n        var localStorageReallyWorks = false;\n        if ('localStorage' in window) {\n            try {\n                window.localStorage.setItem('_tmptest', 'tmpval');\n                localStorageReallyWorks = true;\n                window.localStorage.removeItem('_tmptest');\n            } catch (BogusQuotaExceededErrorOnIos5) {\n                // Thanks be to iOS5 Private Browsing mode which throws\n                // QUOTA_EXCEEDED_ERRROR DOM Exception 22.\n            }\n        }\n\n        if (localStorageReallyWorks) {\n            try {\n                if (window.localStorage) {\n                    _storage_service = window.localStorage;\n                    _backend = 'localStorage';\n                    _observer_update = _storage_service.jStorage_update;\n                }\n            } catch (E3) { /* Firefox fails when touching localStorage and cookies are disabled */ }\n        }\n        /* Check if browser supports globalStorage */\n        else if ('globalStorage' in window) {\n            try {\n                if (window.globalStorage) {\n                    if (window.location.hostname == 'localhost') {\n                        _storage_service = window.globalStorage['localhost.localdomain'];\n                    } else {\n                        _storage_service = window.globalStorage[window.location.hostname];\n                    }\n                    _backend = 'globalStorage';\n                    _observer_update = _storage_service.jStorage_update;\n                }\n            } catch (E4) { /* Firefox fails when touching localStorage and cookies are disabled */ }\n        }\n        /* Check if browser supports userData behavior */\n        else {\n            _storage_elm = document.createElement('link');\n            if (_storage_elm.addBehavior) {\n\n                /* Use a DOM element to act as userData storage */\n                _storage_elm.style.behavior = 'url(#default#userData)';\n\n                /* userData element needs to be inserted into the DOM! */\n                document.getElementsByTagName('head')[0].appendChild(_storage_elm);\n\n                try {\n                    _storage_elm.load('jStorage');\n                } catch (E) {\n                    // try to reset cache\n                    _storage_elm.setAttribute('jStorage', '{}');\n                    _storage_elm.save('jStorage');\n                    _storage_elm.load('jStorage');\n                }\n\n                var data = '{}';\n                try {\n                    data = _storage_elm.getAttribute('jStorage');\n                } catch (E5) {}\n\n                try {\n                    _observer_update = _storage_elm.getAttribute('jStorage_update');\n                } catch (E6) {}\n\n                _storage_service.jStorage = data;\n                _backend = 'userDataBehavior';\n            } else {\n                _storage_elm = null;\n                return;\n            }\n        }\n\n        // Load data from storage\n        _load_storage();\n\n        // remove dead keys\n        _handleTTL();\n\n        // start listening for changes\n        _setupObserver();\n\n        // initialize publish-subscribe service\n        _handlePubSub();\n\n        // handle cached navigation\n        if ('addEventListener' in window) {\n            window.addEventListener('pageshow', function(event) {\n                if (event.persisted) {\n                    _storageObserver();\n                }\n            }, false);\n        }\n    }\n\n    /**\n     * Reload data from storage when needed\n     */\n    function _reloadData() {\n        var data = '{}';\n\n        if (_backend == 'userDataBehavior') {\n            _storage_elm.load('jStorage');\n\n            try {\n                data = _storage_elm.getAttribute('jStorage');\n            } catch (E5) {}\n\n            try {\n                _observer_update = _storage_elm.getAttribute('jStorage_update');\n            } catch (E6) {}\n\n            _storage_service.jStorage = data;\n        }\n\n        _load_storage();\n\n        // remove dead keys\n        _handleTTL();\n\n        _handlePubSub();\n    }\n\n    /**\n     * Sets up a storage change observer\n     */\n    function _setupObserver() {\n        if (_backend == 'localStorage' || _backend == 'globalStorage') {\n            if ('addEventListener' in window) {\n                window.addEventListener('storage', _storageObserver, false);\n            } else {\n                document.attachEvent('onstorage', _storageObserver);\n            }\n        } else if (_backend == 'userDataBehavior') {\n            setInterval(_storageObserver, 1000);\n        }\n    }\n\n    /**\n     * Fired on any kind of data change, needs to check if anything has\n     * really been changed\n     */\n    function _storageObserver() {\n        var updateTime;\n        // cumulate change notifications with timeout\n        clearTimeout(_observer_timeout);\n        _observer_timeout = setTimeout(function() {\n\n            if (_backend == 'localStorage' || _backend == 'globalStorage') {\n                updateTime = _storage_service.jStorage_update;\n            } else if (_backend == 'userDataBehavior') {\n                _storage_elm.load('jStorage');\n                try {\n                    updateTime = _storage_elm.getAttribute('jStorage_update');\n                } catch (E5) {}\n            }\n\n            if (updateTime && updateTime != _observer_update) {\n                _observer_update = updateTime;\n                _checkUpdatedKeys();\n            }\n\n        }, 25);\n    }\n\n    /**\n     * Reloads the data and checks if any keys are changed\n     */\n    function _checkUpdatedKeys() {\n        var oldCrc32List = JSON.parse(JSON.stringify(_storage.__jstorage_meta.CRC32)),\n            newCrc32List;\n\n        _reloadData();\n        newCrc32List = JSON.parse(JSON.stringify(_storage.__jstorage_meta.CRC32));\n\n        var key,\n            updated = [],\n            removed = [];\n\n        for (key in oldCrc32List) {\n            if (oldCrc32List.hasOwnProperty(key)) {\n                if (!newCrc32List[key]) {\n                    removed.push(key);\n                    continue;\n                }\n                if (oldCrc32List[key] != newCrc32List[key] && String(oldCrc32List[key]).substr(0, 2) == '2.') {\n                    updated.push(key);\n                }\n            }\n        }\n\n        for (key in newCrc32List) {\n            if (newCrc32List.hasOwnProperty(key)) {\n                if (!oldCrc32List[key]) {\n                    updated.push(key);\n                }\n            }\n        }\n\n        _fireObservers(updated, 'updated');\n        _fireObservers(removed, 'deleted');\n    }\n\n    /**\n     * Fires observers for updated keys\n     *\n     * @param {Array|String} keys Array of key names or a key\n     * @param {String} action What happened with the value (updated, deleted, flushed)\n     */\n    function _fireObservers(keys, action) {\n        keys = [].concat(keys || []);\n\n        var i, j, len, jlen;\n\n        if (action == 'flushed') {\n            keys = [];\n            for (var key in _observers) {\n                if (_observers.hasOwnProperty(key)) {\n                    keys.push(key);\n                }\n            }\n            action = 'deleted';\n        }\n        for (i = 0, len = keys.length; i < len; i++) {\n            if (_observers[keys[i]]) {\n                for (j = 0, jlen = _observers[keys[i]].length; j < jlen; j++) {\n                    _observers[keys[i]][j](keys[i], action);\n                }\n            }\n            if (_observers['*']) {\n                for (j = 0, jlen = _observers['*'].length; j < jlen; j++) {\n                    _observers['*'][j](keys[i], action);\n                }\n            }\n        }\n    }\n\n    /**\n     * Publishes key change to listeners\n     */\n    function _publishChange() {\n        var updateTime = (+new Date()).toString();\n\n        if (_backend == 'localStorage' || _backend == 'globalStorage') {\n            try {\n                _storage_service.jStorage_update = updateTime;\n            } catch (E8) {\n                // safari private mode has been enabled after the jStorage initialization\n                _backend = false;\n            }\n        } else if (_backend == 'userDataBehavior') {\n            _storage_elm.setAttribute('jStorage_update', updateTime);\n            _storage_elm.save('jStorage');\n        }\n\n        _storageObserver();\n    }\n\n    /**\n     * Loads the data from the storage based on the supported mechanism\n     */\n    function _load_storage() {\n        /* if jStorage string is retrieved, then decode it */\n        if (_storage_service.jStorage) {\n            try {\n                _storage = JSON.parse(String(_storage_service.jStorage));\n            } catch (E6) {\n                _storage_service.jStorage = '{}';\n            }\n        } else {\n            _storage_service.jStorage = '{}';\n        }\n        _storage_size = _storage_service.jStorage ? String(_storage_service.jStorage).length : 0;\n\n        if (!_storage.__jstorage_meta) {\n            _storage.__jstorage_meta = {};\n        }\n        if (!_storage.__jstorage_meta.CRC32) {\n            _storage.__jstorage_meta.CRC32 = {};\n        }\n    }\n\n    /**\n     * This functions provides the 'save' mechanism to store the jStorage object\n     */\n    function _save() {\n        _dropOldEvents(); // remove expired events\n        try {\n            _storage_service.jStorage = JSON.stringify(_storage);\n            // If userData is used as the storage engine, additional\n            if (_storage_elm) {\n                _storage_elm.setAttribute('jStorage', _storage_service.jStorage);\n                _storage_elm.save('jStorage');\n            }\n            _storage_size = _storage_service.jStorage ? String(_storage_service.jStorage).length : 0;\n        } catch (E7) { /* probably cache is full, nothing is saved this way*/ }\n    }\n\n    /**\n     * Function checks if a key is set and is string or numberic\n     *\n     * @param {String} key Key name\n     */\n    function _checkKey(key) {\n        if (typeof key != 'string' && typeof key != 'number') {\n            throw new TypeError('Key name must be string or numeric');\n        }\n        if (key == '__jstorage_meta') {\n            throw new TypeError('Reserved key name');\n        }\n        return true;\n    }\n\n    /**\n     * Removes expired keys\n     */\n    function _handleTTL() {\n        var curtime, i, TTL, CRC32, nextExpire = Infinity,\n            changed = false,\n            deleted = [];\n\n        clearTimeout(_ttl_timeout);\n\n        if (!_storage.__jstorage_meta || typeof _storage.__jstorage_meta.TTL != 'object') {\n            // nothing to do here\n            return;\n        }\n\n        curtime = +new Date();\n        TTL = _storage.__jstorage_meta.TTL;\n\n        CRC32 = _storage.__jstorage_meta.CRC32;\n        for (i in TTL) {\n            if (TTL.hasOwnProperty(i)) {\n                if (TTL[i] <= curtime) {\n                    delete TTL[i];\n                    delete CRC32[i];\n                    delete _storage[i];\n                    changed = true;\n                    deleted.push(i);\n                } else if (TTL[i] < nextExpire) {\n                    nextExpire = TTL[i];\n                }\n            }\n        }\n\n        // set next check\n        if (nextExpire != Infinity) {\n            _ttl_timeout = setTimeout(_handleTTL, Math.min(nextExpire - curtime, 0x7FFFFFFF));\n        }\n\n        // save changes\n        if (changed) {\n            _save();\n            _publishChange();\n            _fireObservers(deleted, 'deleted');\n        }\n    }\n\n    /**\n     * Checks if there's any events on hold to be fired to listeners\n     */\n    function _handlePubSub() {\n        var i, len;\n        if (!_storage.__jstorage_meta.PubSub) {\n            return;\n        }\n        var pubelm,\n            _pubsubCurrent = _pubsub_last,\n            needFired = [];\n\n        for (i = len = _storage.__jstorage_meta.PubSub.length - 1; i >= 0; i--) {\n            pubelm = _storage.__jstorage_meta.PubSub[i];\n            if (pubelm[0] > _pubsub_last) {\n                _pubsubCurrent = pubelm[0];\n                needFired.unshift(pubelm);\n            }\n        }\n\n        for (i = needFired.length - 1; i >= 0; i--) {\n            _fireSubscribers(needFired[i][1], needFired[i][2]);\n        }\n\n        _pubsub_last = _pubsubCurrent;\n    }\n\n    /**\n     * Fires all subscriber listeners for a pubsub channel\n     *\n     * @param {String} channel Channel name\n     * @param {Mixed} payload Payload data to deliver\n     */\n    function _fireSubscribers(channel, payload) {\n        if (_pubsub_observers[channel]) {\n            for (var i = 0, len = _pubsub_observers[channel].length; i < len; i++) {\n                // send immutable data that can't be modified by listeners\n                try {\n                    _pubsub_observers[channel][i](channel, JSON.parse(JSON.stringify(payload)));\n                } catch (E) {}\n            }\n        }\n    }\n\n    /**\n     * Remove old events from the publish stream (at least 2sec old)\n     */\n    function _dropOldEvents() {\n        if (!_storage.__jstorage_meta.PubSub) {\n            return;\n        }\n\n        var retire = +new Date() - 2000;\n\n        for (var i = 0, len = _storage.__jstorage_meta.PubSub.length; i < len; i++) {\n            if (_storage.__jstorage_meta.PubSub[i][0] <= retire) {\n                // deleteCount is needed for IE6\n                _storage.__jstorage_meta.PubSub.splice(i, _storage.__jstorage_meta.PubSub.length - i);\n                break;\n            }\n        }\n\n        if (!_storage.__jstorage_meta.PubSub.length) {\n            delete _storage.__jstorage_meta.PubSub;\n        }\n\n    }\n\n    /**\n     * Publish payload to a channel\n     *\n     * @param {String} channel Channel name\n     * @param {Mixed} payload Payload to send to the subscribers\n     */\n    function _publish(channel, payload) {\n        if (!_storage.__jstorage_meta) {\n            _storage.__jstorage_meta = {};\n        }\n        if (!_storage.__jstorage_meta.PubSub) {\n            _storage.__jstorage_meta.PubSub = [];\n        }\n\n        _storage.__jstorage_meta.PubSub.unshift([+new Date(), channel, payload]);\n\n        _save();\n        _publishChange();\n    }\n\n\n    /**\n     * JS Implementation of MurmurHash2\n     *\n     *  SOURCE: https://github.com/garycourt/murmurhash-js (MIT licensed)\n     *\n     * @author <a href='mailto:gary.court@gmail.com'>Gary Court</a>\n     * @see http://github.com/garycourt/murmurhash-js\n     * @author <a href='mailto:aappleby@gmail.com'>Austin Appleby</a>\n     * @see http://sites.google.com/site/murmurhash/\n     *\n     * @param {string} str ASCII only\n     * @param {number} seed Positive integer only\n     * @return {number} 32-bit positive integer hash\n     */\n\n    function murmurhash2_32_gc(str, seed) {\n        var\n            l = str.length,\n            h = seed ^ l,\n            i = 0,\n            k;\n\n        while (l >= 4) {\n            k =\n                ((str.charCodeAt(i) & 0xff)) |\n                ((str.charCodeAt(++i) & 0xff) << 8) |\n                ((str.charCodeAt(++i) & 0xff) << 16) |\n                ((str.charCodeAt(++i) & 0xff) << 24);\n\n            k = (((k & 0xffff) * 0x5bd1e995) + ((((k >>> 16) * 0x5bd1e995) & 0xffff) << 16));\n            k ^= k >>> 24;\n            k = (((k & 0xffff) * 0x5bd1e995) + ((((k >>> 16) * 0x5bd1e995) & 0xffff) << 16));\n\n            h = (((h & 0xffff) * 0x5bd1e995) + ((((h >>> 16) * 0x5bd1e995) & 0xffff) << 16)) ^ k;\n\n            l -= 4;\n            ++i;\n        }\n\n        switch (l) {\n            case 3:\n                h ^= (str.charCodeAt(i + 2) & 0xff) << 16;\n                /* falls through */\n            case 2:\n                h ^= (str.charCodeAt(i + 1) & 0xff) << 8;\n                /* falls through */\n            case 1:\n                h ^= (str.charCodeAt(i) & 0xff);\n                h = (((h & 0xffff) * 0x5bd1e995) + ((((h >>> 16) * 0x5bd1e995) & 0xffff) << 16));\n        }\n\n        h ^= h >>> 13;\n        h = (((h & 0xffff) * 0x5bd1e995) + ((((h >>> 16) * 0x5bd1e995) & 0xffff) << 16));\n        h ^= h >>> 15;\n\n        return h >>> 0;\n    }\n\n    ////////////////////////// PUBLIC INTERFACE /////////////////////////\n\n    $.jStorage = {\n        /* Version number */\n        version: JSTORAGE_VERSION,\n\n        /**\n         * Sets a key's value.\n         *\n         * @param {String} key Key to set. If this value is not set or not\n         *              a string an exception is raised.\n         * @param {Mixed} value Value to set. This can be any value that is JSON\n         *              compatible (Numbers, Strings, Objects etc.).\n         * @param {Object} [options] - possible options to use\n         * @param {Number} [options.TTL] - optional TTL value, in milliseconds\n         * @return {Mixed} the used value\n         */\n        set: function(key, value, options) {\n            _checkKey(key);\n\n            options = options || {};\n\n            // undefined values are deleted automatically\n            if (typeof value == 'undefined') {\n                this.deleteKey(key);\n                return value;\n            }\n\n            if (_XMLService.isXML(value)) {\n                value = {\n                    _is_xml: true,\n                    xml: _XMLService.encode(value)\n                };\n            } else if (typeof value == 'function') {\n                return undefined; // functions can't be saved!\n            } else if (value && typeof value == 'object') {\n                // clone the object before saving to _storage tree\n                value = JSON.parse(JSON.stringify(value));\n            }\n\n            _storage[key] = value;\n\n            _storage.__jstorage_meta.CRC32[key] = '2.' + murmurhash2_32_gc(JSON.stringify(value), 0x9747b28c);\n\n            this.setTTL(key, options.TTL || 0); // also handles saving and _publishChange\n\n            _fireObservers(key, 'updated');\n            return value;\n        },\n\n        /**\n         * Looks up a key in cache\n         *\n         * @param {String} key - Key to look up.\n         * @param {mixed} def - Default value to return, if key didn't exist.\n         * @return {Mixed} the key value, default value or null\n         */\n        get: function(key, def) {\n            _checkKey(key);\n            if (key in _storage) {\n                if (_storage[key] && typeof _storage[key] == 'object' && _storage[key]._is_xml) {\n                    return _XMLService.decode(_storage[key].xml);\n                } else {\n                    return _storage[key];\n                }\n            }\n            return typeof(def) == 'undefined' ? null : def;\n        },\n\n        /**\n         * Deletes a key from cache.\n         *\n         * @param {String} key - Key to delete.\n         * @return {Boolean} true if key existed or false if it didn't\n         */\n        deleteKey: function(key) {\n            _checkKey(key);\n            if (key in _storage) {\n                delete _storage[key];\n                // remove from TTL list\n                if (typeof _storage.__jstorage_meta.TTL == 'object' &&\n                    key in _storage.__jstorage_meta.TTL) {\n                    delete _storage.__jstorage_meta.TTL[key];\n                }\n\n                delete _storage.__jstorage_meta.CRC32[key];\n\n                _save();\n                _publishChange();\n                _fireObservers(key, 'deleted');\n                return true;\n            }\n            return false;\n        },\n\n        /**\n         * Sets a TTL for a key, or remove it if ttl value is 0 or below\n         *\n         * @param {String} key - key to set the TTL for\n         * @param {Number} ttl - TTL timeout in milliseconds\n         * @return {Boolean} true if key existed or false if it didn't\n         */\n        setTTL: function(key, ttl) {\n            var curtime = +new Date();\n            _checkKey(key);\n            ttl = Number(ttl) || 0;\n            if (key in _storage) {\n\n                if (!_storage.__jstorage_meta.TTL) {\n                    _storage.__jstorage_meta.TTL = {};\n                }\n\n                // Set TTL value for the key\n                if (ttl > 0) {\n                    _storage.__jstorage_meta.TTL[key] = curtime + ttl;\n                } else {\n                    delete _storage.__jstorage_meta.TTL[key];\n                }\n\n                _save();\n\n                _handleTTL();\n\n                _publishChange();\n                return true;\n            }\n            return false;\n        },\n\n        /**\n         * Gets remaining TTL (in milliseconds) for a key or 0 when no TTL has been set\n         *\n         * @param {String} key Key to check\n         * @return {Number} Remaining TTL in milliseconds\n         */\n        getTTL: function(key) {\n            var curtime = +new Date(),\n                ttl;\n            _checkKey(key);\n            if (key in _storage && _storage.__jstorage_meta.TTL && _storage.__jstorage_meta.TTL[key]) {\n                ttl = _storage.__jstorage_meta.TTL[key] - curtime;\n                return ttl || 0;\n            }\n            return 0;\n        },\n\n        /**\n         * Deletes everything in cache.\n         *\n         * @return {Boolean} Always true\n         */\n        flush: function() {\n            _storage = {\n                __jstorage_meta: {\n                    CRC32: {}\n                }\n            };\n            _save();\n            _publishChange();\n            _fireObservers(null, 'flushed');\n            return true;\n        },\n\n        /**\n         * Returns a read-only copy of _storage\n         *\n         * @return {Object} Read-only copy of _storage\n         */\n        storageObj: function() {\n            function F() {}\n            F.prototype = _storage;\n            return new F();\n        },\n\n        /**\n         * Returns an index of all used keys as an array\n         * ['key1', 'key2',..'keyN']\n         *\n         * @return {Array} Used keys\n         */\n        index: function() {\n            var index = [],\n                i;\n            for (i in _storage) {\n                if (_storage.hasOwnProperty(i) && i != '__jstorage_meta') {\n                    index.push(i);\n                }\n            }\n            return index;\n        },\n\n        /**\n         * How much space in bytes does the storage take?\n         *\n         * @return {Number} Storage size in chars (not the same as in bytes,\n         *                  since some chars may take several bytes)\n         */\n        storageSize: function() {\n            return _storage_size;\n        },\n\n        /**\n         * Which backend is currently in use?\n         *\n         * @return {String} Backend name\n         */\n        currentBackend: function() {\n            return _backend;\n        },\n\n        /**\n         * Test if storage is available\n         *\n         * @return {Boolean} True if storage can be used\n         */\n        storageAvailable: function() {\n            return !!_backend;\n        },\n\n        /**\n         * Register change listeners\n         *\n         * @param {String} key Key name\n         * @param {Function} callback Function to run when the key changes\n         */\n        listenKeyChange: function(key, callback) {\n            _checkKey(key);\n            if (!_observers[key]) {\n                _observers[key] = [];\n            }\n            _observers[key].push(callback);\n        },\n\n        /**\n         * Remove change listeners\n         *\n         * @param {String} key Key name to unregister listeners against\n         * @param {Function} [callback] If set, unregister the callback, if not - unregister all\n         */\n        stopListening: function(key, callback) {\n            _checkKey(key);\n\n            if (!_observers[key]) {\n                return;\n            }\n\n            if (!callback) {\n                delete _observers[key];\n                return;\n            }\n\n            for (var i = _observers[key].length - 1; i >= 0; i--) {\n                if (_observers[key][i] == callback) {\n                    _observers[key].splice(i, 1);\n                }\n            }\n        },\n\n        /**\n         * Subscribe to a Publish/Subscribe event stream\n         *\n         * @param {String} channel Channel name\n         * @param {Function} callback Function to run when the something is published to the channel\n         */\n        subscribe: function(channel, callback) {\n            channel = (channel || '').toString();\n            if (!channel) {\n                throw new TypeError('Channel not defined');\n            }\n            if (!_pubsub_observers[channel]) {\n                _pubsub_observers[channel] = [];\n            }\n            _pubsub_observers[channel].push(callback);\n        },\n\n        /**\n         * Publish data to an event stream\n         *\n         * @param {String} channel Channel name\n         * @param {Mixed} payload Payload to deliver\n         */\n        publish: function(channel, payload) {\n            channel = (channel || '').toString();\n            if (!channel) {\n                throw new TypeError('Channel not defined');\n            }\n\n            _publish(channel, payload);\n        },\n\n        /**\n         * Reloads the data from browser storage\n         */\n        reInit: function() {\n            _reloadData();\n        },\n\n        /**\n         * Removes reference from global objects and saves it as jStorage\n         *\n         * @param {Boolean} option if needed to save object as simple 'jStorage' in windows context\n         */\n        noConflict: function(saveInGlobal) {\n            delete window.$.jStorage;\n\n            if (saveInGlobal) {\n                window.jStorage = this;\n            }\n\n            return this;\n        }\n    };\n\n    // Initialize jStorage\n    _init();\n\n})();","var moment = module.exports = require(\"./moment-timezone\");\nmoment.tz.load(require('./data/packed/latest.json'));\n","//! moment-timezone-utils.js\n//! version : 0.5.21\n//! Copyright (c) JS Foundation and other contributors\n//! license : MIT\n//! github.com/moment/moment-timezone\n\n(function (root, factory) {\n\t\"use strict\";\n\n\t/*global define*/\n    if (typeof module === 'object' && module.exports) {\n        module.exports = factory(require('./'));     // Node\n    } else if (typeof define === 'function' && define.amd) {\n\t\tdefine(['moment'], factory);                 // AMD\n\t} else {\n\t\tfactory(root.moment);                        // Browser\n\t}\n}(this, function (moment) {\n\t\"use strict\";\n\n\tif (!moment.tz) {\n\t\tthrow new Error(\"moment-timezone-utils.js must be loaded after moment-timezone.js\");\n\t}\n\n\t/************************************\n\t\tPack Base 60\n\t************************************/\n\n\tvar BASE60 = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX',\n\t\tEPSILON = 0.000001; // Used to fix floating point rounding errors\n\n\tfunction packBase60Fraction(fraction, precision) {\n\t\tvar buffer = '.',\n\t\t\toutput = '',\n\t\t\tcurrent;\n\n\t\twhile (precision > 0) {\n\t\t\tprecision  -= 1;\n\t\t\tfraction   *= 60;\n\t\t\tcurrent     = Math.floor(fraction + EPSILON);\n\t\t\tbuffer     += BASE60[current];\n\t\t\tfraction   -= current;\n\n\t\t\t// Only add buffer to output once we have a non-zero value.\n\t\t\t// This makes '.000' output '', and '.100' output '.1'\n\t\t\tif (current) {\n\t\t\t\toutput += buffer;\n\t\t\t\tbuffer  = '';\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tfunction packBase60(number, precision) {\n\t\tvar output = '',\n\t\t\tabsolute = Math.abs(number),\n\t\t\twhole = Math.floor(absolute),\n\t\t\tfraction = packBase60Fraction(absolute - whole, Math.min(~~precision, 10));\n\n\t\twhile (whole > 0) {\n\t\t\toutput = BASE60[whole % 60] + output;\n\t\t\twhole = Math.floor(whole / 60);\n\t\t}\n\n\t\tif (number < 0) {\n\t\t\toutput = '-' + output;\n\t\t}\n\n\t\tif (output && fraction) {\n\t\t\treturn output + fraction;\n\t\t}\n\n\t\tif (!fraction && output === '-') {\n\t\t\treturn '0';\n\t\t}\n\n\t\treturn output || fraction || '0';\n\t}\n\n\t/************************************\n\t\tPack\n\t************************************/\n\n\tfunction packUntils(untils) {\n\t\tvar out = [],\n\t\t\tlast = 0,\n\t\t\ti;\n\n\t\tfor (i = 0; i < untils.length - 1; i++) {\n\t\t\tout[i] = packBase60(Math.round((untils[i] - last) / 1000) / 60, 1);\n\t\t\tlast = untils[i];\n\t\t}\n\n\t\treturn out.join(' ');\n\t}\n\n\tfunction packAbbrsAndOffsets(source) {\n\t\tvar index = 0,\n\t\t\tabbrs = [],\n\t\t\toffsets = [],\n\t\t\tindices = [],\n\t\t\tmap = {},\n\t\t\ti, key;\n\n\t\tfor (i = 0; i < source.abbrs.length; i++) {\n\t\t\tkey = source.abbrs[i] + '|' + source.offsets[i];\n\t\t\tif (map[key] === undefined) {\n\t\t\t\tmap[key] = index;\n\t\t\t\tabbrs[index] = source.abbrs[i];\n\t\t\t\toffsets[index] = packBase60(Math.round(source.offsets[i] * 60) / 60, 1);\n\t\t\t\tindex++;\n\t\t\t}\n\t\t\tindices[i] = packBase60(map[key], 0);\n\t\t}\n\n\t\treturn abbrs.join(' ') + '|' + offsets.join(' ') + '|' + indices.join('');\n\t}\n\n\tfunction packPopulation (number) {\n\t\tif (!number) {\n\t\t\treturn '';\n\t\t}\n\t\tif (number < 1000) {\n\t\t\treturn '|' + number;\n\t\t}\n\t\tvar exponent = String(number | 0).length - 2;\n\t\tvar precision = Math.round(number / Math.pow(10, exponent));\n\t\treturn '|' + precision + 'e' + exponent;\n\t}\n\n\tfunction validatePackData (source) {\n\t\tif (!source.name)    { throw new Error(\"Missing name\"); }\n\t\tif (!source.abbrs)   { throw new Error(\"Missing abbrs\"); }\n\t\tif (!source.untils)  { throw new Error(\"Missing untils\"); }\n\t\tif (!source.offsets) { throw new Error(\"Missing offsets\"); }\n\t\tif (\n\t\t\tsource.offsets.length !== source.untils.length ||\n\t\t\tsource.offsets.length !== source.abbrs.length\n\t\t) {\n\t\t\tthrow new Error(\"Mismatched array lengths\");\n\t\t}\n\t}\n\n\tfunction pack (source) {\n\t\tvalidatePackData(source);\n\t\treturn [\n\t\t\tsource.name,\n\t\t\tpackAbbrsAndOffsets(source),\n\t\t\tpackUntils(source.untils) + packPopulation(source.population)\n\t\t].join('|');\n\t}\n\n\t/************************************\n\t\tCreate Links\n\t************************************/\n\n\tfunction arraysAreEqual(a, b) {\n\t\tvar i;\n\n\t\tif (a.length !== b.length) { return false; }\n\n\t\tfor (i = 0; i < a.length; i++) {\n\t\t\tif (a[i] !== b[i]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tfunction zonesAreEqual(a, b) {\n\t\treturn arraysAreEqual(a.offsets, b.offsets) && arraysAreEqual(a.abbrs, b.abbrs) && arraysAreEqual(a.untils, b.untils);\n\t}\n\n\tfunction findAndCreateLinks (input, output, links, groupLeaders) {\n\t\tvar i, j, a, b, group, foundGroup, groups = [];\n\n\t\tfor (i = 0; i < input.length; i++) {\n\t\t\tfoundGroup = false;\n\t\t\ta = input[i];\n\n\t\t\tfor (j = 0; j < groups.length; j++) {\n\t\t\t\tgroup = groups[j];\n\t\t\t\tb = group[0];\n\t\t\t\tif (zonesAreEqual(a, b)) {\n\t\t\t\t\tif (a.population > b.population) {\n\t\t\t\t\t\tgroup.unshift(a);\n\t\t\t\t\t} else if (a.population === b.population && groupLeaders && groupLeaders[a.name]) {\n                        group.unshift(a);\n                    } else {\n\t\t\t\t\t\tgroup.push(a);\n\t\t\t\t\t}\n\t\t\t\t\tfoundGroup = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!foundGroup) {\n\t\t\t\tgroups.push([a]);\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < groups.length; i++) {\n\t\t\tgroup = groups[i];\n\t\t\toutput.push(group[0]);\n\t\t\tfor (j = 1; j < group.length; j++) {\n\t\t\t\tlinks.push(group[0].name + '|' + group[j].name);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction createLinks (source, groupLeaders) {\n\t\tvar zones = [],\n\t\t\tlinks = [];\n\n\t\tif (source.links) {\n\t\t\tlinks = source.links.slice();\n\t\t}\n\n\t\tfindAndCreateLinks(source.zones, zones, links, groupLeaders);\n\n\t\treturn {\n\t\t\tversion : source.version,\n\t\t\tzones   : zones,\n\t\t\tlinks   : links.sort()\n\t\t};\n\t}\n\n\t/************************************\n\t\tFilter Years\n\t************************************/\n\n\tfunction findStartAndEndIndex (untils, start, end) {\n\t\tvar startI = 0,\n\t\t\tendI = untils.length + 1,\n\t\t\tuntilYear,\n\t\t\ti;\n\n\t\tif (!end) {\n\t\t\tend = start;\n\t\t}\n\n\t\tif (start > end) {\n\t\t\ti = start;\n\t\t\tstart = end;\n\t\t\tend = i;\n\t\t}\n\n\t\tfor (i = 0; i < untils.length; i++) {\n\t\t\tif (untils[i] == null) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tuntilYear = new Date(untils[i]).getUTCFullYear();\n\t\t\tif (untilYear < start) {\n\t\t\t\tstartI = i + 1;\n\t\t\t}\n\t\t\tif (untilYear > end) {\n\t\t\t\tendI = Math.min(endI, i + 1);\n\t\t\t}\n\t\t}\n\n\t\treturn [startI, endI];\n\t}\n\n\tfunction filterYears (source, start, end) {\n\t\tvar slice     = Array.prototype.slice,\n\t\t\tindices   = findStartAndEndIndex(source.untils, start, end),\n\t\t\tuntils    = slice.apply(source.untils, indices);\n\n\t\tuntils[untils.length - 1] = null;\n\n\t\treturn {\n\t\t\tname       : source.name,\n\t\t\tabbrs      : slice.apply(source.abbrs, indices),\n\t\t\tuntils     : untils,\n\t\t\toffsets    : slice.apply(source.offsets, indices),\n\t\t\tpopulation : source.population\n\t\t};\n\t}\n\n\t/************************************\n\t\tFilter, Link, and Pack\n\t************************************/\n\n\tfunction filterLinkPack (input, start, end, groupLeaders) {\n\t\tvar i,\n\t\t\tinputZones = input.zones,\n\t\t\toutputZones = [],\n\t\t\toutput;\n\n\t\tfor (i = 0; i < inputZones.length; i++) {\n\t\t\toutputZones[i] = filterYears(inputZones[i], start, end);\n\t\t}\n\n\t\toutput = createLinks({\n\t\t\tzones : outputZones,\n\t\t\tlinks : input.links.slice(),\n\t\t\tversion : input.version\n\t\t}, groupLeaders);\n\n\t\tfor (i = 0; i < output.zones.length; i++) {\n\t\t\toutput.zones[i] = pack(output.zones[i]);\n\t\t}\n\n\t\treturn output;\n\t}\n\n\t/************************************\n\t\tExports\n\t************************************/\n\n\tmoment.tz.pack           = pack;\n\tmoment.tz.packBase60     = packBase60;\n\tmoment.tz.createLinks    = createLinks;\n\tmoment.tz.filterYears    = filterYears;\n\tmoment.tz.filterLinkPack = filterLinkPack;\n\n\treturn moment;\n}));\n","//! moment-timezone.js\n//! version : 0.5.21\n//! Copyright (c) JS Foundation and other contributors\n//! license : MIT\n//! github.com/moment/moment-timezone\n\n(function (root, factory) {\n\t\"use strict\";\n\n\t/*global define*/\n\tif (typeof module === 'object' && module.exports) {\n\t\tmodule.exports = factory(require('moment')); // Node\n\t} else if (typeof define === 'function' && define.amd) {\n\t\tdefine(['moment'], factory);                 // AMD\n\t} else {\n\t\tfactory(root.moment);                        // Browser\n\t}\n}(this, function (moment) {\n\t\"use strict\";\n\n\t// Do not load moment-timezone a second time.\n\t// if (moment.tz !== undefined) {\n\t// \tlogError('Moment Timezone ' + moment.tz.version + ' was already loaded ' + (moment.tz.dataVersion ? 'with data from ' : 'without any data') + moment.tz.dataVersion);\n\t// \treturn moment;\n\t// }\n\n\tvar VERSION = \"0.5.21\",\n\t\tzones = {},\n\t\tlinks = {},\n\t\tnames = {},\n\t\tguesses = {},\n\t\tcachedGuess;\n\n\tif (!moment || typeof moment.version !== 'string') {\n\t\tlogError('Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/');\n\t}\n\n\tvar momentVersion = moment.version.split('.'),\n\t\tmajor = +momentVersion[0],\n\t\tminor = +momentVersion[1];\n\n\t// Moment.js version check\n\tif (major < 2 || (major === 2 && minor < 6)) {\n\t\tlogError('Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js ' + moment.version + '. See momentjs.com');\n\t}\n\n\t/************************************\n\t\tUnpacking\n\t************************************/\n\n\tfunction charCodeToInt(charCode) {\n\t\tif (charCode > 96) {\n\t\t\treturn charCode - 87;\n\t\t} else if (charCode > 64) {\n\t\t\treturn charCode - 29;\n\t\t}\n\t\treturn charCode - 48;\n\t}\n\n\tfunction unpackBase60(string) {\n\t\tvar i = 0,\n\t\t\tparts = string.split('.'),\n\t\t\twhole = parts[0],\n\t\t\tfractional = parts[1] || '',\n\t\t\tmultiplier = 1,\n\t\t\tnum,\n\t\t\tout = 0,\n\t\t\tsign = 1;\n\n\t\t// handle negative numbers\n\t\tif (string.charCodeAt(0) === 45) {\n\t\t\ti = 1;\n\t\t\tsign = -1;\n\t\t}\n\n\t\t// handle digits before the decimal\n\t\tfor (i; i < whole.length; i++) {\n\t\t\tnum = charCodeToInt(whole.charCodeAt(i));\n\t\t\tout = 60 * out + num;\n\t\t}\n\n\t\t// handle digits after the decimal\n\t\tfor (i = 0; i < fractional.length; i++) {\n\t\t\tmultiplier = multiplier / 60;\n\t\t\tnum = charCodeToInt(fractional.charCodeAt(i));\n\t\t\tout += num * multiplier;\n\t\t}\n\n\t\treturn out * sign;\n\t}\n\n\tfunction arrayToInt (array) {\n\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\tarray[i] = unpackBase60(array[i]);\n\t\t}\n\t}\n\n\tfunction intToUntil (array, length) {\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tarray[i] = Math.round((array[i - 1] || 0) + (array[i] * 60000)); // minutes to milliseconds\n\t\t}\n\n\t\tarray[length - 1] = Infinity;\n\t}\n\n\tfunction mapIndices (source, indices) {\n\t\tvar out = [], i;\n\n\t\tfor (i = 0; i < indices.length; i++) {\n\t\t\tout[i] = source[indices[i]];\n\t\t}\n\n\t\treturn out;\n\t}\n\n\tfunction unpack (string) {\n\t\tvar data = string.split('|'),\n\t\t\toffsets = data[2].split(' '),\n\t\t\tindices = data[3].split(''),\n\t\t\tuntils  = data[4].split(' ');\n\n\t\tarrayToInt(offsets);\n\t\tarrayToInt(indices);\n\t\tarrayToInt(untils);\n\n\t\tintToUntil(untils, indices.length);\n\n\t\treturn {\n\t\t\tname       : data[0],\n\t\t\tabbrs      : mapIndices(data[1].split(' '), indices),\n\t\t\toffsets    : mapIndices(offsets, indices),\n\t\t\tuntils     : untils,\n\t\t\tpopulation : data[5] | 0\n\t\t};\n\t}\n\n\t/************************************\n\t\tZone object\n\t************************************/\n\n\tfunction Zone (packedString) {\n\t\tif (packedString) {\n\t\t\tthis._set(unpack(packedString));\n\t\t}\n\t}\n\n\tZone.prototype = {\n\t\t_set : function (unpacked) {\n\t\t\tthis.name       = unpacked.name;\n\t\t\tthis.abbrs      = unpacked.abbrs;\n\t\t\tthis.untils     = unpacked.untils;\n\t\t\tthis.offsets    = unpacked.offsets;\n\t\t\tthis.population = unpacked.population;\n\t\t},\n\n\t\t_index : function (timestamp) {\n\t\t\tvar target = +timestamp,\n\t\t\t\tuntils = this.untils,\n\t\t\t\ti;\n\n\t\t\tfor (i = 0; i < untils.length; i++) {\n\t\t\t\tif (target < untils[i]) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tparse : function (timestamp) {\n\t\t\tvar target  = +timestamp,\n\t\t\t\toffsets = this.offsets,\n\t\t\t\tuntils  = this.untils,\n\t\t\t\tmax     = untils.length - 1,\n\t\t\t\toffset, offsetNext, offsetPrev, i;\n\n\t\t\tfor (i = 0; i < max; i++) {\n\t\t\t\toffset     = offsets[i];\n\t\t\t\toffsetNext = offsets[i + 1];\n\t\t\t\toffsetPrev = offsets[i ? i - 1 : i];\n\n\t\t\t\tif (offset < offsetNext && tz.moveAmbiguousForward) {\n\t\t\t\t\toffset = offsetNext;\n\t\t\t\t} else if (offset > offsetPrev && tz.moveInvalidForward) {\n\t\t\t\t\toffset = offsetPrev;\n\t\t\t\t}\n\n\t\t\t\tif (target < untils[i] - (offset * 60000)) {\n\t\t\t\t\treturn offsets[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn offsets[max];\n\t\t},\n\n\t\tabbr : function (mom) {\n\t\t\treturn this.abbrs[this._index(mom)];\n\t\t},\n\n\t\toffset : function (mom) {\n\t\t\tlogError(\"zone.offset has been deprecated in favor of zone.utcOffset\");\n\t\t\treturn this.offsets[this._index(mom)];\n\t\t},\n\n\t\tutcOffset : function (mom) {\n\t\t\treturn this.offsets[this._index(mom)];\n\t\t}\n\t};\n\n\t/************************************\n\t\tCurrent Timezone\n\t************************************/\n\n\tfunction OffsetAt(at) {\n\t\tvar timeString = at.toTimeString();\n\t\tvar abbr = timeString.match(/\\([a-z ]+\\)/i);\n\t\tif (abbr && abbr[0]) {\n\t\t\t// 17:56:31 GMT-0600 (CST)\n\t\t\t// 17:56:31 GMT-0600 (Central Standard Time)\n\t\t\tabbr = abbr[0].match(/[A-Z]/g);\n\t\t\tabbr = abbr ? abbr.join('') : undefined;\n\t\t} else {\n\t\t\t// 17:56:31 CST\n\t\t\t// 17:56:31 GMT+0800 ()\n\t\t\tabbr = timeString.match(/[A-Z]{3,5}/g);\n\t\t\tabbr = abbr ? abbr[0] : undefined;\n\t\t}\n\n\t\tif (abbr === 'GMT') {\n\t\t\tabbr = undefined;\n\t\t}\n\n\t\tthis.at = +at;\n\t\tthis.abbr = abbr;\n\t\tthis.offset = at.getTimezoneOffset();\n\t}\n\n\tfunction ZoneScore(zone) {\n\t\tthis.zone = zone;\n\t\tthis.offsetScore = 0;\n\t\tthis.abbrScore = 0;\n\t}\n\n\tZoneScore.prototype.scoreOffsetAt = function (offsetAt) {\n\t\tthis.offsetScore += Math.abs(this.zone.utcOffset(offsetAt.at) - offsetAt.offset);\n\t\tif (this.zone.abbr(offsetAt.at).replace(/[^A-Z]/g, '') !== offsetAt.abbr) {\n\t\t\tthis.abbrScore++;\n\t\t}\n\t};\n\n\tfunction findChange(low, high) {\n\t\tvar mid, diff;\n\n\t\twhile ((diff = ((high.at - low.at) / 12e4 | 0) * 6e4)) {\n\t\t\tmid = new OffsetAt(new Date(low.at + diff));\n\t\t\tif (mid.offset === low.offset) {\n\t\t\t\tlow = mid;\n\t\t\t} else {\n\t\t\t\thigh = mid;\n\t\t\t}\n\t\t}\n\n\t\treturn low;\n\t}\n\n\tfunction userOffsets() {\n\t\tvar startYear = new Date().getFullYear() - 2,\n\t\t\tlast = new OffsetAt(new Date(startYear, 0, 1)),\n\t\t\toffsets = [last],\n\t\t\tchange, next, i;\n\n\t\tfor (i = 1; i < 48; i++) {\n\t\t\tnext = new OffsetAt(new Date(startYear, i, 1));\n\t\t\tif (next.offset !== last.offset) {\n\t\t\t\tchange = findChange(last, next);\n\t\t\t\toffsets.push(change);\n\t\t\t\toffsets.push(new OffsetAt(new Date(change.at + 6e4)));\n\t\t\t}\n\t\t\tlast = next;\n\t\t}\n\n\t\tfor (i = 0; i < 4; i++) {\n\t\t\toffsets.push(new OffsetAt(new Date(startYear + i, 0, 1)));\n\t\t\toffsets.push(new OffsetAt(new Date(startYear + i, 6, 1)));\n\t\t}\n\n\t\treturn offsets;\n\t}\n\n\tfunction sortZoneScores (a, b) {\n\t\tif (a.offsetScore !== b.offsetScore) {\n\t\t\treturn a.offsetScore - b.offsetScore;\n\t\t}\n\t\tif (a.abbrScore !== b.abbrScore) {\n\t\t\treturn a.abbrScore - b.abbrScore;\n\t\t}\n\t\treturn b.zone.population - a.zone.population;\n\t}\n\n\tfunction addToGuesses (name, offsets) {\n\t\tvar i, offset;\n\t\tarrayToInt(offsets);\n\t\tfor (i = 0; i < offsets.length; i++) {\n\t\t\toffset = offsets[i];\n\t\t\tguesses[offset] = guesses[offset] || {};\n\t\t\tguesses[offset][name] = true;\n\t\t}\n\t}\n\n\tfunction guessesForUserOffsets (offsets) {\n\t\tvar offsetsLength = offsets.length,\n\t\t\tfilteredGuesses = {},\n\t\t\tout = [],\n\t\t\ti, j, guessesOffset;\n\n\t\tfor (i = 0; i < offsetsLength; i++) {\n\t\t\tguessesOffset = guesses[offsets[i].offset] || {};\n\t\t\tfor (j in guessesOffset) {\n\t\t\t\tif (guessesOffset.hasOwnProperty(j)) {\n\t\t\t\t\tfilteredGuesses[j] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (i in filteredGuesses) {\n\t\t\tif (filteredGuesses.hasOwnProperty(i)) {\n\t\t\t\tout.push(names[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn out;\n\t}\n\n\tfunction rebuildGuess () {\n\n\t\t// use Intl API when available and returning valid time zone\n\t\ttry {\n\t\t\tvar intlName = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\t\t\tif (intlName && intlName.length > 3) {\n\t\t\t\tvar name = names[normalizeName(intlName)];\n\t\t\t\tif (name) {\n\t\t\t\t\treturn name;\n\t\t\t\t}\n\t\t\t\tlogError(\"Moment Timezone found \" + intlName + \" from the Intl api, but did not have that data loaded.\");\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// Intl unavailable, fall back to manual guessing.\n\t\t}\n\n\t\tvar offsets = userOffsets(),\n\t\t\toffsetsLength = offsets.length,\n\t\t\tguesses = guessesForUserOffsets(offsets),\n\t\t\tzoneScores = [],\n\t\t\tzoneScore, i, j;\n\n\t\tfor (i = 0; i < guesses.length; i++) {\n\t\t\tzoneScore = new ZoneScore(getZone(guesses[i]), offsetsLength);\n\t\t\tfor (j = 0; j < offsetsLength; j++) {\n\t\t\t\tzoneScore.scoreOffsetAt(offsets[j]);\n\t\t\t}\n\t\t\tzoneScores.push(zoneScore);\n\t\t}\n\n\t\tzoneScores.sort(sortZoneScores);\n\n\t\treturn zoneScores.length > 0 ? zoneScores[0].zone.name : undefined;\n\t}\n\n\tfunction guess (ignoreCache) {\n\t\tif (!cachedGuess || ignoreCache) {\n\t\t\tcachedGuess = rebuildGuess();\n\t\t}\n\t\treturn cachedGuess;\n\t}\n\n\t/************************************\n\t\tGlobal Methods\n\t************************************/\n\n\tfunction normalizeName (name) {\n\t\treturn (name || '').toLowerCase().replace(/\\//g, '_');\n\t}\n\n\tfunction addZone (packed) {\n\t\tvar i, name, split, normalized;\n\n\t\tif (typeof packed === \"string\") {\n\t\t\tpacked = [packed];\n\t\t}\n\n\t\tfor (i = 0; i < packed.length; i++) {\n\t\t\tsplit = packed[i].split('|');\n\t\t\tname = split[0];\n\t\t\tnormalized = normalizeName(name);\n\t\t\tzones[normalized] = packed[i];\n\t\t\tnames[normalized] = name;\n\t\t\taddToGuesses(normalized, split[2].split(' '));\n\t\t}\n\t}\n\n\tfunction getZone (name, caller) {\n\t\t\n\t\tname = normalizeName(name);\n\n\t\tvar zone = zones[name];\n\t\tvar link;\n\n\t\tif (zone instanceof Zone) {\n\t\t\treturn zone;\n\t\t}\n\n\t\tif (typeof zone === 'string') {\n\t\t\tzone = new Zone(zone);\n\t\t\tzones[name] = zone;\n\t\t\treturn zone;\n\t\t}\n\n\t\t// Pass getZone to prevent recursion more than 1 level deep\n\t\tif (links[name] && caller !== getZone && (link = getZone(links[name], getZone))) {\n\t\t\tzone = zones[name] = new Zone();\n\t\t\tzone._set(link);\n\t\t\tzone.name = names[name];\n\t\t\treturn zone;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfunction getNames () {\n\t\tvar i, out = [];\n\n\t\tfor (i in names) {\n\t\t\tif (names.hasOwnProperty(i) && (zones[i] || zones[links[i]]) && names[i]) {\n\t\t\t\tout.push(names[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn out.sort();\n\t}\n\n\tfunction addLink (aliases) {\n\t\tvar i, alias, normal0, normal1;\n\n\t\tif (typeof aliases === \"string\") {\n\t\t\taliases = [aliases];\n\t\t}\n\n\t\tfor (i = 0; i < aliases.length; i++) {\n\t\t\talias = aliases[i].split('|');\n\n\t\t\tnormal0 = normalizeName(alias[0]);\n\t\t\tnormal1 = normalizeName(alias[1]);\n\n\t\t\tlinks[normal0] = normal1;\n\t\t\tnames[normal0] = alias[0];\n\n\t\t\tlinks[normal1] = normal0;\n\t\t\tnames[normal1] = alias[1];\n\t\t}\n\t}\n\n\tfunction loadData (data) {\n\t\taddZone(data.zones);\n\t\taddLink(data.links);\n\t\ttz.dataVersion = data.version;\n\t}\n\n\tfunction zoneExists (name) {\n\t\tif (!zoneExists.didShowError) {\n\t\t\tzoneExists.didShowError = true;\n\t\t\t\tlogError(\"moment.tz.zoneExists('\" + name + \"') has been deprecated in favor of !moment.tz.zone('\" + name + \"')\");\n\t\t}\n\t\treturn !!getZone(name);\n\t}\n\n\tfunction needsOffset (m) {\n\t\tvar isUnixTimestamp = (m._f === 'X' || m._f === 'x');\n\t\treturn !!(m._a && (m._tzm === undefined) && !isUnixTimestamp);\n\t}\n\n\tfunction logError (message) {\n\t\tif (typeof console !== 'undefined' && typeof console.error === 'function') {\n\t\t\tconsole.error(message);\n\t\t}\n\t}\n\n\t/************************************\n\t\tmoment.tz namespace\n\t************************************/\n\n\tfunction tz (input) {\n\t\tvar args = Array.prototype.slice.call(arguments, 0, -1),\n\t\t\tname = arguments[arguments.length - 1],\n\t\t\tzone = getZone(name),\n\t\t\tout  = moment.utc.apply(null, args);\n\n\t\tif (zone && !moment.isMoment(input) && needsOffset(out)) {\n\t\t\tout.add(zone.parse(out), 'minutes');\n\t\t}\n\n\t\tout.tz(name);\n\n\t\treturn out;\n\t}\n\n\ttz.version      = VERSION;\n\ttz.dataVersion  = '';\n\ttz._zones       = zones;\n\ttz._links       = links;\n\ttz._names       = names;\n\ttz.add          = addZone;\n\ttz.link         = addLink;\n\ttz.load         = loadData;\n\ttz.zone         = getZone;\n\ttz.zoneExists   = zoneExists; // deprecated in 0.1.0\n\ttz.guess        = guess;\n\ttz.names        = getNames;\n\ttz.Zone         = Zone;\n\ttz.unpack       = unpack;\n\ttz.unpackBase60 = unpackBase60;\n\ttz.needsOffset  = needsOffset;\n\ttz.moveInvalidForward   = true;\n\ttz.moveAmbiguousForward = false;\n\n\t/************************************\n\t\tInterface with Moment.js\n\t************************************/\n\n\tvar fn = moment.fn;\n\n\tmoment.tz = tz;\n\n\tmoment.defaultZone = null;\n\n\tmoment.updateOffset = function (mom, keepTime) {\n\t\tvar zone = moment.defaultZone,\n\t\t\toffset;\n\n\t\tif (mom._z === undefined) {\n\t\t\tif (zone && needsOffset(mom) && !mom._isUTC) {\n\t\t\t\tmom._d = moment.utc(mom._a)._d;\n\t\t\t\tmom.utc().add(zone.parse(mom), 'minutes');\n\t\t\t}\n\t\t\tmom._z = zone;\n\t\t}\n\t\tif (mom._z) {\n\t\t\toffset = mom._z.utcOffset(mom);\n\t\t\tif (Math.abs(offset) < 16) {\n\t\t\t\toffset = offset / 60;\n\t\t\t}\n\t\t\tif (mom.utcOffset !== undefined) {\n\t\t\t\tmom.utcOffset(-offset, keepTime);\n\t\t\t} else {\n\t\t\t\tmom.zone(offset, keepTime);\n\t\t\t}\n\t\t}\n\t};\n\n\tfn.tz = function (name, keepTime) {\n\t\tif (name) {\n\t\t\tif (typeof name !== 'string') {\n\t\t\t\tthrow new Error('Time zone name must be a string, got ' + name + ' [' + typeof name + ']');\n\t\t\t}\n\t\t\tthis._z = getZone(name);\n\t\t\tif (this._z) {\n\t\t\t\tmoment.updateOffset(this, keepTime);\n\t\t\t} else {\n\t\t\t\tlogError(\"Moment Timezone has no data for \" + name + \". See http://momentjs.com/timezone/docs/#/data-loading/.\");\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif (this._z) { return this._z.name; }\n\t};\n\n\tfunction abbrWrap (old) {\n\t\treturn function () {\n\t\t\tif (this._z) { return this._z.abbr(this); }\n\t\t\treturn old.call(this);\n\t\t};\n\t}\n\n\tfunction resetZoneWrap (old) {\n\t\treturn function () {\n\t\t\tthis._z = null;\n\t\t\treturn old.apply(this, arguments);\n\t\t};\n\t}\n\n\tfn.zoneName = abbrWrap(fn.zoneName);\n\tfn.zoneAbbr = abbrWrap(fn.zoneAbbr);\n\tfn.utc      = resetZoneWrap(fn.utc);\n\n\tmoment.tz.setDefault = function(name) {\n\t\tif (major < 2 || (major === 2 && minor < 9)) {\n\t\t\tlogError('Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js ' + moment.version + '.');\n\t\t}\n\t\tmoment.defaultZone = name ? getZone(name) : null;\n\t\treturn moment;\n\t};\n\n\t// Cloning a moment should include the _z property.\n\tvar momentProperties = moment.momentProperties;\n\tif (Object.prototype.toString.call(momentProperties) === '[object Array]') {\n\t\t// moment 2.8.1+\n\t\tmomentProperties.push('_z');\n\t\tmomentProperties.push('_a');\n\t} else if (momentProperties) {\n\t\t// moment 2.7.0\n\t\tmomentProperties._z = null;\n\t}\n\n\t// INJECT DATA\n\n\treturn moment;\n}));\n","var map = {\n\t\"./de\": \"../node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"../node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"../node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"../node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"../node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"../node_modules/moment/locale/de.js\",\n\t\"./en-au\": \"../node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"../node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"../node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"../node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"../node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"../node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"../node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"../node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"../node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"../node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"../node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"../node_modules/moment/locale/en-nz.js\",\n\t\"./ru\": \"../node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"../node_modules/moment/locale/ru.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"../node_modules/moment/locale sync recursive de|ru|en\";","//! moment.js locale configuration\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, (function (moment) { 'use strict';\n\n\n    function processRelativeTime(number, withoutSuffix, key, isFuture) {\n        var format = {\n            'm': ['eine Minute', 'einer Minute'],\n            'h': ['eine Stunde', 'einer Stunde'],\n            'd': ['ein Tag', 'einem Tag'],\n            'dd': [number + ' Tage', number + ' Tagen'],\n            'M': ['ein Monat', 'einem Monat'],\n            'MM': [number + ' Monate', number + ' Monaten'],\n            'y': ['ein Jahr', 'einem Jahr'],\n            'yy': [number + ' Jahre', number + ' Jahren']\n        };\n        return withoutSuffix ? format[key][0] : format[key][1];\n    }\n\n    var deAt = moment.defineLocale('de-at', {\n        months : 'Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),\n        monthsShort : 'Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.'.split('_'),\n        monthsParseExact : true,\n        weekdays : 'Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag'.split('_'),\n        weekdaysShort : 'So._Mo._Di._Mi._Do._Fr._Sa.'.split('_'),\n        weekdaysMin : 'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT: 'HH:mm',\n            LTS: 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D. MMMM YYYY',\n            LLL : 'D. MMMM YYYY HH:mm',\n            LLLL : 'dddd, D. MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[heute um] LT [Uhr]',\n            sameElse: 'L',\n            nextDay: '[morgen um] LT [Uhr]',\n            nextWeek: 'dddd [um] LT [Uhr]',\n            lastDay: '[gestern um] LT [Uhr]',\n            lastWeek: '[letzten] dddd [um] LT [Uhr]'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : 'vor %s',\n            s : 'ein paar Sekunden',\n            ss : '%d Sekunden',\n            m : processRelativeTime,\n            mm : '%d Minuten',\n            h : processRelativeTime,\n            hh : '%d Stunden',\n            d : processRelativeTime,\n            dd : processRelativeTime,\n            M : processRelativeTime,\n            MM : processRelativeTime,\n            y : processRelativeTime,\n            yy : processRelativeTime\n        },\n        dayOfMonthOrdinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return deAt;\n\n})));\n","//! moment.js locale configuration\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, (function (moment) { 'use strict';\n\n\n    function processRelativeTime(number, withoutSuffix, key, isFuture) {\n        var format = {\n            'm': ['eine Minute', 'einer Minute'],\n            'h': ['eine Stunde', 'einer Stunde'],\n            'd': ['ein Tag', 'einem Tag'],\n            'dd': [number + ' Tage', number + ' Tagen'],\n            'M': ['ein Monat', 'einem Monat'],\n            'MM': [number + ' Monate', number + ' Monaten'],\n            'y': ['ein Jahr', 'einem Jahr'],\n            'yy': [number + ' Jahre', number + ' Jahren']\n        };\n        return withoutSuffix ? format[key][0] : format[key][1];\n    }\n\n    var deCh = moment.defineLocale('de-ch', {\n        months : 'Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),\n        monthsShort : 'Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.'.split('_'),\n        monthsParseExact : true,\n        weekdays : 'Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag'.split('_'),\n        weekdaysShort : 'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),\n        weekdaysMin : 'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT: 'HH:mm',\n            LTS: 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D. MMMM YYYY',\n            LLL : 'D. MMMM YYYY HH:mm',\n            LLLL : 'dddd, D. MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[heute um] LT [Uhr]',\n            sameElse: 'L',\n            nextDay: '[morgen um] LT [Uhr]',\n            nextWeek: 'dddd [um] LT [Uhr]',\n            lastDay: '[gestern um] LT [Uhr]',\n            lastWeek: '[letzten] dddd [um] LT [Uhr]'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : 'vor %s',\n            s : 'ein paar Sekunden',\n            ss : '%d Sekunden',\n            m : processRelativeTime,\n            mm : '%d Minuten',\n            h : processRelativeTime,\n            hh : '%d Stunden',\n            d : processRelativeTime,\n            dd : processRelativeTime,\n            M : processRelativeTime,\n            MM : processRelativeTime,\n            y : processRelativeTime,\n            yy : processRelativeTime\n        },\n        dayOfMonthOrdinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return deCh;\n\n})));\n","//! moment.js locale configuration\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, (function (moment) { 'use strict';\n\n\n    function processRelativeTime(number, withoutSuffix, key, isFuture) {\n        var format = {\n            'm': ['eine Minute', 'einer Minute'],\n            'h': ['eine Stunde', 'einer Stunde'],\n            'd': ['ein Tag', 'einem Tag'],\n            'dd': [number + ' Tage', number + ' Tagen'],\n            'M': ['ein Monat', 'einem Monat'],\n            'MM': [number + ' Monate', number + ' Monaten'],\n            'y': ['ein Jahr', 'einem Jahr'],\n            'yy': [number + ' Jahre', number + ' Jahren']\n        };\n        return withoutSuffix ? format[key][0] : format[key][1];\n    }\n\n    var de = moment.defineLocale('de', {\n        months : 'Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),\n        monthsShort : 'Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.'.split('_'),\n        monthsParseExact : true,\n        weekdays : 'Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag'.split('_'),\n        weekdaysShort : 'So._Mo._Di._Mi._Do._Fr._Sa.'.split('_'),\n        weekdaysMin : 'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT: 'HH:mm',\n            LTS: 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D. MMMM YYYY',\n            LLL : 'D. MMMM YYYY HH:mm',\n            LLLL : 'dddd, D. MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[heute um] LT [Uhr]',\n            sameElse: 'L',\n            nextDay: '[morgen um] LT [Uhr]',\n            nextWeek: 'dddd [um] LT [Uhr]',\n            lastDay: '[gestern um] LT [Uhr]',\n            lastWeek: '[letzten] dddd [um] LT [Uhr]'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : 'vor %s',\n            s : 'ein paar Sekunden',\n            ss : '%d Sekunden',\n            m : processRelativeTime,\n            mm : '%d Minuten',\n            h : processRelativeTime,\n            hh : '%d Stunden',\n            d : processRelativeTime,\n            dd : processRelativeTime,\n            M : processRelativeTime,\n            MM : processRelativeTime,\n            y : processRelativeTime,\n            yy : processRelativeTime\n        },\n        dayOfMonthOrdinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return de;\n\n})));\n","//! moment.js locale configuration\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, (function (moment) { 'use strict';\n\n\n    var enAu = moment.defineLocale('en-au', {\n        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        longDateFormat : {\n            LT : 'h:mm A',\n            LTS : 'h:mm:ss A',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY h:mm A',\n            LLLL : 'dddd, D MMMM YYYY h:mm A'\n        },\n        calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[Last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : '%s ago',\n            s : 'a few seconds',\n            ss : '%d seconds',\n            m : 'a minute',\n            mm : '%d minutes',\n            h : 'an hour',\n            hh : '%d hours',\n            d : 'a day',\n            dd : '%d days',\n            M : 'a month',\n            MM : '%d months',\n            y : 'a year',\n            yy : '%d years'\n        },\n        dayOfMonthOrdinalParse: /\\d{1,2}(st|nd|rd|th)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return enAu;\n\n})));\n","//! moment.js locale configuration\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, (function (moment) { 'use strict';\n\n\n    var enCa = moment.defineLocale('en-ca', {\n        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        longDateFormat : {\n            LT : 'h:mm A',\n            LTS : 'h:mm:ss A',\n            L : 'YYYY-MM-DD',\n            LL : 'MMMM D, YYYY',\n            LLL : 'MMMM D, YYYY h:mm A',\n            LLLL : 'dddd, MMMM D, YYYY h:mm A'\n        },\n        calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[Last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : '%s ago',\n            s : 'a few seconds',\n            ss : '%d seconds',\n            m : 'a minute',\n            mm : '%d minutes',\n            h : 'an hour',\n            hh : '%d hours',\n            d : 'a day',\n            dd : '%d days',\n            M : 'a month',\n            MM : '%d months',\n            y : 'a year',\n            yy : '%d years'\n        },\n        dayOfMonthOrdinalParse: /\\d{1,2}(st|nd|rd|th)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n    return enCa;\n\n})));\n","//! moment.js locale configuration\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, (function (moment) { 'use strict';\n\n\n    var enGb = moment.defineLocale('en-gb', {\n        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[Last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : '%s ago',\n            s : 'a few seconds',\n            ss : '%d seconds',\n            m : 'a minute',\n            mm : '%d minutes',\n            h : 'an hour',\n            hh : '%d hours',\n            d : 'a day',\n            dd : '%d days',\n            M : 'a month',\n            MM : '%d months',\n            y : 'a year',\n            yy : '%d years'\n        },\n        dayOfMonthOrdinalParse: /\\d{1,2}(st|nd|rd|th)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return enGb;\n\n})));\n","//! moment.js locale configuration\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, (function (moment) { 'use strict';\n\n\n    var enIe = moment.defineLocale('en-ie', {\n        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD-MM-YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[Last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : '%s ago',\n            s : 'a few seconds',\n            ss : '%d seconds',\n            m : 'a minute',\n            mm : '%d minutes',\n            h : 'an hour',\n            hh : '%d hours',\n            d : 'a day',\n            dd : '%d days',\n            M : 'a month',\n            MM : '%d months',\n            y : 'a year',\n            yy : '%d years'\n        },\n        dayOfMonthOrdinalParse: /\\d{1,2}(st|nd|rd|th)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return enIe;\n\n})));\n","//! moment.js locale configuration\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, (function (moment) { 'use strict';\n\n\n    var enIl = moment.defineLocale('en-il', {\n        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[Last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : '%s ago',\n            s : 'a few seconds',\n            m : 'a minute',\n            mm : '%d minutes',\n            h : 'an hour',\n            hh : '%d hours',\n            d : 'a day',\n            dd : '%d days',\n            M : 'a month',\n            MM : '%d months',\n            y : 'a year',\n            yy : '%d years'\n        },\n        dayOfMonthOrdinalParse: /\\d{1,2}(st|nd|rd|th)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n    return enIl;\n\n})));\n","//! moment.js locale configuration\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, (function (moment) { 'use strict';\n\n\n    var enNz = moment.defineLocale('en-nz', {\n        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        longDateFormat : {\n            LT : 'h:mm A',\n            LTS : 'h:mm:ss A',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY h:mm A',\n            LLLL : 'dddd, D MMMM YYYY h:mm A'\n        },\n        calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[Last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : '%s ago',\n            s : 'a few seconds',\n            ss : '%d seconds',\n            m : 'a minute',\n            mm : '%d minutes',\n            h : 'an hour',\n            hh : '%d hours',\n            d : 'a day',\n            dd : '%d days',\n            M : 'a month',\n            MM : '%d months',\n            y : 'a year',\n            yy : '%d years'\n        },\n        dayOfMonthOrdinalParse: /\\d{1,2}(st|nd|rd|th)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return enNz;\n\n})));\n","//! moment.js locale configuration\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, (function (moment) { 'use strict';\n\n\n    function plural(word, num) {\n        var forms = word.split('_');\n        return num % 10 === 1 && num % 100 !== 11 ? forms[0] : (num % 10 >= 2 && num % 10 <= 4 && (num % 100 < 10 || num % 100 >= 20) ? forms[1] : forms[2]);\n    }\n    function relativeTimeWithPlural(number, withoutSuffix, key) {\n        var format = {\n            'ss': withoutSuffix ? '__' : '__',\n            'mm': withoutSuffix ? '__' : '__',\n            'hh': '__',\n            'dd': '__',\n            'MM': '__',\n            'yy': '__'\n        };\n        if (key === 'm') {\n            return withoutSuffix ? '' : '';\n        }\n        else {\n            return number + ' ' + plural(format[key], +number);\n        }\n    }\n    var monthsParse = [/^/i, /^/i, /^/i, /^/i, /^[]/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i];\n\n    // http://new.gramota.ru/spravka/rules/139-prop :  103\n    //  : http://new.gramota.ru/spravka/buro/search-answer?s=242637\n    // CLDR data:          http://www.unicode.org/cldr/charts/28/summary/ru.html#1753\n    var ru = moment.defineLocale('ru', {\n        months : {\n            format: '___________'.split('_'),\n            standalone: '___________'.split('_')\n        },\n        monthsShort : {\n            //  CLDR  \".\"  \".\",        ?\n            format: '._._._.____._._._._.'.split('_'),\n            standalone: '._.__.____._._._._.'.split('_')\n        },\n        weekdays : {\n            standalone: '______'.split('_'),\n            format: '______'.split('_'),\n            isFormat: /\\[ ?[] ?(?:||)? ?\\] ?dddd/\n        },\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        monthsParse : monthsParse,\n        longMonthsParse : monthsParse,\n        shortMonthsParse : monthsParse,\n\n        //    ,   ,  ,  4 ,      \n        monthsRegex: /^([]|\\.?|[]|?\\.?|?|\\.?|[]|\\.?|[]|[]|\\.?|[]|\\.?|?|\\.?|[]|?\\.?|[]|\\.?|[]|?\\.?|[]|\\.?)/i,\n\n        //  \n        monthsShortRegex: /^([]|\\.?|[]|?\\.?|?|\\.?|[]|\\.?|[]|[]|\\.?|[]|\\.?|?|\\.?|[]|?\\.?|[]|\\.?|[]|?\\.?|[]|\\.?)/i,\n\n        //    \n        monthsStrictRegex: /^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,\n\n        // ,     \n        monthsShortStrictRegex: /^(\\.|?\\.|[.]|\\.|[]|[.]|[.]|\\.|?\\.|\\.|?\\.|\\.)/i,\n        longDateFormat : {\n            LT : 'H:mm',\n            LTS : 'H:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D MMMM YYYY .',\n            LLL : 'D MMMM YYYY ., H:mm',\n            LLLL : 'dddd, D MMMM YYYY ., H:mm'\n        },\n        calendar : {\n            sameDay: '[, ] LT',\n            nextDay: '[, ] LT',\n            lastDay: '[, ] LT',\n            nextWeek: function (now) {\n                if (now.week() !== this.week()) {\n                    switch (this.day()) {\n                        case 0:\n                            return '[ ] dddd, [] LT';\n                        case 1:\n                        case 2:\n                        case 4:\n                            return '[ ] dddd, [] LT';\n                        case 3:\n                        case 5:\n                        case 6:\n                            return '[ ] dddd, [] LT';\n                    }\n                } else {\n                    if (this.day() === 2) {\n                        return '[] dddd, [] LT';\n                    } else {\n                        return '[] dddd, [] LT';\n                    }\n                }\n            },\n            lastWeek: function (now) {\n                if (now.week() !== this.week()) {\n                    switch (this.day()) {\n                        case 0:\n                            return '[ ] dddd, [] LT';\n                        case 1:\n                        case 2:\n                        case 4:\n                            return '[ ] dddd, [] LT';\n                        case 3:\n                        case 5:\n                        case 6:\n                            return '[ ] dddd, [] LT';\n                    }\n                } else {\n                    if (this.day() === 2) {\n                        return '[] dddd, [] LT';\n                    } else {\n                        return '[] dddd, [] LT';\n                    }\n                }\n            },\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : ' %s',\n            past : '%s ',\n            s : ' ',\n            ss : relativeTimeWithPlural,\n            m : relativeTimeWithPlural,\n            mm : relativeTimeWithPlural,\n            h : '',\n            hh : relativeTimeWithPlural,\n            d : '',\n            dd : relativeTimeWithPlural,\n            M : '',\n            MM : relativeTimeWithPlural,\n            y : '',\n            yy : relativeTimeWithPlural\n        },\n        meridiemParse: /|||/i,\n        isPM : function (input) {\n            return /^(|)$/.test(input);\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 4) {\n                return '';\n            } else if (hour < 12) {\n                return '';\n            } else if (hour < 17) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        dayOfMonthOrdinalParse: /\\d{1,2}-(||)/,\n        ordinal: function (number, period) {\n            switch (period) {\n                case 'M':\n                case 'd':\n                case 'DDD':\n                    return number + '-';\n                case 'D':\n                    return number + '-';\n                case 'w':\n                case 'W':\n                    return number + '-';\n                default:\n                    return number;\n            }\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return ru;\n\n})));\n","//! moment.js\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\n    var hookCallback;\n\n    function hooks () {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback (callback) {\n        hookCallback = callback;\n    }\n\n    function isArray(input) {\n        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n    }\n\n    function isObject(input) {\n        // IE8 will treat undefined and null as object if it wasn't for\n        // input != null\n        return input != null && Object.prototype.toString.call(input) === '[object Object]';\n    }\n\n    function isObjectEmpty(obj) {\n        if (Object.getOwnPropertyNames) {\n            return (Object.getOwnPropertyNames(obj).length === 0);\n        } else {\n            var k;\n            for (k in obj) {\n                if (obj.hasOwnProperty(k)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n\n    function isUndefined(input) {\n        return input === void 0;\n    }\n\n    function isNumber(input) {\n        return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';\n    }\n\n    function isDate(input) {\n        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n    }\n\n    function map(arr, fn) {\n        var res = [], i;\n        for (i = 0; i < arr.length; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function createUTC (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty           : false,\n            unusedTokens    : [],\n            unusedInput     : [],\n            overflow        : -2,\n            charsLeftOver   : 0,\n            nullInput       : false,\n            invalidMonth    : null,\n            invalidFormat   : false,\n            userInvalidated : false,\n            iso             : false,\n            parsedDateParts : [],\n            meridiem        : null,\n            rfc2822         : false,\n            weekdayMismatch : false\n        };\n    }\n\n    function getParsingFlags(m) {\n        if (m._pf == null) {\n            m._pf = defaultParsingFlags();\n        }\n        return m._pf;\n    }\n\n    var some;\n    if (Array.prototype.some) {\n        some = Array.prototype.some;\n    } else {\n        some = function (fun) {\n            var t = Object(this);\n            var len = t.length >>> 0;\n\n            for (var i = 0; i < len; i++) {\n                if (i in t && fun.call(this, t[i], i, t)) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n    }\n\n    function isValid(m) {\n        if (m._isValid == null) {\n            var flags = getParsingFlags(m);\n            var parsedParts = some.call(flags.parsedDateParts, function (i) {\n                return i != null;\n            });\n            var isNowValid = !isNaN(m._d.getTime()) &&\n                flags.overflow < 0 &&\n                !flags.empty &&\n                !flags.invalidMonth &&\n                !flags.invalidWeekday &&\n                !flags.weekdayMismatch &&\n                !flags.nullInput &&\n                !flags.invalidFormat &&\n                !flags.userInvalidated &&\n                (!flags.meridiem || (flags.meridiem && parsedParts));\n\n            if (m._strict) {\n                isNowValid = isNowValid &&\n                    flags.charsLeftOver === 0 &&\n                    flags.unusedTokens.length === 0 &&\n                    flags.bigHour === undefined;\n            }\n\n            if (Object.isFrozen == null || !Object.isFrozen(m)) {\n                m._isValid = isNowValid;\n            }\n            else {\n                return isNowValid;\n            }\n        }\n        return m._isValid;\n    }\n\n    function createInvalid (flags) {\n        var m = createUTC(NaN);\n        if (flags != null) {\n            extend(getParsingFlags(m), flags);\n        }\n        else {\n            getParsingFlags(m).userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    var momentProperties = hooks.momentProperties = [];\n\n    function copyConfig(to, from) {\n        var i, prop, val;\n\n        if (!isUndefined(from._isAMomentObject)) {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (!isUndefined(from._i)) {\n            to._i = from._i;\n        }\n        if (!isUndefined(from._f)) {\n            to._f = from._f;\n        }\n        if (!isUndefined(from._l)) {\n            to._l = from._l;\n        }\n        if (!isUndefined(from._strict)) {\n            to._strict = from._strict;\n        }\n        if (!isUndefined(from._tzm)) {\n            to._tzm = from._tzm;\n        }\n        if (!isUndefined(from._isUTC)) {\n            to._isUTC = from._isUTC;\n        }\n        if (!isUndefined(from._offset)) {\n            to._offset = from._offset;\n        }\n        if (!isUndefined(from._pf)) {\n            to._pf = getParsingFlags(from);\n        }\n        if (!isUndefined(from._locale)) {\n            to._locale = from._locale;\n        }\n\n        if (momentProperties.length > 0) {\n            for (i = 0; i < momentProperties.length; i++) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (!isUndefined(val)) {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    var updateInProgress = false;\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n        if (!this.isValid()) {\n            this._d = new Date(NaN);\n        }\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment (obj) {\n        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n    }\n\n    function absFloor (number) {\n        if (number < 0) {\n            // -0 -> 0\n            return Math.ceil(number) || 0;\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if ((dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    function warn(msg) {\n        if (hooks.suppressDeprecationWarnings === false &&\n                (typeof console !==  'undefined') && console.warn) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n\n        return extend(function () {\n            if (hooks.deprecationHandler != null) {\n                hooks.deprecationHandler(null, msg);\n            }\n            if (firstTime) {\n                var args = [];\n                var arg;\n                for (var i = 0; i < arguments.length; i++) {\n                    arg = '';\n                    if (typeof arguments[i] === 'object') {\n                        arg += '\\n[' + i + '] ';\n                        for (var key in arguments[0]) {\n                            arg += key + ': ' + arguments[0][key] + ', ';\n                        }\n                        arg = arg.slice(0, -2); // Remove trailing comma and space\n                    } else {\n                        arg = arguments[i];\n                    }\n                    args.push(arg);\n                }\n                warn(msg + '\\nArguments: ' + Array.prototype.slice.call(args).join('') + '\\n' + (new Error()).stack);\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(name, msg);\n        }\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    hooks.suppressDeprecationWarnings = false;\n    hooks.deprecationHandler = null;\n\n    function isFunction(input) {\n        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n    }\n\n    function set (config) {\n        var prop, i;\n        for (i in config) {\n            prop = config[i];\n            if (isFunction(prop)) {\n                this[i] = prop;\n            } else {\n                this['_' + i] = prop;\n            }\n        }\n        this._config = config;\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        this._dayOfMonthOrdinalParseLenient = new RegExp(\n            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n                '|' + (/\\d{1,2}/).source);\n    }\n\n    function mergeConfigs(parentConfig, childConfig) {\n        var res = extend({}, parentConfig), prop;\n        for (prop in childConfig) {\n            if (hasOwnProp(childConfig, prop)) {\n                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                    res[prop] = {};\n                    extend(res[prop], parentConfig[prop]);\n                    extend(res[prop], childConfig[prop]);\n                } else if (childConfig[prop] != null) {\n                    res[prop] = childConfig[prop];\n                } else {\n                    delete res[prop];\n                }\n            }\n        }\n        for (prop in parentConfig) {\n            if (hasOwnProp(parentConfig, prop) &&\n                    !hasOwnProp(childConfig, prop) &&\n                    isObject(parentConfig[prop])) {\n                // make sure changes to properties don't modify parent config\n                res[prop] = extend({}, res[prop]);\n            }\n        }\n        return res;\n    }\n\n    function Locale(config) {\n        if (config != null) {\n            this.set(config);\n        }\n    }\n\n    var keys;\n\n    if (Object.keys) {\n        keys = Object.keys;\n    } else {\n        keys = function (obj) {\n            var i, res = [];\n            for (i in obj) {\n                if (hasOwnProp(obj, i)) {\n                    res.push(i);\n                }\n            }\n            return res;\n        };\n    }\n\n    var defaultCalendar = {\n        sameDay : '[Today at] LT',\n        nextDay : '[Tomorrow at] LT',\n        nextWeek : 'dddd [at] LT',\n        lastDay : '[Yesterday at] LT',\n        lastWeek : '[Last] dddd [at] LT',\n        sameElse : 'L'\n    };\n\n    function calendar (key, mom, now) {\n        var output = this._calendar[key] || this._calendar['sameElse'];\n        return isFunction(output) ? output.call(mom, now) : output;\n    }\n\n    var defaultLongDateFormat = {\n        LTS  : 'h:mm:ss A',\n        LT   : 'h:mm A',\n        L    : 'MM/DD/YYYY',\n        LL   : 'MMMM D, YYYY',\n        LLL  : 'MMMM D, YYYY h:mm A',\n        LLLL : 'dddd, MMMM D, YYYY h:mm A'\n    };\n\n    function longDateFormat (key) {\n        var format = this._longDateFormat[key],\n            formatUpper = this._longDateFormat[key.toUpperCase()];\n\n        if (format || !formatUpper) {\n            return format;\n        }\n\n        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n            return val.slice(1);\n        });\n\n        return this._longDateFormat[key];\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate () {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d';\n    var defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\n    function ordinal (number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    var defaultRelativeTime = {\n        future : 'in %s',\n        past   : '%s ago',\n        s  : 'a few seconds',\n        ss : '%d seconds',\n        m  : 'a minute',\n        mm : '%d minutes',\n        h  : 'an hour',\n        hh : '%d hours',\n        d  : 'a day',\n        dd : '%d days',\n        M  : 'a month',\n        MM : '%d months',\n        y  : 'a year',\n        yy : '%d years'\n    };\n\n    function relativeTime (number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return (isFunction(output)) ?\n            output(number, withoutSuffix, string, isFuture) :\n            output.replace(/%d/i, number);\n    }\n\n    function pastFuture (diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n    }\n\n    var aliases = {};\n\n    function addUnitAlias (unit, shorthand) {\n        var lowerCase = unit.toLowerCase();\n        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n    }\n\n    function normalizeUnits(units) {\n        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    var priorities = {};\n\n    function addUnitPriority(unit, priority) {\n        priorities[unit] = priority;\n    }\n\n    function getPrioritizedUnits(unitsObj) {\n        var units = [];\n        for (var u in unitsObj) {\n            units.push({unit: u, priority: priorities[u]});\n        }\n        units.sort(function (a, b) {\n            return a.priority - b.priority;\n        });\n        return units;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var absNumber = '' + Math.abs(number),\n            zerosToFill = targetLength - absNumber.length,\n            sign = number >= 0;\n        return (sign ? (forceSign ? '+' : '') : '-') +\n            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n    }\n\n    var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\n    var localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\n    var formatFunctions = {};\n\n    var formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken (token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function () {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(func.apply(this, arguments), token);\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens), i, length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '', i;\n            for (i = 0; i < length; i++) {\n                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var match1         = /\\d/;            //       0 - 9\n    var match2         = /\\d\\d/;          //      00 - 99\n    var match3         = /\\d{3}/;         //     000 - 999\n    var match4         = /\\d{4}/;         //    0000 - 9999\n    var match6         = /[+-]?\\d{6}/;    // -999999 - 999999\n    var match1to2      = /\\d\\d?/;         //       0 - 99\n    var match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\n    var match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\n    var match1to3      = /\\d{1,3}/;       //       0 - 999\n    var match1to4      = /\\d{1,4}/;       //       0 - 9999\n    var match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\n    var matchUnsigned  = /\\d+/;           //       0 - inf\n    var matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\n    var matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\n    var matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\n    var matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n    // any word (or two) characters or numbers including two/three word month in arabic.\n    // includes scottish gaelic two word and hyphenated months\n    var matchWord = /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i;\n\n    var regexes = {};\n\n    function addRegexToken (token, regex, strictRegex) {\n        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n            return (isStrict && strictRegex) ? strictRegex : regex;\n        };\n    }\n\n    function getParseRegexForToken (token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n            return p1 || p2 || p3 || p4;\n        }));\n    }\n\n    function regexEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    var tokens = {};\n\n    function addParseToken (token, callback) {\n        var i, func = callback;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (isNumber(callback)) {\n            func = function (input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        for (i = 0; i < token.length; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken (token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    var YEAR = 0;\n    var MONTH = 1;\n    var DATE = 2;\n    var HOUR = 3;\n    var MINUTE = 4;\n    var SECOND = 5;\n    var MILLISECOND = 6;\n    var WEEK = 7;\n    var WEEKDAY = 8;\n\n    // FORMATTING\n\n    addFormatToken('Y', 0, 0, function () {\n        var y = this.year();\n        return y <= 9999 ? '' + y : '+' + y;\n    });\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY',   4],       0, 'year');\n    addFormatToken(0, ['YYYYY',  5],       0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // ALIASES\n\n    addUnitAlias('year', 'y');\n\n    // PRIORITIES\n\n    addUnitPriority('year', 1);\n\n    // PARSING\n\n    addRegexToken('Y',      matchSigned);\n    addRegexToken('YY',     match1to2, match2);\n    addRegexToken('YYYY',   match1to4, match4);\n    addRegexToken('YYYYY',  match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YYYY', function (input, array) {\n        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n    });\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = hooks.parseTwoDigitYear(input);\n    });\n    addParseToken('Y', function (input, array) {\n        array[YEAR] = parseInt(input, 10);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    // HOOKS\n\n    hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', true);\n\n    function getIsLeapYear () {\n        return isLeapYear(this.year());\n    }\n\n    function makeGetSet (unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                set$1(this, unit, value);\n                hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get(this, unit);\n            }\n        };\n    }\n\n    function get (mom, unit) {\n        return mom.isValid() ?\n            mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n    }\n\n    function set$1 (mom, unit, value) {\n        if (mom.isValid() && !isNaN(value)) {\n            if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));\n            }\n            else {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function stringGet (units) {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units]();\n        }\n        return this;\n    }\n\n\n    function stringSet (units, value) {\n        if (typeof units === 'object') {\n            units = normalizeObjectUnits(units);\n            var prioritized = getPrioritizedUnits(units);\n            for (var i = 0; i < prioritized.length; i++) {\n                this[prioritized[i].unit](units[prioritized[i].unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (isFunction(this[units])) {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    function mod(n, x) {\n        return ((n % x) + x) % x;\n    }\n\n    var indexOf;\n\n    if (Array.prototype.indexOf) {\n        indexOf = Array.prototype.indexOf;\n    } else {\n        indexOf = function (o) {\n            // I know\n            var i;\n            for (i = 0; i < this.length; ++i) {\n                if (this[i] === o) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    function daysInMonth(year, month) {\n        if (isNaN(year) || isNaN(month)) {\n            return NaN;\n        }\n        var modMonth = mod(month, 12);\n        year += (month - modMonth) / 12;\n        return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // ALIASES\n\n    addUnitAlias('month', 'M');\n\n    // PRIORITY\n\n    addUnitPriority('month', 8);\n\n    // PARSING\n\n    addRegexToken('M',    match1to2);\n    addRegexToken('MM',   match1to2, match2);\n    addRegexToken('MMM',  function (isStrict, locale) {\n        return locale.monthsShortRegex(isStrict);\n    });\n    addRegexToken('MMMM', function (isStrict, locale) {\n        return locale.monthsRegex(isStrict);\n    });\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            getParsingFlags(config).invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\n    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\n    function localeMonths (m, format) {\n        if (!m) {\n            return isArray(this._months) ? this._months :\n                this._months['standalone'];\n        }\n        return isArray(this._months) ? this._months[m.month()] :\n            this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\n    function localeMonthsShort (m, format) {\n        if (!m) {\n            return isArray(this._monthsShort) ? this._monthsShort :\n                this._monthsShort['standalone'];\n        }\n        return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n            this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    function handleStrictParse(monthName, format, strict) {\n        var i, ii, mom, llc = monthName.toLocaleLowerCase();\n        if (!this._monthsParse) {\n            // this is not used\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n            for (i = 0; i < 12; ++i) {\n                mom = createUTC([2000, i]);\n                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeMonthsParse (monthName, format, strict) {\n        var i, mom, regex;\n\n        if (this._monthsParseExact) {\n            return handleStrictParse.call(this, monthName, format, strict);\n        }\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        // TODO: add sorting\n        // Sorting makes sure if one month (or abbr) is a prefix of another\n        // see sorting in computeMonthsParse\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth (mom, value) {\n        var dayOfMonth;\n\n        if (!mom.isValid()) {\n            // No op\n            return mom;\n        }\n\n        if (typeof value === 'string') {\n            if (/^\\d+$/.test(value)) {\n                value = toInt(value);\n            } else {\n                value = mom.localeData().monthsParse(value);\n                // TODO: Another silent failure?\n                if (!isNumber(value)) {\n                    return mom;\n                }\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function getSetMonth (value) {\n        if (value != null) {\n            setMonth(this, value);\n            hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth () {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    var defaultMonthsShortRegex = matchWord;\n    function monthsShortRegex (isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsShortStrictRegex;\n            } else {\n                return this._monthsShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsShortRegex')) {\n                this._monthsShortRegex = defaultMonthsShortRegex;\n            }\n            return this._monthsShortStrictRegex && isStrict ?\n                this._monthsShortStrictRegex : this._monthsShortRegex;\n        }\n    }\n\n    var defaultMonthsRegex = matchWord;\n    function monthsRegex (isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsStrictRegex;\n            } else {\n                return this._monthsRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                this._monthsRegex = defaultMonthsRegex;\n            }\n            return this._monthsStrictRegex && isStrict ?\n                this._monthsStrictRegex : this._monthsRegex;\n        }\n    }\n\n    function computeMonthsParse () {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var shortPieces = [], longPieces = [], mixedPieces = [],\n            i, mom;\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            shortPieces.push(this.monthsShort(mom, ''));\n            longPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.monthsShort(mom, ''));\n        }\n        // Sorting makes sure if one month (or abbr) is a prefix of another it\n        // will match the longer piece.\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 12; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n        }\n        for (i = 0; i < 24; i++) {\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._monthsShortRegex = this._monthsRegex;\n        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    }\n\n    function createDate (y, m, d, h, M, s, ms) {\n        // can't just apply() to create a date:\n        // https://stackoverflow.com/q/181348\n        var date = new Date(y, m, d, h, M, s, ms);\n\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {\n            date.setFullYear(y);\n        }\n        return date;\n    }\n\n    function createUTCDate (y) {\n        var date = new Date(Date.UTC.apply(null, arguments));\n\n        // the Date.UTC function remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {\n            date.setUTCFullYear(y);\n        }\n        return date;\n    }\n\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n            fwd = 7 + dow - doy,\n            // first-week day local weekday -- which local weekday is fwd\n            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n        return -fwdlw + fwd - 1;\n    }\n\n    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n        var localWeekday = (7 + weekday - dow) % 7,\n            weekOffset = firstWeekOffset(year, dow, doy),\n            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n            resYear, resDayOfYear;\n\n        if (dayOfYear <= 0) {\n            resYear = year - 1;\n            resDayOfYear = daysInYear(resYear) + dayOfYear;\n        } else if (dayOfYear > daysInYear(year)) {\n            resYear = year + 1;\n            resDayOfYear = dayOfYear - daysInYear(year);\n        } else {\n            resYear = year;\n            resDayOfYear = dayOfYear;\n        }\n\n        return {\n            year: resYear,\n            dayOfYear: resDayOfYear\n        };\n    }\n\n    function weekOfYear(mom, dow, doy) {\n        var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n            resWeek, resYear;\n\n        if (week < 1) {\n            resYear = mom.year() - 1;\n            resWeek = week + weeksInYear(resYear, dow, doy);\n        } else if (week > weeksInYear(mom.year(), dow, doy)) {\n            resWeek = week - weeksInYear(mom.year(), dow, doy);\n            resYear = mom.year() + 1;\n        } else {\n            resYear = mom.year();\n            resWeek = week;\n        }\n\n        return {\n            week: resWeek,\n            year: resYear\n        };\n    }\n\n    function weeksInYear(year, dow, doy) {\n        var weekOffset = firstWeekOffset(year, dow, doy),\n            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n    }\n\n    // FORMATTING\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // ALIASES\n\n    addUnitAlias('week', 'w');\n    addUnitAlias('isoWeek', 'W');\n\n    // PRIORITIES\n\n    addUnitPriority('week', 5);\n    addUnitPriority('isoWeek', 5);\n\n    // PARSING\n\n    addRegexToken('w',  match1to2);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W',  match1to2);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n        week[token.substr(0, 1)] = toInt(input);\n    });\n\n    // HELPERS\n\n    // LOCALES\n\n    function localeWeek (mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow : 0, // Sunday is the first day of the week.\n        doy : 6  // The week that contains Jan 1st is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek () {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear () {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek (input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek (input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // ALIASES\n\n    addUnitAlias('day', 'd');\n    addUnitAlias('weekday', 'e');\n    addUnitAlias('isoWeekday', 'E');\n\n    // PRIORITY\n    addUnitPriority('day', 11);\n    addUnitPriority('weekday', 11);\n    addUnitPriority('isoWeekday', 11);\n\n    // PARSING\n\n    addRegexToken('d',    match1to2);\n    addRegexToken('e',    match1to2);\n    addRegexToken('E',    match1to2);\n    addRegexToken('dd',   function (isStrict, locale) {\n        return locale.weekdaysMinRegex(isStrict);\n    });\n    addRegexToken('ddd',   function (isStrict, locale) {\n        return locale.weekdaysShortRegex(isStrict);\n    });\n    addRegexToken('dddd',   function (isStrict, locale) {\n        return locale.weekdaysRegex(isStrict);\n    });\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n        var weekday = config._locale.weekdaysParse(input, token, config._strict);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            getParsingFlags(config).invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input !== 'string') {\n            return input;\n        }\n\n        if (!isNaN(input)) {\n            return parseInt(input, 10);\n        }\n\n        input = locale.weekdaysParse(input);\n        if (typeof input === 'number') {\n            return input;\n        }\n\n        return null;\n    }\n\n    function parseIsoWeekday(input, locale) {\n        if (typeof input === 'string') {\n            return locale.weekdaysParse(input) % 7 || 7;\n        }\n        return isNaN(input) ? null : input;\n    }\n\n    // LOCALES\n\n    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\n    function localeWeekdays (m, format) {\n        if (!m) {\n            return isArray(this._weekdays) ? this._weekdays :\n                this._weekdays['standalone'];\n        }\n        return isArray(this._weekdays) ? this._weekdays[m.day()] :\n            this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];\n    }\n\n    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\n    function localeWeekdaysShort (m) {\n        return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;\n    }\n\n    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\n    function localeWeekdaysMin (m) {\n        return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;\n    }\n\n    function handleStrictParse$1(weekdayName, format, strict) {\n        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._minWeekdaysParse = [];\n\n            for (i = 0; i < 7; ++i) {\n                mom = createUTC([2000, 1]).day(i);\n                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeWeekdaysParse (weekdayName, format, strict) {\n        var i, mom, regex;\n\n        if (this._weekdaysParseExact) {\n            return handleStrictParse$1.call(this, weekdayName, format, strict);\n        }\n\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._minWeekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._fullWeekdaysParse = [];\n        }\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n\n            mom = createUTC([2000, 1]).day(i);\n            if (strict && !this._fullWeekdaysParse[i]) {\n                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\\\.?') + '$', 'i');\n                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\\\.?') + '$', 'i');\n                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\\\.?') + '$', 'i');\n            }\n            if (!this._weekdaysParse[i]) {\n                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n\n        if (input != null) {\n            var weekday = parseIsoWeekday(input, this.localeData());\n            return this.day(this.day() % 7 ? weekday : weekday - 7);\n        } else {\n            return this.day() || 7;\n        }\n    }\n\n    var defaultWeekdaysRegex = matchWord;\n    function weekdaysRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysStrictRegex;\n            } else {\n                return this._weekdaysRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                this._weekdaysRegex = defaultWeekdaysRegex;\n            }\n            return this._weekdaysStrictRegex && isStrict ?\n                this._weekdaysStrictRegex : this._weekdaysRegex;\n        }\n    }\n\n    var defaultWeekdaysShortRegex = matchWord;\n    function weekdaysShortRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysShortStrictRegex;\n            } else {\n                return this._weekdaysShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n                this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n            }\n            return this._weekdaysShortStrictRegex && isStrict ?\n                this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n        }\n    }\n\n    var defaultWeekdaysMinRegex = matchWord;\n    function weekdaysMinRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysMinStrictRegex;\n            } else {\n                return this._weekdaysMinRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n                this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n            }\n            return this._weekdaysMinStrictRegex && isStrict ?\n                this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n        }\n    }\n\n\n    function computeWeekdaysParse () {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],\n            i, mom, minp, shortp, longp;\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, 1]).day(i);\n            minp = this.weekdaysMin(mom, '');\n            shortp = this.weekdaysShort(mom, '');\n            longp = this.weekdays(mom, '');\n            minPieces.push(minp);\n            shortPieces.push(shortp);\n            longPieces.push(longp);\n            mixedPieces.push(minp);\n            mixedPieces.push(shortp);\n            mixedPieces.push(longp);\n        }\n        // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n        // will match the longer piece.\n        minPieces.sort(cmpLenRev);\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 7; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._weekdaysShortRegex = this._weekdaysRegex;\n        this._weekdaysMinRegex = this._weekdaysRegex;\n\n        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n    }\n\n    // FORMATTING\n\n    function hFormat() {\n        return this.hours() % 12 || 12;\n    }\n\n    function kFormat() {\n        return this.hours() || 24;\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, hFormat);\n    addFormatToken('k', ['kk', 2], 0, kFormat);\n\n    addFormatToken('hmm', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('hmmss', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2);\n    });\n\n    addFormatToken('Hmm', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('Hmmss', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2);\n    });\n\n    function meridiem (token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // ALIASES\n\n    addUnitAlias('hour', 'h');\n\n    // PRIORITY\n    addUnitPriority('hour', 13);\n\n    // PARSING\n\n    function matchMeridiem (isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a',  matchMeridiem);\n    addRegexToken('A',  matchMeridiem);\n    addRegexToken('H',  match1to2);\n    addRegexToken('h',  match1to2);\n    addRegexToken('k',  match1to2);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n    addRegexToken('kk', match1to2, match2);\n\n    addRegexToken('hmm', match3to4);\n    addRegexToken('hmmss', match5to6);\n    addRegexToken('Hmm', match3to4);\n    addRegexToken('Hmmss', match5to6);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['k', 'kk'], function (input, array, config) {\n        var kInput = toInt(input);\n        array[HOUR] = kInput === 24 ? 0 : kInput;\n    });\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('Hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n    });\n    addParseToken('Hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n    });\n\n    // LOCALES\n\n    function localeIsPM (input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return ((input + '').toLowerCase().charAt(0) === 'p');\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\n    function localeMeridiem (hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n\n    // MOMENTS\n\n    // Setting the hour should keep the time, because the user explicitly\n    // specified which hour they want. So trying to maintain the same hour (in\n    // a new timezone) makes sense. Adding/subtracting hours does not follow\n    // this rule.\n    var getSetHour = makeGetSet('Hours', true);\n\n    var baseConfig = {\n        calendar: defaultCalendar,\n        longDateFormat: defaultLongDateFormat,\n        invalidDate: defaultInvalidDate,\n        ordinal: defaultOrdinal,\n        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n        relativeTime: defaultRelativeTime,\n\n        months: defaultLocaleMonths,\n        monthsShort: defaultLocaleMonthsShort,\n\n        week: defaultLocaleWeek,\n\n        weekdays: defaultLocaleWeekdays,\n        weekdaysMin: defaultLocaleWeekdaysMin,\n        weekdaysShort: defaultLocaleWeekdaysShort,\n\n        meridiemParse: defaultLocaleMeridiemParse\n    };\n\n    // internal storage for locale config files\n    var locales = {};\n    var localeFamilies = {};\n    var globalLocale;\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0, j, next, locale, split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return globalLocale;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (!locales[name] && (typeof module !== 'undefined') &&\n                module && module.exports) {\n            try {\n                oldLocale = globalLocale._abbr;\n                var aliasedRequire = require;\n                aliasedRequire('./locale/' + name);\n                getSetGlobalLocale(oldLocale);\n            } catch (e) {}\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function getSetGlobalLocale (key, values) {\n        var data;\n        if (key) {\n            if (isUndefined(values)) {\n                data = getLocale(key);\n            }\n            else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            }\n            else {\n                if ((typeof console !==  'undefined') && console.warn) {\n                    //warn user if arguments are passed but the locale could not be set\n                    console.warn('Locale ' + key +  ' not found. Did you forget to load it?');\n                }\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale (name, config) {\n        if (config !== null) {\n            var locale, parentConfig = baseConfig;\n            config.abbr = name;\n            if (locales[name] != null) {\n                deprecateSimple('defineLocaleOverride',\n                        'use moment.updateLocale(localeName, config) to change ' +\n                        'an existing locale. moment.defineLocale(localeName, ' +\n                        'config) should only be used for creating a new locale ' +\n                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n                parentConfig = locales[name]._config;\n            } else if (config.parentLocale != null) {\n                if (locales[config.parentLocale] != null) {\n                    parentConfig = locales[config.parentLocale]._config;\n                } else {\n                    locale = loadLocale(config.parentLocale);\n                    if (locale != null) {\n                        parentConfig = locale._config;\n                    } else {\n                        if (!localeFamilies[config.parentLocale]) {\n                            localeFamilies[config.parentLocale] = [];\n                        }\n                        localeFamilies[config.parentLocale].push({\n                            name: name,\n                            config: config\n                        });\n                        return null;\n                    }\n                }\n            }\n            locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n            if (localeFamilies[name]) {\n                localeFamilies[name].forEach(function (x) {\n                    defineLocale(x.name, x.config);\n                });\n            }\n\n            // backwards compat for now: also set the locale\n            // make sure we set the locale AFTER all child locales have been\n            // created, so we won't end up with the child locale set.\n            getSetGlobalLocale(name);\n\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    function updateLocale(name, config) {\n        if (config != null) {\n            var locale, tmpLocale, parentConfig = baseConfig;\n            // MERGE\n            tmpLocale = loadLocale(name);\n            if (tmpLocale != null) {\n                parentConfig = tmpLocale._config;\n            }\n            config = mergeConfigs(parentConfig, config);\n            locale = new Locale(config);\n            locale.parentLocale = locales[name];\n            locales[name] = locale;\n\n            // backwards compat for now: also set the locale\n            getSetGlobalLocale(name);\n        } else {\n            // pass null for config to unupdate, useful for tests\n            if (locales[name] != null) {\n                if (locales[name].parentLocale != null) {\n                    locales[name] = locales[name].parentLocale;\n                } else if (locales[name] != null) {\n                    delete locales[name];\n                }\n            }\n        }\n        return locales[name];\n    }\n\n    // returns locale data\n    function getLocale (key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    function listLocales() {\n        return keys(locales);\n    }\n\n    function checkOverflow (m) {\n        var overflow;\n        var a = m._a;\n\n        if (a && getParsingFlags(m).overflow === -2) {\n            overflow =\n                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n                -1;\n\n            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n                overflow = DATE;\n            }\n            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n                overflow = WEEK;\n            }\n            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n                overflow = WEEKDAY;\n            }\n\n            getParsingFlags(m).overflow = overflow;\n        }\n\n        return m;\n    }\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        // hooks is actually the exported moment object\n        var nowValue = new Date(hooks.now());\n        if (config._useUTC) {\n            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n        }\n        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray (config) {\n        var i, date, input = [], currentDate, expectedWeekday, yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear != null) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {\n                getParsingFlags(config)._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (config._a[HOUR] === 24 &&\n                config._a[MINUTE] === 0 &&\n                config._a[SECOND] === 0 &&\n                config._a[MILLISECOND] === 0) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();\n\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n\n        // check for mismatching day of week\n        if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {\n            getParsingFlags(config).weekdayMismatch = true;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n            if (weekday < 1 || weekday > 7) {\n                weekdayOverflow = true;\n            }\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            var curWeek = weekOfYear(createLocal(), dow, doy);\n\n            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n            // Default to current week.\n            week = defaults(w.w, curWeek.week);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < 0 || weekday > 6) {\n                    weekdayOverflow = true;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from begining of week\n                weekday = w.e + dow;\n                if (w.e < 0 || w.e > 6) {\n                    weekdayOverflow = true;\n                }\n            } else {\n                // default to begining of week\n                weekday = dow;\n            }\n        }\n        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n            getParsingFlags(config)._overflowWeeks = true;\n        } else if (weekdayOverflow != null) {\n            getParsingFlags(config)._overflowWeekday = true;\n        } else {\n            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n    }\n\n    // iso 8601 regex\n    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n    var extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n    var basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\n    var tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\n    var isoDates = [\n        ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n        ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n        ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n        ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n        ['YYYY-DDD', /\\d{4}-\\d{3}/],\n        ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n        ['YYYYYYMMDD', /[+-]\\d{10}/],\n        ['YYYYMMDD', /\\d{8}/],\n        // YYYYMM is NOT allowed by the standard\n        ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n        ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n        ['YYYYDDD', /\\d{7}/]\n    ];\n\n    // iso time formats and regexes\n    var isoTimes = [\n        ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n        ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n        ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n        ['HH:mm', /\\d\\d:\\d\\d/],\n        ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n        ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n        ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n        ['HHmm', /\\d\\d\\d\\d/],\n        ['HH', /\\d\\d/]\n    ];\n\n    var aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n    // date from iso format\n    function configFromISO(config) {\n        var i, l,\n            string = config._i,\n            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n            allowTime, dateFormat, timeFormat, tzFormat;\n\n        if (match) {\n            getParsingFlags(config).iso = true;\n\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(match[1])) {\n                    dateFormat = isoDates[i][0];\n                    allowTime = isoDates[i][2] !== false;\n                    break;\n                }\n            }\n            if (dateFormat == null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[3]) {\n                for (i = 0, l = isoTimes.length; i < l; i++) {\n                    if (isoTimes[i][1].exec(match[3])) {\n                        // match[2] should be 'T' or space\n                        timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                        break;\n                    }\n                }\n                if (timeFormat == null) {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            if (!allowTime && timeFormat != null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[4]) {\n                if (tzRegex.exec(match[4])) {\n                    tzFormat = 'Z';\n                } else {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\n    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/;\n\n    function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {\n        var result = [\n            untruncateYear(yearStr),\n            defaultLocaleMonthsShort.indexOf(monthStr),\n            parseInt(dayStr, 10),\n            parseInt(hourStr, 10),\n            parseInt(minuteStr, 10)\n        ];\n\n        if (secondStr) {\n            result.push(parseInt(secondStr, 10));\n        }\n\n        return result;\n    }\n\n    function untruncateYear(yearStr) {\n        var year = parseInt(yearStr, 10);\n        if (year <= 49) {\n            return 2000 + year;\n        } else if (year <= 999) {\n            return 1900 + year;\n        }\n        return year;\n    }\n\n    function preprocessRFC2822(s) {\n        // Remove comments and folding whitespace and replace multiple-spaces with a single space\n        return s.replace(/\\([^)]*\\)|[\\n\\t]/g, ' ').replace(/(\\s\\s+)/g, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n    }\n\n    function checkWeekday(weekdayStr, parsedInput, config) {\n        if (weekdayStr) {\n            // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.\n            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n                weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();\n            if (weekdayProvided !== weekdayActual) {\n                getParsingFlags(config).weekdayMismatch = true;\n                config._isValid = false;\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var obsOffsets = {\n        UT: 0,\n        GMT: 0,\n        EDT: -4 * 60,\n        EST: -5 * 60,\n        CDT: -5 * 60,\n        CST: -6 * 60,\n        MDT: -6 * 60,\n        MST: -7 * 60,\n        PDT: -7 * 60,\n        PST: -8 * 60\n    };\n\n    function calculateOffset(obsOffset, militaryOffset, numOffset) {\n        if (obsOffset) {\n            return obsOffsets[obsOffset];\n        } else if (militaryOffset) {\n            // the only allowed military tz is Z\n            return 0;\n        } else {\n            var hm = parseInt(numOffset, 10);\n            var m = hm % 100, h = (hm - m) / 100;\n            return h * 60 + m;\n        }\n    }\n\n    // date and time from ref 2822 format\n    function configFromRFC2822(config) {\n        var match = rfc2822.exec(preprocessRFC2822(config._i));\n        if (match) {\n            var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);\n            if (!checkWeekday(match[1], parsedArray, config)) {\n                return;\n            }\n\n            config._a = parsedArray;\n            config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n            config._d = createUTCDate.apply(null, config._a);\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n            getParsingFlags(config).rfc2822 = true;\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from iso format or fallback\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        configFromRFC2822(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        // Final attempt, use Input Fallback\n        hooks.createFromInputFallback(config);\n    }\n\n    hooks.createFromInputFallback = deprecate(\n        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n        'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n        'discouraged and will be removed in an upcoming major release. Please refer to ' +\n        'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n        function (config) {\n            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n        }\n    );\n\n    // constant that refers to the ISO standard\n    hooks.ISO_8601 = function () {};\n\n    // constant that refers to the RFC 2822 form\n    hooks.RFC_2822 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n        if (config._f === hooks.RFC_2822) {\n            configFromRFC2822(config);\n            return;\n        }\n        config._a = [];\n        getParsingFlags(config).empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i, parsedInput, tokens, token, skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0;\n\n        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n            // console.log('token', token, 'parsedInput', parsedInput,\n            //         'regex', getParseRegexForToken(token, config));\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    getParsingFlags(config).unusedInput.push(skipped);\n                }\n                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    getParsingFlags(config).empty = false;\n                }\n                else {\n                    getParsingFlags(config).unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            }\n            else if (config._strict && !parsedInput) {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            getParsingFlags(config).unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (config._a[HOUR] <= 12 &&\n            getParsingFlags(config).bigHour === true &&\n            config._a[HOUR] > 0) {\n            getParsingFlags(config).bigHour = undefined;\n        }\n\n        getParsingFlags(config).parsedDateParts = config._a.slice(0);\n        getParsingFlags(config).meridiem = config._meridiem;\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n\n    function meridiemFixWrap (locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    // date from string and array of format strings\n    function configFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n\n            scoreToBeat,\n            i,\n            currentScore;\n\n        if (config._f.length === 0) {\n            getParsingFlags(config).invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (!isValid(tempConfig)) {\n                continue;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n            //or tokens\n            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n            getParsingFlags(tempConfig).score = currentScore;\n\n            if (scoreToBeat == null || currentScore < scoreToBeat) {\n                scoreToBeat = currentScore;\n                bestMoment = tempConfig;\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i);\n        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n            return obj && parseInt(obj, 10);\n        });\n\n        configFromArray(config);\n    }\n\n    function createFromConfig (config) {\n        var res = new Moment(checkOverflow(prepareConfig(config)));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function prepareConfig (config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || getLocale(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return createInvalid({nullInput: true});\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isDate(input)) {\n            config._d = input;\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (format) {\n            configFromStringAndFormat(config);\n        }  else {\n            configFromInput(config);\n        }\n\n        if (!isValid(config)) {\n            config._d = null;\n        }\n\n        return config;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (isUndefined(input)) {\n            config._d = new Date(hooks.now());\n        } else if (isDate(input)) {\n            config._d = new Date(input.valueOf());\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (isObject(input)) {\n            configFromObject(config);\n        } else if (isNumber(input)) {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC (input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (locale === true || locale === false) {\n            strict = locale;\n            locale = undefined;\n        }\n\n        if ((isObject(input) && isObjectEmpty(input)) ||\n                (isArray(input) && input.length === 0)) {\n            input = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n\n        return createFromConfig(c);\n    }\n\n    function createLocal (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate(\n        'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n        function () {\n            var other = createLocal.apply(null, arguments);\n            if (this.isValid() && other.isValid()) {\n                return other < this ? this : other;\n            } else {\n                return createInvalid();\n            }\n        }\n    );\n\n    var prototypeMax = deprecate(\n        'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n        function () {\n            var other = createLocal.apply(null, arguments);\n            if (this.isValid() && other.isValid()) {\n                return other > this ? this : other;\n            } else {\n                return createInvalid();\n            }\n        }\n    );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (!moments[i].isValid() || moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    var now = function () {\n        return Date.now ? Date.now() : +(new Date());\n    };\n\n    var ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];\n\n    function isDurationValid(m) {\n        for (var key in m) {\n            if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {\n                return false;\n            }\n        }\n\n        var unitHasDecimal = false;\n        for (var i = 0; i < ordering.length; ++i) {\n            if (m[ordering[i]]) {\n                if (unitHasDecimal) {\n                    return false; // only allow non-integers for smallest unit\n                }\n                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                    unitHasDecimal = true;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isValid$1() {\n        return this._isValid;\n    }\n\n    function createInvalid$1() {\n        return createDuration(NaN);\n    }\n\n    function Duration (duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        this._isValid = isDurationValid(normalizedInput);\n\n        // representation for dateAddRemove\n        this._milliseconds = +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days +\n            weeks * 7;\n        // It is impossible to translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months +\n            quarters * 3 +\n            years * 12;\n\n        this._data = {};\n\n        this._locale = getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration (obj) {\n        return obj instanceof Duration;\n    }\n\n    function absRound (number) {\n        if (number < 0) {\n            return Math.round(-1 * number) * -1;\n        } else {\n            return Math.round(number);\n        }\n    }\n\n    // FORMATTING\n\n    function offset (token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset();\n            var sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z',  matchShortOffset);\n    addRegexToken('ZZ', matchShortOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(matchShortOffset, input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(matcher, string) {\n        var matches = (string || '').match(matcher);\n\n        if (matches === null) {\n            return null;\n        }\n\n        var chunk   = matches[matches.length - 1] || [];\n        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return minutes === 0 ?\n          0 :\n          parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(res._d.valueOf() + diff);\n            hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return createLocal(input).local();\n        }\n    }\n\n    function getDateOffset (m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset (input, keepLocalTime, keepMinutes) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(matchShortOffset, input);\n                if (input === null) {\n                    return this;\n                }\n            } else if (Math.abs(input) < 16 && !keepMinutes) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    addSubtract(this, createDuration(input - offset, 'm'), 1, false);\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone (input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC (keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal (keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset () {\n        if (this._tzm != null) {\n            this.utcOffset(this._tzm, false, true);\n        } else if (typeof this._i === 'string') {\n            var tZone = offsetFromString(matchOffset, this._i);\n            if (tZone != null) {\n                this.utcOffset(tZone);\n            }\n            else {\n                this.utcOffset(0, true);\n            }\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset (input) {\n        if (!this.isValid()) {\n            return false;\n        }\n        input = input ? createLocal(input).utcOffset() : 0;\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime () {\n        return (\n            this.utcOffset() > this.clone().month(0).utcOffset() ||\n            this.utcOffset() > this.clone().month(5).utcOffset()\n        );\n    }\n\n    function isDaylightSavingTimeShifted () {\n        if (!isUndefined(this._isDSTShifted)) {\n            return this._isDSTShifted;\n        }\n\n        var c = {};\n\n        copyConfig(c, this);\n        c = prepareConfig(c);\n\n        if (c._a) {\n            var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n            this._isDSTShifted = this.isValid() &&\n                compareArrays(c._a, other.toArray()) > 0;\n        } else {\n            this._isDSTShifted = false;\n        }\n\n        return this._isDSTShifted;\n    }\n\n    function isLocal () {\n        return this.isValid() ? !this._isUTC : false;\n    }\n\n    function isUtcOffset () {\n        return this.isValid() ? this._isUTC : false;\n    }\n\n    function isUtc () {\n        return this.isValid() ? this._isUTC && this._offset === 0 : false;\n    }\n\n    // ASP.NET json date format regex\n    var aspNetRegex = /^(\\-|\\+)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n    // and further modified to allow for strings containing both week and day\n    var isoRegex = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\n    function createDuration (input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms : input._milliseconds,\n                d  : input._days,\n                M  : input._months\n            };\n        } else if (isNumber(input)) {\n            duration = {};\n            if (key) {\n                duration[key] = input;\n            } else {\n                duration.milliseconds = input;\n            }\n        } else if (!!(match = aspNetRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y  : 0,\n                d  : toInt(match[DATE])                         * sign,\n                h  : toInt(match[HOUR])                         * sign,\n                m  : toInt(match[MINUTE])                       * sign,\n                s  : toInt(match[SECOND])                       * sign,\n                ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n            };\n        } else if (!!(match = isoRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : (match[1] === '+') ? 1 : 1;\n            duration = {\n                y : parseIso(match[2], sign),\n                M : parseIso(match[3], sign),\n                w : parseIso(match[4], sign),\n                d : parseIso(match[5], sign),\n                h : parseIso(match[6], sign),\n                m : parseIso(match[7], sign),\n                s : parseIso(match[8], sign)\n            };\n        } else if (duration == null) {// checks for null or undefined\n            duration = {};\n        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        return ret;\n    }\n\n    createDuration.fn = Duration.prototype;\n    createDuration.invalid = createInvalid$1;\n\n    function parseIso (inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {milliseconds: 0, months: 0};\n\n        res.months = other.month() - base.month() +\n            (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        if (!(base.isValid() && other.isValid())) {\n            return {milliseconds: 0, months: 0};\n        }\n\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    // TODO: remove 'name' arg after deprecation is removed\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +\n                'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n                tmp = val; val = period; period = tmp;\n            }\n\n            val = typeof val === 'string' ? +val : val;\n            dur = createDuration(val, period);\n            addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function addSubtract (mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = absRound(duration._days),\n            months = absRound(duration._months);\n\n        if (!mom.isValid()) {\n            // No op\n            return;\n        }\n\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (months) {\n            setMonth(mom, get(mom, 'Month') + months * isAdding);\n        }\n        if (days) {\n            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n        }\n        if (milliseconds) {\n            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n        }\n        if (updateOffset) {\n            hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add      = createAdder(1, 'add');\n    var subtract = createAdder(-1, 'subtract');\n\n    function getCalendarFormat(myMoment, now) {\n        var diff = myMoment.diff(now, 'days', true);\n        return diff < -6 ? 'sameElse' :\n                diff < -1 ? 'lastWeek' :\n                diff < 0 ? 'lastDay' :\n                diff < 1 ? 'sameDay' :\n                diff < 2 ? 'nextDay' :\n                diff < 7 ? 'nextWeek' : 'sameElse';\n    }\n\n    function calendar$1 (time, formats) {\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            format = hooks.calendarFormat(this, sod) || 'sameElse';\n\n        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n        return this.format(output || this.localeData().calendar(format, this, createLocal(now)));\n    }\n\n    function clone () {\n        return new Moment(this);\n    }\n\n    function isAfter (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n        if (units === 'millisecond') {\n            return this.valueOf() > localInput.valueOf();\n        } else {\n            return localInput.valueOf() < this.clone().startOf(units).valueOf();\n        }\n    }\n\n    function isBefore (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n        if (units === 'millisecond') {\n            return this.valueOf() < localInput.valueOf();\n        } else {\n            return this.clone().endOf(units).valueOf() < localInput.valueOf();\n        }\n    }\n\n    function isBetween (from, to, units, inclusivity) {\n        inclusivity = inclusivity || '()';\n        return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) &&\n            (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));\n    }\n\n    function isSame (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input),\n            inputMs;\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units || 'millisecond');\n        if (units === 'millisecond') {\n            return this.valueOf() === localInput.valueOf();\n        } else {\n            inputMs = localInput.valueOf();\n            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n        }\n    }\n\n    function isSameOrAfter (input, units) {\n        return this.isSame(input, units) || this.isAfter(input,units);\n    }\n\n    function isSameOrBefore (input, units) {\n        return this.isSame(input, units) || this.isBefore(input,units);\n    }\n\n    function diff (input, units, asFloat) {\n        var that,\n            zoneDelta,\n            output;\n\n        if (!this.isValid()) {\n            return NaN;\n        }\n\n        that = cloneWithOffset(input, this);\n\n        if (!that.isValid()) {\n            return NaN;\n        }\n\n        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n        units = normalizeUnits(units);\n\n        switch (units) {\n            case 'year': output = monthDiff(this, that) / 12; break;\n            case 'month': output = monthDiff(this, that); break;\n            case 'quarter': output = monthDiff(this, that) / 3; break;\n            case 'second': output = (this - that) / 1e3; break; // 1000\n            case 'minute': output = (this - that) / 6e4; break; // 1000 * 60\n            case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60\n            case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst\n            case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst\n            default: output = this - that;\n        }\n\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff (a, b) {\n        // difference in months\n        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n            // b is in (anchor - 1 month, anchor + 1 month)\n            anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2, adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        //check for negative zero, return zero if negative zero\n        return -(wholeMonthDiff + adjust) || 0;\n    }\n\n    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\n    function toString () {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function toISOString(keepOffset) {\n        if (!this.isValid()) {\n            return null;\n        }\n        var utc = keepOffset !== true;\n        var m = utc ? this.clone().utc() : this;\n        if (m.year() < 0 || m.year() > 9999) {\n            return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');\n        }\n        if (isFunction(Date.prototype.toISOString)) {\n            // native implementation is ~50x faster, use it when we can\n            if (utc) {\n                return this.toDate().toISOString();\n            } else {\n                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000).toISOString().replace('Z', formatMoment(m, 'Z'));\n            }\n        }\n        return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');\n    }\n\n    /**\n     * Return a human readable representation of a moment that can\n     * also be evaluated to get a new moment which is the same\n     *\n     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n     */\n    function inspect () {\n        if (!this.isValid()) {\n            return 'moment.invalid(/* ' + this._i + ' */)';\n        }\n        var func = 'moment';\n        var zone = '';\n        if (!this.isLocal()) {\n            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n            zone = 'Z';\n        }\n        var prefix = '[' + func + '(\"]';\n        var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';\n        var datetime = '-MM-DD[T]HH:mm:ss.SSS';\n        var suffix = zone + '[\")]';\n\n        return this.format(prefix + year + datetime + suffix);\n    }\n\n    function format (inputString) {\n        if (!inputString) {\n            inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;\n        }\n        var output = formatMoment(this, inputString);\n        return this.localeData().postformat(output);\n    }\n\n    function from (time, withoutSuffix) {\n        if (this.isValid() &&\n                ((isMoment(time) && time.isValid()) ||\n                 createLocal(time).isValid())) {\n            return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function fromNow (withoutSuffix) {\n        return this.from(createLocal(), withoutSuffix);\n    }\n\n    function to (time, withoutSuffix) {\n        if (this.isValid() &&\n                ((isMoment(time) && time.isValid()) ||\n                 createLocal(time).isValid())) {\n            return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function toNow (withoutSuffix) {\n        return this.to(createLocal(), withoutSuffix);\n    }\n\n    // If passed a locale key, it will set the locale for this\n    // instance.  Otherwise, it will return the locale configuration\n    // variables for this instance.\n    function locale (key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate(\n        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n        function (key) {\n            if (key === undefined) {\n                return this.localeData();\n            } else {\n                return this.locale(key);\n            }\n        }\n    );\n\n    function localeData () {\n        return this._locale;\n    }\n\n    function startOf (units) {\n        units = normalizeUnits(units);\n        // the following switch intentionally omits break keywords\n        // to utilize falling through the cases.\n        switch (units) {\n            case 'year':\n                this.month(0);\n                /* falls through */\n            case 'quarter':\n            case 'month':\n                this.date(1);\n                /* falls through */\n            case 'week':\n            case 'isoWeek':\n            case 'day':\n            case 'date':\n                this.hours(0);\n                /* falls through */\n            case 'hour':\n                this.minutes(0);\n                /* falls through */\n            case 'minute':\n                this.seconds(0);\n                /* falls through */\n            case 'second':\n                this.milliseconds(0);\n        }\n\n        // weeks are a special case\n        if (units === 'week') {\n            this.weekday(0);\n        }\n        if (units === 'isoWeek') {\n            this.isoWeekday(1);\n        }\n\n        // quarters are also special\n        if (units === 'quarter') {\n            this.month(Math.floor(this.month() / 3) * 3);\n        }\n\n        return this;\n    }\n\n    function endOf (units) {\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond') {\n            return this;\n        }\n\n        // 'date' is an alias for 'day', so it should be considered as such.\n        if (units === 'date') {\n            units = 'day';\n        }\n\n        return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');\n    }\n\n    function valueOf () {\n        return this._d.valueOf() - ((this._offset || 0) * 60000);\n    }\n\n    function unix () {\n        return Math.floor(this.valueOf() / 1000);\n    }\n\n    function toDate () {\n        return new Date(this.valueOf());\n    }\n\n    function toArray () {\n        var m = this;\n        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n    }\n\n    function toObject () {\n        var m = this;\n        return {\n            years: m.year(),\n            months: m.month(),\n            date: m.date(),\n            hours: m.hours(),\n            minutes: m.minutes(),\n            seconds: m.seconds(),\n            milliseconds: m.milliseconds()\n        };\n    }\n\n    function toJSON () {\n        // new Date(NaN).toJSON() === null\n        return this.isValid() ? this.toISOString() : null;\n    }\n\n    function isValid$2 () {\n        return isValid(this);\n    }\n\n    function parsingFlags () {\n        return extend({}, getParsingFlags(this));\n    }\n\n    function invalidAt () {\n        return getParsingFlags(this).overflow;\n    }\n\n    function creationData() {\n        return {\n            input: this._i,\n            format: this._f,\n            locale: this._locale,\n            isUTC: this._isUTC,\n            strict: this._strict\n        };\n    }\n\n    // FORMATTING\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken (token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg',     'weekYear');\n    addWeekYearFormatToken('ggggg',    'weekYear');\n    addWeekYearFormatToken('GGGG',  'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    addUnitAlias('weekYear', 'gg');\n    addUnitAlias('isoWeekYear', 'GG');\n\n    // PRIORITY\n\n    addUnitPriority('weekYear', 1);\n    addUnitPriority('isoWeekYear', 1);\n\n\n    // PARSING\n\n    addRegexToken('G',      matchSigned);\n    addRegexToken('g',      matchSigned);\n    addRegexToken('GG',     match1to2, match2);\n    addRegexToken('gg',     match1to2, match2);\n    addRegexToken('GGGG',   match1to4, match4);\n    addRegexToken('gggg',   match1to4, match4);\n    addRegexToken('GGGGG',  match1to6, match6);\n    addRegexToken('ggggg',  match1to6, match6);\n\n    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n        week[token.substr(0, 2)] = toInt(input);\n    });\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = hooks.parseTwoDigitYear(input);\n    });\n\n    // MOMENTS\n\n    function getSetWeekYear (input) {\n        return getSetWeekYearHelper.call(this,\n                input,\n                this.week(),\n                this.weekday(),\n                this.localeData()._week.dow,\n                this.localeData()._week.doy);\n    }\n\n    function getSetISOWeekYear (input) {\n        return getSetWeekYearHelper.call(this,\n                input, this.isoWeek(), this.isoWeekday(), 1, 4);\n    }\n\n    function getISOWeeksInYear () {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getWeeksInYear () {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getSetWeekYearHelper(input, week, weekday, dow, doy) {\n        var weeksTarget;\n        if (input == null) {\n            return weekOfYear(this, dow, doy).year;\n        } else {\n            weeksTarget = weeksInYear(input, dow, doy);\n            if (week > weeksTarget) {\n                week = weeksTarget;\n            }\n            return setWeekAll.call(this, input, week, weekday, dow, doy);\n        }\n    }\n\n    function setWeekAll(weekYear, week, weekday, dow, doy) {\n        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n        this.year(date.getUTCFullYear());\n        this.month(date.getUTCMonth());\n        this.date(date.getUTCDate());\n        return this;\n    }\n\n    // FORMATTING\n\n    addFormatToken('Q', 0, 'Qo', 'quarter');\n\n    // ALIASES\n\n    addUnitAlias('quarter', 'Q');\n\n    // PRIORITY\n\n    addUnitPriority('quarter', 7);\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter (input) {\n        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n    }\n\n    // FORMATTING\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // ALIASES\n\n    addUnitAlias('date', 'D');\n\n    // PRIORITY\n    addUnitPriority('date', 9);\n\n    // PARSING\n\n    addRegexToken('D',  match1to2);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        return isStrict ?\n          (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :\n          locale._dayOfMonthOrdinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0]);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    // FORMATTING\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // ALIASES\n\n    addUnitAlias('dayOfYear', 'DDD');\n\n    // PRIORITY\n    addUnitPriority('dayOfYear', 4);\n\n    // PARSING\n\n    addRegexToken('DDD',  match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    // MOMENTS\n\n    function getSetDayOfYear (input) {\n        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // ALIASES\n\n    addUnitAlias('minute', 'm');\n\n    // PRIORITY\n\n    addUnitPriority('minute', 14);\n\n    // PARSING\n\n    addRegexToken('m',  match1to2);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    // FORMATTING\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // ALIASES\n\n    addUnitAlias('second', 's');\n\n    // PRIORITY\n\n    addUnitPriority('second', 15);\n\n    // PARSING\n\n    addRegexToken('s',  match1to2);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    // FORMATTING\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n    addFormatToken(0, ['SSSS', 4], 0, function () {\n        return this.millisecond() * 10;\n    });\n    addFormatToken(0, ['SSSSS', 5], 0, function () {\n        return this.millisecond() * 100;\n    });\n    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n        return this.millisecond() * 1000;\n    });\n    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n        return this.millisecond() * 10000;\n    });\n    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n        return this.millisecond() * 100000;\n    });\n    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n        return this.millisecond() * 1000000;\n    });\n\n\n    // ALIASES\n\n    addUnitAlias('millisecond', 'ms');\n\n    // PRIORITY\n\n    addUnitPriority('millisecond', 16);\n\n    // PARSING\n\n    addRegexToken('S',    match1to3, match1);\n    addRegexToken('SS',   match1to3, match2);\n    addRegexToken('SSS',  match1to3, match3);\n\n    var token;\n    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n        addRegexToken(token, matchUnsigned);\n    }\n\n    function parseMs(input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    }\n\n    for (token = 'S'; token.length <= 9; token += 'S') {\n        addParseToken(token, parseMs);\n    }\n    // MOMENTS\n\n    var getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    // FORMATTING\n\n    addFormatToken('z',  0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr () {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName () {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var proto = Moment.prototype;\n\n    proto.add               = add;\n    proto.calendar          = calendar$1;\n    proto.clone             = clone;\n    proto.diff              = diff;\n    proto.endOf             = endOf;\n    proto.format            = format;\n    proto.from              = from;\n    proto.fromNow           = fromNow;\n    proto.to                = to;\n    proto.toNow             = toNow;\n    proto.get               = stringGet;\n    proto.invalidAt         = invalidAt;\n    proto.isAfter           = isAfter;\n    proto.isBefore          = isBefore;\n    proto.isBetween         = isBetween;\n    proto.isSame            = isSame;\n    proto.isSameOrAfter     = isSameOrAfter;\n    proto.isSameOrBefore    = isSameOrBefore;\n    proto.isValid           = isValid$2;\n    proto.lang              = lang;\n    proto.locale            = locale;\n    proto.localeData        = localeData;\n    proto.max               = prototypeMax;\n    proto.min               = prototypeMin;\n    proto.parsingFlags      = parsingFlags;\n    proto.set               = stringSet;\n    proto.startOf           = startOf;\n    proto.subtract          = subtract;\n    proto.toArray           = toArray;\n    proto.toObject          = toObject;\n    proto.toDate            = toDate;\n    proto.toISOString       = toISOString;\n    proto.inspect           = inspect;\n    proto.toJSON            = toJSON;\n    proto.toString          = toString;\n    proto.unix              = unix;\n    proto.valueOf           = valueOf;\n    proto.creationData      = creationData;\n    proto.year       = getSetYear;\n    proto.isLeapYear = getIsLeapYear;\n    proto.weekYear    = getSetWeekYear;\n    proto.isoWeekYear = getSetISOWeekYear;\n    proto.quarter = proto.quarters = getSetQuarter;\n    proto.month       = getSetMonth;\n    proto.daysInMonth = getDaysInMonth;\n    proto.week           = proto.weeks        = getSetWeek;\n    proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;\n    proto.weeksInYear    = getWeeksInYear;\n    proto.isoWeeksInYear = getISOWeeksInYear;\n    proto.date       = getSetDayOfMonth;\n    proto.day        = proto.days             = getSetDayOfWeek;\n    proto.weekday    = getSetLocaleDayOfWeek;\n    proto.isoWeekday = getSetISODayOfWeek;\n    proto.dayOfYear  = getSetDayOfYear;\n    proto.hour = proto.hours = getSetHour;\n    proto.minute = proto.minutes = getSetMinute;\n    proto.second = proto.seconds = getSetSecond;\n    proto.millisecond = proto.milliseconds = getSetMillisecond;\n    proto.utcOffset            = getSetOffset;\n    proto.utc                  = setOffsetToUTC;\n    proto.local                = setOffsetToLocal;\n    proto.parseZone            = setOffsetToParsedOffset;\n    proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    proto.isDST                = isDaylightSavingTime;\n    proto.isLocal              = isLocal;\n    proto.isUtcOffset          = isUtcOffset;\n    proto.isUtc                = isUtc;\n    proto.isUTC                = isUtc;\n    proto.zoneAbbr = getZoneAbbr;\n    proto.zoneName = getZoneName;\n    proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\n    proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\n    proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\n    proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\n    proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\n    function createUnix (input) {\n        return createLocal(input * 1000);\n    }\n\n    function createInZone () {\n        return createLocal.apply(null, arguments).parseZone();\n    }\n\n    function preParsePostFormat (string) {\n        return string;\n    }\n\n    var proto$1 = Locale.prototype;\n\n    proto$1.calendar        = calendar;\n    proto$1.longDateFormat  = longDateFormat;\n    proto$1.invalidDate     = invalidDate;\n    proto$1.ordinal         = ordinal;\n    proto$1.preparse        = preParsePostFormat;\n    proto$1.postformat      = preParsePostFormat;\n    proto$1.relativeTime    = relativeTime;\n    proto$1.pastFuture      = pastFuture;\n    proto$1.set             = set;\n\n    proto$1.months            =        localeMonths;\n    proto$1.monthsShort       =        localeMonthsShort;\n    proto$1.monthsParse       =        localeMonthsParse;\n    proto$1.monthsRegex       = monthsRegex;\n    proto$1.monthsShortRegex  = monthsShortRegex;\n    proto$1.week = localeWeek;\n    proto$1.firstDayOfYear = localeFirstDayOfYear;\n    proto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n    proto$1.weekdays       =        localeWeekdays;\n    proto$1.weekdaysMin    =        localeWeekdaysMin;\n    proto$1.weekdaysShort  =        localeWeekdaysShort;\n    proto$1.weekdaysParse  =        localeWeekdaysParse;\n\n    proto$1.weekdaysRegex       =        weekdaysRegex;\n    proto$1.weekdaysShortRegex  =        weekdaysShortRegex;\n    proto$1.weekdaysMinRegex    =        weekdaysMinRegex;\n\n    proto$1.isPM = localeIsPM;\n    proto$1.meridiem = localeMeridiem;\n\n    function get$1 (format, index, field, setter) {\n        var locale = getLocale();\n        var utc = createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function listMonthsImpl (format, index, field) {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return get$1(format, index, field, 'month');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 12; i++) {\n            out[i] = get$1(format, i, field, 'month');\n        }\n        return out;\n    }\n\n    // ()\n    // (5)\n    // (fmt, 5)\n    // (fmt)\n    // (true)\n    // (true, 5)\n    // (true, fmt, 5)\n    // (true, fmt)\n    function listWeekdaysImpl (localeSorted, format, index, field) {\n        if (typeof localeSorted === 'boolean') {\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        } else {\n            format = localeSorted;\n            index = format;\n            localeSorted = false;\n\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        }\n\n        var locale = getLocale(),\n            shift = localeSorted ? locale._week.dow : 0;\n\n        if (index != null) {\n            return get$1(format, (index + shift) % 7, field, 'day');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 7; i++) {\n            out[i] = get$1(format, (i + shift) % 7, field, 'day');\n        }\n        return out;\n    }\n\n    function listMonths (format, index) {\n        return listMonthsImpl(format, index, 'months');\n    }\n\n    function listMonthsShort (format, index) {\n        return listMonthsImpl(format, index, 'monthsShort');\n    }\n\n    function listWeekdays (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n    }\n\n    function listWeekdaysShort (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n    }\n\n    function listWeekdaysMin (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n    }\n\n    getSetGlobalLocale('en', {\n        dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (toInt(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n    // Side effect imports\n\n    hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);\n    hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);\n\n    var mathAbs = Math.abs;\n\n    function abs () {\n        var data           = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days         = mathAbs(this._days);\n        this._months       = mathAbs(this._months);\n\n        data.milliseconds  = mathAbs(data.milliseconds);\n        data.seconds       = mathAbs(data.seconds);\n        data.minutes       = mathAbs(data.minutes);\n        data.hours         = mathAbs(data.hours);\n        data.months        = mathAbs(data.months);\n        data.years         = mathAbs(data.years);\n\n        return this;\n    }\n\n    function addSubtract$1 (duration, input, value, direction) {\n        var other = createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days         += direction * other._days;\n        duration._months       += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function add$1 (input, value) {\n        return addSubtract$1(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function subtract$1 (input, value) {\n        return addSubtract$1(this, input, value, -1);\n    }\n\n    function absCeil (number) {\n        if (number < 0) {\n            return Math.floor(number);\n        } else {\n            return Math.ceil(number);\n        }\n    }\n\n    function bubble () {\n        var milliseconds = this._milliseconds;\n        var days         = this._days;\n        var months       = this._months;\n        var data         = this._data;\n        var seconds, minutes, hours, years, monthsFromDays;\n\n        // if we have a mix of positive and negative values, bubble down first\n        // check: https://github.com/moment/moment/issues/2166\n        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n                (milliseconds <= 0 && days <= 0 && months <= 0))) {\n            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n            days = 0;\n            months = 0;\n        }\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds           = absFloor(milliseconds / 1000);\n        data.seconds      = seconds % 60;\n\n        minutes           = absFloor(seconds / 60);\n        data.minutes      = minutes % 60;\n\n        hours             = absFloor(minutes / 60);\n        data.hours        = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // convert days to months\n        monthsFromDays = absFloor(daysToMonths(days));\n        months += monthsFromDays;\n        days -= absCeil(monthsToDays(monthsFromDays));\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        data.days   = days;\n        data.months = months;\n        data.years  = years;\n\n        return this;\n    }\n\n    function daysToMonths (days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        // 400 years have 12 months === 4800\n        return days * 4800 / 146097;\n    }\n\n    function monthsToDays (months) {\n        // the reverse of daysToMonths\n        return months * 146097 / 4800;\n    }\n\n    function as (units) {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        var days;\n        var months;\n        var milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'year') {\n            days   = this._days   + milliseconds / 864e5;\n            months = this._months + daysToMonths(days);\n            return units === 'month' ? months : months / 12;\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(monthsToDays(this._months));\n            switch (units) {\n                case 'week'   : return days / 7     + milliseconds / 6048e5;\n                case 'day'    : return days         + milliseconds / 864e5;\n                case 'hour'   : return days * 24    + milliseconds / 36e5;\n                case 'minute' : return days * 1440  + milliseconds / 6e4;\n                case 'second' : return days * 86400 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n                default: throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    // TODO: Use this.as('ms')?\n    function valueOf$1 () {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        return (\n            this._milliseconds +\n            this._days * 864e5 +\n            (this._months % 12) * 2592e6 +\n            toInt(this._months / 12) * 31536e6\n        );\n    }\n\n    function makeAs (alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms');\n    var asSeconds      = makeAs('s');\n    var asMinutes      = makeAs('m');\n    var asHours        = makeAs('h');\n    var asDays         = makeAs('d');\n    var asWeeks        = makeAs('w');\n    var asMonths       = makeAs('M');\n    var asYears        = makeAs('y');\n\n    function clone$1 () {\n        return createDuration(this);\n    }\n\n    function get$2 (units) {\n        units = normalizeUnits(units);\n        return this.isValid() ? this[units + 's']() : NaN;\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this.isValid() ? this._data[name] : NaN;\n        };\n    }\n\n    var milliseconds = makeGetter('milliseconds');\n    var seconds      = makeGetter('seconds');\n    var minutes      = makeGetter('minutes');\n    var hours        = makeGetter('hours');\n    var days         = makeGetter('days');\n    var months       = makeGetter('months');\n    var years        = makeGetter('years');\n\n    function weeks () {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round;\n    var thresholds = {\n        ss: 44,         // a few seconds to seconds\n        s : 45,         // seconds to minute\n        m : 45,         // minutes to hour\n        h : 22,         // hours to day\n        d : 26,         // days to month\n        M : 11          // months to year\n    };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime$1 (posNegDuration, withoutSuffix, locale) {\n        var duration = createDuration(posNegDuration).abs();\n        var seconds  = round(duration.as('s'));\n        var minutes  = round(duration.as('m'));\n        var hours    = round(duration.as('h'));\n        var days     = round(duration.as('d'));\n        var months   = round(duration.as('M'));\n        var years    = round(duration.as('y'));\n\n        var a = seconds <= thresholds.ss && ['s', seconds]  ||\n                seconds < thresholds.s   && ['ss', seconds] ||\n                minutes <= 1             && ['m']           ||\n                minutes < thresholds.m   && ['mm', minutes] ||\n                hours   <= 1             && ['h']           ||\n                hours   < thresholds.h   && ['hh', hours]   ||\n                days    <= 1             && ['d']           ||\n                days    < thresholds.d   && ['dd', days]    ||\n                months  <= 1             && ['M']           ||\n                months  < thresholds.M   && ['MM', months]  ||\n                years   <= 1             && ['y']           || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set the rounding function for relative time strings\n    function getSetRelativeTimeRounding (roundingFunction) {\n        if (roundingFunction === undefined) {\n            return round;\n        }\n        if (typeof(roundingFunction) === 'function') {\n            round = roundingFunction;\n            return true;\n        }\n        return false;\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function getSetRelativeTimeThreshold (threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        if (threshold === 's') {\n            thresholds.ss = limit - 1;\n        }\n        return true;\n    }\n\n    function humanize (withSuffix) {\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var locale = this.localeData();\n        var output = relativeTime$1(this, !withSuffix, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var abs$1 = Math.abs;\n\n    function sign(x) {\n        return ((x > 0) - (x < 0)) || +x;\n    }\n\n    function toISOString$1() {\n        // for ISO strings we do not use the normal bubbling rules:\n        //  * milliseconds bubble up until they become hours\n        //  * days do not bubble at all\n        //  * months bubble up until they become years\n        // This is because there is no context-free conversion between hours and days\n        // (think of clock changes)\n        // and also not between days and months (28-31 days per month)\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var seconds = abs$1(this._milliseconds) / 1000;\n        var days         = abs$1(this._days);\n        var months       = abs$1(this._months);\n        var minutes, hours, years;\n\n        // 3600 seconds -> 60 minutes -> 1 hour\n        minutes           = absFloor(seconds / 60);\n        hours             = absFloor(minutes / 60);\n        seconds %= 60;\n        minutes %= 60;\n\n        // 12 months -> 1 year\n        years  = absFloor(months / 12);\n        months %= 12;\n\n\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        var Y = years;\n        var M = months;\n        var D = days;\n        var h = hours;\n        var m = minutes;\n        var s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n        var total = this.asSeconds();\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        var totalSign = total < 0 ? '-' : '';\n        var ymSign = sign(this._months) !== sign(total) ? '-' : '';\n        var daysSign = sign(this._days) !== sign(total) ? '-' : '';\n        var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n        return totalSign + 'P' +\n            (Y ? ymSign + Y + 'Y' : '') +\n            (M ? ymSign + M + 'M' : '') +\n            (D ? daysSign + D + 'D' : '') +\n            ((h || m || s) ? 'T' : '') +\n            (h ? hmsSign + h + 'H' : '') +\n            (m ? hmsSign + m + 'M' : '') +\n            (s ? hmsSign + s + 'S' : '');\n    }\n\n    var proto$2 = Duration.prototype;\n\n    proto$2.isValid        = isValid$1;\n    proto$2.abs            = abs;\n    proto$2.add            = add$1;\n    proto$2.subtract       = subtract$1;\n    proto$2.as             = as;\n    proto$2.asMilliseconds = asMilliseconds;\n    proto$2.asSeconds      = asSeconds;\n    proto$2.asMinutes      = asMinutes;\n    proto$2.asHours        = asHours;\n    proto$2.asDays         = asDays;\n    proto$2.asWeeks        = asWeeks;\n    proto$2.asMonths       = asMonths;\n    proto$2.asYears        = asYears;\n    proto$2.valueOf        = valueOf$1;\n    proto$2._bubble        = bubble;\n    proto$2.clone          = clone$1;\n    proto$2.get            = get$2;\n    proto$2.milliseconds   = milliseconds;\n    proto$2.seconds        = seconds;\n    proto$2.minutes        = minutes;\n    proto$2.hours          = hours;\n    proto$2.days           = days;\n    proto$2.weeks          = weeks;\n    proto$2.months         = months;\n    proto$2.years          = years;\n    proto$2.humanize       = humanize;\n    proto$2.toISOString    = toISOString$1;\n    proto$2.toString       = toISOString$1;\n    proto$2.toJSON         = toISOString$1;\n    proto$2.locale         = locale;\n    proto$2.localeData     = localeData;\n\n    proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);\n    proto$2.lang = lang;\n\n    // Side effect imports\n\n    // FORMATTING\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input, 10) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    // Side effect imports\n\n\n    hooks.version = '2.22.2';\n\n    setHookCallback(createLocal);\n\n    hooks.fn                    = proto;\n    hooks.min                   = min;\n    hooks.max                   = max;\n    hooks.now                   = now;\n    hooks.utc                   = createUTC;\n    hooks.unix                  = createUnix;\n    hooks.months                = listMonths;\n    hooks.isDate                = isDate;\n    hooks.locale                = getSetGlobalLocale;\n    hooks.invalid               = createInvalid;\n    hooks.duration              = createDuration;\n    hooks.isMoment              = isMoment;\n    hooks.weekdays              = listWeekdays;\n    hooks.parseZone             = createInZone;\n    hooks.localeData            = getLocale;\n    hooks.isDuration            = isDuration;\n    hooks.monthsShort           = listMonthsShort;\n    hooks.weekdaysMin           = listWeekdaysMin;\n    hooks.defineLocale          = defineLocale;\n    hooks.updateLocale          = updateLocale;\n    hooks.locales               = listLocales;\n    hooks.weekdaysShort         = listWeekdaysShort;\n    hooks.normalizeUnits        = normalizeUnits;\n    hooks.relativeTimeRounding  = getSetRelativeTimeRounding;\n    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\n    hooks.calendarFormat        = getCalendarFormat;\n    hooks.prototype             = proto;\n\n    // currently HTML5 input type only supports 24-hour formats\n    hooks.HTML5_FMT = {\n        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type=\"datetime-local\" />\n        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type=\"datetime-local\" step=\"1\" />\n        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type=\"datetime-local\" step=\"0.001\" />\n        DATE: 'YYYY-MM-DD',                             // <input type=\"date\" />\n        TIME: 'HH:mm',                                  // <input type=\"time\" />\n        TIME_SECONDS: 'HH:mm:ss',                       // <input type=\"time\" step=\"1\" />\n        TIME_MS: 'HH:mm:ss.SSS',                        // <input type=\"time\" step=\"0.001\" />\n        WEEK: 'YYYY-[W]WW',                             // <input type=\"week\" />\n        MONTH: 'YYYY-MM'                                // <input type=\"month\" />\n    };\n\n    return hooks;\n\n})));\n","module.exports = global[\"moment\"] = require(\"-!.\\\\moment.js\");","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() { return this })() || Function(\"return this\")()\n);\n","// extracted by mini-css-extract-plugin","// Spectrum Colorpicker v1.8.0\n// https://github.com/bgrins/spectrum\n// Author: Brian Grinstead\n// License: MIT\n\n(function (factory) {\n    \"use strict\";\n\n    if (typeof define === 'function' && define.amd) { // AMD\n        define(['jquery'], factory);\n    }\n    else if (typeof exports == \"object\" && typeof module == \"object\") { // CommonJS\n        module.exports = factory(require('jquery'));\n    }\n    else { // Browser\n        factory(jQuery);\n    }\n})(function($, undefined) {\n    \"use strict\";\n\n    var defaultOpts = {\n\n        // Callbacks\n        beforeShow: noop,\n        move: noop,\n        change: noop,\n        show: noop,\n        hide: noop,\n\n        // Options\n        color: false,\n        flat: false,\n        showInput: false,\n        allowEmpty: false,\n        showButtons: true,\n        clickoutFiresChange: true,\n        showInitial: false,\n        showPalette: false,\n        showPaletteOnly: false,\n        hideAfterPaletteSelect: false,\n        togglePaletteOnly: false,\n        showSelectionPalette: true,\n        localStorageKey: false,\n        appendTo: \"body\",\n        maxSelectionSize: 7,\n        cancelText: \"cancel\",\n        chooseText: \"choose\",\n        togglePaletteMoreText: \"more\",\n        togglePaletteLessText: \"less\",\n        clearText: \"Clear Color Selection\",\n        noColorSelectedText: \"No Color Selected\",\n        preferredFormat: false,\n        className: \"\", // Deprecated - use containerClassName and replacerClassName instead.\n        containerClassName: \"\",\n        replacerClassName: \"\",\n        showAlpha: false,\n        theme: \"sp-light\",\n        palette: [[\"#ffffff\", \"#000000\", \"#ff0000\", \"#ff8000\", \"#ffff00\", \"#008000\", \"#0000ff\", \"#4b0082\", \"#9400d3\"]],\n        selectionPalette: [],\n        disabled: false,\n        offset: null\n    },\n    spectrums = [],\n    IE = !!/msie/i.exec( window.navigator.userAgent ),\n    rgbaSupport = (function() {\n        function contains( str, substr ) {\n            return !!~('' + str).indexOf(substr);\n        }\n\n        var elem = document.createElement('div');\n        var style = elem.style;\n        style.cssText = 'background-color:rgba(0,0,0,.5)';\n        return contains(style.backgroundColor, 'rgba') || contains(style.backgroundColor, 'hsla');\n    })(),\n    replaceInput = [\n        \"<div class='sp-replacer'>\",\n            \"<div class='sp-preview'><div class='sp-preview-inner'></div></div>\",\n            \"<div class='sp-dd'>&#9660;</div>\",\n        \"</div>\"\n    ].join(''),\n    markup = (function () {\n\n        // IE does not support gradients with multiple stops, so we need to simulate\n        //  that for the rainbow slider with 8 divs that each have a single gradient\n        var gradientFix = \"\";\n        if (IE) {\n            for (var i = 1; i <= 6; i++) {\n                gradientFix += \"<div class='sp-\" + i + \"'></div>\";\n            }\n        }\n\n        return [\n            \"<div class='sp-container sp-hidden'>\",\n                \"<div class='sp-palette-container'>\",\n                    \"<div class='sp-palette sp-thumb sp-cf'></div>\",\n                    \"<div class='sp-palette-button-container sp-cf'>\",\n                        \"<button type='button' class='sp-palette-toggle'></button>\",\n                    \"</div>\",\n                \"</div>\",\n                \"<div class='sp-picker-container'>\",\n                    \"<div class='sp-top sp-cf'>\",\n                        \"<div class='sp-fill'></div>\",\n                        \"<div class='sp-top-inner'>\",\n                            \"<div class='sp-color'>\",\n                                \"<div class='sp-sat'>\",\n                                    \"<div class='sp-val'>\",\n                                        \"<div class='sp-dragger'></div>\",\n                                    \"</div>\",\n                                \"</div>\",\n                            \"</div>\",\n                            \"<div class='sp-clear sp-clear-display'>\",\n                            \"</div>\",\n                            \"<div class='sp-hue'>\",\n                                \"<div class='sp-slider'></div>\",\n                                gradientFix,\n                            \"</div>\",\n                        \"</div>\",\n                        \"<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>\",\n                    \"</div>\",\n                    \"<div class='sp-input-container sp-cf'>\",\n                        \"<input class='sp-input' type='text' spellcheck='false'  />\",\n                    \"</div>\",\n                    \"<div class='sp-initial sp-thumb sp-cf'></div>\",\n                    \"<div class='sp-button-container sp-cf'>\",\n                        \"<a class='sp-cancel' href='#'></a>\",\n                        \"<button type='button' class='sp-choose'></button>\",\n                    \"</div>\",\n                \"</div>\",\n            \"</div>\"\n        ].join(\"\");\n    })();\n\n    function paletteTemplate (p, color, className, opts) {\n        var html = [];\n        for (var i = 0; i < p.length; i++) {\n            var current = p[i];\n            if(current) {\n                var tiny = tinycolor(current);\n                var c = tiny.toHsl().l < 0.5 ? \"sp-thumb-el sp-thumb-dark\" : \"sp-thumb-el sp-thumb-light\";\n                c += (tinycolor.equals(color, current)) ? \" sp-thumb-active\" : \"\";\n                var formattedString = tiny.toString(opts.preferredFormat || \"rgb\");\n                var swatchStyle = rgbaSupport ? (\"background-color:\" + tiny.toRgbString()) : \"filter:\" + tiny.toFilter();\n                html.push('<span title=\"' + formattedString + '\" data-color=\"' + tiny.toRgbString() + '\" class=\"' + c + '\"><span class=\"sp-thumb-inner\" style=\"' + swatchStyle + ';\" /></span>');\n            } else {\n                var cls = 'sp-clear-display';\n                html.push($('<div />')\n                    .append($('<span data-color=\"\" style=\"background-color:transparent;\" class=\"' + cls + '\"></span>')\n                        .attr('title', opts.noColorSelectedText)\n                    )\n                    .html()\n                );\n            }\n        }\n        return \"<div class='sp-cf \" + className + \"'>\" + html.join('') + \"</div>\";\n    }\n\n    function hideAll() {\n        for (var i = 0; i < spectrums.length; i++) {\n            if (spectrums[i]) {\n                spectrums[i].hide();\n            }\n        }\n    }\n\n    function instanceOptions(o, callbackContext) {\n        var opts = $.extend({}, defaultOpts, o);\n        opts.callbacks = {\n            'move': bind(opts.move, callbackContext),\n            'change': bind(opts.change, callbackContext),\n            'show': bind(opts.show, callbackContext),\n            'hide': bind(opts.hide, callbackContext),\n            'beforeShow': bind(opts.beforeShow, callbackContext)\n        };\n\n        return opts;\n    }\n\n    function spectrum(element, o) {\n\n        var opts = instanceOptions(o, element),\n            flat = opts.flat,\n            showSelectionPalette = opts.showSelectionPalette,\n            localStorageKey = opts.localStorageKey,\n            theme = opts.theme,\n            callbacks = opts.callbacks,\n            resize = throttle(reflow, 10),\n            visible = false,\n            isDragging = false,\n            dragWidth = 0,\n            dragHeight = 0,\n            dragHelperHeight = 0,\n            slideHeight = 0,\n            slideWidth = 0,\n            alphaWidth = 0,\n            alphaSlideHelperWidth = 0,\n            slideHelperHeight = 0,\n            currentHue = 0,\n            currentSaturation = 0,\n            currentValue = 0,\n            currentAlpha = 1,\n            palette = [],\n            paletteArray = [],\n            paletteLookup = {},\n            selectionPalette = opts.selectionPalette.slice(0),\n            maxSelectionSize = opts.maxSelectionSize,\n            draggingClass = \"sp-dragging\",\n            shiftMovementDirection = null;\n\n        var doc = element.ownerDocument,\n            body = doc.body,\n            boundElement = $(element),\n            disabled = false,\n            container = $(markup, doc).addClass(theme),\n            pickerContainer = container.find(\".sp-picker-container\"),\n            dragger = container.find(\".sp-color\"),\n            dragHelper = container.find(\".sp-dragger\"),\n            slider = container.find(\".sp-hue\"),\n            slideHelper = container.find(\".sp-slider\"),\n            alphaSliderInner = container.find(\".sp-alpha-inner\"),\n            alphaSlider = container.find(\".sp-alpha\"),\n            alphaSlideHelper = container.find(\".sp-alpha-handle\"),\n            textInput = container.find(\".sp-input\"),\n            paletteContainer = container.find(\".sp-palette\"),\n            initialColorContainer = container.find(\".sp-initial\"),\n            cancelButton = container.find(\".sp-cancel\"),\n            clearButton = container.find(\".sp-clear\"),\n            chooseButton = container.find(\".sp-choose\"),\n            toggleButton = container.find(\".sp-palette-toggle\"),\n            isInput = boundElement.is(\"input\"),\n            isInputTypeColor = isInput && boundElement.attr(\"type\") === \"color\" && inputTypeColorSupport(),\n            shouldReplace = isInput && !flat,\n            replacer = (shouldReplace) ? $(replaceInput).addClass(theme).addClass(opts.className).addClass(opts.replacerClassName) : $([]),\n            offsetElement = (shouldReplace) ? replacer : boundElement,\n            previewElement = replacer.find(\".sp-preview-inner\"),\n            initialColor = opts.color || (isInput && boundElement.val()),\n            colorOnShow = false,\n            currentPreferredFormat = opts.preferredFormat,\n            clickoutFiresChange = !opts.showButtons || opts.clickoutFiresChange,\n            isEmpty = !initialColor,\n            allowEmpty = opts.allowEmpty && !isInputTypeColor;\n\n        function applyOptions() {\n\n            if (opts.showPaletteOnly) {\n                opts.showPalette = true;\n            }\n\n            toggleButton.text(opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText);\n\n            if (opts.palette) {\n                palette = opts.palette.slice(0);\n                paletteArray = $.isArray(palette[0]) ? palette : [palette];\n                paletteLookup = {};\n                for (var i = 0; i < paletteArray.length; i++) {\n                    for (var j = 0; j < paletteArray[i].length; j++) {\n                        var rgb = tinycolor(paletteArray[i][j]).toRgbString();\n                        paletteLookup[rgb] = true;\n                    }\n                }\n            }\n\n            container.toggleClass(\"sp-flat\", flat);\n            container.toggleClass(\"sp-input-disabled\", !opts.showInput);\n            container.toggleClass(\"sp-alpha-enabled\", opts.showAlpha);\n            container.toggleClass(\"sp-clear-enabled\", allowEmpty);\n            container.toggleClass(\"sp-buttons-disabled\", !opts.showButtons);\n            container.toggleClass(\"sp-palette-buttons-disabled\", !opts.togglePaletteOnly);\n            container.toggleClass(\"sp-palette-disabled\", !opts.showPalette);\n            container.toggleClass(\"sp-palette-only\", opts.showPaletteOnly);\n            container.toggleClass(\"sp-initial-disabled\", !opts.showInitial);\n            container.addClass(opts.className).addClass(opts.containerClassName);\n\n            reflow();\n        }\n\n        function initialize() {\n\n            if (IE) {\n                container.find(\"*:not(input)\").attr(\"unselectable\", \"on\");\n            }\n\n            applyOptions();\n\n            if (shouldReplace) {\n                boundElement.after(replacer).hide();\n            }\n\n            if (!allowEmpty) {\n                clearButton.hide();\n            }\n\n            if (flat) {\n                boundElement.after(container).hide();\n            }\n            else {\n\n                var appendTo = opts.appendTo === \"parent\" ? boundElement.parent() : $(opts.appendTo);\n                if (appendTo.length !== 1) {\n                    appendTo = $(\"body\");\n                }\n\n                appendTo.append(container);\n            }\n\n            updateSelectionPaletteFromStorage();\n\n            offsetElement.bind(\"click.spectrum touchstart.spectrum\", function (e) {\n                if (!disabled) {\n                    toggle();\n                }\n\n                e.stopPropagation();\n\n                if (!$(e.target).is(\"input\")) {\n                    e.preventDefault();\n                }\n            });\n\n            if(boundElement.is(\":disabled\") || (opts.disabled === true)) {\n                disable();\n            }\n\n            // Prevent clicks from bubbling up to document.  This would cause it to be hidden.\n            container.click(stopPropagation);\n\n            // Handle user typed input\n            textInput.change(setFromTextInput);\n            textInput.bind(\"paste\", function () {\n                setTimeout(setFromTextInput, 1);\n            });\n            textInput.keydown(function (e) { if (e.keyCode == 13) { setFromTextInput(); } });\n\n            cancelButton.text(opts.cancelText);\n            cancelButton.bind(\"click.spectrum\", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                revert();\n                hide();\n            });\n\n            clearButton.attr(\"title\", opts.clearText);\n            clearButton.bind(\"click.spectrum\", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                isEmpty = true;\n                move();\n\n                if(flat) {\n                    //for the flat style, this is a change event\n                    updateOriginalInput(true);\n                }\n            });\n\n            chooseButton.text(opts.chooseText);\n            chooseButton.bind(\"click.spectrum\", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                if (IE && textInput.is(\":focus\")) {\n                    textInput.trigger('change');\n                }\n\n                if (isValid()) {\n                    updateOriginalInput(true);\n                    hide();\n                }\n            });\n\n            toggleButton.text(opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText);\n            toggleButton.bind(\"click.spectrum\", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                opts.showPaletteOnly = !opts.showPaletteOnly;\n\n                // To make sure the Picker area is drawn on the right, next to the\n                // Palette area (and not below the palette), first move the Palette\n                // to the left to make space for the picker, plus 5px extra.\n                // The 'applyOptions' function puts the whole container back into place\n                // and takes care of the button-text and the sp-palette-only CSS class.\n                if (!opts.showPaletteOnly && !flat) {\n                    container.css('left', '-=' + (pickerContainer.outerWidth(true) + 5));\n                }\n                applyOptions();\n            });\n\n            draggable(alphaSlider, function (dragX, dragY, e) {\n                currentAlpha = (dragX / alphaWidth);\n                isEmpty = false;\n                if (e.shiftKey) {\n                    currentAlpha = Math.round(currentAlpha * 10) / 10;\n                }\n\n                move();\n            }, dragStart, dragStop);\n\n            draggable(slider, function (dragX, dragY) {\n                currentHue = parseFloat(dragY / slideHeight);\n                isEmpty = false;\n                if (!opts.showAlpha) {\n                    currentAlpha = 1;\n                }\n                move();\n            }, dragStart, dragStop);\n\n            draggable(dragger, function (dragX, dragY, e) {\n\n                // shift+drag should snap the movement to either the x or y axis.\n                if (!e.shiftKey) {\n                    shiftMovementDirection = null;\n                }\n                else if (!shiftMovementDirection) {\n                    var oldDragX = currentSaturation * dragWidth;\n                    var oldDragY = dragHeight - (currentValue * dragHeight);\n                    var furtherFromX = Math.abs(dragX - oldDragX) > Math.abs(dragY - oldDragY);\n\n                    shiftMovementDirection = furtherFromX ? \"x\" : \"y\";\n                }\n\n                var setSaturation = !shiftMovementDirection || shiftMovementDirection === \"x\";\n                var setValue = !shiftMovementDirection || shiftMovementDirection === \"y\";\n\n                if (setSaturation) {\n                    currentSaturation = parseFloat(dragX / dragWidth);\n                }\n                if (setValue) {\n                    currentValue = parseFloat((dragHeight - dragY) / dragHeight);\n                }\n\n                isEmpty = false;\n                if (!opts.showAlpha) {\n                    currentAlpha = 1;\n                }\n\n                move();\n\n            }, dragStart, dragStop);\n\n            if (!!initialColor) {\n                set(initialColor);\n\n                // In case color was black - update the preview UI and set the format\n                // since the set function will not run (default color is black).\n                updateUI();\n                currentPreferredFormat = opts.preferredFormat || tinycolor(initialColor).format;\n\n                addColorToSelectionPalette(initialColor);\n            }\n            else {\n                updateUI();\n            }\n\n            if (flat) {\n                show();\n            }\n\n            function paletteElementClick(e) {\n                if (e.data && e.data.ignore) {\n                    set($(e.target).closest(\".sp-thumb-el\").data(\"color\"));\n                    move();\n                }\n                else {\n                    set($(e.target).closest(\".sp-thumb-el\").data(\"color\"));\n                    move();\n                    updateOriginalInput(true);\n                    if (opts.hideAfterPaletteSelect) {\n                      hide();\n                    }\n                }\n\n                return false;\n            }\n\n            var paletteEvent = IE ? \"mousedown.spectrum\" : \"click.spectrum touchstart.spectrum\";\n            paletteContainer.delegate(\".sp-thumb-el\", paletteEvent, paletteElementClick);\n            initialColorContainer.delegate(\".sp-thumb-el:nth-child(1)\", paletteEvent, { ignore: true }, paletteElementClick);\n        }\n\n        function updateSelectionPaletteFromStorage() {\n\n            if (localStorageKey && window.localStorage) {\n\n                // Migrate old palettes over to new format.  May want to remove this eventually.\n                try {\n                    var oldPalette = window.localStorage[localStorageKey].split(\",#\");\n                    if (oldPalette.length > 1) {\n                        delete window.localStorage[localStorageKey];\n                        $.each(oldPalette, function(i, c) {\n                             addColorToSelectionPalette(c);\n                        });\n                    }\n                }\n                catch(e) { }\n\n                try {\n                    selectionPalette = window.localStorage[localStorageKey].split(\";\");\n                }\n                catch (e) { }\n            }\n        }\n\n        function addColorToSelectionPalette(color) {\n            if (showSelectionPalette) {\n                var rgb = tinycolor(color).toRgbString();\n                if (!paletteLookup[rgb] && $.inArray(rgb, selectionPalette) === -1) {\n                    selectionPalette.push(rgb);\n                    while(selectionPalette.length > maxSelectionSize) {\n                        selectionPalette.shift();\n                    }\n                }\n\n                if (localStorageKey && window.localStorage) {\n                    try {\n                        window.localStorage[localStorageKey] = selectionPalette.join(\";\");\n                    }\n                    catch(e) { }\n                }\n            }\n        }\n\n        function getUniqueSelectionPalette() {\n            var unique = [];\n            if (opts.showPalette) {\n                for (var i = 0; i < selectionPalette.length; i++) {\n                    var rgb = tinycolor(selectionPalette[i]).toRgbString();\n\n                    if (!paletteLookup[rgb]) {\n                        unique.push(selectionPalette[i]);\n                    }\n                }\n            }\n\n            return unique.reverse().slice(0, opts.maxSelectionSize);\n        }\n\n        function drawPalette() {\n\n            var currentColor = get();\n\n            var html = $.map(paletteArray, function (palette, i) {\n                return paletteTemplate(palette, currentColor, \"sp-palette-row sp-palette-row-\" + i, opts);\n            });\n\n            updateSelectionPaletteFromStorage();\n\n            if (selectionPalette) {\n                html.push(paletteTemplate(getUniqueSelectionPalette(), currentColor, \"sp-palette-row sp-palette-row-selection\", opts));\n            }\n\n            paletteContainer.html(html.join(\"\"));\n        }\n\n        function drawInitial() {\n            if (opts.showInitial) {\n                var initial = colorOnShow;\n                var current = get();\n                initialColorContainer.html(paletteTemplate([initial, current], current, \"sp-palette-row-initial\", opts));\n            }\n        }\n\n        function dragStart() {\n            if (dragHeight <= 0 || dragWidth <= 0 || slideHeight <= 0) {\n                reflow();\n            }\n            isDragging = true;\n            container.addClass(draggingClass);\n            shiftMovementDirection = null;\n            boundElement.trigger('dragstart.spectrum', [ get() ]);\n        }\n\n        function dragStop() {\n            isDragging = false;\n            container.removeClass(draggingClass);\n            boundElement.trigger('dragstop.spectrum', [ get() ]);\n        }\n\n        function setFromTextInput() {\n\n            var value = textInput.val();\n\n            if ((value === null || value === \"\") && allowEmpty) {\n                set(null);\n                updateOriginalInput(true);\n            }\n            else {\n                var tiny = tinycolor(value);\n                if (tiny.isValid()) {\n                    set(tiny);\n                    updateOriginalInput(true);\n                }\n                else {\n                    textInput.addClass(\"sp-validation-error\");\n                }\n            }\n        }\n\n        function toggle() {\n            if (visible) {\n                hide();\n            }\n            else {\n                show();\n            }\n        }\n\n        function show() {\n            var event = $.Event('beforeShow.spectrum');\n\n            if (visible) {\n                reflow();\n                return;\n            }\n\n            boundElement.trigger(event, [ get() ]);\n\n            if (callbacks.beforeShow(get()) === false || event.isDefaultPrevented()) {\n                return;\n            }\n\n            hideAll();\n            visible = true;\n\n            $(doc).bind(\"keydown.spectrum\", onkeydown);\n            $(doc).bind(\"click.spectrum\", clickout);\n            $(window).bind(\"resize.spectrum\", resize);\n            replacer.addClass(\"sp-active\");\n            container.removeClass(\"sp-hidden\");\n\n            reflow();\n            updateUI();\n\n            colorOnShow = get();\n\n            drawInitial();\n            callbacks.show(colorOnShow);\n            boundElement.trigger('show.spectrum', [ colorOnShow ]);\n        }\n\n        function onkeydown(e) {\n            // Close on ESC\n            if (e.keyCode === 27) {\n                hide();\n            }\n        }\n\n        function clickout(e) {\n            // Return on right click.\n            if (e.button == 2) { return; }\n\n            // If a drag event was happening during the mouseup, don't hide\n            // on click.\n            if (isDragging) { return; }\n\n            if (clickoutFiresChange) {\n                updateOriginalInput(true);\n            }\n            else {\n                revert();\n            }\n            hide();\n        }\n\n        function hide() {\n            // Return if hiding is unnecessary\n            if (!visible || flat) { return; }\n            visible = false;\n\n            $(doc).unbind(\"keydown.spectrum\", onkeydown);\n            $(doc).unbind(\"click.spectrum\", clickout);\n            $(window).unbind(\"resize.spectrum\", resize);\n\n            replacer.removeClass(\"sp-active\");\n            container.addClass(\"sp-hidden\");\n\n            callbacks.hide(get());\n            boundElement.trigger('hide.spectrum', [ get() ]);\n        }\n\n        function revert() {\n            set(colorOnShow, true);\n        }\n\n        function set(color, ignoreFormatChange) {\n            if (tinycolor.equals(color, get())) {\n                // Update UI just in case a validation error needs\n                // to be cleared.\n                updateUI();\n                return;\n            }\n\n            var newColor, newHsv;\n            if (!color && allowEmpty) {\n                isEmpty = true;\n            } else {\n                isEmpty = false;\n                newColor = tinycolor(color);\n                newHsv = newColor.toHsv();\n\n                currentHue = (newHsv.h % 360) / 360;\n                currentSaturation = newHsv.s;\n                currentValue = newHsv.v;\n                currentAlpha = newHsv.a;\n            }\n            updateUI();\n\n            if (newColor && newColor.isValid() && !ignoreFormatChange) {\n                currentPreferredFormat = opts.preferredFormat || newColor.getFormat();\n            }\n        }\n\n        function get(opts) {\n            opts = opts || { };\n\n            if (allowEmpty && isEmpty) {\n                return null;\n            }\n\n            return tinycolor.fromRatio({\n                h: currentHue,\n                s: currentSaturation,\n                v: currentValue,\n                a: Math.round(currentAlpha * 100) / 100\n            }, { format: opts.format || currentPreferredFormat });\n        }\n\n        function isValid() {\n            return !textInput.hasClass(\"sp-validation-error\");\n        }\n\n        function move() {\n            updateUI();\n\n            callbacks.move(get());\n            boundElement.trigger('move.spectrum', [ get() ]);\n        }\n\n        function updateUI() {\n\n            textInput.removeClass(\"sp-validation-error\");\n\n            updateHelperLocations();\n\n            // Update dragger background color (gradients take care of saturation and value).\n            var flatColor = tinycolor.fromRatio({ h: currentHue, s: 1, v: 1 });\n            dragger.css(\"background-color\", flatColor.toHexString());\n\n            // Get a format that alpha will be included in (hex and names ignore alpha)\n            var format = currentPreferredFormat;\n            if (currentAlpha < 1 && !(currentAlpha === 0 && format === \"name\")) {\n                if (format === \"hex\" || format === \"hex3\" || format === \"hex6\" || format === \"name\") {\n                    format = \"rgb\";\n                }\n            }\n\n            var realColor = get({ format: format }),\n                displayColor = '';\n\n             //reset background info for preview element\n            previewElement.removeClass(\"sp-clear-display\");\n            previewElement.css('background-color', 'transparent');\n\n            if (!realColor && allowEmpty) {\n                // Update the replaced elements background with icon indicating no color selection\n                previewElement.addClass(\"sp-clear-display\");\n            }\n            else {\n                var realHex = realColor.toHexString(),\n                    realRgb = realColor.toRgbString();\n\n                // Update the replaced elements background color (with actual selected color)\n                if (rgbaSupport || realColor.alpha === 1) {\n                    previewElement.css(\"background-color\", realRgb);\n                }\n                else {\n                    previewElement.css(\"background-color\", \"transparent\");\n                    previewElement.css(\"filter\", realColor.toFilter());\n                }\n\n                if (opts.showAlpha) {\n                    var rgb = realColor.toRgb();\n                    rgb.a = 0;\n                    var realAlpha = tinycolor(rgb).toRgbString();\n                    var gradient = \"linear-gradient(left, \" + realAlpha + \", \" + realHex + \")\";\n\n                    if (IE) {\n                        alphaSliderInner.css(\"filter\", tinycolor(realAlpha).toFilter({ gradientType: 1 }, realHex));\n                    }\n                    else {\n                        alphaSliderInner.css(\"background\", \"-webkit-\" + gradient);\n                        alphaSliderInner.css(\"background\", \"-moz-\" + gradient);\n                        alphaSliderInner.css(\"background\", \"-ms-\" + gradient);\n                        // Use current syntax gradient on unprefixed property.\n                        alphaSliderInner.css(\"background\",\n                            \"linear-gradient(to right, \" + realAlpha + \", \" + realHex + \")\");\n                    }\n                }\n\n                displayColor = realColor.toString(format);\n            }\n\n            // Update the text entry input as it changes happen\n            if (opts.showInput) {\n                textInput.val(displayColor);\n            }\n\n            if (opts.showPalette) {\n                drawPalette();\n            }\n\n            drawInitial();\n        }\n\n        function updateHelperLocations() {\n            var s = currentSaturation;\n            var v = currentValue;\n\n            if(allowEmpty && isEmpty) {\n                //if selected color is empty, hide the helpers\n                alphaSlideHelper.hide();\n                slideHelper.hide();\n                dragHelper.hide();\n            }\n            else {\n                //make sure helpers are visible\n                alphaSlideHelper.show();\n                slideHelper.show();\n                dragHelper.show();\n\n                // Where to show the little circle in that displays your current selected color\n                var dragX = s * dragWidth;\n                var dragY = dragHeight - (v * dragHeight);\n                dragX = Math.max(\n                    -dragHelperHeight,\n                    Math.min(dragWidth - dragHelperHeight, dragX - dragHelperHeight)\n                );\n                dragY = Math.max(\n                    -dragHelperHeight,\n                    Math.min(dragHeight - dragHelperHeight, dragY - dragHelperHeight)\n                );\n                dragHelper.css({\n                    \"top\": dragY + \"px\",\n                    \"left\": dragX + \"px\"\n                });\n\n                var alphaX = currentAlpha * alphaWidth;\n                alphaSlideHelper.css({\n                    \"left\": (alphaX - (alphaSlideHelperWidth / 2)) + \"px\"\n                });\n\n                // Where to show the bar that displays your current selected hue\n                var slideY = (currentHue) * slideHeight;\n                slideHelper.css({\n                    \"top\": (slideY - slideHelperHeight) + \"px\"\n                });\n            }\n        }\n\n        function updateOriginalInput(fireCallback) {\n            var color = get(),\n                displayColor = '',\n                hasChanged = !tinycolor.equals(color, colorOnShow);\n\n            if (color) {\n                displayColor = color.toString(currentPreferredFormat);\n                // Update the selection palette with the current color\n                addColorToSelectionPalette(color);\n            }\n\n            if (isInput) {\n                boundElement.val(displayColor);\n            }\n\n            if (fireCallback && hasChanged) {\n                callbacks.change(color);\n                boundElement.trigger('change', [ color ]);\n            }\n        }\n\n        function reflow() {\n            if (!visible) {\n                return; // Calculations would be useless and wouldn't be reliable anyways\n            }\n            dragWidth = dragger.width();\n            dragHeight = dragger.height();\n            dragHelperHeight = dragHelper.height();\n            slideWidth = slider.width();\n            slideHeight = slider.height();\n            slideHelperHeight = slideHelper.height();\n            alphaWidth = alphaSlider.width();\n            alphaSlideHelperWidth = alphaSlideHelper.width();\n\n            if (!flat) {\n                container.css(\"position\", \"absolute\");\n                if (opts.offset) {\n                    container.offset(opts.offset);\n                } else {\n                    container.offset(getOffset(container, offsetElement));\n                }\n            }\n\n            updateHelperLocations();\n\n            if (opts.showPalette) {\n                drawPalette();\n            }\n\n            boundElement.trigger('reflow.spectrum');\n        }\n\n        function destroy() {\n            boundElement.show();\n            offsetElement.unbind(\"click.spectrum touchstart.spectrum\");\n            container.remove();\n            replacer.remove();\n            spectrums[spect.id] = null;\n        }\n\n        function option(optionName, optionValue) {\n            if (optionName === undefined) {\n                return $.extend({}, opts);\n            }\n            if (optionValue === undefined) {\n                return opts[optionName];\n            }\n\n            opts[optionName] = optionValue;\n\n            if (optionName === \"preferredFormat\") {\n                currentPreferredFormat = opts.preferredFormat;\n            }\n            applyOptions();\n        }\n\n        function enable() {\n            disabled = false;\n            boundElement.attr(\"disabled\", false);\n            offsetElement.removeClass(\"sp-disabled\");\n        }\n\n        function disable() {\n            hide();\n            disabled = true;\n            boundElement.attr(\"disabled\", true);\n            offsetElement.addClass(\"sp-disabled\");\n        }\n\n        function setOffset(coord) {\n            opts.offset = coord;\n            reflow();\n        }\n\n        initialize();\n\n        var spect = {\n            show: show,\n            hide: hide,\n            toggle: toggle,\n            reflow: reflow,\n            option: option,\n            enable: enable,\n            disable: disable,\n            offset: setOffset,\n            set: function (c) {\n                set(c);\n                updateOriginalInput();\n            },\n            get: get,\n            destroy: destroy,\n            container: container\n        };\n\n        spect.id = spectrums.push(spect) - 1;\n\n        return spect;\n    }\n\n    /**\n    * checkOffset - get the offset below/above and left/right element depending on screen position\n    * Thanks https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.datepicker.js\n    */\n    function getOffset(picker, input) {\n        var extraY = 0;\n        var dpWidth = picker.outerWidth();\n        var dpHeight = picker.outerHeight();\n        var inputHeight = input.outerHeight();\n        var doc = picker[0].ownerDocument;\n        var docElem = doc.documentElement;\n        var viewWidth = docElem.clientWidth + $(doc).scrollLeft();\n        var viewHeight = docElem.clientHeight + $(doc).scrollTop();\n        var offset = input.offset();\n        offset.top += inputHeight;\n\n        offset.left -=\n            Math.min(offset.left, (offset.left + dpWidth > viewWidth && viewWidth > dpWidth) ?\n            Math.abs(offset.left + dpWidth - viewWidth) : 0);\n\n        offset.top -=\n            Math.min(offset.top, ((offset.top + dpHeight > viewHeight && viewHeight > dpHeight) ?\n            Math.abs(dpHeight + inputHeight - extraY) : extraY));\n\n        return offset;\n    }\n\n    /**\n    * noop - do nothing\n    */\n    function noop() {\n\n    }\n\n    /**\n    * stopPropagation - makes the code only doing this a little easier to read in line\n    */\n    function stopPropagation(e) {\n        e.stopPropagation();\n    }\n\n    /**\n    * Create a function bound to a given object\n    * Thanks to underscore.js\n    */\n    function bind(func, obj) {\n        var slice = Array.prototype.slice;\n        var args = slice.call(arguments, 2);\n        return function () {\n            return func.apply(obj, args.concat(slice.call(arguments)));\n        };\n    }\n\n    /**\n    * Lightweight drag helper.  Handles containment within the element, so that\n    * when dragging, the x is within [0,element.width] and y is within [0,element.height]\n    */\n    function draggable(element, onmove, onstart, onstop) {\n        onmove = onmove || function () { };\n        onstart = onstart || function () { };\n        onstop = onstop || function () { };\n        var doc = document;\n        var dragging = false;\n        var offset = {};\n        var maxHeight = 0;\n        var maxWidth = 0;\n        var hasTouch = ('ontouchstart' in window);\n\n        var duringDragEvents = {};\n        duringDragEvents[\"selectstart\"] = prevent;\n        duringDragEvents[\"dragstart\"] = prevent;\n        duringDragEvents[\"touchmove mousemove\"] = move;\n        duringDragEvents[\"touchend mouseup\"] = stop;\n\n        function prevent(e) {\n            if (e.stopPropagation) {\n                e.stopPropagation();\n            }\n            if (e.preventDefault) {\n                e.preventDefault();\n            }\n            e.returnValue = false;\n        }\n\n        function move(e) {\n            if (dragging) {\n                // Mouseup happened outside of window\n                if (IE && doc.documentMode < 9 && !e.button) {\n                    return stop();\n                }\n\n                var t0 = e.originalEvent && e.originalEvent.touches && e.originalEvent.touches[0];\n                var pageX = t0 && t0.pageX || e.pageX;\n                var pageY = t0 && t0.pageY || e.pageY;\n\n                var dragX = Math.max(0, Math.min(pageX - offset.left, maxWidth));\n                var dragY = Math.max(0, Math.min(pageY - offset.top, maxHeight));\n\n                if (hasTouch) {\n                    // Stop scrolling in iOS\n                    prevent(e);\n                }\n\n                onmove.apply(element, [dragX, dragY, e]);\n            }\n        }\n\n        function start(e) {\n            var rightclick = (e.which) ? (e.which == 3) : (e.button == 2);\n\n            if (!rightclick && !dragging) {\n                if (onstart.apply(element, arguments) !== false) {\n                    dragging = true;\n                    maxHeight = $(element).height();\n                    maxWidth = $(element).width();\n                    offset = $(element).offset();\n\n                    $(doc).bind(duringDragEvents);\n                    $(doc.body).addClass(\"sp-dragging\");\n\n                    move(e);\n\n                    prevent(e);\n                }\n            }\n        }\n\n        function stop() {\n            if (dragging) {\n                $(doc).unbind(duringDragEvents);\n                $(doc.body).removeClass(\"sp-dragging\");\n\n                // Wait a tick before notifying observers to allow the click event\n                // to fire in Chrome.\n                setTimeout(function() {\n                    onstop.apply(element, arguments);\n                }, 0);\n            }\n            dragging = false;\n        }\n\n        $(element).bind(\"touchstart mousedown\", start);\n    }\n\n    function throttle(func, wait, debounce) {\n        var timeout;\n        return function () {\n            var context = this, args = arguments;\n            var throttler = function () {\n                timeout = null;\n                func.apply(context, args);\n            };\n            if (debounce) clearTimeout(timeout);\n            if (debounce || !timeout) timeout = setTimeout(throttler, wait);\n        };\n    }\n\n    function inputTypeColorSupport() {\n        return $.fn.spectrum.inputTypeColorSupport();\n    }\n\n    /**\n    * Define a jQuery plugin\n    */\n    var dataID = \"spectrum.id\";\n    $.fn.spectrum = function (opts, extra) {\n\n        if (typeof opts == \"string\") {\n\n            var returnValue = this;\n            var args = Array.prototype.slice.call( arguments, 1 );\n\n            this.each(function () {\n                var spect = spectrums[$(this).data(dataID)];\n                if (spect) {\n                    var method = spect[opts];\n                    if (!method) {\n                        throw new Error( \"Spectrum: no such method: '\" + opts + \"'\" );\n                    }\n\n                    if (opts == \"get\") {\n                        returnValue = spect.get();\n                    }\n                    else if (opts == \"container\") {\n                        returnValue = spect.container;\n                    }\n                    else if (opts == \"option\") {\n                        returnValue = spect.option.apply(spect, args);\n                    }\n                    else if (opts == \"destroy\") {\n                        spect.destroy();\n                        $(this).removeData(dataID);\n                    }\n                    else {\n                        method.apply(spect, args);\n                    }\n                }\n            });\n\n            return returnValue;\n        }\n\n        // Initializing a new instance of spectrum\n        return this.spectrum(\"destroy\").each(function () {\n            var options = $.extend({}, opts, $(this).data());\n            var spect = spectrum(this, options);\n            $(this).data(dataID, spect.id);\n        });\n    };\n\n    $.fn.spectrum.load = true;\n    $.fn.spectrum.loadOpts = {};\n    $.fn.spectrum.draggable = draggable;\n    $.fn.spectrum.defaults = defaultOpts;\n    $.fn.spectrum.inputTypeColorSupport = function inputTypeColorSupport() {\n        if (typeof inputTypeColorSupport._cachedResult === \"undefined\") {\n            var colorInput = $(\"<input type='color'/>\")[0]; // if color element is supported, value will default to not null\n            inputTypeColorSupport._cachedResult = colorInput.type === \"color\" && colorInput.value !== \"\";\n        }\n        return inputTypeColorSupport._cachedResult;\n    };\n\n    $.spectrum = { };\n    $.spectrum.localization = { };\n    $.spectrum.palettes = { };\n\n    $.fn.spectrum.processNativeColorInputs = function () {\n        var colorInputs = $(\"input[type=color]\");\n        if (colorInputs.length && !inputTypeColorSupport()) {\n            colorInputs.spectrum({\n                preferredFormat: \"hex6\"\n            });\n        }\n    };\n\n    // TinyColor v1.1.2\n    // https://github.com/bgrins/TinyColor\n    // Brian Grinstead, MIT License\n\n    (function() {\n\n    var trimLeft = /^[\\s,#]+/,\n        trimRight = /\\s+$/,\n        tinyCounter = 0,\n        math = Math,\n        mathRound = math.round,\n        mathMin = math.min,\n        mathMax = math.max,\n        mathRandom = math.random;\n\n    var tinycolor = function(color, opts) {\n\n        color = (color) ? color : '';\n        opts = opts || { };\n\n        // If input is already a tinycolor, return itself\n        if (color instanceof tinycolor) {\n           return color;\n        }\n        // If we are called as a function, call using new instead\n        if (!(this instanceof tinycolor)) {\n            return new tinycolor(color, opts);\n        }\n\n        var rgb = inputToRGB(color);\n        this._originalInput = color,\n        this._r = rgb.r,\n        this._g = rgb.g,\n        this._b = rgb.b,\n        this._a = rgb.a,\n        this._roundA = mathRound(100*this._a) / 100,\n        this._format = opts.format || rgb.format;\n        this._gradientType = opts.gradientType;\n\n        // Don't let the range of [0,255] come back in [0,1].\n        // Potentially lose a little bit of precision here, but will fix issues where\n        // .5 gets interpreted as half of the total, instead of half of 1\n        // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n        if (this._r < 1) { this._r = mathRound(this._r); }\n        if (this._g < 1) { this._g = mathRound(this._g); }\n        if (this._b < 1) { this._b = mathRound(this._b); }\n\n        this._ok = rgb.ok;\n        this._tc_id = tinyCounter++;\n    };\n\n    tinycolor.prototype = {\n        isDark: function() {\n            return this.getBrightness() < 128;\n        },\n        isLight: function() {\n            return !this.isDark();\n        },\n        isValid: function() {\n            return this._ok;\n        },\n        getOriginalInput: function() {\n          return this._originalInput;\n        },\n        getFormat: function() {\n            return this._format;\n        },\n        getAlpha: function() {\n            return this._a;\n        },\n        getBrightness: function() {\n            var rgb = this.toRgb();\n            return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n        },\n        setAlpha: function(value) {\n            this._a = boundAlpha(value);\n            this._roundA = mathRound(100*this._a) / 100;\n            return this;\n        },\n        toHsv: function() {\n            var hsv = rgbToHsv(this._r, this._g, this._b);\n            return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n        },\n        toHsvString: function() {\n            var hsv = rgbToHsv(this._r, this._g, this._b);\n            var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n            return (this._a == 1) ?\n              \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n              \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n        },\n        toHsl: function() {\n            var hsl = rgbToHsl(this._r, this._g, this._b);\n            return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n        },\n        toHslString: function() {\n            var hsl = rgbToHsl(this._r, this._g, this._b);\n            var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n            return (this._a == 1) ?\n              \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n              \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n        },\n        toHex: function(allow3Char) {\n            return rgbToHex(this._r, this._g, this._b, allow3Char);\n        },\n        toHexString: function(allow3Char) {\n            return '#' + this.toHex(allow3Char);\n        },\n        toHex8: function() {\n            return rgbaToHex(this._r, this._g, this._b, this._a);\n        },\n        toHex8String: function() {\n            return '#' + this.toHex8();\n        },\n        toRgb: function() {\n            return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n        },\n        toRgbString: function() {\n            return (this._a == 1) ?\n              \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n              \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n        },\n        toPercentageRgb: function() {\n            return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n        },\n        toPercentageRgbString: function() {\n            return (this._a == 1) ?\n              \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n              \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n        },\n        toName: function() {\n            if (this._a === 0) {\n                return \"transparent\";\n            }\n\n            if (this._a < 1) {\n                return false;\n            }\n\n            return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n        },\n        toFilter: function(secondColor) {\n            var hex8String = '#' + rgbaToHex(this._r, this._g, this._b, this._a);\n            var secondHex8String = hex8String;\n            var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n            if (secondColor) {\n                var s = tinycolor(secondColor);\n                secondHex8String = s.toHex8String();\n            }\n\n            return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n        },\n        toString: function(format) {\n            var formatSet = !!format;\n            format = format || this._format;\n\n            var formattedString = false;\n            var hasAlpha = this._a < 1 && this._a >= 0;\n            var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"name\");\n\n            if (needsAlphaFormat) {\n                // Special case for \"transparent\", all other non-alpha formats\n                // will return rgba when there is transparency.\n                if (format === \"name\" && this._a === 0) {\n                    return this.toName();\n                }\n                return this.toRgbString();\n            }\n            if (format === \"rgb\") {\n                formattedString = this.toRgbString();\n            }\n            if (format === \"prgb\") {\n                formattedString = this.toPercentageRgbString();\n            }\n            if (format === \"hex\" || format === \"hex6\") {\n                formattedString = this.toHexString();\n            }\n            if (format === \"hex3\") {\n                formattedString = this.toHexString(true);\n            }\n            if (format === \"hex8\") {\n                formattedString = this.toHex8String();\n            }\n            if (format === \"name\") {\n                formattedString = this.toName();\n            }\n            if (format === \"hsl\") {\n                formattedString = this.toHslString();\n            }\n            if (format === \"hsv\") {\n                formattedString = this.toHsvString();\n            }\n\n            return formattedString || this.toHexString();\n        },\n\n        _applyModification: function(fn, args) {\n            var color = fn.apply(null, [this].concat([].slice.call(args)));\n            this._r = color._r;\n            this._g = color._g;\n            this._b = color._b;\n            this.setAlpha(color._a);\n            return this;\n        },\n        lighten: function() {\n            return this._applyModification(lighten, arguments);\n        },\n        brighten: function() {\n            return this._applyModification(brighten, arguments);\n        },\n        darken: function() {\n            return this._applyModification(darken, arguments);\n        },\n        desaturate: function() {\n            return this._applyModification(desaturate, arguments);\n        },\n        saturate: function() {\n            return this._applyModification(saturate, arguments);\n        },\n        greyscale: function() {\n            return this._applyModification(greyscale, arguments);\n        },\n        spin: function() {\n            return this._applyModification(spin, arguments);\n        },\n\n        _applyCombination: function(fn, args) {\n            return fn.apply(null, [this].concat([].slice.call(args)));\n        },\n        analogous: function() {\n            return this._applyCombination(analogous, arguments);\n        },\n        complement: function() {\n            return this._applyCombination(complement, arguments);\n        },\n        monochromatic: function() {\n            return this._applyCombination(monochromatic, arguments);\n        },\n        splitcomplement: function() {\n            return this._applyCombination(splitcomplement, arguments);\n        },\n        triad: function() {\n            return this._applyCombination(triad, arguments);\n        },\n        tetrad: function() {\n            return this._applyCombination(tetrad, arguments);\n        }\n    };\n\n    // If input is an object, force 1 into \"1.0\" to handle ratios properly\n    // String input requires \"1.0\" as input, so 1 will be treated as 1\n    tinycolor.fromRatio = function(color, opts) {\n        if (typeof color == \"object\") {\n            var newColor = {};\n            for (var i in color) {\n                if (color.hasOwnProperty(i)) {\n                    if (i === \"a\") {\n                        newColor[i] = color[i];\n                    }\n                    else {\n                        newColor[i] = convertToPercentage(color[i]);\n                    }\n                }\n            }\n            color = newColor;\n        }\n\n        return tinycolor(color, opts);\n    };\n\n    // Given a string or object, convert that input to RGB\n    // Possible string inputs:\n    //\n    //     \"red\"\n    //     \"#f00\" or \"f00\"\n    //     \"#ff0000\" or \"ff0000\"\n    //     \"#ff000000\" or \"ff000000\"\n    //     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n    //     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n    //     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n    //     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n    //     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n    //     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n    //     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n    //\n    function inputToRGB(color) {\n\n        var rgb = { r: 0, g: 0, b: 0 };\n        var a = 1;\n        var ok = false;\n        var format = false;\n\n        if (typeof color == \"string\") {\n            color = stringInputToObject(color);\n        }\n\n        if (typeof color == \"object\") {\n            if (color.hasOwnProperty(\"r\") && color.hasOwnProperty(\"g\") && color.hasOwnProperty(\"b\")) {\n                rgb = rgbToRgb(color.r, color.g, color.b);\n                ok = true;\n                format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n            }\n            else if (color.hasOwnProperty(\"h\") && color.hasOwnProperty(\"s\") && color.hasOwnProperty(\"v\")) {\n                color.s = convertToPercentage(color.s);\n                color.v = convertToPercentage(color.v);\n                rgb = hsvToRgb(color.h, color.s, color.v);\n                ok = true;\n                format = \"hsv\";\n            }\n            else if (color.hasOwnProperty(\"h\") && color.hasOwnProperty(\"s\") && color.hasOwnProperty(\"l\")) {\n                color.s = convertToPercentage(color.s);\n                color.l = convertToPercentage(color.l);\n                rgb = hslToRgb(color.h, color.s, color.l);\n                ok = true;\n                format = \"hsl\";\n            }\n\n            if (color.hasOwnProperty(\"a\")) {\n                a = color.a;\n            }\n        }\n\n        a = boundAlpha(a);\n\n        return {\n            ok: ok,\n            format: color.format || format,\n            r: mathMin(255, mathMax(rgb.r, 0)),\n            g: mathMin(255, mathMax(rgb.g, 0)),\n            b: mathMin(255, mathMax(rgb.b, 0)),\n            a: a\n        };\n    }\n\n\n    // Conversion Functions\n    // --------------------\n\n    // `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n    // <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n    // `rgbToRgb`\n    // Handle bounds / percentage checking to conform to CSS color spec\n    // <http://www.w3.org/TR/css3-color/>\n    // *Assumes:* r, g, b in [0, 255] or [0, 1]\n    // *Returns:* { r, g, b } in [0, 255]\n    function rgbToRgb(r, g, b){\n        return {\n            r: bound01(r, 255) * 255,\n            g: bound01(g, 255) * 255,\n            b: bound01(b, 255) * 255\n        };\n    }\n\n    // `rgbToHsl`\n    // Converts an RGB color value to HSL.\n    // *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n    // *Returns:* { h, s, l } in [0,1]\n    function rgbToHsl(r, g, b) {\n\n        r = bound01(r, 255);\n        g = bound01(g, 255);\n        b = bound01(b, 255);\n\n        var max = mathMax(r, g, b), min = mathMin(r, g, b);\n        var h, s, l = (max + min) / 2;\n\n        if(max == min) {\n            h = s = 0; // achromatic\n        }\n        else {\n            var d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch(max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n\n            h /= 6;\n        }\n\n        return { h: h, s: s, l: l };\n    }\n\n    // `hslToRgb`\n    // Converts an HSL color value to RGB.\n    // *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n    // *Returns:* { r, g, b } in the set [0, 255]\n    function hslToRgb(h, s, l) {\n        var r, g, b;\n\n        h = bound01(h, 360);\n        s = bound01(s, 100);\n        l = bound01(l, 100);\n\n        function hue2rgb(p, q, t) {\n            if(t < 0) t += 1;\n            if(t > 1) t -= 1;\n            if(t < 1/6) return p + (q - p) * 6 * t;\n            if(t < 1/2) return q;\n            if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n            return p;\n        }\n\n        if(s === 0) {\n            r = g = b = l; // achromatic\n        }\n        else {\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            var p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1/3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1/3);\n        }\n\n        return { r: r * 255, g: g * 255, b: b * 255 };\n    }\n\n    // `rgbToHsv`\n    // Converts an RGB color value to HSV\n    // *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n    // *Returns:* { h, s, v } in [0,1]\n    function rgbToHsv(r, g, b) {\n\n        r = bound01(r, 255);\n        g = bound01(g, 255);\n        b = bound01(b, 255);\n\n        var max = mathMax(r, g, b), min = mathMin(r, g, b);\n        var h, s, v = max;\n\n        var d = max - min;\n        s = max === 0 ? 0 : d / max;\n\n        if(max == min) {\n            h = 0; // achromatic\n        }\n        else {\n            switch(max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n            h /= 6;\n        }\n        return { h: h, s: s, v: v };\n    }\n\n    // `hsvToRgb`\n    // Converts an HSV color value to RGB.\n    // *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n    // *Returns:* { r, g, b } in the set [0, 255]\n     function hsvToRgb(h, s, v) {\n\n        h = bound01(h, 360) * 6;\n        s = bound01(s, 100);\n        v = bound01(v, 100);\n\n        var i = math.floor(h),\n            f = h - i,\n            p = v * (1 - s),\n            q = v * (1 - f * s),\n            t = v * (1 - (1 - f) * s),\n            mod = i % 6,\n            r = [v, q, p, p, t, v][mod],\n            g = [t, v, v, q, p, p][mod],\n            b = [p, p, t, v, v, q][mod];\n\n        return { r: r * 255, g: g * 255, b: b * 255 };\n    }\n\n    // `rgbToHex`\n    // Converts an RGB color to hex\n    // Assumes r, g, and b are contained in the set [0, 255]\n    // Returns a 3 or 6 character hex\n    function rgbToHex(r, g, b, allow3Char) {\n\n        var hex = [\n            pad2(mathRound(r).toString(16)),\n            pad2(mathRound(g).toString(16)),\n            pad2(mathRound(b).toString(16))\n        ];\n\n        // Return a 3 character hex if possible\n        if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n            return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n        }\n\n        return hex.join(\"\");\n    }\n        // `rgbaToHex`\n        // Converts an RGBA color plus alpha transparency to hex\n        // Assumes r, g, b and a are contained in the set [0, 255]\n        // Returns an 8 character hex\n        function rgbaToHex(r, g, b, a) {\n\n            var hex = [\n                pad2(convertDecimalToHex(a)),\n                pad2(mathRound(r).toString(16)),\n                pad2(mathRound(g).toString(16)),\n                pad2(mathRound(b).toString(16))\n            ];\n\n            return hex.join(\"\");\n        }\n\n    // `equals`\n    // Can be called with any tinycolor input\n    tinycolor.equals = function (color1, color2) {\n        if (!color1 || !color2) { return false; }\n        return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n    };\n    tinycolor.random = function() {\n        return tinycolor.fromRatio({\n            r: mathRandom(),\n            g: mathRandom(),\n            b: mathRandom()\n        });\n    };\n\n\n    // Modification Functions\n    // ----------------------\n    // Thanks to less.js for some of the basics here\n    // <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\n    function desaturate(color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.s -= amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return tinycolor(hsl);\n    }\n\n    function saturate(color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.s += amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return tinycolor(hsl);\n    }\n\n    function greyscale(color) {\n        return tinycolor(color).desaturate(100);\n    }\n\n    function lighten (color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.l += amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return tinycolor(hsl);\n    }\n\n    function brighten(color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var rgb = tinycolor(color).toRgb();\n        rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n        rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n        rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n        return tinycolor(rgb);\n    }\n\n    function darken (color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.l -= amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return tinycolor(hsl);\n    }\n\n    // Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n    // Values outside of this range will be wrapped into this range.\n    function spin(color, amount) {\n        var hsl = tinycolor(color).toHsl();\n        var hue = (mathRound(hsl.h) + amount) % 360;\n        hsl.h = hue < 0 ? 360 + hue : hue;\n        return tinycolor(hsl);\n    }\n\n    // Combination Functions\n    // ---------------------\n    // Thanks to jQuery xColor for some of the ideas behind these\n    // <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\n    function complement(color) {\n        var hsl = tinycolor(color).toHsl();\n        hsl.h = (hsl.h + 180) % 360;\n        return tinycolor(hsl);\n    }\n\n    function triad(color) {\n        var hsl = tinycolor(color).toHsl();\n        var h = hsl.h;\n        return [\n            tinycolor(color),\n            tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n            tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n        ];\n    }\n\n    function tetrad(color) {\n        var hsl = tinycolor(color).toHsl();\n        var h = hsl.h;\n        return [\n            tinycolor(color),\n            tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n            tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n            tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n        ];\n    }\n\n    function splitcomplement(color) {\n        var hsl = tinycolor(color).toHsl();\n        var h = hsl.h;\n        return [\n            tinycolor(color),\n            tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n            tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n        ];\n    }\n\n    function analogous(color, results, slices) {\n        results = results || 6;\n        slices = slices || 30;\n\n        var hsl = tinycolor(color).toHsl();\n        var part = 360 / slices;\n        var ret = [tinycolor(color)];\n\n        for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n            hsl.h = (hsl.h + part) % 360;\n            ret.push(tinycolor(hsl));\n        }\n        return ret;\n    }\n\n    function monochromatic(color, results) {\n        results = results || 6;\n        var hsv = tinycolor(color).toHsv();\n        var h = hsv.h, s = hsv.s, v = hsv.v;\n        var ret = [];\n        var modification = 1 / results;\n\n        while (results--) {\n            ret.push(tinycolor({ h: h, s: s, v: v}));\n            v = (v + modification) % 1;\n        }\n\n        return ret;\n    }\n\n    // Utility Functions\n    // ---------------------\n\n    tinycolor.mix = function(color1, color2, amount) {\n        amount = (amount === 0) ? 0 : (amount || 50);\n\n        var rgb1 = tinycolor(color1).toRgb();\n        var rgb2 = tinycolor(color2).toRgb();\n\n        var p = amount / 100;\n        var w = p * 2 - 1;\n        var a = rgb2.a - rgb1.a;\n\n        var w1;\n\n        if (w * a == -1) {\n            w1 = w;\n        } else {\n            w1 = (w + a) / (1 + w * a);\n        }\n\n        w1 = (w1 + 1) / 2;\n\n        var w2 = 1 - w1;\n\n        var rgba = {\n            r: rgb2.r * w1 + rgb1.r * w2,\n            g: rgb2.g * w1 + rgb1.g * w2,\n            b: rgb2.b * w1 + rgb1.b * w2,\n            a: rgb2.a * p  + rgb1.a * (1 - p)\n        };\n\n        return tinycolor(rgba);\n    };\n\n\n    // Readability Functions\n    // ---------------------\n    // <http://www.w3.org/TR/AERT#color-contrast>\n\n    // `readability`\n    // Analyze the 2 colors and returns an object with the following properties:\n    //    `brightness`: difference in brightness between the two colors\n    //    `color`: difference in color/hue between the two colors\n    tinycolor.readability = function(color1, color2) {\n        var c1 = tinycolor(color1);\n        var c2 = tinycolor(color2);\n        var rgb1 = c1.toRgb();\n        var rgb2 = c2.toRgb();\n        var brightnessA = c1.getBrightness();\n        var brightnessB = c2.getBrightness();\n        var colorDiff = (\n            Math.max(rgb1.r, rgb2.r) - Math.min(rgb1.r, rgb2.r) +\n            Math.max(rgb1.g, rgb2.g) - Math.min(rgb1.g, rgb2.g) +\n            Math.max(rgb1.b, rgb2.b) - Math.min(rgb1.b, rgb2.b)\n        );\n\n        return {\n            brightness: Math.abs(brightnessA - brightnessB),\n            color: colorDiff\n        };\n    };\n\n    // `readable`\n    // http://www.w3.org/TR/AERT#color-contrast\n    // Ensure that foreground and background color combinations provide sufficient contrast.\n    // *Example*\n    //    tinycolor.isReadable(\"#000\", \"#111\") => false\n    tinycolor.isReadable = function(color1, color2) {\n        var readability = tinycolor.readability(color1, color2);\n        return readability.brightness > 125 && readability.color > 500;\n    };\n\n    // `mostReadable`\n    // Given a base color and a list of possible foreground or background\n    // colors for that base, returns the most readable color.\n    // *Example*\n    //    tinycolor.mostReadable(\"#123\", [\"#fff\", \"#000\"]) => \"#000\"\n    tinycolor.mostReadable = function(baseColor, colorList) {\n        var bestColor = null;\n        var bestScore = 0;\n        var bestIsReadable = false;\n        for (var i=0; i < colorList.length; i++) {\n\n            // We normalize both around the \"acceptable\" breaking point,\n            // but rank brightness constrast higher than hue.\n\n            var readability = tinycolor.readability(baseColor, colorList[i]);\n            var readable = readability.brightness > 125 && readability.color > 500;\n            var score = 3 * (readability.brightness / 125) + (readability.color / 500);\n\n            if ((readable && ! bestIsReadable) ||\n                (readable && bestIsReadable && score > bestScore) ||\n                ((! readable) && (! bestIsReadable) && score > bestScore)) {\n                bestIsReadable = readable;\n                bestScore = score;\n                bestColor = tinycolor(colorList[i]);\n            }\n        }\n        return bestColor;\n    };\n\n\n    // Big List of Colors\n    // ------------------\n    // <http://www.w3.org/TR/css3-color/#svg-color>\n    var names = tinycolor.names = {\n        aliceblue: \"f0f8ff\",\n        antiquewhite: \"faebd7\",\n        aqua: \"0ff\",\n        aquamarine: \"7fffd4\",\n        azure: \"f0ffff\",\n        beige: \"f5f5dc\",\n        bisque: \"ffe4c4\",\n        black: \"000\",\n        blanchedalmond: \"ffebcd\",\n        blue: \"00f\",\n        blueviolet: \"8a2be2\",\n        brown: \"a52a2a\",\n        burlywood: \"deb887\",\n        burntsienna: \"ea7e5d\",\n        cadetblue: \"5f9ea0\",\n        chartreuse: \"7fff00\",\n        chocolate: \"d2691e\",\n        coral: \"ff7f50\",\n        cornflowerblue: \"6495ed\",\n        cornsilk: \"fff8dc\",\n        crimson: \"dc143c\",\n        cyan: \"0ff\",\n        darkblue: \"00008b\",\n        darkcyan: \"008b8b\",\n        darkgoldenrod: \"b8860b\",\n        darkgray: \"a9a9a9\",\n        darkgreen: \"006400\",\n        darkgrey: \"a9a9a9\",\n        darkkhaki: \"bdb76b\",\n        darkmagenta: \"8b008b\",\n        darkolivegreen: \"556b2f\",\n        darkorange: \"ff8c00\",\n        darkorchid: \"9932cc\",\n        darkred: \"8b0000\",\n        darksalmon: \"e9967a\",\n        darkseagreen: \"8fbc8f\",\n        darkslateblue: \"483d8b\",\n        darkslategray: \"2f4f4f\",\n        darkslategrey: \"2f4f4f\",\n        darkturquoise: \"00ced1\",\n        darkviolet: \"9400d3\",\n        deeppink: \"ff1493\",\n        deepskyblue: \"00bfff\",\n        dimgray: \"696969\",\n        dimgrey: \"696969\",\n        dodgerblue: \"1e90ff\",\n        firebrick: \"b22222\",\n        floralwhite: \"fffaf0\",\n        forestgreen: \"228b22\",\n        fuchsia: \"f0f\",\n        gainsboro: \"dcdcdc\",\n        ghostwhite: \"f8f8ff\",\n        gold: \"ffd700\",\n        goldenrod: \"daa520\",\n        gray: \"808080\",\n        green: \"008000\",\n        greenyellow: \"adff2f\",\n        grey: \"808080\",\n        honeydew: \"f0fff0\",\n        hotpink: \"ff69b4\",\n        indianred: \"cd5c5c\",\n        indigo: \"4b0082\",\n        ivory: \"fffff0\",\n        khaki: \"f0e68c\",\n        lavender: \"e6e6fa\",\n        lavenderblush: \"fff0f5\",\n        lawngreen: \"7cfc00\",\n        lemonchiffon: \"fffacd\",\n        lightblue: \"add8e6\",\n        lightcoral: \"f08080\",\n        lightcyan: \"e0ffff\",\n        lightgoldenrodyellow: \"fafad2\",\n        lightgray: \"d3d3d3\",\n        lightgreen: \"90ee90\",\n        lightgrey: \"d3d3d3\",\n        lightpink: \"ffb6c1\",\n        lightsalmon: \"ffa07a\",\n        lightseagreen: \"20b2aa\",\n        lightskyblue: \"87cefa\",\n        lightslategray: \"789\",\n        lightslategrey: \"789\",\n        lightsteelblue: \"b0c4de\",\n        lightyellow: \"ffffe0\",\n        lime: \"0f0\",\n        limegreen: \"32cd32\",\n        linen: \"faf0e6\",\n        magenta: \"f0f\",\n        maroon: \"800000\",\n        mediumaquamarine: \"66cdaa\",\n        mediumblue: \"0000cd\",\n        mediumorchid: \"ba55d3\",\n        mediumpurple: \"9370db\",\n        mediumseagreen: \"3cb371\",\n        mediumslateblue: \"7b68ee\",\n        mediumspringgreen: \"00fa9a\",\n        mediumturquoise: \"48d1cc\",\n        mediumvioletred: \"c71585\",\n        midnightblue: \"191970\",\n        mintcream: \"f5fffa\",\n        mistyrose: \"ffe4e1\",\n        moccasin: \"ffe4b5\",\n        navajowhite: \"ffdead\",\n        navy: \"000080\",\n        oldlace: \"fdf5e6\",\n        olive: \"808000\",\n        olivedrab: \"6b8e23\",\n        orange: \"ffa500\",\n        orangered: \"ff4500\",\n        orchid: \"da70d6\",\n        palegoldenrod: \"eee8aa\",\n        palegreen: \"98fb98\",\n        paleturquoise: \"afeeee\",\n        palevioletred: \"db7093\",\n        papayawhip: \"ffefd5\",\n        peachpuff: \"ffdab9\",\n        peru: \"cd853f\",\n        pink: \"ffc0cb\",\n        plum: \"dda0dd\",\n        powderblue: \"b0e0e6\",\n        purple: \"800080\",\n        rebeccapurple: \"663399\",\n        red: \"f00\",\n        rosybrown: \"bc8f8f\",\n        royalblue: \"4169e1\",\n        saddlebrown: \"8b4513\",\n        salmon: \"fa8072\",\n        sandybrown: \"f4a460\",\n        seagreen: \"2e8b57\",\n        seashell: \"fff5ee\",\n        sienna: \"a0522d\",\n        silver: \"c0c0c0\",\n        skyblue: \"87ceeb\",\n        slateblue: \"6a5acd\",\n        slategray: \"708090\",\n        slategrey: \"708090\",\n        snow: \"fffafa\",\n        springgreen: \"00ff7f\",\n        steelblue: \"4682b4\",\n        tan: \"d2b48c\",\n        teal: \"008080\",\n        thistle: \"d8bfd8\",\n        tomato: \"ff6347\",\n        turquoise: \"40e0d0\",\n        violet: \"ee82ee\",\n        wheat: \"f5deb3\",\n        white: \"fff\",\n        whitesmoke: \"f5f5f5\",\n        yellow: \"ff0\",\n        yellowgreen: \"9acd32\"\n    };\n\n    // Make it easy to access colors via `hexNames[hex]`\n    var hexNames = tinycolor.hexNames = flip(names);\n\n\n    // Utilities\n    // ---------\n\n    // `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\n    function flip(o) {\n        var flipped = { };\n        for (var i in o) {\n            if (o.hasOwnProperty(i)) {\n                flipped[o[i]] = i;\n            }\n        }\n        return flipped;\n    }\n\n    // Return a valid alpha value [0,1] with all invalid values being set to 1\n    function boundAlpha(a) {\n        a = parseFloat(a);\n\n        if (isNaN(a) || a < 0 || a > 1) {\n            a = 1;\n        }\n\n        return a;\n    }\n\n    // Take input from [0, n] and return it as [0, 1]\n    function bound01(n, max) {\n        if (isOnePointZero(n)) { n = \"100%\"; }\n\n        var processPercent = isPercentage(n);\n        n = mathMin(max, mathMax(0, parseFloat(n)));\n\n        // Automatically convert percentage into number\n        if (processPercent) {\n            n = parseInt(n * max, 10) / 100;\n        }\n\n        // Handle floating point rounding errors\n        if ((math.abs(n - max) < 0.000001)) {\n            return 1;\n        }\n\n        // Convert into [0, 1] range if it isn't already\n        return (n % max) / parseFloat(max);\n    }\n\n    // Force a number between 0 and 1\n    function clamp01(val) {\n        return mathMin(1, mathMax(0, val));\n    }\n\n    // Parse a base-16 hex value into a base-10 integer\n    function parseIntFromHex(val) {\n        return parseInt(val, 16);\n    }\n\n    // Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n    // <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\n    function isOnePointZero(n) {\n        return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n    }\n\n    // Check to see if string passed in is a percentage\n    function isPercentage(n) {\n        return typeof n === \"string\" && n.indexOf('%') != -1;\n    }\n\n    // Force a hex value to have 2 characters\n    function pad2(c) {\n        return c.length == 1 ? '0' + c : '' + c;\n    }\n\n    // Replace a decimal with it's percentage value\n    function convertToPercentage(n) {\n        if (n <= 1) {\n            n = (n * 100) + \"%\";\n        }\n\n        return n;\n    }\n\n    // Converts a decimal to a hex value\n    function convertDecimalToHex(d) {\n        return Math.round(parseFloat(d) * 255).toString(16);\n    }\n    // Converts a hex value to a decimal\n    function convertHexToDecimal(h) {\n        return (parseIntFromHex(h) / 255);\n    }\n\n    var matchers = (function() {\n\n        // <http://www.w3.org/TR/css3-values/#integers>\n        var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n        // <http://www.w3.org/TR/css3-values/#number-value>\n        var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n        // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n        var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n        // Actual matching.\n        // Parentheses and commas are optional, but not required.\n        // Whitespace can take the place of commas or opening paren\n        var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n        var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n        return {\n            rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n            rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n            hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n            hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n            hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n            hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n            hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n            hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n            hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n        };\n    })();\n\n    // `stringInputToObject`\n    // Permissive string parsing.  Take in a number of formats, and output an object\n    // based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\n    function stringInputToObject(color) {\n\n        color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n        var named = false;\n        if (names[color]) {\n            color = names[color];\n            named = true;\n        }\n        else if (color == 'transparent') {\n            return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n        }\n\n        // Try to match string input using regular expressions.\n        // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n        // Just return an object and let the conversion functions handle that.\n        // This way the result will be the same whether the tinycolor is initialized with string or object.\n        var match;\n        if ((match = matchers.rgb.exec(color))) {\n            return { r: match[1], g: match[2], b: match[3] };\n        }\n        if ((match = matchers.rgba.exec(color))) {\n            return { r: match[1], g: match[2], b: match[3], a: match[4] };\n        }\n        if ((match = matchers.hsl.exec(color))) {\n            return { h: match[1], s: match[2], l: match[3] };\n        }\n        if ((match = matchers.hsla.exec(color))) {\n            return { h: match[1], s: match[2], l: match[3], a: match[4] };\n        }\n        if ((match = matchers.hsv.exec(color))) {\n            return { h: match[1], s: match[2], v: match[3] };\n        }\n        if ((match = matchers.hsva.exec(color))) {\n            return { h: match[1], s: match[2], v: match[3], a: match[4] };\n        }\n        if ((match = matchers.hex8.exec(color))) {\n            return {\n                a: convertHexToDecimal(match[1]),\n                r: parseIntFromHex(match[2]),\n                g: parseIntFromHex(match[3]),\n                b: parseIntFromHex(match[4]),\n                format: named ? \"name\" : \"hex8\"\n            };\n        }\n        if ((match = matchers.hex6.exec(color))) {\n            return {\n                r: parseIntFromHex(match[1]),\n                g: parseIntFromHex(match[2]),\n                b: parseIntFromHex(match[3]),\n                format: named ? \"name\" : \"hex\"\n            };\n        }\n        if ((match = matchers.hex3.exec(color))) {\n            return {\n                r: parseIntFromHex(match[1] + '' + match[1]),\n                g: parseIntFromHex(match[2] + '' + match[2]),\n                b: parseIntFromHex(match[3] + '' + match[3]),\n                format: named ? \"name\" : \"hex\"\n            };\n        }\n\n        return false;\n    }\n\n    window.tinycolor = tinycolor;\n    })();\n\n    $(function () {\n        if ($.fn.spectrum.load) {\n            $.fn.spectrum.processNativeColorInputs();\n        }\n    });\n\n});\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.createNumberMask=t():e.createNumberMask=t()}(this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p=\"\",t(0)}([function(e,t,o){e.exports=o(2)},,function(e,t){\"use strict\";function o(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=e.length;if(e===l||e[0]===y[0]&&1===t)return y.split(l).concat([v]).concat(g.split(l));if(e===k&&M)return y.split(l).concat([\"0\",k,v]).concat(g.split(l));var o=e[0]===s&&q;o&&(e=e.toString().substr(1));var c=e.lastIndexOf(k),u=c!==-1,a=void 0,b=void 0,h=void 0;if(e.slice(T*-1)===g&&(e=e.slice(0,T*-1)),u&&(M||$)?(a=e.slice(e.slice(0,R)===y?R:0,c),b=e.slice(c+1,t),b=n(b.replace(f,l))):a=e.slice(0,R)===y?e.slice(R):e,P&&(\"undefined\"==typeof P?\"undefined\":r(P))===p){var S=\".\"===j?\"[.]\":\"\"+j,w=(a.match(new RegExp(S,\"g\"))||[]).length;a=a.slice(0,P+w*Z)}return a=a.replace(f,l),E||(a=a.replace(/^0+(0$|[^0])/,\"$1\")),a=x?i(a,j):a,h=n(a),(u&&M||$===!0)&&(e[c-1]!==k&&h.push(m),h.push(k,m),b&&((\"undefined\"==typeof L?\"undefined\":r(L))===p&&(b=b.slice(0,L)),h=h.concat(b)),$===!0&&e[c-1]===k&&h.push(v)),R>0&&(h=y.split(l).concat(h)),o&&(h.length===R&&h.push(v),h=[d].concat(h)),g.length>0&&(h=h.concat(g.split(l))),h}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.prefix,y=void 0===o?c:o,b=t.suffix,g=void 0===b?l:b,h=t.includeThousandsSeparator,x=void 0===h||h,S=t.thousandsSeparatorSymbol,j=void 0===S?u:S,w=t.allowDecimal,M=void 0!==w&&w,N=t.decimalSymbol,k=void 0===N?a:N,D=t.decimalLimit,L=void 0===D?2:D,O=t.requireDecimal,$=void 0!==O&&O,_=t.allowNegative,q=void 0!==_&&_,B=t.allowLeadingZeroes,E=void 0!==B&&B,I=t.integerLimit,P=void 0===I?null:I,R=y&&y.length||0,T=g&&g.length||0,Z=j&&j.length||0;return e.instanceOf=\"createNumberMask\",e}function n(e){return e.split(l).map(function(e){return v.test(e)?v:e})}function i(e,t){return e.replace(/\\B(?=(\\d{3})+(?!\\d))/g,t)}Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};t.default=o;var c=\"$\",l=\"\",u=\",\",a=\".\",s=\"-\",d=/-/,f=/\\D+/g,p=\"number\",v=/\\d/,m=\"[]\"}])});","//     Underscore.js 1.9.1\n//     http://underscorejs.org\n//     (c) 2009-2018 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` (`self`) in the browser, `global`\n  // on the server, or `this` in some virtual machines. We use `self`\n  // instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self ||\n            typeof global == 'object' && global.global === global && global ||\n            this ||\n            {};\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype;\n  var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push = ArrayProto.push,\n      slice = ArrayProto.slice,\n      toString = ObjProto.toString,\n      hasOwnProperty = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var nativeIsArray = Array.isArray,\n      nativeKeys = Object.keys,\n      nativeCreate = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for their old module API. If we're in\n  // the browser, add `_` as a global object.\n  // (`nodeType` is checked to ensure that `module`\n  // and `exports` are not HTML elements.)\n  if (typeof exports != 'undefined' && !exports.nodeType) {\n    if (typeof module != 'undefined' && !module.nodeType && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.9.1';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      // The 2-argument case is omitted because were not using it.\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  var builtinIteratee;\n\n  // An internal function to generate callbacks that can be applied to each\n  // element in a collection, returning the desired result  either `identity`,\n  // an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (_.iteratee !== builtinIteratee) return _.iteratee(value, context);\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value) && !_.isArray(value)) return _.matcher(value);\n    return _.property(value);\n  };\n\n  // External wrapper for our callback generator. Users may customize\n  // `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n  // This abstraction hides the internal-only argCount argument.\n  _.iteratee = builtinIteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // Some functions take a variable number of arguments, or a few expected\n  // arguments at the beginning and then a variable number of values to operate\n  // on. This helper accumulates all remaining arguments past the functions\n  // argument length (or an explicit `startIndex`), into an array that becomes\n  // the last argument. Similar to ES6s \"rest parameter\".\n  var restArguments = function(func, startIndex) {\n    startIndex = startIndex == null ? func.length - 1 : +startIndex;\n    return function() {\n      var length = Math.max(arguments.length - startIndex, 0),\n          rest = Array(length),\n          index = 0;\n      for (; index < length; index++) {\n        rest[index] = arguments[index + startIndex];\n      }\n      switch (startIndex) {\n        case 0: return func.call(this, rest);\n        case 1: return func.call(this, arguments[0], rest);\n        case 2: return func.call(this, arguments[0], arguments[1], rest);\n      }\n      var args = Array(startIndex + 1);\n      for (index = 0; index < startIndex; index++) {\n        args[index] = arguments[index];\n      }\n      args[startIndex] = rest;\n      return func.apply(this, args);\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var shallowProperty = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  var has = function(obj, path) {\n    return obj != null && hasOwnProperty.call(obj, path);\n  }\n\n  var deepGet = function(obj, path) {\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      if (obj == null) return void 0;\n      obj = obj[path[i]];\n    }\n    return length ? obj : void 0;\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object.\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = shallowProperty('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  var createReduce = function(dir) {\n    // Wrap code that reassigns argument variables in a separate function than\n    // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n    var reducer = function(obj, iteratee, memo, initial) {\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      if (!initial) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    };\n\n    return function(obj, iteratee, memo, context) {\n      var initial = arguments.length >= 3;\n      return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n    };\n  };\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var keyFinder = isArrayLike(obj) ? _.findIndex : _.findKey;\n    var key = keyFinder(obj, predicate, context);\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = restArguments(function(obj, path, args) {\n    var contextPath, func;\n    if (_.isFunction(path)) {\n      func = path;\n    } else if (_.isArray(path)) {\n      contextPath = path.slice(0, -1);\n      path = path[path.length - 1];\n    }\n    return _.map(obj, function(context) {\n      var method = func;\n      if (!method) {\n        if (contextPath && contextPath.length) {\n          context = deepGet(context, contextPath);\n        }\n        if (context == null) return void 0;\n        method = context[path];\n      }\n      return method == null ? method : method.apply(context, args);\n    });\n  });\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection.\n  _.shuffle = function(obj) {\n    return _.sample(obj, Infinity);\n  };\n\n  // Sample **n** random values from a collection using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    var sample = isArrayLike(obj) ? _.clone(obj) : _.values(obj);\n    var length = getLength(sample);\n    n = Math.max(Math.min(n, length), 0);\n    var last = length - 1;\n    for (var index = 0; index < n; index++) {\n      var rand = _.random(index, last);\n      var temp = sample[index];\n      sample[index] = sample[rand];\n      sample[rand] = temp;\n    }\n    return sample.slice(0, n);\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    var index = 0;\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, key, list) {\n      return {\n        value: value,\n        index: index++,\n        criteria: iteratee(value, key, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior, partition) {\n    return function(obj, iteratee, context) {\n      var result = partition ? [[], []] : {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  var reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (_.isString(obj)) {\n      // Keep surrogate pair characters together\n      return obj.match(reStrSymbol);\n    }\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = group(function(result, value, pass) {\n    result[pass ? 0 : 1].push(value);\n  }, true);\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, Boolean);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, output) {\n    output = output || [];\n    var idx = output.length;\n    for (var i = 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        // Flatten current level of array or arguments object.\n        if (shallow) {\n          var j = 0, len = value.length;\n          while (j < len) output[idx++] = value[j++];\n        } else {\n          flatten(value, shallow, strict, output);\n          idx = output.length;\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = restArguments(function(array, otherArrays) {\n    return _.difference(array, otherArrays);\n  });\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // The faster algorithm will not work with an iteratee if the iteratee\n  // is not a one-to-one function, so providing an iteratee will disable\n  // the faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted && !iteratee) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = restArguments(function(arrays) {\n    return _.uniq(flatten(arrays, true, true));\n  });\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      var j;\n      for (j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = restArguments(function(array, rest) {\n    rest = flatten(rest, true, true);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  });\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices.\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = restArguments(_.unzip);\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values. Passing by pairs is the reverse of _.pairs.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions.\n  var createPredicateIndexFinder = function(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  };\n\n  // Returns the first index on an array-like that passes a predicate test.\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions.\n  var createIndexFinder = function(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n          i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n          length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  };\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    if (!step) {\n      step = stop < start ? -1 : 1;\n    }\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Chunk a single array into multiple arrays, each containing `count` or fewer\n  // items.\n  _.chunk = function(array, count) {\n    if (count == null || count < 1) return [];\n    var result = [];\n    var i = 0, length = array.length;\n    while (i < length) {\n      result.push(slice.call(array, i, i += count));\n    }\n    return result;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments.\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = restArguments(function(func, context, args) {\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var bound = restArguments(function(callArgs) {\n      return executeBound(func, bound, context, this, args.concat(callArgs));\n    });\n    return bound;\n  });\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder by default, allowing any combination of arguments to be\n  // pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\n  _.partial = restArguments(function(func, boundArgs) {\n    var placeholder = _.partial.placeholder;\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  });\n\n  _.partial.placeholder = _;\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = restArguments(function(obj, keys) {\n    keys = flatten(keys, false, false);\n    var index = keys.length;\n    if (index < 1) throw new Error('bindAll must be passed function names');\n    while (index--) {\n      var key = keys[index];\n      obj[key] = _.bind(obj[key], obj);\n    }\n  });\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = restArguments(function(func, wait, args) {\n    return setTimeout(function() {\n      return func.apply(null, args);\n    }, wait);\n  });\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options) options = {};\n\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n\n    var throttled = function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n\n    throttled.cancel = function() {\n      clearTimeout(timeout);\n      previous = 0;\n      timeout = context = args = null;\n    };\n\n    return throttled;\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, result;\n\n    var later = function(context, args) {\n      timeout = null;\n      if (args) result = func.apply(context, args);\n    };\n\n    var debounced = restArguments(function(args) {\n      if (timeout) clearTimeout(timeout);\n      if (immediate) {\n        var callNow = !timeout;\n        timeout = setTimeout(later, wait);\n        if (callNow) result = func.apply(this, args);\n      } else {\n        timeout = _.delay(later, wait, this, args);\n      }\n\n      return result;\n    });\n\n    debounced.cancel = function() {\n      clearTimeout(timeout);\n      timeout = null;\n    };\n\n    return debounced;\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  _.restArguments = restArguments;\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n    'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  var collectNonEnumProps = function(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = _.isFunction(constructor) && constructor.prototype || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  };\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`.\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object.\n  // In contrast to _.map it returns an object.\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = _.keys(obj),\n        length = keys.length,\n        results = {};\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys[index];\n      results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  // The opposite of _.object.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`.\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, defaults) {\n    return function(obj) {\n      var length = arguments.length;\n      if (defaults) obj = Object(obj);\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!defaults || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s).\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test.\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Internal pick helper function to determine if `obj` has key `key`.\n  var keyInObj = function(value, key, obj) {\n    return key in obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = restArguments(function(obj, keys) {\n    var result = {}, iteratee = keys[0];\n    if (obj == null) return result;\n    if (_.isFunction(iteratee)) {\n      if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n      keys = _.allKeys(obj);\n    } else {\n      iteratee = keyInObj;\n      keys = flatten(keys, false, false);\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  });\n\n  // Return a copy of the object without the blacklisted properties.\n  _.omit = restArguments(function(obj, keys) {\n    var iteratee = keys[0], context;\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n      if (keys.length > 1) context = keys[1];\n    } else {\n      keys = _.map(flatten(keys, false, false), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  });\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq, deepEq;\n  eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // `null` or `undefined` only equal to itself (strict comparison).\n    if (a == null || b == null) return false;\n    // `NaN`s are equivalent, but non-reflexive.\n    if (a !== a) return b !== b;\n    // Exhaust primitive checks\n    var type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n    return deepEq(a, b, aStack, bStack);\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  deepEq = function(a, b, aStack, bStack) {\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN.\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n      case '[object Symbol]':\n        return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError, isMap, isWeakMap, isSet, isWeakSet.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error', 'Symbol', 'Map', 'WeakMap', 'Set', 'WeakSet'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\n  var nodelist = root.document && root.document.childNodes;\n  if (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return !_.isSymbol(obj) && isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`?\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && isNaN(obj);\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, path) {\n    if (!_.isArray(path)) {\n      return has(obj, path);\n    }\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      var key = path[i];\n      if (obj == null || !hasOwnProperty.call(obj, key)) {\n        return false;\n      }\n      obj = obj[key];\n    }\n    return !!length;\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  // Creates a function that, when passed an object, will traverse that objects\n  // properties down the given `path`, specified as an array of keys or indexes.\n  _.property = function(path) {\n    if (!_.isArray(path)) {\n      return shallowProperty(path);\n    }\n    return function(obj) {\n      return deepGet(obj, path);\n    };\n  };\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    if (obj == null) {\n      return function(){};\n    }\n    return function(path) {\n      return !_.isArray(path) ? obj[path] : deepGet(obj, path);\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n  // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped.\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // Traverses the children of `obj` along `path`. If a child is a function, it\n  // is invoked with its parent as context. Returns the value of the final\n  // child, or `fallback` if any child is undefined.\n  _.result = function(obj, path, fallback) {\n    if (!_.isArray(path)) path = [path];\n    var length = path.length;\n    if (!length) {\n      return _.isFunction(fallback) ? fallback.call(obj) : fallback;\n    }\n    for (var i = 0; i < length; i++) {\n      var prop = obj == null ? void 0 : obj[path[i]];\n      if (prop === void 0) {\n        prop = fallback;\n        i = length; // Ensure we don't continue iterating.\n      }\n      obj = _.isFunction(prop) ? prop.call(obj) : prop;\n    }\n    return obj;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offset.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    var render;\n    try {\n      render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var chainResult = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return chainResult(this, func.apply(_, args));\n      };\n    });\n    return _;\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return chainResult(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return chainResult(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return String(this._wrapped);\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define == 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}());\n","module.exports = global[\"_\"] = require(\"-!.\\\\underscore.js\");","!function(e,r){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define([],r):\"object\"==typeof exports?exports.vanillaTextMask=r():e.vanillaTextMask=r()}(this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p=\"\",r(0)}([function(e,r,t){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var r=e.inputElement,t=(0,u.default)(e),n=function(e){var r=e.target.value;return t.update(r)};return r.addEventListener(\"input\",n),t.update(r.value),{textMaskInputElement:t,destroy:function(){r.removeEventListener(\"input\",n)}}}Object.defineProperty(r,\"__esModule\",{value:!0}),r.conformToMask=void 0,r.maskInput=o;var i=t(2);Object.defineProperty(r,\"conformToMask\",{enumerable:!0,get:function(){return n(i).default}});var a=t(5),u=n(a);r.default=o},function(e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.placeholderChar=\"_\",r.strFunction=\"function\"},function(e,r,t){\"use strict\";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,i.isArray)(r)){if((\"undefined\"==typeof r?\"undefined\":o(r))!==a.strFunction)throw new Error(\"Text-mask:conformToMask; The mask property must be an array.\");r=r(e,t),r=(0,i.processCaretTraps)(r).maskWithoutCaretTraps}var n=t.guide,s=void 0===n||n,f=t.previousConformedValue,d=void 0===f?l:f,c=t.placeholderChar,p=void 0===c?a.placeholderChar:c,v=t.placeholder,h=void 0===v?(0,i.convertMaskToPlaceholder)(r,p):v,m=t.currentCaretPosition,y=t.keepCharPositions,g=s===!1&&void 0!==d,b=e.length,C=d.length,k=h.length,x=r.length,P=b-C,T=P>0,O=m+(T?-P:0),M=O+Math.abs(P);if(y===!0&&!T){for(var w=l,S=O;S<M;S++)h[S]===p&&(w+=p);e=e.slice(0,O)+w+e.slice(O,b)}for(var _=e.split(l).map(function(e,r){return{char:e,isNew:r>=O&&r<M}}),j=b-1;j>=0;j--){var V=_[j].char;if(V!==p){var A=j>=O&&C===x;V===h[A?j-P:j]&&_.splice(j,1)}}var E=l,N=!1;e:for(var F=0;F<k;F++){var I=h[F];if(I===p){if(_.length>0)for(;_.length>0;){var L=_.shift(),R=L.char,J=L.isNew;if(R===p&&g!==!0){E+=p;continue e}if(r[F].test(R)){if(y===!0&&J!==!1&&d!==l&&s!==!1&&T){for(var W=_.length,q=null,z=0;z<W;z++){var B=_[z];if(B.char!==p&&B.isNew===!1)break;if(B.char===p){q=z;break}}null!==q?(E+=R,_.splice(q,1)):F--}else E+=R;continue e}N=!0}g===!1&&(E+=h.substr(F,k));break}E+=I}if(g&&T===!1){for(var D=null,G=0;G<E.length;G++)h[G]===p&&(D=G);E=null!==D?E.substr(0,D+1):l}return{conformedValue:E,meta:{someCharsRejected:N}}}Object.defineProperty(r,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};r.default=n;var i=t(3),a=t(1),u=[],l=\"\"},function(e,r,t){\"use strict\";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.placeholderChar;if(!o(e))throw new Error(\"Text-mask:convertMaskToPlaceholder; The mask property must be an array.\");if(e.indexOf(r)!==-1)throw new Error(\"Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\\n\\n\"+(\"The placeholder character that was received is: \"+JSON.stringify(r)+\"\\n\\n\")+(\"The mask that was received is: \"+JSON.stringify(e)));return e.map(function(e){return e instanceof RegExp?r:e}).join(\"\")}function o(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}function i(e){return\"string\"==typeof e||e instanceof String}function a(e){return\"number\"==typeof e&&void 0===e.length&&!isNaN(e)}function u(e){for(var r=[],t=void 0;t=e.indexOf(f),t!==-1;)r.push(t),e.splice(t,1);return{maskWithoutCaretTraps:e,indexes:r}}Object.defineProperty(r,\"__esModule\",{value:!0}),r.convertMaskToPlaceholder=n,r.isArray=o,r.isString=i,r.isNumber=a,r.processCaretTraps=u;var l=t(1),s=[],f=\"[]\"},function(e,r){\"use strict\";function t(e){var r=e.previousConformedValue,t=void 0===r?o:r,i=e.previousPlaceholder,a=void 0===i?o:i,u=e.currentCaretPosition,l=void 0===u?0:u,s=e.conformedValue,f=e.rawValue,d=e.placeholderChar,c=e.placeholder,p=e.indexesOfPipedChars,v=void 0===p?n:p,h=e.caretTrapIndexes,m=void 0===h?n:h;if(0===l||!f.length)return 0;var y=f.length,g=t.length,b=c.length,C=s.length,k=y-g,x=k>0,P=0===g,T=k>1&&!x&&!P;if(T)return l;var O=x&&(t===s||s===c),M=0,w=void 0,S=void 0;if(O)M=l-k;else{var _=s.toLowerCase(),j=f.toLowerCase(),V=j.substr(0,l).split(o),A=V.filter(function(e){return _.indexOf(e)!==-1});S=A[A.length-1];var E=a.substr(0,A.length).split(o).filter(function(e){return e!==d}).length,N=c.substr(0,A.length).split(o).filter(function(e){return e!==d}).length,F=N!==E,I=void 0!==a[A.length-1]&&void 0!==c[A.length-2]&&a[A.length-1]!==d&&a[A.length-1]!==c[A.length-1]&&a[A.length-1]===c[A.length-2];!x&&(F||I)&&E>0&&c.indexOf(S)>-1&&void 0!==f[l]&&(w=!0,S=f[l]);for(var L=v.map(function(e){return _[e]}),R=L.filter(function(e){return e===S}).length,J=A.filter(function(e){return e===S}).length,W=c.substr(0,c.indexOf(d)).split(o).filter(function(e,r){return e===S&&f[r]!==e}).length,q=W+J+R+(w?1:0),z=0,B=0;B<C;B++){var D=_[B];if(M=B+1,D===S&&z++,z>=q)break}}if(x){for(var G=M,H=M;H<=b;H++)if(c[H]===d&&(G=H),c[H]===d||m.indexOf(H)!==-1||H===b)return G}else if(w){for(var K=M-1;K>=0;K--)if(s[K]===S||m.indexOf(K)!==-1||0===K)return K}else for(var Q=M;Q>=0;Q--)if(c[Q-1]===d||m.indexOf(Q)!==-1||0===Q)return Q}Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=t;var n=[],o=\"\"},function(e,r,t){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var r={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:r,update:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=n.inputElement,s=n.mask,d=n.guide,m=n.pipe,g=n.placeholderChar,b=void 0===g?v.placeholderChar:g,C=n.keepCharPositions,k=void 0!==C&&C,x=n.showMask,P=void 0!==x&&x;if(\"undefined\"==typeof t&&(t=o.value),t!==r.previousConformedValue){(\"undefined\"==typeof s?\"undefined\":l(s))===y&&void 0!==s.pipe&&void 0!==s.mask&&(m=s.pipe,s=s.mask);var T=void 0,O=void 0;if(s instanceof Array&&(T=(0,p.convertMaskToPlaceholder)(s,b)),s!==!1){var M=a(t),w=o.selectionEnd,S=r.previousConformedValue,_=r.previousPlaceholder,j=void 0;if((\"undefined\"==typeof s?\"undefined\":l(s))===v.strFunction){if(O=s(M,{currentCaretPosition:w,previousConformedValue:S,placeholderChar:b}),O===!1)return;var V=(0,p.processCaretTraps)(O),A=V.maskWithoutCaretTraps,E=V.indexes;O=A,j=E,T=(0,p.convertMaskToPlaceholder)(O,b)}else O=s;var N={previousConformedValue:S,guide:d,placeholderChar:b,pipe:m,placeholder:T,currentCaretPosition:w,keepCharPositions:k},F=(0,c.default)(M,O,N),I=F.conformedValue,L=(\"undefined\"==typeof m?\"undefined\":l(m))===v.strFunction,R={};L&&(R=m(I,u({rawValue:M},N)),R===!1?R={value:S,rejected:!0}:(0,p.isString)(R)&&(R={value:R}));var J=L?R.value:I,W=(0,f.default)({previousConformedValue:S,previousPlaceholder:_,conformedValue:J,placeholder:T,rawValue:M,currentCaretPosition:w,placeholderChar:b,indexesOfPipedChars:R.indexesOfPipedChars,caretTrapIndexes:j}),q=J===T&&0===W,z=P?T:h,B=q?z:J;r.previousConformedValue=B,r.previousPlaceholder=T,o.value!==B&&(o.value=B,i(o,W))}}}}}function i(e,r){document.activeElement===e&&(g?b(function(){return e.setSelectionRange(r,r,m)},0):e.setSelectionRange(r,r,m))}function a(e){if((0,p.isString)(e))return e;if((0,p.isNumber)(e))return String(e);if(void 0===e||null===e)return h;throw new Error(\"The 'value' provided to Text Mask needs to be a string or a number. The value received was:\\n\\n \"+JSON.stringify(e))}Object.defineProperty(r,\"__esModule\",{value:!0});var u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};r.default=o;var s=t(4),f=n(s),d=t(2),c=n(d),p=t(3),v=t(1),h=\"\",m=\"none\",y=\"object\",g=\"undefined\"!=typeof navigator&&/Android/i.test(navigator.userAgent),b=\"undefined\"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])});","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","//@flow\r\nimport AjaxService from './services/AjaxService';\r\nimport GlobalEventService from './services/GlobalEventService';\r\nimport UserService from './services/UserService';\r\nimport WindowService from './services/WindowService';\r\nimport LocalizationService from './services/LocalizationService';\r\nimport CTEventsService from './services/CTEventsService';\r\nimport WebSocketService from './services/WebSocketService';\r\nimport RoutingService from './services/RoutingService';\r\nimport ToastNotificationService from './services/ToastNotificationService';\r\nimport InterfaceErrorMessageService from './services/InterfaceErrorMessageService';\r\nimport MobileService from './services/MobileService';\r\nimport ThemeService from './services/ThemeService';\r\n\r\nimport 'backbone.trackit';\r\n\r\nexport default {\r\n    start(options) {\r\n        const marionetteApp = new Marionette.Application();\r\n        window.application = marionetteApp;\r\n\r\n        marionetteApp.ui = options.ui;\r\n        marionetteApp.registerAppModule = options.registerAppModule;\r\n\r\n        GlobalEventService.initialize();\r\n        InterfaceErrorMessageService.initialize();\r\n\r\n        const toastNotificationRegion = options.toastNotificationRegion;\r\n\r\n        if (toastNotificationRegion) {\r\n            ToastNotificationService.initialize({\r\n                toastNotificationRegion\r\n            });\r\n        }\r\n\r\n        if (options.moduleConfiguration) {\r\n            options.moduleConfiguration.ModuleService.initialize({ modules: options.routerConfiguration.modules });\r\n        }\r\n\r\n        options.userService && UserService.initialize(options.userService);\r\n        WindowService.initialize();\r\n        LocalizationService.initialize(options.localizationService);\r\n        AjaxService.load(options.ajaxService);\r\n        marionetteApp.defaultContentView = options.contentView;\r\n        marionetteApp.options = options;\r\n\r\n        const langCode = options.localizationService.langCode;\r\n\r\n        moment.locale(langCode);\r\n\r\n        CTEventsService.initialize();\r\n        MobileService.initialize();\r\n\r\n        if (options.navigationConfiguration) {\r\n            marionetteApp.navigationController = new options.navigationConfiguration.controller({\r\n                context: options.navigationConfiguration.context,\r\n                configurationKey: options.navigationConfiguration.configurationKey\r\n            });\r\n\r\n            RoutingService.initialize({\r\n                defaultUrl: window.application.navigationController.getDefaultUrl(),\r\n                modules: options.routerConfiguration.modules\r\n            });\r\n        }\r\n\r\n        if (options.webSocketConfiguration && options.webSocketConfiguration.activateOnStart) {\r\n            WebSocketService.initialize({ url: options.webSocketConfiguration.url });\r\n        }\r\n\r\n        // Backbone default behaviors path (obsolete because of inconsistency: we store behaviors in many different paths)\r\n        Backbone.Marionette.Behaviors.behaviorsLookup = options.behaviors;\r\n\r\n        //this.initializeThirdParties();\r\n        marionetteApp.start();\r\n\r\n        options.serviceInitializer && options.serviceInitializer.apply(marionetteApp);\r\n\r\n        ThemeService.initialize(options.themeService);\r\n\r\n        return marionetteApp;\r\n    },\r\n\r\n    initializeThirdParties() {\r\n        $.fn.datetimepicker.dates[LocalizationService.langCode] = {\r\n            days: LocalizationService.get('CORE.FORMATS.DATETIME.DAYSFULL').split(','), //[\"Sunday\", \"Monday\", ... ]\r\n            daysShort: LocalizationService.get('CORE.FORMATS.DATETIME.DAYSSHORT').split(','), //[\"Sun\", \"Mon\", ... ],\r\n            daysMin: LocalizationService.get('CORE.FORMATS.DATETIME.DAYSSHORT').split(','),\r\n            months: LocalizationService.get('CORE.FORMATS.DATETIME.MONTHS').split(','), //[\"January\", \"February\", ... ]\r\n            monthsShort: LocalizationService.get('CORE.FORMATS.DATETIME.MONTHSSHORT').split(','), //[\"Jan\", \"Feb\", ... ]\r\n            today: LocalizationService.get('CORE.FORMATS.DATETIME.TODAY'),\r\n            meridiem: LocalizationService.get('CORE.FORMATS.DATETIME.MERIDIEM').split(',')\r\n        };\r\n    }\r\n};\r\n","//@flow\r\nexport const objectPropertyTypes = {\r\n    STRING: 'String',\r\n    BOOLEAN: 'Boolean',\r\n    DATETIME: 'DateTime',\r\n    DURATION: 'Duration',\r\n    DECIMAL: 'Decimal',\r\n    INTEGER: 'Integer',\r\n    DOUBLE: 'Double',\r\n    ACCOUNT: 'Account',\r\n    DOCUMENT: 'Document',\r\n    INSTANCE: 'Instance',\r\n    COLLECTION: 'Collection',\r\n    ENUM: 'Enum'\r\n};\r\n\r\nexport const presentingComponentsTypes = {\r\n    form: 'form',\r\n    popup: 'popup',\r\n    group: 'group',\r\n    field: 'field',\r\n    tab: 'tab'\r\n};\r\n\r\nexport default {\r\n    objectPropertyTypes,\r\n    presentingComponentsTypes\r\n};\r\n","// @flow\r\n/*eslint-disable*/\r\n/**\r\n * @name SlidingWindowCollection\r\n * @memberof module:core.collections\r\n * @class -,     Backbone- ( ).\r\n * @constructor\r\n * @extends Backbone.Collection\r\n * @param {Object} options  .\r\n * @param {Number} [options.position=0]    .\r\n * @param {Number} [options.windowSize=0]     ( ).\r\n * */\r\n\r\nconst SlidingWindowCollection = Backbone.Collection.extend(/** @lends module:core.collections.SlidingWindowCollection.prototype */ {\r\n    constructor(collection, options = {}) {\r\n        this.parentCollection = collection;\r\n        this.innerCollection = new Backbone.Collection();\r\n\r\n        //noinspection JSUnresolvedVariable,JSHint\r\n        options.close_with && this.__bindLifecycle(options.close_with, 'close');\r\n        //noinspection JSUnresolvedVariable,JSHint\r\n        options.destroy_with && this.__bindLifecycle(options.destroy_with, 'destroy');\r\n\r\n        this.state = {\r\n            position: options.position || 0,\r\n            windowSize: options.windowSize || 0\r\n        };\r\n\r\n        this.__rebuildModels();\r\n\r\n        this.listenTo(collection, 'add', this.__onAdd);\r\n        this.listenTo(collection, 'remove', this.__onRemove);\r\n        this.listenTo(collection, 'reset', this.__onReset);\r\n        this.listenTo(collection, 'sort', this.__onSort);\r\n\r\n        [ 'add', 'remove', 'reset', 'sort' ].forEach(eventName => {\r\n            this.listenTo(this.innerCollection, eventName, function() {\r\n                const args = Array.from(arguments);\r\n                args.unshift(eventName);\r\n                this.trigger.apply(this, args);\r\n            });\r\n        });\r\n\r\n        this.initialize.apply(this, arguments);\r\n    },\r\n\r\n    __rebuildModels(options = {}) {\r\n        const newModels = this.parentCollection.chain().rest(this.state.position).first(this.state.windowSize).value();\r\n        this.innerCollection.reset(newModels, Object.assign(options, { silent: true }));\r\n        this.models = this.innerCollection.models;\r\n        this.length = this.innerCollection.length;\r\n        this.trigger('reset', this, _.clone(options));\r\n        if (this.models.length !== newModels.length) {\r\n            throw new Error('SlidingWindowCollection size mismatch: does parent collection have models with duplicated id?');\r\n        }\r\n    },\r\n\r\n    __buildModelsInternal(list) {\r\n        for (let i = 0, len = list.length; i < len; i++) {\r\n            const model = list.at(i);\r\n            this.models.push(model);\r\n            model.collection = this;\r\n            this._byId[model.cid] = model;\r\n            if (model.id) {\r\n                this._byId[model.id] = model;\r\n            }\r\n            //noinspection JSHint\r\n            !model.collapsed && model.children && this.__buildModelsInternal(model.children);\r\n        }\r\n        this.length = this.models.length;\r\n    },\r\n\r\n    __bindLifecycle(view, methodName) {\r\n        view.on(methodName, _.bind(this.stopListening, this));\r\n    },\r\n\r\n    __onSort(collection, options) {\r\n        this.__rebuildModels(options);\r\n    },\r\n\r\n    __onAdd(model, collection, options) {\r\n        this.__rebuildModels(options);\r\n    },\r\n\r\n    __onRemove(model, collection, options) {\r\n        this.__rebuildModels(options);\r\n    },\r\n\r\n    __onReset(collection, options) {\r\n        this.__rebuildModels(options);\r\n    },\r\n\r\n    sort(options) {\r\n        this.parentCollection.sort(options);\r\n    },\r\n\r\n    /**\r\n     *    \r\n     * @param {Number} newWindowSize    \r\n     * */\r\n    updateWindowSize(newWindowSize) {\r\n        if (this.state.windowSize !== newWindowSize) {\r\n            this.state.windowSize = newWindowSize;\r\n            this.__rebuildModels();\r\n        }\r\n    },\r\n\r\n    /**\r\n     *    \r\n     * @param {Number} newPosition    \r\n     * */\r\n    updatePosition(newPosition) {\r\n        if (this.state.windowSize === undefined) {\r\n            throw 'updatePosition() has been called before setting window size';\r\n        }\r\n\r\n        newPosition = this.__normalizePosition(newPosition);\r\n        if (newPosition === this.state.position) {\r\n            return newPosition;\r\n        }\r\n\r\n        const actualWindowSize = this.innerCollection.length;\r\n        const delta = newPosition - this.state.position;\r\n        let oldValues;\r\n        let newValues;\r\n        if (Math.abs(delta) < actualWindowSize) {\r\n            // update collection via add/remove\r\n            if (delta > 0) {\r\n                oldValues = this.innerCollection.first(delta);\r\n                this.length -= oldValues.length;\r\n                this.innerCollection.remove(oldValues);\r\n                newValues = this.parentCollection.chain().rest(this.state.position + actualWindowSize).first(delta).value();\r\n                this.length += newValues.length;\r\n                this.innerCollection.add(newValues);\r\n            } else {\r\n                if (this.length >= this.state.windowSize) {\r\n                    oldValues = this.innerCollection.last(-delta);\r\n                    this.length -= oldValues.length;\r\n                    this.innerCollection.remove(oldValues);\r\n                }\r\n\r\n                newValues = this.parentCollection.chain().rest(newPosition).first(-delta).value();\r\n                this.length += newValues.length;\r\n                this.innerCollection.add(newValues, {\r\n                    at: 0\r\n                });\r\n            }\r\n            this.state.position = newPosition;\r\n        } else {\r\n            this.state.position = newPosition;\r\n            this.__rebuildModels();\r\n        }\r\n\r\n        return newPosition;\r\n    },\r\n\r\n    __normalizePosition(position) {\r\n        const maxPos = Math.max(0, this.parentCollection.length - 1);\r\n        return Math.max(0, Math.min(maxPos, position));\r\n    }\r\n});\r\n\r\n// methods that alter data should proxy to the parent collection\r\n['add', 'remove', 'set', 'reset', 'push', 'pop', 'unshift', 'shift', 'slice', 'sync', 'fetch'].forEach(methodName => {\r\n    SlidingWindowCollection.prototype[methodName] = function() {\r\n        return this.parentCollection[methodName].apply(this.parentCollection, Array.from(arguments));\r\n    };\r\n});\r\n\r\n// methods that retrieves data should proxy to the inner collection\r\n['each', 'at', 'get', 'filter', 'map'].forEach(methodName => {\r\n    SlidingWindowCollection.prototype[methodName] = function() {\r\n        return this.innerCollection[methodName].apply(this.innerCollection, Array.from(arguments));\r\n    };\r\n});\r\n\r\n_.extend(SlidingWindowCollection.prototype, Backbone.Events);\r\n\r\nexport default SlidingWindowCollection;\r\n","// @flow\r\n/*eslint-disable*/\r\nimport SelectableBehavior from '../models/behaviors/SelectableBehavior';\r\nimport CheckableBehavior from '../models/behaviors/CheckableBehavior';\r\nimport diffHelper from '../utils/diffHelper';\r\nimport GridItemBehavior from '../list/models/behaviors/GridCollapsibleItemBehavior';\r\n\r\nconst selectableBehavior = {\r\n    none: null,\r\n    single: SelectableBehavior.SingleSelect,\r\n    multi: SelectableBehavior.MultiSelect\r\n};\r\n\r\nconst getNormalizedGroupingIterator = function getNormalizedGroupingIterator(groupingOptions) {\r\n    const it = groupingOptions.iterator;\r\n    return _.isString(it)\r\n        ? function(model) {\r\n              return model.get(it) || model[it];\r\n          }\r\n        : it;\r\n};\r\n\r\nconst getNormalizedGroupingComparator = function getNormalizedGroupingComparator(groupingOptions) {\r\n    const cmp = groupingOptions.comparator;\r\n    return cmp !== undefined\r\n        ? _.isString(cmp)\r\n            ? function(model) {\r\n                  return model.get(cmp) || model[cmp];\r\n              }\r\n            : cmp\r\n        : groupingOptions.iterator;\r\n};\r\n\r\nconst getNormalizedGroupingModelFactory = function getNormalizedGroupingModelFactory(groupingOptions) {\r\n    const modelFactory = groupingOptions.modelFactory;\r\n    return modelFactory !== undefined\r\n        ? _.isString(modelFactory)\r\n            ? function(model) {\r\n                  return new Backbone.Model({\r\n                      displayText: model.get(modelFactory),\r\n                      groupingModel: true\r\n                  });\r\n              }\r\n            : modelFactory\r\n        : function(model) {\r\n              return new Backbone.Model({\r\n                  displayText: groupingOptions.iterator(model),\r\n                  groupingModel: true\r\n              });\r\n          };\r\n};\r\n\r\nconst fixGroupingOptions = function fixGroupingOptions(groupingOptions) {\r\n    if (groupingOptions.__normalized) {\r\n        return;\r\n    }\r\n    if (!groupingOptions.affectedAttributes) {\r\n        groupingOptions.affectedAttributes = [];\r\n    }\r\n    if (_.isString(groupingOptions.iterator)) {\r\n        groupingOptions.affectedAttributes.push(groupingOptions.iterator);\r\n    }\r\n    if (_.isString(groupingOptions.comparator)) {\r\n        groupingOptions.affectedAttributes.push(groupingOptions.comparator);\r\n    }\r\n    if (_.isString(groupingOptions.modelFactory)) {\r\n        groupingOptions.affectedAttributes.push(groupingOptions.modelFactory);\r\n    }\r\n    groupingOptions.affectedAttributes = _.uniq(groupingOptions.affectedAttributes);\r\n\r\n    groupingOptions.iterator = getNormalizedGroupingIterator(groupingOptions);\r\n    groupingOptions.comparator = getNormalizedGroupingComparator(groupingOptions);\r\n    groupingOptions.modelFactory = getNormalizedGroupingModelFactory(groupingOptions);\r\n    groupingOptions.__normalized = true;\r\n};\r\n\r\n/**\r\n * @name VirtualCollection\r\n * @memberof module:core.collections\r\n * @class -,   Backbone- \r\n * ,  (     ),  .<br/><br/>\r\n *            (<code>core.list</code>).<br/><br/>\r\n *        100000 .\r\n * @constructor\r\n * @extends Backbone.Collection\r\n * @param {Backbone.Collection} collection  Backbone-.\r\n * @param {Object} options  .\r\n * @param {Boolean} [options.delayedAdd=true]         .\r\n *   ,         .\r\n *          .\r\n * @param {Function} options.comparator -.\r\n * @param {Object} options.grouping .\r\n * @param {Object} options.filter .\r\n * @param {Backbone.Model} options.model  ,    Backbone.Model       JSON.\r\n *      .\r\n * @param {String} [options.selectableBehavior='single']     SelectableBehavior.\r\n *      SelectableBehavior.<br/>\r\n *  :<ul>\r\n *     <li><code>'none'</code> -   selectable behavior.</li>\r\n *     <li><code>'single'</code> -  SelectableBehavior.SingleSelect.</li>\r\n *     <li><code>'multi'</code> -  SelectableBehavior.MultiSelect.</li>\r\n * </ul>.\r\n * */\r\n\r\nconst VirtualCollection = Backbone.Collection.extend(\r\n    /** @lends module:core.collections.VirtualCollection.prototype */ {\r\n        constructor(collection, options = {}) {\r\n            this.options = options;\r\n            this.isTree = this.options.isTree;\r\n            if (options.delayedAdd === undefined) {\r\n                options.delayedAdd = true;\r\n            }\r\n            if (!collection) {\r\n                collection = new Backbone.Collection();\r\n                if (this.model) {\r\n                    collection.model = this.model;\r\n                }\r\n            }\r\n            if (this.url && !collection.url) {\r\n                collection.url = this.url;\r\n            }\r\n            if (this.parse !== Backbone.Collection.prototype.parse) {\r\n                collection.parse = this.parse;\r\n            }\r\n            this.parentCollection = collection;\r\n\r\n            if (options.comparator !== undefined) {\r\n                this.comparator = options.comparator;\r\n            }\r\n\r\n            if (options.grouping !== undefined) {\r\n                this.grouping = options.grouping;\r\n            }\r\n\r\n            if (options.filter !== undefined) {\r\n                this.filterFn = options.filter;\r\n            }\r\n\r\n            this._reset();\r\n\r\n            this.state = {\r\n                position: options.position || 0,\r\n                windowSize: options.windowSize || 1\r\n            };\r\n            this.visibleModels = [];\r\n\r\n            this.isSliding = options.isSliding;\r\n\r\n            this.__debounceRebuild = _.debounce((...args) => this.__rebuildModels(...args), 10);\r\n\r\n            //noinspection JSUnresolvedVariable,JSHint\r\n            options.close_with && this.__bindLifecycle(options.close_with, 'close');\r\n            //noinspection JSUnresolvedVariable,JSHint\r\n            options.destroy_with && this.__bindLifecycle(options.destroy_with, 'destroy');\r\n\r\n            if (options.model) {\r\n                this.model = options.model;\r\n            } else if (collection.model) {\r\n                this.model = collection.model;\r\n            }\r\n\r\n            this.__rebuildIndex({}, true);\r\n\r\n            this.listenTo(collection, 'add', this.__onAdd);\r\n            this.listenTo(collection, 'change', this.__onChange);\r\n            this.listenTo(collection, 'reset', this.__onReset);\r\n            this.listenTo(collection, 'sort', this.__onSort);\r\n            this.listenTo(collection, 'sync', this.__onSync);\r\n            this.listenTo(collection, 'update', this.__onUpdate);\r\n\r\n            this.initialize.apply(this, arguments);\r\n\r\n            let SelectableBehaviorClass;\r\n            const selectableBehaviorOption = this.options.selectableBehavior;\r\n            if (selectableBehaviorOption && selectableBehavior[selectableBehaviorOption] !== undefined) {\r\n                SelectableBehaviorClass = selectableBehavior[selectableBehaviorOption];\r\n            } else {\r\n                SelectableBehaviorClass = selectableBehavior.single;\r\n            }\r\n            if (SelectableBehaviorClass) {\r\n                _.extend(this, new SelectableBehaviorClass(this));\r\n            }\r\n            _.extend(this, new CheckableBehavior.CheckableCollection(this));\r\n        },\r\n\r\n        rebuild() {\r\n            this.__rebuildIndex({}, true);\r\n        },\r\n\r\n        __rebuildIndex(options = {}, immediate) {\r\n            let parentModels = this.parentCollection.models;\r\n            if (this.filterFn !== undefined && typeof this.filterFn === 'function') {\r\n                parentModels = this.__filterModels(this.parentCollection.models);\r\n            }\r\n\r\n            this.index = this.__createIndexTree(parentModels, 0);\r\n            if (immediate) {\r\n                this.__rebuildModels(options);\r\n            } else {\r\n                this.__debounceRebuild(options);\r\n            }\r\n        },\r\n\r\n        __rebuildModels(options) {\r\n            const oldModels = this.visibleModels.concat();\r\n            this._reset();\r\n            this.visibleModels = [];\r\n            this.visibleLength = 0;\r\n            this.__buildModelsInternal(this.index);\r\n            if (!this.models.length) {\r\n                this.trigger('reset', this);\r\n                return;\r\n            }\r\n\r\n            if (this.isSliding) {\r\n                this.visibleModels = this.models.slice(this.state.position, this.state.position + this.state.windowSize);\r\n            } else {\r\n                this.visibleModels = this.models;\r\n            }\r\n            this.visibleLength = this.visibleModels.length;\r\n            this.__processDiffs(oldModels, options);\r\n        },\r\n\r\n        __addModel(model, options) {\r\n            const index = this.visibleModels.indexOf(model);\r\n            this.trigger('add', model, this, Object.assign({}, options, { at: index, index })); // both add and index to correct inserting in dom\r\n        },\r\n\r\n        __removeModels(removed, options) {\r\n            this.trigger(\r\n                'update',\r\n                this,\r\n                Object.assign({}, options, {\r\n                    changes: {\r\n                        removed,\r\n                        added: [],\r\n                        merged: []\r\n                    }\r\n                })\r\n            );\r\n        },\r\n\r\n        __buildModelsInternal(list, level = 0) {\r\n            // Run sort based on type of `comparator`.\r\n            if (this.comparator) {\r\n                if (_.isString(this.comparator) || this.comparator.length === 1) {\r\n                    list.models = _.sortBy(list.models, this.comparator, this);\r\n                } else {\r\n                    list.models.sort(_.bind(this.comparator, this));\r\n                }\r\n            }\r\n            list.forEach(model => {\r\n                this.length++;\r\n                this.models.push(model);\r\n                this._addReference(model);\r\n\r\n                model.collection = this;\r\n                model.level = level;\r\n\r\n                Object.assign(model, GridItemBehavior(this));\r\n\r\n                if (!model.collapsed && model.children) {\r\n                    //Skip building children models, if parent model is collapsed\r\n                    if (this.isTree) {\r\n                        this.stopListening(model.children, 'add remove reset');\r\n                        this.listenToOnce(model.children, 'add remove reset', this.__debounceRebuild);\r\n                    }\r\n                    if (this.isTree && this.filterFn && model.filteredChildren) {\r\n                        this.__buildModelsInternal(new Backbone.Collection(model.filteredChildren), level + 1);\r\n                    } else {\r\n                        this.__buildModelsInternal(model.children, level + 1);\r\n                    }\r\n                }\r\n            });\r\n        },\r\n\r\n        __createIndexTree(models, i) {\r\n            const self = this;\r\n            if (i < this.grouping.length) {\r\n                const groupingOptions = this.grouping[i];\r\n                fixGroupingOptions(groupingOptions);\r\n\r\n                return new Backbone.Collection(\r\n                    _.chain(models)\r\n                        .groupBy(groupingOptions.iterator)\r\n                        .map(v => {\r\n                            const node = groupingOptions.modelFactory(v[0], v);\r\n                            node.iteratorValue = groupingOptions.iterator(v[0]);\r\n                            node.comparatorValue = groupingOptions.comparator(v[0], v);\r\n                            node.children = self.__createIndexTree(v, i + 1);\r\n                            return node;\r\n                        })\r\n                        .sortBy(n => n.comparatorValue)\r\n                        .value()\r\n                );\r\n            }\r\n            return new Backbone.Collection(models);\r\n        },\r\n\r\n        updateWindowSize(newWindowSize) {\r\n            if (this.state.windowSize !== newWindowSize) {\r\n                this.isSliding = true;\r\n                this.state.windowSize = newWindowSize;\r\n                const oldModels = this.visibleModels.concat();\r\n                this.visibleModels = this.models.slice(this.state.position, this.state.position + this.state.windowSize);\r\n                this.visibleLength = this.visibleModels.length;\r\n                this.__processDiffs(oldModels);\r\n            }\r\n        },\r\n\r\n        /**\r\n         *    \r\n         * @param {Number} newPosition    \r\n         * */\r\n        updatePosition(newPosition) {\r\n            if (this.state.windowSize === undefined) {\r\n                throw 'updatePosition() has been called before setting window size';\r\n            }\r\n            this.internalUpdate = true;\r\n\r\n            newPosition = this.__normalizePosition(newPosition);\r\n            if (newPosition === this.state.position) {\r\n                return newPosition;\r\n            }\r\n\r\n            const actualWindowSize = this.visibleModels.length;\r\n            const delta = newPosition - this.state.position;\r\n            let oldValues = [];\r\n            let newValues = [];\r\n            if (Math.abs(delta) < actualWindowSize) {\r\n                // update collection via add/remove\r\n                if (delta > 0) {\r\n                    oldValues = this.visibleModels.splice(0, delta);\r\n                    this.visibleLength -= oldValues.length;\r\n                    newValues = this.models.slice(this.state.position + actualWindowSize, this.state.position + actualWindowSize + delta);\r\n                    this.visibleLength += newValues.length;\r\n                    this.visibleModels.push(...newValues);\r\n                } else {\r\n                    if (this.visibleLength >= this.state.windowSize) {\r\n                        // oldValues = this.innerCollection.last(-delta);\r\n                        oldValues = this.visibleModels.splice(this.visibleModels.length + delta, this.visibleModels.length);\r\n                        this.visibleLength -= oldValues.length;\r\n                    }\r\n\r\n                    newValues = this.models.slice(newPosition, newPosition - delta);\r\n                    this.visibleLength += newValues.length;\r\n                    this.visibleModels.unshift(...newValues);\r\n                }\r\n                this.__removeModels(oldValues);\r\n                // newValues.forEach(value => this.trigger('add', value, this, delta < 0 ? { at: 0 } : {}));\r\n                newValues.forEach(value => this.__addModel(value));\r\n                this.state.position = newPosition;\r\n                this.visibleLength = this.visibleModels.length;\r\n            } else {\r\n                this.state.position = newPosition;\r\n                const oldModels = this.visibleModels.concat();\r\n                this.visibleModels = this.models.slice(this.state.position, this.state.position + this.state.windowSize);\r\n                this.visibleLength = this.visibleModels.length;\r\n                this.__processDiffs(oldModels);\r\n            }\r\n            this.internalUpdate = false;\r\n\r\n            return newPosition;\r\n        },\r\n\r\n        __processDiffs(oldModels, options = {}) {\r\n            const diff = new diffHelper(oldModels, this.visibleModels);\r\n            diff.compose();\r\n            const diffObject = diff.getses();\r\n            const added = [];\r\n            const removed = [];\r\n\r\n            diffObject.sort((a, b) => a.t - b.t).forEach(object => {\r\n                switch (object.t) {\r\n                    case 0:\r\n                        this.trigger('update:child', object.elem);\r\n                        break;\r\n                    case -1:\r\n                        removed.push(object.elem);\r\n                        break;\r\n                    case 1:\r\n                        added.push(object.elem);\r\n                        break;\r\n                }\r\n            });\r\n\r\n            // it's important remove items before add\r\n            this.__removeModels(removed, options);\r\n            added.sort((a, b) => this.visibleModels.indexOf(a) - this.visibleModels.indexOf(b)).forEach(model => this.__addModel(model, options));\r\n        },\r\n\r\n        __normalizePosition(position) {\r\n            const maxPos = Math.max(0, this.length - 1);\r\n            return Math.max(0, Math.min(maxPos, position));\r\n        },\r\n\r\n        filter(filterFn) {\r\n            this.filterFn = filterFn;\r\n            this.__rebuildIndex({}, true);\r\n        },\r\n\r\n        __filterModels(models) {\r\n            const result = [];\r\n            models.forEach(model => {\r\n                if (model.children && model.children.length) {\r\n                    model.filteredChildren = this.__filterModels(model.children.models);\r\n                }\r\n                if (this.filterFn.call(models, model) || (model.filteredChildren && model.filteredChildren.length)) {\r\n                    result.push(model);\r\n                }\r\n            });\r\n            return result;\r\n        },\r\n\r\n        group(grouping) {\r\n            if (grouping !== undefined) {\r\n                this.grouping = grouping;\r\n            }\r\n\r\n            this.__rebuildIndex();\r\n        },\r\n\r\n        __bindLifecycle(view, methodName) {\r\n            view.on(methodName, _.bind(this.stopListening, this));\r\n        },\r\n\r\n        grouping: [],\r\n\r\n        __onSort(collection, options) {\r\n            if (this.comparator !== undefined) {\r\n                return;\r\n            }\r\n\r\n            this.__rebuildIndex(options);\r\n        },\r\n\r\n        __onSync(collection, resp, options) {\r\n            this.trigger('sync', collection, resp, options);\r\n        },\r\n\r\n        __onAdd(model, collection, options) {\r\n            // TODO: maybe this is unnecessary\r\n            if (options.at !== undefined) {\r\n                // Updating index\r\n                const addToIndex = function(ctx, list) {\r\n                    for (let i = 0, len = list.length; i < len; i++) {\r\n                        if (ctx.position === ctx.targetPosition) {\r\n                            list.add(ctx.model, { at: i });\r\n                            return true;\r\n                        }\r\n                        ctx.position++;\r\n                        const indexModel = list.at(i);\r\n                        if (indexModel.children && addToIndex(ctx, indexModel.children)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                };\r\n                const added = addToIndex({ position: 0, targetPosition: options.at, model }, this.index);\r\n                if (!added) {\r\n                    // border case when at === this.length\r\n                    let targetCollection = this.index;\r\n                    while (targetCollection.length > 0 && targetCollection.at(targetCollection.length - 1).children) {\r\n                        targetCollection = targetCollection.at(targetCollection.length - 1).children;\r\n                    }\r\n                    targetCollection.add(model, { at: targetCollection.length });\r\n                }\r\n                // Updating models\r\n                this.__rebuildModels();\r\n                return;\r\n            }\r\n\r\n            this.__rebuildIndex();\r\n        },\r\n\r\n        __onRemove(model, options = {}) {\r\n            let i;\r\n            let len;\r\n\r\n            // collecting items in index\r\n            function createIteratorValueChecker(iteratorValue) {\r\n                return function(m) {\r\n                    return m.iteratorValue === iteratorValue;\r\n                };\r\n            }\r\n            let index = this.index;\r\n            const groupItems = [];\r\n            if (this.grouping) {\r\n                for (i = 0, len = this.grouping.length; i < len; i++) {\r\n                    const groupingOptions = this.grouping[i];\r\n                    const groupItem = index.filter(createIteratorValueChecker(groupingOptions.iterator(model)))[0];\r\n                    if (!groupItem) {\r\n                        return;\r\n                    }\r\n                    groupItems.push(groupItem);\r\n                    index = groupItem.children;\r\n                }\r\n            }\r\n\r\n            let item = index.get(model);\r\n            if (item) {\r\n                index.remove(item);\r\n                // this.__removeFromModels(item, options);\r\n                this._removeReference(model);\r\n            }\r\n\r\n            for (i = groupItems.length - 1; i >= 0; i--) {\r\n                item = groupItems[i];\r\n                index = groupItems[i - 1] || this.index;\r\n                if (item.children.length === 0) {\r\n                    index.remove(item);\r\n                    // this.__removeFromModels(item, options);\r\n                    this._removeReference(model);\r\n                }\r\n            }\r\n\r\n            this.__rebuildIndex(options);\r\n        },\r\n\r\n        __onUpdate(collection, updateConfiguration, options) {\r\n            const changes = updateConfiguration.changes;\r\n\r\n            if (changes.merged && changes.merged.length) {\r\n                changes.merged.forEach(model => this.__onChange(model, options, true));\r\n            }\r\n            if (changes.removed && changes.removed.length) {\r\n                changes.removed.forEach(model => this.__onRemove(model, options));\r\n            }\r\n        },\r\n\r\n        __removeFromModels(model, options) {\r\n            if (!this.get(model)) {\r\n                return;\r\n            }\r\n\r\n            delete this._byId[model.id];\r\n            delete this._byId[model.cid];\r\n            const index = this.indexOf(model);\r\n            this.models.splice(index, 1);\r\n            this.length--;\r\n            this._removeReference(model, options);\r\n        },\r\n\r\n        __onChange(model, options, isPartialUpdate) {\r\n            if (this.options.skipRebuildOnChange) {\r\n                return;\r\n            }\r\n            const changed = Object.keys(model.changedAttributes());\r\n            const attrsAffectedByGrouping = [];\r\n            this.grouping.forEach(o => {\r\n                if (o.affectedAttributes) {\r\n                    for (let i = 0, len = o.affectedAttributes.length; i < len; i++) {\r\n                        attrsAffectedByGrouping.push(o.affectedAttributes[i]);\r\n                    }\r\n                }\r\n            });\r\n\r\n            let rebuildRequired = _.any(changed, key => attrsAffectedByGrouping.indexOf(key) !== -1);\r\n\r\n            if (!rebuildRequired && this.comparator) {\r\n                const previousModel = new model.constructor(model.previousAttributes(), model.options);\r\n                if (this.comparator.length === 1) {\r\n                    const cmpVal1 = this.comparator(previousModel);\r\n                    const cmpVal2 = this.comparator(model);\r\n                    rebuildRequired = cmpVal1 !== cmpVal2;\r\n                } else if (this.comparator.length === 2) {\r\n                    rebuildRequired = this.comparator(previousModel, model) !== 0;\r\n                }\r\n            }\r\n\r\n            if (rebuildRequired || isPartialUpdate) {\r\n                this.__rebuildIndex(options);\r\n            }\r\n        },\r\n\r\n        __onReset(collection, options) {\r\n            this.__rebuildIndex(options, true);\r\n        },\r\n\r\n        sort(options) {\r\n            this.__rebuildIndex(options);\r\n        },\r\n\r\n        collapse(model) {\r\n            model.collapse();\r\n            this.__rebuildIndex();\r\n            this.parentCollection.trigger('collapse', model);\r\n        },\r\n\r\n        expand(model) {\r\n            model.expand();\r\n            this.__rebuildIndex();\r\n            this.parentCollection.trigger('expand', model);\r\n        },\r\n\r\n        getState() {\r\n            return this.state;\r\n        }\r\n    }\r\n);\r\n\r\n// methods that alter data should proxy to the parent collection\r\n['add', 'remove', 'set', 'reset', 'push', 'pop', 'unshift', 'shift', 'slice', 'sync', 'fetch', 'update', 'where', 'findWhere'].forEach(methodName => {\r\n    VirtualCollection.prototype[methodName] = function() {\r\n        return this.parentCollection[methodName].apply(this.parentCollection, Array.from(arguments));\r\n    };\r\n});\r\n\r\nObject.assign(VirtualCollection.prototype, Backbone.Events);\r\n\r\nexport default VirtualCollection;\r\n","// @flow\r\n/**\r\n *  Behavior    .    options  \r\n *     behavior (.  Marionette).\r\n * @name HighlightableBehavior\r\n * @memberof module:core.collection.behaviors\r\n * @class Behavior       .   :\r\n *         .\r\n * @constructor\r\n * */\r\n\r\nconst HighlightableBehavior = function() {};\r\n\r\nObject.assign(\r\n    HighlightableBehavior.prototype,\r\n    /** @lends module:core.collection.behaviors.HighlightableBehavior.prototype */ {\r\n        /**\r\n         *      .\r\n         * @param {String} text ,   .\r\n         * */\r\n        highlight(text) {\r\n            this.parentCollection.each(record => {\r\n                if (record.highlight) {\r\n                    record.highlight(text);\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         *     .\r\n         * */\r\n        unhighlight() {\r\n            this.parentCollection.each(record => {\r\n                if (record.unhighlight) {\r\n                    record.unhighlight();\r\n                }\r\n            });\r\n        }\r\n    }\r\n);\r\n\r\nexport default HighlightableBehavior;\r\n","//@flow\r\nimport CrumbTextView from './views/CrumbTextView';\r\nimport GroupsCollection from './collections/GroupsCollection';\r\nimport template from './templates/navigationDrawer.html';\r\n\r\nexport default Marionette.CompositeView.extend({\r\n    initialize(options) {\r\n        this.collection = new GroupsCollection(options.collection);\r\n        this.collapsed = options.collapsed;\r\n        this.absolute = options.isAbsolute;\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    ui: {\r\n        collapseButton: '.js-drawer-collapse'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.collapseButton': '__toggleCollapse'\r\n    },\r\n\r\n    className: 'breadCrumbs',\r\n\r\n    childViewContainer: '.js-children-container',\r\n\r\n    childView: CrumbTextView\r\n});\r\n","//@flow\r\nimport SelectableBehavior from '../../../models/behaviors/SelectableBehavior';\r\nimport GroupModel from '../models/GroupModel';\r\n\r\nexport default Backbone.Collection.extend({\r\n    initialize() {\r\n        Object.assign(this, new SelectableBehavior.SingleSelect(this));\r\n    },\r\n\r\n    model: GroupModel\r\n});\r\n","//@flow\r\nimport SelectableBehavior from '../../../models/behaviors/SelectableBehavior';\r\n\r\nexport default Backbone.Model.extend({\r\n    initialize() {\r\n        Object.assign(this, new SelectableBehavior.Selectable(this));\r\n    }\r\n});\r\n","module.exports = \"<div class=\\\"js-children-container crumbs_container\\\"></div>\\r\\n\";","module.exports = \"<span class=\\\"crumb-icon\\\"><i class=\\\"fa fa-leanpub\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n{{#if url}}\\r\\n<div class=\\\"crumb-naming\\\">\\r\\n    <a href=\\\"{{url}}\\\" class=\\\"js-title crumb-title\\\">{{name}}</a>\\r\\n    <div class=\\\"js-subtitle crumb-subtitle\\\">{{subname}}</div>\\r\\n</div>\\r\\n{{else}}\\r\\n<div class=\\\"crumb-naming\\\">\\r\\n    <div class=\\\"js-title crumb-title\\\">{{name}}</div>\\r\\n    <div class=\\\"js-subtitle crumb-subtitle\\\">{{subname}}</div>\\r\\n</div>\\r\\n{{/if}}\\r\\n{{#if isChild}}<div class=\\\"crumb-separator\\\">&#8250;</div>{{/if}}\\r\\n<div class=\\\"js-menu-region top-nav-tabs__btn top-nav-tabs__btn_lists\\\"></div>\\r\\n\";","//@flow\r\nimport template from '../templates/navigationText.html';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        const isChild = this.model.collection.indexOf(this.model) >= 0;\r\n        return { isChild };\r\n    },\r\n\r\n    regions: {\r\n        menuRegion: '.js-menu-region'\r\n    },\r\n\r\n    className: 'crumb_view',\r\n\r\n    ui: {\r\n        title: '.js-title',\r\n        subtitle: '.js-subtitle'\r\n    },\r\n\r\n    events: {\r\n        mouseenter: '__onMouseEnter',\r\n        mouseleave: '__onMouseLeave',\r\n        'click @ui.subtitle': '__handleSubtextClick'\r\n    },\r\n\r\n    onRender() {\r\n        const collection = this.model.get('collection');\r\n        if (collection) {\r\n            this.menuView = Core.dropdown.factory.createDropdown({\r\n                buttonView: Marionette.View.extend({\r\n                    template: false\r\n                }),\r\n\r\n                panelView: Marionette.CollectionView.extend({\r\n                    childView: Marionette.View.extend({\r\n                        template: false\r\n                    }),\r\n\r\n                    className: 'dropdown-list'\r\n                }),\r\n\r\n                panelViewOptions: {\r\n                    collection\r\n                },\r\n\r\n                panelPosition: 'down'\r\n            });\r\n\r\n            this.showChildView('menuRegion', this.menuView);\r\n        }\r\n    },\r\n\r\n    modelEvents: {\r\n        'change:name': '__onNameChange'\r\n    },\r\n\r\n    __onNameChange() {\r\n        this.ui.title.text(this.model.get('name'));\r\n    },\r\n\r\n    __handleSubtextClick() {\r\n        this.menuView.open();\r\n    },\r\n\r\n    __onMouseEnter() {\r\n        this.ui.title.animate(\r\n            {\r\n                marginTop: 0\r\n            },\r\n            150\r\n        );\r\n        this.ui.subtitle.animate(\r\n            {\r\n                marginTop: 0\r\n            },\r\n            150\r\n        );\r\n    },\r\n\r\n    __onMouseLeave() {\r\n        this.ui.title.animate(\r\n            {\r\n                marginTop: '8px'\r\n            },\r\n            150\r\n        );\r\n        this.ui.subtitle.animate(\r\n            {\r\n                marginTop: '30px'\r\n            },\r\n            150\r\n        );\r\n    }\r\n});\r\n","//@flow\r\nimport componentDragHelper from '../templates/componentDragHelper.html';\r\nimport emptyDragHelper from '../templates/emptyComponentDragHelper.html';\r\n//import { helpers } from 'utils';\r\n\r\nconst classes = {\r\n    SELECTED: 'selected',\r\n    HOVERED: 'dev-hovered',\r\n    ERROR: 'fb-error',\r\n    INVALID: 'ld-invalid'\r\n};\r\n\r\nconst defaultOptions = {\r\n    draggable: true\r\n};\r\n\r\nexport default Marionette.Behavior.extend({\r\n    initialize(options, view) {\r\n        //helpers.ensureOption(options, 'canvasReqres');\r\n        const viewOptions = view.options;\r\n\r\n        this.view.reqres = viewOptions.reqres;\r\n        this.view.canvasAggregator = viewOptions.canvasAggregator;\r\n        this.canvasReqres = viewOptions.canvasReqres;\r\n        this.view.componentReqres = viewOptions.componentReqres;\r\n        _.extend(this.options, defaultOptions, options);\r\n        _.bindAll(this, '__startDragging', '__stopDragging', '__dragDragging');\r\n        this.view.isOver = this.__isOver;\r\n    },\r\n\r\n    modelEvents: {\r\n        selected: '__updateSelection',\r\n        deselected: '__updateSelection',\r\n        'change:error': '__updateErrorSelection',\r\n        'change:collapsed': '__updateCollapsed',\r\n        hovered: '__updateHover',\r\n        unhovered: '__updateHover',\r\n        'change:invalid': '__updateValidity'\r\n    },\r\n\r\n    events: {\r\n        click: '__select'\r\n    },\r\n\r\n    highlightComponent() {\r\n        this.el.classList.toggle(classes.ERROR);\r\n    },\r\n\r\n    onRender() {\r\n        this.__updateSelection();\r\n        if (this.options.draggable) {\r\n            this.el.draggable({\r\n                appendTo: '.js-module-region',\r\n                helper() {\r\n                    return this.el.hasClass('js-system-container') && this.el.parentElement.hasClass('js-form-region') ? $(emptyDragHelper) : $(componentDragHelper);\r\n                },\r\n                cursorAt: {\r\n                    top: -45,\r\n                    left: -40\r\n                },\r\n                start: this.__startDragging,\r\n                stop: this.__stopDragging,\r\n                drag: this.__dragDragging\r\n            });\r\n        }\r\n\r\n        if (this.view.model.get('renderOnChange')) {\r\n            this.listenTo(this.view.model, 'change', this.view.render.bind(this));\r\n        }\r\n    },\r\n\r\n    __updateHover() {\r\n        if (this.view.model.hovered) {\r\n            this.el.classList.add(classes.HOVERED);\r\n        } else {\r\n            this.el.classList.remove(classes.HOVERED);\r\n        }\r\n    },\r\n\r\n    __select() {\r\n        this.canvasReqres.request('component:select', this.view.model);\r\n        return false;\r\n    },\r\n\r\n    __updateSelection() {\r\n        if (this.view.model.selected) {\r\n            this.el.classList.add(classes.SELECTED);\r\n        } else {\r\n            this.el.classList.remove(classes.SELECTED);\r\n        }\r\n    },\r\n\r\n    __startDragging(event, ui) {\r\n        this.dragContext = {\r\n            operation: 'move',\r\n            model: this.view.model\r\n        };\r\n        this.__updateDragElementClass(ui.helper, this.view.model);\r\n\r\n        const canBeDropped = this.canvasReqres.request('component:drag:start', this.view, this.dragContext, event, ui);\r\n        return canBeDropped;\r\n    },\r\n\r\n    __stopDragging(event, ui) {\r\n        this.canvasReqres.request('component:drag:stop', this.view, this.dragContext, event, ui);\r\n        this.dragContext = null;\r\n    },\r\n\r\n    __dragDragging(event, ui) {\r\n        this.canvasReqres.request('component:drag:move', this.view, this.dragContext, event, ui);\r\n    },\r\n\r\n    __updateErrorSelection() {\r\n        if (this.view.model.get('error')) {\r\n            this.el.classList.add(classes.ERROR);\r\n        } else {\r\n            this.el.classList.remove(classes.ERROR);\r\n        }\r\n    },\r\n\r\n    __isOver() {\r\n        return this.el.is(':hover');\r\n    },\r\n\r\n    __updateCollapsed(model, collapsed, options) {\r\n        this.canvasReqres.request('component:collapse', model, collapsed, options);\r\n    },\r\n\r\n    __updateDragElementClass(dragHelper, componentModel) {\r\n        dragHelper.find('.js-drag-title').text(componentModel.get('name'));\r\n        dragHelper.find('.js-drag-subtitle').text(componentModel.get('pathNames'));\r\n    },\r\n\r\n    __updateValidity() {\r\n        if (this.view.model.get('invalid')) {\r\n            this.el.classList.add(classes.INVALID);\r\n        } else {\r\n            this.el.classList.remove(classes.INVALID);\r\n        }\r\n    }\r\n});\r\n","//@flow\r\nimport CanvasView from '../views/CanvasView';\r\n\r\nexport default Marionette.Object.extend({\r\n    initialize(options = {}) {\r\n        _.bindAll(this, 'handleElementDragMove', 'handleElementDragStart', 'handleElementDragStop');\r\n        this.model = options.model;\r\n        const canvasReqres = this.createAndBindChannel(this.getOption('config').dropZoneType);\r\n        this.canvasAggregator = Backbone.Radio.channel(_.uniqueId());\r\n        this.view = this.createView(options.config, canvasReqres, options.reqres);\r\n        this.activeDropZones = [];\r\n    },\r\n\r\n    createAndBindChannel(dropZoneType) {\r\n        const canvasReqres = Backbone.Radio.channel(_.uniqueId());\r\n        if (dropZoneType === 'fixed') {\r\n            canvasReqres.reply('component:drag:start', this.handleElementDragStart, this);\r\n            canvasReqres.reply('component:drag:move', this.handleElementDragMove, this);\r\n            canvasReqres.reply('component:drag:stop', this.handleElementDragStop, this);\r\n        }\r\n        canvasReqres.reply('component:hover', this.hoverComponent, this);\r\n        canvasReqres.reply('component:select', this.selectComponent, this);\r\n        canvasReqres.reply('select:canvas', this.selectCanvasComponent, this);\r\n        canvasReqres.reply('component:collapse', this.__toggleCollapse, this);\r\n        this.canvasReqres = canvasReqres;\r\n\r\n        return canvasReqres;\r\n    },\r\n\r\n    createView(config, canvasReqres, reqres) {\r\n        return new CanvasView({\r\n            model: this.model,\r\n            reqres,\r\n            canvasAggregator: this.canvasAggregator,\r\n            canvasReqres,\r\n            config,\r\n            componentReqres: this.getOption('componentReqres')\r\n        });\r\n    },\r\n\r\n    hoverComponent(model) {\r\n        this.unhoverAll();\r\n\r\n        if (model === this.model.get('root')) {\r\n            return;\r\n        }\r\n\r\n        model.hover();\r\n    },\r\n\r\n    selectComponent(model) {\r\n        this.deselectAll();\r\n        if (model === this.model.get('root')) {\r\n            this.selectCanvasComponent(model);\r\n            return;\r\n        }\r\n        if (model.select) {\r\n            model.select();\r\n            this.trigger('component:selected', model);\r\n        }\r\n    },\r\n\r\n    selectCanvasComponent(model) {\r\n        this.deselectAll();\r\n        model.select();\r\n        this.trigger('component:selected', model.parent);\r\n    },\r\n\r\n    deselectAll() {\r\n        this.model.get('root').deselect();\r\n        this.model.eachComponent(componentModel => componentModel.deselect && componentModel.deselect());\r\n    },\r\n\r\n    unhoverAll() {\r\n        this.model.eachComponent(componentModel => componentModel.unhover && componentModel.unhover());\r\n    },\r\n\r\n    handleElementDragStart(dragContext, event, ui) {\r\n        const minCount = dragContext.model.parent && dragContext.model.parent.get('minimumDescendants');\r\n        if (minCount && minCount >= dragContext.model.parent.getChildren().length) {\r\n            return false;\r\n        }\r\n        if (this.getOption('config').dropZoneType !== 'fixed') {\r\n            this.canvasReqres.request('component:drag:start', dragContext, event, ui);\r\n        } else {\r\n            this.activeDropZones = this.collectDropZones(dragContext).filter(dropzone => this.__validateDropzone(dragContext, dropzone.context));\r\n            this.activeDropZones.forEach(zone => zone.activate());\r\n        }\r\n        return true;\r\n    },\r\n\r\n    collectDropZones(dragContext = {}) {\r\n        const zones = [];\r\n        this.canvasAggregator.trigger('drop-zone:collect', dragContext, zones);\r\n        return zones;\r\n    },\r\n\r\n    handleElementDragStop(dragContext, event, ui) {\r\n        if (this.getOption('config').dropZoneType !== 'fixed') {\r\n            this.canvasReqres.request('component:drag:stop', dragContext, event, ui);\r\n        } else {\r\n            try {\r\n                if (!this.__isDropBack(dragContext)) {\r\n                    if (this.view.canDrop) {\r\n                        if (event.ctrlKey) {\r\n                            const model = dragContext.model.clone();\r\n                            model.unset('id');\r\n                            dragContext.model = model;\r\n                            dragContext.operation = 'create';\r\n                        }\r\n                        const closestZone = this.__findClosestDropZone(event);\r\n                        if (closestZone) {\r\n                            closestZone.drop(dragContext);\r\n                            this.selectComponent(dragContext.model);\r\n                        }\r\n                    } else {\r\n                        this.trigger('remove:attribute', dragContext.model);\r\n                    }\r\n                }\r\n            } catch (e) {\r\n                console.error(e);\r\n            } finally {\r\n                this.activeDropZones.forEach(zone => {\r\n                    zone.deactivate();\r\n                    zone.leave();\r\n                });\r\n                this.activeDropZones = [];\r\n            }\r\n        }\r\n    },\r\n\r\n    handleElementDragMove(dragContext, event, ui) {\r\n        if (this.getOption('config').dropZoneType !== 'fixed') {\r\n            this.canvasReqres.request('component:drag:move', dragContext, event, ui);\r\n        } else {\r\n            this.activeDropZones.forEach(zone => zone.leave());\r\n            if (this.view.canDrop && !this.__isDropBack(dragContext)) {\r\n                const closestZone = this.__findClosestDropZone(event);\r\n                if (closestZone) {\r\n                    closestZone.enter();\r\n                }\r\n                ui.helper.classList.remove('dev-removing-helper');\r\n            } else if (!this.view.canDrop) {\r\n                ui.helper.classList.add('dev-removing-helper');\r\n            }\r\n        }\r\n    },\r\n\r\n    handleElementDblclick(model) {\r\n        this.canvasReqres.request('element:dblclick', model);\r\n    },\r\n\r\n    __validateDropzone(dragContext, dropContext) {\r\n        switch (dragContext.operation) {\r\n            case 'create':\r\n                return this.__checkModelNesting(dropContext.containerModel, dragContext.model);\r\n            case 'move': {\r\n                const draggedModelCid = dragContext.model.cid;\r\n                const siblingModels = dropContext.containerModel.getChildren();\r\n\r\n                // disabling zones above and below the dragged model\r\n                if (siblingModels.length > 0) {\r\n                    const modelBefore = dropContext.modelBefore;\r\n                    if (modelBefore) {\r\n                        if (modelBefore.cid === draggedModelCid) {\r\n                            return false;\r\n                        }\r\n                        const modelAfter = siblingModels.at(siblingModels.indexOf(dropContext.modelBefore) + 1);\r\n                        if (modelAfter && modelAfter.cid === draggedModelCid) {\r\n                            return false;\r\n                        }\r\n                    } else if (siblingModels.at(0).cid === draggedModelCid) {\r\n                        return false;\r\n                    }\r\n                }\r\n                // disabling all zones if the model is a child of\r\n                if (dropContext.containerModel === dragContext.model) {\r\n                    return false;\r\n                }\r\n                let parentModel = dropContext.containerModel.getParent();\r\n                while (parentModel) {\r\n                    if (parentModel === dragContext.model) {\r\n                        return false;\r\n                    }\r\n                    parentModel = parentModel.getParent();\r\n                }\r\n                // disabling some nesting\r\n                return this.__checkModelNesting(dropContext.containerModel, dragContext.model);\r\n            }\r\n            default:\r\n                return false;\r\n        }\r\n    },\r\n\r\n    __checkModelNesting(parent, child) {\r\n        let canBeNested = child.get('canBeNested') || parent.get('fieldType') === 'SystemView';\r\n        if (!canBeNested && !child.get('canBeNestedIn')) {\r\n            return canBeNested;\r\n        }\r\n        const nestingRules = child.get('canBeNestedIn');\r\n        canBeNested = nestingRules ? nestingRules.find(containerType => containerType === parent.get('fieldType')) : true;\r\n        if (!canBeNested) {\r\n            return canBeNested;\r\n        }\r\n        const nestedRules = parent.get('canBeNestedBy');\r\n        return nestedRules ? nestedRules.find(containerType => containerType === child.get('fieldType') || containerType === child.get('type')) : true;\r\n    },\r\n\r\n    __findClosestDropZone(event) {\r\n        let closestZone;\r\n        let closestDistance = Number.MAX_VALUE;\r\n        const position = {\r\n            x: event.pageX,\r\n            y: event.pageY\r\n        };\r\n        this.activeDropZones.forEach(zone => {\r\n            const distance = zone.getDistance(position);\r\n            if (distance < closestDistance) {\r\n                closestDistance = distance;\r\n                closestZone = zone;\r\n            }\r\n        });\r\n        return closestZone;\r\n    },\r\n\r\n    __isDropBack(dragContext) {\r\n        //todo wtf\r\n        return false; //!!(dragContext.operation === 'move' && view.isOver());\r\n    },\r\n\r\n    __toggleCollapse(model, collapsed, options) {\r\n        if (options.skip) {\r\n            return;\r\n        }\r\n        const root = this.model.get('root');\r\n        if (model === root) {\r\n            this.model.eachComponent(component => {\r\n                if (component.isContainer && component !== root) {\r\n                    component.set('collapsed', collapsed);\r\n                }\r\n            });\r\n        } else if (!options.skip) {\r\n            let rootCollapsed = true;\r\n            root.getChildren().forEach(child => {\r\n                if (!child.get('collapsed') && child.isContainer) {\r\n                    rootCollapsed = false;\r\n                }\r\n            });\r\n            root.set('collapsed', rootCollapsed, { skip: true });\r\n        }\r\n    },\r\n\r\n    onBeforeDestroy() {\r\n        this.canvasReqres.stopReplying();\r\n        this.canvasAggregator.stopReplying();\r\n    }\r\n});\r\n","//@flow\r\nimport ModuleView from '../views/ModuleView';\r\nimport ErrorService from '../services/ErrorService';\r\n//import PropertyPathService from 'services/PropertyPathService';\r\nimport FormModel from '../models/RelationalModel';\r\nimport ComponentModel from '../models/ComponentModel';\r\nimport ComponentBehavior from '../behaviors/ComponentBehavior';\r\nimport VerticalLayoutComponentView from '../views/VerticalLayoutComponentView';\r\n\r\nexport default Marionette.Object.extend({\r\n    initialize(options = {}) {\r\n        this.canvasComponents = options.canvas.components;\r\n        this.__createModel(options.editorModel, options.canvas.collection);\r\n        this.view = this.__createView(options);\r\n    },\r\n\r\n    __onActionExecute(id, item) {\r\n        switch (id) {\r\n            case 'save':\r\n                this.__handleSave();\r\n                break;\r\n            case 'saveAs':\r\n                this.__handleSave(true);\r\n                break;\r\n            case 'clear':\r\n                this.__handleClear();\r\n                break;\r\n            case 'delete':\r\n                this.__handleDelete();\r\n                break;\r\n            default:\r\n                this.trigger(`handle:${id}`, item);\r\n                break;\r\n        }\r\n    },\r\n\r\n    toggleEmptyViewMask(collection) {\r\n        this.view.toggleMask(collection.length > 0);\r\n    },\r\n\r\n    updateModel(newModel, newCollection) {\r\n        this.model.set(newModel.toJSON());\r\n        this.view.updatePalette(this.model, newCollection);\r\n    },\r\n\r\n    performValidation() {\r\n        return this.__validateCanvasComponents(this.model.get('form'));\r\n    },\r\n\r\n    __createAndBindChannel() {\r\n        const reqres = Backbone.Radio.channel(_.uniqueId());\r\n\r\n        reqres.reply('component:resolve', this.__resolveComponent, this);\r\n        reqres.reply('component:move', this.__moveComponent, this);\r\n        reqres.reply('component:add', this.__handleAdding, this);\r\n        reqres.reply('component:add:column', this.__handleAddingNewColumn, this);\r\n        reqres.reply('component:move:column', this.__handleMovingNewColumn, this);\r\n        reqres.reply('element:create', this.__createElement, this);\r\n        reqres.reply('component:remove:column', this.__handleRemovingColumn, this);\r\n\r\n        return reqres;\r\n    },\r\n\r\n    __createModel(editorModel, canvasCollection) {\r\n        const rootModel = editorModel.has('root') ? _.omit(editorModel.get('root'), 'rows') : {};\r\n        const configurationKey = this.options.configurationKey;\r\n        const form = Object.assign(editorModel.toJSON(), {\r\n            root: new ComponentModel(\r\n                Object.assign(\r\n                    {\r\n                        rows: canvasCollection,\r\n                        fieldType: 'SystemView',\r\n                        childrenAttribute: 'rows'\r\n                    },\r\n                    rootModel\r\n                )\r\n            ),\r\n            fieldType: 'SystemView'\r\n        });\r\n\r\n        if (this.canvasComponents.SystemView) {\r\n            form.root.set('view', this.canvasComponents.SystemView);\r\n        }\r\n\r\n        this.formModel = new FormModel({ form, components: this.canvasComponents }, { parse: true });\r\n\r\n        this.listenTo(this.formModel, 'change:name', (model, name) => this.trigger('title:changed', name));\r\n\r\n        this.listenTo(this.formModel, 'attribute:changed', (model, propertyName, value) => this.trigger('attribute:changed', model, propertyName, value));\r\n\r\n        this.model = new Backbone.Model({\r\n            recordTypeId: editorModel.get('recordTypeId') || editorModel.get('recordTemplateId') || editorModel.get('container'),\r\n            context: editorModel.get('context'),\r\n            formComponents: editorModel.get('formComponents'),\r\n            form: this.formModel\r\n        });\r\n\r\n        this.configurationModel = new Backbone.Model({ id: configurationKey });\r\n\r\n        if (configurationKey) {\r\n            this.configurationModel.set($.jStorage.get(configurationKey));\r\n        }\r\n\r\n        this.listenTo(\r\n            this.model\r\n                .get('form')\r\n                .get('root')\r\n                .get('rows'),\r\n            'add remove reset',\r\n            (model, collection) => this.toggleEmptyViewMask(collection)\r\n        );\r\n    },\r\n\r\n    tryLeave() {\r\n        if (!this.model.get('form') || !this.model.get('form').isModified) {\r\n            return true;\r\n        }\r\n\r\n        return Core.services.MessageService.showMessageDialog(\r\n            Localizer.get('PROCESS.FORMDESIGNER.DIALOGMESSAGES.UNSAVEDCHANGES'),\r\n            Localizer.get('PROCESS.FORMDESIGNER.DIALOGMESSAGES.WARNING'),\r\n            [\r\n                {\r\n                    id: true,\r\n                    text: Localizer.get('PROCESS.FORMDESIGNER.DIALOGMESSAGES.DISCARD')\r\n                },\r\n                {\r\n                    id: false,\r\n                    text: Localizer.get('PROCESS.FORMDESIGNER.DIALOGMESSAGES.STAYONTHEPAGE'),\r\n                    default: true\r\n                }\r\n            ]\r\n        );\r\n    },\r\n\r\n    __createView(options) {\r\n        const reqres = this.__createAndBindChannel();\r\n\r\n        const view = new ModuleView({\r\n            reqres,\r\n            model: this.model,\r\n            configurationModel: this.configurationModel,\r\n            palette: options.palette,\r\n            canvas: options.canvas,\r\n            properties: options.properties,\r\n            toolbar: options.toolbar,\r\n            componentReqres: this.getOption('componentReqres'),\r\n            detachedToolbar: options.detachedToolbar\r\n        });\r\n\r\n        this.listenToOnce(view, 'render', () => this.toggleEmptyViewMask(options.canvas.collection));\r\n        if (options.validateOnShow) {\r\n            this.listenToOnce(view, 'show', this.performValidation);\r\n        }\r\n        this.listenTo(view, 'add:attribute', this.__handleAdding);\r\n        this.listenTo(view, 'remove:attribute', this.__handleRemoving);\r\n        this.listenTo(view, 'edit:attribute', event => this.trigger('edit:attribute', event));\r\n        this.listenTo(view, 'handle:action', actionId => this.trigger('handle:action', actionId));\r\n        this.listenTo(view, 'handle:edit', editedView => this.trigger('handle:edit', editedView));\r\n\r\n        this.listenTo(view, 'toolbar:execute', (id, item) => this.__onActionExecute(id, item));\r\n\r\n        this.listenTo(view, 'destroy', () => this.destroy());\r\n\r\n        return view;\r\n    },\r\n\r\n    __createElement(elementModel) {\r\n        const component = this.canvasComponents[elementModel.get('fieldType')];\r\n        const model = new component.model(elementModel.toJSON());\r\n\r\n        //const path = PropertyPathService.getPropertyPath(model);\r\n        model.set(\r\n            {\r\n                //path,\r\n                //pathNames: PropertyPathService.getPropertyPathNames(model),\r\n                formComponents: this.formModel.get('formComponents'),\r\n                dataSourceInfo: {\r\n                    //propertyPath: path,\r\n                    type: model.get('fieldType')\r\n                }\r\n            },\r\n            { parse: true }\r\n        );\r\n\r\n        model.unset('id');\r\n        model.unset('children');\r\n        model.unset('context');\r\n        model.unset('parent');\r\n\r\n        return model;\r\n    },\r\n\r\n    __resolveComponent(model) {\r\n        try {\r\n            const component = this.canvasComponents[model.get('fieldType')];\r\n            const defaultParams = component.model.prototype.defaults;\r\n\r\n            if (defaultParams && defaultParams.componentType === 'container') {\r\n                if (component.view) {\r\n                    const result = {};\r\n                    Object.keys(component.view.prototype).forEach(key => {\r\n                        result[key] = component.view.prototype[key];\r\n                    });\r\n                    return VerticalLayoutComponentView.extend(result);\r\n                }\r\n                return VerticalLayoutComponentView;\r\n            }\r\n            return component.view.extend({\r\n                behaviors: Object.assign(\r\n                    {\r\n                        ComponentBehavior: {\r\n                            behaviorClass: ComponentBehavior\r\n                        }\r\n                    },\r\n                    component.view.prototype.behaviors || {}\r\n                )\r\n            });\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    },\r\n\r\n    async __handleSave(saveAsNew) {\r\n        const isFormModelValid = this.__validateCanvasComponents(this.model.get('form'));\r\n\r\n        if (isFormModelValid) {\r\n            const form = this.model.get('form');\r\n            const formData = form.toJSON({ server: true });\r\n            if (formData) {\r\n                await this.trigger('handle:save', formData, saveAsNew);\r\n\r\n                this.model.get('form').clearModified();\r\n            }\r\n        }\r\n    },\r\n\r\n    __handleDelete() {\r\n        this.trigger('handle:delete', this.model.get('form').id);\r\n    },\r\n\r\n    __handleClear() {\r\n        this.model.get('form').clearCanvas();\r\n    },\r\n\r\n    __moveComponent(model, collection, index) {\r\n        this.trigger('move:component', model, collection, index);\r\n        model.collection.remove(model);\r\n        collection.add(model, {\r\n            at: index\r\n        });\r\n    },\r\n\r\n    __handleAddingNewColumn(model, collection, prefix, index) {\r\n        let itemIndex = index;\r\n        let horizontalItems;\r\n        if (collection.parent.getChildren()) {\r\n            horizontalItems = collection.parent.getChildren();\r\n        } else {\r\n            horizontalItems = collection.parent;\r\n        }\r\n\r\n        if (prefix === 'right') {\r\n            itemIndex++;\r\n        }\r\n\r\n        const dsi = collection.parent.get('dataSourceInfo');\r\n\r\n        this.trigger('add:new:column:data', horizontalItems, model, itemIndex, dsi && dsi.propertyPath);\r\n    },\r\n\r\n    __handleMovingNewColumn(model, collection, prefix, index) {\r\n        let itemIndex = index;\r\n        let horizontalItems;\r\n        if (collection.parent.getChildren()) {\r\n            horizontalItems = collection.parent.getChildren();\r\n        } else {\r\n            horizontalItems = collection.parent;\r\n        }\r\n\r\n        if (prefix === 'right') {\r\n            itemIndex++;\r\n        }\r\n        this.trigger('move:column:data', horizontalItems, model, itemIndex);\r\n    },\r\n\r\n    __handleRemovingColumn(model, collection) {\r\n        this.trigger('remove:column:data', model, collection);\r\n    },\r\n\r\n    __handleAdding(model, collection, index) {\r\n        this.trigger('add:component', model, collection, index);\r\n        collection.add(model, {\r\n            at: index\r\n        });\r\n    },\r\n\r\n    __handleRemoving(model) {\r\n        if (model === this.model.get('form').get('root') || !model.collection) {\r\n            return;\r\n        }\r\n        const doDelete = result => {\r\n            if (!result) {\r\n                return;\r\n            }\r\n\r\n            if (model.collection.length === 1) {\r\n                model.deselect();\r\n                const parent = model.parent;\r\n                if (parent && parent.collection && !model.get('horizontalDrop')) {\r\n                    parent.collection.remove(parent);\r\n                } else {\r\n                    model.collection.remove(model);\r\n                }\r\n            } else {\r\n                model.deselect();\r\n                if (model.get('container')) {\r\n                    this.__handleRemovingColumn(model, model.collection);\r\n                } else {\r\n                    model.collection.remove(model);\r\n                }\r\n            }\r\n        };\r\n\r\n        if (model.isContainer && model.get(model.get('childrenAttribute') || 'rows').length > 0) {\r\n            const userRequest = Core.services.MessageService.confirm(Localizer.get('PROCESS.FORMDESIGNER.DIALOGMESSAGES.DELETECONFIRMATION'));\r\n            userRequest.then(doDelete);\r\n        } else {\r\n            doDelete(true);\r\n        }\r\n        this.trigger('remove:component', model, model.collection);\r\n    },\r\n\r\n    __validateCanvasComponents(formModel) {\r\n        const validationErrors = ErrorService.validateCanvasComponents(formModel);\r\n\r\n        return !validationErrors.length;\r\n    }\r\n});\r\n","//@flow\r\n/**\r\n * A class to represent Layout editor.\r\n * @class\r\n *\r\n * @constructor\r\n *\r\n * @property editorModel - main model - pass here all needed params for editor\r\n * * @type {Backbone.Model}\r\n *\r\n * @property palette - configuration, representing the left tab of editor\r\n * * @type {object}\r\n * * @property elementsCollection\r\n * * * @type {Backbone.Collection}\r\n * * @property collection\r\n * * * @type {Backbone.Collection}\r\n * * @property size\r\n * * * @type {string}\r\n * * @property toolbar\r\n * * * @type {object}\r\n * * * @property actions\r\n * * * * @type {Backbone.Collection}\r\n *\r\n * @property canvas - configuration, representing the central part of editor\r\n * * @type {object}\r\n * * @property collection\r\n * * * @type {Backbone.Collection}\r\n * * @property components\r\n * * * @type {object}\r\n * * @property hideEmptyView\r\n * * * @type {boolean}\r\n * * @property focusOnShow\r\n * * * @type {boolean}\r\n *\r\n * @property properties - configuration, representing the right tab of editor\r\n * * @type {object}\r\n * * @property components\r\n * * * @type {object}\r\n * * @property size\r\n * * * @type {string}\r\n *\r\n * @property toolbar - configuration, representing the main visual editor's toolbar\r\n * * @type {object}\r\n * * @property excludeActions\r\n * * * @type {array}\r\n *\r\n * @property configurationKey - edification information for storing module specific information\r\n * * @type {string}\r\n */\r\n\r\nimport Controller from './controllers/VisualEditorController';\r\n\r\nexport default {\r\n    Controller\r\n};\r\n/**\r\n * @example\r\n this.layoutDesigner = new VisualEditor.Controller({\r\n    editorModel: new Backbone.Model(),\r\n    palette: {\r\n        collection: new Backbone.Collection()\r\n        elementsCollection: new Backbone.Collection(),\r\n        size: 'small'\r\n    },\r\n    canvas: {\r\n        collection: new Backbone.Collection(),\r\n        components: {\r\n            Rule: {\r\n                view: new Marionette.View(),\r\n                model:  new Backbone.Model()\r\n            },\r\n            SystemView: new Marionette.View()\r\n        }\r\n    },\r\n    properties: {\r\n        components: {\r\n            Rule: RuleActionsPropertiesView,\r\n            SystemView: new Backbone.Model()\r\n        },\r\n        size: 'large'\r\n    },\r\n    toolbar: {\r\n        excludeActions: ['saveAs']\r\n    },\r\n    configurationKey: ModuleService.modules.PROCESS_RECORDTYPES_FORM_RULES\r\n});\r\n*/\r\n","//@flow\r\nexport default Backbone.Model.extend({\r\n    getChildren() {\r\n        return this.get(this.get('childrenAttribute'));\r\n    },\r\n\r\n    getParent() {\r\n        if (!this.collection) {\r\n            return null;\r\n        }\r\n        return this.collection.parent;\r\n    },\r\n\r\n    selected: false,\r\n    isContainer: false,\r\n    hovered: false,\r\n\r\n    hover() {\r\n        this.hovered = true;\r\n        this.trigger('hovered');\r\n    },\r\n\r\n    unhover() {\r\n        this.hovered = false;\r\n        this.trigger('unhovered');\r\n    },\r\n\r\n    select() {\r\n        this.selected = true;\r\n        this.trigger('selected');\r\n    },\r\n\r\n    deselect() {\r\n        this.selected = false;\r\n        this.trigger('deselected');\r\n    }\r\n});\r\n","//@flow\r\n//import AliasService from 'services/AliasService';\r\nconst extendParams = {\r\n    relational: true,\r\n    selected: false,\r\n    hovered: false,\r\n\r\n    getChildren() {\r\n        return this.get(this.get('childrenAttribute'));\r\n    },\r\n\r\n    getParent() {\r\n        if (!this.collection) {\r\n            return null;\r\n        }\r\n        return this.collection.parent;\r\n    },\r\n\r\n    hover() {\r\n        this.hovered = true;\r\n        this.trigger('hovered');\r\n    },\r\n\r\n    unhover() {\r\n        this.hovered = false;\r\n        this.trigger('unhovered');\r\n    },\r\n\r\n    select() {\r\n        this.selected = true;\r\n        this.trigger('selected');\r\n    },\r\n\r\n    deselect() {\r\n        this.selected = false;\r\n        this.trigger('deselected');\r\n    }\r\n};\r\n\r\nconst relationalCollection = Backbone.Collection.extend(extendParams);\r\n\r\nexport default Backbone.Model.extend({\r\n    defaults() {\r\n        return {\r\n            name: Localizer.get('CORE.FORM.NEWFORM'), //todo remvoe it\r\n            alias: 'newForm',\r\n            root: new Backbone.Model({\r\n                width: 0,\r\n                rows: new Backbone.Collection(),\r\n                fieldType: 'VerticalLayout'\r\n            })\r\n        };\r\n    },\r\n\r\n    parse(data) {\r\n        const rawForm = data.form;\r\n        this.formComponents = data.components;\r\n        if (rawForm) {\r\n            const rows = rawForm.root.get('rows');\r\n            //AliasService.initialize(this);\r\n            const containerCollection = new relationalCollection(rows.map(rootModel => this.__buildChildrenModel(rootModel, rawForm.root)));\r\n            this.listenTo(containerCollection, 'add', this.__handleModelChanges);\r\n            this.listenTo(containerCollection, 'add remove reset', this.__setModified);\r\n            this.listenTo(containerCollection, 'change', this.__onAttributeChanged);\r\n            rawForm.root.set({ rows: containerCollection });\r\n            rawForm.root.parent = this;\r\n\r\n            return rawForm;\r\n        }\r\n        return data;\r\n    },\r\n\r\n    eachComponent(callback) {\r\n        const handle = model => {\r\n            model.getChildren().each(child => {\r\n                callback(child);\r\n                if (child.isContainer) {\r\n                    handle(child);\r\n                }\r\n            });\r\n        };\r\n        handle(this.get('root'));\r\n    },\r\n\r\n    clearModified() {\r\n        this.isModified = false;\r\n    },\r\n\r\n    clearCanvas() {\r\n        const modelsToRemove = [];\r\n        const rows = this.get('root').get('rows');\r\n        if (rows) {\r\n            rows.each(model => {\r\n                if (model.get('canRemove') !== false) {\r\n                    modelsToRemove.push(model);\r\n                } else {\r\n                    model.getChildren().reset();\r\n                }\r\n            });\r\n            rows.remove(modelsToRemove);\r\n        }\r\n    },\r\n\r\n    toJSON(options) {\r\n        const data = Backbone.Model.prototype.toJSON.apply(this, arguments);\r\n        if (options && options.server === true) {\r\n            const newData = data.root.clone();\r\n            delete data.context;\r\n            delete data.userCommands;\r\n            delete data.children;\r\n            delete data.parent;\r\n            newData.unset('view');\r\n            newData.unset('context');\r\n            newData.unset('operations');\r\n            newData.unset('userCommands');\r\n            newData.set('rows', this.__parseChildren(newData.get('rows'), options));\r\n\r\n            return Object.assign({}, data, { root: newData.toJSON(options) });\r\n        }\r\n        return data;\r\n    },\r\n\r\n    __buildChildrenModel(model, parent) {\r\n        const component = this.formComponents[model.get('type')] || this.formComponents[model.get('fieldType')];\r\n        const container = new (component.model.extend(extendParams))(model.toJSON(), { parse: !model.relational });\r\n        const childrenAttribute = container.get('childrenAttribute');\r\n\r\n        container.isContainer = false;\r\n        if (childrenAttribute) {\r\n            const rows = container.get(childrenAttribute).map(innerModel => this.__buildChildrenModel(innerModel, container)) || new Backbone.Collection();\r\n            const child = new relationalCollection(rows);\r\n            child.parent = parent;\r\n            container.isContainer = true;\r\n            container.set(childrenAttribute, child);\r\n            this.listenTo(child, 'add', newModel => this.__handleModelChanges(newModel, container));\r\n            this.listenTo(child, 'add remove reset change', this.__setModified);\r\n        }\r\n        container.parent = parent;\r\n        return container;\r\n    },\r\n\r\n    __handleModelChanges(model, parent) {\r\n        const newModel = this.__buildChildrenModel(model, parent);\r\n        model.clear();\r\n        model.isContainer = newModel.isContainer;\r\n        model.set(newModel.toJSON());\r\n        model.parent = newModel.parent;\r\n        Object.assign(model, extendParams);\r\n    },\r\n\r\n    __parseChildren(collection, options) {\r\n        const newCollection = collection.toJSON(options);\r\n        return newCollection.map(model => {\r\n            if (model.childrenAttribute) {\r\n                model[model.childrenAttribute] = this.__parseChildren(model[model.childrenAttribute], options);\r\n            }\r\n            return model;\r\n        });\r\n    },\r\n\r\n    __setModified() {\r\n        this.isModified = true;\r\n    },\r\n\r\n    __onAttributeChanged(model, xls, options) {\r\n        if (options && options.isSilent) {\r\n            return;\r\n        }\r\n\r\n        this.isModified = true;\r\n        const changedPropertyName = Object.keys(model.changed)[0];\r\n        this.trigger('attribute:changed', model, changedPropertyName, model.changed[changedPropertyName]);\r\n    }\r\n});\r\n","/*\r\nconst errorText = {\r\n    noDataSource: Localizer.get('PROCESS.FORMDESIGNER.PROPERTIES.VALIDATION.ERRORTEXT.NODATASOURCE'),\r\n    notUniqueDataSource: Localizer.get('PROCESS.FORMDESIGNER.PROPERTIES.VALIDATION.ERRORTEXT.REPEATDATASOURCE'),\r\n    wrongNumberRange: Localizer.get('PROCESS.FORMDESIGNER.PROPERTIES.VALIDATION.ERRORTEXT.WRONGNUMBERRANGE'),\r\n    notUniqueCollectionElements: Localizer.get('PROCESS.FORMDESIGNER.PROPERTIES.VALIDATION.ERRORTEXT.NOTUNIQUECOLLECTIONCOLUMNS'),\r\n    emptyCollection: Localizer.get('PROCESS.FORMDESIGNER.PROPERTIES.VALIDATION.ERRORTEXT.EMPTYCOLLECTION')\r\n};\r\n*/\r\n//@flow\r\nexport default {\r\n    validateCanvasComponents(formModel) {\r\n        const validationErrors = [];\r\n        formModel.eachComponent(componentModel => {\r\n            if (componentModel.validate) {\r\n                const validationError = componentModel.validate();\r\n                if (validationError) {\r\n                    validationErrors.push(validationError);\r\n                    this.highlightInvalidComponent(componentModel);\r\n                }\r\n            }\r\n        });\r\n\r\n        return validationErrors;\r\n    },\r\n\r\n    highlightInvalidComponent(componentModel) {\r\n        componentModel.set('invalid', true); //todo undo this!\r\n    }\r\n};\r\n","module.exports = \"<div class=\\\"ld-canvas-empty js-empty-view-mask-region\\\"></div>\\r\\n<div class=\\\"js-form-region ld-canvas\\\"></div>\\r\\n\";","module.exports = \"<div class=\\\"js-event-center-title anchor anchor_inline\\\">{{name}}</div>\\r\\n<span class=\\\"fr-btn__icon dataset-group-arrow js-anchor\\\">\\r\\n        <svg viewBox=\\\"0 0 12 12\\\"><polygon class=\\\"d-svg-icons d-svg-icons_arrow\\\" points=\\\"8,2 4.5,5.5 1,2 0,2 0,3 4,7 5,7 9,3 9,2 \\\"></polygon></svg>\\r\\n</span>\\r\\n\";","module.exports = \"<div class=\\\"js-event-center-grid-region error-container__grid-region\\\"></div>\\r\\n\";","module.exports = \"<div class=\\\"ld-draggable-helper\\\">\\r\\n    <div class=\\\"ld-list-item__link\\\">\\r\\n        <div class=\\\"ld-list-item-icon\\\"></div>\\r\\n        <div class=\\\"ld-list-item-title\\\">\\r\\n            <div class=\\\"ld-list-item-title__name js-drag-title\\\"></div>\\r\\n            <div class=\\\"ld-list-item-title__system js-drag-subtitle\\\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";","module.exports = \"\";","module.exports = \"<div style=\\\"display: none\\\"></div>\";","module.exports = \"<div class=\\\"js-form-region ld-canvas-empty__wrp\\\">\\r\\n    <div class=\\\"ld-canvas-empty-add\\\">{{localize 'CORE.LAYOUTDESIGNER.ADDHINT'}}</div>\\r\\n    <div class=\\\"ld-canvas-empty-dell\\\">{{localize 'CORE.LAYOUTDESIGNER.REMOVEHINT'}}</div>\\r\\n</div>\";","module.exports = \"<div class=\\\"js-toolbar toolbar\\\">\\r\\n    <div class=\\\"js-designer-toolbar-region dev-toolbar-actions\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"ld-view\\\">\\r\\n    <div class=\\\"ld-view__list{{{paletteClass}}} js-palette-container dev-ld-view__list\\\">\\r\\n        <div class=\\\"region js-palette-tabs-region\\\"></div>\\r\\n    </div>\\r\\n    <div class=\\\"js-palette-resizer ld-view__resizer ld-view__resizer_left\\\"></div>\\r\\n    <div class=\\\"ld-view__canvas js-canvas-region\\\"></div>\\r\\n    <div class=\\\"js-properties-resizer ld-view__resizer ld-view__resizer_right\\\"></div>\\r\\n    <div class=\\\"ld-view__setting{{{propertiesClass}}} js-properties-region\\\"></div>\\r\\n</div>\";","module.exports = \"<div class=\\\"dev-msg-popup__content\\\">\\r\\n    <div class=\\\"msg-popup__desc\\\">{{localize 'PROCESS.FORMDESIGNER.CONFIRMSAVE.SAVEASTITLE'}}</div>\\r\\n    <div class=\\\"js-editor-region dev-new-name-editor\\\"></div>\\r\\n    <div class=\\\"popup-buttons\\\">\\r\\n        <div class=\\\"js-button-yes fr-btn fr-btn_popup\\\"><span class=\\\"fr-btn__text\\\">{{localize 'PROCESS.FORMDESIGNER.CONFIRMSAVE.OK'}}</span></div>\\r\\n        <div class=\\\"js-button-cancel fr-btn fr-btn_popup\\\"><span class=\\\"fr-btn__text\\\">{{localize 'PROCESS.FORMDESIGNER.CONFIRMSAVE.CANCEL'}}</span></div>\\r\\n    </div>\\r\\n</div>\";","module.exports = \"<div class=\\\"js-container dev-content-region\\\">\\r\\n    <div class=\\\"js-content-region\\\"></div>\\r\\n</div>\";","//@flow\r\nimport template from '../templates/canvas.html';\r\nimport EmptyViewMask from '../views/EmptyViewMask';\r\nimport VerticalLayoutComponentView from '../views/VerticalLayoutComponentView';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'region',\r\n\r\n    events: {\r\n        mouseenter: '__mouseenter',\r\n        mouseleave: '__mouseleave'\r\n    },\r\n\r\n    regions: {\r\n        formRegion: '.js-form-region',\r\n        emptyViewMaskRegion: '.js-empty-view-mask-region'\r\n    },\r\n\r\n    onRender() {\r\n        const rootModel = this.model.get('root');\r\n        this.showChildView(\r\n            'formRegion',\r\n            this.createView(rootModel, {\r\n                model: rootModel,\r\n                reqres: this.getOption('reqres'),\r\n                canvasReqres: this.getOption('canvasReqres'),\r\n                canvasAggregator: this.getOption('canvasAggregator'),\r\n                componentReqres: this.getOption('componentReqres')\r\n            })\r\n        );\r\n\r\n        const emptyViewMaskRegion = this.getRegion('emptyViewMaskRegion');\r\n        emptyViewMaskRegion.show(this.__createEmptyViewMask());\r\n\r\n        if (this.getOption('config').hideEmptyView) {\r\n            emptyViewMaskRegion.el.setAttribute('displayNone', true);\r\n        }\r\n    },\r\n\r\n    toggleMask(isShowed) {\r\n        if (!this.getOption('config').hideEmptyView) {\r\n            this.getRegion('emptyViewMaskRegion').el.toggle(!isShowed);\r\n        }\r\n    },\r\n\r\n    createView(rootModel, options) {\r\n        let View = rootModel.get('view');\r\n        if (this.getOption('config').dropZoneType === 'fixed') {\r\n            const result = {};\r\n            Object.keys(View.prototype).forEach(key => {\r\n                result[key] = View.prototype[key];\r\n            });\r\n            View = VerticalLayoutComponentView.extend(result);\r\n        }\r\n        return new View(options);\r\n    },\r\n\r\n    __createEmptyViewMask() {\r\n        return new EmptyViewMask();\r\n    },\r\n\r\n    __mouseenter() {\r\n        this.canDrop = true;\r\n    },\r\n\r\n    __mouseleave() {\r\n        this.canDrop = false;\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/dropzone.html';\r\n\r\nconst classes = {\r\n    DROPZONE_ACTIVE: 'ld-dragzone_active',\r\n    DROPZONE_HOVER: 'ld-dragzone_hover'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        this.context = options.context;\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'ld-dragzone',\r\n\r\n    /**\r\n     *        .\r\n     *  -      \r\n     * @param position -     {x, y} - \r\n     * @returns {Number} - \r\n     */\r\n    getDistance(position) {\r\n        const elPosition = this.el.offset();\r\n\r\n        if (position.x < elPosition.left || position.x > elPosition.left + this.el.width()) {\r\n            return Number.MAX_VALUE;\r\n        }\r\n\r\n        return Math.abs(position.y - (elPosition.top + this.el.offsetHeight / 2));\r\n    },\r\n\r\n    activate() {\r\n        this.el.classList.add(classes.DROPZONE_ACTIVE);\r\n    },\r\n\r\n    deactivate() {\r\n        this.el.classList.remove(classes.DROPZONE_ACTIVE);\r\n    },\r\n\r\n    enter() {\r\n        this.el.classList.add(classes.DROPZONE_HOVER);\r\n    },\r\n\r\n    leave() {\r\n        this.el.classList.remove(classes.DROPZONE_HOVER);\r\n    },\r\n\r\n    drop(dragContext) {\r\n        this.trigger('drop', {\r\n            zoneContext: this.context,\r\n            dragContext\r\n        });\r\n    }\r\n});\r\n","//@flow\r\nimport template from './elementsPalette/templates/elementsPalette.html';\r\nimport PaletteToolbarView from './elementsPalette/views/PaletteToolbarView';\r\nimport ContextPaletteView from './elementsPalette/views/ContextPaletteView';\r\nimport IconPaletteView from './elementsPalette/views/IconPaletteView';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        this.config = options.config;\r\n        const collection = options.config.elementsCollection;\r\n\r\n        if (collection) {\r\n            this.elementsView = this.__createContextView({\r\n                config: { collection },\r\n                showPaletteAsIcons: options.config.showPaletteAsIcons,\r\n                reqres: options.reqres\r\n            });\r\n            this.listenTo(this.elementsView, 'element:drag:start', (dragContext, event, ui) => this.trigger('element:drag:start', dragContext, event, ui));\r\n            this.listenTo(this.elementsView, 'element:drag:stop', (dragContext, event, ui) => this.trigger('element:drag:stop', dragContext, event, ui));\r\n            this.listenTo(this.elementsView, 'element:drag:move', (dragContext, event, ui) => this.trigger('element:drag:move', dragContext, event, ui));\r\n            this.listenTo(this.elementsView, 'context:toggle', () => this.trigger('context:toggle'));\r\n        }\r\n\r\n        if (this.config.toolbar) {\r\n            this.listView = this.__createContextView(this.options);\r\n            this.toolbarView = this.__createToolbarView(options.reqres, this.config);\r\n\r\n            this.listenTo(this.listView, 'toolbar:update:searchModel', toolbarCollection => this.toolbarView.updateSearchModel(toolbarCollection));\r\n            this.listenTo(this.listView, 'element:drag:start', (dragContext, event, ui) => this.trigger('element:drag:start', dragContext, event, ui));\r\n            this.listenTo(this.listView, 'element:drag:stop', (dragContext, event, ui) => this.trigger('element:drag:stop', dragContext, event, ui));\r\n            this.listenTo(this.listView, 'element:drag:move', (dragContext, event, ui) => this.trigger('element:drag:move', dragContext, event, ui));\r\n            this.listenTo(this.listView, 'element:dblclick', model => this.trigger('element:dblclick', model));\r\n            this.listenTo(this.listView, 'context:toggle', () => this.trigger('context:toggle'));\r\n            this.listenTo(this.listView, 'show:attribute', () => this.trigger('show:attribute'));\r\n            this.listenTo(this.toolbarView, 'execute', actionId => this.trigger('handle:action', actionId));\r\n        }\r\n\r\n        options.reqres.reply('handle:edit', event => this.trigger('handle:edit', event));\r\n        options.reqres.reply('add:attribute', event => this.trigger('add:attribute', event));\r\n        options.reqres.reply('remove:attribute', event => this.trigger('remove:attribute', event));\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'ld-list',\r\n\r\n    ui: {\r\n        toggleButton: '.js-palette-toggle-button'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.toggleButton': '__togglePalette'\r\n    },\r\n\r\n    regions: {\r\n        toolbarRegion: '.js-toolbar-region',\r\n        listRegion: '.js-list-region',\r\n        elementsRegion: '.js-elements-region'\r\n    },\r\n\r\n    onRender() {\r\n        if (this.config.showList !== false && this.config.toolbar) {\r\n            this.showChildView('listRegion', this.listView);\r\n            this.showChildView('toolbarRegion', this.toolbarView);\r\n        }\r\n        if (this.elementsView) {\r\n            this.showChildView('elementsRegion', this.elementsView);\r\n        }\r\n        this.ui.toggleButton.setAttribute('displayNone', true); //hide feature\r\n    },\r\n\r\n    updatePalette(model, newCollection) {\r\n        this.listView.updatePalette(model, newCollection);\r\n    },\r\n\r\n    __createToolbarView(reqres, config) {\r\n        return new PaletteToolbarView({ reqres, config });\r\n    },\r\n\r\n    __togglePalette() {\r\n        this.trigger('toggle:palette');\r\n        this.ui.toggleButton.classList.toggle('dev-button-rotated');\r\n    },\r\n\r\n    __createContextView(options) {\r\n        let paletteView;\r\n        if (options.showPaletteAsIcons) {\r\n            const collection = new Core.collections.VirtualCollection(options.config.collection);\r\n            paletteView = new IconPaletteView({\r\n                reqres: options.reqres,\r\n                collection\r\n            });\r\n        } else {\r\n            paletteView = new ContextPaletteView(options);\r\n        }\r\n\r\n        return paletteView;\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/emptyViewMask.html';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'region'\r\n});\r\n","//@flow\r\nimport ElementsPaletteView from './ElementsPaletteView';\r\nimport template from '../templates/module.html';\r\nimport CanvasController from '../controllers/CanvasController';\r\nimport ClonePopoutButtonView from './toolbar/ClonePopoutButtonView';\r\nimport ClonePopoutPanelView from './toolbar/ClonePopoutPanelView';\r\nimport SaveAsView from './toolbar/SaveAsView';\r\n//import { defaultToolbarButtonId, defaultToolbarButton } from '../meta';\r\n\r\nconst defaultToolbarButtonId = {};\r\nconst defaultToolbarButton = [];\r\n\r\nconst constants = {\r\n    MIN_WIDTH: 150\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        this.reqres = options.reqres;\r\n        this.componentReqres = options.componentReqres;\r\n        this.components = options.properties.components || {};\r\n        this.paletteCollection = options.palette.collection;\r\n        this.configurationModel = options.configurationModel;\r\n\r\n        const paletteClass = ` dev-palette-${(options.palette && options.palette.size) || 'medium'}`;\r\n        const propertiesClass = ` dev-properties-${(options.properties && options.properties.size) || 'medium'}`;\r\n        this.model.set({ paletteClass, propertiesClass });\r\n\r\n        this.elementsPaletteView = new ElementsPaletteView({\r\n            config: this.getOption('palette'),\r\n            context: this.model.get('context'),\r\n            recordTypeId: this.model.get('recordTypeId'),\r\n            reqres: this.reqres\r\n        });\r\n\r\n        this.formModel = this.model.get('form');\r\n\r\n        this.canvasController = new CanvasController({\r\n            model: this.formModel,\r\n            config: this.getOption('canvas'),\r\n            reqres: this.reqres,\r\n            componentReqres: this.getOption('componentReqres')\r\n        });\r\n        this.__createToolbarView();\r\n    },\r\n\r\n    className: 'layout-design',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    ui: {\r\n        palleteResizer: '.js-palette-resizer',\r\n        propertiesResizer: '.js-properties-resizer',\r\n        palette: '.js-palette-container',\r\n        properties: '.js-properties-region',\r\n        toolbar: '.js-toolbar'\r\n    },\r\n\r\n    regions: {\r\n        paletteTabsRegion: '.js-palette-tabs-region',\r\n        paletteContainer: '.js-palette-container',\r\n        canvasRegion: '.js-canvas-region',\r\n        propertiesRegion: '.js-properties-region',\r\n        toolbarRegion: '.js-designer-toolbar-region'\r\n    },\r\n\r\n    onRender() {\r\n        this.listenTo(this.canvasController, 'component:selected', this.__showComponentProperties);\r\n        this.listenTo(this.canvasController, 'remove:attribute', event => this.trigger('remove:attribute', event));\r\n        this.listenTo(this.elementsPaletteView, 'handle:action', actionId => this.trigger('handle:action', actionId));\r\n        this.listenTo(this.elementsPaletteView, 'edit:attribute', event => this.trigger('edit:attribute', event));\r\n        this.listenTo(this.elementsPaletteView, 'remove:attribute', event => this.trigger('remove:attribute', event));\r\n        this.listenTo(this.elementsPaletteView, 'element:drag:start', this.canvasController.handleElementDragStart);\r\n        this.listenTo(this.elementsPaletteView, 'element:drag:stop', this.canvasController.handleElementDragStop);\r\n        this.listenTo(this.elementsPaletteView, 'element:drag:move', this.canvasController.handleElementDragMove);\r\n        this.listenTo(this.elementsPaletteView, 'element:dblclick', model => this.canvasController.handleElementDblclick(model));\r\n        this.listenTo(this.elementsPaletteView, 'context:toggle', this.canvasController.handleElementDragMove);\r\n        this.listenTo(this.elementsPaletteView, 'toggle:palette', this.__togglePalette);\r\n        this.listenTo(this.elementsPaletteView, 'handle:add', event => this.trigger('handle:add', event));\r\n        this.listenTo(this.elementsPaletteView, 'handle:edit', event => this.trigger('handle:edit', event));\r\n        this.listenTo(Core.services.GlobalEventService, 'window:resize', this.__updateResizersPosition);\r\n\r\n        this.getRegion('canvasRegion').show(this.canvasController.view);\r\n        this.getRegion('paletteTabsRegion').show(this.elementsPaletteView);\r\n\r\n        this.ui.palleteResizer.draggable({\r\n            axis: 'x',\r\n            drag: (event, ui) => this.__onPaletteResizerDrag(ui),\r\n            stop: () => this.__onDragStop()\r\n        });\r\n\r\n        this.ui.propertiesResizer.draggable({\r\n            axis: 'x',\r\n            drag: (event, ui) => this.__onPropertiesResizerDrag(ui),\r\n            stop: () => this.__onDragStop()\r\n        });\r\n\r\n        const paletteWidth = this.configurationModel.get('paletteWidth');\r\n        if (paletteWidth) {\r\n            this.ui.palette.css('flex', `0 0 ${paletteWidth}px`);\r\n        }\r\n        const propertiesWidth = this.configurationModel.get('propertiesWidth');\r\n        if (propertiesWidth) {\r\n            this.ui.properties.css('flex', `0 0 ${propertiesWidth}px`);\r\n        }\r\n\r\n        if (this.getOption('canvas').dropZoneType !== 'fixed') {\r\n            this.ui.propertiesResizer.setAttribute('displayNone', true);\r\n        }\r\n        this.__updateResizersPosition();\r\n\r\n        if (this.getOption('canvas').focusOnShow) {\r\n            this.canvasController.selectCanvasComponent(this.formModel.get('root'));\r\n        } else {\r\n            this.ui.properties.setAttribute('displayNone', true);\r\n        }\r\n\r\n        if (!this.options.detachedToolbar) {\r\n            this.showChildView('toolbarRegion', this.toolbar);\r\n        } else {\r\n            this.ui.toolbar.setAttribute('displayNone', true);\r\n        }\r\n    },\r\n\r\n    toggleMask(isShowed) {\r\n        this.canvasController.view.toggleMask(isShowed);\r\n    },\r\n\r\n    updatePalette(model, newCollection) {\r\n        this.elementsPaletteView.updatePalette(model, newCollection);\r\n    },\r\n\r\n    getToolbar() {\r\n        return this.toolbar;\r\n    },\r\n\r\n    __createToolbarView() {\r\n        return this.__createToolbar(this.getOption('toolbar'));\r\n    },\r\n\r\n    __updateResizersPosition() {\r\n        this.ui.palleteResizer.css('left', this.ui.palette.outerWidth());\r\n        this.ui.propertiesResizer.css('left', this.el.offsetWidth - this.ui.properties.offsetWidth);\r\n    },\r\n\r\n    __onPaletteResizerDrag(ui) {\r\n        const palette = this.ui.palette;\r\n        let width = ui.offset.left - palette.offset().left;\r\n        if (width < constants.MIN_WIDTH) {\r\n            ui.position.left = width = constants.MIN_WIDTH;\r\n        }\r\n\r\n        const otherElementsMinWidth = constants.MIN_WIDTH + this.ui.properties.outerWidth();\r\n        const maxWidth = this.el.width() - otherElementsMinWidth;\r\n        if (width > maxWidth) {\r\n            ui.position.left = width = maxWidth;\r\n        }\r\n        palette.css('flex', `0 0 ${width}px`);\r\n        this.configurationModel.set('paletteWidth', width);\r\n    },\r\n\r\n    __onPropertiesResizerDrag(ui) {\r\n        const properties = this.ui.properties;\r\n        const totalWidth = this.el.width();\r\n        let width = totalWidth - ui.position.left;\r\n        if (width < constants.MIN_WIDTH) {\r\n            width = constants.MIN_WIDTH;\r\n            ui.position.left = totalWidth - width;\r\n        }\r\n\r\n        const otherElementsMinWidth = constants.MIN_WIDTH + this.ui.palette.outerWidth();\r\n        const maxWidth = this.el.width() - otherElementsMinWidth;\r\n        if (width > maxWidth) {\r\n            width = maxWidth;\r\n            ui.position.left = otherElementsMinWidth;\r\n        }\r\n        properties.css('flex', `0 0 ${width}px`);\r\n        this.configurationModel.set('propertiesWidth', width);\r\n    },\r\n\r\n    __onDragStop() {\r\n        const configuration = this.configurationModel.toJSON();\r\n        $.jStorage.set(configuration.id, configuration);\r\n    },\r\n\r\n    __showComponentProperties(model) {\r\n        const view = this.components[model.get('fieldType')];\r\n\r\n        if (view) {\r\n            const propertiesRegion = this.getRegion('propertiesRegion');\r\n            this.ui.properties.removeAttribute('displayNone');;\r\n            propertiesRegion.show(\r\n                new view(\r\n                    Object.assign(this.model.toJSON(), {\r\n                        model,\r\n                        reqres: this.reqres,\r\n                        operations: this.paletteCollection,\r\n                        componentReqres: this.getOption('componentReqres')\r\n                    })\r\n                )\r\n            );\r\n            this.listenTo(model, 'deselected', () => {\r\n                propertiesRegion.currentView && propertiesRegion.currentView.destroy();\r\n                propertiesRegion.empty();\r\n                propertiesRegion.reset();\r\n            });\r\n        }\r\n    },\r\n\r\n    async __save() {\r\n        const confirm = await Core.services.MessageService.showMessageDialog(Localizer.get('PROCESS.FORMDESIGNER.CONFIRMSAVE.TITLE'), '', [\r\n            {\r\n                id: true,\r\n                text: Localizer.get('PROCESS.FORMDESIGNER.CONFIRMSAVE.OK')\r\n            },\r\n            {\r\n                id: false,\r\n                text: Localizer.get('PROCESS.FORMDESIGNER.CONFIRMSAVE.CANCEL'),\r\n                default: true\r\n            }\r\n        ]);\r\n\r\n        if (confirm) {\r\n            this.trigger('toolbar:execute', 'save');\r\n        }\r\n    },\r\n\r\n    __saveAs() {\r\n        const form = this.formModel;\r\n        const model = new Backbone.Model({\r\n            alias: `new${form.get('alias')}`\r\n        });\r\n        const saveAsView = new SaveAsView({\r\n            model\r\n        });\r\n        this.listenTo(saveAsView, 'accept', aliasModel => {\r\n            form.set({\r\n                name: aliasModel.get('name'),\r\n                alias: aliasModel.get('alias')\r\n            });\r\n            delete form.id;\r\n            this.trigger('toolbar:execute', 'saveAs');\r\n        });\r\n        Core.services.WindowService.showPopup(saveAsView);\r\n    },\r\n\r\n    async __clear() {\r\n        const confirm = await Core.services.MessageService.confirm(Localizer.get('PROCESS.FORMDESIGNER.CLEAR.CONFIRMCLEAR'));\r\n        if (confirm) {\r\n            this.trigger('toolbar:execute', 'clear');\r\n        }\r\n    },\r\n\r\n    __togglePalette() {\r\n        this.el.find('.js-palette-container').classList.toggle('ld-view__list_collapsed');\r\n    },\r\n\r\n    __createToolbar(options) {\r\n        const allItemsCollection = new Backbone.Collection(defaultToolbarButton);\r\n        if (options.excludeActions) {\r\n            options.excludeActions.forEach(action => allItemsCollection.remove(allItemsCollection.get(action)));\r\n        }\r\n\r\n        if (options.additionalActions) {\r\n            allItemsCollection.add(options.additionalActions);\r\n        }\r\n\r\n        const cloneItems = allItemsCollection.get('clone');\r\n        if (cloneItems) {\r\n            cloneItems.set('options', {\r\n                collection: this.__createPopupCollection(),\r\n                buttonView: ClonePopoutButtonView,\r\n                panelView: ClonePopoutPanelView\r\n            });\r\n        }\r\n\r\n        const toolbar = (this.toolbar = new Core.components.Toolbar({\r\n            allItemsCollection,\r\n            reqres: this.componentReqres\r\n        }));\r\n\r\n        this.listenTo(toolbar, 'command:execute', model => {\r\n            const id = model.get('id');\r\n            switch (id) {\r\n                case defaultToolbarButtonId.SAVE:\r\n                    this.__save();\r\n                    break;\r\n                case defaultToolbarButtonId.SAVE_AS:\r\n                    this.__saveAs();\r\n                    break;\r\n                case defaultToolbarButtonId.CLEAR:\r\n                    this.__clear();\r\n                    break;\r\n                case 'create':\r\n                    this.__showComponentProperties(model);\r\n                    break;\r\n                default:\r\n                    this.trigger('toolbar:execute', id);\r\n                    break;\r\n            }\r\n        });\r\n\r\n        return toolbar;\r\n    },\r\n\r\n    __createPopupCollection() {\r\n        return this.componentReqres.request('toolbarItems:get');\r\n    },\r\n\r\n    onDestroy() {\r\n        this.options.reqres.stopReplying();\r\n        this.toolbar.destroy();\r\n        this.canvasController.destroy();\r\n    }\r\n});\r\n","//@flow\r\nimport DropzoneView from './DropzoneView';\r\n\r\nconst classes = {\r\n    DROPZONE_ACTIVE: 'dev-vertical-dropzone-active',\r\n    DROPZONE_HOVER: 'dev-vertical-dropzone-hover'\r\n};\r\n\r\nexport default DropzoneView.extend({\r\n    className() {\r\n        return `js-vertical-dropzone dev-vertical-dropzone dev-vertical-dropzone-${this.options.prefix}`;\r\n    },\r\n\r\n    getDistance(position) {\r\n        const elPosition = this.el.offset();\r\n\r\n        if (position.y < elPosition.top || position.y > elPosition.top + this.el.offsetHeight) {\r\n            return Number.MAX_VALUE;\r\n        }\r\n\r\n        return Math.abs(position.x - (elPosition.left + this.el.offsetWidth / 2));\r\n    },\r\n\r\n    activate() {\r\n        this.el.classList.add(classes.DROPZONE_ACTIVE);\r\n    },\r\n\r\n    deactivate() {\r\n        this.el.classList.remove(classes.DROPZONE_ACTIVE);\r\n    },\r\n\r\n    enter() {\r\n        this.el.classList.add(classes.DROPZONE_HOVER);\r\n    },\r\n\r\n    leave() {\r\n        this.el.classList.remove(classes.DROPZONE_HOVER);\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/verticalLayoutComponent.html';\r\nimport DropzoneView from './DropzoneView';\r\nimport ComponentBehavior from '../behaviors/ComponentBehavior';\r\nimport VerticalDropzoneView from './VerticalDropzoneView';\r\nimport { helpers } from 'utils';\r\n\r\nconst collapsedClass = 'dev-collapsed';\r\n\r\nexport default Marionette.CompositeView.extend({\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'model');\r\n\r\n        this.reqres = options.reqres;\r\n        this.componentReqres = options.componentReqres;\r\n\r\n        this.collection = this.model.get(this.model.get('childrenAttribute') || 'rows');\r\n        this.dropzones = {};\r\n        this.listenTo(options.canvasAggregator, 'drop-zone:collect', this.__collectDropzones);\r\n    },\r\n\r\n    behaviors: [ComponentBehavior],\r\n\r\n    className: 'ld-canvas-wrp js-system-container',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    events: {\r\n        'click @ui.toggleCollapseButton': '__toggleCollapse'\r\n    },\r\n\r\n    ui: {\r\n        container: '.js-container',\r\n        toggleCollapseButton: '.js-toggle',\r\n        name: '.js-name'\r\n    },\r\n\r\n    modelEvents: {\r\n        'change:collapsed': '__onCollapsedChange'\r\n    },\r\n\r\n    childViewContainer: '.js-container',\r\n\r\n    childViewOptions() {\r\n        return {\r\n            reqres: this.reqres,\r\n            canvasAggregator: this.getOption('canvasAggregator'),\r\n            canvasReqres: this.getOption('canvasReqres'),\r\n            componentReqres: this.componentReqres\r\n        };\r\n    },\r\n\r\n    childView(childModel) {\r\n        return this.reqres.request('component:resolve', childModel);\r\n    },\r\n\r\n    onBeforeAttach() {\r\n        if (this.model.get('horizontalDrops')) {\r\n            this.__addOneDropZone();\r\n            return;\r\n        }\r\n        this.__addDropZones(this.children);\r\n\r\n        if (this.model.get('horizontalDrops')) {\r\n            this.__renderColumnDropZones();\r\n        }\r\n    },\r\n\r\n    onBeforeRemoveChild(view) {\r\n        if (!this.dropzones) {\r\n            return;\r\n        }\r\n\r\n        const dropzoneView = this.dropzones[view.model.cid];\r\n        const dropzoneColumnViewLeft = this.dropzones[`addColumn${view.model.cid}left`];\r\n        const dropzoneColumnViewRight = this.dropzones[`addColumn${view.model.cid}right`];\r\n\r\n        delete this.dropzones[view.model.cid];\r\n\r\n        if (dropzoneView) {\r\n            dropzoneView.destroy();\r\n        }\r\n        if (dropzoneColumnViewLeft) {\r\n            delete this.dropzones[`addColumn${view.model.cid}left`];\r\n            dropzoneColumnViewLeft.destroy();\r\n        }\r\n        if (dropzoneColumnViewRight) {\r\n            delete this.dropzones[`addColumn${view.model.cid}right`];\r\n            dropzoneColumnViewRight.destroy();\r\n        }\r\n    },\r\n\r\n    onRemoveChild(view) {\r\n        if (this.collection.length && view.dropzones && view.dropzones[`addColumn${view.model.cid}left`]) {\r\n            const newFirstView = this.children.findByModel(this.collection.at(0));\r\n\r\n            newFirstView && newFirstView.$el.prepend(newFirstView.renderNewColumnZone(newFirstView.model, 'left'));\r\n        }\r\n    },\r\n\r\n    renderNewColumnZone(modelBefore, prefix) {\r\n        const verticalDropzoneView = new VerticalDropzoneView({\r\n            prefix,\r\n            context: {\r\n                containerModel: this.model,\r\n                modelBefore,\r\n                axis: 'x'\r\n            }\r\n        });\r\n\r\n        let id = modelBefore ? modelBefore.cid : '';\r\n        id = `addColumn${id}${prefix}`;\r\n\r\n        this.dropzones[id] = verticalDropzoneView;\r\n        this.listenTo(verticalDropzoneView, 'drop', context => this.__onNewColumnDrop(context, prefix));\r\n\r\n        return verticalDropzoneView.render().$el;\r\n    },\r\n\r\n    __collectDropzones(dragContext, zones) {\r\n        const isDropPossible = this.componentReqres && this.componentReqres.request('component:validate:drop', { container: this, context: dragContext });\r\n\r\n        if (isDropPossible !== false) {\r\n            Object.values(this.dropzones).forEach(v => {\r\n                const containerModel = v.context.containerModel;\r\n                const parent = containerModel && containerModel.parent;\r\n                let childMaxDesc;\r\n                let collection;\r\n                if (!parent) {\r\n                    return;\r\n                }\r\n                if (v.context.axis === 'x') {\r\n                    childMaxDesc = parent.get('maximumDescendantsByX');\r\n                    collection = containerModel.collection;\r\n                } else {\r\n                    childMaxDesc = containerModel.get('maximumDescendantsByY');\r\n                    collection = containerModel.getChildren();\r\n                }\r\n                if (!childMaxDesc || !collection || collection.length < childMaxDesc) {\r\n                    zones.push(v);\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    __toggleCollapse() {\r\n        this.model.set('collapsed', !this.model.get('collapsed'));\r\n        return false;\r\n    },\r\n\r\n    __onCollapsedChange(model, collapsed) {\r\n        this.ui.toggleCollapseButton.classList.toggle(collapsedClass, collapsed);\r\n        return false;\r\n    },\r\n\r\n    __renderColumnDropZones() {\r\n        const index = this.model.collection.indexOf(this.model);\r\n\r\n        if (index === 0) {\r\n            this.el.prepend(this.renderNewColumnZone(this.model, 'left'));\r\n        }\r\n\r\n        this.el.append(this.renderNewColumnZone(this.model, 'right'));\r\n    },\r\n\r\n    __onDrop(context) {\r\n        const index = this.collection.indexOf(context.zoneContext.modelBefore) + 1;\r\n        switch (context.dragContext.operation) {\r\n            case 'create':\r\n                this.reqres.request('component:add', context.dragContext.model, this.collection, index);\r\n                break;\r\n            case 'move':\r\n                this.reqres.request('component:move', context.dragContext.model, this.collection, index);\r\n                break;\r\n            default:\r\n                Core.utils.helpers.throwInvalidOperationError();\r\n        }\r\n    },\r\n\r\n    onAddChild(view) {\r\n        const index = this.collection.indexOf(view.model);\r\n\r\n        if (index === 0 && this.collection.length > 1) {\r\n            const oldMostLeftView = this.children.findByModel(this.collection.at(1));\r\n\r\n            if (oldMostLeftView && oldMostLeftView.dropzones) {\r\n                const leftDZId = `addColumn${oldMostLeftView.model.cid}left`;\r\n\r\n                if (oldMostLeftView.dropzones[leftDZId]) {\r\n                    oldMostLeftView.dropzones[leftDZId].destroy();\r\n                    delete oldMostLeftView.dropzones[leftDZId];\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.model.get('horizontalDrop')) {\r\n            view.$el.after(this.__renderDropzone(view.model));\r\n        }\r\n    },\r\n\r\n    __onNewColumnDrop(context, prefix) {\r\n        const index = this.model.collection.indexOf(this.model);\r\n\r\n        if (context.dragContext.operation === 'create') {\r\n            this.reqres.request('component:add:column', context.dragContext.model, this.collection, prefix, index);\r\n        } else if (context.dragContext.operation === 'move') {\r\n            this.reqres.request('component:move:column', context.dragContext.model, this.collection, prefix, index);\r\n        }\r\n    },\r\n\r\n    __addDropZones(children) {\r\n        this.ui.container.prepend(this.__renderDropzone(null));\r\n        children.forEach(child => child.$el.after(this.__renderDropzone(child.model)));\r\n    },\r\n\r\n    __addOneDropZone() {\r\n        this.ui.container.after(this.__renderDropzone(this.model.cid));\r\n    },\r\n\r\n    __renderDropzone(modelBefore) {\r\n        const dropzoneView = new DropzoneView({\r\n            context: {\r\n                containerModel: this.model,\r\n                modelBefore,\r\n                axis: 'y'\r\n            }\r\n        });\r\n        this.dropzones[modelBefore ? modelBefore.cid : null] = dropzoneView;\r\n        this.listenTo(dropzoneView, 'drop', this.__onDrop);\r\n        return dropzoneView.render().$el;\r\n    }\r\n});\r\n","module.exports = \"<div class=\\\"js-add-component fr-btn fr-btn__ld\\\" title=\\\"{{name}}\\\"><i class=\\\"fa fa-{{iconClass}}\\\" aria-hidden=\\\"true\\\"></i></div>\\r\\n\";","module.exports = \"<div class='region js-custom-attributes-region'></div>\\r\\n\";","module.exports = \"{{text}}\";","module.exports = \"<div class=\\\"ld-list-item__link js-drag-handle\\\" title=\\\"{{text}}\\\">\\r\\n    {{#if iconClass}}\\r\\n        <i class=\\\"dev-ld-list-item-icon fa fa-lg fa-{{iconClass}}\\\" aria-hidden=\\\"true\\\"></i>\\r\\n    {{else}}\\r\\n        <div class=\\\"ld-list-item-icon\\\"></div>\\r\\n    {{/if}}\\r\\n\\r\\n    {{#if hasChildren}}\\r\\n    <span class=\\\"js-toggle ld-list-item-arrow dev-list-item-arrow\\\"></span>\\r\\n    {{/if}}\\r\\n    <div class=\\\"ld-list-item-title\\\">\\r\\n        <span class=\\\"ld-list-item-title__name {{#if hasChildren}}ld-list-item-title__name_group{{/if}} js-name\\\">{{title}}</span>\\r\\n        <span class=\\\"ld-list-item-title__system js-text\\\">{{text}}</span>\\r\\n    </div>\\r\\n</div>\\r\\n{{#if hasChildren}}\\r\\n    <div class=\\\"js-context-items-container ld-list-item__sublink\\\"></div>\\r\\n{{/if}}\";","module.exports = \"<div class='ld-list__elements js-elements-region'></div>\\r\\n<div class='ld-list__toolbar js-toolbar-region'></div>\\r\\n<div class='ld-list__list js-list-region'></div>\\r\\n\";","module.exports = \"<div class=\\\"js-drag-handle ld-palette-icon dev-icon-palette-item\\\" title=\\\"{{name}}\\\"></div>\\r\\n\";","module.exports = \"<div class='region js-custom-attributes-region'></div>\\r\\n\";","module.exports = \"<div class=\\\"fd-draggable-helper\\\">\\r\\n    <div class=\\\"ld-list-item__link\\\">\\r\\n        <div class=\\\"ld-list-item-icon\\\"></div>\\r\\n        <div class=\\\"ld-list-item-title\\\">\\r\\n            <div class=\\\"ld-list-item-title__name js-drag-title\\\"></div>\\r\\n            <div class=\\\"ld-list-item-title__system js-drag-subtitle\\\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";","module.exports = \"<div class=\\\"ld-list-toolbar__search\\\">\\r\\n    <div class=\\\"js-search-region ld-search-region\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"js-actions-region ld-list-toolbar__btns\\\"></div>\\r\\n\\r\\n\";","//@flow\r\nimport template from '../templates/action.html';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'ld-list-toolbar__btn',\r\n\r\n    templateContext() {\r\n        return {\r\n            iconClass: this.model.get('icon') || 'plus'\r\n        };\r\n    },\r\n\r\n    triggers: {\r\n        click: 'action:clicked'\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/customContextPalette.html';\r\nimport CustomAttributesView from './CustomAttributesView';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize() {\r\n        this.reqres = this.options.reqres;\r\n\r\n        _.bindAll(this, '__onDragStart', '__onDragStop', '__onDragMove');\r\n\r\n        this.__refreshModel(this.options.context);\r\n    },\r\n\r\n    className: 'region',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    regions: {\r\n        customAttributesRegion: '.js-custom-attributes-region'\r\n    },\r\n\r\n    updatePalette(model) {\r\n        this.__refreshModel(model.get('context'), model.get('userCommands'));\r\n        this.render();\r\n    },\r\n\r\n    childViewOptions() {\r\n        return {\r\n            reqres: this.reqres\r\n        };\r\n    },\r\n\r\n    onRender() {\r\n        const customAttributesView = new CustomAttributesView({\r\n            reqres: this.reqres,\r\n            collection: this.customCollection,\r\n            isStaticTree: this.options.config.isStaticTree,\r\n            iconsProperty: this.options.config.iconsProperty,\r\n            displayPaletteAttribute: this.options.config.displayPaletteAttribute\r\n        });\r\n        this.listenTo(customAttributesView, 'element:drag:start', this.__onDragStart);\r\n        this.listenTo(customAttributesView, 'element:drag:stop', this.__onDragStop);\r\n        this.listenTo(customAttributesView, 'element:drag:move', this.__onDragMove);\r\n        this.listenTo(customAttributesView, 'element:dblclick', this.__onDblClick);\r\n        this.listenTo(customAttributesView, 'context:toggle', this.__onContextToggle);\r\n\r\n        this.showChildView('customAttributesRegion', customAttributesView);\r\n        this.trigger('toolbar:update:searchModel', this.customCollection);\r\n    },\r\n\r\n    __onDragStart(dragContext, event, ui) {\r\n        this.trigger('element:drag:start', dragContext, event, ui);\r\n    },\r\n\r\n    __onDragStop(dragContext, event, ui) {\r\n        this.trigger('element:drag:stop', dragContext, event, ui);\r\n    },\r\n\r\n    __onDragMove(dragContext, event, ui) {\r\n        this.trigger('element:drag:move', dragContext, event, ui);\r\n    },\r\n\r\n    __onDblClick(model) {\r\n        this.trigger('element:dblclick', model);\r\n    },\r\n\r\n    __onContextToggle() {\r\n        this.trigger('updateScroller');\r\n        this.trigger('scrollToBottom');\r\n    },\r\n\r\n    __refreshModel(model, staticModel) {\r\n        if (model) {\r\n            const contextModel = new Backbone.Model({\r\n                instanceTypeId: this.options.recordTypeId,\r\n                context: model,\r\n                propertyTypes: [],\r\n                usePropertyTypes: false\r\n            });\r\n            //contextModel.populateChildren();\r\n            this.customCollection = contextModel.get('children');\r\n            //todo add logic for population\r\n            const staticCollection = staticModel || this.options.config.collection;\r\n            if (staticCollection) {\r\n                this.customCollection.add(staticCollection.models);\r\n            }\r\n        } else {\r\n            this.customCollection = new Core.collections.VirtualCollection(this.getOption('config').collection);\r\n        }\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/customContextPaletteEmpty.html';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext: {\r\n        text: 'Replace it' //Localizer.get('PROCESS.RECORDTYPES.FORM.CONTEXT.NOATTRIBUTES')\r\n    },\r\n\r\n    className: 'fb-filters-empty'\r\n});\r\n","//@flow\r\nimport template from '../templates/customContextPaletteItem.html';\r\nimport itemDragHelper from '../templates/itemDragHelper.html';\r\n\r\nconst paletteItemClassNameSuffix = 'ld-list-item_';\r\n\r\nexport default Marionette.CompositeView.extend({\r\n    initialize(options) {\r\n        this.reqres = options.reqres;\r\n\r\n        _.bindAll(this, '__startDragging', '__stopDragging', '__dragDragging', '__onChildDragStart', '__onChildDragStop', '__onChildDragMove');\r\n        this.collection = this.model.get('children');\r\n    },\r\n\r\n    className: 'ld-list-item',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        let title = '';\r\n        const displayAttribute = this.options.displayPaletteAttribute;\r\n        if (displayAttribute) {\r\n            title = this.model.get(displayAttribute);\r\n        } else {\r\n            title = this.model.get('name');\r\n        }\r\n        return {\r\n            title\r\n        };\r\n    },\r\n\r\n    modelEvents: {\r\n        collapsed: '__onModelCollapsed',\r\n        expanded: '__onModelExpanded',\r\n        highlighted: '__onHighlighted',\r\n        unhighlighted: '__onUnhighlighted'\r\n    },\r\n\r\n    ui: {\r\n        dragHandle: '.js-drag-handle',\r\n        name: '.js-name',\r\n        text: '.js-text'\r\n    },\r\n\r\n    events: {\r\n        'click .js-toggle': '__toggleCollapsed',\r\n        dblclick: '__editAttribute'\r\n    },\r\n\r\n    classes: {\r\n        collapsed: 'ld-list-item_collapsed',\r\n        expanded: 'ld-list-item_expanded',\r\n        disabled: 'ld-list-item_disabled',\r\n        static: 'dev-ld-list-item_static'\r\n    },\r\n\r\n    onRender() {\r\n        const iconsProperty = this.options.iconsProperty;\r\n        const itemSuffix = this.model.get(iconsProperty || 'fieldType').toLowerCase();\r\n        this.el.classList.add(paletteItemClassNameSuffix + itemSuffix);\r\n        this.el.classList.add(this.classes.static);\r\n        this.__updateChildren(true);\r\n        this.ui.dragHandle.draggable({\r\n            appendTo: '.js-module-region',\r\n            helper: () => itemDragHelper,\r\n            cursorAt: {\r\n                top: -30,\r\n                left: -20\r\n            },\r\n            start: this.__startDragging,\r\n            stop: this.__stopDragging,\r\n            drag: this.__dragDragging\r\n        });\r\n    },\r\n\r\n    childViewEvents: {\r\n        'drag:start': '__onChildDragStart',\r\n        'drag:stop': '__onChildDragStop',\r\n        'drag:move': '__onChildDragMove',\r\n        'context:toggle': '__onChildContextToggle',\r\n        'element:dblclick': '__onDblClick'\r\n    },\r\n\r\n    childViewOptions() {\r\n        return {\r\n            reqres: this.reqres,\r\n            isStaticTree: this.getOption('isStaticTree')\r\n        };\r\n    },\r\n\r\n    childViewContainer: '.js-context-items-container',\r\n\r\n    __onModelCollapsed() {\r\n        this.__updateChildren();\r\n    },\r\n\r\n    __onModelExpanded() {\r\n        this.__updateChildren();\r\n    },\r\n\r\n    __toggleCollapsed() {\r\n        this.model.toggleCollapsed();\r\n        return false;\r\n    },\r\n\r\n    __editAttribute() {\r\n        if (!this.options.isStaticTree) {\r\n            this.reqres.request('handle:edit', this.model);\r\n        } else {\r\n            this.trigger('element:dblclick', this.model);\r\n        }\r\n        return false;\r\n    },\r\n\r\n    __updateChildren(noTrigger) {\r\n        if (!this.model.get('hasChildren')) {\r\n            return;\r\n        }\r\n        const collapsed = this.model.getCollapsed();\r\n\r\n        if (collapsed) {\r\n            this.el.children(this.childViewContainer).setAttribute('displayNone', true);\r\n            this.el.classList.add(this.classes.collapsed);\r\n            this.el.classList.remove(this.classes.expanded);\r\n        } else {\r\n            this.el.children(this.childViewContainer).removeAttribute('displayNone');;\r\n            this.el.classList.remove(this.classes.collapsed);\r\n            this.el.classList.add(this.classes.expanded);\r\n        }\r\n        if (!noTrigger) {\r\n            this.trigger('context:toggle', collapsed);\r\n        }\r\n    },\r\n\r\n    __onChildContextToggle(parentView, collapsed) {\r\n        this.trigger('context:toggle', collapsed);\r\n    },\r\n\r\n    __startDragging(event, ui) {\r\n        const contextModel = this.reqres.request('element:create', this.model);\r\n        this.dragContext = {\r\n            operation: 'create',\r\n            model: contextModel\r\n        };\r\n        this.__updateDragElementClass(ui.helper, contextModel);\r\n        this.trigger('drag:start', this.dragContext, event, ui, this);\r\n    },\r\n\r\n    __stopDragging(event, ui) {\r\n        this.trigger('drag:stop', this.dragContext, event, ui, this);\r\n        this.dragContext = null;\r\n    },\r\n\r\n    __dragDragging(event, ui) {\r\n        this.trigger('drag:move', this.dragContext, event, ui, this);\r\n    },\r\n\r\n    __onChildDragStart(dragContext, event, ui) {\r\n        this.trigger('drag:start', dragContext, event, ui);\r\n    },\r\n\r\n    __onChildDragStop(dragContext, event, ui) {\r\n        this.trigger('drag:stop', dragContext, event, ui);\r\n    },\r\n\r\n    __onChildDragMove(dragContext, event, ui) {\r\n        this.trigger('drag:move', dragContext, event, ui);\r\n    },\r\n\r\n    __updateDragElementClass(dragHelper, componentModel) {\r\n        const draggableItemSuffix = componentModel.get('fieldType').toLowerCase();\r\n        dragHelper.find('.js-drag-title').text(componentModel.get('name'));\r\n        dragHelper.find('.js-drag-subtitle').text(componentModel.get('pathNames'));\r\n        dragHelper.classList.add(paletteItemClassNameSuffix + draggableItemSuffix);\r\n    },\r\n\r\n    __onDblClick(view, model) {\r\n        if (this.getOption('isStaticTree')) {\r\n            this.trigger('element:dblclick', model);\r\n        }\r\n    },\r\n\r\n    __onHighlighted(model) {\r\n        const name = model.get('name');\r\n        const text = model.get('text');\r\n        const regexp = new RegExp(model.highlightedFragment, 'i');\r\n        if (name && regexp.test(name)) {\r\n            this.ui.name.html(Core.utils.htmlHelpers.highlightText(name, model.highlightedFragment));\r\n        } else if (text && regexp.test(text)) {\r\n            this.ui.text.html(Core.utils.htmlHelpers.highlightText(text, model.highlightedFragment));\r\n        }\r\n    },\r\n\r\n    __onUnhighlighted(model) {\r\n        const name = model.get('name');\r\n        const text = model.get('text');\r\n        if (name) {\r\n            this.ui.name.text(name);\r\n        } else if (text) {\r\n            this.ui.text.text(text);\r\n        }\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/customContextPalette.html';\r\nimport CustomAttributesItemView from './CustomAttributesItemView';\r\nimport CustomAttributesEmptyView from './CustomAttributesEmptyView';\r\n\r\nconst draggableHelperClassNameSuffix = 'ld-list-item_';\r\n\r\nexport default Marionette.CollectionView.extend({\r\n    initialize() {\r\n        _.bindAll(this, '__onChildDragStart', '__onChildDragStop', '__onChildDragMove');\r\n    },\r\n\r\n    className: 'region dev-custom-attributes',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    childView: CustomAttributesItemView,\r\n\r\n    emptyView: CustomAttributesEmptyView,\r\n\r\n    childViewOptions() {\r\n        return {\r\n            reqres: this.getOption('reqres'),\r\n            isStaticTree: this.getOption('isStaticTree'),\r\n            displayPaletteAttribute: this.getOption('displayPaletteAttribute'),\r\n            iconsProperty: this.getOption('iconsProperty')\r\n        };\r\n    },\r\n\r\n    childViewEvents: {\r\n        'drag:start': '__onChildDragStart',\r\n        'drag:stop': '__onChildDragStop',\r\n        'drag:move': '__onChildDragMove',\r\n        'context:toggle': '__onChildContextToggle',\r\n        'element:dblclick': '__onDblClick'\r\n    },\r\n\r\n    __onChildDragStart(dragContext, event, ui) {\r\n        this.__updateDragElementClass(ui.helper, dragContext.model);\r\n        this.trigger('element:drag:start', dragContext, event, ui);\r\n    },\r\n\r\n    __onChildDragStop(dragContext, event, ui) {\r\n        this.trigger('element:drag:stop', dragContext, event, ui);\r\n    },\r\n\r\n    __onChildDragMove(dragContext, event, ui) {\r\n        this.trigger('element:drag:move', dragContext, event, ui);\r\n    },\r\n\r\n    __onChildContextToggle() {\r\n        this.trigger('context:toggle');\r\n    },\r\n\r\n    __updateDragElementClass(dragHelper, componentModel) {\r\n        const draggableItemSuffix = componentModel.get('fieldType').toLowerCase();\r\n        dragHelper.find('.js-drag-title').text(componentModel.get('name'));\r\n        dragHelper.find('.js-drag-subtitle').text(componentModel.get('pathNames'));\r\n        dragHelper.classList.add(draggableHelperClassNameSuffix + draggableItemSuffix);\r\n    },\r\n\r\n    __onDblClick(model) {\r\n        if (this.getOption('isStaticTree')) {\r\n            this.trigger('element:dblclick', model);\r\n        }\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/iconItem.html';\r\nimport itemDragHelper from '../templates/itemDragHelper.html';\r\n\r\nconst paletteItemClassNameSuffix = 'ld-icon-item_';\r\n\r\nexport default Marionette.CollectionView.extend({\r\n    initialize(options) {\r\n        this.reqres = options.reqres;\r\n\r\n        _.bindAll(this, '__startDragging', '__stopDragging', '__dragDragging', '__onChildDragStart', '__onChildDragStop', '__onChildDragMove');\r\n    },\r\n\r\n    className: 'dev-palette-icon-item',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    ui: {\r\n        dragHandle: '.js-drag-handle'\r\n    },\r\n\r\n    classes: {\r\n        collapsed: 'ld-list-item_collapsed',\r\n        expanded: 'ld-list-item_expanded',\r\n        disabled: 'ld-list-item_disabled'\r\n    },\r\n\r\n    onRender() {\r\n        const iconsProperty = this.options.iconsProperty;\r\n        const itemSuffix = this.model.get(iconsProperty || 'fieldType').toLowerCase();\r\n        this.el.classList.add(paletteItemClassNameSuffix + itemSuffix);\r\n        this.ui.dragHandle.draggable({\r\n            appendTo: '.js-module-region',\r\n            helper: () => itemDragHelper,\r\n            cursorAt: {\r\n                top: -30,\r\n                left: -20\r\n            },\r\n            start: this.__startDragging,\r\n            stop: this.__stopDragging,\r\n            drag: this.__dragDragging\r\n        });\r\n    },\r\n\r\n    childViewEvents: {\r\n        'drag:start': '__onChildDragStart',\r\n        'drag:stop': '__onChildDragStop',\r\n        'drag:move': '__onChildDragMove'\r\n    },\r\n\r\n    __startDragging(event, ui) {\r\n        const contextModel = this.reqres.request('element:create', this.model);\r\n        this.dragContext = {\r\n            operation: 'create',\r\n            model: contextModel\r\n        };\r\n        this.__updateDragElementClass(ui.helper, contextModel);\r\n        this.trigger('drag:start', this.dragContext, event, ui, this);\r\n    },\r\n\r\n    __stopDragging(event, ui) {\r\n        this.trigger('drag:stop', this.dragContext, event, ui, this);\r\n        this.dragContext = null;\r\n    },\r\n\r\n    __dragDragging(event, ui) {\r\n        this.trigger('drag:move', this.dragContext, event, ui, this);\r\n    },\r\n\r\n    __onChildDragStart(dragContext, event, ui) {\r\n        this.trigger('drag:start', dragContext, event, ui);\r\n    },\r\n\r\n    __onChildDragStop(dragContext, event, ui) {\r\n        this.trigger('drag:stop', dragContext, event, ui);\r\n    },\r\n\r\n    __onChildDragMove(dragContext, event, ui) {\r\n        this.trigger('drag:move', dragContext, event, ui);\r\n    },\r\n\r\n    __updateDragElementClass(dragHelper, componentModel) {\r\n        const draggableItemSuffix = componentModel.get('fieldType').toLowerCase();\r\n        dragHelper.find('.js-drag-title').text(componentModel.get('name'));\r\n        dragHelper.find('.js-drag-subtitle').text(componentModel.get('pathNames'));\r\n        dragHelper.classList.add(paletteItemClassNameSuffix + draggableItemSuffix);\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/iconPalette.html';\r\nimport IconItemView from './IconItemView';\r\n\r\nconst draggableHelperClassNameSuffix = 'ld-list-item_';\r\n\r\nexport default Marionette.CollectionView.extend({\r\n    initialize() {\r\n        _.bindAll(this, '__onChildDragStart', '__onChildDragStop', '__onChildDragMove');\r\n    },\r\n\r\n    className: 'region',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    childView: IconItemView,\r\n\r\n    childViewOptions() {\r\n        return {\r\n            reqres: this.getOption('reqres')\r\n        };\r\n    },\r\n\r\n    childViewEvents: {\r\n        'drag:start': '__onChildDragStart',\r\n        'drag:stop': '__onChildDragStop',\r\n        'drag:move': '__onChildDragMove',\r\n        'context:toggle': '__onChildContextToggle'\r\n    },\r\n\r\n    __onChildDragStart(dragContext, event, ui, view) {\r\n        this.__updateDragElementClass(ui.helper, dragContext.model);\r\n        this.trigger('element:drag:start', view, dragContext, event, ui);\r\n    },\r\n\r\n    __onChildDragStop(dragContext, event, ui, view) {\r\n        this.trigger('element:drag:stop', view, dragContext, event, ui);\r\n    },\r\n\r\n    __onChildDragMove(dragContext, event, ui, view) {\r\n        this.trigger('element:drag:move', view, dragContext, event, ui);\r\n    },\r\n\r\n    __onChildContextToggle() {\r\n        this.trigger('context:toggle');\r\n    },\r\n\r\n    __updateDragElementClass(dragHelper, componentModel) {\r\n        const draggableItemSuffix = componentModel.get('fieldType').toLowerCase();\r\n        dragHelper.find('.js-drag-title').text(componentModel.get('name'));\r\n        dragHelper.find('.js-drag-subtitle').text(componentModel.get('pathNames'));\r\n        dragHelper.classList.add(draggableHelperClassNameSuffix + draggableItemSuffix);\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/paletteToolbar.html';\r\nimport ToolbarActionsView from './ToolbarActionsView';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        if (options.config.toolbar) {\r\n            this.actionsView = this.__createActionsView(options.config.toolbar.actions);\r\n        }\r\n        this.displayAttribute = options.config.displayPaletteAttribute || 'name';\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    ui: {\r\n        searchToggle: '.js-search-toggle'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.addComponents': '__addComponent'\r\n    },\r\n\r\n    regions: {\r\n        searchRegion: '.js-search-region',\r\n        actionsRegion: '.js-actions-region'\r\n    },\r\n\r\n    className: 'ld-list-toolbar',\r\n\r\n    onRender() {\r\n        this.showChildView('searchRegion', this.__createSearchView());\r\n        if (this.getOption('config').toolbar) {\r\n            this.showChildView('actionsRegion', this.actionsView);\r\n            this.listenTo(this.actionsView, 'execute', actionId => this.trigger('execute', actionId));\r\n        }\r\n    },\r\n\r\n    updateSearchModel(collection) {\r\n        this.searchCollection = collection;\r\n    },\r\n\r\n    __createSearchView() {\r\n        const searchBarView = new Core.views.SearchBarView();\r\n        searchBarView.on('search', text => {\r\n            this.__setCollapsed(this.searchCollection, true);\r\n            this.__unhighlightCollection(this.searchCollection);\r\n            this.isFiltered && this.__clearFilter(this.searchCollection);\r\n            this.isFiltered = !!text;\r\n            if (text) {\r\n                this.__applyFilter(this.searchCollection, new RegExp(text, 'i'));\r\n                this.__highlightCollection(this.searchCollection, text);\r\n            }\r\n        });\r\n        return searchBarView;\r\n    },\r\n\r\n    __createActionsView(collection) {\r\n        return new ToolbarActionsView({ collection });\r\n    },\r\n\r\n    __addComponent(event) {\r\n        this.trigger('add:attribute', event);\r\n    },\r\n\r\n    __applyFilter(collection, regexp, parents = []) {\r\n        collection.forEach(model => {\r\n            parents.push(model);\r\n            const children = model.get('children');\r\n            const result = this.__hasChildren(model) && this.__applyFilter(children, regexp, parents);\r\n            parents.pop();\r\n            if (typeof model.setCollapsed === 'function' && model.needToExpand) {\r\n                _.delay(() => {\r\n                    model.setCollapsed(true);\r\n                    model.toggleCollapsed();\r\n                });\r\n            }\r\n            return result;\r\n        });\r\n        collection.filter(\r\n            model => (this.__hasChildren(model) && model.get('children').length > 0) || this.__testValue(model, regexp) || parents.some(parent => this.__testValue(parent, regexp))\r\n        );\r\n        if (parents.length) {\r\n            parents[parents.length - 1].needToExpand = collection.models.some(child => this.__testValue(child, regexp) || child.needToExpand);\r\n        }\r\n    },\r\n\r\n    __testValue(model, regexp) {\r\n        return regexp.test(model.get(this.displayAttribute)) || regexp.test(model.get('text'));\r\n    },\r\n\r\n    __highlightCollection(collection, text) {\r\n        if (!(typeof collection.highlight === 'function')) {\r\n            Core.utils.helpers.applyBehavior(collection, Core.collections.behaviors.HighlightableBehavior);\r\n        }\r\n        collection.highlight(text);\r\n        collection.each(model => {\r\n            if (this.__hasChildren(model)) {\r\n                this.__highlightCollection(model.get('children'), text);\r\n            }\r\n        });\r\n    },\r\n\r\n    __unhighlightCollection(collection) {\r\n        if (!(typeof collection.unhighlight === 'function')) {\r\n            Core.utils.helpers.applyBehavior(collection, Core.collections.behaviors.HighlightableBehavior);\r\n        }\r\n        collection.unhighlight();\r\n        collection.each(model => {\r\n            if (this.__hasChildren(model)) {\r\n                this.__unhighlightCollection(model.get('children'));\r\n            }\r\n        });\r\n    },\r\n\r\n    __clearFilter(collection) {\r\n        collection.filter(null);\r\n        collection.forEach(model => model.has('children') && this.__clearFilter(model.get('children')));\r\n    },\r\n\r\n    __setCollapsed(collection, value) {\r\n        collection.forEach(model => {\r\n            if (typeof model.setCollapsed === 'function') {\r\n                model.setCollapsed(!value);\r\n                model.toggleCollapsed();\r\n            }\r\n            this.__hasChildren(model) && this.__setCollapsed(model.get('children'), value);\r\n        });\r\n    },\r\n\r\n    __hasChildren(model) {\r\n        return model.get('children') && model.get('children').length > 0;\r\n    }\r\n});\r\n","//@flow\r\nimport ActionView from './ActionView';\r\n\r\nexport default Marionette.CollectionView.extend({\r\n    className: 'ld-list-toolbar-btns',\r\n\r\n    childView: ActionView,\r\n\r\n    childViewEvents: {\r\n        'action:clicked': '__handleActionClick'\r\n    },\r\n\r\n    __handleActionClick(event) {\r\n        this.trigger('execute', event.model.id);\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../../templates/clonePopoutButton.html';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'top-nav-error'\r\n});\r\n","//@flow\r\nimport template from '../../templates/clonePopoutPanel.html';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize() {\r\n        this.columns = this.__createColumnsList();\r\n        this.gridView = this.__createGrid();\r\n        this.listenTo(this.grid, 'execute', actionModel => this.trigger('click:clearEventsButton', actionModel));\r\n        this.listenTo(this.grid, 'click', rowModel => this.trigger('click:row', rowModel));\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'error-container',\r\n\r\n    regions: {\r\n        eventCenterGridRegion: '.js-event-center-grid-region'\r\n    },\r\n\r\n    ui: {\r\n        eventCenterButtonClose: '.js-event-center-button-close'\r\n    },\r\n\r\n    triggers: {\r\n        'click @ui.eventCenterButtonClose': 'click:closeButton'\r\n    },\r\n\r\n    onRender() {\r\n        this.getRegion('eventCenterGridRegion').show(this.gridView);\r\n    },\r\n\r\n    __createColumnsList() {\r\n        return [\r\n            {\r\n                id: 'id',\r\n                displayText: Localizer.get('PROCESS.FORMDESIGNER.TOOLBAR.ID'),\r\n                type: 'string',\r\n                width: 0.2\r\n            },\r\n            {\r\n                id: 'name',\r\n                displayText: Localizer.get('PROCESS.FORMDESIGNER.TOOLBAR.NAME'),\r\n                type: 'string',\r\n                width: 0.8\r\n            }\r\n        ];\r\n    },\r\n\r\n    __createGrid() {\r\n        const excludeActions = 'all';\r\n\r\n        this.grid = new Core.list.controllers.GridController({\r\n            columns: this.columns,\r\n            excludeActions,\r\n            collection: this.options.collection,\r\n            showFilter: true\r\n        });\r\n\r\n        return this.grid.view;\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../../templates/saveAs.html';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    regions: {\r\n        editorRegion: '.js-editor-region'\r\n    },\r\n\r\n    className: 'msg-popup',\r\n\r\n    ui: {\r\n        yesButton: '.js-button-yes',\r\n        cancelButton: '.js-button-cancel'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.yesButton': '__accept',\r\n        'click @ui.cancelButton': '__closePopup'\r\n    },\r\n\r\n    onRender() {\r\n        const schema = {\r\n            name: {\r\n                title: Localizer.get('PROCESS.RECORDTYPES.CONTEXT.PROPERTY.NAME'),\r\n                type: 'Text',\r\n                required: true,\r\n                autocommit: true,\r\n                validators: ['required']\r\n            },\r\n            alias: {\r\n                title: Localizer.get('PROCESS.RECORDTYPES.CONTEXT.PROPERTY.SYSTEMNAME'),\r\n                type: 'Text',\r\n                required: true,\r\n                autocommit: true,\r\n                validators: ['required']\r\n            }\r\n        };\r\n\r\n        this.view = new Core.layout.Form({\r\n            model: this.model,\r\n            schema,\r\n            content: new Core.layout.VerticalLayout({\r\n                rows: [Core.layout.createFieldAnchor('name'), Core.layout.createFieldAnchor('alias')]\r\n            })\r\n        });\r\n\r\n        this.getRegion('editorRegion').show(this.view);\r\n    },\r\n\r\n    __accept() {\r\n        const error = this.view.form.validate();\r\n        if (error) {\r\n            return;\r\n        }\r\n        this.trigger('accept', this.model);\r\n        this.__closePopup();\r\n    },\r\n\r\n    __closePopup() {\r\n        Core.services.WindowService.closePopup();\r\n    }\r\n});\r\n","//@flow\r\nimport GroupItemView from './views/DrawerItemView';\r\nimport GroupsCollection from './collections/GroupsCollection';\r\nimport template from './templates/navigationDrawer.html';\r\n\r\nexport default Marionette.CompositeView.extend({\r\n    initialize(options) {\r\n        this.collection = new GroupsCollection(options.collection);\r\n        this.collapsed = options.collapsed;\r\n        this.absolute = options.isAbsolute;\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    ui: {\r\n        titleContainer: '.js-drawer-title',\r\n        collapseButton: '.js-drawer-collapse'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.collapseButton': '__toggleCollapse'\r\n    },\r\n\r\n    className() {\r\n        return `navigationDrawer__ul ${this.options.isAbsolute ? 'navigationDrawer_absolute' : ''}`;\r\n    },\r\n\r\n    templateContext() {\r\n        return {\r\n            title: this.options.title\r\n        };\r\n    },\r\n\r\n    childView: GroupItemView,\r\n\r\n    childViewContainer: '.js-children-container',\r\n\r\n    onRender() {\r\n        this.__updatePanelStyle();\r\n    },\r\n\r\n    __toggleCollapse() {\r\n        this.collapsed = !this.collapsed;\r\n        this.__updatePanelStyle();\r\n        this.__updateTitleStyle();\r\n    },\r\n\r\n    __updatePanelStyle() {\r\n        this.absolute ? this.el.find('.js-children-container').css({ left: this.collapsed ? -250 : 0 }) : this.el.style.width = `${this.collapsed ? 40 : 250}px`;\r\n    },\r\n\r\n    __updateTitleStyle() {\r\n        this.collapsed ? this.ui.titleContainer.hide() : this.ui.titleContainer.removeAttribute('displayNone');\r\n    }\r\n});\r\n","//@flow\r\nimport SelectableBehavior from '../../../models/behaviors/SelectableBehavior';\r\nimport GroupModel from '../models/GroupModel';\r\n\r\nexport default Backbone.Collection.extend({\r\n    initialize() {\r\n        Object.assign(this, new SelectableBehavior.SingleSelect(this));\r\n    },\r\n\r\n    model: GroupModel\r\n});\r\n","//@flow\r\nimport SelectableBehavior from '../../../models/behaviors/SelectableBehavior';\r\n\r\nexport default Backbone.Model.extend({\r\n    initialize() {\r\n        Object.assign(this, new SelectableBehavior.Selectable(this));\r\n    }\r\n});\r\n","module.exports = \"<a href = '{{url}}' class=\\\"groups-link\\\">{{displayName}}</a>\";","module.exports = \"<div class=\\\"navigation-drawer_header\\\">\\r\\n    <div class=\\\"js-drawer-collapse navigationDrawer-collapse_button fa fa-bars fa-3\\\"></div>\\r\\n    <div class=\\\"js-drawer-title navigation-drawer_title\\\">{{title}}</div>\\r\\n</div>\\r\\n<div class=\\\"js-children-container drawer_children-container\\\"></div>\\r\\n\";","//@flow\r\nimport template from '../templates/groupItem.html';\r\n\r\nconst classes = {\r\n    selected: 'selected'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    onRender() {\r\n        this.el.classList.toggle(classes.selected, !!this.model.selected);\r\n    },\r\n\r\n    className: 'navigationDrawer__li'\r\n});\r\n","//@flow\r\nimport CustomActionGroupView from './views/CustomActionGroupView';\r\nimport template from './templates/toolbarView.html';\r\nimport { helpers } from 'utils';\r\n\r\nconst actionsMenuLabel = '';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize() {\r\n        helpers.ensureOption(this.options, 'allItemsCollection');\r\n\r\n        this.allItemsCollection = this.options.allItemsCollection;\r\n        this.toolbarItemsCollection = new Backbone.Collection(this.allItemsCollection.models);\r\n        this.menuItemsCollection = new Backbone.Collection();\r\n\r\n        this.toolbarActions = this.__createActionsGroupsView();\r\n        this.popupMenu = this.__createDropdownActionsView(this.menuItemsCollection);\r\n        this.listenTo(this.toolbarActions, 'actionSelected', model => this.trigger('command:execute', model));\r\n        this.listenTo(this.popupMenu, 'execute', (action, model) => this.trigger('command:execute', model));\r\n        this.debounceRebuild = _.debounce(() => this.rebuildView(), 500);\r\n        this.listenTo(Core.services.GlobalEventService, 'window:resize window:load', this.debounceRebuild);\r\n        this.listenTo(this.allItemsCollection, 'change add remove reset update', this.debounceRebuild);\r\n    },\r\n\r\n    className: 'js-toolbar-actions toolbar-container',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    regions: {\r\n        toolbarItemsRegion: '.js-toolbar-items',\r\n        popupMenuRegion: '.js-menu-actions-region'\r\n    },\r\n\r\n    onAttach() {\r\n        this.debounceRebuild();\r\n    },\r\n\r\n    onRender() {\r\n        this.showChildView('toolbarItemsRegion', this.toolbarActions);\r\n        this.showChildView('popupMenuRegion', this.popupMenu);\r\n        this.getRegion('popupMenuRegion').el.setAttribute('displayNone', true);\r\n    },\r\n\r\n    __createActionsGroupsView() {\r\n        return new CustomActionGroupView({\r\n            collection: this.toolbarItemsCollection,\r\n            reqres: this.options.reqres\r\n        });\r\n    },\r\n\r\n    rebuildView() {\r\n        if (this.isDestroyed()) {\r\n            return false;\r\n        }\r\n        this.toolbarItemsCollection.reset(this.allItemsCollection.models);\r\n        const toolbarActions = this.getRegion('toolbarItemsRegion')\r\n            .$el.children()\r\n            .children();\r\n        if (toolbarActions.length === 0) {\r\n            return;\r\n        }\r\n        const toolbarWidth = this.el.offsetWidth;\r\n        const menuActionsWidth = this.menuActionsWidth ? this.menuActionsWidth : this.menuActionsWidth = this.getRegion('popupMenuRegion').el.offsetWidth;\r\n        let childWidth = 0;\r\n        let notFitItem = -1;\r\n        toolbarActions.each((i, val) => {\r\n            childWidth += val.getBoundingClientRect().width;\r\n            if (childWidth + menuActionsWidth > toolbarWidth) {\r\n                if (i === toolbarActions.length - 1) {\r\n                    if (childWidth < toolbarWidth) {\r\n                        return;\r\n                    }\r\n                }\r\n                notFitItem = i;\r\n                return false;\r\n            }\r\n        });\r\n\r\n        if (notFitItem >= 0) {\r\n            this.getRegion('popupMenuRegion').el.removeAttribute('displayNone');\r\n            this.menuItemsCollection.reset(this.allItemsCollection.models.slice(notFitItem));\r\n            this.toolbarItemsCollection.reset(this.allItemsCollection.models.slice(0, notFitItem));\r\n        } else {\r\n            this.getRegion('popupMenuRegion').el.setAttribute('displayNone', true);\r\n        }\r\n    },\r\n\r\n    __createDropdownActionsView() {\r\n        return Core.dropdown.factory.createMenu({\r\n            text: actionsMenuLabel,\r\n            items: this.menuItemsCollection,\r\n            popoutFlow: 'right',\r\n            customAnchor: true\r\n        });\r\n    }\r\n});\r\n","//@flow\r\nexport const severity = {\r\n    None: {\r\n        class: 'toolbar-btn',\r\n        text: 'None',\r\n        id: 'None'\r\n    },\r\n    Low: {\r\n        class: 'toolbar-btn toolbar-btn_low',\r\n        text: 'Low',\r\n        id: 'Low'\r\n    },\r\n    Normal: {\r\n        class: 'toolbar-btn toolbar-btn_normal',\r\n        text: 'Normal',\r\n        id: 'Normal'\r\n    },\r\n    Major: {\r\n        class: 'toolbar-btn toolbar-btn_major',\r\n        text: 'Major',\r\n        id: 'Major'\r\n    },\r\n    Critical: {\r\n        class: 'toolbar-btn toolbar-btn_critical',\r\n        text: 'Critical',\r\n        id: 'Critical'\r\n    },\r\n    Fatal: {\r\n        class: 'toolbar-btn toolbar-btn_fatal',\r\n        text: 'Fatal',\r\n        id: 'Fatal'\r\n    }\r\n};\r\n\r\nexport const icons = {\r\n    Undefined: {\r\n        text: 'None',\r\n        id: 'Undefined',\r\n        icon: '<svg></svg>'\r\n    },\r\n    None: {\r\n        text: 'None',\r\n        id: 'None',\r\n        icon: '<svg></svg>'\r\n    },\r\n    Plus: {\r\n        text: 'Plus',\r\n        id: 'Plus',\r\n        icon:\r\n            '<svg viewBox=\"0 0 14 14\"><path class=\"d-svg-icons d-svg-icons_plus\" d=\"M13,6H8V1c0-0.6-0.4-1-1-1S6,0.4,6,1v5H1C0.4,6,0,6.4,0,7s0.4,1,1,1h5v5c0,0.6,0.4,1,1,1s1-0.4,1-1V8h5 c0.6,0,1-0.4,1-1S13.6,6,13,6z\"/></svg>'\r\n    },\r\n    Minus: {\r\n        text: 'Minus',\r\n        id: 'Minus',\r\n        icon: '<svg viewBox=\"0 0 14 14\"><path class=\"d-svg-icons d-svg-icons_minus\" d=\"M2,6h10c0.6,0,1,0.4,1,1s-0.4,1-1,1H2C1.4,8,1,7.6,1,7S1.4,6,2,6z\"/></svg>'\r\n    },\r\n    Clone: {\r\n        text: 'Clone',\r\n        id: 'Clone',\r\n        icon:\r\n            '<svg viewBox=\"0 0 14 14\"><path class=\"d-svg-icons d-svg-icons_clone\" d=\"M10,3H1C0.4,3,0,3.4,0,4v9c0,0.6,0.4,1,1,1h9c0.6,0,1-0.4,1-1V4C11,3.4,10.6,3,10,3z M10,12c0,0.6-0.4,1-1,1H2 c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h7c0.6,0,1,0.4,1,1V12z M9,6H2V5h7V6z M9,8H2V7h7V8z M9,10H2V9h7V10z M7,12H2v-1h5V12z\"/><path class=\"d-svg-icons d-svg-icons_clone\" d=\"M13,0H4C3.4,0,3,0.4,3,1v2h1V2c0-0.6,0.4-1,1-1h7c0.6,0,1,0.4,1,1v7c0,0.6-0.4,1-1,1h-1v1h2c0.6,0,1-0.4,1-1V1 C14,0.4,13.6,0,13,0z\"/></svg>'\r\n    },\r\n    Envelope: {\r\n        text: 'Envelope',\r\n        id: 'Envelope',\r\n        icon:\r\n            '<svg viewBox=\"0 0 14 14\"><path class=\"d-svg-icons d-svg-icons_envelope\" d=\"M0.9,1.9C0,1.9,0,2.8,0,2.8l5.5,5.1c1.5,1,2.8,0,2.8,0L14,2.8c0-0.9-0.9-1-0.9-1H0.9z\"/><path class=\"d-svg-icons d-svg-icons_envelope\" d=\"M0,3.7l2.8,2.8L0.9,11l2.7-3.5l1.8,1.4c0,0,2,1,3.1,0l1.7-1.5l2.8,3.7l-1.9-4.7L14,3.7v7.5c0,0-0.1,0.9-1,0.9 H1c0,0-1-0.1-1-0.9V3.7z\"/></svg>'\r\n    },\r\n    Pencil: {\r\n        text: 'Pencil',\r\n        id: 'Pencil',\r\n        icon:\r\n            '<svg viewBox=\"0 0 14 14\"><path class=\"d-svg-icons d-svg-icons_pencil\" d=\"M12,0.3c0,0-0.5-0.7-1.1-0.1L9.7,1.5l2.9,2.8l1.1-1.1c0,0,0.6-0.4,0-1L12,0.3z\"/><path class=\"d-svg-icons d-svg-icons_pencil\" d=\"M8.9,2.2l-7,7l3.1,2.7L12,5.1L8.9,2.2z\"/><path class=\"d-svg-icons d-svg-icons_pencil\" d=\"M1.1,10.1L0,14l4.2-1.3L1.1,10.1z\"/></svg>'\r\n    },\r\n    Search: {\r\n        text: 'Search',\r\n        id: 'Search',\r\n        icon:\r\n            '<svg viewBox=\"0 0 14 14\"><path class=\"d-svg-icons d-svg-icons_search\"  d=\"M13.6,12.1l-4-3.8c0.6-0.8,1.3-2.1,1.3-3.3c0-2.9-2.6-5-5.5-5C2.5,0,0.3,2.1,0.3,5c0,2.9,2.2,5.5,5.1,5.5 c0.8,0,1.8-0.4,2.4-0.7l4.1,4.1c0.2,0.2,0.6,0.2,0.9,0l0.9-0.9C13.8,12.7,13.8,12.3,13.6,12.1z M5.6,8.7C3.6,8.7,2,7.2,2,5.2 s1.6-3.5,3.5-3.5c1.9,0,3.5,1.6,3.5,3.5S7.5,8.7,5.6,8.7z\"/></svg>'\r\n    },\r\n    Ok: {\r\n        text: 'Ok',\r\n        id: 'Ok',\r\n        icon: '<svg viewBox=\"0 0 14 14\"><polygon class=\"d-svg-icons d-svg-icons_ok\" points=\"14,3.7 12.5,2.2 5.5,9 1.6,4.9 0,6.6 5.4,12.2 \"/></svg>'\r\n    },\r\n    User: {\r\n        text: 'User',\r\n        id: 'User',\r\n        icon:\r\n            '<svg viewBox=\"0 0 14 14\"><path class=\"d-svg-icons d-svg-icons_user\" d=\"M6.4,0.6c-0.5,0-0.1,0.2-0.3,0.2c-0.3,0,0.3,0-0.4,0.1C4.8,1,4.7,2,4.6,2.4c0,0.4,0,0.5,0,1.1 c0.1,0.3-0.3,0.3-0.3,0.3c-0.5,0-0.6,1.4-0.6,1.4c0.1,0.4,0,0.5,0.7,0.8C4.8,7,5.6,7.5,5.6,7.5s0,0.6,0.1,1c-0.1,0-0.1,1.1-2.3,1.4 c-2.2,0.3-2.6,1-3,1.4C0,11.8,0,13.6,0,13.6h14c0,0-0.1-1.8-0.5-2.2c-0.4-0.4-0.9-1.1-3-1.4c-2.2-0.3-2-1.4-2-1.5 c0-0.2,0.1-0.9,0.1-0.9S9.2,7,9.5,6c0.5-0.3,0.7-0.4,0.8-0.8c0,0,0.2-1.4-0.3-1.4c0,0-0.6,0-0.6-0.3c0.1-0.3,0.1-0.5,0-0.8 c0-0.4,0.2-1.4-0.6-1.6C8.3,1,8.5,1.2,8.2,1.1C8,1.1,7.7,0.4,7.2,0.4L6.4,0.6z\"/></svg>'\r\n    },\r\n    List: {\r\n        text: 'List',\r\n        id: 'List',\r\n        icon:\r\n            '<svg viewBox=\"0 0 14 14\"><path class=\"d-svg-icons d-svg-icons_list\" d=\"M11.5,0h-9c-0.6,0-1,0.4-1,1v12c0,0.6,0.4,1,1,1h6.9l3.1-3V1C12.5,0.4,12.1,0,11.5,0z M3.5,2h7v1h-7V2z M3.5,5 h7v1h-7V5z M3.5,8h7v1h-7V8z M6.5,12h-3v-1h3V12z M11.6,10.3L8.8,13c-0.4,0.4-0.3-0.3-0.3-0.3V11c0-1,1.2-1,1.2-1h1.8 C12.1,9.9,11.6,10.3,11.6,10.3z\"/></svg>'\r\n    },\r\n    Remove: {\r\n        text: 'Remove',\r\n        id: 'Remove',\r\n        icon:\r\n            '<svg viewBox=\"0 0 14 14\"><polygon  class=\"d-svg-icons d-svg-icons_remove\" points=\"14,1.8 12.2,0 7,5.2 1.8,0 0,1.8 5.2,7 0,12.2 1.8,14 7,8.8 12.2,14 14,12.2 8.8,7 \"/></svg>'\r\n    },\r\n    Trash: {\r\n        text: 'Trash',\r\n        id: 'Trash',\r\n        icon:\r\n            '<svg viewBox=\"0 0 14 14\"><path class=\"d-svg-icons d-svg-icons_trash\" d=\"M13.1,2.8h-2.8V0.9c0,0-0.1-0.9-1-0.9L4.7,0c0,0-1,0-1,0.9l0,1.8H0.8c-0.9,0-0.8,0.7-0.8,1C0,4,0,4.7,0.8,4.7 h1.1l-0.1,7.5c0,0,0.1,1.8,1.9,1.8h6.5c0,0,1.8-0.1,1.8-1.8l0-7.5h1C13.9,4.7,14,4,14,3.7C14,3.5,13.9,2.8,13.1,2.8z M4.6,11.7 c0,0.2-0.2,0.4-0.5,0.4c-0.2,0-0.4-0.2-0.4-0.4V5.1c0-0.2,0.2-0.4,0.4-0.4c0.2,0,0.5,0.2,0.5,0.4V11.7z M7.5,11.7 c0,0.3-0.2,0.5-0.5,0.5c-0.3,0-0.5-0.2-0.5-0.5V5.1c0-0.3,0.2-0.5,0.5-0.5c0.3,0,0.5,0.2,0.5,0.5V11.7z M4.6,2.8c0-0.9,1-0.9,1-0.9 l2.8,0c0,0,0.9,0,0.9,0.9H4.6z M10.2,11.7c0,0.2-0.2,0.5-0.5,0.5c-0.2,0-0.5-0.2-0.5-0.5V5.2c0-0.2,0.2-0.5,0.5-0.5 c0.2,0,0.5,0.2,0.5,0.5V11.7z\"/></svg>'\r\n    },\r\n    Cog: {\r\n        text: 'Cog',\r\n        id: 'Cog'\r\n    },\r\n    Star: {\r\n        text: 'Star',\r\n        id: 'Star'\r\n    },\r\n    Asterisk: {\r\n        text: 'Asterisk',\r\n        id: 'Asterisk'\r\n    },\r\n    Home: { text: 'Home', id: 'Home' },\r\n    File: { text: 'File', id: 'File' },\r\n    Time: {\r\n        text: 'Time',\r\n        id: 'Time',\r\n        icon:\r\n            '<svg viewBox=\"0 0 14 14\"><path class=\"d-svg-icons d-svg-icons_date\" d=\"M12.9,1.1h-1.1v1c0,0-0.1,1.2-1.6,1.2c0,0-1.6,0-1.6-1.2l0-1H5.4v1c0,0,0,1.2-1.6,1.2c0,0-1.7-0.1-1.7-1.1v-1 H1.1C0.5,1.1,0,1.6,0,2.2v10.8C0,13.5,0.5,14,1.1,14h11.8c0.6,0,1.1-0.5,1.1-1.1V2.2C14,1.6,13.5,1.1,12.9,1.1z M3.2,12.9H1.1v-2.2 h2.2V12.9z M3.2,9.7H1.1V7.5h2.2V9.7z M3.2,6.5H1.1V4.3h2.2V6.5z M6.5,12.9H4.3v-2.2h2.2V12.9z M6.5,9.7H4.3V7.5h2.2V9.7z M6.5,6.5 H4.3V4.3h2.2V6.5z M9.7,12.9H7.5v-2.2h2.2V12.9z M9.7,9.7H7.5V7.5h2.2V9.7z M9.7,6.5H7.5V4.3h2.2V6.5z M12.9,12.9h-2.2v-2.2h2.2 V12.9z M12.9,9.7h-2.2V7.5h2.2V9.7z M12.9,6.5h-2.2V4.3h2.2V6.5z\"/><path class=\"d-svg-icons d-svg-icons_date\" d=\"M3.8,2.2c0.3,0,0.5-0.2,0.5-0.5V0.5C4.3,0.2,4.1,0,3.8,0C3.5,0,3.2,0.2,3.2,0.5v1.1C3.2,1.9,3.5,2.2,3.8,2.2z\" /><path class=\"d-svg-icons d-svg-icons_date\" d=\"M10.2,2.2c0.3,0,0.5-0.2,0.5-0.5V0.5c0-0.3-0.2-0.5-0.5-0.5C9.9,0,9.7,0.2,9.7,0.5v1.1 C9.7,1.9,9.9,2.2,10.2,2.2z\"/></svg>'\r\n    },\r\n    Print: { text: 'Print', id: 'Print' },\r\n    Download: { text: 'Download', id: 'Download' },\r\n    Upload: { text: 'Upload', id: 'Upload' },\r\n    Refresh: {\r\n        text: 'Refresh',\r\n        id: 'Refresh',\r\n        icon:\r\n            '<svg viewBox=\"0 0 14 14\"><path class=\"d-svg-icons d-svg-icons_refresh\" d=\"M2.2,7c0-2.7,2.1-5,4.9-5c2.5,0,3.2,1.4,3.3,1.3L8.6,4.8C7.8,5.6,8.7,5.6,8.7,5.6l4.8,0 C14.1,5.7,14,5.2,14,5.2l0-4.8c0-0.8-0.8,0-0.8,0l-1.3,1.6c0,0-1.9-1.8-4.7-1.8C3.2,0.2,0,3.2,0,7c0,0,0,0.8,1.1,0.8 C1.1,7.8,2.2,7.8,2.2,7z\"/><path class=\"d-svg-icons d-svg-icons_refresh\" d=\"M11.8,6.9c0,2.7-2.1,5-4.9,5c-2.5,0-3.2-1.4-3.3-1.3l1.8-1.5c0.8-0.8-0.1-0.8-0.1-0.8l-4.8,0 C-0.1,8.3,0,8.8,0,8.8l0,4.8c0,0.8,0.8,0,0.8,0L2.1,12c0,0,1.9,1.8,4.7,1.8c3.9,0,7.1-3.1,7.1-6.9c0,0,0-0.8-1.1-0.8 C12.9,6.2,11.8,6.2,11.8,6.9z\"/></svg>'\r\n    },\r\n    Repeat: { text: 'Repeat', id: 'Repeat' },\r\n    Info: { text: 'Info', id: 'Info' },\r\n    Warning: { text: 'Warning', id: 'Warning' },\r\n    Exclamation: { text: 'Exclamation', id: 'Exclamation' },\r\n    Cart: { text: 'Cart', id: 'Cart' },\r\n    Play: { text: 'Play', id: 'Play' },\r\n    Comment: { text: 'Comment', id: 'Comment' },\r\n    Folder: { text: 'Folder', id: 'Folder' },\r\n    Bell: { text: 'Bell', id: 'Bell' },\r\n    Flash: { text: 'Flash', id: 'Flash' },\r\n    Picture: { text: 'Picture', id: 'Picture' },\r\n    Book: { text: 'Book', id: 'Book' }\r\n};\r\n\r\nexport default {\r\n    toolbarItemType: {\r\n        ACTION: 'Action',\r\n        GROUP: 'Group',\r\n        SPLITTER: 'Splitter',\r\n        POPUP: 'Popup',\r\n        CHECKBOX: 'Checkbox'\r\n    },\r\n    severity,\r\n    icons\r\n};\r\n","module.exports = \"{{#if iconClass}}\\r\\n    <div class=\\\"toolbar__icons js-icon-container\\\">\\r\\n        <i class=\\\"fa fa-{{iconClass}}\\\" aria-hidden=\\\"true\\\"></i>\\r\\n    </div>\\r\\n{{/if}}\\r\\n{{#if checkbox}}\\r\\n    <span class='js-action toolbar-btn__text' title=\\\"{{description}}\\\">\\r\\n    <div tabindex=\\\"0\\\" class=\\\"js-check editor_checkbox\\\">\\r\\n        <span class=\\\"checkbox\\\">\\r\\n            <svg class=\\\"svg-icons svg-icons_checked\\\">\\r\\n                <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"#icon-checked\\\"></use>\\r\\n            </svg>\\r\\n        </span>\\r\\n    </div>\\r\\n    {{#if name}}\\r\\n        <span>{{name}}</span>\\r\\n    {{/if}}\\r\\n    </span>\\r\\n{{else}}\\r\\n    {{#if name}}\\r\\n        <span class='js-action toolbar-btn__text' title=\\\"{{description}}\\\">{{name}}</span>\\r\\n    {{/if}}\\r\\n{{/if}}\\r\\n{{#if isGroup}}\\r\\n    <span class=\\\"toolbar__icons toolbar__icons_arrow js-anchor\\\">\\r\\n        <i class=\\\"fa fa-chevron-down\\\"></i>\\r\\n    </span>\\r\\n{{/if}}\";","module.exports = \"<div class=\\\"js-button-group dev-button-group\\\"></div>\\r\\n\";","module.exports = \"<div class=\\\"js-toolbar-items toolbar-buttons_container\\\"></div>\\r\\n<div class=\\\"js-menu-actions-region\\\"></div>\\r\\n\";","//@flow\r\nimport ButtonView from './ButtonView';\r\n\r\nexport default ButtonView.extend({\r\n    templateContext() {\r\n        return {\r\n            isGroup: true\r\n        };\r\n    }\r\n});\r\n","//@flow\r\nimport ActionPanelChildView from './ActionPanelChildView';\r\n\r\nexport default Marionette.CollectionView.extend({\r\n    className() {\r\n        return `toolbar-panel_container ${this.options.class || ''}`;\r\n    },\r\n\r\n    template: false,\r\n\r\n    childView: ActionPanelChildView,\r\n\r\n    childViewEvents: {\r\n        'click:item': '__triggerChildSelect'\r\n    },\r\n\r\n    __triggerChildSelect(model) {\r\n        this.trigger('click:item', model);\r\n    }\r\n});\r\n","//@flow\r\nimport ButtonView from './ButtonView';\r\n\r\nexport default ButtonView.extend({\r\n    triggers: {\r\n        click: 'click:item'\r\n    },\r\n\r\n    onRender() {\r\n        if (this.model.get('type') === 'Splitter') {\r\n            this.el.css({ height: '1px', pointerEvents: 'none' });\r\n        }\r\n    }\r\n});\r\n","import template from '../templates/button.html';\r\nimport { severity } from '../meta';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    className() {\r\n        const severityLevel = this.model.get('severity');\r\n        const severityItem = severity[severityLevel] || severity.None;\r\n    \r\n        return `${severityItem.class} ${this.model.get('class') || ''}`;\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/customActionGroupView.html';\r\nimport CustomActionItemView from './CustomActionItemView';\r\nimport ToolbarActionMenuView from '../views/ToolbarActionMenuView';\r\nimport ToolbarCheckboxItemView from '../views/ToolbarCheckboxItemView';\r\nimport ToolbarSplitterView from '../views/ToolbarSplitterView';\r\nimport ToolbarPopupView from '../views/ToolbarPopupView';\r\nimport meta from '../meta';\r\n\r\nexport default Marionette.CollectionView.extend({\r\n    className: 'js-icon-container toolbar-items-wrp',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    childView(model) {\r\n        switch (model.get('type')) {\r\n            case meta.toolbarItemType.ACTION:\r\n                return CustomActionItemView;\r\n            case meta.toolbarItemType.GROUP:\r\n                return ToolbarActionMenuView;\r\n            case meta.toolbarItemType.SPLITTER:\r\n                return ToolbarSplitterView;\r\n            case meta.toolbarItemType.POPUP:\r\n                return ToolbarPopupView;\r\n            case meta.toolbarItemType.CHECKBOX:\r\n                return ToolbarCheckboxItemView;\r\n            default:\r\n                return CustomActionItemView;\r\n        }\r\n    },\r\n\r\n    childViewOptions() {\r\n        return {\r\n            reqres: this.getOption('reqres')\r\n        };\r\n    },\r\n\r\n    childViewEvents: {\r\n        'action:click': '__handleClick'\r\n    },\r\n\r\n    __handleClick(model) {\r\n        this.trigger('actionSelected', model);\r\n    }\r\n});\r\n","//@flow\r\nimport ButtonView from './ButtonView';\r\n\r\nexport default ButtonView.extend({\r\n    events: {\r\n        click: '__handleClick'\r\n    },\r\n\r\n    __handleClick() {\r\n        this.trigger('action:click', this.model);\r\n    }\r\n});\r\n","//@flow\r\nimport ActionMenuPanelView from './ActionMenuPanelView';\r\nimport ActionMenuButtonView from './ActionMenuButtonView';\r\n\r\nexport default Marionette.View.extend({\r\n    template: false,\r\n\r\n    onRender() {\r\n        this.menu = Core.dropdown.factory.createDropdown({\r\n            buttonView: ActionMenuButtonView,\r\n            panelView: ActionMenuPanelView,\r\n            panelViewOptions: {\r\n                collection: new Backbone.Collection(this.model.get('items')),\r\n                class: this.model.get('dropdownClass')\r\n            },\r\n            buttonViewOptions: {\r\n                model: this.model\r\n            }\r\n        });\r\n\r\n        this.listenTo(this.menu, 'panel:click:item', this.__handleSeveritySelect);\r\n        this.el.append(this.menu.render().$el);\r\n    },\r\n\r\n    __handleSeveritySelect(view) {\r\n        this.trigger('action:click', view.model);\r\n        this.menu.close();\r\n    }\r\n});\r\n","//@flow\r\nimport ButtonView from './ButtonView';\r\n\r\nconst classes = {\r\n    CHECKED: 'editor_checked'\r\n};\r\n\r\nexport default ButtonView.extend({\r\n    ui: {\r\n        check: '.js-check'\r\n    },\r\n\r\n    templateContext() {\r\n        return {\r\n            checkbox: true\r\n        };\r\n    },\r\n\r\n    onRender() {\r\n        if (this.model.get('isChecked')) {\r\n            this.ui.check.classList.toggle(classes.CHECKED);\r\n        }\r\n    },\r\n\r\n    events: {\r\n        click: '__handleClick'\r\n    },\r\n\r\n    __handleClick() {\r\n        const newState = !this.model.get('isChecked');\r\n        this.model.set('isChecked', newState);\r\n        this.trigger('action:click', this.model);\r\n    }\r\n});\r\n","//@flow\r\nimport ButtonView from './ButtonView';\r\n\r\nexport default ButtonView.extend({\r\n    events: {\r\n        'click .js-action': '__openPopout'\r\n    },\r\n\r\n    onRender() {\r\n        this.__showMenu();\r\n    },\r\n\r\n    __openPopout() {\r\n        this.popup.open();\r\n    },\r\n\r\n    __closePopout() {\r\n        this.popup.close();\r\n    },\r\n\r\n    async __showMenu() {\r\n        const reqres = this.getOption('reqres');\r\n        const options = this.model.get('options');\r\n\r\n        this.popup = Core.dropdown.factory.createPopout({\r\n            customAnchor: true,\r\n            buttonView: options.buttonView,\r\n            panelView: options.panelView,\r\n            panelViewOptions: options,\r\n            popoutFlow: 'right',\r\n            popoutDirection: 'down'\r\n        });\r\n\r\n        this.listenTo(this.popup, 'panel:click:row', model => {\r\n            this.__closePopout();\r\n            reqres.request('form:clone', model.id);\r\n        });\r\n        this.el.append(this.popup.render().$el);\r\n    },\r\n\r\n    onDestroy() {\r\n        this.popup.destroy();\r\n    }\r\n});\r\n","//@flow\r\nexport default Marionette.View.extend({\r\n    className: 'btn-separator',\r\n\r\n    template: false\r\n});\r\n","import template from './templates/videoChat.html';\r\nimport WebRTCService from '../../services/WebRTCService';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    ui: {\r\n        localVideo: '.js-local-video',\r\n        remoteVideo: '.js-remote-video',\r\n        videoCallButton: '.js-video-call-button',\r\n        endCallButton: '.js-end-call-button'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.videoCallButton': '__handleLocalVideoButtonClick',\r\n        'click @ui.endCallButton': '__handleEndCallButtonClick'\r\n    },\r\n\r\n    __handleLocalVideoButtonClick() {\r\n        WebRTCService.initiateCall(this.ui.localVideo, this.ui.remoteVideo);\r\n    },\r\n\r\n    __handleEndCallButtonClick() {\r\n        WebRTCService.endCall(this.ui.localVideo, this.ui.remoteVideo);\r\n    }\r\n});\r\n","module.exports = \"<video class=\\\"js-remote-video\\\" autoplay></video>\\r\\n<video class=\\\"js-local-video\\\" autoplay muted></video>\\r\\n<input class=\\\"js-video-call-button\\\" type=\\\"button\\\" value=\\\"Video Call\\\" />\\r\\n<input class=\\\"js-end-call-button\\\" type=\\\"button\\\" disabled value=\\\"End Call\\\" />\";","//@flow\r\nimport CTEventsService from '../services/CTEventsService';\r\nimport WebSocketService from '../services/WebSocketService';\r\nimport ToastNotificationService from '../services/ToastNotificationService';\r\nimport PresenterService from '../services/PresenterService';\r\n\r\nexport default class {\r\n    constructor(options = {}) {\r\n        const contentViewOptions = _.result(this, 'contentViewOptions') || {};\r\n        this.contentViewOptions = null;\r\n        this.contentView = this.contentView || window.application.defaultContentView;\r\n        this.view = new this.contentView(contentViewOptions);\r\n        this.moduleRegion = this.view.getRegion('moduleRegion');\r\n        options.region.show(this.view); // <- this can be moved out to routing services after we get rid of old modules\r\n\r\n        CTEventsService.on('cbEvent', this.__handleEvent);\r\n        if (WebSocketService.isConnected()) {\r\n            WebSocketService.on('ws:open ws:close ws:message ws:error', this.__handleSocketEvent);\r\n        }\r\n        this.moduleId = options.config.id;\r\n    }\r\n\r\n    leave(isCalledByUnloadEvent: Boolean) {\r\n        if (_.isFunction(this.onLeave)) {\r\n            const moduleLeaveHandler = this.onLeave();\r\n\r\n            if (typeof moduleLeaveHandler === 'boolean') {\r\n                return moduleLeaveHandler;\r\n            }\r\n\r\n            if (isCalledByUnloadEvent) {\r\n                return false;\r\n            }\r\n\r\n            return Core.services.MessageService.showSystemMessage(moduleLeaveHandler);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    setLoading(isLoading: Boolean) {\r\n        this.view.setModuleLoading(isLoading);\r\n        if (isLoading === false) {\r\n            this.__onModuleReady();\r\n        }\r\n    }\r\n\r\n    triggerEvent(eventId: String, data) {\r\n        CTEventsService.triggerStorageEvent(eventId, data);\r\n    }\r\n\r\n    sendWebSocketMessage(data) {\r\n        WebSocketService.send(this.moduleId, data);\r\n    }\r\n\r\n    async handleRouterEvent(configuration, callParams) {\r\n        const { view, viewModel, additionalViewOptions, errorView, viewEvents, routingAction, urlParams } = configuration;\r\n        const methodParams = this.__applyCallParamsFilter(callParams, urlParams, routingAction);\r\n\r\n        if (configuration.url) {\r\n            const { data, error } = await this.__request(configuration, methodParams, callParams);\r\n            if (error !== null) {\r\n                if (errorView) {\r\n                    const presentingView = new errorView();\r\n                    if (viewEvents) {\r\n                        Object.keys(viewEvents).forEach(key => this.listenTo(presentingView, key, viewEvents[key]));\r\n                    }\r\n                    this.moduleRegion.show(presentingView);\r\n                }\r\n            }\r\n            if (viewModel) {\r\n                const model = new viewModel(data, { parse: true });\r\n\r\n                if (view) {\r\n                    const viewParams = additionalViewOptions ? Object.assign({ model }, additionalViewOptions) : { model };\r\n\r\n                    viewParams.viewState = this.currentState;\r\n\r\n                    const presentingView = new view(viewParams);\r\n                    if (viewEvents) {\r\n                        Object.keys(viewEvents).forEach(key => this.listenTo(presentingView, key, viewEvents[key]));\r\n                    }\r\n                    presentingView.request = this.__handleViewResourceRequest.bind(this);\r\n                    this.moduleRegion.show(presentingView);\r\n                }\r\n            }\r\n        } else {\r\n            const model = new viewModel();\r\n\r\n            if (view) {\r\n                const viewParams = additionalViewOptions ? Object.assign({ model }, additionalViewOptions) : { model };\r\n\r\n                viewParams.currentState = callParams;\r\n                const presentingView = new view(viewParams);\r\n                if (viewEvents) {\r\n                    Object.keys(viewEvents).forEach(key => this.listenTo(presentingView, key, viewEvents[key]));\r\n                }\r\n                presentingView.request = this.__handleViewResourceRequest.bind(this);\r\n                this.moduleRegion.show(presentingView);\r\n            }\r\n        }\r\n    }\r\n\r\n    __handleEvent(data) {\r\n        if (this.eventsHandlers && this.eventsHandlers[data.id]) {\r\n            this.eventsHandlers[data.id](data.data);\r\n        }\r\n    }\r\n\r\n    __handleSocketEvent(data) {\r\n        if (this.eventsHandlers && this.moduleId === data.id && this.eventsHandlers.onWebSocketMessage) {\r\n            this.eventsHandlers.onWebSocketMessage.call(this, data.data);\r\n        }\r\n    }\r\n\r\n    //todo extract view params and pass to failure\r\n    async __request(configuration, methodParams, callParams) {\r\n        const { notifications, onFailure, onSuccess } = configuration;\r\n        const params = configuration.url.split('/');\r\n        const showMask = configuration.showLoadingMask !== false;\r\n\r\n        showMask && this.view.setModuleLoading(true);\r\n        try {\r\n            const requestFn = Ajax[params[0]][params[1]];\r\n            if (requestFn) {\r\n                const functionSignature = window.ajaxMap.find(requestTemplate => requestTemplate.className === params[0] && requestTemplate.methodName === params[1]);\r\n\r\n                const requestType = functionSignature.httpMethod;\r\n                const parameters = functionSignature.parameters;\r\n\r\n                callParams && this.__applyState(callParams, parameters);\r\n\r\n                const data = await requestFn.apply(this, methodParams);\r\n                notifications && notifications.onSuccess && ToastNotificationService.add(notifications.onSuccess);\r\n                onSuccess && onSuccess.call(this, data, methodParams);\r\n                return { data, requestType, error: null };\r\n            }\r\n            throw new Error('Please, provide a valid URL');\r\n        } catch (error) {\r\n            notifications && notifications.onFailure && ToastNotificationService.add(notifications.onFailure);\r\n            onFailure && onFailure.call(this, error);\r\n            return { data: null, requestType: null, error };\r\n        } finally {\r\n            showMask && this.view.setModuleLoading(false);\r\n        }\r\n    }\r\n\r\n    async __handleViewResourceRequest(requestId, requestData) {\r\n        const requestConfig = this.requests[requestId];\r\n        if (requestConfig) {\r\n            const { data, requestType, error } = await this.__request(requestConfig, [requestData.data]);\r\n\r\n            if (error === null) {\r\n                switch (requestType) {\r\n                    case 'POST':\r\n                        if (requestData.model) {\r\n                            if (requestData.model.model) {\r\n                                const newModel = new requestData.model.model(Object.assign({ id: data }, requestData.data));\r\n                                requestData.model.add(newModel, { remove: false });\r\n                            }\r\n                        }\r\n                        break;\r\n                    case 'DELETE': {\r\n                        const callParamsDeletionItems = requestData.data;\r\n                        if (requestData.model) {\r\n                            requestData.model.remove(callParamsDeletionItems);\r\n                        }\r\n                        break;\r\n                    }\r\n                    case 'PUT': {\r\n                        requestData.model && requestData.model.set(new Backbone.Model(requestData.data), { remove: false });\r\n                        break;\r\n                    }\r\n                    case 'GET':\r\n                        return data;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        return null; //todo handle error\r\n    }\r\n\r\n    __applyState(callParams, parameters) {\r\n        this.currentState = {};\r\n\r\n        parameters.forEach((param, i) => (this.currentState[param.name] = callParams[i]));\r\n    }\r\n\r\n    __applyCallParamsFilter(callParams, urlParams, routingAction) {\r\n        if (routingAction && urlParams) {\r\n            const queryString = this.getOption('config').navigationUrl[routingAction];\r\n            const params = queryString.split('/');\r\n            const filteredParams = [];\r\n\r\n            urlParams.forEach(param => params.indexOf(param) > -1 && filteredParams.push(callParams[params.indexOf(param) / 2]));\r\n\r\n            return filteredParams;\r\n        }\r\n\r\n        return callParams;\r\n    }\r\n\r\n    __onModuleReady() {\r\n        if (this.componentQuery) {\r\n            PresenterService.presentComponentSequence(this.componentQuery);\r\n        }\r\n    }\r\n}\r\n","//@flow\r\nimport '../resources/styles/bootstrap-datetimepicker.css';\r\nimport '../resources/styles/fonts.css';\r\nimport '../resources/styles/common.css';\r\nimport '../resources/styles/services/messageService.css';\r\nimport '../resources/styles/services/windowService.css';\r\nimport '../resources/styles/form.css';\r\nimport '../resources/styles/dropdown.css';\r\nimport '../resources/styles/popout.css';\r\nimport '../resources/styles/list.css';\r\nimport '../resources/styles/codemirror.css';\r\nimport '../resources/styles/layout-designer.css';\r\nimport '../resources/styles/notifications.css';\r\nimport '../node_modules/spectrum-colorpicker/spectrum.css';\r\n\r\nimport libApi from 'lib';\r\nimport utilsApi from 'utils';\r\nimport dropdownApi from 'dropdown';\r\nimport * as layoutApi from './layout';\r\nimport formApi from 'form';\r\nimport listApi from 'list';\r\n\r\nimport meta_ from './Meta';\r\n\r\nimport Controller from './controller/Controller';\r\nimport Application from './Application';\r\n\r\nimport LoadingView from './views/LoadingView';\r\nimport LoadingBehavior from './views/behaviors/LoadingBehavior';\r\nimport SearchBarView from './views/SearchBarView';\r\nimport SplitPanelView from './views/SplitPanelView';\r\n\r\nimport RoutingService from './services/RoutingService';\r\nimport ToastNotifications from './services/ToastNotificationService';\r\nimport MessageService from './services/MessageService';\r\nimport WindowService from './services/WindowService';\r\nimport GlobalEventService from './services/GlobalEventService';\r\nimport LocalizationService from './services/LocalizationService';\r\nimport AjaxService from './services/AjaxService';\r\nimport PromiseService from './services/PromiseService';\r\nimport UserService from './services/UserService';\r\nimport InterfaceErrorMessageService from './services/InterfaceErrorMessageService';\r\nimport ThemeService from './services/ThemeService';\r\n\r\nimport SlidingWindowCollection from './collections/SlidingWindowCollection';\r\nimport VirtualCollection from './collections/VirtualCollection';\r\nimport CollectionHighlightableBehavior from './collections/behaviors/HighlightableBehavior';\r\nimport CollapsibleBehavior from './models/behaviors/CollapsibleBehavior';\r\nimport HighlightableBehavior from './models/behaviors/HighlightableBehavior';\r\nimport SelectableBehavior from './models/behaviors/SelectableBehavior';\r\nimport CheckableBehavior from './models/behaviors/CheckableBehavior';\r\nimport MobileService from './services/MobileService';\r\n\r\nimport NavigationDrawer from './components/navigationDrawer/NavigationDrawer';\r\nimport BreadCrumbs from './components/breadCrumbs/BreadCrumbs';\r\nimport Toolbar from './components/toolbar/ToolbarView';\r\nimport LayoutDesigner from './components/layoutDesigner';\r\nimport VideoChat from './components/videoChat/VideoChat';\r\n\r\n/**\r\n * Core UI components:     - Comindware.\r\n * @name module:core\r\n * */\r\nconst core = {\r\n    Controller,\r\n    Application,\r\n    RoutingService,\r\n    ToastNotifications,\r\n    lib: libApi,\r\n    InterfaceError: InterfaceErrorMessageService,\r\n    /**\r\n     * Services of general use the UI is built on.\r\n     * @namespace\r\n     * @memberof module:core\r\n     * */\r\n    services: {\r\n        MessageService,\r\n        /**\r\n         * The service is responsible for displaying global windows. For example, modal dialogs (popups).\r\n         * @namespace\r\n         * @memberof module:core.services\r\n         * */\r\n        WindowService,\r\n        LocalizationService,\r\n        AjaxService,\r\n        /**\r\n         * The services provides an interface to global window events, so you could easily subscribe\r\n         * to them through <code>this.listenTo(GlobalEventService, ...)</code> in you views.\r\n         * @namespace\r\n         * @memberof module:core.services\r\n         * */\r\n        GlobalEventService,\r\n        PromiseService,\r\n        UserService,\r\n        MobileService,\r\n        ThemeService\r\n    },\r\n    /**\r\n     * Backbone collections of general use.\r\n     * @namespace\r\n     * @memberof module:core\r\n     * */\r\n    collections: {\r\n        /**\r\n         * Backbone collection behaviors of general use.\r\n         * @namespace\r\n         * @memberof module:core.collections\r\n         * */\r\n        behaviors: {\r\n            HighlightableBehavior: CollectionHighlightableBehavior\r\n        },\r\n        SlidingWindowCollection,\r\n        VirtualCollection\r\n    },\r\n    /**\r\n     * Backbone models of general use.\r\n     * @namespace\r\n     * @memberof module:core\r\n     * */\r\n    models: {\r\n        behaviors: {\r\n            CollapsibleBehavior,\r\n            HighlightableBehavior,\r\n            SelectableBehavior,\r\n            CheckableBehavior\r\n        }\r\n    },\r\n    views: {\r\n        behaviors: {\r\n            LoadingBehavior\r\n        },\r\n        LoadingView,\r\n        SearchBarView,\r\n        SplitPanelView\r\n    },\r\n    /**\r\n     * Dropdown components of general use. It may be used in menus, dropdown lists and more complex cases like displaying some fancy about-me panel.\r\n     * @namespace\r\n     * @memberof module:core\r\n     * */\r\n    dropdown: dropdownApi,\r\n\r\n    layout: layoutApi,\r\n    /**\r\n     * A large set of editors and related classes built on top of [Backbone.Form](https://github.com/powmedia/backbone-forms) library.\r\n     * @namespace\r\n     * @memberof module:core\r\n     * */\r\n    form: formApi,\r\n    /**\r\n     * List and Grid components with data virtualization.\r\n     * @namespace\r\n     * @memberof module:core\r\n     * */\r\n    list: listApi,\r\n    /**\r\n     * Combines useful helper classes, functions and constants.\r\n     * @namespace\r\n     * @memberof module:core\r\n     * */\r\n    utils: utilsApi,\r\n    /**\r\n     * Constants used inside the library.\r\n     * @namespace\r\n     * @memberof module:core\r\n     * */\r\n    meta: meta_,\r\n    components: {\r\n        NavigationDrawer,\r\n        Toolbar,\r\n        BreadCrumbs,\r\n        LayoutDesigner,\r\n        VideoChat\r\n    }\r\n};\r\n\r\nwindow.Core = core;\r\n\r\nexport default core;\r\nexport const lib = core.lib;\r\nexport const layout = core.layout;\r\nexport const services = core.services;\r\nexport const collections = core.collections;\r\nexport const models = core.models;\r\nexport const views = core.views;\r\nexport const dropdown = core.dropdown;\r\nexport const form = core.form;\r\nexport const list = core.list;\r\nexport const utils = core.utils;\r\nexport const meta = core.meta;\r\n","import PopoutView from './views/PopoutView';\r\nimport DefaultButtonView from './views/DefaultButtonView';\r\nimport MenuPanelView from './views/MenuPanelView';\r\nimport DropdownView from './views/DropdownView';\r\n\r\n/**\r\n * The factory covers common use cases of Popout/Dropdown views.\r\n * You can create a simple menu (and other stuff like this) in one click without lots of manual work.\r\n * @namespace factory\r\n * @memberof module:core.dropdown\r\n * */\r\n\r\nexport default /** @lends module:core.dropdown.factory */ {\r\n    /**\r\n     * @description         {@link module:core.dropdown.views.PopoutView PopoutView}.\r\n     *                <code>buttonView</code>  <code>panelView</code> (      )\r\n     *                View  .   PopoutView  'as is'.\r\n     * @param {Object} options   {@link module:core.dropdown.views.PopoutView PopoutView}.   ,  :\r\n     * @param {Array} options.items   .        <code>{ id, name }</code>\r\n     *                                Backbone.Collection.\r\n     * @param {String} [options.text]   .   ,     <code>buttonView</code>.\r\n     * @returns {Backbone.View} View \r\n     * */\r\n    createMenu(options = {}) {\r\n        let collection = options.items;\r\n        if (!(collection instanceof Backbone.Collection)) {\r\n            collection = new Backbone.Collection(collection);\r\n        }\r\n\r\n        let effectiveButtonModel\r\n            = options.buttonModel\r\n            || new Backbone.Model({\r\n                text: options.text\r\n            });\r\n\r\n        if (!options.buttonModel) {\r\n            const defaultActModel = collection.findWhere({ default: true });\r\n            if (defaultActModel) {\r\n                effectiveButtonModel = defaultActModel;\r\n                collection.remove(effectiveButtonModel);\r\n            }\r\n        }\r\n\r\n        return this.createPopout(\r\n            Object.assign(\r\n                {\r\n                    buttonView: DefaultButtonView,\r\n                    buttonViewOptions: {\r\n                        model: effectiveButtonModel\r\n                    },\r\n                    panelView: MenuPanelView,\r\n                    panelViewOptions: {\r\n                        collection\r\n                    }\r\n                },\r\n                options\r\n            )\r\n        );\r\n    },\r\n\r\n    /**\r\n     * @description     {@link module:core.dropdown.views.PopoutView PopoutView}   .\r\n     *                     ,    .\r\n     *                 <code>{ fade: true, height: 'bottom' }</code>.\r\n     * @param {Object} options   {@link module:core.dropdown.views.PopoutView PopoutView}\r\n     * @returns {PopoutView}  PopoutView\r\n     * */\r\n    createDialogPopout(options) {\r\n        const defaults = {\r\n            fade: true,\r\n            height: 'bottom'\r\n        };\r\n        return this.createPopout(Object.assign(defaults, options));\r\n    },\r\n\r\n    /**\r\n     * @description    \r\n     *              {@link module:core.dropdown.views.PopoutView PopoutView}    'as is'.\r\n     * @param {Object} options   {@link module:core.dropdown.views.PopoutView PopoutView}\r\n     * @returns {PopoutView}  PopoutView\r\n     * */\r\n    createPopout(options) {\r\n        return new PopoutView(options);\r\n    },\r\n\r\n    /**\r\n     * @description    \r\n     *              {@link module:core.dropdown.views.DropdownView DropdownView}    'as is'.\r\n     * @param {Object} options   {@link module:core.dropdown.views.DropdownView DropdownView}\r\n     * @returns {DropdownView}  DropdownView\r\n     * */\r\n    createDropdown(options) {\r\n        return new DropdownView(options);\r\n    }\r\n};\r\n","import PopoutView from './views/PopoutView';\r\nimport DropdownView from './views/DropdownView';\r\nimport ListPanelView from './views/ListPanelView';\r\nimport MenuItemView from './views/MenuItemView';\r\nimport MenuPanelView from './views/MenuPanelView';\r\nimport DefaultButtonView from './views/DefaultButtonView';\r\nimport CustomAnchorBehavior from './views/behaviors/CustomAnchorBehavior';\r\nimport factory from './factory';\r\n\r\nexport default /** @lends module:core.dropdown */ {\r\n    /**\r\n     * DropdownView, PopoutView and panel/button views useful in common cases.\r\n     * @namespace\r\n     * */\r\n    views: {\r\n        /**\r\n         * Marionette Behavior which are required on panel/button views when some config options are enabled.\r\n         * @namespace\r\n         * */\r\n        behaviors: {\r\n            CustomAnchorBehavior\r\n        },\r\n        PopoutView,\r\n        DropdownView,\r\n        ListPanelView,\r\n        MenuItemView,\r\n        MenuPanelView,\r\n        DefaultButtonView\r\n    },\r\n    factory\r\n};\r\n","module.exports = \"{{text}}\";","module.exports = \"{{#if url}}\\r\\n    <a href=\\\"{{url}}\\\" class=\\\"popout-menu__txt\\\" title=\\\"{{getTitle}}\\\">{{name}}</a>\\r\\n{{else}}\\r\\n    <span class=\\\"popout-menu__txt\\\" title=\\\"{{getTitle}}\\\">{{name}}</span>\\r\\n{{/if}}\\r\\n{{#if subtext}}\\r\\n    <span class=\\\"popout-menu__subtext\\\">{{subtext}}</span>\\r\\n{{/if}}\\r\\n\";","module.exports = \"<div class=\\\"dropdown__button js-button-region\\\"></div>\";","// @flow\r\nimport { helpers } from 'utils';\r\n\r\nconst defaultOptions = {\r\n    selector: undefined,\r\n    allowNestedFocus: true,\r\n    onBlur: undefined\r\n};\r\n\r\nexport default Marionette.Behavior.extend({\r\n    initialize(options, view) {\r\n        helpers.ensureOption(options, 'onBlur');\r\n\r\n        _.extend(this.options, defaultOptions, _.pick(options || {}, Object.keys(defaultOptions)));\r\n\r\n        _.bindAll(this, '__onBlur');\r\n\r\n        view.focus = this.__focus.bind(this);\r\n    },\r\n\r\n    events() {\r\n        let key = 'blur';\r\n        if (this.options.selector) {\r\n            key += ` ${this.options.selector}`;\r\n        }\r\n        return {\r\n            [key]: '__onBlur'\r\n        };\r\n    },\r\n\r\n    onRender() {\r\n        this.__getFocusableEl().setAttribute('tabindex', -1);\r\n    },\r\n\r\n    __getFocusableEl() {\r\n        if (this.options.selector) {\r\n            return this.$(this.options.selector);\r\n        }\r\n        return this.el;\r\n    },\r\n\r\n    __focus(focusedEl) {\r\n        if (!focusedEl) {\r\n            this.__getFocusableEl().focus();\r\n        } else if (document.activeElement) {\r\n            document.activeElement.addEventListener('blur', this.__onBlur);\r\n        }\r\n        this.view.isFocused = true;\r\n    },\r\n\r\n    __onBlur() {\r\n        _.defer(() => {\r\n            this.view.isFocused = false;\r\n            const callback = this.options.onBlur;\r\n            if (_.isString(callback)) {\r\n                this.view[callback].call(this.view);\r\n            } else {\r\n                callback.call(this.view);\r\n            }\r\n        });\r\n        if (document.activeElement) {\r\n            document.activeElement.removeEventListener('blur', this.__onBlur);\r\n        }\r\n    }\r\n});\r\n","// @flow\r\nimport GlobalEventService from '../../services/GlobalEventService';\r\n\r\nconst THROTTLE_DELAY = 100;\r\n\r\nexport default Marionette.Behavior.extend({\r\n    initialize(options, view) {\r\n        this.__observedEntities = [];\r\n        this.__checkElements = _.throttle(this.__checkElements.bind(this), THROTTLE_DELAY);\r\n\r\n        view.listenToElementMoveOnce = this.__listenToElementMoveOnce.bind(this);\r\n        view.stopListeningToElementMove = this.__stopListeningToElementMove.bind(this);\r\n    },\r\n\r\n    __listenToElementMoveOnce(el, callback) {\r\n        if (this.__observedEntities.length === 0) {\r\n            this.listenTo(GlobalEventService, 'window:wheel:captured', this.__checkElements);\r\n            this.listenTo(GlobalEventService, 'window:mouseup:captured', this.__checkElements);\r\n            this.listenTo(GlobalEventService, 'window:keydown:captured', this.__checkElements);\r\n        }\r\n\r\n        // saving el position relative to the viewport for further check\r\n        const { left, top } = el.getBoundingClientRect();\r\n        this.__observedEntities.push({\r\n            anchorViewportPos: {\r\n                left: Math.floor(left),\r\n                top: Math.floor(top)\r\n            },\r\n            el,\r\n            callback\r\n        });\r\n    },\r\n\r\n    __stopListeningToElementMove(el = null) {\r\n        if (!el) {\r\n            this.__observedEntities = [];\r\n        } else {\r\n            this.__observedEntities.splice(this.__observedEntities.findIndex(x => x.el === el), 1);\r\n        }\r\n    },\r\n\r\n    __checkElements() {\r\n        setTimeout(() => {\r\n            if (this.view.isDestroyed()) {\r\n                return;\r\n            }\r\n            this.__observedEntities.forEach(x => {\r\n                const { left, top } = x.el.getBoundingClientRect();\r\n                if (Math.floor(left) !== x.anchorViewportPos.left || Math.floor(top) !== x.anchorViewportPos.top) {\r\n                    x.callback.call(this.view);\r\n                }\r\n            });\r\n        }, 50);\r\n    }\r\n});\r\n","// @flow\r\nimport template from '../templates/defaultButton.hbs';\r\n\r\n/**\r\n * @name DefaultButtonView\r\n * @memberof module:core.dropdown.views\r\n * @class Trivial implementation of a button View that displays plain text without any styles.\r\n * The <code>text</code> attribute of the passed model is displayed.\r\n * Factory method {@link module:core.dropdown.factory createMenu} uses this view to display menu button.\r\n * @constructor\r\n * @extends Marionette.View\r\n * @param {Object} options Options object.\r\n * @param {Backbone.Model} options.model Data model. Must contain <code>text</code> attribute.\r\n * */\r\n\r\nexport default Marionette.View.extend({\r\n    tagName: 'span',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    modelEvents: {\r\n        change: 'render'\r\n    }\r\n});\r\n","// @flow\r\nimport { helpers } from 'utils';\r\nimport WindowService from '../../services/WindowService';\r\nimport GlobalEventService from '../../services/GlobalEventService';\r\n\r\nconst THROTTLE_DELAY = 100;\r\n\r\nconst classes = {\r\n    OPEN: 'open',\r\n    DROPDOWN_DOWN: 'dropdown__wrp_down',\r\n    DROPDOWN_WRP_OVER: 'dropdown__wrp_down-over',\r\n    DROPDOWN_UP: 'dropdown__wrp_up',\r\n    DROPDOWN_UP_OVER: 'dropdown__wrp_up-over',\r\n    VISIBLE_COLLECTION: 'visible-collection'\r\n};\r\n\r\nconst WINDOW_BORDER_OFFSET = 10;\r\nconst MAX_DROPDOWN_PANEL_WIDTH = 200;\r\n\r\nconst panelPosition = {\r\n    DOWN: 'down',\r\n    UP: 'up'\r\n};\r\n\r\nconst panelMinWidth = {\r\n    NONE: 'none',\r\n    BUTTON_WIDTH: 'button-width'\r\n};\r\n\r\nconst defaultOptions = {\r\n    autoOpen: true,\r\n    renderAfterClose: true,\r\n    panelPosition: panelPosition.DOWN,\r\n    panelMinWidth: panelMinWidth.BUTTON_WIDTH,\r\n    allowNestedFocus: true\r\n};\r\n\r\n/**\r\n * @name DropdownView\r\n * @memberof module:core.dropdown.views\r\n * @class Composite View that implements dropdown logic similar to SELECT HTML-element.\r\n * Unlike {@link module:core.dropdown.views.PopoutView PopoutView}, a panel doesn't have a speech bubble triangle and\r\n * it's min-width is always determined and equal to the width of a button view.\r\n *\r\n * A dropdown view contains button and panel regions that can be fully customizable by the properties <code>buttonView</code> and <code>panelView</code>.\r\n * <ul>\r\n * <li>Button View is used for displaying a button. Click on that button trigger a panel to open.</li>\r\n * <li>Panel View is used to display a panel that drops down.</li>\r\n * </ul>\r\n *\r\n * Panel width is determined by its layout but it cannot be less than the button's width. Panel height is fully determined by its layout.\r\n * A place where the panel appears depends on the <code>panelPosition</code> option.<br/>\r\n * Possible events:<ul>\r\n * <li><code>'open' (dropdownView)</code> - fires after the panel has opened.</li>\r\n * <li><code>'close' (dropdownView, ...)</code> - fires after the panel has closed.\r\n * If the panel was closed via <code>close(...)</code> method, the arguments of this method are transferred into this event.</li>\r\n * <li><code>'button:\\*' </code> - all events the buttonView triggers are repeated by this view with 'button:' prefix.</li>\r\n * <li><code>'panel:\\*' </code> - all events the panelView triggers are repeated by this view with 'panel:' prefix.</li>\r\n * </ul>\r\n * @constructor\r\n * @extends Marionette.View\r\n * @param {Object} options Options object.\r\n * @param {Marionette.View} options.buttonView View class for displaying the button.\r\n * @param {(Object|Function)} [options.buttonViewOptions] Options passed into the view on its creation.\r\n * @param {Marionette.View} options.panelView View class for displaying the panel. The view is created every time the panel is triggered to open.\r\n * @param {(Object|Function)} [options.panelViewOptions] Options passed into the view on its creation.\r\n * @param {Boolean} [options.autoOpen=true] Whether click on the button should trigger the panel to open.\r\n * @param {String} [options.panelPosition='down'] Opening direction:\r\n *       <ul><li><code>'down'</code> - opens down.</li>\r\n *       <li><code>'down-over'</code> - opens down and the panel is located above the button overlapping it.</li>\r\n *       <li><code>'up'</code> - opens up.</li>\r\n *       <li><code>'up-over'</code> - opens up and the panel is located above the button overlapping it.</li></ul>\r\n * @param {Boolean} [options.renderAfterClose=true] Whether to trigger button render when the panel has closed.\r\n * */\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'buttonView');\r\n        helpers.ensureOption(options, 'panelView');\r\n\r\n        _.defaults(this.options, _.clone(defaultOptions), options);\r\n\r\n        _.bindAll(this, 'open', 'close', '__onBlur');\r\n\r\n        this.__observedEntities = [];\r\n        this.__checkElements = _.throttle(this.__checkElements.bind(this), THROTTLE_DELAY);\r\n    },\r\n\r\n    template: false,\r\n\r\n    className() {\r\n        return `dropdown ${this.options.class || ''}`;\r\n    },\r\n\r\n    ui: {\r\n        button: '.js-button-region'\r\n    },\r\n\r\n    events: {\r\n        blur: '__onBlur'\r\n    },\r\n\r\n    /**\r\n     * Contains an instance of <code>options.buttonView</code> if the dropdown is rendered, <code>null</code> otherwise.\r\n     * */\r\n    buttonView: null,\r\n\r\n    /**\r\n     * Contains an instance of <code>options.panelView</code> if the dropdown is open, <code>null</code> otherwise.\r\n     * The view is created every time (!) the panel is triggered to open.\r\n     * */\r\n    panelView: null,\r\n\r\n    onRender() {\r\n        if (this.button) {\r\n            this.stopListening(this.button);\r\n        }\r\n        this.button = new this.options.buttonView(_.extend({ parent: this }, this.options.buttonViewOptions));\r\n        this.buttonView = this.button;\r\n        this.listenTo(this.button, 'all', (...args) => {\r\n            args[0] = `button:${args[0]}`;\r\n            this.triggerMethod(...args);\r\n        });\r\n        const el = this.button.render().el;\r\n        this.el.append(el);\r\n\r\n        this.isShown = true;\r\n        this.button.on('change:content', () => this.panelEl && this.__adjustPosition(this.panelEl));\r\n\r\n        el.addEventListener('click', this.__handleClick.bind(this));\r\n\r\n        this.el.setAttribute('tabindex', -1);\r\n    },\r\n\r\n    onDestroy() {\r\n        if (this.button) {\r\n            this.button.destroy();\r\n        }\r\n        if (this.isOpen) {\r\n            WindowService.closePopup(this.popupId);\r\n        }\r\n    },\r\n\r\n    __adjustPosition(panelEl) {\r\n        const viewportHeight = window.innerHeight;\r\n        const buttonEl = this.button.el;\r\n        const buttonRect = buttonEl.getBoundingClientRect();\r\n\r\n        const bottom = viewportHeight - buttonRect.top - buttonRect.height;\r\n\r\n        const offsetHeight = panelEl.offsetHeight;\r\n\r\n        let position = this.options.panelPosition;\r\n\r\n        if (position === panelPosition.DOWN && bottom < offsetHeight && buttonRect.top > bottom) {\r\n            position = panelPosition.UP;\r\n        } else if (position === panelPosition.UP && buttonRect.top < offsetHeight && bottom > buttonRect.top) {\r\n            position = panelPosition.DOWN;\r\n        }\r\n\r\n        // class adjustments\r\n        this.el.classList.toggle(classes.DROPDOWN_DOWN, position === panelPosition.DOWN);\r\n        this.el.classList.toggle(classes.DROPDOWN_UP, position === panelPosition.UP);\r\n        panelEl.classList.toggle(classes.DROPDOWN_DOWN, position === panelPosition.DOWN);\r\n        panelEl.classList.toggle(classes.DROPDOWN_UP, position === panelPosition.UP);\r\n\r\n        // panel positioning\r\n        let top: number = 0;\r\n        switch (position) {\r\n            case panelPosition.UP:\r\n                top = buttonRect.top - offsetHeight;\r\n                break;\r\n            case panelPosition.DOWN:\r\n                top = buttonRect.top + buttonRect.height;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        // trying to fit into viewport\r\n        if (top + offsetHeight > viewportHeight - WINDOW_BORDER_OFFSET) {\r\n            top = viewportHeight - WINDOW_BORDER_OFFSET - offsetHeight;\r\n        }\r\n        if (top <= WINDOW_BORDER_OFFSET) {\r\n            top = WINDOW_BORDER_OFFSET;\r\n        }\r\n\r\n        const panelWidth = buttonRect.width > MAX_DROPDOWN_PANEL_WIDTH ? buttonRect.width : MAX_DROPDOWN_PANEL_WIDTH;\r\n\r\n        if (this.options.panelMinWidth === panelMinWidth.BUTTON_WIDTH) {\r\n            panelEl.style.width = `${panelWidth}px`;\r\n        }\r\n\r\n        if (panelEl.clientWidth < MAX_DROPDOWN_PANEL_WIDTH) {\r\n            panelEl.style.minWidth = `${panelWidth}px`;\r\n        }\r\n\r\n        panelEl.style.top = `${top}px`;\r\n        panelEl.style.left = `${buttonRect.left}px`;\r\n    },\r\n\r\n    /**\r\n     * Opens the dropdown panel.\r\n     * */\r\n    open() {\r\n        if (this.isOpen) {\r\n            return;\r\n        }\r\n        this.trigger('before:open', this);\r\n\r\n        const panelViewOptions = _.extend(this.options.panelViewOptions || {}, {\r\n            parent: this\r\n        });\r\n        this.el.classList.add(classes.OPEN);\r\n        this.panelView = new this.options.panelView(panelViewOptions);\r\n        this.panelView.on('all', (...args) => {\r\n            args[0] = `panel:${args[0]}`;\r\n            this.triggerMethod(...args);\r\n        });\r\n\r\n        this.popupId = WindowService.showTransientPopup(this.panelView, {\r\n            hostEl: this.el\r\n        });\r\n        this.panelEl = this.panelView.el;\r\n\r\n        this.__adjustPosition(this.panelEl);\r\n        //const buttonWidth = this.button.el.getBoundingClientRect().width;\r\n\r\n        //this.panelView.el.getElementsByClassName(classes.VISIBLE_COLLECTION)[0].style.width = `${panelWidth}`;\r\n\r\n        this.listenTo(this.panelView, 'change:content', () => this.panelEl && this.__adjustPosition(this.panelEl));\r\n        this.__listenToElementMoveOnce(this.el, this.close);\r\n        this.listenTo(GlobalEventService, 'window:keydown:captured', (document, event) => this.__keyAction(event));\r\n        this.listenTo(GlobalEventService, 'window:mousedown:captured', this.__handleGlobalMousedown);\r\n        this.listenTo(WindowService, 'popup:close', this.__onWindowServicePopupClose);\r\n\r\n        const activeElement = document.activeElement;\r\n        if (!this.__isNestedInButton(activeElement) && !this.__isNestedInPanel(activeElement)) {\r\n            //this.panelView.$el.focus(); todo\r\n        } else {\r\n            this.__focus(activeElement);\r\n        }\r\n        this.__suppressHandlingBlur = false;\r\n        this.isOpen = true;\r\n        this.trigger('open', this);\r\n    },\r\n\r\n    /**\r\n     * Closes the dropdown panel.\r\n     * @param {...*} arguments Arguments transferred into the <code>'close'</code> event.\r\n     * */\r\n    close(...args) {\r\n        if (!this.isOpen || !document.body.contains(this.el)) {\r\n            return;\r\n        }\r\n        this.trigger('before:close', this);\r\n\r\n        this.el.classList.remove(classes.OPEN);\r\n\r\n        WindowService.closePopup(this.popupId);\r\n\r\n        this.__stopListeningToElementMove();\r\n        this.stopListening(GlobalEventService);\r\n        this.stopListening(WindowService);\r\n        this.stopListening(this.panelView);\r\n        this.button.$el.focus();\r\n        this.isOpen = false;\r\n\r\n        this.trigger('close', this, ...args);\r\n        if (this.options.renderAfterClose && !this.isDestroyed) {\r\n            this.button.render();\r\n        }\r\n    },\r\n\r\n    __keyAction(event) {\r\n        if (event.keyCode === 27) {\r\n            this.close();\r\n        }\r\n    },\r\n\r\n    __handleClick() {\r\n        if (this.options.autoOpen) {\r\n            this.open();\r\n        }\r\n    },\r\n\r\n    __isNestedInButton(testedEl) {\r\n        return this.el === testedEl || this.el.contains(testedEl);\r\n    },\r\n\r\n    __isNestedInPanel(testedEl) {\r\n        const palet = document.getElementsByClassName('sp-container')[0]; //Color picker custom el container;\r\n\r\n        return WindowService.get(this.popupId).some(x => x.el.contains(testedEl) || this.el.contains(testedEl)) || (palet && palet.contains(testedEl));\r\n    },\r\n\r\n    __handleBlur() {\r\n        if (!this.__suppressHandlingBlur && !this.__isNestedInButton(document.activeElement) && !this.__isNestedInPanel(document.activeElement)) {\r\n            this.close();\r\n        }\r\n    },\r\n\r\n    __handleGlobalMousedown(target) {\r\n        if (this.__isNestedInPanel(target)) {\r\n            this.__suppressHandlingBlur = true;\r\n        } else if (!this.__isNestedInButton(target)) {\r\n            this.close();\r\n        }\r\n    },\r\n\r\n    __onWindowServicePopupClose(popupId) {\r\n        if (this.isOpen && this.popupId === popupId) {\r\n            this.close();\r\n        }\r\n    },\r\n\r\n    __focus(focusedEl) {\r\n        if (!focusedEl) {\r\n            this.__getFocusableEl().focus();\r\n        } else if (document.activeElement) {\r\n            document.activeElement.addEventListener('blur', this.__onBlur);\r\n        }\r\n        this.isFocused = true;\r\n    },\r\n\r\n    __onBlur() {\r\n        _.defer(() => {\r\n            this.isFocused = false;\r\n            this.__handleBlur();\r\n        });\r\n        if (document.activeElement) {\r\n            document.activeElement.removeEventListener('blur', this.__onBlur);\r\n        }\r\n    },\r\n\r\n    __listenToElementMoveOnce(el, callback) {\r\n        if (this.__observedEntities.length === 0) {\r\n            this.listenTo(GlobalEventService, 'window:wheel:captured', this.__checkElements);\r\n            this.listenTo(GlobalEventService, 'window:mouseup:captured', this.__checkElements);\r\n            this.listenTo(GlobalEventService, 'window:keydown:captured', this.__checkElements);\r\n        }\r\n\r\n        // saving el position relative to the viewport for further check\r\n        const { left, top } = el.getBoundingClientRect();\r\n        this.__observedEntities.push({\r\n            anchorViewportPos: {\r\n                left: Math.floor(left),\r\n                top: Math.floor(top)\r\n            },\r\n            el,\r\n            callback\r\n        });\r\n    },\r\n\r\n    __stopListeningToElementMove(el = null) {\r\n        if (!el) {\r\n            this.__observedEntities = [];\r\n        } else {\r\n            this.__observedEntities.splice(this.__observedEntities.findIndex(x => x.el === el), 1);\r\n        }\r\n    },\r\n\r\n    __checkElements() {\r\n        setTimeout(() => {\r\n            if (this.isDestroyed()) {\r\n                return;\r\n            }\r\n            this.__observedEntities.forEach(x => {\r\n                const { left, top } = x.el.getBoundingClientRect();\r\n                if (Math.floor(left) !== x.anchorViewportPos.left || Math.floor(top) !== x.anchorViewportPos.top) {\r\n                    x.callback.call(this);\r\n                }\r\n            });\r\n        }, 50);\r\n    }\r\n});\r\n","// @flow\r\n/**\r\n * @name ListPanelView\r\n * @memberof module:core.dropdown.views\r\n * @class Primitive view that can be used as a <code>panelView</code> to display a list of elements.\r\n * @constructor\r\n * @extends Marionette.CollectionView\r\n * @param {Object} options Options object.\r\n * */\r\n\r\nexport default Marionette.CollectionView.extend({\r\n    tagName: 'ul'\r\n});\r\n","// @flow\r\nimport template from '../templates/menuItem.hbs';\r\n\r\n/**\r\n * @name MenuView\r\n * @memberof module:core.dropdown.views\r\n * @class Single menu item used by MenuPanelView to display a list of menu items.\r\n * Factory method {@link module:core.dropdown.factory createMenu} uses it indirectly.\r\n * {@link module:core.dropdown.factory createMenu}.\r\n * @constructor\r\n * @extends Marionette.View\r\n * */\r\n\r\nexport default Marionette.View.extend({\r\n    tagName: 'li',\r\n\r\n    className: 'popout-menu__i',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        return {\r\n            getTitle: this.model.has('tooltip') ? this.model.get('tooltip') : this.model.get('name')\r\n        };\r\n    },\r\n\r\n    events: {\r\n        click() {\r\n            this.trigger('execute', this.model);\r\n        }\r\n    }\r\n});\r\n","// @flow\r\nimport ListPanelView from './ListPanelView';\r\nimport MenuItemView from './MenuItemView';\r\n\r\n/**\r\n * @name MenuPanelView\r\n * @memberof module:core.dropdown.views\r\n * @class   .       \r\n * @class List view used to display a list of menu items.\r\n * Factory method {@link module:core.dropdown.factory createMenu} uses it to create a menu.\r\n * {@link module:core.dropdown.factory createMenu}.\r\n * @constructor\r\n * @extends module:core.dropdown.views.ListPanelView\r\n * */\r\n\r\nexport default ListPanelView.extend({\r\n    initialize() {\r\n        ListPanelView.prototype.initialize.apply(this, Array.from(arguments));\r\n    },\r\n\r\n    className: 'popout-menu',\r\n\r\n    childView(model) {\r\n        if (model.get('customView')) {\r\n            return model.get('customView');\r\n        }\r\n        return MenuItemView;\r\n    },\r\n\r\n    childViewEvents: {\r\n        execute: '__execute'\r\n    },\r\n\r\n    __execute(model) {\r\n        this.options.parent.close();\r\n        this.options.parent.trigger('execute', model.id, model);\r\n    }\r\n});\r\n","// @flow\r\nimport { helpers } from 'utils';\r\nimport WindowService from '../../services/WindowService';\r\nimport GlobalEventService from '../../services/GlobalEventService';\r\nimport BlurableBehavior from '../utils/BlurableBehavior';\r\nimport ListenToElementMoveBehavior from '../utils/ListenToElementMoveBehavior';\r\nimport template from '../templates/popout.hbs';\r\n\r\nconst WINDOW_BORDER_OFFSET = 10;\r\n\r\nconst classes = {\r\n    OPEN: 'open',\r\n    DIRECTION_UP: 'popout__up',\r\n    DIRECTION_DOWN: 'popout__down',\r\n    DISPLACEMENT_LEFT: 'popout__displacement-left',\r\n    DISPLACEMENT_RIGHT: 'popout__displacement-right',\r\n    FLOW_LEFT: 'popout__flow-left',\r\n    FLOW_RIGHT: 'popout__flow-right',\r\n    CUSTOM_ANCHOR_BUTTON: 'popout__action-btn',\r\n    DEFAULT_ANCHOR_BUTTON: 'popout__action',\r\n    DEFAULT_ANCHOR: 'fa fa-angle-down anchor'\r\n};\r\n\r\nconst popoutFlow = {\r\n    LEFT: 'left',\r\n    RIGHT: 'right'\r\n};\r\n\r\nconst popoutDirection = {\r\n    UP: 'up',\r\n    DOWN: 'down'\r\n};\r\n\r\nconst popoutDisplacement = {\r\n    LEFT: 'left',\r\n    RIGHT: 'right'\r\n};\r\n\r\nconst height = {\r\n    AUTO: 'auto',\r\n    BOTTOM: 'bottom'\r\n};\r\n\r\nconst defaultOptions = {\r\n    popoutFlow: popoutFlow.LEFT,\r\n    customAnchor: false,\r\n    fade: false,\r\n    height: 'auto',\r\n    autoOpen: true,\r\n    direction: popoutDirection.DOWN,\r\n    displacement: undefined,\r\n    renderAfterClose: true\r\n};\r\n\r\n/**\r\n * @name PopoutView\r\n * @memberof module:core.dropdown.views\r\n * @class Composite View that may be to display a dropdown panel as a speech bubble. Unlike {@link module:core.dropdown.views.DropdownView DropdownView},\r\n * the panel is displayed in speech bubble and has a triangle like in comics.\r\n * A dropdown view contains button and panel regions that can be fully customizable by the properties <code>buttonView</code> and <code>panelView</code>.\r\n * <ul>\r\n * <li>Button View is used for displaying a button. Click on that button trigger a panel to open.</li>\r\n * <li>Panel View is used to display a panel that drops down.</li>\r\n * </ul>\r\n * Panel width is fully determined by its layout and the <code>popoutFlow</code> option.\r\n * Panel height is determined by its layout and the <code>height</code> option.\r\n * A place where the panel appears depends on the <code>direction</code> and <code>popoutFlow</code> options.<br/>\r\n * Possible events:<ul>\r\n * <li><code>'before:open' (popoutView)</code> - fires before the panel has opened.</li>\r\n * <li><code>'open' (popoutView)</code> - fires after the panel has opened.</li>\r\n * <li><code>'before:close' (popoutView)</code> - fires before the panel has closed.</li>\r\n * <li><code>'close' (popoutView, ...)</code> - fires after the panel has closed.\r\n * If the panel was closed via <code>close(...)</code> method, the arguments of this method are transferred into this event.</li>\r\n * <li><code>'button:\\*' </code> - all events the buttonView triggers are repeated by this view with 'button:' prefix.</li>\r\n * <li><code>'panel:\\*' </code> - all events the panelView triggers are repeated by this view with 'panel:' prefix.</li>\r\n * </ul>\r\n * @constructor\r\n * @extends Marionette.View\r\n * @param {Object} options Options object.\r\n * @param {Marionette.View} options.buttonView View class for displaying the button.\r\n * @param {(Object|Function)} [options.buttonViewOptions] Options passed into the view on its creation.\r\n * @param {Marionette.View} options.panelView View class for displaying the panel. The view is created every time the panel is triggered to open.\r\n * @param {(Object|Function)} [options.panelViewOptions] Options passed into the view on its creation.\r\n * @param {Boolean} [options.autoOpen=true] Whether click on the button should trigger the panel to open.\r\n * @param {Boolean} [options.customAnchor=false] Whether to attach the speech bubble triangle (anchor) to a custom element in <code>buttonView</code>.\r\n *                                               The View passed into the <code>buttonView</code> option must implement\r\n *                                               @{link module:core.dropdown.views.behaviors.CustomAnchorBehavior CustomAnchorBehavior}.\r\n * @param {String} [options.direction='down'] Opening direction. Can be either: <code>'up'</code>, <code>'down'</code>.\r\n * @param {Boolean} [options.fade=false] Whether to dim the background when the panel is open.\r\n * @param {String} [options.height='auto'] A way of determining the panel height.\r\n *                                       <ul><li><code>'auto'</code> - is determined by panel's layout only.</li>\r\n *                                       <li><code>'bottom'</code> - the bottom border is fixed to the bottom of the window.</li></ul>\r\n * @param {String} [options.popoutFlow='left'] Panel's horizontal position.\r\n *                                       <ul><li><code>'left'</code> - The left border of the panel is attached to the left border of the button.\r\n *                                       The panel grows to the right.</li>\r\n *                                       <li><code>'right'</code> - The right border of the panel is attached to the right border of the button.\r\n *                                       The panel grows to the left.</li></ul>\r\n * @param {Boolean} [options.renderAfterClose=true] Whether to trigger button render when the panel has closed.\r\n *\r\n * @param {String} [options.displacement=null] Panel's horizontal displacement of the button.\r\n *                                       <ul><li><code>'left'</code> - The panel is situated on the left of the button.\r\n *                                       The panel grows to the right.</li>\r\n *                                       <li><code>'right'</code> - The panel is situated on the right of the button.\r\n *                                       The panel grows to the left.</li></ul>\r\n * */\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        _.defaults(this.options, defaultOptions);\r\n        helpers.ensureOption(options, 'buttonView');\r\n        helpers.ensureOption(options, 'panelView');\r\n        _.bindAll(this, 'open', 'close');\r\n\r\n        this.listenTo(WindowService, 'popup:close', this.__onWindowServicePopupClose);\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    behaviors: {\r\n        BlurableBehavior: {\r\n            behaviorClass: BlurableBehavior,\r\n            onBlur: '__handleBlur'\r\n        },\r\n        ListenToElementMoveBehavior: {\r\n            behaviorClass: ListenToElementMoveBehavior\r\n        }\r\n    },\r\n\r\n    className: 'popout',\r\n\r\n    regions: {\r\n        buttonRegion: '.js-button-region'\r\n    },\r\n\r\n    ui: {\r\n        button: '.js-button-region'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.button': '__handleClick'\r\n    },\r\n\r\n    /**\r\n     * Contains an instance of <code>options.buttonView</code> if the popout is rendered, <code>null</code> otherwise.\r\n     * */\r\n    buttonView: null,\r\n\r\n    /**\r\n     * Contains an instance of <code>options.panelView</code> if the popout is open, <code>null</code> otherwise.\r\n     * The view is created every time (!) the panel is triggered to open.\r\n     * */\r\n    panelView: null,\r\n\r\n    onRender() {\r\n        this.isOpen = false;\r\n        if (this.button) {\r\n            this.stopListening(this.button);\r\n        }\r\n        this.button = new this.options.buttonView(this.options.buttonViewOptions);\r\n        this.buttonView = this.button;\r\n        this.listenTo(this.button, 'all', (...args) => {\r\n            args[0] = `button:${args[0]}`;\r\n            this.triggerMethod(...args);\r\n        });\r\n        this.showChildView('buttonRegion', this.button);\r\n\r\n        if (!this.options.customAnchor) {\r\n            this.getRegion('buttonRegion').$el.append(`<i class=\"js-default-anchor ${classes.DEFAULT_ANCHOR}\"></i>`);\r\n        }\r\n\r\n        this.ui.button.classList.toggle(classes.CUSTOM_ANCHOR_BUTTON, this.options.customAnchor);\r\n        this.ui.button.classList.toggle(classes.DEFAULT_ANCHOR_BUTTON, !this.options.customAnchor);\r\n    },\r\n\r\n    onDestroy() {\r\n        if (this.isOpen) {\r\n            this.isOpen = false;\r\n            WindowService.closePopup(this.popupId);\r\n        }\r\n    },\r\n\r\n    __keyAction(event) {\r\n        if (event.keyCode === 27) {\r\n            this.close();\r\n        }\r\n    },\r\n\r\n    __getAnchorEl() {\r\n        let $anchorEl = this.ui.button;\r\n        if (this.options.customAnchor && this.button.$anchor) {\r\n            $anchorEl = this.button.$anchor;\r\n        } else {\r\n            const defaultAnchor = this.ui.button.find('.js-default-anchor');\r\n            if (defaultAnchor && defaultAnchor.length) {\r\n                $anchorEl = defaultAnchor;\r\n            }\r\n        }\r\n        return $anchorEl;\r\n    },\r\n\r\n    __adjustFlowPosition($panelEl) {\r\n        const $buttonEl = this.ui.button;\r\n        const $anchorEl = this.__getAnchorEl();\r\n        const viewport = {\r\n            height: window.innerHeight,\r\n            width: window.innerWidth\r\n        };\r\n\r\n        const anchorRect = $anchorEl.offset();\r\n        anchorRect.height = $anchorEl.outerHeight();\r\n        anchorRect.width = $anchorEl.outerWidth();\r\n        anchorRect.bottom = viewport.height - anchorRect.top - anchorRect.height;\r\n        const buttonRect = $buttonEl.offset();\r\n        buttonRect.width = $buttonEl.outerWidth();\r\n        const panelRect = $panelEl.offset();\r\n        panelRect.width = $panelEl.outerWidth();\r\n\r\n        const css: {\r\n            left?: number,\r\n            right?: number\r\n        } = {};\r\n\r\n        switch (this.options.popoutFlow) {\r\n            case popoutFlow.RIGHT: {\r\n                const leftCenter = anchorRect.left + anchorRect.width / 2;\r\n\r\n                if (leftCenter < WINDOW_BORDER_OFFSET) {\r\n                    css.left = WINDOW_BORDER_OFFSET;\r\n                } else if (leftCenter + panelRect.width > viewport.width - WINDOW_BORDER_OFFSET) {\r\n                    css.left = viewport.width - WINDOW_BORDER_OFFSET - panelRect.width;\r\n                } else {\r\n                    css.left = leftCenter;\r\n                }\r\n                break;\r\n            }\r\n            case popoutFlow.LEFT: {\r\n                const anchorRightCenter = viewport.width - (anchorRect.left + anchorRect.width / 2);\r\n\r\n                if (anchorRightCenter < WINDOW_BORDER_OFFSET) {\r\n                    css.right = WINDOW_BORDER_OFFSET;\r\n                } else if (anchorRightCenter + panelRect.width > viewport.width - WINDOW_BORDER_OFFSET) {\r\n                    css.right = viewport.width - WINDOW_BORDER_OFFSET - panelRect.width;\r\n                } else {\r\n                    css.right = anchorRightCenter;\r\n                }\r\n                break;\r\n            }\r\n            default:\r\n                break;\r\n        }\r\n\r\n        $panelEl.classList.toggle(classes.FLOW_LEFT, this.options.popoutFlow === popoutFlow.LEFT);\r\n        $panelEl.classList.toggle(classes.FLOW_RIGHT, this.options.popoutFlow === popoutFlow.RIGHT);\r\n\r\n        $panelEl.css(css);\r\n    },\r\n\r\n    __adjustDirectionPosition($panelEl) {\r\n        const $anchorEl = this.__getAnchorEl();\r\n        const viewport = {\r\n            height: window.innerHeight,\r\n            width: window.innerWidth\r\n        };\r\n        const anchorRect = $anchorEl.offset();\r\n        anchorRect.height = $anchorEl.outerHeight();\r\n        anchorRect.width = $anchorEl.outerWidth();\r\n        anchorRect.bottom = viewport.height - anchorRect.top - anchorRect.height;\r\n        const panelRect = $panelEl.offset();\r\n        panelRect.height = $panelEl.outerHeight();\r\n\r\n        let direction = this.options.direction;\r\n\r\n        // switching direction if there is not enough space\r\n        switch (direction) {\r\n            case popoutDirection.UP:\r\n                if (anchorRect.top < panelRect.height && anchorRect.bottom > anchorRect.top) {\r\n                    direction = popoutDirection.DOWN;\r\n                }\r\n                break;\r\n            case popoutDirection.DOWN:\r\n                if (anchorRect.bottom < panelRect.height && anchorRect.top > anchorRect.bottom) {\r\n                    direction = popoutDirection.UP;\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        // class adjustments\r\n        $panelEl.classList.toggle(classes.DIRECTION_UP, direction === popoutDirection.UP);\r\n        $panelEl.classList.toggle(classes.DIRECTION_DOWN, direction === popoutDirection.DOWN);\r\n\r\n        // panel positioning\r\n        let top = 0;\r\n        switch (direction) {\r\n            case popoutDirection.UP:\r\n                top = anchorRect.top - panelRect.height;\r\n                break;\r\n            case popoutDirection.DOWN:\r\n                top = anchorRect.top + anchorRect.height;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        // trying to fit into viewport\r\n        if (top + panelRect.height > viewport.height - WINDOW_BORDER_OFFSET) {\r\n            top = viewport.height - WINDOW_BORDER_OFFSET - panelRect.height;\r\n        }\r\n        if (top <= WINDOW_BORDER_OFFSET) {\r\n            top = WINDOW_BORDER_OFFSET;\r\n        }\r\n\r\n        const css: {\r\n            top: number,\r\n            bottom?: number\r\n        } = {\r\n            top\r\n        };\r\n        if (this.options.height === height.BOTTOM) {\r\n            css.bottom = WINDOW_BORDER_OFFSET;\r\n        }\r\n        $panelEl.css(css);\r\n    },\r\n\r\n    __adjustDisplacementVerticalPosition($panelEl) {\r\n        const $anchorEl = this.__getAnchorEl();\r\n\r\n        const viewport = {\r\n            height: window.innerHeight,\r\n            width: window.innerWidth\r\n        };\r\n        const anchorRect = $anchorEl.offset();\r\n        anchorRect.height = $anchorEl.outerHeight();\r\n        anchorRect.width = $anchorEl.outerWidth();\r\n        anchorRect.bottom = viewport.height - anchorRect.top - anchorRect.height;\r\n\r\n        const panelRect = $panelEl.offset();\r\n        panelRect.height = $panelEl.outerHeight();\r\n        panelRect.width = $panelEl.outerWidth();\r\n\r\n        const css: {\r\n            top?: number,\r\n            bottom?: number\r\n        } = {\r\n            top: 0\r\n        };\r\n\r\n        // calculate vertical position\r\n        let direction = this.options.direction;\r\n\r\n        // switching direction if there is not enough space\r\n        switch (direction) {\r\n            case popoutDirection.UP: {\r\n                const topCenter = anchorRect.top + anchorRect.height / 2;\r\n                if (topCenter < panelRect.height && anchorRect.bottom > topCenter) {\r\n                    direction = popoutDirection.DOWN;\r\n                }\r\n                break;\r\n            }\r\n            case popoutDirection.DOWN: {\r\n                const bottomCenter = anchorRect.bottom + anchorRect.height / 2;\r\n                if (bottomCenter < panelRect.height && anchorRect.top > bottomCenter) {\r\n                    direction = popoutDirection.UP;\r\n                }\r\n                break;\r\n            }\r\n            default:\r\n                break;\r\n        }\r\n\r\n        // class adjustments\r\n        $panelEl.classList.toggle(classes.DIRECTION_UP, direction === popoutDirection.UP);\r\n        $panelEl.classList.toggle(classes.DIRECTION_DOWN, direction === popoutDirection.DOWN);\r\n\r\n        // panel positioning\r\n        let top = 0;\r\n        switch (direction) {\r\n            case popoutDirection.UP:\r\n                top = anchorRect.top + anchorRect.height / 2 - panelRect.height;\r\n                break;\r\n            case popoutDirection.DOWN:\r\n                top = anchorRect.top + anchorRect.height / 2;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        // trying to fit into viewport\r\n        if (top + anchorRect.height / 2 + panelRect.height > viewport.height - WINDOW_BORDER_OFFSET) {\r\n            top = viewport.height - WINDOW_BORDER_OFFSET - panelRect.height;\r\n        }\r\n        if (top <= WINDOW_BORDER_OFFSET) {\r\n            top = WINDOW_BORDER_OFFSET;\r\n        }\r\n\r\n        css.top = top;\r\n\r\n        if (this.options.height === height.BOTTOM) {\r\n            css.bottom = WINDOW_BORDER_OFFSET;\r\n        }\r\n        $panelEl.css(css);\r\n    },\r\n\r\n    __adjustDisplacementHorizontalPosition($panelEl) {\r\n        const $buttonEl = this.ui.button;\r\n        const $anchorEl = this.__getAnchorEl();\r\n        const viewport = {\r\n            height: window.innerHeight,\r\n            width: window.innerWidth\r\n        };\r\n        const anchorRect = $anchorEl.offset();\r\n        anchorRect.width = $anchorEl.outerWidth();\r\n        anchorRect.right = viewport.width - anchorRect.left - anchorRect.width;\r\n\r\n        const buttonRect = $buttonEl.offset();\r\n        buttonRect.width = $buttonEl.outerWidth();\r\n\r\n        const panelRect = $panelEl.offset();\r\n        panelRect.width = $panelEl.outerWidth();\r\n\r\n        const css = {};\r\n\r\n        let displacement = this.options.displacement;\r\n        switch (displacement) {\r\n            case popoutDisplacement.RIGHT:\r\n                if (anchorRect.right < panelRect.width && anchorRect.left > anchorRect.right) {\r\n                    displacement = popoutDisplacement.LEFT;\r\n                }\r\n                break;\r\n            case popoutDisplacement.LEFT:\r\n                if (anchorRect.left < panelRect.width && anchorRect.right > anchorRect.left) {\r\n                    displacement = popoutDisplacement.RIGHT;\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        switch (displacement) {\r\n            case popoutDisplacement.RIGHT: {\r\n                const leftEdge = anchorRect.left + anchorRect.width;\r\n                if (leftEdge < WINDOW_BORDER_OFFSET) {\r\n                    css.left = WINDOW_BORDER_OFFSET;\r\n                } else if (leftEdge + panelRect.width > viewport.width - WINDOW_BORDER_OFFSET) {\r\n                    css.left = viewport.width - WINDOW_BORDER_OFFSET - panelRect.width;\r\n                } else {\r\n                    css.left = leftEdge;\r\n                }\r\n                break;\r\n            }\r\n            case popoutDisplacement.LEFT: {\r\n                const anchorRightEdge = viewport.width - anchorRect.left;\r\n                if (anchorRightEdge < WINDOW_BORDER_OFFSET) {\r\n                    css.right = WINDOW_BORDER_OFFSET;\r\n                } else if (anchorRightEdge + panelRect.width > viewport.width - WINDOW_BORDER_OFFSET) {\r\n                    css.right = viewport.width - WINDOW_BORDER_OFFSET - panelRect.width;\r\n                } else {\r\n                    css.right = anchorRightEdge;\r\n                }\r\n                break;\r\n            }\r\n            default:\r\n                break;\r\n        }\r\n\r\n        $panelEl.classList.toggle(classes.DISPLACEMENT_LEFT, displacement === popoutDisplacement.LEFT);\r\n        $panelEl.classList.toggle(classes.DISPLACEMENT_RIGHT, displacement === popoutDisplacement.RIGHT);\r\n\r\n        $panelEl.css(css);\r\n    },\r\n\r\n    __handleClick() {\r\n        if (this.options.autoOpen) {\r\n            this.open();\r\n        }\r\n    },\r\n\r\n    __isNestedInButton(testedEl) {\r\n        return this.el === testedEl || this.el.contains(testedEl);\r\n    },\r\n\r\n    __isNestedInPanel(testedEl) {\r\n        const palet = document.getElementsByClassName('sp-container')[0];\r\n\r\n        return (\r\n            WindowService.get(this.popupId)\r\n                .map(x => x.el)\r\n                .some(el => el === testedEl || el.contains(testedEl)) ||\r\n            (palet && palet.contains(testedEl))\r\n        ); //Color picker custom el container\r\n    },\r\n\r\n    __handleBlur() {\r\n        if (!this.__suppressHandlingBlur && !this.__isNestedInButton(document.activeElement) && !this.__isNestedInPanel(document.activeElement)) {\r\n            this.close();\r\n        }\r\n    },\r\n\r\n    __handleGlobalMousedown(target) {\r\n        if (this.__isNestedInPanel(target)) {\r\n            // clicking on panel result in focusing body and normally lead to closing the popup\r\n            this.__suppressHandlingBlur = true;\r\n        } else if (!this.__isNestedInButton(target)) {\r\n            this.close();\r\n        }\r\n    },\r\n\r\n    __onWindowServicePopupClose(popupId) {\r\n        if (this.isOpen && this.popupId === popupId) {\r\n            this.close();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Opens the dropdown panel.\r\n     * */\r\n    open() {\r\n        if (this.isOpen) {\r\n            return;\r\n        }\r\n        this.trigger('before:open', this);\r\n\r\n        const panelViewOptions = _.extend(this.options.panelViewOptions || {}, {\r\n            parent: this\r\n        });\r\n        this.panelView = new this.options.panelView(panelViewOptions);\r\n        this.panelView.on('all', (...args) => {\r\n            args[0] = `panel:${args[0]}`;\r\n            this.triggerMethod(...args);\r\n        });\r\n        this.el.classList.add(classes.OPEN);\r\n\r\n        this.popupId = WindowService.showTransientPopup(this.panelView, {\r\n            fadeBackground: this.options.fade,\r\n            hostEl: this.el\r\n        });\r\n        if (this.options.displacement) {\r\n            this.__adjustDisplacementVerticalPosition(this.panelView.$el);\r\n            this.__adjustDisplacementHorizontalPosition(this.panelView.$el);\r\n        } else {\r\n            this.__adjustDirectionPosition(this.panelView.$el);\r\n            this.__adjustFlowPosition(this.panelView.$el);\r\n        }\r\n        this.listenToElementMoveOnce(this.el, this.close);\r\n        this.listenTo(GlobalEventService, 'window:keydown:captured', (document, event) => this.__keyAction(event));\r\n        this.listenTo(GlobalEventService, 'window:mousedown:captured', this.__handleGlobalMousedown);\r\n        const activeElement = document.activeElement;\r\n        if (!this.__isNestedInButton(activeElement) && !this.__isNestedInPanel(activeElement)) {\r\n            this.panelView.$el.focus();\r\n        } else {\r\n            this.focus(activeElement);\r\n        }\r\n        this.__suppressHandlingBlur = false;\r\n        this.isOpen = true;\r\n        this.trigger('open', this);\r\n    },\r\n\r\n    /**\r\n     * Closes the dropdown panel.\r\n     * @param {...*} arguments Arguments transferred into the <code>'close'</code> event.\r\n     * */\r\n    close(...args) {\r\n        if (!this.isOpen || !document.body.contains(this.el)) {\r\n            return;\r\n        }\r\n        this.trigger('before:close', this);\r\n        this.el.classList.remove(classes.OPEN);\r\n\r\n        WindowService.closePopup(this.popupId);\r\n\r\n        this.isOpen = false;\r\n        this.stopListeningToElementMove();\r\n        this.stopListening(GlobalEventService);\r\n\r\n        this.trigger('close', this, ...args);\r\n        if (this.options.renderAfterClose && !this.isDestroyed) {\r\n            this.render();\r\n        }\r\n    }\r\n});\r\n","//@flow\r\nconst classes: { ANCHOR: string } = {\r\n    ANCHOR: 'anchor anchor_inline'\r\n};\r\n\r\n/**\r\n * Marionette.Behavior constructor shall never be called manually.\r\n * The options described here should be passed as behavior options (look into Marionette documentation for details).\r\n * @name CustomAnchorBehavior\r\n * @memberof module:core.dropdown.views.behaviors\r\n * @class The behavior must be applied to a button View if {@link module:core.dropdown.views.PopoutView PopoutView}\r\n * has option <code>customAnchor: true</code>. The button view should be passed into <code>buttonView</code> option of a PopoutView.\r\n * The behavior defines the place where the speech bubble triangle (we call it anchor) should be placed.\r\n * @constructor\r\n * @extends Marionette.Behavior\r\n * @param {Object} options Options object.\r\n * @param {String} [options.anchor] jQuery-selector pointing to the DOM-element that should be used as an anchor.\r\n *                                  If omitted, root view element ($el) is used.\r\n * @param {Marionette.View} view A view the behavior is applied to.\r\n * */\r\n\r\nexport default Marionette.Behavior.extend({\r\n    onRender(): void {\r\n        let $el;\r\n        if (this.options.anchor) {\r\n            $el = this.$(this.options.anchor);\r\n        } else {\r\n            $el = this.el;\r\n        }\r\n        if (!this.options.omitDefaultStyling) {\r\n            $el.classList.add(classes.ANCHOR);\r\n        }\r\n        this.view.$anchor = $el;\r\n    }\r\n});\r\n","(function(factory) {\r\n    define(['underscore', 'exports'], (_, exports) => {\r\n        window.Backbone = factory(window, exports, _);\r\n    });\r\n})((root, Backbone, _) => {\r\n    Backbone.$ = el => el;\r\n\r\n    // Proxy Backbone class methods to Underscore functions, wrapping the model's\r\n    // `attributes` object or collection's `models` array behind the scenes.\r\n    //\r\n    // collection.filter(function(model) { return model.get('age') > 10 });\r\n    // collection.each(this.addView);\r\n    //\r\n    // `Function#apply` can be slow so we use the method's arg count, if we know it.\r\n    var addMethod = function(length, method, attribute) {\r\n        switch (length) {\r\n            case 1: return function() {\r\n                return _[method](this[attribute]);\r\n            };\r\n            case 2: return function(value) {\r\n                return _[method](this[attribute], value);\r\n            };\r\n            case 3: return function(iteratee, context) {\r\n                return _[method](this[attribute], cb(iteratee, this), context);\r\n            };\r\n            case 4: return function(iteratee, defaultVal, context) {\r\n                return _[method](this[attribute], cb(iteratee, this), defaultVal, context);\r\n            };\r\n            default: return function() {\r\n                var args = Array.prototype.slice.call(arguments);\r\n                args.unshift(this[attribute]);\r\n                return _[method].apply(_, args);\r\n            };\r\n        }\r\n    };\r\n    var addUnderscoreMethods = function(Class, methods, attribute) {\r\n        Object.entries(methods).forEach((entrie) => {\r\n            if (_[entrie[0]]) Class.prototype[entrie[0]] = addMethod(entrie[1], entrie[0], attribute);\r\n        });\r\n    };\r\n\r\n    // Support `collection.sortBy('attr')` and `collection.findWhere({id: 1})`.\r\n    var cb = function(iteratee, instance) {\r\n        if (_.isFunction(iteratee)) return iteratee;\r\n        if (_.isObject(iteratee) && !instance._isModel(iteratee)) return modelMatcher(iteratee);\r\n        if (_.isString(iteratee)) return function(model) { return model.get(iteratee); };\r\n        return iteratee;\r\n    };\r\n    var modelMatcher = function(attrs) {\r\n        var matcher = _.matches(attrs);\r\n        return function(model) {\r\n            return matcher(model.attributes);\r\n        };\r\n    };\r\n\r\n    // Backbone.Events\r\n    // ---------------\r\n\r\n    // A module that can be mixed in to *any object* in order to provide it with\r\n    // a custom event channel. You may bind a callback to an event with `on` or\r\n    // remove with `off`; `trigger`-ing an event fires all callbacks in\r\n    // succession.\r\n    //\r\n    //     var object = {};\r\n    //     Object.assign(object, Backbone.Events);\r\n    //     object.on('expand', function(){ alert('expanded'); });\r\n    //     object.trigger('expand');\r\n    //\r\n    const Events = Backbone.Events = {};\r\n\r\n    // Regular expression used to split event strings.\r\n    const eventSplitter = /\\s+/;\r\n\r\n    // Iterates over the standard `event, callback` (as well as the fancy multiple\r\n    // space-separated events `\"change blur\", callback` and jQuery-style event\r\n    // maps `{event: callback}`).\r\n    const eventsApi = function(iteratee, events, name, callback, opts) {\r\n        var i = 0;\r\n        var names;\r\n\r\n        if (name && typeof name === 'object') {\r\n            // Handle event maps.\r\n            if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;\r\n            for (names = _.keys(name); i < names.length; i++) {\r\n                events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\r\n            }\r\n        } else if (name && eventSplitter.test(name)) {\r\n            // Handle space-separated event names by delegating them individually.\r\n            for (names = name.split(eventSplitter); i < names.length; i++) {\r\n                events = iteratee(events, names[i], callback, opts);\r\n            }\r\n        } else {\r\n            // Finally, standard events.\r\n            events = iteratee(events, name, callback, opts);\r\n        }\r\n        return events;\r\n    };\r\n\r\n    // Bind an event to a `callback` function. Passing `\"all\"` will bind\r\n    // the callback to all events fired.\r\n    Events.on = function(name, callback, context) {\r\n        return internalOn(this, name, callback, context);\r\n    };\r\n\r\n    // Guard the `listening` argument from the public API.\r\n    var internalOn = function(obj, name, callback, context, listening) {\r\n        obj._events = eventsApi(onApi, obj._events || {}, name, callback, {\r\n            context: context,\r\n            ctx: obj,\r\n            listening\r\n        });\r\n\r\n        if (listening) {\r\n            var listeners = obj._listeners || (obj._listeners = {});\r\n            listeners[listening.id] = listening;\r\n        }\r\n\r\n        return obj;\r\n    };\r\n\r\n    // Inversion-of-control versions of `on`. Tell *this* object to listen to\r\n    // an event in another object... keeping track of what it's listening to\r\n    // for easier unbinding later.\r\n    Events.listenTo = function(obj, name, callback) {\r\n        if (!obj) return this;\r\n        const id = obj._listenId || (obj._listenId = _.uniqueId('l'));\r\n        const listeningTo = this._listeningTo || (this._listeningTo = {});\r\n        let listening = listeningTo[id];\r\n\r\n        // This object is not listening to any other events on `obj` yet.\r\n        // Setup the necessary references to track the listening callbacks.\r\n        if (!listening) {\r\n            const thisId = this._listenId || (this._listenId = _.uniqueId('l'));\r\n\r\n            listening = listeningTo[id] = { obj, objId: id, id: thisId, listeningTo, count: 0 };\r\n        }\r\n\r\n        // Bind callbacks on obj, and keep track of them on listening.\r\n        internalOn(obj, name, callback, this, listening);\r\n        return this;\r\n    };\r\n\r\n    // The reducing API that adds a callback to the `events` object.\r\n    const onApi = function(events, name, callback, options) {\r\n        if (callback) {\r\n            const handlers = events[name] || (events[name] = []);\r\n            const context = options.context;\r\n            const ctx = options.ctx;\r\n            const listening = options.listening;\r\n\r\n            if (listening) listening.count++;\r\n\r\n            handlers.push({ callback, context, ctx: context || ctx, listening });\r\n        }\r\n        return events;\r\n    };\r\n\r\n    // The reducing API that removes a callback from the `events` object.\r\n    const offApi = function(events, name, callback, options) {\r\n        if (!events) return;\r\n\r\n        let i = 0;\r\n        let listening;\r\n        const context = options.context;\r\n        const listeners = options.listeners;\r\n\r\n        // Delete all events listeners and \"drop\" events.\r\n        if (!name && !callback && !context) {\r\n            const ids = _.keys(listeners);\r\n            for (; i < ids.length; i++) {\r\n                listening = listeners[ids[i]];\r\n                delete listeners[listening.id];\r\n                delete listening.listeningTo[listening.objId];\r\n            }\r\n            return;\r\n        }\r\n\r\n        const names = name ? [name] : _.keys(events);\r\n        for (; i < names.length; i++) {\r\n            name = names[i];\r\n            let handlers = events[name];\r\n\r\n            // Bail out if there are no events stored.\r\n            if (!handlers) break;\r\n\r\n            // Replace events if there are any remaining.  Otherwise, clean up.\r\n            const remaining = [];\r\n            for (let j = 0; j < handlers.length; j++) {\r\n                var handler = handlers[j];\r\n                if (\r\n                    callback && callback !== handler.callback\r\n                    && callback !== handler.callback._callback\r\n                    || context && context !== handler.context\r\n                ) {\r\n                    remaining.push(handler);\r\n                } else {\r\n                    listening = handler.listening;\r\n                    if (listening && --listening.count === 0) {\r\n                        delete listeners[listening.id];\r\n                        delete listening.listeningTo[listening.objId];\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Update tail event if the list has any events.  Otherwise, clean up.\r\n            if (remaining.length) {\r\n                events[name] = remaining;\r\n            } else {\r\n                delete events[name];\r\n            }\r\n        }\r\n        return events;\r\n    };\r\n\r\n    // Remove one or many callbacks. If `context` is null, removes all\r\n    // callbacks with that function. If `callback` is null, removes all\r\n    // callbacks for the event. If `name` is null, removes all bound\r\n    // callbacks for all events.\r\n    Events.off = function(name, callback, context) {\r\n        if (!this._events) return this;\r\n        this._events = eventsApi(offApi, this._events, name, callback, {\r\n            context: context,\r\n            listeners: this._listeners\r\n        });\r\n        return this;\r\n    };\r\n\r\n    // Tell this object to stop listening to either specific events ... or\r\n    // to every object it's currently listening to.\r\n    Events.stopListening = function(obj, name, callback) {\r\n        const listeningTo = this._listeningTo;\r\n        if (!listeningTo) return this;\r\n\r\n        const ids = obj ? [obj._listenId] : _.keys(listeningTo);\r\n\r\n        for (let i = 0; i < ids.length; i++) {\r\n            const listening = listeningTo[ids[i]];\r\n\r\n            // If listening doesn't exist, this object is not currently\r\n            // listening to obj. Break out early.\r\n            if (!listening) break;\r\n\r\n            listening.obj.off(name, callback, this);\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    // Bind an event to only be triggered a single time. After the first time\r\n    // the callback is invoked, its listener will be removed. If multiple events\r\n    // are passed in using the space-separated syntax, the handler will fire\r\n    // once for each event, not once for a combination of all events.\r\n    Events.once = function(name, callback, context) {\r\n        // Map the event into a `{event: once}` object.\r\n        let events = eventsApi(onceMap, {}, name, callback, _.bind(this.off, this));\r\n        if (typeof name === 'string' && context == null) callback = void 0;\r\n        return this.on(events, callback, context);\r\n    };\r\n\r\n    // Inversion-of-control versions of `once`.\r\n    Events.listenToOnce = function(obj, name, callback) {\r\n        // Map the event into a `{event: once}` object.\r\n        let events = eventsApi(onceMap, {}, name, callback, _.bind(this.stopListening, this, obj));\r\n        return this.listenTo(obj, events);\r\n    };\r\n\r\n    // Reduces the event callbacks into a map of `{event: onceWrapper}`.\r\n    // `offer` unbinds the `onceWrapper` after it has been called.\r\n    var onceMap = function(map, name, callback, offer) {\r\n        if (callback) {\r\n            var once = map[name] = _.once(function() {\r\n                offer(name, once);\r\n                callback.apply(this, arguments);\r\n            });\r\n            once._callback = callback;\r\n        }\r\n        return map;\r\n    };\r\n\r\n    // Trigger one or many events, firing all bound callbacks. Callbacks are\r\n    // passed the same arguments as `trigger` is, apart from the event name\r\n    // (unless you're listening on `\"all\"`, which will cause your callback to\r\n    // receive the true name of the event as the first argument).\r\n    Events.trigger = function(name) {\r\n        if (!this._events) return this;\r\n\r\n        var length = Math.max(0, arguments.length - 1);\r\n        let args = Array(length);\r\n        for (let i = 0; i < length; i++) args[i] = arguments[i + 1];\r\n\r\n        eventsApi(triggerApi, this._events, name, void 0, args);\r\n        return this;\r\n    };\r\n\r\n    // Handles triggering the appropriate event callbacks.\r\n    var triggerApi = function(objEvents, name, callback, args) {\r\n        if (objEvents) {\r\n            var events = objEvents[name];\r\n            var allEvents = objEvents.all;\r\n            if (events && allEvents) allEvents = allEvents.slice();\r\n            if (events) triggerEvents(events, args);\r\n            if (allEvents) triggerEvents(allEvents, [name].concat(args));\r\n        }\r\n        return objEvents;\r\n    };\r\n\r\n    // A difficult-to-believe, but optimized internal dispatch function for\r\n    // triggering events. Tries to keep the usual cases speedy (most internal\r\n    // Backbone events have 3 arguments).\r\n    var triggerEvents = function (events, args) {\r\n        var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\r\n        switch (args.length) {\r\n            case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\r\n            case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\r\n            case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\r\n            case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\r\n            default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\r\n        }\r\n    };\r\n\r\n    // Allow the `Backbone` object to serve as a global event bus, for folks who\r\n    // want global \"pubsub\" in a convenient place.\r\n    Object.assign(Backbone, Events);\r\n\r\n    // Backbone.Model\r\n    // --------------\r\n\r\n    // Backbone **Models** are the basic data object in the framework --\r\n    // frequently representing a row in a table in a database on your server.\r\n    // A discrete chunk of data and a bunch of useful, related methods for\r\n    // performing computations and transformations on that data.\r\n\r\n    // Create a new model with the specified attributes. A client id (`cid`)\r\n    // is automatically generated and assigned for you.\r\n    var Model = Backbone.Model = function(attributes, options) {\r\n        var attrs = attributes || {};\r\n        options || (options = {});\r\n        this.cid = _.uniqueId(this.cidPrefix);\r\n        this.attributes = {};\r\n        if (options.collection) this.collection = options.collection;\r\n        if (options.parse) attrs = this.parse(attrs, options) || {};\r\n        var defaults = _.result(this, 'defaults');\r\n        attrs = _.defaults(Object.assign({}, defaults, attrs), defaults);\r\n        this.set(attrs, options);\r\n        this.changed = {};\r\n        this.initialize.apply(this, arguments);\r\n    };\r\n\r\n    // Attach all inheritable methods to the Model prototype.\r\n    Object.assign(Model.prototype, Events, {\r\n        // A hash of attributes whose current and previous value differ.\r\n        changed: null,\r\n\r\n        // The value returned during the last failed validation.\r\n        validationError: null,\r\n\r\n        // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\r\n        // CouchDB users may want to set this to `\"_id\"`.\r\n        idAttribute: 'id',\r\n\r\n        // The prefix is used to create the client id which is used to identify models locally.\r\n        // You may want to override this if you're experiencing name clashes with model ids.\r\n        cidPrefix: 'c',\r\n\r\n        // Initialize is an empty function by default. Override it with your own\r\n        // initialization logic.\r\n        initialize: function() { },\r\n\r\n        // Return a copy of the model's `attributes` object.\r\n        toJSON: function(options) {\r\n            return _.clone(this.attributes);\r\n        },\r\n\r\n        // Get the value of an attribute.\r\n        get: function(attr) {\r\n            return this.attributes[attr];\r\n        },\r\n\r\n        // Get the HTML-escaped value of an attribute.\r\n        escape: function(attr) {\r\n            return _.escape(this.get(attr));\r\n        },\r\n\r\n        // Returns `true` if the attribute contains a value that is not null\r\n        // or undefined.\r\n        has: function(attr) {\r\n            return this.get(attr) != null;\r\n        },\r\n\r\n        // Special-cased proxy to underscore's `_.matches` method.\r\n        matches: function(attrs) {\r\n            return !!_.iteratee(attrs, this)(this.attributes);\r\n        },\r\n\r\n        // Set a hash of model attributes on the object, firing `\"change\"`. This is\r\n        // the core primitive operation of a model, updating the data and notifying\r\n        // anyone who needs to know about the change in state. The heart of the beast.\r\n        set: function(key, val, options) {\r\n            if (key == null) return this;\r\n\r\n            // Handle both `\"key\", value` and `{key: value}` -style arguments.\r\n            var attrs;\r\n            if (typeof key === 'object') {\r\n                attrs = key;\r\n                options = val;\r\n            } else {\r\n                (attrs = {})[key] = val;\r\n            }\r\n\r\n            options || (options = {});\r\n\r\n            // Run validation.\r\n            if (!this._validate(attrs, options)) return false;\r\n\r\n            // Extract attributes and options.\r\n            const unset = options.unset;\r\n            const silent = options.silent;\r\n            const changes = [];\r\n            const changing = this._changing;\r\n\r\n            this._changing = true;\r\n\r\n            if (!changing) {\r\n                this._previousAttributes = _.clone(this.attributes);\r\n                this.changed = {};\r\n            }\r\n\r\n            const current = this.attributes;\r\n            const changed = this.changed;\r\n            const prev = this._previousAttributes;\r\n\r\n            // For each `set` attribute, update or delete the current value.\r\n            for (let attr in attrs) {\r\n                val = attrs[attr];\r\n                if (!_.isEqual(current[attr], val)) changes.push(attr);\r\n                if (!_.isEqual(prev[attr], val)) {\r\n                    changed[attr] = val;\r\n                } else {\r\n                    delete changed[attr];\r\n                }\r\n                unset ? delete current[attr] : current[attr] = val;\r\n            }\r\n\r\n            // Update the `id`.\r\n            if (this.idAttribute in attrs) this.id = this.get(this.idAttribute);\r\n\r\n            // Trigger all relevant attribute changes.\r\n            if (!silent) {\r\n                if (changes.length) this._pending = options;\r\n                for (let i = 0; i < changes.length; i++) {\r\n                    this.trigger(`change:${  changes[i]}`, this, current[changes[i]], options);\r\n                }\r\n            }\r\n\r\n            // You might be wondering why there's a `while` loop here. Changes can\r\n            // be recursively nested within `\"change\"` events.\r\n            if (changing) return this;\r\n            if (!silent) {\r\n                while (this._pending) {\r\n                    options = this._pending;\r\n                    this._pending = false;\r\n                    this.trigger('change', this, options);\r\n                }\r\n            }\r\n            this._pending = false;\r\n            this._changing = false;\r\n            return this;\r\n        },\r\n\r\n        // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\r\n        // if the attribute doesn't exist.\r\n        unset: function(attr, options) {\r\n            return this.set(attr, void 0, Object.assign({}, options, { unset: true }));\r\n        },\r\n\r\n        // Clear all attributes on the model, firing `\"change\"`.\r\n        clear: function(options) {\r\n            let attrs = {};\r\n            for (let key in this.attributes) attrs[key] = void 0;\r\n            return this.set(attrs, Object.assign({}, options, { unset: true }));\r\n        },\r\n\r\n        // Determine if the model has changed since the last `\"change\"` event.\r\n        // If you specify an attribute name, determine if that attribute has changed.\r\n        hasChanged: function(attr) {\r\n            if (attr == null) return !_.isEmpty(this.changed);\r\n            return _.has(this.changed, attr);\r\n        },\r\n\r\n        // Return an object containing all the attributes that have changed, or\r\n        // false if there are no changed attributes. Useful for determining what\r\n        // parts of a view need to be updated and/or what attributes need to be\r\n        // persisted to the server. Unset attributes will be set to undefined.\r\n        // You can also pass an attributes object to diff against the model,\r\n        // determining if there *would be* a change.\r\n        changedAttributes: function(diff) {\r\n            if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\r\n            const old = this._changing ? this._previousAttributes : this.attributes;\r\n            const changed = {};\r\n\r\n            for (let attr in diff) {\r\n                var val = diff[attr];\r\n                if (_.isEqual(old[attr], val)) continue;\r\n                changed[attr] = val;\r\n            }\r\n            return _.size(changed) ? changed : false;\r\n        },\r\n\r\n        // Get the previous value of an attribute, recorded at the time the last\r\n        // `\"change\"` event was fired.\r\n        previous: function(attr) {\r\n            if (attr == null || !this._previousAttributes) return null;\r\n            return this._previousAttributes[attr];\r\n        },\r\n\r\n        // Get all of the attributes of the model at the time of the previous\r\n        // `\"change\"` event.\r\n        previousAttributes: function() {\r\n            return _.clone(this._previousAttributes);\r\n        },\r\n\r\n        // Destroy this model on the server if it was already persisted.\r\n        // Optimistically removes the model from its collection, if it has one.\r\n        // If `wait: true` is passed, waits for the server to respond before removal.\r\n        destroy: function(options) {\r\n            options = options ? _.clone(options) : {};\r\n            const model = this;\r\n            let wait = options.wait;\r\n\r\n            const destroy = function() {\r\n                model.stopListening();\r\n                model.trigger('destroy', model, model.collection, options);\r\n            };\r\n\r\n            if (!wait) destroy();\r\n        },\r\n\r\n        // **parse** converts a response into the hash of attributes to be `set` on\r\n        // the model. The default implementation is just to pass the response along.\r\n        parse: function(resp, options) {\r\n            return resp;\r\n        },\r\n\r\n        // Create a new model with identical attributes to this one.\r\n        clone: function() {\r\n            return new this.constructor(this.attributes);\r\n        },\r\n\r\n        // A model is new if it has never been saved to the server, and lacks an id.\r\n        isNew: function() {\r\n            return !this.has(this.idAttribute);\r\n        },\r\n\r\n        // Check if the model is currently in a valid state.\r\n        isValid: function(options) {\r\n            return this._validate({}, Object.assign({}, options, { validate: true }));\r\n        },\r\n\r\n        // Run validation against the next complete set of model attributes,\r\n        // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\r\n        _validate: function(attrs, options) {\r\n            if (!options.validate || !this.validate) return true;\r\n            attrs = Object.assign({}, this.attributes, attrs);\r\n            var error = this.validationError = this.validate(attrs, options) || null;\r\n            if (!error) return true;\r\n            this.trigger('invalid', this, error, Object.assign(options, { validationError: error }));\r\n            return false;\r\n        }\r\n    });\r\n\r\n    // Underscore methods that we want to implement on the Model, mapped to the\r\n    // number of arguments they take.\r\n    let modelMethods = {\r\n        keys: 1,\r\n        values: 1,\r\n        pairs: 1,\r\n        invert: 1,\r\n        pick: 0,\r\n        omit: 0,\r\n        chain: 1,\r\n        isEmpty: 1\r\n    };\r\n\r\n    // Mix in each Underscore method as a proxy to `Model#attributes`.\r\n    addUnderscoreMethods(Model, modelMethods, 'attributes');\r\n\r\n    // Backbone.Collection\r\n    // -------------------\r\n\r\n    // If models tend to represent a single row of data, a Backbone Collection is\r\n    // more analogous to a table full of data ... or a small slice or page of that\r\n    // table, or a collection of rows that belong together for a particular reason\r\n    // -- all of the messages in this particular folder, all of the documents\r\n    // belonging to this particular author, and so on. Collections maintain\r\n    // indexes of their models, both in order, and for lookup by `id`.\r\n\r\n    // Create a new **Collection**, perhaps to contain a specific type of `model`.\r\n    // If a `comparator` is specified, the Collection will maintain\r\n    // its models in sort order, as they're added and removed.\r\n    const Collection = Backbone.Collection = function(models, options) {\r\n        options || (options = {});\r\n        if (options.model) this.model = options.model;\r\n        if (options.comparator !== void 0) this.comparator = options.comparator;\r\n        this._reset();\r\n        this.initialize.apply(this, arguments);\r\n        if (models) this.reset(models, Object.assign({ silent: true }, options));\r\n    };\r\n\r\n    // Default options for `Collection#set`.\r\n    const setOptions = { add: true, remove: true, merge: true };\r\n    const addOptions = { add: true, remove: false };\r\n\r\n    // Splices `insert` into `array` at index `at`.\r\n    const splice = function(array, insert, at) {\r\n        at = Math.min(Math.max(at, 0), array.length);\r\n        var tail = Array(array.length - at);\r\n        var length = insert.length;\r\n        var i;\r\n        for (i = 0; i < tail.length; i++) tail[i] = array[i + at];\r\n        for (i = 0; i < length; i++) array[i + at] = insert[i];\r\n        for (i = 0; i < tail.length; i++) array[i + length + at] = tail[i];\r\n    };\r\n\r\n    // Define the Collection's inheritable methods.\r\n    Object.assign(Collection.prototype, Events, {\r\n        // The default model for a collection is just a **Backbone.Model**.\r\n        // This should be overridden in most cases.\r\n        model: Model,\r\n\r\n        // Initialize is an empty function by default. Override it with your own\r\n        // initialization logic.\r\n        initialize: function() { },\r\n\r\n        // The JSON representation of a Collection is an array of the\r\n        // models' attributes.\r\n        toJSON: function(options) {\r\n            return this.map((model) => { return model.toJSON(options); });\r\n        },\r\n\r\n        // Add a model, or list of models to the set. `models` may be Backbone\r\n        // Models or raw JavaScript objects to be converted to Models, or any\r\n        // combination of the two.\r\n        add: function(models, options) {\r\n            return this.set(models, Object.assign({ merge: false }, options, addOptions));\r\n        },\r\n\r\n        // Remove a model, or a list of models from the set.\r\n        remove: function(models, options = {}) {\r\n            const singular = !Array.isArray(models);\r\n            models = singular ? [models] : models.slice();\r\n            var removed = this._removeModels(models, options);\r\n            if (!options.silent && removed.length) {\r\n                options.changes = { added: [], merged: [], removed };\r\n                this.trigger('update', this, options);\r\n            }\r\n            return singular ? removed[0] : removed;\r\n        },\r\n\r\n        // Update a collection by `set`-ing a new list of models, adding new ones,\r\n        // removing models that are no longer present, and merging models that\r\n        // already exist in the collection, as necessary. Similar to **Model#set**,\r\n        // the core operation for updating the data contained by the collection.\r\n        set: function(models, options) {\r\n            if (models == null) return;\r\n\r\n            options = Object.assign({}, setOptions, options);\r\n            if (options.parse && !this._isModel(models)) {\r\n                models = this.parse(models, options) || [];\r\n            }\r\n\r\n            let singular = !Array.isArray(models);\r\n            models = singular ? [models] : models.slice();\r\n\r\n            var at = options.at;\r\n            if (at != null) at = +at;\r\n            if (at > this.length) at = this.length;\r\n            if (at < 0) at += this.length + 1;\r\n\r\n            var set = [];\r\n            let toAdd = [];\r\n            var toMerge = [];\r\n            var toRemove = [];\r\n            var modelMap = {};\r\n\r\n            let add = options.add;\r\n            var merge = options.merge;\r\n            var remove = options.remove;\r\n\r\n            var sort = false;\r\n            let sortable = this.comparator && at == null && options.sort !== false;\r\n            var sortAttr = _.isString(this.comparator) ? this.comparator : null;\r\n\r\n            // Turn bare objects into model references, and prevent invalid models\r\n            // from being added.\r\n            var model;\r\n            var i;\r\n            for (i = 0; i < models.length; i++) {\r\n                model = models[i];\r\n\r\n                // If a duplicate is found, prevent it from being added and\r\n                // optionally merge it into the existing model.\r\n                var existing = this.get(model);\r\n                if (existing) {\r\n                    if (merge && model !== existing) {\r\n                        var attrs = this._isModel(model) ? model.attributes : model;\r\n                        if (options.parse) attrs = existing.parse(attrs, options);\r\n                        existing.set(attrs, options);\r\n                        toMerge.push(existing);\r\n                        if (sortable && !sort) sort = existing.hasChanged(sortAttr);\r\n                    }\r\n                    if (!modelMap[existing.cid]) {\r\n                        modelMap[existing.cid] = true;\r\n                        set.push(existing);\r\n                    }\r\n                    models[i] = existing;\r\n\r\n                    // If this is a new, valid model, push it to the `toAdd` list.\r\n                } else if (add) {\r\n                    model = models[i] = this._prepareModel(model, options);\r\n                    if (model) {\r\n                        toAdd.push(model);\r\n                        this._addReference(model, options);\r\n                        modelMap[model.cid] = true;\r\n                        set.push(model);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Remove stale models.\r\n            if (remove) {\r\n                for (i = 0; i < this.length; i++) {\r\n                    model = this.models[i];\r\n                    if (!modelMap[model.cid]) toRemove.push(model);\r\n                }\r\n                if (toRemove.length) this._removeModels(toRemove, options);\r\n            }\r\n\r\n            // See if sorting is needed, update `length` and splice in new models.\r\n            var orderChanged = false;\r\n            let replace = !sortable && add && remove;\r\n            if (set.length && replace) {\r\n                orderChanged = this.length !== set.length || _.some(this.models, (m, index) => {\r\n                    return m !== set[index];\r\n                });\r\n                this.models.length = 0;\r\n                splice(this.models, set, 0);\r\n                this.length = this.models.length;\r\n            } else if (toAdd.length) {\r\n                if (sortable) sort = true;\r\n                splice(this.models, toAdd, at == null ? this.length : at);\r\n                this.length = this.models.length;\r\n            }\r\n\r\n            // Silently sort the collection if appropriate.\r\n            if (sort) this.sort({ silent: true });\r\n\r\n            // Unless silenced, it's time to fire all appropriate add/sort/update events.\r\n            if (!options.silent) {\r\n                for (i = 0; i < toAdd.length; i++) {\r\n                    if (at != null) options.index = at + i;\r\n                    model = toAdd[i];\r\n                    model.trigger('add', model, this, options);\r\n                }\r\n                if (sort || orderChanged) this.trigger('sort', this, options);\r\n                if (toAdd.length || toRemove.length || toMerge.length) {\r\n                    options.changes = {\r\n                        added: toAdd,\r\n                        removed: toRemove,\r\n                        merged: toMerge\r\n                    };\r\n                    this.trigger('update', this, options);\r\n                }\r\n            }\r\n\r\n            // Return the added (or merged) model (or models).\r\n            return singular ? models[0] : models;\r\n        },\r\n\r\n        // When you have more items than you want to add or remove individually,\r\n        // you can reset the entire set with a new list of models, without firing\r\n        // any granular `add` or `remove` events. Fires `reset` when finished.\r\n        // Useful for bulk operations and optimizations.\r\n        reset: function(models, options) {\r\n            options = options ? _.clone(options) : {};\r\n            for (let i = 0; i < this.models.length; i++) {\r\n                this._removeReference(this.models[i], options);\r\n            }\r\n            options.previousModels = this.models;\r\n            this._reset();\r\n            models = this.add(models, Object.assign({ silent: true }, options));\r\n            if (!options.silent) this.trigger('reset', this, options);\r\n            return models;\r\n        },\r\n\r\n        // Add a model to the end of the collection.\r\n        push: function(model, options) {\r\n            return this.add(model, Object.assign({ at: this.length }, options));\r\n        },\r\n\r\n        // Remove a model from the end of the collection.\r\n        pop: function(options) {\r\n            let model = this.at(this.length - 1);\r\n            return this.remove(model, options);\r\n        },\r\n\r\n        // Add a model to the beginning of the collection.\r\n        unshift: function(model, options) {\r\n            return this.add(model, Object.assign({ at: 0 }, options));\r\n        },\r\n\r\n        // Remove a model from the beginning of the collection.\r\n        shift: function(options) {\r\n            var model = this.at(0);\r\n            return this.remove(model, options);\r\n        },\r\n\r\n        // Slice out a sub-array of models from the collection.\r\n        slice: function() {\r\n            return Array.prototype.slice.apply(this.models, arguments);\r\n        },\r\n\r\n        // Get a model from the set by id, cid, model object with id or cid\r\n        // properties, or an attributes object that is transformed through modelId.\r\n        get: function(obj) {\r\n            if (obj == null) return void 0;\r\n            return this._byId[obj]\r\n                || this._byId[this.modelId(obj.attributes || obj)]\r\n                || obj.cid && this._byId[obj.cid];\r\n        },\r\n\r\n        // Returns `true` if the model is in the collection.\r\n        has: function(obj) {\r\n            return this.get(obj) != null;\r\n        },\r\n\r\n        // Get the model at the given index.\r\n        at: function(index) {\r\n            if (index < 0) index += this.length;\r\n            return this.models[index];\r\n        },\r\n\r\n        // Return models with matching attributes. Useful for simple cases of\r\n        // `filter`.\r\n        where: function(attrs, first) {\r\n            return this[first ? 'find' : 'filter'](attrs);\r\n        },\r\n\r\n        // Return the first model with matching attributes. Useful for simple cases\r\n        // of `find`.\r\n        findWhere: function(attrs) {\r\n            return this.where(attrs, true);\r\n        },\r\n\r\n        // Force the collection to re-sort itself. You don't need to call this under\r\n        // normal circumstances, as the set will maintain sort order as each item\r\n        // is added.\r\n        sort: function(options) {\r\n            let comparator = this.comparator;\r\n            if (!comparator) throw new Error('Cannot sort a set without a comparator');\r\n            options || (options = {});\r\n\r\n            let length = comparator.length;\r\n            if (_.isFunction(comparator)) comparator = _.bind(comparator, this);\r\n\r\n            // Run sort based on type of `comparator`.\r\n            if (length === 1 || _.isString(comparator)) {\r\n                this.models = this.sortBy(comparator);\r\n            } else {\r\n                this.models.sort(comparator);\r\n            }\r\n            if (!options.silent) this.trigger('sort', this, options);\r\n            return this;\r\n        },\r\n\r\n        // Pluck an attribute from each model in the collection.\r\n        pluck: function(attr) {\r\n            return this.map(`${attr  }`);\r\n        },\r\n\r\n        // Create a new instance of a model in this collection. Add the model to the\r\n        // collection immediately, unless `wait: true` is passed, in which case we\r\n        // wait for the server to agree.\r\n        create: function(model, options) {\r\n            options = options ? _.clone(options) : {};\r\n            var wait = options.wait;\r\n            model = this._prepareModel(model, options);\r\n            if (!model) return false;\r\n            if (!wait) this.add(model, options);\r\n            var collection = this;\r\n            let success = options.success;\r\n            options.success = function(m, resp, callbackOpts) {\r\n                if (wait) collection.add(m, callbackOpts);\r\n                if (success) success.call(callbackOpts.context, m, resp, callbackOpts);\r\n            };\r\n            model.save(null, options);\r\n            return model;\r\n        },\r\n\r\n        // **parse** converts a response into a list of models to be added to the\r\n        // collection. The default implementation is just to pass it through.\r\n        parse: function(resp, options) {\r\n            return resp;\r\n        },\r\n\r\n        // Create a new collection with an identical list of models as this one.\r\n        clone: function() {\r\n            return new this.constructor(this.models, {\r\n                model: this.model,\r\n                comparator: this.comparator\r\n            });\r\n        },\r\n\r\n        // Define how to uniquely identify models in the collection.\r\n        modelId: function(attrs) {\r\n            return attrs[this.model.prototype.idAttribute || 'id'];\r\n        },\r\n\r\n        // Private method to reset all internal state. Called when the collection\r\n        // is first initialized or reset.\r\n        _reset: function() {\r\n            this.length = 0;\r\n            this.models = [];\r\n            this._byId = {};\r\n        },\r\n\r\n        // Prepare a hash of attributes (or other model) to be added to this\r\n        // collection.\r\n        _prepareModel: function(attrs, options) {\r\n            if (this._isModel(attrs)) {\r\n                if (!attrs.collection) attrs.collection = this;\r\n                return attrs;\r\n            }\r\n            options = options ? _.clone(options) : {};\r\n            options.collection = this;\r\n            var model = new this.model(attrs, options);\r\n            if (!model.validationError) return model;\r\n            this.trigger('invalid', this, model.validationError, options);\r\n            return false;\r\n        },\r\n\r\n        // Internal method called by both remove and set.\r\n        _removeModels: function(models, options) {\r\n            let removed = [];\r\n            for (let i = 0; i < models.length; i++) {\r\n                var model = this.get(models[i]);\r\n                if (!model) continue;\r\n\r\n                let index = this.indexOf(model);\r\n                this.models.splice(index, 1);\r\n                this.length--;\r\n\r\n                // Remove references before triggering 'remove' event to prevent an\r\n                // infinite loop. #3693\r\n                delete this._byId[model.cid];\r\n                let id = this.modelId(model.attributes);\r\n                if (id != null) delete this._byId[id];\r\n\r\n                if (!options.silent) {\r\n                    options.index = index;\r\n                    model.trigger('remove', model, this, options);\r\n                }\r\n\r\n                removed.push(model);\r\n                this._removeReference(model, options);\r\n            }\r\n            return removed;\r\n        },\r\n\r\n        // Method for checking whether an object should be considered a model for\r\n        // the purposes of adding to the collection.\r\n        _isModel: function(model) {\r\n            return model instanceof Model;\r\n        },\r\n\r\n        // Internal method to create a model's ties to a collection.\r\n        _addReference: function(model, options) {\r\n            this._byId[model.cid] = model;\r\n            let id = this.modelId(model.attributes);\r\n            if (id != null) this._byId[id] = model;\r\n            model.on('all', this._onModelEvent, this);\r\n        },\r\n\r\n        // Internal method to sever a model's ties to a collection.\r\n        _removeReference: function(model, options) {\r\n            delete this._byId[model.cid];\r\n            var id = this.modelId(model.attributes);\r\n            if (id != null) delete this._byId[id];\r\n            if (this === model.collection) delete model.collection;\r\n            model.off('all', this._onModelEvent, this);\r\n        },\r\n\r\n        // Internal method called every time a model in the set fires an event.\r\n        // Sets need to update their indexes when models change ids. All other\r\n        // events simply proxy through. \"add\" and \"remove\" events that originate\r\n        // in other collections are ignored.\r\n        _onModelEvent: function(event, model, collection, options) {\r\n            if (model) {\r\n                if ((event === 'add' || event === 'remove') && collection !== this) return;\r\n                if (event === 'destroy') this.remove(model, options);\r\n                if (event === 'change') {\r\n                    var prevId = this.modelId(model.previousAttributes());\r\n                    var id = this.modelId(model.attributes);\r\n                    if (prevId !== id) {\r\n                        if (prevId != null) delete this._byId[prevId];\r\n                        if (id != null) this._byId[id] = model;\r\n                    }\r\n                }\r\n            }\r\n            this.trigger.apply(this, arguments);\r\n        }\r\n    });\r\n\r\n    // Underscore methods that we want to implement on the Collection.\r\n    // 90% of the core usefulness of Backbone Collections is actually implemented\r\n    // right here:\r\n    var collectionMethods = {\r\n        forEach: 3,\r\n        each: 3,\r\n        map: 3,\r\n        collect: 3,\r\n        reduce: 0,\r\n        foldl: 0,\r\n        inject: 0,\r\n        reduceRight: 0,\r\n        foldr: 0,\r\n        find: 3,\r\n        detect: 3,\r\n        filter: 3,\r\n        select: 3,\r\n        reject: 3,\r\n        every: 3,\r\n        all: 3,\r\n        some: 3,\r\n        any: 3,\r\n        include: 3,\r\n        includes: 3,\r\n        contains: 3,\r\n        invoke: 0,\r\n        max: 3,\r\n        min: 3,\r\n        toArray: 1,\r\n        size: 1,\r\n        first: 3,\r\n        head: 3,\r\n        take: 3,\r\n        initial: 3,\r\n        rest: 3,\r\n        tail: 3,\r\n        drop: 3,\r\n        last: 3,\r\n        without: 0,\r\n        difference: 0,\r\n        indexOf: 3,\r\n        shuffle: 1,\r\n        lastIndexOf: 3,\r\n        isEmpty: 1,\r\n        chain: 1,\r\n        sample: 3,\r\n        partition: 3,\r\n        groupBy: 3,\r\n        countBy: 3,\r\n        sortBy: 3,\r\n        indexBy: 3,\r\n        findIndex: 3,\r\n        findLastIndex: 3\r\n    };\r\n\r\n    // Mix in each Underscore method as a proxy to `Collection#models`.\r\n    addUnderscoreMethods(Collection, collectionMethods, 'models');\r\n\r\n    // Backbone.View\r\n    // -------------\r\n\r\n    // Backbone Views are almost more convention than they are actual code. A View\r\n    // is simply a JavaScript object that represents a logical chunk of UI in the\r\n    // DOM. This might be a single item, an entire list, a sidebar or panel, or\r\n    // even the surrounding frame which wraps your whole app. Defining a chunk of\r\n    // UI as a **View** allows you to define your DOM events declaratively, without\r\n    // having to worry about render order ... and makes it easy for the view to\r\n    // react to specific changes in the state of your models.\r\n\r\n    // Creating a Backbone.View creates its initial element outside of the DOM,\r\n    // if an existing element is not provided...\r\n    var View = Backbone.View = function(options) {\r\n        this.cid = _.uniqueId('view');\r\n        Object.assign(this, _.pick(options, viewOptions));\r\n        this._ensureElement();\r\n        this.initialize.apply(this, arguments);\r\n    };\r\n\r\n    // Cached regex to split keys for `delegate`.\r\n    let delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\r\n\r\n    // List of view options to be set as properties.\r\n    var viewOptions = ['model',\r\n        'collection',\r\n        'el',\r\n        'id',\r\n        'attributes',\r\n        'className',\r\n        'tagName',\r\n        'events'];\r\n\r\n    // Set up all inheritable **Backbone.View** properties and methods.\r\n    Object.assign(View.prototype, Events, {\r\n        // The default `tagName` of a View's element is `\"div\"`.\r\n        tagName: 'div',\r\n\r\n        // jQuery delegate for element lookup, scoped to DOM elements within the\r\n        // current view. This should be preferred to global lookups where possible.\r\n        $: function(selector) {\r\n            const els = this.el.querySelectorAll(selector);\r\n\r\n            return els.length > 1 ? els : els[0];\r\n        },\r\n\r\n        // Initialize is an empty function by default. Override it with your own\r\n        // initialization logic.\r\n        initialize: function() { },\r\n\r\n        // **render** is the core function that your view should override, in order\r\n        // to populate its element (`this.el`), with the appropriate HTML. The\r\n        // convention is for **render** to always return `this`.\r\n        render: function() {\r\n            return this;\r\n        },\r\n\r\n        // Remove this view by taking the element out of the DOM, and removing any\r\n        // applicable Backbone.Events listeners.\r\n        remove: function() {\r\n            this._removeElement();\r\n            this.stopListening();\r\n            return this;\r\n        },\r\n\r\n        // Remove this view's element from the document and all event listeners\r\n        // attached to it. Exposed for subclasses using an alternative DOM\r\n        // manipulation API.\r\n        _removeElement: function() {\r\n            this.el.remove();\r\n        },\r\n\r\n        // Change the view's element (`this.el` property) and re-delegate the\r\n        // view's events on the new element.\r\n        setElement: function(element) {\r\n            this.undelegateEvents();\r\n            this._setElement(element);\r\n            this.delegateEvents();\r\n            return this;\r\n        },\r\n\r\n        // Creates the `this.el` and `this.el` references for this view using the\r\n        // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\r\n        // context or an element. Subclasses can override this to utilize an\r\n        // alternative DOM manipulation API and are only required to set the\r\n        // `this.el` property.\r\n        _setElement: function(el) {\r\n            this.$el = el;\r\n            this.$el.off = el.removeEventListeners;\r\n            this.el = el;\r\n        },\r\n\r\n        // Set callbacks, where `this.events` is a hash of\r\n        //\r\n        // *{\"event selector\": \"callback\"}*\r\n        //\r\n        //     {\r\n        //       'mousedown .title':  'edit',\r\n        //       'click .button':     'save',\r\n        //       'click .open':       function(e) { ... }\r\n        //     }\r\n        //\r\n        // pairs. Callbacks will be bound to the view, with `this` set properly.\r\n        // Uses event delegation for efficiency.\r\n        // Omitting the selector binds the event to `this.el`.\r\n        delegateEvents: function(events) {\r\n            events || (events = _.result(this, 'events'));\r\n            if (!events) return this;\r\n            this.undelegateEvents();\r\n            for (let key in events) {\r\n                var method = events[key];\r\n                if (!_.isFunction(method)) method = this[method];\r\n                if (!method) continue;\r\n                let match = key.match(delegateEventSplitter);\r\n                this.delegate(match[1], match[2], _.bind(method, this));\r\n            }\r\n            return this;\r\n        },\r\n\r\n        // Add a single event listener to the view's element (or a child element\r\n        // using `selector`). This only works for delegate-able events: not `focus`,\r\n        // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\r\n        delegate: function(eventName, selector, listener) {\r\n            if (selector) {\r\n                document.querySelector(selector)\r\n                    ? document.querySelector(selector).addEventListener(eventName, listener)\r\n                    : this.el.addEventListener(eventName, listener);\r\n            } else {\r\n                this.el.addEventListener(eventName, listener);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        // Clears all callbacks previously bound to the view by `delegateEvents`.\r\n        // You usually don't need to use this, but may wish to if you have multiple\r\n        // Backbone views attached to the same DOM element.\r\n        undelegateEvents: function() {\r\n            if (this.el) this.el.removeEventListener(`.delegateEvents${  this.cid}`, null); //todo fix it\r\n            return this;\r\n        },\r\n\r\n        // A finer-grained `undelegateEvents` for removing a single delegated event.\r\n        // `selector` and `listener` are both optional.\r\n        undelegate: function(eventName, selector, listener) {\r\n            this.el.removeEventListener(eventName, selector, listener);\r\n            return this;\r\n        },\r\n\r\n        // Produces a DOM element to be assigned to your view. Exposed for\r\n        // subclasses using an alternative DOM manipulation API.\r\n        _createElement: function(tagName) {\r\n            return document.createElement(tagName);\r\n        },\r\n\r\n        // Ensure that the View has a DOM element to render into.\r\n        // If `this.el` is a string, pass it through `$()`, take the first\r\n        // matching element, and re-assign it to `el`. Otherwise, create\r\n        // an element from the `id`, `className` and `tagName` properties.\r\n        _ensureElement: function() {\r\n            if (!this.el) {\r\n                const attrs = Object.assign({}, _.result(this, 'attributes'));\r\n\r\n                if (this.id) {\r\n                    attrs.id = _.result(this, 'id');\r\n                }\r\n                if (this.className) attrs.class = _.result(this, 'className');\r\n                this.setElement(this._createElement(_.result(this, 'tagName')));\r\n                this._setAttributes(attrs);\r\n            } else {\r\n                this.setElement(_.result(this, 'el'));\r\n            }\r\n        },\r\n\r\n        // Set attributes from a hash on this view's element.  Exposed for\r\n        // subclasses using an alternative DOM manipulation API.\r\n        _setAttributes: function(attributes) {\r\n            Object.keys(attributes).forEach(attributeKey => this.el.setAttribute(attributeKey, attributes[attributeKey]));\r\n        }\r\n    });\r\n\r\n    // Backbone.Router\r\n    // ---------------\r\n\r\n    // Routers map faux-URLs to actions, and fire events when routes are\r\n    // matched. Creating a new one sets its `routes` hash, if not set statically.\r\n    const Router = Backbone.Router = function(options) {\r\n        options || (options = {});\r\n        if (options.routes) this.routes = options.routes;\r\n        this._bindRoutes();\r\n        this.initialize.apply(this, arguments);\r\n    };\r\n\r\n    // Cached regular expressions for matching named param parts and splatted\r\n    // parts of route strings.\r\n    let optionalParam = /\\((.*?)\\)/g;\r\n    let namedParam = /(\\(\\?)?:\\w+/g;\r\n    let splatParam = /\\*\\w+/g;\r\n    let escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\r\n\r\n    // Set up all inheritable **Backbone.Router** properties and methods.\r\n    Object.assign(Router.prototype, Events, {\r\n        // Initialize is an empty function by default. Override it with your own\r\n        // initialization logic.\r\n        initialize: function() { },\r\n\r\n        // Manually bind a single named route to a callback. For example:\r\n        //\r\n        //     this.route('search/:query/p:num', 'search', function(query, num) {\r\n        //       ...\r\n        //     });\r\n        //\r\n        route: function(route, name, callback) {\r\n            if (!_.isRegExp(route)) route = this._routeToRegExp(route);\r\n            if (_.isFunction(name)) {\r\n                callback = name;\r\n                name = '';\r\n            }\r\n            if (!callback) callback = this[name];\r\n            let router = this;\r\n            Backbone.history.route(route, (fragment) => {\r\n                var args = router._extractParameters(route, fragment);\r\n                if (router.execute(callback, args, name) !== false) {\r\n                    router.trigger.apply(router, ['route:' + name].concat(args));\r\n                    router.trigger('route', name, args);\r\n                    Backbone.history.trigger('route', router, name, args);\r\n                }\r\n            });\r\n            return this;\r\n        },\r\n\r\n        // Execute a route handler with the provided parameters.  This is an\r\n        // excellent place to do pre-route setup or post-route cleanup.\r\n        execute: function(callback, args) {\r\n            if (callback) callback.apply(this, args);\r\n        },\r\n\r\n        // Simple proxy to `Backbone.history` to save a fragment into the history.\r\n        navigate: function(fragment, options) {\r\n            Backbone.history.navigate(fragment, options);\r\n            return this;\r\n        },\r\n\r\n        // Bind all defined routes to `Backbone.history`. We have to reverse the\r\n        // order of the routes here to support behavior where the most general\r\n        // routes can be defined at the bottom of the route map.\r\n        _bindRoutes: function() {\r\n            if (!this.routes) return;\r\n            this.routes = _.result(this, 'routes');\r\n            let route;\r\n            let routes = _.keys(this.routes);\r\n            while ((route = routes.pop()) != null) {\r\n                this.route(route, this.routes[route]);\r\n            }\r\n        },\r\n\r\n        // Convert a route string into a regular expression, suitable for matching\r\n        // against the current location hash.\r\n        _routeToRegExp: function(route) {\r\n            route = route.replace(escapeRegExp, '\\\\$&')\r\n                .replace(optionalParam, '(?:$1)?')\r\n                .replace(namedParam, (match, optional) => {\r\n                    return optional ? match : '([^/?]+)';\r\n                })\r\n                .replace(splatParam, '([^?]*?)');\r\n            return new RegExp(`^${  route  }(?:\\\\?([\\\\s\\\\S]*))?$`);\r\n        },\r\n\r\n        // Given a route, and a URL fragment that it matches, return the array of\r\n        // extracted decoded parameters. Empty or unmatched parameters will be\r\n        // treated as `null` to normalize cross-browser behavior.\r\n        _extractParameters: function(route, fragment) {\r\n            const params = route.exec(fragment).slice(1);\r\n\r\n            return _.map(params, (param, i) => {\r\n                // Don't decode the search params.\r\n                if (i === params.length - 1) return param || null;\r\n                return param ? decodeURIComponent(param) : null;\r\n            });\r\n        }\r\n    });\r\n\r\n    // Backbone.History\r\n    // ----------------\r\n\r\n    // Handles cross-browser history management, based on either\r\n    // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\r\n    // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\r\n    // and URL fragments. If the browser supports neither (old IE, natch),\r\n    // falls back to polling.\r\n    const History = Backbone.History = function() {\r\n        this.handlers = [];\r\n        this.checkUrl = _.bind(this.checkUrl, this);\r\n\r\n        // Ensure that `History` can be used outside of the browser.\r\n        if (typeof window !== 'undefined') {\r\n            this.location = window.location;\r\n            this.history = window.history;\r\n        }\r\n    };\r\n\r\n    // Cached regex for stripping a leading hash/slash and trailing space.\r\n    const routeStripper = /^[#\\/]|\\s+$/g;\r\n\r\n    // Cached regex for stripping leading and trailing slashes.\r\n    const rootStripper = /^\\/+|\\/+$/g;\r\n\r\n    // Cached regex for stripping urls of hash.\r\n    const pathStripper = /#.*$/;\r\n\r\n    // Has the history handling already been started?\r\n    History.started = false;\r\n\r\n    // Set up all inheritable **Backbone.History** properties and methods.\r\n    Object.assign(History.prototype, Events, {\r\n        // The default interval to poll for hash changes, if necessary, is\r\n        // twenty times a second.\r\n        interval: 50,\r\n\r\n        // Are we at the app root?\r\n        atRoot: function() {\r\n            const path = this.location.pathname.replace(/[^\\/]$/, '$&/');\r\n\r\n            return path === this.root && !this.getSearch();\r\n        },\r\n\r\n        // Does the pathname match the root?\r\n        matchRoot: function() {\r\n            const path = this.decodeFragment(this.location.pathname);\r\n            const rootPath = `${path.slice(0, this.root.length - 1)  }/`;\r\n\r\n            return rootPath === this.root;\r\n        },\r\n\r\n        // Unicode characters in `location.pathname` are percent encoded so they're\r\n        // decoded for comparison. `%25` should not be decoded since it may be part\r\n        // of an encoded parameter.\r\n        decodeFragment: function(fragment) {\r\n            return decodeURI(fragment.replace(/%25/g, '%2525'));\r\n        },\r\n\r\n        // In IE6, the hash fragment and search params are incorrect if the\r\n        // fragment contains `?`.\r\n        getSearch: function() {\r\n            const match = this.location.href.replace(/#.*/, '').match(/\\?.+/);\r\n\r\n            return match ? match[0] : '';\r\n        },\r\n\r\n        // Gets the true hash value. Cannot use location.hash directly due to bug\r\n        // in Firefox where location.hash will always be decoded.\r\n        getHash: function(window) {\r\n            const match = (window || this).location.href.match(/#(.*)$/);\r\n\r\n            return match ? match[1] : '';\r\n        },\r\n\r\n        // Get the pathname and search params, without the root.\r\n        getPath: function() {\r\n            var path = this.decodeFragment(\r\n                this.location.pathname + this.getSearch()\r\n            ).slice(this.root.length - 1);\r\n            return path.charAt(0) === '/' ? path.slice(1) : path;\r\n        },\r\n\r\n        // Get the cross-browser normalized URL fragment from the path or hash.\r\n        getFragment: function(fragment) {\r\n            if (fragment == null) {\r\n                if (this._usePushState || !this._wantsHashChange) {\r\n                    fragment = this.getPath();\r\n                } else {\r\n                    fragment = this.getHash();\r\n                }\r\n            }\r\n            return fragment.replace(routeStripper, '');\r\n        },\r\n\r\n        // Start the hash change handling, returning `true` if the current URL matches\r\n        // an existing route, and `false` otherwise.\r\n        start: function(options) {\r\n            if (History.started) throw new Error('Backbone.history has already been started');\r\n            History.started = true;\r\n\r\n            // Figure out the initial configuration. Do we need an iframe?\r\n            // Is pushState desired ... is it available?\r\n            this.options = Object.assign({ root: '/' }, this.options, options);\r\n            this.root = this.options.root;\r\n            this._wantsHashChange = this.options.hashChange !== false;\r\n            this._hasHashChange = 'onhashchange' in window && (document.documentMode === void 0 || document.documentMode > 7);\r\n            this._useHashChange = this._wantsHashChange && this._hasHashChange;\r\n            this._wantsPushState = !!this.options.pushState;\r\n            this._hasPushState = !!(this.history && this.history.pushState);\r\n            this._usePushState = this._wantsPushState && this._hasPushState;\r\n            this.fragment = this.getFragment();\r\n\r\n            // Normalize root to always include a leading and trailing slash.\r\n            this.root = (`/${  this.root  }/`).replace(rootStripper, '/');\r\n\r\n            // Transition from hashChange to pushState or vice versa if both are\r\n            // requested.\r\n            if (this._wantsHashChange && this._wantsPushState) {\r\n                // If we've started off with a route from a `pushState`-enabled\r\n                // browser, but we're currently in a browser that doesn't support it...\r\n                if (!this._hasPushState && !this.atRoot()) {\r\n                    var rootPath = this.root.slice(0, -1) || '/';\r\n                    this.location.replace(`${rootPath  }#${  this.getPath()}`);\r\n                    // Return immediately as browser will do redirect to new url\r\n                    return true;\r\n\r\n                    // Or if we've started out with a hash-based route, but we're currently\r\n                    // in a browser where it could be `pushState`-based instead...\r\n                } else if (this._hasPushState && this.atRoot()) {\r\n                    this.navigate(this.getHash(), { replace: true });\r\n                }\r\n            }\r\n\r\n            // Proxy an iframe to handle location events if the browser doesn't\r\n            // support the `hashchange` event, HTML5 history, or the user wants\r\n            // `hashChange` but not `pushState`.\r\n            if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {\r\n                this.iframe = document.createElement('iframe');\r\n                this.iframe.src = 'javascript:0';\r\n                this.iframe.style.display = 'none';\r\n                this.iframe.tabIndex = -1;\r\n                var body = document.body;\r\n                // Using `appendChild` will throw on IE < 9 if the document is not ready.\r\n                var iWindow = body.insertBefore(this.iframe, body.firstChild).contentWindow;\r\n                iWindow.document.open();\r\n                iWindow.document.close();\r\n                iWindow.location.hash = `#${  this.fragment}`;\r\n            }\r\n\r\n            // Add a cross-platform `addEventListener` shim for older browsers.\r\n            var addEventListener = window.addEventListener || function(eventName, listener) {\r\n                return attachEvent(`on${  eventName}`, listener);\r\n            };\r\n\r\n            // Depending on whether we're using pushState or hashes, and whether\r\n            // 'onhashchange' is supported, determine how we check the URL state.\r\n            if (this._usePushState) {\r\n                addEventListener('popstate', this.checkUrl, false);\r\n            } else if (this._useHashChange && !this.iframe) {\r\n                addEventListener('hashchange', this.checkUrl, false);\r\n            } else if (this._wantsHashChange) {\r\n                this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\r\n            }\r\n\r\n            if (!this.options.silent) return this.loadUrl();\r\n        },\r\n\r\n        // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\r\n        // but possibly useful for unit testing Routers.\r\n        stop: function() {\r\n            // Remove window listeners.\r\n            if (this._usePushState) {\r\n                window.removeEventListener('popstate', this.checkUrl, false);\r\n            } else if (this._useHashChange && !this.iframe) {\r\n                window.removeEventListener('hashchange', this.checkUrl, false);\r\n            }\r\n\r\n            // Clean up the iframe if necessary.\r\n            if (this.iframe) {\r\n                document.body.removeChild(this.iframe);\r\n                this.iframe = null;\r\n            }\r\n\r\n            // Some environments will throw when clearing an undefined interval.\r\n            if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);\r\n            History.started = false;\r\n        },\r\n\r\n        // Add a route to be tested when the fragment changes. Routes added later\r\n        // may override previous routes.\r\n        route: function(route, callback) {\r\n            this.handlers.unshift({ route, callback });\r\n        },\r\n\r\n        // Checks the current URL to see if it has changed, and if it has,\r\n        // calls `loadUrl`, normalizing across the hidden iframe.\r\n        checkUrl: function(e) {\r\n            let current = this.getFragment();\r\n\r\n            // If the user pressed the back button, the iframe's hash will have\r\n            // changed and we should use that for comparison.\r\n            if (current === this.fragment && this.iframe) {\r\n                current = this.getHash(this.iframe.contentWindow);\r\n            }\r\n\r\n            if (current === this.fragment) return false;\r\n            if (this.iframe) this.navigate(current);\r\n            this.loadUrl();\r\n        },\r\n\r\n        // Attempt to load the current URL fragment. If a route succeeds with a\r\n        // match, returns `true`. If no defined routes matches the fragment,\r\n        // returns `false`.\r\n        loadUrl: function(fragment) {\r\n            // If the root doesn't match, no routes can match either.\r\n            if (!this.matchRoot()) return false;\r\n            fragment = this.fragment = this.getFragment(fragment);\r\n            return _.some(this.handlers, (handler) => {\r\n                if (handler.route.test(fragment)) {\r\n                    handler.callback(fragment);\r\n                    return true;\r\n                }\r\n            });\r\n        },\r\n\r\n        // Save a fragment into the hash history, or replace the URL state if the\r\n        // 'replace' option is passed. You are responsible for properly URL-encoding\r\n        // the fragment in advance.\r\n        //\r\n        // The options object can contain `trigger: true` if you wish to have the\r\n        // route callback be fired (not usually desirable), or `replace: true`, if\r\n        // you wish to modify the current URL without adding an entry to the history.\r\n        navigate: function(fragment, options) {\r\n            if (!History.started) return false;\r\n            if (!options || options === true) options = { trigger: !!options };\r\n\r\n            // Normalize the fragment.\r\n            fragment = this.getFragment(fragment || '');\r\n\r\n            // Don't include a trailing slash on the root.\r\n            const rootPath = this.root;\r\n            if (fragment === '' || fragment.charAt(0) === '?') {\r\n                rootPath = rootPath.slice(0, -1) || '/';\r\n            }\r\n            const url = rootPath + fragment;\r\n\r\n            // Strip the hash and decode for matching.\r\n            fragment = this.decodeFragment(fragment.replace(pathStripper, ''));\r\n\r\n            if (this.fragment === fragment) return;\r\n            this.fragment = fragment;\r\n\r\n            // If pushState is available, we use it to set the fragment as a real URL.\r\n            if (this._usePushState) {\r\n                this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\r\n\r\n                // If hash changes haven't been explicitly disabled, update the hash\r\n                // fragment to store history.\r\n            } else if (this._wantsHashChange) {\r\n                this._updateHash(this.location, fragment, options.replace);\r\n                if (this.iframe && fragment !== this.getHash(this.iframe.contentWindow)) {\r\n                    const iWindow = this.iframe.contentWindow;\r\n\r\n                    // Opening and closing the iframe tricks IE7 and earlier to push a\r\n                    // history entry on hash-tag change.  When replace is true, we don't\r\n                    // want this.\r\n                    if (!options.replace) {\r\n                        iWindow.document.open();\r\n                        iWindow.document.close();\r\n                    }\r\n\r\n                    this._updateHash(iWindow.location, fragment, options.replace);\r\n                }\r\n\r\n                // If you've told us that you explicitly don't want fallback hashchange-\r\n                // based history, then `navigate` becomes a page refresh.\r\n            } else {\r\n                return this.location.assign(url);\r\n            }\r\n            if (options.trigger) return this.loadUrl(fragment);\r\n        },\r\n\r\n        // Update the hash location, either replacing the current entry, or adding\r\n        // a new one to the browser history.\r\n        _updateHash: function(location, fragment, replace) {\r\n            if (replace) {\r\n                var href = location.href.replace(/(javascript:|#).*$/, '');\r\n                location.replace(`${href  }#${  fragment}`);\r\n            } else {\r\n                // Some browsers require that `hash` contains a leading #.\r\n                location.hash = `#${  fragment}`;\r\n            }\r\n        }\r\n    });\r\n\r\n    // Create the default Backbone.history.\r\n    Backbone.history = new History();\r\n\r\n    // Helpers\r\n    // -------\r\n\r\n    // Helper function to correctly set up the prototype chain for subclasses.\r\n    // Similar to `goog.inherits`, but uses a hash of prototype properties and\r\n    // class properties to be extended.\r\n    const extend = function(protoProps, staticProps) {\r\n        const parent = this;\r\n        let child;\r\n\r\n        // The constructor function for the new subclass is either defined by you\r\n        // (the \"constructor\" property in your `extend` definition), or defaulted\r\n        // by us to simply call the parent constructor.\r\n        if (protoProps && _.has(protoProps, 'constructor')) {\r\n            child = protoProps.constructor;\r\n        } else {\r\n            child = function() { return parent.apply(this, arguments); };\r\n        }\r\n\r\n        // Add static properties to the constructor function, if supplied.\r\n        Object.assign(child, parent, staticProps);\r\n\r\n        // Set the prototype chain to inherit from `parent`, without calling\r\n        // `parent`'s constructor function and add the prototype properties.\r\n        child.prototype = _.create(parent.prototype, protoProps);\r\n        child.prototype.constructor = child;\r\n\r\n        // Set a convenience property in case the parent's prototype is needed\r\n        // later.\r\n        child.__super__ = parent.prototype;\r\n\r\n        return child;\r\n    };\r\n\r\n    // Set up inheritance for the model, collection, router, view and history.\r\n    Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;\r\n\r\n    return Backbone;\r\n});\r\n","module.exports = global[\"Backbone\"] = require(\"-!.\\\\backbone.js\");","/**\r\n * Caution: this is a modified version of Backbone.Trackit. You should not replace it with git version as it is buggy and not supported by its creator anymore\r\n */\r\n(function() {\r\n    // Unsaved Record Keeping\r\n    // ----------------------\r\n\r\n    // Collection of all models in an app that have unsaved changes.\r\n    let unsavedModels = [];\r\n\r\n    // If the given model has unsaved changes then add it to\r\n    // the `unsavedModels` collection, otherwise remove it.\r\n    const updateUnsavedModels = function(model) {\r\n        if (!_.isEmpty(model._unsavedChanges)) {\r\n            if (!_.findWhere(unsavedModels, { cid: model.cid })) unsavedModels.push(model);\r\n        } else {\r\n            unsavedModels = _.filter(unsavedModels, m => model.cid != m.cid);\r\n        }\r\n    };\r\n\r\n    // Unload Handlers\r\n    // ---------------\r\n\r\n    // Helper which returns a prompt message for an unload handler.\r\n    // Uses the given function name (one of the callback names\r\n    // from the `model.unsaved` configuration hash) to evaluate\r\n    // whether a prompt is needed/returned.\r\n    const getPromptConfig = function(fnName) {\r\n        let config,\r\n            args = _.rest(arguments);\r\n        // Evaluate and return a boolean result. The given `fn` may be a\r\n        // boolean value, a function, or the name of a function on the model.\r\n        const evaluateModelFn = function(model, fn) {\r\n            if (_.isBoolean(fn)) return fn;\r\n            return (_.isString(fn) ? model[fn] : fn).apply(model, args);\r\n        };\r\n        _.find(unsavedModels, model => {\r\n            if (evaluateModelFn(model, model._unsavedConfig[fnName])) {\r\n                config = {\r\n                    prompt: model._unsavedConfig.prompt,\r\n                    confirm: model._unsavedConfig.confirm\r\n                };\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        });\r\n        return config;\r\n    };\r\n\r\n    // Wrap Backbone.History.navigate so that in-app routing\r\n    // (`router.navigate('/path')`) can be intercepted with a\r\n    // confirmation if there are any unsaved models.\r\n    Backbone.History.prototype.navigate = _.wrap(Backbone.History.prototype.navigate, function(oldNav, fragment, options) {\r\n        const config = getPromptConfig('unloadRouterPrompt', fragment, options);\r\n        if (config) {\r\n            const confirm = config.confirm || window.confirm;\r\n            $.when(confirm(config.prompt)).done(doNavigate => {\r\n                doNavigate && oldNav.call(this, fragment, options);\r\n            });\r\n        } else {\r\n            oldNav.call(this, fragment, options);\r\n        }\r\n    });\r\n\r\n    // Create a browser unload handler which is triggered\r\n    // on the refresh, back, or forward button.\r\n    window.onbeforeunload = function(e) {\r\n        const config = getPromptConfig('unloadWindowPrompt', e);\r\n        return config && config.prompt;\r\n    };\r\n\r\n    // Backbone.Model API\r\n    // ------------------\r\n\r\n    _.extend(Backbone.Model.prototype, {\r\n        unsaved: {},\r\n        _trackingChanges: false,\r\n        _originalAttrs: {},\r\n        _unsavedChanges: {},\r\n\r\n        // Opt in to tracking attribute changes\r\n        // between saves.\r\n        startTracking() {\r\n            this._unsavedConfig = _.extend(\r\n                {},\r\n                {\r\n                    prompt: 'You have unsaved changes!',\r\n                    unloadRouterPrompt: false,\r\n                    unloadWindowPrompt: false\r\n                },\r\n                this.unsaved || {}\r\n            );\r\n            this._trackingChanges = true;\r\n            this._resetTracking();\r\n            this._triggerUnsavedChanges();\r\n            return this;\r\n        },\r\n\r\n        // Resets the default tracking values\r\n        // and stops tracking attribute changes.\r\n        stopTracking() {\r\n            this._trackingChanges = false;\r\n            this._originalAttrs = {};\r\n            this._unsavedChanges = {};\r\n            this._triggerUnsavedChanges();\r\n            return this;\r\n        },\r\n\r\n        // Gets rid of accrued changes and\r\n        // resets state.\r\n        restartTracking() {\r\n            this._resetTracking();\r\n            this._triggerUnsavedChanges();\r\n            return this;\r\n        },\r\n\r\n        // Restores this model's attributes to\r\n        // their original values since tracking\r\n        // started, the last save, or last restart.\r\n        resetAttributes() {\r\n            if (!this._trackingChanges) return;\r\n            this.attributes = this._originalAttrs;\r\n            this._resetTracking();\r\n            this._triggerUnsavedChanges();\r\n            return this;\r\n        },\r\n\r\n        // Symmetric to Backbone's `model.changedAttributes()`,\r\n        // except that this returns a hash of the model's attributes that\r\n        // have changed since the last save, or `false` if there are none.\r\n        // Like `changedAttributes`, an external attributes hash can be\r\n        // passed in, returning the attributes in that hash which differ\r\n        // from the model.\r\n        unsavedAttributes(attrs) {\r\n            if (!attrs) return _.isEmpty(this._unsavedChanges) ? false : _.clone(this._unsavedChanges);\r\n            let val,\r\n                changed = false,\r\n                old = this._unsavedChanges;\r\n            for (const attr in attrs) {\r\n                if (_.isEqual(old[attr], (val = attrs[attr]))) continue;\r\n                (changed || (changed = {}))[attr] = val;\r\n            }\r\n            return changed;\r\n        },\r\n\r\n        _resetTracking() {\r\n            this._originalAttrs = _.clone(this.attributes);\r\n            this._unsavedChanges = {};\r\n        },\r\n\r\n        // Trigger an `unsavedChanges` event on this model,\r\n        // supplying the result of whether there are unsaved\r\n        // changes and a changed attributes hash.\r\n        _triggerUnsavedChanges() {\r\n            this.trigger('unsavedChanges', !_.isEmpty(this._unsavedChanges), _.clone(this._unsavedChanges));\r\n            if (this.unsaved) updateUnsavedModels(this);\r\n        }\r\n    });\r\n\r\n    // Wrap `model.set()` and update the internal\r\n    // unsaved changes record keeping.\r\n    Backbone.Model.prototype.set = _.wrap(Backbone.Model.prototype.set, function(oldSet, key, val, options) {\r\n        let attrs, \r\nret;\r\n        if (key == null) return this;\r\n        // Handle both `\"key\", value` and `{key: value}` -style arguments.\r\n        if (typeof key === 'object') {\r\n            attrs = key;\r\n            options = val;\r\n        } else {\r\n            (attrs = {})[key] = val;\r\n        }\r\n        options || (options = {});\r\n\r\n        // Delegate to Backbone's set.\r\n        ret = oldSet.call(this, attrs, _.clone(options));\r\n\r\n        if (this._trackingChanges && !options.silent && !options.trackit_silent) {\r\n            _.each(\r\n                attrs,\r\n                _.bind(function(val, key) {\r\n                    if (_.isEqual(this._originalAttrs[key], val)) {\r\n                        delete this._unsavedChanges[key];\r\n                    } else {\r\n                        this._unsavedChanges[key] = val;\r\n                    }\r\n                }, this)\r\n            );\r\n            this._triggerUnsavedChanges();\r\n        }\r\n        return ret;\r\n    });\r\n\r\n    // Intercept `model.save()` and reset tracking/unsaved\r\n    // changes if it was successful.\r\n    Backbone.sync = _.wrap(Backbone.sync, function(oldSync, method, model, options) {\r\n        options || (options = {});\r\n\r\n        if (method == 'update' || method == 'patch') {\r\n            options.success = _.wrap(\r\n                options.success,\r\n                _.bind(function(oldSuccess, data, textStatus, jqXHR) {\r\n                    let ret;\r\n                    if (oldSuccess) ret = oldSuccess.call(this, data, textStatus, jqXHR);\r\n                    if (model._trackingChanges) {\r\n                        model._resetTracking();\r\n                        model._triggerUnsavedChanges();\r\n                    }\r\n                    return ret;\r\n                }, this)\r\n            );\r\n        }\r\n        return oldSync(method, model, options);\r\n    });\r\n})();\r\n","import FieldView from '../fields/FieldView';\r\nimport SimplifiedFieldView from '../fields/SimplifiedFieldView';\r\nimport ErrorPlaceholderView from '../fields/ErrorPlaceholderView';\r\n\r\nconst componentTypes = {\r\n    editor: 'editor',\r\n    field: 'field'\r\n};\r\n\r\nconst Form = Marionette.Object.extend({\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param {Object} [options.schema]\r\n     * @param {Backbone.Model} [options.model]\r\n     */\r\n    initialize(options = {}) {\r\n        this.options = options;\r\n\r\n        this.schema = _.result(options, 'schema');\r\n        this.model = options.model;\r\n\r\n        this.fields = {};\r\n        this.regions = [];\r\n\r\n        Object.entries(this.schema).forEach(entry => {\r\n            const fieldScema = entry[1];\r\n            const FieldType = fieldScema.field || options.field || (fieldScema.simplified ? SimplifiedFieldView : FieldView); //TODO fix api\r\n            let field;\r\n            try {\r\n                field = new FieldType({\r\n                    key: entry[0],\r\n                    schema: fieldScema,\r\n                    model: this.model\r\n                });\r\n                this.listenTo(field.editor, 'all', this.__handleEditorEvent);\r\n            } catch (e) {\r\n                field = new ErrorPlaceholderView();\r\n                Core.InterfaceError.logError(e, field.getId());\r\n            } finally {\r\n                this.fields[entry[0]] = field;\r\n            }\r\n        });\r\n\r\n        this.__renderComponents(componentTypes.editor);\r\n        this.__renderComponents(componentTypes.field);\r\n    },\r\n\r\n    handleAttach() {\r\n        this.regions.forEach(region => region.currentView && region.currentView.triggerMethod('attach'));\r\n    },\r\n\r\n    onDestroy() {\r\n        this.regions.forEach(region => region.destroy());\r\n    },\r\n\r\n    /**\r\n     * Update the model with all latest values.\r\n     *\r\n     * @param {Object} [options]  Options to pass to Model#set (e.g. { silent: true })\r\n     *\r\n     * @return {Object}  Validation errors\r\n     */\r\n    commit(options = {}) {\r\n        // Validate\r\n        const errors = this.validate({\r\n            skipModelValidate: !options.validate\r\n        });\r\n        if (errors) {\r\n            return errors;\r\n        }\r\n\r\n        // Commit\r\n        let modelError = null;\r\n        const setOptions = Object.assign(\r\n            {\r\n                error(model, e) {\r\n                    modelError = e;\r\n                }\r\n            },\r\n            options\r\n        );\r\n\r\n        this.model.set(this.getValue(), setOptions);\r\n        return modelError;\r\n    },\r\n\r\n    /**\r\n     * Returns the editor for a given field key\r\n     *\r\n     * @param {String} key\r\n     *\r\n     * @return {Editor}\r\n     */\r\n    getEditor(key) {\r\n        const field = this.fields[key];\r\n        if (!field) {\r\n            throw new Error(`Field not found: ${key}`);\r\n        }\r\n        return field.editor;\r\n    },\r\n\r\n    /**\r\n     * Get all the field values as an object.\r\n     * @param {String} [key]    Specific field value to get\r\n     */\r\n    getValue(key) {\r\n        // Return only given key if specified\r\n        if (key) {\r\n            return this.fields[key].getValue();\r\n        }\r\n\r\n        // Otherwise return entire form\r\n        const values = {};\r\n        _.each(this.fields, field => {\r\n            values[field.key] = field.getValue();\r\n        });\r\n\r\n        return values;\r\n    },\r\n\r\n    /**\r\n     * Update field values, referenced by key\r\n     *\r\n     * @param {Object|String} prop     New values to set, or property to set\r\n     * @param val                     Value to set\r\n     */\r\n    setValue(prop, val) {\r\n        let data = {};\r\n        if (typeof prop === 'string') {\r\n            data[prop] = val;\r\n        } else {\r\n            data = prop;\r\n        }\r\n\r\n        Object.keys(this.schema).forEach(key => {\r\n            if (data[key] !== undefined) {\r\n                this.fields[key].setValue(data[key]);\r\n            }\r\n        });\r\n    },\r\n\r\n    __handleEditorEvent(event, editor) {\r\n        switch (event) {\r\n            case 'change':\r\n                this.trigger('change', this, editor);\r\n                this.trigger(`${editor.key}:change`, this, editor);\r\n                break;\r\n            case 'focus':\r\n                if (!this.hasFocus) {\r\n                    this.hasFocus = true;\r\n                    this.trigger('focus', this);\r\n                }\r\n                break;\r\n            case 'blur':\r\n                if (this.hasFocus) {\r\n                    const focusedField = Object.values(this.fields).find(f => f.editor.hasFocus);\r\n                    if (!focusedField) {\r\n                        this.hasFocus = false;\r\n                        this.trigger('blur', this);\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n\r\n    setErrors(errors) {\r\n        Object.entries(errors).forEach(entry => {\r\n            const field = this.fields[entry[0]];\r\n            if (field) {\r\n                field.setError(entry[1]);\r\n            }\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Validate the data\r\n     * @return {Object} Validation errors\r\n     */\r\n    validate(options = {}) {\r\n        const fields = this.fields;\r\n        const model = this.model;\r\n        const errors = {};\r\n\r\n        //Collect errors from schema validation\r\n        Object.values(fields).forEach(field => {\r\n            const error = field.validate(options);\r\n            if (error) {\r\n                errors[field.key] = error;\r\n            }\r\n        });\r\n\r\n        //Get errors from default Backbone model validator\r\n        if (!options.skipModelValidate && model && model.validate) {\r\n            const modelErrors = model.validate(this.getValue());\r\n\r\n            if (modelErrors) {\r\n                const isDictionary = _.isObject(modelErrors) && !Array.isArray(modelErrors);\r\n\r\n                //If errors are not in object form then just store on the error object\r\n                if (!isDictionary) {\r\n                    errors._others = errors._others || [];\r\n                    errors._others.push(modelErrors);\r\n                }\r\n\r\n                //Merge programmatic errors (requires model.validate() to return an object e.g. { fieldKey: 'error' })\r\n                if (isDictionary) {\r\n                    Object.entries(modelErrors).forEach(entrie => {\r\n                        //Set error on field if there isn't one already\r\n                        if (fields[entrie[0]] && !errors[entrie[0]]) {\r\n                            fields[entrie[0]].setError(entrie[1]);\r\n                            errors[entrie[0]] = entrie[1];\r\n                        } else {\r\n                            //Otherwise add to '_others' entrie[0]\r\n                            errors._others = errors._others || [];\r\n                            errors._others.push({\r\n                                [entrie[0]]: entrie[1]\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        const result = Object.keys(errors).length === 0 ? null : errors;\r\n        this.trigger('form:validated', !result, result);\r\n\r\n        return result;\r\n    },\r\n\r\n    /**\r\n     * Gives the first editor in the form focus\r\n     */\r\n    focus() {\r\n        if (this.hasFocus) {\r\n            return;\r\n        }\r\n\r\n        const field = this.fields[0];\r\n        if (!field) {\r\n            return;\r\n        }\r\n        field.editor.focus();\r\n    },\r\n\r\n    /**\r\n     * Removes focus from the currently focused editor\r\n     */\r\n    blur() {\r\n        if (!this.hasFocus) {\r\n            return;\r\n        }\r\n\r\n        const focusedField = Object.values(this.fields).forEach(field => field.editor.hasFocus);\r\n        if (focusedField) {\r\n            focusedField.editor.blur();\r\n        }\r\n    },\r\n\r\n    __renderComponents(componentType) {\r\n        const $target = this.options.$target;\r\n        const rootView = window.app.getView();\r\n\r\n        $target.querySelectorAll(`[data-${componentType}s]`).forEach(el => {\r\n            if ((!this.model.has('uniqueFormId') && !el.hasAttribute(`${componentType}-for`)) || this.model.get('uniqueFormId').has(el.getAttribute(`${componentType}-for`))) {\r\n                const key = el.getAttribute(`data-${componentType}s`);\r\n                const regionName = `${key}Region`;\r\n                const fieldRegion = rootView.addRegion(regionName, { el });\r\n                this.regions.push(fieldRegion);\r\n                if (this.fields[key]) {\r\n                    const componentView = componentType === componentTypes.field ? this.fields[key] : this.fields[key].editor;\r\n                    rootView.showChildView(regionName, componentView);\r\n                }\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\n/**\r\n * Marionette.Behavior constructor shall never be called manually.\r\n * The options described here should be passed as behavior options (look into Marionette documentation for details).\r\n * @name BackboneFormBehavior\r\n * @memberof module:core.form.behaviors\r\n * @class This behavior turns any Marionette.View into Backbone.Form. To do this Backbone.Form scans this.el at the moment\r\n * DOM-elements with corresponding Backbone.Form data-attributes.\r\n * It's important to note that Backbone.Form will scan the whole this.el including nested regions that might lead to unexpected behavior.\r\n * Possible events:<ul>\r\n *     <li><code>'form:render' (form)</code> - the form has rendered and available via <code>form</code> property of the view.</li>\r\n * </ul>\r\n * @constructor\r\n * @extends Marionette.Behavior\r\n * @param {Object} options Options object.\r\n * @param {Object|Function} options.schema Backbone.Form schema as it's listed in [docs](https://github.com/powmedia/backbone-forms).\r\n * @param {Object|Function} [options.model] Backbone.Model that the form binds it's editors to. <code>this.model</code> is used by default.\r\n *     <li><code>'render'</code> - On view's 'render' event.</li>\r\n *     <li><code>'show'</code> - On view's 'show' event.</li>\r\n *     <li><code>'manual'</code> - Form render method (<code>renderForm()</code>) must be called manually.</li>\r\n *     </ul>\r\n * @param {Backbone.Form.Field} [options.field] Backbone.Form.Field that will be used to render fields of the form.\r\n * The field <code>core.form.fields.Field</code> is used by default.\r\n * @param {Marionette.View} view A view the behavior is applied to.\r\n * */\r\n\r\nexport default Marionette.Behavior.extend({\r\n    initialize(options, view) {\r\n        view.renderForm = this.__renderForm.bind(this);\r\n    },\r\n\r\n    defaults: {\r\n        model() {\r\n            return this.model;\r\n        },\r\n        schema() {\r\n            return this.schema;\r\n        }\r\n    },\r\n\r\n    onRender() {\r\n        this.__renderForm();\r\n    },\r\n\r\n    onDestroy() {\r\n        if (this.form) {\r\n            this.form.destroy();\r\n        }\r\n    },\r\n\r\n    onAttach() {\r\n        this.form.handleAttach();\r\n    },\r\n\r\n    __renderForm() {\r\n        let model = this.options.model;\r\n        if (_.isFunction(model)) {\r\n            model = model.call(this.view);\r\n        }\r\n\r\n        let schema = this.options.schema;\r\n        if (_.isFunction(schema)) {\r\n            schema = schema.call(this.view);\r\n        }\r\n\r\n        const form = new Form({\r\n            model,\r\n            schema,\r\n            $target: this.el,\r\n            field: this.options.field\r\n        });\r\n        this.view.form = this.form = form;\r\n        if (this.view.initForm) {\r\n            this.view.initForm();\r\n        }\r\n        this.view.triggerMethod('form:render', form);\r\n    }\r\n});\r\n","// @flow\r\nimport formRepository from '../formRepository';\r\nimport BaseLayoutEditorView from './base/BaseLayoutEditorView';\r\n\r\n/**\r\n * @name AudioEditor\r\n * @memberof module:core.form.editors\r\n * @class Slider editor. Supported data type: <code>Number</code>.\r\n * @extends module:core.form.editors.base.BaseLayoutEditorView\r\n * @param {Object} options Options object. All the properties of {@link module:core.form.editors.base.BaseEditorView BaseEditorView} class are also supported.\r\n * @param {Boolean} {options.showTitle=true} Whether to show title attribute.\r\n * */\r\n\r\nexport default (formRepository.editors.AudioEditor = BaseLayoutEditorView.extend({\r\n    tagName: 'audio',\r\n\r\n    template: false,\r\n\r\n    templateContext() {\r\n        return Object.assign(this.options, {\r\n            title: this.value || ''\r\n        });\r\n    },\r\n\r\n    attributes() {\r\n        return {\r\n            class: '.audio-editor-container',\r\n            controls: true\r\n        };\r\n    },\r\n\r\n    onRender() {\r\n        const audio: AudioNode = this.el;\r\n        let recorder = {};\r\n        const regionEl = document.createElement('div');\r\n        regionEl.className = 'js-button-region';\r\n        this.el.parentElement.append(regionEl);\r\n        const region = this.addRegion('js-button-region', {\r\n            el: regionEl\r\n        });\r\n        region.show(\r\n            new Core.layout.HorizontalLayout({\r\n                columns: [\r\n                    new Core.layout.Button({\r\n                        text: 'Start recording',\r\n                        handler() {\r\n                            if (navigator.mediaDevices) {\r\n                                navigator.mediaDevices\r\n                                    .getUserMedia({\r\n                                        audio: true\r\n                                    })\r\n                                    .then(stream => {\r\n                                        recorder = new window.MediaRecorder(stream);\r\n\r\n                                        recorder.addEventListener('dataavailable', e => this.__onRecordingReady(e, audio));\r\n                                        recorder.start();\r\n                                    });\r\n                            }\r\n                        }\r\n                    }),\r\n                    new Core.layout.Button({\r\n                        text: 'Stop recording',\r\n                        handler() {\r\n                            // Stopping the recorder will eventually trigger the `dataavailable` event and we can complete the recording process\r\n                            recorder.stop();\r\n                        }\r\n                    })\r\n                ]\r\n            })\r\n        );\r\n    },\r\n\r\n    __onRecordingReady(e, audio) {\r\n        // e.data contains a blob representing the recording\r\n        audio.src = URL.createObjectURL(e.data);\r\n        audio.play();\r\n    }\r\n}));\r\n","// @flow\r\nimport { helpers } from 'utils';\r\nimport BaseItemEditorView from './base/BaseItemEditorView';\r\nimport template from './templates/avatarEditor.hbs';\r\nimport formRepository from '../formRepository';\r\n\r\nconst defaultOptions = {\r\n    removable: true,\r\n    autoUpload: false,\r\n    refreshPreviewAfterUpload: false,\r\n    controller: undefined\r\n};\r\n\r\n/**\r\n * @name AvatarEditorView\r\n * @memberof module:core.form.editors\r\n * @class Editor used to set (or unset) an image to be used mainly as user avatar and process it any way (e.g. upload to server).\r\n * @extends module:core.form.editors.base.BaseEditorView\r\n * @param {string} options.fullName - Full name used to fill editor with initials when no value is provided.\r\n * @param {boolean} options.removable - Flags whether an image may be removed (editor's value is set to <code>null</code>).\r\n * @param {boolean} options.autoUpload - Flags whether to upload (or process any other way) an image after it has been selected via file explorer.\r\n * Instead, method <code>upload</code> can be called on editor to do it manually.\r\n * @param {boolean} options.refreshPreviewAfterUpload - Flags whether to refresh editor with value returned by <code>upload</code> method.\r\n * This only makes sense when <code>upload</code> method returns value coresponding to image other than image used as argument to <code>upload</code> method.\r\n * @param {BaseAvatarEditorController} options.controller - Data provider controller in the form of subclass of\r\n * {@link module:core.form.editors.avatar.controllers.BaseAvatarEditorController BaseAvatarEditorController}.\r\n */\r\n\r\nexport default (formRepository.editors.Avatar = BaseItemEditorView.extend({\r\n    className: 'user-avatar-wrp',\r\n\r\n    attributes: {\r\n        tabindex: 0\r\n    },\r\n\r\n    focusElement: null,\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    ui: {\r\n        image: '.js-image',\r\n        remove: '.js-remove',\r\n        initials: '.js-initials',\r\n        tooltip: '.js-tooltip'\r\n    },\r\n\r\n    events: {\r\n        click: '__attach',\r\n        'click @ui.remove': '__remove'\r\n    },\r\n\r\n    initialize(options = {}) {\r\n        _.defaults(this.options, _.pick(options.schema ? options.schema : options, Object.keys(defaultOptions)), defaultOptions);\r\n\r\n        helpers.ensureOption(this.options, 'controller');\r\n        this.controller = this.getOption('controller');\r\n\r\n        this.__removed = false;\r\n        this.__previewURL = null;\r\n        this.__initFileInput();\r\n    },\r\n\r\n    onRender() {\r\n        this.ui.initials.append(this.__getInitials(this.getOption('fullName') || ''));\r\n\r\n        if (this.getValue()) {\r\n            this.__preview(this.controller.getImage(this.getValue()));\r\n        } else if (this.getOption('fullName')) {\r\n            this.ui.initials.removeAttribute('displayNone');;\r\n        } else {\r\n            this.__preview(this.controller.getImage());\r\n        }\r\n\r\n        this.ui.tooltip.setAttribute('displayNone', true);\r\n        this.ui.remove.setAttribute('displayNone', true);\r\n\r\n        this.el.hover(\r\n            () => {\r\n                if (this.getEnabled() && !this.getReadonly()) {\r\n                    this.ui.tooltip.removeAttribute('displayNone');;\r\n                }\r\n\r\n                if (this.getEnabled() && !this.getReadonly() && this.getOption('removable') && this.ui.image.css('background-image') !== 'none') {\r\n                    this.ui.remove.removeAttribute('displayNone');;\r\n                }\r\n            },\r\n            () => {\r\n                this.ui.tooltip.setAttribute('displayNone', true);\r\n                this.ui.remove.setAttribute('displayNone', true);\r\n            }\r\n        );\r\n    },\r\n\r\n    onBeforeDestroy() {\r\n        URL.revokeObjectURL(this.__previewURL);\r\n    },\r\n\r\n    upload() {\r\n        const file = this.fileInput.files[0];\r\n        this.__initFileInput();\r\n\r\n        if (file) {\r\n            return this.controller.upload(file).then(data => {\r\n                if (!this.__removed) {\r\n                    this.setValue(data.value);\r\n                    this.__triggerChange();\r\n\r\n                    if (this.getOption('refreshPreviewAfterUpload')) {\r\n                        this.__preview(this.controller.getImage(this.getValue()));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        return Promise.resolve();\r\n    },\r\n\r\n    __initFileInput() {\r\n        this.fileInput = document.createElement('input');\r\n        this.fileInput.type = 'file';\r\n        this.fileInput.accept = 'image/*';\r\n        this.fileInput.style.display = 'none';\r\n\r\n        this.fileInput.oninput = this.fileInput.onchange = () => {\r\n            if (!(this.fileInput.files && this.fileInput.files.length)) {\r\n                return;\r\n            }\r\n\r\n            this.__removed = false;\r\n            this.__preview(this.fileInput.files[0]);\r\n\r\n            if (this.getOption('autoUpload')) {\r\n                this.upload();\r\n            }\r\n        };\r\n    },\r\n\r\n    __getInitials(fullName) {\r\n        const words = fullName.split(' ');\r\n\r\n        switch (words.length) {\r\n            case 0:\r\n                return null;\r\n            case 1:\r\n                if (words[0] === '') {\r\n                    return null;\r\n                }\r\n                return fullName.substr(0, 2).toUpperCase();\r\n            default:\r\n                return (words[0].charAt(0) + words[1].charAt(0)).toUpperCase();\r\n        }\r\n    },\r\n\r\n    __attach() {\r\n        if (this.getEnabled() && !this.getReadonly() && document.body) {\r\n            document.body.appendChild(this.fileInput);\r\n            this.fileInput.click();\r\n            if (document.body) {\r\n                document.body.removeChild(this.fileInput);\r\n            }\r\n        }\r\n    },\r\n\r\n    __remove() {\r\n        if (this.getEnabled() && !this.getReadonly()) {\r\n            this.setValue(null);\r\n            this.__triggerChange();\r\n\r\n            URL.revokeObjectURL(this.__previewURL);\r\n            this.ui.image.css('background-image', 'none');\r\n            this.ui.remove.setAttribute('displayNone', true);\r\n            this.ui.initials.removeAttribute('displayNone');;\r\n\r\n            this.__removed = true;\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    __preview(image) {\r\n        this.ui.initials.setAttribute('displayNone', true);\r\n        URL.revokeObjectURL(this.__previewURL);\r\n        let previewURL;\r\n\r\n        if (_.isString(image)) {\r\n            // URL\r\n            previewURL = image;\r\n        } else if (_.isObject(image) && {}.toString.call(image).slice(8, -1) === 'File') {\r\n            // file\r\n            previewURL = this.__previewURL = URL.createObjectURL(image);\r\n        }\r\n\r\n        previewURL && this.ui.image.css('background-image', `url(\"${previewURL}\")`);\r\n    }\r\n}));\r\n","// @flow\r\nimport keyCode from '../../utils/keyCode';\r\nimport template from './templates/booleanEditor.html';\r\nimport BaseItemEditorView from './base/BaseItemEditorView';\r\nimport formRepository from '../formRepository';\r\n\r\nconst defaultOptions = {\r\n    displayText: '',\r\n    thirdState: false\r\n};\r\n\r\nconst classes = {\r\n    CHECKED: 'editor_checked',\r\n    CHECKED_SOME: 'editor_checked_some'\r\n};\r\n\r\n/**\r\n * @name BooleanEditorView\r\n * @memberof module:core.form.editors\r\n * @class A simple Checkbox editor. Supported data type: <code>Boolean</code>.\r\n * @extends module:core.form.editors.base.BaseEditorView\r\n * @param {Object} options Options object. All the properties of {@link module:core.form.editors.base.BaseEditorView BaseEditorView} class are also supported.\r\n * @param {String} [options.displayText] Text to the right of the checkbox. Click on text triggers the checkbox.\r\n * @param {String} [options.displayHtml] HTML content to the right of the checkbox. Click on it triggers the checkbox.\r\n * @param {String} [options.title] Title attribute for the editor.\r\n * @param {Boolean} [options.thirdState=false] Enables third state for checkbox.\r\n * */\r\nexport default (formRepository.editors.Boolean = BaseItemEditorView.extend(\r\n    {\r\n        initialize(options = {}) {\r\n            _.defaults(this.options, _.pick(options.schema ? options.schema : options, Object.keys(defaultOptions)), defaultOptions);\r\n        },\r\n\r\n        ui: {\r\n            displayText: '.js-display-text'\r\n        },\r\n\r\n        events: {\r\n            click: '__toggle',\r\n            'click @ui.displayText': '__toggle',\r\n            keydown: '__onKeyDown'\r\n        },\r\n\r\n        className: 'editor editor_checkbox',\r\n\r\n        attributes() {\r\n            return {\r\n                title: this.options.title || null\r\n            };\r\n        },\r\n\r\n        template: Handlebars.compile(template),\r\n\r\n        templateContext() {\r\n            return {\r\n                displayText: this.options.displayText,\r\n                displayHtml: this.options.displayHtml\r\n            };\r\n        },\r\n\r\n        __toggle() {\r\n            if (!this.getEnabled() || this.getReadonly()) {\r\n                return false;\r\n            }\r\n            this.setValue(!this.getValue());\r\n            this.__triggerChange();\r\n            return false;\r\n        },\r\n\r\n        onRender() {\r\n            this.__updateState();\r\n        },\r\n\r\n        setValue(value) {\r\n            if (this.value === value) {\r\n                return;\r\n            }\r\n            this.value = value;\r\n            this.__updateState();\r\n        },\r\n\r\n        isEmptyValue() {\r\n            return !_.isBoolean(this.getValue());\r\n        },\r\n\r\n        __updateState() {\r\n            if (this.value) {\r\n                this.el.classList.add(classes.CHECKED);\r\n                this.el.classList.remove(classes.CHECKED_SOME);\r\n            } else if (this.value === false || !this.options.thirdState) {\r\n                this.el.classList.remove(classes.CHECKED_SOME);\r\n                this.el.classList.remove(classes.CHECKED);\r\n            } else {\r\n                this.el.classList.remove(classes.CHECKED);\r\n                this.el.classList.add(classes.CHECKED_SOME);\r\n            }\r\n        },\r\n\r\n        __setReadonly(readonly) {\r\n            BaseItemEditorView.prototype.__setReadonly.call(this, readonly);\r\n            if (this.getEnabled()) {\r\n                this.el.setAttribute('tabindex', readonly ? -1 : 0);\r\n            }\r\n        },\r\n\r\n        __onKeyDown(event) {\r\n            if (event.ctrlKey) {\r\n                return;\r\n            }\r\n            if (event.keyCode === keyCode.SPACE) {\r\n                this.__toggle();\r\n                event.preventDefault();\r\n            }\r\n        }\r\n    },\r\n    {\r\n        classes\r\n    }\r\n));\r\n","// @flow\r\nimport template from './templates/booleanSwitchEditor.hbs';\r\nimport formRepository from '../formRepository';\r\nimport BooleanEditorView from '../editors/BooleanEditorView';\r\n\r\nconst config: { template: Function, className: string } = {\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'boolean-switch-editor__view'\r\n};\r\n\r\nexport default (formRepository.editors.BooleanSwitch = BooleanEditorView.extend(config));\r\n","// @flow\r\nimport CodemirrorView from './impl/codeEditor/views/CodemirrorView';\r\nimport template from './impl/codeEditor/templates/codeEditor.html';\r\nimport BaseLayoutEditorView from './base/BaseLayoutEditorView';\r\nimport formRepository from '../formRepository';\r\nimport LocalizationService from '../../services/LocalizationService';\r\nimport { keyCode } from 'utils';\r\n\r\nconst showModes = {\r\n    normal: 'normal',\r\n    button: 'button'\r\n};\r\n\r\nconst classes = {\r\n    buttonMode: 'dev-code-editor-button-mode'\r\n};\r\n\r\nconst defaultOptions = {\r\n    mode: 'expression',\r\n    height: 300,\r\n    showMode: showModes.normal,\r\n    ontologyService: null\r\n};\r\n\r\n/**\r\n * @name NumberEditorView\r\n * @memberof module:Core.form.editors\r\n * @class    .   : <code>Sting</code>.\r\n * @extends module:Core.form.editors.base.BaseLayoutEditorView\r\n * @param {String} [options.mode='expression']   :<ul>\r\n *     <li><code>'expression'</code> -  .</li>\r\n *     <li><code>'script'</code> -  C#-.</li></ul>\r\n * @param {Number} [options.height=150]    .\r\n * */\r\n\r\nexport default formRepository.editors.Code = BaseLayoutEditorView.extend({\r\n    className: 'dev-code-editor-field',\r\n\r\n    regions: {\r\n        editorContainer: '.js-code-codemirror-container',\r\n    },\r\n\r\n    ui: {\r\n        editor: '.js-code-codemirror-container',\r\n        editBtn: '.js-code-button-edit',\r\n        clearBtn: '.js-code-button-clear',\r\n        fadingPanel: '.js-code-fading-panel',\r\n    },\r\n\r\n    events: {\r\n        'click @ui.editBtn': '__onEdit',\r\n        'click @ui.clearBtn': '__onClear',\r\n        keydown: '__handleKeydown'\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        return this.options;\r\n    },\r\n\r\n    initialize(options = {}) {\r\n        _.defaults(this.options, _.pick(options.schema ? options.schema : options, Object.keys(defaultOptions)), defaultOptions);\r\n    },\r\n\r\n    __handleKeydown(e) {\r\n        switch (e.keyCode) {\r\n            case keyCode.ESCAPE:\r\n                this.editor.minimize();\r\n                this.__onMinimize();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        e.stopPropagation();\r\n    },\r\n\r\n    onRender() {\r\n        this.editor = new CodemirrorView({\r\n            mode: this.options.mode,\r\n            height: this.options.height,\r\n            ontologyService: this.options.ontologyService\r\n        });\r\n\r\n        this.editor.on('change', this.__change, this);\r\n        this.editor.on('maximize', () => this.ui.fadingPanel.removeAttribute('displayNone'));\r\n        this.editor.on('minimize', () => this.__onMinimize());\r\n        this.showChildView('editorContainer', this.editor);\r\n        this.editor.setValue(this.value || '');\r\n\r\n        this.ui.fadingPanel.setAttribute('displayNone', true);\r\n        if (this.options.showMode === showModes.button) {\r\n            this.ui.editor.setAttribute('displayNone', true);\r\n            this.el.classList.add(classes.buttonMode);\r\n        } else {\r\n            this.ui.editBtn.setAttribute('displayNone', true);\r\n            this.ui.clearBtn.setAttribute('displayNone', true);\r\n        }\r\n        this.__setEditBtnText();\r\n    },\r\n\r\n    __value(value, updateUi, triggerChange) {\r\n        if (this.value === value) {\r\n            return;\r\n        }\r\n\r\n        this.value = value;\r\n\r\n        this.__setEditBtnText();\r\n\r\n        if (updateUi) {\r\n            this.editor.setValue(value);\r\n        }\r\n\r\n        if (triggerChange) {\r\n            this.__triggerChange();\r\n        }\r\n    },\r\n\r\n    setValue(value) {\r\n        this.__value(value, true, false);\r\n    },\r\n\r\n    __change() {\r\n        const value = this.editor.getValue() || null;\r\n        this.__value(value, false, true);\r\n    },\r\n\r\n    __onEdit() {\r\n        this.ui.editor.removeAttribute('displayNone');;\r\n        this.ui.fadingPanel.removeAttribute('displayNone');;\r\n        this.editor.maximize();\r\n    },\r\n\r\n    __onMinimize() {\r\n        this.ui.fadingPanel.setAttribute('displayNone', true);\r\n        if (this.options.showMode === showModes.button) {\r\n            this.ui.editor.setAttribute('displayNone', true);\r\n        }\r\n    },\r\n\r\n    __onClear() {\r\n        this.__value(null, true, true);\r\n    },\r\n\r\n    __setEditBtnText() {\r\n        if (this.value) {\r\n            this.ui.editBtn.innerHtml = LocalizationService.get('CORE.FORM.EDITORS.CODE.EDIT');\r\n        } else {\r\n            this.ui.editBtn.innerHtml = LocalizationService.get('CORE.FORM.EDITORS.CODE.EMPTY');\r\n        }\r\n    },\r\n\r\n    __setReadonly(readonly) {\r\n        BaseLayoutEditorView.prototype.__setReadonly.call(this, readonly);\r\n        this.editor.setReadonly(readonly);\r\n    }\r\n});\r\n","// @flow\r\nimport BaseItemEditorView from './base/BaseItemEditorView';\r\nimport formRepository from '../formRepository';\r\nimport 'spectrum-colorpicker';\r\nimport colorPicker from './templates/colorPicker.hbs';\r\n\r\n/**\r\n * @name ColorPickerView\r\n * @memberof module:core.form.editors\r\n * @class   .   : <code>String</code>.\r\n * @extends module:core.form.editors.base.BaseEditorView\r\n * @param {Object} options Options object. All the properties of {@link module:core.form.editors.base.BaseEditorView BaseEditorView} class are also supported.\r\n * @param {Number|null} [options.maxLength=null]   .  <code>null</code>,  .\r\n * @param {String} [options.changeMode='blur']     :<ul>\r\n *     <li><code>'keydown'</code> -   .</li>\r\n *     <li><code>'blur'</code> -   .</li></ul>\r\n * @param {String} [options.emptyPlaceholder='Field is empty']  placeholder.\r\n * @param {Boolean} {options.showTitle=true} Whether to show title attribute.\r\n * */\r\n\r\nexport default (formRepository.editors.ColorPicker = BaseItemEditorView.extend({\r\n    template: Handlebars.compile(colorPicker),\r\n\r\n    ui: {\r\n        hexcolor: '.hexcolor',\r\n        colorpicker: '.colorpicker'\r\n    },\r\n\r\n    events: {\r\n        change: '__change',\r\n        'change @ui.colorpicker': '__changedColorPicker',\r\n        'change @ui.hexcolor': '__changedHex',\r\n        'click .js-clear-button': '__clear'\r\n    },\r\n\r\n    className: 'editor editor_color',\r\n\r\n    __changedHex() {\r\n        this.ui.colorpicker.spectrum('set', this.ui.hexcolor.val());\r\n    },\r\n\r\n    __changedColorPicker() {\r\n        this.ui.hexcolor.val(this.ui.colorpicker.val());\r\n    },\r\n\r\n    __change() {\r\n        this.__value(this.ui.colorpicker.val(), false, true);\r\n    },\r\n\r\n    __clear() {\r\n        this.__value(null, false, true);\r\n        this.ui.hexcolor.val(null);\r\n        this.ui.colorpicker.spectrum('set', null);\r\n        this.focus();\r\n        return false;\r\n    },\r\n\r\n    setValue(value: String) {\r\n        this.__value(value, true, false);\r\n    },\r\n\r\n    onAttach() {\r\n        const value = this.getValue() || '';\r\n        this.ui.colorpicker.spectrum({\r\n            color: value.toString(),\r\n            showInput: true,\r\n            allowEmpty: true,\r\n            showInitial: true,\r\n            preferredFormat: 'hex'\r\n        });\r\n        this.ui.hexcolor.val(this.ui.colorpicker.spectrum('get'));\r\n    },\r\n\r\n    __setReadonly(readonly) {\r\n        BaseItemEditorView.prototype.__setReadonly.call(this, readonly);\r\n        if (this.getEnabled() && this.getReadonly()) {\r\n            this.ui.colorpicker.spectrum('disable');\r\n        }\r\n        this.ui.hexcolor.setAttribute('readonly', readonly);\r\n    },\r\n\r\n    __setEnabled(enabled) {\r\n        BaseItemEditorView.prototype.__setEnabled.call(this, enabled);\r\n        this.ui.colorpicker.spectrum('enable');\r\n    },\r\n\r\n    __value(value: String, updateUi: Boolean, triggerChange: Boolean) {\r\n        if (this.value === value) {\r\n            return;\r\n        }\r\n        this.value = value;\r\n\r\n        if (this.getOption('showTitle')) {\r\n            this.ui.input.setAttribute('title', value);\r\n        }\r\n\r\n        if (triggerChange) {\r\n            this.__triggerChange();\r\n        }\r\n    },\r\n\r\n    onBeforeDestroy() {\r\n        this.ui.colorpicker.spectrum('destroy');\r\n    }\r\n}));\r\n","// @flow\r\nimport template from './templates/contextSelectEditor.html';\r\nimport PopoutButtonView from './impl/context/views/PopoutButtonView';\r\nimport PopoutWrapperView from './impl/context/views/PopoutWrapperView';\r\nimport formRepository from '../formRepository';\r\nimport BaseLayoutEditorView from './base/BaseLayoutEditorView';\r\nimport dropdownFactory from '../../dropdown/factory';\r\n\r\nconst defaultOptions = {\r\n    recordTypeId: undefined,\r\n    context: undefined,\r\n    propertyTypes: undefined,\r\n    usePropertyTypes: true,\r\n    allowBlank: false,\r\n    instanceRecordTypeId: undefined\r\n};\r\n\r\nexport default (formRepository.editors.ContextSelect = BaseLayoutEditorView.extend({\r\n    initialize(options = {}) {\r\n        _.defaults(this.options, _.pick(options.schema ? options.schema : options, Object.keys(defaultOptions)), defaultOptions);\r\n\r\n        this.context = this.options.context;\r\n\r\n        const model = new Backbone.Model({\r\n            instanceTypeId: this.options.recordTypeId,\r\n            context: this.__createTreeCollection(this.context, this.options.recordTypeId),\r\n            propertyTypes: this.options.propertyTypes,\r\n            usePropertyTypes: this.options.usePropertyTypes,\r\n            instanceRecordTypeId: this.options.instanceRecordTypeId,\r\n            allowBlank: this.options.allowBlank\r\n        });\r\n\r\n        this.viewModel = new Backbone.Model({\r\n            button: new Backbone.Model(),\r\n            panel: model\r\n        });\r\n\r\n        this.__updateDisplayValue();\r\n    },\r\n\r\n    focusElement: null,\r\n\r\n    ui: {\r\n        clearButton: '.js-clear-button'\r\n    },\r\n\r\n    attributes: {\r\n        tabindex: 0\r\n    },\r\n\r\n    regions: {\r\n        contextPopoutRegion: '.js-context-popout-region'\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'editor context_select',\r\n\r\n    events: {\r\n        'click @ui.clearButton': '__clear'\r\n    },\r\n\r\n    onRender() {\r\n        if (!this.enabled) {\r\n            this.contextPopoutRegion.show(\r\n                new PopoutButtonView({\r\n                    model: this.viewModel.get('button')\r\n                })\r\n            );\r\n            return;\r\n        }\r\n\r\n        this.popoutView = dropdownFactory.createDropdown({\r\n            panelView: PopoutWrapperView,\r\n            panelViewOptions: {\r\n                model: this.viewModel.get('panel')\r\n            },\r\n            buttonView: PopoutButtonView,\r\n            buttonViewOptions: {\r\n                model: this.viewModel.get('button')\r\n            },\r\n            autoOpen: true\r\n        });\r\n\r\n        this.showChildView('contextPopoutRegion', this.popoutView);\r\n\r\n        this.listenTo(this.popoutView, 'panel:context:selected', this.__applyContext);\r\n    },\r\n\r\n    setValue(value) {\r\n        this.__value(value, false);\r\n    },\r\n\r\n    updateContext(recordTypeId, context) {\r\n        const panelModel = this.viewModel.get('panel');\r\n\r\n        this.context = context;\r\n        panelModel.set('context', this.__createTreeCollection(this.context, recordTypeId));\r\n\r\n        if (this.__isInstanceInContext(this.value)) {\r\n            panelModel.set('instanceTypeId', recordTypeId);\r\n            this.__updateDisplayValue();\r\n        } else {\r\n            this.setValue();\r\n        }\r\n\r\n        this.render();\r\n    },\r\n\r\n    __value(value, triggerChange, newValue) {\r\n        if (this.value === value) {\r\n            return;\r\n        }\r\n        this.value = newValue || value;\r\n        if (triggerChange) {\r\n            this.__triggerChange();\r\n        }\r\n\r\n        this.__updateDisplayValue();\r\n    },\r\n\r\n    __getButtonText(selectedItem) {\r\n        if (!selectedItem || selectedItem === 'False') return '';\r\n\r\n        const itemId = selectedItem[selectedItem.length - 1];\r\n        let text = '';\r\n\r\n        Object.values(this.context).forEach(value => {\r\n            value.forEach(context => {\r\n                if (context.id === itemId) {\r\n                    text = context.name;\r\n                }\r\n            });\r\n        });\r\n\r\n        return text;\r\n    },\r\n\r\n    __isInstanceInContext(item) {\r\n        if (!item || item === 'False') return false;\r\n\r\n        return Object.values(this.context).find(value => value.find(context => context.id === item[item.length - 1]));\r\n    },\r\n\r\n    __applyContext(selected) {\r\n        const newValue = this.__collectPropertyPath(selected);\r\n\r\n        this.popoutView.close();\r\n        this.__value(selected.get('id'), true, newValue);\r\n    },\r\n\r\n    __createTreeCollection(context, recordTypeId) {\r\n        if (!context || !context[recordTypeId]) {\r\n            return new Backbone.Collection();\r\n        }\r\n\r\n        const deepContext = _.cloneDeep(context);\r\n\r\n        Object.keys(deepContext).forEach(key => {\r\n            deepContext[key] = new Backbone.Collection(deepContext[key]);\r\n        });\r\n\r\n        Object.values(deepContext).forEach(entry =>\r\n            entry.forEach(innerEntry => {\r\n                if (innerEntry.get('type') === 'Instance') {\r\n                    const model = deepContext[innerEntry.get('instanceTypeId')];\r\n                    if (model) {\r\n                        innerEntry.children = new Backbone.Collection(model.toJSON());\r\n                        innerEntry.collapsed = true;\r\n                        innerEntry.children.forEach(childModel => (childModel.parent = innerEntry));\r\n                    }\r\n                }\r\n                delete innerEntry.id; //todo wtf\r\n\r\n                return innerEntry;\r\n            })\r\n        );\r\n\r\n        const collection = deepContext[recordTypeId];\r\n\r\n        collection.on('expand', model => {\r\n            model.children &&\r\n                model.children.forEach(child => {\r\n                    if (child.get('type') === 'Instance') {\r\n                        const newChild = deepContext[child.get('instanceTypeId')];\r\n\r\n                        if (newChild) {\r\n                            child.children = new Backbone.Collection(newChild.toJSON());\r\n                            child.collapsed = true;\r\n                            child.children.forEach(childModel => (childModel.parent = child));\r\n                        }\r\n                    }\r\n                });\r\n        });\r\n\r\n        return collection;\r\n    },\r\n\r\n    __collectPropertyPath(selectedModel, collectedPath = []) {\r\n        collectedPath.push(selectedModel.get('id'));\r\n\r\n        if (selectedModel.parent) {\r\n            return this.__collectPropertyPath(selectedModel.parent, collectedPath);\r\n        }\r\n\r\n        return collectedPath;\r\n    },\r\n\r\n    __updateDisplayValue() {\r\n        this.viewModel.get('button').set('value', this.__getButtonText(this.value));\r\n    },\r\n\r\n    __clear() {\r\n        this.__value(null, true);\r\n        return false;\r\n    }\r\n}));\r\n","// @flow\r\nimport VirtualCollection from '../../collections/VirtualCollection';\r\nimport dropdown from 'dropdown';\r\nimport { helpers, comparators } from 'utils';\r\nimport template from './templates/datalistEditor.hbs';\r\nimport BaseLayoutEditorView from './base/BaseLayoutEditorView';\r\nimport FakeInputModel from './impl/datalist/models/FakeInputModel';\r\nimport ButtonView from './impl/datalist/views/ButtonView';\r\nimport PanelView from './impl/datalist/views/PanelView';\r\nimport ReferenceListItemView from './impl/datalist/views/ReferenceListItemView';\r\nimport formRepository from '../formRepository';\r\nimport Ajax from '../../services/AjaxService';\r\n\r\ntype DataValue = {\r\n    id: string,\r\n    name?: string\r\n};\r\n\r\ntype DatalistValue = Array<DataValue>;\r\n\r\nconst defaultOptions = {\r\n    displayAttribute: 'name',\r\n    controller: null,\r\n    showAddNewButton: false,\r\n    showEditButton: false,\r\n    buttonView: ButtonView,\r\n    listItemView: ReferenceListItemView,\r\n    showCheckboxes: false,\r\n    textFilterDelay: 300,\r\n    collection: null,\r\n    maxQuantitySelected: 1,\r\n    canDeleteItem: true,\r\n    valueType: 'normal',\r\n    showSearch: true,\r\n    class: undefined,\r\n    queryOptions: {},\r\n    createValueUrl() { },\r\n    edit() { }\r\n};\r\n\r\n/**\r\n * @name DatalistView\r\n * @member of module:core.form.editors\r\n * @class Editor to select object in the format <code>{ id, text }</code>, using async fetch for 'options collection'.\r\n * @extends module:core.form.editors.base.BaseEditorView\r\n * @param {Object} options Options object. All the properties of {@link module:core.form.editors.base.BaseEditorView BaseEditorView} class are also supported.\r\n * @param {Boolean} [options.showAddNewButton=false] responsible for displaying button, which providing to user adding new elements.\r\n * @param {Marionette.View} [options.buttonView=ReferenceButtonView] view to display button (what we click on to show dropdown).\r\n * @param {Marionette.View} [options.listView=ReferenceListView] view to display item in the dropdown list.\r\n * @param {String} [options.displayAttribute='name'] The name of the attribute that contains display text.\r\n * @param {Boolean} [options.canDeleteItem=true]     .\r\n * @param {Number} [options.maxQuantitySelected]   ,   .\r\n * @param {String} [options.valueType = 'normal'] type of value (id or [{ id, name }]).\r\n * */\r\nexport default (formRepository.editors.Datalist = BaseLayoutEditorView.extend({\r\n    initialize(options = {}) {\r\n        _.defaults(this.options, options.schema || options, defaultOptions);\r\n\r\n        let collection = [];\r\n        if (options.collection) {\r\n            if (Array.isArray(options.collection)) {\r\n                collection = options.collection;\r\n            } else {\r\n                collection = options.collection.toJSON();\r\n                this.listenTo(options.collection, 'reset', panelCollection => this.__onResetCollection(panelCollection));\r\n            }\r\n        }\r\n        this.panelCollection = new VirtualCollection(collection, {\r\n            isSliding: true,\r\n            selectableBehavior: 'multi'\r\n        });\r\n\r\n        this.value = this.__adjustValue(this.value);\r\n        this.__updateWithDelay = _.debounce(this.__updateFilter, this.options.textFilterDelay);\r\n        this.listenTo(this.panelCollection, 'selected', this.__onValueSet);\r\n        this.listenTo(this.panelCollection, 'deselected', this.__onValueUnset);\r\n\r\n        this.viewModel = {\r\n            button: {\r\n                selected: new Backbone.Collection(this.value, { //todo remove extra collection\r\n                    comparator: helpers.comparatorFor(comparators.stringComparator2Asc, 'text')\r\n                })\r\n            }\r\n        };\r\n\r\n        const reqres = Backbone.Radio.channel(_.uniqueId('datalistE'));\r\n\r\n        reqres.reply({\r\n            'bubble:delete': this.__onBubbleDelete.bind(this),\r\n            'bubble:delete:last': this.__onBubbleDeleteLast.bind(this),\r\n            'input:search': this.__onInputSearch.bind(this),\r\n            'input:up': this.__onInputUp.bind(this),\r\n            'input:down': this.__onInputDown.bind(this),\r\n            'button:click': this.__onButtonClick.bind(this),\r\n            'value:select': this.__onValueSelect.bind(this),\r\n            'value:edit': this.__onValueEdit.bind(this),\r\n            'add:new:item': this.__onAddNewItem.bind(this),\r\n            'try:value:select': this.__proxyValueSelect.bind(this)\r\n        });\r\n\r\n        this.dropdownView = dropdown.factory.createDropdown({\r\n            buttonView: this.options.buttonView,\r\n            buttonViewOptions: {\r\n                model: this.viewModel.button,\r\n                reqres,\r\n                getDisplayText: value => this.__getDisplayText(value, this.options.displayAttribute),\r\n                showEditButton: this.options.showEditButton,\r\n                canDeleteItem: this.options.canDeleteItem,\r\n                createValueUrl: this.options.createValueUrl,\r\n                enabled: this.getEnabled(),\r\n                readonly: this.getReadonly()\r\n            },\r\n            panelView: PanelView,\r\n            panelViewOptions: {\r\n                collection: this.panelCollection,\r\n                reqres,\r\n                showAddNewButton: this.options.showAddNewButton,\r\n                showCheckboxes: this.options.showCheckboxes,\r\n                listItemView: this.options.listItemView,\r\n                getDisplayText: value => this.__getDisplayText(value, this.options.displayAttribute),\r\n                textFilterDelay: this.options.textFilterDelay\r\n            },\r\n            autoOpen: false\r\n        });\r\n    },\r\n\r\n    regions: {\r\n        dropdownRegion: {\r\n            el: '.js-dropdown-region',\r\n            replaceElement: true\r\n        }\r\n    },\r\n\r\n    className() {\r\n        _.defaults(this.options, this.options.schema || this.options, defaultOptions);\r\n\r\n        const classList = [];\r\n        const maxQuantity = this.options.maxQuantitySelected;\r\n\r\n        if (maxQuantity === 1) {\r\n            classList.push('editor_bubble--single');\r\n        }\r\n        if (this.options.showEditButton) {\r\n            classList.push('editor_bubble--edit');\r\n        }\r\n        if (this.options.canDeleteItem) {\r\n            classList.push('editor_bubble--delete');\r\n        }\r\n\r\n        return `${this.options.class || ''} editor editor_bubble ${classList.join(' ')}`;\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    setValue(value): void {\r\n        this.value = [];\r\n        this.viewModel && this.viewModel.button.selected.reset();\r\n        this.__value(value, false);\r\n        delete this.fakeInputModel;\r\n        this.__updateFakeInputModel();\r\n    },\r\n\r\n    onRender(): void {\r\n        this.listenTo(this.dropdownView, 'open', this.__onDropdownOpen);\r\n        this.listenTo(this.dropdownView, 'close', this.__onDropdownClose);\r\n\r\n        this.showChildView('dropdownRegion', this.dropdownView);\r\n\r\n        this.__updateFakeInputModel();\r\n\r\n        if (this.options.valueType === 'id' && (!this.options.collection || this.options.collection.length === 0)) {\r\n            this.__requestAndResetButtonViewData();\r\n        }\r\n    },\r\n\r\n    isEmptyValue(): boolean {\r\n        const value = this.getValue();\r\n        if (this.getOption('valueType') === 'id') {\r\n            return !value;\r\n        }\r\n        return !value || !value.length;\r\n    },\r\n\r\n    getValue() {\r\n        if (this.getOption('valueType') === 'id') {\r\n            if (this.getOption('maxQuantitySelected') === 1) {\r\n                return Array.isArray(this.value) && this.value.length ? this.value[0].id : this.value && this.value.id;\r\n            }\r\n            return Array.isArray(this.value) && this.value.map(value => (value && value.id ? value.id : value));\r\n        }\r\n        return this.value;\r\n    },\r\n\r\n    setReadonly(readonly: Boolean): void {\r\n        BaseLayoutEditorView.prototype.setReadonly.call(this, readonly);\r\n        const isEnabled = this.getEnabled() && !this.getReadonly();\r\n        this.dropdownView.options.buttonViewOptions.enabled = isEnabled;\r\n        this.dropdownView.button.collectionView.updateEnabled(isEnabled);\r\n    },\r\n\r\n    setEnabled(enabled: Boolean): void {\r\n        BaseLayoutEditorView.prototype.setEnabled.call(this, enabled);\r\n        const isEnabled = this.getEnabled() && !this.getReadonly();\r\n        this.dropdownView.options.buttonViewOptions.enabled = isEnabled;\r\n        this.dropdownView.button.collectionView.updateEnabled(isEnabled);\r\n    },\r\n\r\n    focus(): void {\r\n        this.__onButtonClick();\r\n    },\r\n\r\n    blur(): void {\r\n        this.dropdownView.close();\r\n        this.__blurButton();\r\n    },\r\n\r\n    updateFilter(value, immediate) {\r\n        this.searchText = (value || '').trim();\r\n\r\n        if (immediate) {\r\n            return this.__updateFilter();\r\n        }\r\n        this.isFilterDeayed = true;\r\n        return this.__updateWithDelay();\r\n    },\r\n\r\n    onAttach() {\r\n        if (this.options.openOnRender) {\r\n            this.__onButtonClick();\r\n        }\r\n    },\r\n\r\n    __updateFilter() {\r\n        if (this.activeText === this.searchText) {\r\n            return;\r\n        }\r\n        this.activeText = this.searchText;\r\n        this.isFilterDeayed = false;\r\n\r\n        return this.__onFilterText();\r\n    },\r\n\r\n    __adjustValue(value: DataValue): any {\r\n        if ((typeof value === 'string' || typeof value === 'number') && value) {\r\n            return this.panelCollection.get(value) || [];\r\n        }\r\n        if (_.isUndefined(value) || value === null) {\r\n            return [];\r\n        }\r\n        if (this.getOption('valueType') === 'id' && this.getOption('maxQuantitySelected') > 1) {\r\n            if (Array.isArray(value)) {\r\n                return value.map(v => this.panelCollection.get(v) || v);\r\n            }\r\n            return this.panelCollection.get(value && value.id ? value.id : value);\r\n        }\r\n        return value;\r\n    },\r\n\r\n    __value(value: DataValue, triggerChange: boolean): void {\r\n        if (JSON.stringify(this.value) === JSON.stringify(value) || (_.isObject(value) && this.value.find(v => v.id === value.id))) {\r\n            return;\r\n        }\r\n        const adjustedValue = this.__adjustValue(value);\r\n        const selectedModels = this.viewModel.button.selected;\r\n\r\n        if (this.options.maxQuantitySelected === 1) {\r\n            const firstModel = selectedModels.first();\r\n            if (firstModel !== this.fakeInputModel) {\r\n                selectedModels.remove(firstModel);\r\n            }\r\n            this.value = Array.isArray(adjustedValue) ? adjustedValue : [adjustedValue];\r\n        } else {\r\n            this.value = this.getValue().concat(adjustedValue);\r\n        }\r\n\r\n        selectedModels.add(this.value, { at: selectedModels.length - 1 });\r\n\r\n        if (triggerChange) {\r\n            this.__triggerChange();\r\n        }\r\n    },\r\n\r\n    __onResetCollection(panelCollection) {\r\n        const editorId = this.model.get(this.key);\r\n        this.panelCollection.reset(panelCollection.models);\r\n\r\n        if (editorId) {\r\n            const selectedItem = this.panelCollection.find(collectionItem => collectionItem.get('id').toString() === editorId.toString());\r\n            if (selectedItem) {\r\n                this.setValue(selectedItem.toJSON());\r\n                selectedItem.select();\r\n            }\r\n        }\r\n    },\r\n\r\n    __onValueSelect(): void {\r\n        if (this.panelCollection.lastPointedModel) {\r\n            this.panelCollection.lastPointedModel.toggleSelected();\r\n        } else {\r\n            this.__onValueSet(this.panelCollection.selected);\r\n        }\r\n    },\r\n\r\n    __onValueSet(model?: Backbone.Model, isSilent: boolean = false): void {\r\n        const canAddItemOldValue = this.__canAddItem();\r\n        const value = model ? model.toJSON() : null;\r\n        this.__value(value, true);\r\n        this.__updateFakeInputModel();\r\n\r\n        if (this.options.maxQuantitySelected === 1 && !isSilent) {\r\n            this.dropdownView.close();\r\n            this.__updateButtonInput();\r\n            this.__focusButton();\r\n            return;\r\n        }\r\n\r\n        const stopAddItems = canAddItemOldValue !== this.__canAddItem();\r\n        if (stopAddItems) {\r\n            this.dropdownView.close();\r\n        } else if (!isSilent) {\r\n            this.__updateButtonInput();\r\n            this.__focusButton();\r\n        }\r\n    },\r\n\r\n    __onValueUnset(model: Backbone.Model): void {\r\n        this.__onBubbleDelete(model);\r\n    },\r\n\r\n    __canAddItem(): boolean {\r\n        const selectedItems = this.viewModel.button.selected.models.filter(model => model !== this.fakeInputModel);\r\n        const isAccess = this.getEnabled() && !this.getReadonly();\r\n        const maxQuantity = this.options.maxQuantitySelected;\r\n\r\n        return isAccess && maxQuantity > selectedItems.length;\r\n    },\r\n\r\n    __onValueEdit(value) {\r\n        return this.options.edit(value);\r\n    },\r\n\r\n    __onInputSearch(value, immediate: boolean): void {\r\n        this.updateFilter(value, immediate);\r\n    },\r\n\r\n    async __onFilterText() {\r\n        this.dropdownView.buttonView.setLoading(true);\r\n\r\n        return Ajax.getResponse('GET', this.options.url, Object.assign(this.options.queryOptions, { text: this.searchText })).then(data => {\r\n            this.panelCollection.totalCount = data.totalCount;\r\n            this.panelCollection.reset(data.collection);\r\n\r\n            if (this.panelCollection.length > 0 && this.value) {\r\n                this.value.forEach(value => {\r\n                    const id = value && value.id ? value.id : value;\r\n\r\n                    if (this.panelCollection.has(id)) {\r\n                        this.panelCollection.get(id).select({ isSilent: true });\r\n                    }\r\n                });\r\n            }\r\n            this.dropdownView.buttonView.setLoading(false);\r\n\r\n            this.__tryPointFirstRow();\r\n        });\r\n    },\r\n\r\n    __onAddNewItem(): void {\r\n        this.dropdownView.close();\r\n        this.options.addNewItem(createdValue => {\r\n            if (createdValue) {\r\n                this.__value(createdValue, true);\r\n            }\r\n        });\r\n    },\r\n\r\n    __getDisplayText(value, displayAttribute) {\r\n        if (!value) {\r\n            return '';\r\n        }\r\n        return value[displayAttribute] || value.text || `#${value.id}`;\r\n    },\r\n\r\n    __onDropdownOpen(): void {\r\n        this.__focusButton();\r\n        this.onFocus();\r\n    },\r\n\r\n    __focusButton(): void {\r\n        if (this.dropdownView.button) {\r\n            this.dropdownView.button.focus();\r\n        }\r\n    },\r\n\r\n    __blurButton(): void {\r\n        if (this.dropdownView.button) {\r\n            this.dropdownView.button.blur();\r\n        }\r\n    },\r\n\r\n    __onButtonClick(): void {\r\n        if (this.getEnabled() && !this.getReadonly() && !this.dropdownView.isOpen) {\r\n            const promise = this.updateFilter(null, true);\r\n            if (promise) {\r\n                promise\r\n                    .then(() => {\r\n                        this.dropdownView.open();\r\n                        this.__triggerReady();\r\n                    })\r\n                    .catch(e => {\r\n                        console.error(e.message);\r\n                    });\r\n            } else {\r\n                this.dropdownView.open();\r\n                this.__triggerReady();\r\n            }\r\n        }\r\n    },\r\n\r\n    __onBubbleDelete(model: Backbone.Model): Backbone.Model {\r\n        if (!model) {\r\n            return;\r\n        }\r\n        this.panelCollection.get(model.id) && this.panelCollection.get(model.id).deselect();\r\n\r\n        const selectedModels = this.viewModel.button.selected;\r\n        selectedModels.remove(model);\r\n\r\n        const selected = [].concat(this.getValue() || []);\r\n        const removingModelIndex = selected.findIndex(s => (s && s.id ? s.id : s) === model.get('id'));\r\n        if (removingModelIndex !== -1) {\r\n            selected.splice(removingModelIndex, 1);\r\n        }\r\n        this.value = selected;\r\n\r\n        this.__triggerChange();\r\n\r\n        this.__updateFakeInputModel();\r\n        this.__focusButton();\r\n        this.__onButtonClick();\r\n    },\r\n\r\n    __updateFakeInputModel(): void {\r\n        const selectedModels = this.viewModel.button.selected;\r\n\r\n        if (!this.options.showSearch) {\r\n            if (this.fakeInputModel) {\r\n                selectedModels.remove(this.fakeInputModel);\r\n                delete this.fakeInputModel;\r\n            }\r\n            return;\r\n        }\r\n        if (this.__canAddItem() && !this.fakeInputModel) {\r\n            this.fakeInputModel = new FakeInputModel();\r\n            selectedModels.add(this.fakeInputModel, { at: selectedModels.length });\r\n        }\r\n        if (!this.__canAddItem() && this.fakeInputModel) {\r\n            selectedModels.remove(this.fakeInputModel);\r\n            delete this.fakeInputModel;\r\n        }\r\n        if (this.fakeInputModel) {\r\n            this.fakeInputModel.updateEmpty();\r\n        }\r\n    },\r\n\r\n    __updateButtonInput(): void {\r\n        if (this.dropdownView.button) {\r\n            this.dropdownView.button.collectionView.updateInput();\r\n        }\r\n    },\r\n\r\n    __onBubbleDeleteLast(): void {\r\n        const selectedModels = this.viewModel.button.selected;\r\n        const model = selectedModels.models[selectedModels.models.length - 2];\r\n        this.__onBubbleDelete(model);\r\n    },\r\n\r\n    __onInputUp(): void {\r\n        const collection = this.panelCollection;\r\n\r\n        if (collection.indexOf(this.panelCollection.lastPointedModel) === 0) {\r\n            this.dropdownView.close();\r\n            this.__focusButton();\r\n        } else {\r\n            this.__sendPanelCommand('up');\r\n        }\r\n    },\r\n\r\n    __onInputDown(): void {\r\n        if (!this.dropdownView.isOpen) {\r\n            this.dropdownView.open();\r\n        } else {\r\n            this.__sendPanelCommand('down');\r\n        }\r\n    },\r\n\r\n    __sendPanelCommand(command: string, options: {}): void {\r\n        if (this.dropdownView.isOpen) {\r\n            this.dropdownView.panelView.handleCommand(command, options);\r\n        }\r\n    },\r\n\r\n    __triggerReady() {\r\n        this.trigger('view:ready');\r\n        this.__tryPointFirstRow();\r\n    },\r\n\r\n    __tryPointFirstRow() {\r\n        if (this.panelCollection.length) {\r\n            this.panelCollection.selectSmart(this.panelCollection.at(0), false, false, false);\r\n        }\r\n    },\r\n\r\n    __onDropdownClose() {\r\n        this.onBlur();\r\n        this.panelCollection.pointOff();\r\n        this.activeText = null;\r\n    },\r\n\r\n    __proxyValueSelect() {\r\n        if (this.isFilterDeayed) {\r\n            this.updateFilter(this.searchText, true);\r\n        } else {\r\n            this.__onValueSelect();\r\n        }\r\n    },\r\n\r\n    async __requestAndResetButtonViewData() {\r\n        await this.__onFilterText();\r\n\r\n        this.setValue(this.value);\r\n    }\r\n}));\r\n","// @flow\r\nimport DateTimeEditorView from './DateTimeEditorView';\r\nimport formRepository from '../formRepository';\r\n\r\nexport default (formRepository.editors.Date = DateTimeEditorView.extend({\r\n    initialize(options = {}) {\r\n        options.showTime = false;\r\n\r\n        DateTimeEditorView.prototype.initialize.apply(this, arguments);\r\n    }\r\n}));\r\n","// @flow\r\nimport template from './templates/dateTimeEditor.hbs';\r\nimport DateTimeService from './services/DateTimeService';\r\nimport BaseLayoutEditorView from './base/BaseLayoutEditorView';\r\nimport formRepository from '../formRepository';\r\nimport iconWrapRemove from './iconsWraps/iconWrapRemove.html';\r\nimport iconWrapDate from './iconsWraps/iconWrapDate.html';\r\nimport DateInputView from './impl/dateTime/views/DateInputView';\r\nimport DatePanelView from './impl/dateTime/views/DatePanelView';\r\nimport dropdown from 'dropdown';\r\nimport { dateHelpers, keyCode } from 'utils';\r\nimport GlobalEventService from '../../services/GlobalEventService';\r\nimport DurationEditorView from './DurationEditorView';\r\n\r\nconst defaultOptions = {\r\n    allowEmptyValue: true,\r\n    dateDisplayFormat: undefined,\r\n    timeDisplayFormat: undefined,\r\n    showTitle: true\r\n};\r\n\r\n/**\r\n * @name DateTimeEditorView\r\n * @memberof module:core.form.editors\r\n * @class Combined date and time editor. Supported data type: <code>String</code> in ISO8601 format\r\n * (for example, '2015-07-20T10:46:37Z').\r\n * @extends module:core.form.editors.base.BaseEditorView\r\n * @param {Object} options Options object.\r\n * All the properties of {@link module:core.form.editors.base.BaseEditorView BaseEditorView} class are also supported.\r\n * @param {Boolean} [options.allowEmptyValue=true] - Whether to display a delete button that sets the value to <code>null</code>.\r\n * E.g. for UTC+3 enter <code>180</code>. Negative values allowed. Defaults to browser timezone offset.\r\n * @param {String} [options.dateDisplayFormat=null] - A [MomentJS](http://momentjs.com/docs/#/displaying/format/) format string (e.g. 'M/D/YYYY' etc.).\r\n * @param {String} [options.timeDisplayFormat=null] - A [MomentJS](http://momentjs.com/docs/#/displaying/format/) format string (e.g. 'LTS' etc.).\r\n * @param {Boolean} {options.showTitle=true} Whether to show title attribute.\r\n * */\r\n\r\nexport default (formRepository.editors.DateTime = BaseLayoutEditorView.extend({\r\n    initialize(options = {}) {\r\n        _.defaults(this.options, _.pick(options.schema ? options.schema : options, Object.keys(defaultOptions)), defaultOptions);\r\n\r\n        this.value = this.__adjustValue(this.value);\r\n        this.enabled = this.getEnabled();\r\n        this.readonly = this.getReadonly();\r\n    },\r\n\r\n    events: {\r\n        mouseenter: '__onMouseenter',\r\n        mouseleave: '__onMouseleave'\r\n    },\r\n\r\n    regions: {\r\n        timeDropdownRegion: {\r\n            el: '.js-time-dropdown-region',\r\n            replaceElement: true\r\n        },\r\n        dateDropdownRegion: {\r\n            el: '.js-date-dropdown-region',\r\n            replaceElement: true\r\n        }\r\n    },\r\n\r\n    className: 'editor editor_date-time',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        return this.options;\r\n    },\r\n\r\n    setValue(value: String): void {\r\n        this.__value(value, true, false);\r\n    },\r\n\r\n    getValue(): string {\r\n        return this.value === null ? this.value : moment(this.value).toISOString();\r\n    },\r\n\r\n    __keyAction(event) {\r\n        const dropdownView = this.calendarDropdownView;\r\n        if (dropdownView.isOpen && event.keyCode === keyCode.ENTER) {\r\n            const newValue = dropdownView.button.ui.dateInput.val();\r\n            const newDate = new Date(newValue);\r\n            dropdownView.panelView.updatePickerDate(newDate);\r\n            this.__onDateChange(newDate, false);\r\n        }\r\n    },\r\n\r\n    onRender(): void {\r\n        if (this.options.showTitle) {\r\n            this.__updateTitle();\r\n        }\r\n\r\n        if (this.options.showTime !== false) {\r\n            this.__createTimeDropdownView();\r\n        }\r\n\r\n        if (this.options.showDate !== false) {\r\n            this.__createDateDropdownEditor();\r\n            //calendar button readonly as don't develop mask validation\r\n            const input = this.calendarDropdownView.button.ui.input;\r\n\r\n            input.setAttribute('readonly', true);\r\n            input.setAttribute('tabindex', -1);\r\n        }\r\n    },\r\n\r\n    __value(newValue, updateUi, triggerChange): void {\r\n        const value = this.__adjustValue(newValue);\r\n        if (this.value === value) {\r\n            return;\r\n        }\r\n        this.value = value;\r\n        if (this.options.showTitle) {\r\n            this.__updateTitle();\r\n        }\r\n\r\n        if (updateUi) {\r\n            this.calendarDropdownView && this.calendarDropdownView.button.setValue(value);\r\n            this.__setValueToTimeButton(value);\r\n        }\r\n\r\n        if (triggerChange) {\r\n            this.__triggerChange();\r\n        }\r\n    },\r\n\r\n    __setEnabled(enabled: boolean): void {\r\n        BaseLayoutEditorView.prototype.__setEnabled.call(this, enabled);\r\n        this.enabled = this.getEnabled();\r\n        //__setEnabled() from descendants\r\n        // this.calendarDropdownView && this.calendarDropdownView.button.setEnabled(enabled);\r\n        this.timeDropdownView && this.timeDropdownView.button.setEnabled(enabled);\r\n    },\r\n\r\n    __setReadonly(readonly: boolean): void {\r\n        BaseLayoutEditorView.prototype.__setReadonly.call(this, readonly);\r\n        this.readonly = this.getReadonly();\r\n        //__setReadonly() from descendants\r\n        // this.calendarDropdownView.button.setReadonly(readonly);\r\n        this.timeDropdownView && this.timeDropdownView.button.setReadonly(readonly);\r\n    },\r\n\r\n    __onClear(): boolean {\r\n        this.__value(null, true, true);\r\n        return false;\r\n    },\r\n\r\n    focusElement: null,\r\n\r\n    focus(): void {\r\n        if (this.enabled && !this.readonly) {\r\n            this.calendarDropdownView.open();\r\n            this.calendarDropdownView.panelView.updatePickerDate(this.__getDateByValue(this.value));\r\n            this.calendarDropdownView.button.focus();\r\n        }\r\n    },\r\n\r\n    blur(): void {\r\n        this.__dateBlur();\r\n        this.__timeBlur();\r\n    },\r\n\r\n    onFocus(): void {\r\n        BaseLayoutEditorView.prototype.onFocus.call(this);\r\n    },\r\n\r\n    __adjustValue(value: string): string {\r\n        return value === null ? value : moment(value).toISOString();\r\n    },\r\n\r\n    __updateTitle(): void {\r\n        const dateDisplayValue = DateTimeService.getDateDisplayValue(this.getValue(), this.options.dateDisplayFormat);\r\n        const timeDisplayValue = DateTimeService.getTimeDisplayValue(this.getValue(), this.options.timeDisplayFormat);\r\n        const resultValue = `${dateDisplayValue} ${timeDisplayValue}`;\r\n        this.el.setAttribute('title', resultValue);\r\n    },\r\n\r\n    __onMouseenter() {\r\n        this.el.insertAdjacentHTML('beforeend', this.value ? iconWrapRemove : iconWrapDate);\r\n    },\r\n\r\n    __onMouseleave() {\r\n        this.el.removeChild(this.el.lastElementChild);\r\n    },\r\n\r\n    __getDateByValue(value) {\r\n        if (!value) {\r\n            return new Date();\r\n        }\r\n\r\n        return new Date(value);\r\n    },\r\n\r\n    __createDateDropdownEditor() {\r\n        this.calendarDropdownView = dropdown.factory.createDropdown({\r\n            buttonView: DateInputView,\r\n            buttonViewOptions: {\r\n                value: this.value,\r\n                preserveTime: this.preserveTime,\r\n                allowEmptyValue: this.options.allowEmptyValue,\r\n                dateDisplayFormat: this.options.dateDisplayFormat,\r\n                showTitle: this.options.showTitle\r\n            },\r\n            panelView: DatePanelView,\r\n            panelViewOptions: {\r\n                value: this.value,\r\n                preserveTime: this.options.preserveTime,\r\n                allowEmptyValue: this.options.allowEmptyValue\r\n            },\r\n            renderAfterClose: false,\r\n            autoOpen: false,\r\n            panelMinWidth: 'none',\r\n            class: 'editor_date-time_date'\r\n        });\r\n\r\n        this.listenTo(this.calendarDropdownView, 'button:focus', this.__onDateButtonFocus, this);\r\n        this.listenTo(this.calendarDropdownView, 'button:calendar:open', this.__onDateButtonCalendarOpen, this);\r\n        this.listenTo(this.calendarDropdownView, 'panel:select', this.__onDateChange, this);\r\n        this.showChildView('dateDropdownRegion', this.calendarDropdownView);\r\n    },\r\n\r\n    __onDateChange(date, updateView = true) {\r\n        const oldValue = new Date(this.value);\r\n        let newVal = null;\r\n\r\n        if (!isNaN(oldValue)) {\r\n            newVal = moment(oldValue)\r\n                .year(date.getFullYear())\r\n                .month(date.getMonth())\r\n                .date(date.getDate())\r\n                .toISOString();\r\n        } else {\r\n            newVal = moment(date).toISOString();\r\n        }\r\n\r\n        this.__value(newVal, updateView, true);\r\n        this.stopListening(GlobalEventService);\r\n        this.calendarDropdownView.close();\r\n    },\r\n\r\n    __onDateButtonCalendarOpen() {\r\n        if (this.enabled && !this.readonly) {\r\n            this.calendarDropdownView.open();\r\n            this.calendarDropdownView.panelView.updatePickerDate(this.__getDateByValue(this.value));\r\n            this.listenTo(GlobalEventService, 'window:keydown:captured', (document, event) => this.__keyAction(event));\r\n        }\r\n    },\r\n\r\n    __onDateButtonFocus() {\r\n        if (this.enabled && !this.readonly) {\r\n            this.calendarDropdownView.open();\r\n            this.calendarDropdownView.panelView.updatePickerDate(this.__getDateByValue(this.value));\r\n            this.listenTo(GlobalEventService, 'window:keydown:captured', (document, event) => this.__keyAction(event));\r\n        }\r\n    },\r\n\r\n    __dateBlur() {\r\n        this.calendarDropdownView.close();\r\n    },\r\n\r\n    hasFocus() {\r\n        return this.el.contains(document.activeElement);\r\n    },\r\n\r\n    __timeBlur() {\r\n        this.timeDropdownView.close();\r\n    },\r\n\r\n    timeHasFocus() {\r\n        return this.el.contains(document.activeElement);\r\n    },\r\n\r\n    __createTimeDropdownView() {\r\n        const model = new Backbone.Model({\r\n            [this.key]: dateHelpers.dateISOToDuration(this.value, { days: false }).toISOString()\r\n        });\r\n        this.listenTo(model, 'change', this.__onTimeModelChange);\r\n\r\n        this.timeDropdownView = dropdown.factory.createDropdown({\r\n            buttonView: DurationEditorView,\r\n            buttonViewOptions: Object.assign({\r\n                allowDays: false,\r\n                allowHours: true,\r\n                allowMinutes: true,\r\n                allowSeconds: true,\r\n                showEmptyParts: true,\r\n                hideClearButton: true,\r\n                fillZero: true,\r\n                normalTime: true,\r\n                allFocusablePart: {\r\n                    maxLength: 2,\r\n                    text: ':',\r\n                },\r\n                seconds: {\r\n                    text: ''\r\n                }\r\n            }, this.options, {\r\n                model\r\n            }),\r\n            panelView: Marionette.CollectionView.extend({\r\n                collection: new Backbone.Collection(),\r\n                tagName: 'ul',\r\n                className: 'dropdown__wrp dropdown__wrp_time',\r\n                childViewEvents: {\r\n                    select(time) {\r\n                        this.trigger('select', time);\r\n                    }\r\n                },\r\n                childView: Marionette.View.extend({\r\n                    tagName: 'li',\r\n                    className: 'time-dropdown__i',\r\n                    events: {\r\n                        click() {\r\n                            this.trigger('select', this.model.get('time'));\r\n                        }\r\n                    },\r\n                    template: Handlebars.compile('{{formattedTime}}')\r\n                })\r\n            }),\r\n            renderAfterClose: false,\r\n            autoOpen: false,\r\n            class: 'editor_date-time_time'\r\n        });\r\n\r\n        this.listenTo(this.timeDropdownView, 'button:focus', this.__onTimeButtonFocus, this);\r\n        this.listenTo(this.timeDropdownView, 'button:click', this.__onTimeButtonCalendarOpen, this);\r\n        this.listenTo(this.timeDropdownView, 'panel:select', this.__onTimePanelSelect, this);\r\n        this.showChildView('timeDropdownRegion', this.timeDropdownView);\r\n    },\r\n\r\n    __updateTime(ISOstr) { //replace time of ISO string to time from timebutton\r\n        const valTimeModel = this.timeDropdownView && this.timeDropdownView.button.model.get(this.key);\r\n        if (!valTimeModel) {\r\n            return;\r\n        }\r\n        const dateMoment = moment(ISOstr || {}).clone();\r\n        const timeDuration = moment.duration(valTimeModel).clone();\r\n        dateMoment.hours(timeDuration.hours());\r\n        dateMoment.minutes(timeDuration.minutes());\r\n        dateMoment.seconds(timeDuration.seconds());\r\n        return dateMoment.toISOString();\r\n    },\r\n\r\n    __onTimeModelChange(model) {\r\n        if (model.get(this.key) === null) {\r\n            return;\r\n        }\r\n        this.__value(this.__updateTime(this.value), false, true);\r\n    },\r\n\r\n    __setValueToTimeButton(dateISOstring) {\r\n        const newDuration = dateISOstring && dateHelpers.dateISOToDuration(dateISOstring, { days: false }).toISOString();\r\n        this.timeDropdownView && this.timeDropdownView.button.setValue(newDuration, true);\r\n    },\r\n\r\n    __onTimePanelSelect(time) {\r\n        this.__setValueToTimeButton(time);\r\n        this.timeDropdownView.close();\r\n    },\r\n\r\n    __timeDropdownOpen() {\r\n        this.timeDropdownView.open();\r\n        const panelView = this.timeDropdownView.panelView;\r\n        if (!panelView.collection.length) {\r\n            panelView.collection.reset(this.__getTimeCollection());\r\n        }\r\n    },\r\n\r\n    __getTimeCollection() {\r\n        const timeArray = [];\r\n\r\n        for (let h = 0; h < 24; h++) {\r\n            for (let m = 0; m < 60; m += 15) {\r\n                const val = { hours: h, minutes: m };\r\n                const time = moment(val);\r\n                const formattedTime = dateHelpers.getDisplayTime(time);\r\n\r\n                timeArray.push({\r\n                    time,\r\n                    formattedTime\r\n                });\r\n            }\r\n        }\r\n\r\n        return timeArray;\r\n    },\r\n\r\n    __onTimeButtonCalendarOpen() {\r\n        if (this.enabled && !this.readonly) {\r\n            this.__timeDropdownOpen();\r\n        }\r\n    },\r\n\r\n    __onTimeButtonFocus() {\r\n        if (this.enabled && !this.readonly) {\r\n            this.__timeDropdownOpen();\r\n        }\r\n    }\r\n}));\r\n","// @flow\r\nimport template from './templates/documentEditor.html';\r\nimport DocumentReferenceModel from './impl/document/models/DocumentReferenceModel';\r\nimport DocumentReferenceCollection from './impl/document/collections/DocumentReferenceCollection';\r\nimport BaseCompositeEditorView from './base/BaseCompositeEditorView';\r\nimport formRepository from '../formRepository';\r\nimport LocalizationService from '../../services/LocalizationService';\r\nimport dropdown from 'dropdown';\r\nimport DatalistPanelView from './impl/datalist/views/PanelView';\r\nimport MultiselectItemView from './impl/document/views/MultiselectItemView';\r\nimport AttachmentsController from './impl/document/gallery/AttachmentsController';\r\n\r\nconst MultiselectAddButtonView = Marionette.View.extend({\r\n    className: 'button-sm_h3 button-sm button-sm_add',\r\n    tagName: 'button',\r\n    template: Handlebars.compile('{{text}}')\r\n});\r\n\r\nconst savedDocumentPrefix = 'document';\r\n\r\nconst defaultOptions = {\r\n    readonly: false,\r\n    allowDelete: true,\r\n    multiple: true,\r\n    fileFormat: undefined,\r\n    showRevision: true,\r\n    createDocuments: documents =>\r\n        // todo: strange method\r\n        Promise.resolve(\r\n            documents.map(doc => ({\r\n                id: doc.id,\r\n                fileName: doc.fileName,\r\n                documentsId: documents.map(item => item.id)\r\n            }))\r\n        ),\r\n    removeDocuments: () => {},\r\n    displayText: ''\r\n};\r\n\r\nexport default (formRepository.editors.Document = BaseCompositeEditorView.extend({\r\n    initialize(options = {}) {\r\n        _.defaults(this.options, _.pick(options.schema ? options.schema : options, Object.keys(defaultOptions)), defaultOptions);\r\n\r\n        this.initcollection();\r\n\r\n        this.on('change', this.checkEmpty.bind(this));\r\n        this.on('uploaded', documents => {\r\n            if (this.options.multiple === false) {\r\n                this.collection.reset();\r\n                if (this.value && this.value.length && this.value[0].id.indexOf(savedDocumentPrefix) > -1) {\r\n                    documents[0].documentId = this.value[0].id;\r\n                }\r\n            }\r\n            this.uploadDocumentOnServer(documents);\r\n        });\r\n\r\n        this.reqres = Backbone.Radio.channel(_.uniqueId('mSelect'));\r\n\r\n        this.reqres.reply('value:set', this.onValueAdd, this);\r\n        this.reqres.reply('value:navigate', this.onValueNavigate, this);\r\n        this.reqres.reply('search:more', this.onSearchMore, this);\r\n        this.reqres.reply('filter:text', this.onFilterText, this);\r\n\r\n        this.attachmentsController = new AttachmentsController();\r\n\r\n        if (this.canAdd) {\r\n            this.renderDropdown();\r\n        }\r\n        this._windowResize = _.throttle(this.update.bind(this), 100, true);\r\n        window.addEventListener('resize', this._windowResize);\r\n    },\r\n\r\n    checkEmpty() {\r\n        this.el.classList.toggle('pr-empty', this.collection && this.collection.length === 0);\r\n    },\r\n\r\n    canAdd: false,\r\n\r\n    className: 'editor editor_document',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    childView: MultiselectItemView,\r\n\r\n    childViewContainer: '.js-collection-container',\r\n\r\n    childViewOptions() {\r\n        return {\r\n            attachmentsController: this.attachmentsController,\r\n            allowDelete: this.options.allowDelete,\r\n            showRevision: this.options.showRevision\r\n        };\r\n    },\r\n\r\n    collapsed: true,\r\n\r\n    ui: {\r\n        addRegion: '.js-add-region',\r\n        fileUploadButton: '.js-file-button',\r\n        fileUpload: '.js-file-input',\r\n        form: '.js-file-form',\r\n        showMore: '.js-show-more',\r\n        invisibleCount: '.js-invisible-count',\r\n        showMoreText: '.js-show-more-text'\r\n    },\r\n\r\n    templateContext() {\r\n        return Object.assign(this.options, {\r\n            displayText: LocalizationService.get('CORE.FORM.EDITORS.DOCUMENT.ADDDOCUMENT'),\r\n            multiple: this.options.multiple,\r\n            fileFormat: this.__adjustFileFormat(this.options.fileFormat)\r\n        });\r\n    },\r\n\r\n    events: {\r\n        'click @ui.showMore': 'toggleShowMore',\r\n        keydown: '__handleKeydown',\r\n        'change @ui.fileUpload': 'onSelectFiles',\r\n        'click @ui.fileUploadButton': '__onItemClick'\r\n    },\r\n\r\n    childViewEvents: {\r\n        remove: 'removeItem'\r\n    },\r\n\r\n    setValue(value) {\r\n        this.__value(value);\r\n    },\r\n\r\n    getValue() {\r\n        this.syncValue();\r\n        return this.value;\r\n    },\r\n\r\n    onRender() {\r\n        this.renderUploadButton(this.options.readonly);\r\n    },\r\n\r\n    initcollection() {\r\n        if (!this.value) {\r\n            this.collection = new DocumentReferenceCollection();\r\n        } else {\r\n            this.collection = new DocumentReferenceCollection(this.value);\r\n        }\r\n    },\r\n\r\n    syncValue() {\r\n        this.value = this.collection ? this.collection.toJSON() : [];\r\n    },\r\n\r\n    uploadDocumentOnServer(documents) {\r\n        this.options.createDocuments(documents).then(results => {\r\n            const tDocs = results.map(doc => {\r\n                const mappedObject = documents.find(uploadDoc => uploadDoc.id === doc.id);\r\n\r\n                return new DocumentReferenceModel({\r\n                    id: doc.id,\r\n                    documentsId: documents.map(item => item.id),\r\n                    name: doc.FileName || doc.fileName, // TODO fix API\r\n                    url: doc.DocumentLink || null,\r\n                    type: mappedObject ? mappedObject.type : null // TODO fix API\r\n                });\r\n            });\r\n            this.addItem(tDocs);\r\n        });\r\n    },\r\n\r\n    renderUploadButton(isReadonly) {\r\n        if (isReadonly) {\r\n            this.ui.addRegion.setAttribute('displayNone', true);\r\n        }\r\n    },\r\n\r\n    addItem(items) {\r\n        this.onValueAdd(items);\r\n        this.__triggerChange();\r\n    },\r\n\r\n    removeItem(view) {\r\n        this.collection.remove(view.model);\r\n        this.options.removeDocuments([view.model.get('id')]);\r\n        this.__triggerChange();\r\n    },\r\n\r\n    __setEnabled(enabled) {\r\n        BaseCompositeEditorView.prototype.__setEnabled.call(this, enabled);\r\n        this.renderUploadButton(!enabled);\r\n    },\r\n\r\n    __setReadonly(readonly) {\r\n        BaseCompositeEditorView.prototype.__setReadonly.call(this, readonly);\r\n        if (this.getEnabled()) {\r\n            this.renderUploadButton(readonly);\r\n        }\r\n    },\r\n\r\n    __value(value, triggerChange) {\r\n        if (this.value === value) {\r\n            return;\r\n        }\r\n        this.value = value;\r\n        this.collection.set(value);\r\n        if (triggerChange) {\r\n            this.__triggerChange();\r\n        }\r\n    },\r\n\r\n    __adjustFileFormat(fileFormat) {\r\n        if (!fileFormat) {\r\n            return '';\r\n        }\r\n        let result = '';\r\n\r\n        for (let i = 0; i < fileFormat.length; i += 1) {\r\n            result += `.${fileFormat[i].toLowerCase()}`;\r\n            if (i < fileFormat.length - 1) {\r\n                result += ',';\r\n            }\r\n        }\r\n\r\n        return result;\r\n    },\r\n\r\n    uploadUrl: '/api/UploadAttachment',\r\n\r\n    __onItemClick() {\r\n        this.ui.fileUpload.click();\r\n    },\r\n\r\n    onSelectFiles(e) {\r\n        const input = e.target;\r\n        const files = input.files;\r\n\r\n        if (this.__validate(files) && !this.readonly) {\r\n            this._uploadFiles(files);\r\n        }\r\n    },\r\n\r\n    _uploadFiles(files, items) {\r\n        this.trigger('beforeUpload');\r\n        //todo loading\r\n        if (items) {\r\n            //todo wtf\r\n            Promise.resolve(this._readFileEntries(items)).then(fileEntrie => {\r\n                this._sendFilesToServer(fileEntrie);\r\n            });\r\n        } else {\r\n            this._sendFilesToServer(files);\r\n        }\r\n    },\r\n\r\n    // recursive loading of folders is currently supported only in chrome\r\n    // promise function\r\n    _readFileTree(itemEntry) {\r\n        return new Promise(resolve => {\r\n            if (itemEntry.isFile) {\r\n                itemEntry.file(file => {\r\n                    resolve(file);\r\n                });\r\n            } else if (itemEntry.isDirectory) {\r\n                const dirReader = itemEntry.createReader();\r\n                dirReader.readEntries(entries => {\r\n                    Promise.map(entries, entry => this._readFileTree(entry)).then(() => {\r\n                        resolve(_.flatten(arguments));\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    },\r\n\r\n    //typeof filesEntries is array of DataTransfer\r\n    _readFileEntries(fileEntries) {\r\n        const deferrArray = [];\r\n\r\n        for (let i = 0; i < fileEntries.length; i++) {\r\n            let entry;\r\n            if (fileEntries[i].getAsEntry) {\r\n                //Standard HTML5 API\r\n                entry = fileEntries[i].getAsEntry();\r\n            } else if (fileEntries[i].webkitGetAsEntry) {\r\n                //WebKit implementation of HTML5 API.\r\n                entry = fileEntries[i].webkitGetAsEntry();\r\n            }\r\n            if (entry) {\r\n                deferrArray.push(this.readFileTree(entry));\r\n            }\r\n        }\r\n\r\n        return Promise.all(deferrArray).then(() => _.flatten(arguments));\r\n    },\r\n\r\n    _sendFilesToServer(files) {\r\n        const form = new FormData();\r\n        if (this.options.multiple === false) {\r\n            form.append('file1', files[0]);\r\n        } else {\r\n            for (let i = 0; i < files.length; i++) {\r\n                form.append(`file${i + 1}`, files[i]);\r\n            }\r\n        }\r\n        $.ajax({\r\n            url: this.uploadUrl,\r\n            data: form,\r\n            processData: false,\r\n            type: 'POST',\r\n            contentType: false,\r\n            encoding: 'multipart/form-data',\r\n            enctype: 'multipart/form-data',\r\n            mimeType: 'multipart/form-data',\r\n            success: data => {\r\n                const tempResult = JSON.parse(data);\r\n                const resultObjects = [];\r\n                for (let i = 0; i < tempResult.fileIds.length; i++) {\r\n                    const currFileName = files[i].name;\r\n                    const obj = {\r\n                        id: tempResult.fileIds[i],\r\n                        fileName: currFileName,\r\n                        type: currFileName ? currFileName.replace(/.*\\./g, '') : ''\r\n                    };\r\n                    resultObjects.push(obj);\r\n                }\r\n                this.ui.fileUpload[0].value = null;\r\n                this.ui.form.trigger('reset');\r\n                this.trigger('uploaded', resultObjects);\r\n            },\r\n            error: () => {\r\n                this.trigger('failed');\r\n            }\r\n        });\r\n    },\r\n\r\n    __validate(files) {\r\n        let ext = '';\r\n        let fileFormat = this.options.fileFormat.toLowerCase();\r\n        let incorrectFileNames = '';\r\n\r\n        if (!files) {\r\n            return false;\r\n        }\r\n\r\n        if (!fileFormat) {\r\n            return true;\r\n        }\r\n\r\n        fileFormat = fileFormat.toLowerCase();\r\n\r\n        for (let i = 0; i < files.length; i += 1) {\r\n            ext = files[i].name\r\n                .split('.')\r\n                .pop()\r\n                .toLowerCase();\r\n            if (fileFormat.indexOf(ext) === -1) {\r\n                incorrectFileNames += `${files[i].name}, `;\r\n            }\r\n        }\r\n\r\n        // TODO: show validation error\r\n        this.trigger('validation:error', incorrectFileNames);\r\n\r\n        return !incorrectFileNames;\r\n    },\r\n\r\n    renderDropdown() {\r\n        this.dropdownModel = {\r\n            button: {\r\n                text: LocalizationService.get('CORE.FORM.EDITORS.DOCUMENT.ADD')\r\n            },\r\n            panel: {\r\n                collection: this.controller.collection,\r\n                totalCount: this.controller.totalCount || 0\r\n            }\r\n        };\r\n        this.dropdownView = dropdown.factory.createDropdown({\r\n            buttonView: MultiselectAddButtonView,\r\n            buttonViewOptions: {\r\n                model: this.dropdownModel.button,\r\n                reqres: this.reqres\r\n            },\r\n            panelView: DatalistPanelView,\r\n            panelViewOptions: {\r\n                model: this.dropdownModel.panel,\r\n                reqres: this.reqres\r\n            }\r\n        });\r\n        this.$selectButtonEl.html(this.dropdownView.render().el);\r\n    },\r\n\r\n    showDropDown() {\r\n        this.dropdownView.open();\r\n    },\r\n\r\n    onAttach() {\r\n        this.renderShowMore();\r\n    },\r\n\r\n    onValueAdd(model) {\r\n        this.collection.add(model);\r\n        this.trigger('valueAdded', model);\r\n        this.dropdownView && this.dropdownView.close();\r\n        this.renderShowMore();\r\n    },\r\n\r\n    onValueNavigate() {\r\n        //todo\r\n        this.controller.navigate(this.getValue());\r\n    },\r\n\r\n    onSearchMore() {\r\n        // TODO: Not implemented in Release 1\r\n        this.dropdownView.close();\r\n    },\r\n\r\n    onFilterText(options) {\r\n        return this.controller.fetch(options).then(() => this.dropdownModel.get('panel').set('totalCount', this.controller.totalCount));\r\n    },\r\n\r\n    toggleShowMore() {\r\n        this.collapsed = !this.collapsed;\r\n        this.renderShowMore();\r\n    },\r\n\r\n    renderShowMore() {\r\n        if (this.collapsed) {\r\n            this.collapseShowMore();\r\n        } else {\r\n            this.expandShowMore();\r\n        }\r\n    },\r\n\r\n    update() {\r\n        if (this.collapsed) {\r\n            this.collapseShowMore();\r\n        }\r\n    },\r\n\r\n    collapseShowMore() {\r\n        if (this.isDestroyed()) {\r\n            return;\r\n        }\r\n        if (!this.getChildViewContainer(this) || !this.getChildViewContainer(this).children() || !this.getChildViewContainer(this).children().length) {\r\n            this.ui.showMore.setAttribute('displayNone', true);\r\n            return;\r\n        }\r\n        const affordabletWidth = this.el.offsetWidth;\r\n        const childViews = this.getChildViewContainer(this).children();\r\n        let visibleCounter = 1;\r\n        let visibleWidth = /*60 +*/ childViews[0].offsetWidth;\r\n        const length = this.collection.length;\r\n        // visible children\r\n        while (visibleCounter < length && visibleWidth + childViews[visibleCounter].clientWidth < affordabletWidth) {\r\n            visibleWidth += childViews[visibleCounter].clientWidth;\r\n            visibleCounter++;\r\n        }\r\n        // invisible children\r\n        for (let i = visibleCounter; i < length; i++) {\r\n            childViews[i].style.display = 'none';\r\n        }\r\n        if (length - visibleCounter > 0) {\r\n            this.ui.showMore.removeAttribute('displayNone');;\r\n            this.ui.invisibleCount.html(length - visibleCounter);\r\n            this.ui.showMoreText.html(`${LocalizationService.get('CORE.FORM.EDITORS.DOCUMENT.SHOWMORE')} `);\r\n        } else {\r\n            this.ui.showMore.setAttribute('displayNone', true);\r\n        }\r\n    },\r\n\r\n    expandShowMore() {\r\n        this.getChildViewContainer(this)\r\n            .children()\r\n            .removeAttribute('displayNone');;\r\n        this.ui.showMoreText.html(LocalizationService.get('CORE.FORM.EDITORS.DOCUMENT.HIDE'));\r\n        this.ui.invisibleCount.html('');\r\n    },\r\n\r\n    onDestroy() {\r\n        window.removeEventListener('resize', this._windowResize, true);\r\n    },\r\n\r\n    __handleKeydown(e) {\r\n        switch (e.keyCode) {\r\n            case 13:\r\n            case 40:\r\n                this.dropdownView.open();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}));\r\n","// @flow\r\nimport template from './templates/documentExpressionEditor.html';\r\nimport NewExpressionEditorView from './NewExpressionEditorView';\r\nimport DatalistEditorView from './DatalistEditorView';\r\nimport LocalizationService from '../../services/LocalizationService';\r\n\r\nconst defaultOptions = {\r\n    showTemplate: true\r\n};\r\n\r\nconst valueTypes = {\r\n    value: 'value',\r\n    context: 'context',\r\n    expression: 'expression',\r\n    script: 'script',\r\n    template: 'template'\r\n};\r\n\r\nexport default NewExpressionEditorView.extend({\r\n    initialize(options = {}) {\r\n        _.defaults(this.options, _.pick(options.schema ? options.schema : options, Object.keys(defaultOptions)), defaultOptions);\r\n        NewExpressionEditorView.prototype.initialize.call(this, options);\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    regions: {\r\n        typeContainer: '.js-new-expression-type-container',\r\n        valueContainer: '.js-new-expression-value-container',\r\n        contextContainer: '.js-new-expression-context-container',\r\n        scriptContainer: '.js-new-expression-script-container',\r\n        expressionContainer: '.js-new-expression-expression-container',\r\n        templateContainer: '.js-new-expression-template-container'\r\n    },\r\n\r\n    ui: {\r\n        type: '.js-new-expression-type-container',\r\n        value: '.js-new-expression-value-container',\r\n        context: '.js-new-expression-context-container',\r\n        script: '.js-new-expression-script-container',\r\n        expression: '.js-new-expression-expression-container',\r\n        template: '.js-new-expression-template-container'\r\n    },\r\n\r\n    onAttach() {\r\n        this.valueTypeCollection = new Backbone.Collection(null, { comparator: false });\r\n\r\n        this.__showValueEditor();\r\n        this.__showContextEditor();\r\n        this.__showExpressionEditor();\r\n        this.__showScriptEditor();\r\n        this.__showTemplateEditor();\r\n        this.__showTypeEditor();\r\n        this.__updateEditorState();\r\n    },\r\n\r\n    __showTemplateEditor() {\r\n        if (!this.options.showTemplate) {\r\n            return;\r\n        }\r\n        this.valueTypeCollection.add({\r\n            id: valueTypes.template,\r\n            text: LocalizationService.get('CORE.FORM.EDITORS.EXPRESSION.TEMPLATE')\r\n        });\r\n\r\n        this.templateEditor = new DatalistEditorView(\r\n            _.extend(this.options.templateEditorOptions, {\r\n                value: this.value.type === valueTypes.template ? this.value.value : null\r\n            })\r\n        );\r\n\r\n        this.listenTo(this.templateEditor, 'change', this.__updateEditorValue);\r\n        this.showChildView('templateContainer', this.templateEditor);\r\n    },\r\n\r\n    __updateEditorState() {\r\n        this.ui.value.classList.toggle('hidden', this.value.type !== valueTypes.value);\r\n        this.ui.expression.classList.toggle('hidden', this.value.type !== valueTypes.expression);\r\n        this.ui.script.classList.toggle('hidden', this.value.type !== valueTypes.script);\r\n        this.ui.context.classList.toggle('hidden', this.value.type !== valueTypes.context);\r\n        this.ui.template.classList.toggle('hidden', this.value.type !== valueTypes.template);\r\n    },\r\n\r\n    __updateEditorValue() {\r\n        const type = this.typeEditor.getValue();\r\n        let value;\r\n        switch (this.value.type) {\r\n            case valueTypes.value:\r\n                value = this.valueEditor.getValue();\r\n                break;\r\n            case valueTypes.context:\r\n                value = this.contextEditor.getValue();\r\n                break;\r\n            case valueTypes.expression:\r\n                value = this.expressionEditor ? this.expressionEditor.getValue() : null;\r\n                break;\r\n            case valueTypes.script:\r\n                value = this.scriptEditor ? this.scriptEditor.getValue() : null;\r\n                break;\r\n            case valueTypes.template:\r\n                value = this.templateEditor ? this.templateEditor.getValue() : null;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.value = { type, value };\r\n        this.__triggerChange();\r\n    }\r\n});\r\n","// @flow\r\nimport { keyCode, dateHelpers, helpers } from 'utils';\r\nimport LocalizationService from '../../services/LocalizationService';\r\nimport template from './templates/durationEditor.hbs';\r\nimport BaseItemEditorView from './base/BaseItemEditorView';\r\nimport formRepository from '../formRepository';\r\nimport iconWrapRemove from './iconsWraps/iconWrapRemove.html';\r\nimport iconWrapNumber from './iconsWraps/iconWrapNumber.html';\r\n\r\nconst focusablePartId = {\r\n    DAYS: 'days',\r\n    HOURS: 'hours',\r\n    MINUTES: 'minutes',\r\n    SECONDS: 'seconds'\r\n};\r\n\r\nconst createFocusableParts = function (options) {\r\n    const result = [];\r\n    const settings = {};\r\n    settings.daysSettings = _.defaults(options.days, options.allFocusablePart, {\r\n        text: LocalizationService.get('CORE.FORM.EDITORS.DURATION.WORKDURATION.DAYS'),\r\n        maxLength: 4\r\n    });\r\n    settings.hoursSettings = _.defaults(options.hours, options.allFocusablePart, {\r\n        text: LocalizationService.get('CORE.FORM.EDITORS.DURATION.WORKDURATION.HOURS'),\r\n        maxLength: 4\r\n    });\r\n    settings.minutesSettings = _.defaults(options.minutes, options.allFocusablePart, {\r\n        text: LocalizationService.get('CORE.FORM.EDITORS.DURATION.WORKDURATION.MINUTES'),\r\n        maxLength: 4\r\n    });\r\n    settings.secondsSettings = _.defaults(options.seconds, options.allFocusablePart, {\r\n        text: LocalizationService.get('CORE.FORM.EDITORS.DURATION.WORKDURATION.SECONDS'),\r\n        maxLength: 4\r\n    });\r\n    Object.values(settings).forEach(setting => setting.text = ` ${setting.text}`); //RegExp in getSegmentValue method based on ' ' (\\s)\r\n    if (options.allowDays) {\r\n        result.push({\r\n            id: focusablePartId.DAYS,\r\n            text: settings.daysSettings.text,\r\n            maxLength: settings.daysSettings.maxLength,\r\n            milliseconds: 1000 * 60 * 60 * options.hoursPerDay\r\n        });\r\n    }\r\n    if (options.allowHours) {\r\n        result.push({\r\n            id: focusablePartId.HOURS,\r\n            text: settings.hoursSettings.text,\r\n            maxLength: settings.hoursSettings.maxLength,\r\n            milliseconds: 1000 * 60 * 60\r\n        });\r\n    }\r\n    if (options.allowMinutes) {\r\n        result.push({\r\n            id: focusablePartId.MINUTES,\r\n            text: settings.minutesSettings.text,\r\n            maxLength: settings.minutesSettings.maxLength,\r\n            milliseconds: 1000 * 60\r\n        });\r\n    }\r\n    if (options.allowSeconds) {\r\n        result.push({\r\n            id: focusablePartId.SECONDS,\r\n            text: settings.secondsSettings.text,\r\n            maxLength: settings.secondsSettings.maxLength,\r\n            milliseconds: 1000\r\n        });\r\n    }\r\n    return result;\r\n};\r\n\r\nconst defaultOptions = {\r\n    hoursPerDay: 24,\r\n    allowDays: true,\r\n    allowHours: true,\r\n    allowMinutes: true,\r\n    allowSeconds: true,\r\n    showTitle: true,\r\n    showEmptyParts: false,\r\n    hideClearButton: false,\r\n    fillZero: false,\r\n    normalTime: false\r\n    // allFocusablePart: undefined,\r\n    // seconds: undefined // days, minutes, hours\r\n};\r\n\r\nconst classes = {\r\n    FOCUSED: 'pr-focused'\r\n};\r\n\r\nconst stateModes = {\r\n    EDIT: 'edit',\r\n    VIEW: 'view'\r\n};\r\n\r\n/**\r\n * @name DurationEditorView\r\n * @memberof module:core.form.editors\r\n * @class Inline duration editor. Supported data type: <code>String</code> in ISO8601 format (for example: 'P4DT1H4M').\r\n * @extends module:core.form.editors.base.BaseEditorView\r\n * @param {Object} options Options object. All the properties of {@link module:core.form.editors.base.BaseEditorView BaseEditorView} class are also supported.\r\n * @param {Number} [options.hoursPerDay=24] The amount of hours per day. The intended use case is counting work days taking work hours into account.\r\n * The logic is disabled by default: a day is considered as 24 hours.\r\n * @param {Boolean} [options.allowDays=true] Whether to display the day segment. At least one segment must be displayed.\r\n * @param {Boolean} [options.allowHours=true] Whether to display the hour segment. At least one segment must be displayed.\r\n * @param {Boolean} [options.allowMinutes=true] Whether to display the minute segment. At least one segment must be displayed.\r\n * @param {Boolean} [options.allowSeconds=true] Whether to display the second segment. At least one segment must be displayed.\r\n * @param {Boolean} {options.showTitle=true} Whether to show title attribute.\r\n * */\r\n\r\nexport default (formRepository.editors.Duration = BaseItemEditorView.extend({\r\n    initialize(options = {}) {\r\n        _.defaults(this.options, _.pick(options.schema ? options.schema : options, Object.keys(defaultOptions)), defaultOptions);\r\n\r\n        this.focusableParts = createFocusableParts(this.options);\r\n\r\n        this.state = {\r\n            mode: stateModes.VIEW,\r\n            displayValue: dateHelpers.durationISOToObject(this.value)\r\n        };\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    focusElement: '.js-input',\r\n\r\n    className: 'js-duration editor editor_duration',\r\n\r\n    ui: {\r\n        input: '.js-input',\r\n        clear: '.js-clear-button'\r\n    },\r\n\r\n    regions: {\r\n        durationRegion: 'js-duration'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.clear': '__clear',\r\n        'focus @ui.input': '__focus',\r\n        'click @ui.input': '__onClick',\r\n        'blur @ui.input': '__blur',\r\n        'keydown @ui.input': '__keydown',\r\n        'keyup @ui.input': '__keyup',\r\n        mouseenter: '__onMouseenter',\r\n        mouseleave: '__onMouseleave'\r\n    },\r\n\r\n    setPermissions(enabled, readonly) {\r\n        BaseItemEditorView.prototype.setPermissions.call(this, enabled, readonly);\r\n    },\r\n\r\n    __setEnabled(enabled) {\r\n        BaseItemEditorView.prototype.__setEnabled.call(this, enabled);\r\n        this.ui.input.setAttribute('disabled', !enabled);\r\n    },\r\n\r\n    __setReadonly(readonly) {\r\n        BaseItemEditorView.prototype.__setReadonly.call(this, readonly);\r\n        if (this.getEnabled()) {\r\n            this.ui.input.setAttribute('readonly', readonly);\r\n            this.ui.input.setAttribute('tabindex', readonly ? -1 : 0);\r\n        }\r\n    },\r\n\r\n    __clear() {\r\n        this.__updateState({\r\n            mode: stateModes.VIEW,\r\n            displayValue: null\r\n        });\r\n        this.__value(null, true);\r\n        this.focus();\r\n    },\r\n\r\n    __onClick() {\r\n        this.trigger('click');\r\n        this.__focus();\r\n    },\r\n\r\n    __focus() {\r\n        if (this.readonly) {\r\n            return;\r\n        }\r\n        const curretPos = this.getCaretPos();\r\n        this.__updateState({\r\n            mode: stateModes.EDIT\r\n        });\r\n        const pos = this.fixCaretPos(curretPos);\r\n        this.setCaretPos(pos);\r\n    },\r\n\r\n    __blur() {\r\n        if (this.state.mode === stateModes.VIEW) {\r\n            return;\r\n        }\r\n\r\n        const values = this.getSegmentValue();\r\n        const newValueObject = {\r\n            days: 0,\r\n            hours: 0,\r\n            minutes: 0,\r\n            seconds: 0\r\n        };\r\n        this.focusableParts.forEach((seg, i) => {\r\n            newValueObject[seg.id] = Number(values[i]);\r\n        });\r\n\r\n        this.__updateState({\r\n            mode: stateModes.VIEW,\r\n            displayValue: newValueObject\r\n        });\r\n        let newValue;\r\n        newValue = moment.duration(this.state.displayValue).toISOString();\r\n        if (!this.options.showEmptyParts) {\r\n            if (Object.values(newValueObject).every(value => value === 0)) {\r\n                newValue = null;\r\n                this.ui.input.value = null;\r\n            }\r\n        }\r\n        this.__value(newValue, true);\r\n    },\r\n\r\n    getCaretPos() {\r\n        return this.ui.input.selectionStart;\r\n    },\r\n\r\n    fixCaretPos(pos) {\r\n        let resultPosition;\r\n        const index = this.getSegmentIndex(pos);\r\n        const focusablePart1 = this.focusableParts[index];\r\n        const focusablePart2 = this.focusableParts[index + 1];\r\n        if (pos >= focusablePart1.start && pos <= focusablePart1.end) {\r\n            resultPosition = pos;\r\n        } else if (pos > focusablePart1.end && (focusablePart2 ? pos < focusablePart2.start : true)) {\r\n            resultPosition = focusablePart1.end;\r\n        }\r\n        return resultPosition !== undefined ? resultPosition : focusablePart1.start;\r\n    },\r\n\r\n    setCaretPos(pos) {\r\n        this.ui.input.setSelectionRange(pos, pos);\r\n    },\r\n\r\n    getSegmentIndex(pos) {\r\n        // returns the index of the segment where we are at\r\n        let i;\r\n        let segmentIndex;\r\n\r\n        segmentIndex = this.focusableParts.length - 1;\r\n        this.initSegmentStartEnd();\r\n        for (i = 0; i < this.focusableParts.length; i++) {\r\n            const focusablePart1 = this.focusableParts[i];\r\n            const focusablePart2 = this.focusableParts[i + 1];\r\n            if (focusablePart1.start <= pos && pos <= focusablePart1.end) {\r\n                // the position is within the first segment\r\n                segmentIndex = i;\r\n                break;\r\n            }\r\n            if (focusablePart2) {\r\n                if (focusablePart1.end < pos && pos < focusablePart2.start) {\r\n                    const whitespaceLength = 1;\r\n                    if (pos < focusablePart2.start - whitespaceLength) {\r\n                        // the position is at '1 <here>d 2 h' >> first fragment\r\n                        segmentIndex = i;\r\n                    } else {\r\n                        // the position is at '1 d<here> 2 h' >> second fragment\r\n                        segmentIndex = i + 1;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return segmentIndex;\r\n    },\r\n\r\n    getSegmentValue(index) {\r\n        const segments = [];\r\n        for (let i = 0; i < this.focusableParts.length; i++) {\r\n            // matches '123 d' segment\r\n            segments.push('(\\\\S*)\\\\s+\\\\S*');\r\n        }\r\n        const regexStr = `^\\\\s*${segments.join('\\\\s+')}$`;\r\n        const result = new RegExp(regexStr, 'g').exec(this.ui.input.value);\r\n        return index !== undefined ? result[index + 1] : result.slice(1, this.focusableParts.length + 1);\r\n    },\r\n\r\n    setSegmentValue(index, value, replace) {\r\n        let val = this.getSegmentValue(index);\r\n        val = !replace ? parseInt(val) + value : value;\r\n        if (val < 0) {\r\n            return false;\r\n        }\r\n        val = val.toString();\r\n        if (val.length > this.focusableParts[index].maxLength) {\r\n            return false;\r\n        }\r\n        const str = this.ui.input.value;\r\n        this.ui.input.value = str.substr(0, this.focusableParts[index].start) + val + str.substr(this.focusableParts[index].end);\r\n        return true;\r\n    },\r\n\r\n    atSegmentEnd(position) {\r\n        const index = this.getSegmentIndex(position);\r\n        return position === this.focusableParts[index].end;\r\n    },\r\n\r\n    atSegmentStart(position) {\r\n        const index = this.getSegmentIndex(position);\r\n        return position === this.focusableParts[index].start;\r\n    },\r\n\r\n    __value(value, triggerChange) {\r\n        if (value === this.value) {\r\n            return;\r\n        }\r\n        this.value = value;\r\n        if (triggerChange) {\r\n            this.__triggerChange();\r\n        }\r\n    },\r\n\r\n    __keydown(event) {\r\n        if (event.ctrlKey || this.readonly) {\r\n            return;\r\n        }\r\n        const position = this.getCaretPos();\r\n        const index = this.getSegmentIndex(position);\r\n        const focusablePart = this.focusableParts[index];\r\n        switch (event.keyCode) {\r\n            case keyCode.UP:\r\n                if (this.setSegmentValue(index, 1)) {\r\n                    this.initSegmentStartEnd();\r\n                    this.setCaretPos(focusablePart.end);\r\n                }\r\n                return false;\r\n            case keyCode.DOWN:\r\n                if (this.setSegmentValue(index, -1)) {\r\n                    this.initSegmentStartEnd();\r\n                    this.setCaretPos(focusablePart.end);\r\n                }\r\n                return false;\r\n            case keyCode.PAGE_UP:\r\n                if (this.setSegmentValue(index, 10)) {\r\n                    this.initSegmentStartEnd();\r\n                    this.setCaretPos(focusablePart.end);\r\n                }\r\n                return false;\r\n            case keyCode.PAGE_DOWN:\r\n                if (this.setSegmentValue(index, -10)) {\r\n                    this.initSegmentStartEnd();\r\n                    this.setCaretPos(focusablePart.end);\r\n                }\r\n                return false;\r\n            case keyCode.LEFT:\r\n                if (this.atSegmentStart(position)) {\r\n                    this.__setCaretToPreviousPart(index);\r\n                    return false;\r\n                }\r\n                break;\r\n            case keyCode.RIGHT:\r\n                if (this.atSegmentEnd(position)) {\r\n                    this.__setCaretToNextPart(index);\r\n                    return false;\r\n                }\r\n                break;\r\n            case keyCode.DELETE:\r\n                if (this.atSegmentEnd(position)) {\r\n                    this.__setCaretToNextPart(index);\r\n                    return false;\r\n                }\r\n                this.__replaceModeFor(['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'], '0');\r\n                this.setCaretPos(this.getCaretPos() + 1); //move right\r\n                event.preventDefault();\r\n                return false;\r\n            case keyCode.BACKSPACE:\r\n                if (this.atSegmentStart(position)) {\r\n                    this.__setCaretToPreviousPart(index);\r\n                    return false;\r\n                }\r\n                this.__replaceModeFor(['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'], '0', 'left');\r\n                this.setCaretPos(this.getCaretPos() - 1); //move left\r\n                event.preventDefault();\r\n                break;\r\n            case keyCode.ESCAPE:\r\n                this.ui.input.blur();\r\n                this.__updateState({\r\n                    mode: stateModes.VIEW\r\n                });\r\n                return false;\r\n            case keyCode.ENTER:\r\n                this.__blur();\r\n                return false;\r\n            case keyCode.TAB: {\r\n                const delta = event.shiftKey ? -1 : 1;\r\n                if (this.focusableParts[index + delta]) {\r\n                    this.setCaretPos(this.focusableParts[index + delta].start);\r\n                    return false;\r\n                }\r\n                break;\r\n            }\r\n            case keyCode.HOME:\r\n                this.setCaretPos(this.focusableParts[0].start);\r\n                return false;\r\n            case keyCode.END:\r\n                this.setCaretPos(this.focusableParts[this.focusableParts.length - 1].end);\r\n                return false;\r\n            default: {\r\n                let charValue = null;\r\n                if (event.keyCode >= keyCode.NUM_0 && event.keyCode <= keyCode.NUM_9) {\r\n                    charValue = event.keyCode - keyCode.NUM_0;\r\n                } else if (event.keyCode >= keyCode.NUMPAD_0 && event.keyCode <= keyCode.NUMPAD_9) {\r\n                    charValue = event.keyCode - keyCode.NUMPAD_0;\r\n                }\r\n                const valid = charValue !== null;\r\n                if (!valid) {\r\n                    return false;\r\n                }\r\n                this.__replaceModeFor(['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']);\r\n                if (this.getSegmentValue(index).length >= focusablePart.maxLength) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    __keyup(event) {\r\n        if (event.ctrlKey || this.readonly) {\r\n            return;\r\n        }\r\n        if ((event.keyCode >= keyCode.NUM_0 && event.keyCode <= keyCode.NUM_9) || \r\n        (event.keyCode >= keyCode.NUMPAD_0 && event.keyCode <= keyCode.NUMPAD_9) || \r\n        event.keyCode === keyCode.DELETE) {\r\n            const position = this.getCaretPos();\r\n            const index = this.getSegmentIndex(position);\r\n            const focusablePart = this.focusableParts[index];\r\n            const segmentValue = this.getSegmentValue(index);\r\n            if (segmentValue.length < focusablePart.maxLength) {\r\n                return;\r\n            }\r\n            if (this.atSegmentEnd(position)) {\r\n                if (this.options.normalTime) {\r\n                    this.setSegmentValue(index, this.__floorTime(segmentValue, focusablePart.id), true);\r\n                }\r\n                this.__setCaretToNextPart(index);\r\n            }\r\n        }\r\n        if (event.keyCode === keyCode.BACKSPACE) {\r\n            const position = this.getCaretPos();\r\n            const index = this.getSegmentIndex(position);\r\n            const focusablePart = this.focusableParts[index];\r\n            if (this.getSegmentValue(index).length < focusablePart.maxLength) {\r\n                return;\r\n            }\r\n            if (this.atSegmentStart(position)) {\r\n                this.__setCaretToPreviousPart(index);\r\n            }\r\n        }\r\n    },\r\n\r\n    __floorTime(segValue, id) {\r\n        const maxValue = {\r\n            [focusablePartId.DAYS]: 31,\r\n            [focusablePartId.HOURS]: 23,\r\n            [focusablePartId.MINUTES]: 59,\r\n            [focusablePartId.SECONDS]: 59\r\n        };\r\n        return Number(segValue) > maxValue[id] ? maxValue[id] : segValue;\r\n    },\r\n\r\n    __setCaretToNextPart(index) {\r\n        if (this.focusableParts[index + 1]) {\r\n            this.setCaretPos(this.focusableParts[index + 1].start);\r\n        }\r\n    },\r\n\r\n    __setCaretToPreviousPart(index) {\r\n        if (this.focusableParts[index - 1]) {\r\n            this.setCaretPos(this.focusableParts[index - 1].end);\r\n        }\r\n    },\r\n\r\n    __replaceModeFor(arrChar, insertChar, direction = 'right') {\r\n        const inpValue = this.ui.input.value;\r\n        const dirClarity = direction === 'left' ? 1 : 0;\r\n        const caretPos = this.getCaretPos();\r\n        const valueAfterCaret = inpValue[caretPos - dirClarity];\r\n        if (arrChar.some(char => char === valueAfterCaret)) {\r\n            this.ui.input.value = this.__replaceChar(inpValue, caretPos - dirClarity, insertChar);\r\n            this.setCaretPos(caretPos);\r\n        }\r\n    },\r\n\r\n    __replaceChar(str, i, insertChar = '') {\r\n        return str.substr(0, i) + insertChar + str.slice(i + 1);\r\n    },\r\n\r\n    initSegmentStartEnd() {\r\n        const values = this.getSegmentValue();\r\n        let start = 0;\r\n        for (let i = 0; i < this.focusableParts.length; i++) {\r\n            const focusablePart = this.focusableParts[i];\r\n            if (i > 0) {\r\n                // counting whitespace before the value of the segment\r\n                start++;\r\n            }\r\n            focusablePart.start = start;\r\n            focusablePart.end = focusablePart.start + values[i].length;\r\n            start = focusablePart.end + focusablePart.text.length;\r\n        }\r\n    },\r\n\r\n    __createInputString(value, editable) {\r\n        // The methods creates a string which reflects current mode (view/edit) and value.\r\n        // The string is set into UI in __updateState\r\n\r\n        const isNull = value === null;\r\n        const seconds = !isNull ? value.seconds : 0;\r\n        const minutes = !isNull ? value.minutes : 0;\r\n        const hours = !isNull ? value.hours : 0;\r\n        const days = !isNull ? value.days : 0;\r\n        const data = {\r\n            [focusablePartId.DAYS]: days,\r\n            [focusablePartId.HOURS]: hours,\r\n            [focusablePartId.MINUTES]: minutes,\r\n            [focusablePartId.SECONDS]: seconds\r\n        };\r\n\r\n        if (!this.options.showEmptyParts && !editable) {\r\n            if (isNull) {\r\n                // null value is rendered as empty text\r\n                return '';\r\n            }\r\n            const filledSegments = this.focusableParts.filter(part => Boolean(data[part.id]));\r\n            if (filledSegments.length > 0) {\r\n                // returns string like '0d 4h 32m'\r\n                return filledSegments.reduce((p, seg) => `${p}${data[seg.id]}${seg.text} `, '').trim();\r\n            }\r\n            // returns string like '0d'\r\n            return `0${this.focusableParts[0].text}`;\r\n        }\r\n        // always returns string with all editable segments like '0 d 5 h 2 m'\r\n        return this.focusableParts\r\n            .map(seg => {\r\n                const val = data[seg.id];\r\n                let valStr = this.options.showEmptyParts ? String(val) : _.isNumber(val) ? String(val) : '';\r\n                valStr = this.options.fillZero ? this.__fillZero(valStr, seg.maxLength) : valStr;\r\n                return valStr + seg.text;\r\n            })\r\n            .join(' ');\r\n    },\r\n\r\n    __fillZero(string, length) {\r\n        const mask = '000000000000';\r\n        return (mask + string).slice(-length);\r\n    },\r\n\r\n    __normalizeDuration(value) {\r\n        // Data normalization:\r\n        // Object like this: { days: 2, hours: 3, minutes: 133, seconds: 0 }\r\n        // Is converted into this: { days: 2, hours: 5, minutes: 13, seconds: 0 }\r\n        // But if hours segment is disallowed, it will look like this: { days: 2, hours: 0, minutes: 313, seconds: 0 } // 313 = 133 + 3*60\r\n\r\n        if (value === null) {\r\n            return null;\r\n        }\r\n        let totalMilliseconds = moment.duration(value).asMilliseconds();\r\n        const result = {\r\n            days: 0,\r\n            hours: 0,\r\n            minutes: 0,\r\n            seconds: 0\r\n        };\r\n        this.focusableParts.forEach(seg => {\r\n            result[seg.id] = Math.floor(totalMilliseconds / seg.milliseconds);\r\n            totalMilliseconds %= seg.milliseconds;\r\n        });\r\n        return result;\r\n    },\r\n\r\n    setValue(value, triggerChange) {\r\n        this.__value(value, triggerChange);\r\n        this.__updateState({\r\n            mode: stateModes.VIEW,\r\n            displayValue: dateHelpers.durationISOToObject(value)\r\n        });\r\n    },\r\n\r\n    __updateState(newState) {\r\n        // updates inner state variables\r\n        // updates UI\r\n\r\n        if (!newState.mode || (newState.mode === stateModes.EDIT && newState.displayValue !== undefined)) {\r\n            helpers.throwInvalidOperationError(\"The operation is inconsistent or isn't supported by this logic.\");\r\n        }\r\n\r\n        if (this.state.mode === newState.mode && newState.mode === stateModes.EDIT) {\r\n            return;\r\n        }\r\n\r\n        this.state.mode = newState.mode;\r\n        if (newState.displayValue !== undefined) {\r\n            this.state.displayValue = newState.displayValue;\r\n        }\r\n\r\n        this.state.displayValue = this.__normalizeDuration(this.state.displayValue);\r\n        const inEditMode = this.state.mode === stateModes.EDIT;\r\n        const val = this.__createInputString(this.state.displayValue, inEditMode);\r\n        this.ui.input.value = val;\r\n        if (this.options.showTitle && !inEditMode) {\r\n            this.el.setAttribute('title', val);\r\n        }\r\n        this.el.classList.toggle(classes.FOCUSED, inEditMode);\r\n    },\r\n\r\n    __onMouseenter() { //todo permissions\r\n        if (this.options.hideClearButton) {\r\n            return;\r\n        }\r\n        this.el.insertAdjacentHTML('beforeend', this.value ? iconWrapRemove : iconWrapNumber);\r\n    },\r\n\r\n    __onMouseleave() { //todo permissions\r\n        if (this.options.hideClearButton) {\r\n            return;\r\n        }\r\n        this.el.removeChild(this.el.lastElementChild);\r\n    }\r\n}));\r\n","// @flow\r\nimport template from './templates/expressionEditor.html';\r\nimport PopupView from './impl/expression/views/PopupView';\r\nimport SelectButtonView from './impl/expression/views/SelectButtonView';\r\nimport OptionItemCollectionView from './impl/expression/views/OptionItemCollectionView';\r\nimport ContextView from './impl/expression/views/ContextView';\r\nimport defaultScriptTemplate from './impl/expression/templates/defaultScript.html';\r\nimport formRepository from '../formRepository';\r\nimport BaseLayoutEditorView from '../editors/base/BaseLayoutEditorView';\r\nimport WindowService from '../../services/WindowService';\r\nimport dropdownFactory from '../../dropdown/factory';\r\nimport LocalizationService from '../../services/LocalizationService';\r\n\r\n//Value format: { type: <<value|expression|script>>, value: <<value array or single value|expression text|script text>>}\r\n//Example: { type: 'value', value: 'Some text' }\r\n\r\n// used as function because Localization service is not initialized yet\r\nconst defaultOptions = () => ({\r\n    showExpression: true,\r\n    defaultExpression: '',\r\n    showScript: true,\r\n    showValue: true,\r\n    showContext: false,\r\n    enabled: true,\r\n    valueEditor: formRepository.editors.Text,\r\n    valueEditorOptions: {},\r\n    emptyText: Localizer.get('CORE.FORM.EDITORS.EXPRESSION.EMPTYTEXT')\r\n});\r\n\r\nexport default (formRepository.editors.Expression = BaseLayoutEditorView.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    regions: {\r\n        valueContainer: '.js-value-container',\r\n        contextContainer: '.js-context-container',\r\n        selectType: '.js-select-type'\r\n    },\r\n\r\n    ui: {\r\n        value: '.js-value-container',\r\n        expression: '.js-expression-container',\r\n        script: '.js-script-container',\r\n        context: '.js-context-container'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.expression': 'onShowPopup',\r\n        'click @ui.script': 'onShowPopup'\r\n    },\r\n\r\n    defaultScriptText: Handlebars.compile(defaultScriptTemplate),\r\n\r\n    initialize(options = {}) {\r\n        const defOps = defaultOptions();\r\n        _.defaults(this.options, _.pick(options.schema ? options.schema : options, Object.keys(defOps)), defOps);\r\n\r\n        if (_.isString(this.options.valueEditor)) {\r\n            this.options.valueEditor = formRepository.editors[this.options.valueEditor];\r\n        }\r\n        if (_.isEmpty(this.value)) {\r\n            this.value = {};\r\n        }\r\n        this.options.valueEditorOptions = Object.assign(this.options.valueEditorOptions, {\r\n            enabled: this.options.enabled\r\n        });\r\n    },\r\n\r\n    onRender() {\r\n        this.createOptionCollection();\r\n\r\n        this.addValueEditor();\r\n        this.addExpressionEditor();\r\n        this.addScriptEditor();\r\n        this.addContextEditor();\r\n\r\n        this.renderValueOptionPopout();\r\n\r\n        if (!_.isEmpty(this.value)) {\r\n            this.__showValueType();\r\n            this.__showEditorValue();\r\n        }\r\n    },\r\n\r\n    createOptionCollection() {\r\n        this.valueOptionCollection = new Backbone.Collection();\r\n    },\r\n\r\n    addValueEditor() {\r\n        if (!this.options.showValue) {\r\n            return;\r\n        }\r\n        const initialValue = this.getValue();\r\n        this.valueOptionCollection.add(\r\n            new Backbone.Model({\r\n                id: 'value',\r\n                name: LocalizationService.get('CORE.FORM.EDITORS.EXPRESSION.VALUE'),\r\n                alias: LocalizationService.get('CORE.FORM.EDITORS.EXPRESSION.VALUEALIAS')\r\n            })\r\n        );\r\n\r\n        this.valueEditor = new this.options.valueEditor(\r\n            Object.assign(this.options.valueEditorOptions, {\r\n                value: initialValue.type === 'value' ? initialValue.value : null\r\n            })\r\n        );\r\n        this.showChildView('valueContainer', this.valueEditor);\r\n        this.listenTo(this.valueEditor, 'change', () => this.__updateValue(this.valueEditor.getValue(), true));\r\n    },\r\n\r\n    addExpressionEditor() {\r\n        if (!this.options.showExpression) {\r\n            return;\r\n        }\r\n        this.valueOptionCollection.add(\r\n            new Backbone.Model({\r\n                id: 'expression',\r\n                name: LocalizationService.get('CORE.FORM.EDITORS.EXPRESSION.EXPRESSION'),\r\n                alias: LocalizationService.get('CORE.FORM.EDITORS.EXPRESSION.EXPRESSIONALIAS')\r\n            })\r\n        );\r\n        this.ui.expression.innerHtml = this.options.defaultExpression;\r\n        this.ui.expression.data('value', this.options.defaultExpression);\r\n    },\r\n\r\n    addScriptEditor() {\r\n        if (!this.options.showScript) {\r\n            return;\r\n        }\r\n        this.valueOptionCollection.add(\r\n            new Backbone.Model({\r\n                id: 'script',\r\n                name: LocalizationService.get('CORE.FORM.EDITORS.EXPRESSION.CSHARPSCRIPT'),\r\n                alias: LocalizationService.get('CORE.FORM.EDITORS.EXPRESSION.CSHARPALIAS')\r\n            })\r\n        );\r\n        this.ui.script.innerHtml = this.defaultScriptText;\r\n        this.ui.script.data('value', this.defaultScriptText);\r\n    },\r\n\r\n    addContextEditor() {\r\n        if (!this.options.showContext) {\r\n            return;\r\n        }\r\n        const contextOptions = _.pick(this.options.schema || this.options, 'recordTypeId', 'context', 'propertyTypes', 'usePropertyTypes', 'popoutFlow', 'allowBlank');\r\n\r\n        const initialValue = this.getValue();\r\n        Object.assign(contextOptions, {\r\n            value: initialValue.type === 'context' ? initialValue.value : null\r\n        });\r\n\r\n        this.contextValueEditor = new ContextView(contextOptions);\r\n        this.showChildView('contextContainer', this.contextValueEditor);\r\n\r\n        this.valueOptionCollection.add(\r\n            new Backbone.Model({\r\n                id: 'context',\r\n                name: LocalizationService.get('CORE.FORM.EDITORS.EXPRESSION.ATTRIBUTE'),\r\n                alias: LocalizationService.get('CORE.FORM.EDITORS.EXPRESSION.ATTRIBUTEALIAS')\r\n            })\r\n        );\r\n\r\n        this.listenTo(this.contextValueEditor, 'change', () => this.__updateValue(this.contextValueEditor.getValue(), true));\r\n\r\n        this.ui.script.innerHtml = LocalizationService.get('CORE.FORM.EDITORS.EXPRESSION.EMPTYTEXT');\r\n    },\r\n\r\n    renderValueOptionPopout() {\r\n        if (this.valueOptionCollection.length === 0) {\r\n            throw new Error('Al least one value option should be specified');\r\n        }\r\n        let selOptionModel;\r\n\r\n        if (!_.isEmpty(this.value.type)) {\r\n            selOptionModel = this.valueOptionCollection.findWhere({ id: this.value.type });\r\n        }\r\n        if (!selOptionModel) {\r\n            selOptionModel = this.valueOptionCollection.at(0);\r\n        }\r\n\r\n        this.valueOptionCollection.select(selOptionModel);\r\n        this.__updateValueType(selOptionModel.id);\r\n\r\n        this.buttonModel = new Backbone.Model({ name: selOptionModel.get('alias') });\r\n        if (this.valueOptionCollection.length === 1 || !this.options.enabled) {\r\n            const buttonView = new SelectButtonView({ model: this.buttonModel });\r\n            this.showChildView('selectType', buttonView);\r\n        } else {\r\n            const popoutOptions = {\r\n                buttonView: SelectButtonView,\r\n                buttonViewOptions: {\r\n                    model: this.buttonModel\r\n                },\r\n                panelView: OptionItemCollectionView,\r\n                panelViewOptions: {\r\n                    collection: this.valueOptionCollection\r\n                },\r\n                popoutFlow: 'left'\r\n            };\r\n            const popoutView = dropdownFactory.createDropdown(popoutOptions);\r\n            this.showChildView('selectType', popoutView);\r\n\r\n            this.listenTo(popoutView, 'execute', (id, model) => {\r\n                if (model.id === 'expression' || model.id === 'script') {\r\n                    this.__showPopup(model);\r\n                } else {\r\n                    this.__valueTypeSelected(model);\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    updateValueEditor(editor = this.valueEditor) {\r\n        if (Array.isArray(this.value.value) && this.value.value.length === 1) {\r\n            editor.setValue(this.value.value[0]);\r\n        } else {\r\n            editor.setValue(this.value.value);\r\n        }\r\n    },\r\n\r\n    updateContextEditor() {\r\n        this.contextValueEditor.setValue(this.value.value);\r\n    },\r\n\r\n    updateDefaultEditor() {\r\n        this.ui[this.value.type].classList.toggle('empty', _.isEmpty(this.value.value));\r\n        this.ui[this.value.type].innerHtml = _.isEmpty(this.value.value) ? LocalizationService.get('CORE.FORM.EDITORS.EXPRESSION.EMPTYTEXT') : this.value.value;\r\n    },\r\n\r\n    __valueTypeSelected(model) {\r\n        this.valueOptionCollection.select(model);\r\n        this.buttonModel.set('name', model.get('alias'));\r\n        this.__updateValueType(model.id, true);\r\n    },\r\n\r\n    setValue(value) {\r\n        this.__value(value, false);\r\n    },\r\n\r\n    __value(value, triggerChange) {\r\n        if (_.isEqual(this.value, value)) {\r\n            return;\r\n        }\r\n        this.__updateValueType(value.type);\r\n        this.__updateValue(value.value);\r\n\r\n        if (triggerChange) {\r\n            this.__triggerChange();\r\n        }\r\n    },\r\n\r\n    onShowPopup() {\r\n        this.__showPopup();\r\n    },\r\n\r\n    __showPopup(model) {\r\n        if (this.options.enabled) {\r\n            const value = model\r\n                ? {\r\n                    type: model.id,\r\n                    value: this.ui[model.id].data('value')\r\n                }\r\n                : _.clone(this.value);\r\n\r\n            const popupView = new PopupView({\r\n                value\r\n            });\r\n            WindowService.showPopup(popupView);\r\n\r\n            this.listenToOnce(popupView, 'accept', newValue => {\r\n                if (model) {\r\n                    this.__valueTypeSelected(model);\r\n                }\r\n                this.__updateValue(newValue, true);\r\n            });\r\n        }\r\n    },\r\n\r\n    __updateValueType(valueType, triggerChange) {\r\n        if (this.value.type === valueType) {\r\n            return;\r\n        }\r\n        this.value = {\r\n            type: valueType,\r\n            value: this.__getEditorValueByType(valueType)\r\n        };\r\n        this.__showValueType();\r\n\r\n        if (triggerChange) {\r\n            this.__triggerChange();\r\n        }\r\n    },\r\n\r\n    __showValueType() {\r\n        if (!this.el.innerText) {\r\n            return;\r\n        }\r\n        this.ui.value.classList.toggle('hidden', this.value.type !== 'value');\r\n        this.ui.expression.classList.toggle('hidden', this.value.type !== 'expression');\r\n        this.ui.script.classList.toggle('hidden', this.value.type !== 'script');\r\n        this.ui.context.classList.toggle('hidden', this.value.type !== 'context');\r\n\r\n        const valueTypeModel = this.valueOptionCollection.find(f => f.get('id') === this.value.type);\r\n        if (valueTypeModel && this.buttonModel) {\r\n            this.valueOptionCollection.select(valueTypeModel);\r\n            this.buttonModel.set('name', valueTypeModel.get('alias'));\r\n        }\r\n    },\r\n\r\n    __updateValue(value, triggerChange) {\r\n        if (this.value.value === value) {\r\n            return;\r\n        }\r\n        this.value = {\r\n            type: this.value.type,\r\n            value\r\n        };\r\n        this.__showEditorValue();\r\n\r\n        if (triggerChange) {\r\n            this.__triggerChange();\r\n        }\r\n    },\r\n\r\n    __getEditorValueByType(editorType) {\r\n        switch (editorType) {\r\n            case 'value':\r\n                return (this.valueEditor && this.valueEditor.getValue()) || null;\r\n            case 'context':\r\n                return (this.contextValueEditor && this.contextValueEditor.getValue()) || null;\r\n            default:\r\n                return null;\r\n        }\r\n    },\r\n\r\n    __showEditorValue() {\r\n        if (!this.el.innerText) {\r\n            return;\r\n        }\r\n        this.ui[this.value.type].data('value', this.value.value);\r\n        if (this.value.type === 'value') {\r\n            this.updateValueEditor();\r\n        } else if (this.value.type === 'context') {\r\n            this.updateContextEditor();\r\n        } else {\r\n            this.updateDefaultEditor();\r\n        }\r\n    }\r\n}));\r\n","//@flow\r\nimport IconButtonView from './impl/iconEditor/views/IconButtonView';\r\nimport IconPanelView from './impl/iconEditor/views/IconPanelView';\r\nimport template from './impl/iconEditor/templates/iconEditorComponentView.html';\r\nimport iconPalette from './impl/iconEditor/iconPalette';\r\nimport icons from './impl/iconEditor/icons';\r\nimport BaseLayoutEditorView from './base/BaseLayoutEditorView';\r\n\r\nconst constants = {\r\n    iconPropertyDefaultName: 'iconClass'\r\n};\r\n\r\n/*\r\n * options parameters:\r\n *\r\n * @param model\r\n * @param modelIconProperty - name of model property. 'iconClass' as default\r\n */\r\n\r\nexport default BaseLayoutEditorView.extend({\r\n    initialize(options) {\r\n        const modelIconProperty = options.modelIconProperty;\r\n\r\n        if (modelIconProperty && modelIconProperty !== constants.iconPropertyDefaultName) {\r\n            this.model.set('iconClass', this.model.get(options.modelIconProperty));\r\n        }\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'editor editor_icon',\r\n\r\n    regions: {\r\n        iconSelectorHeaderRegion: '.js-icon-selector-header'\r\n    },\r\n\r\n    ui: {\r\n        deleteIconButton: '.js-delete-icon'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.deleteIconButton': '__onDeleteIconClick'\r\n    },\r\n\r\n    onRender() {\r\n        !this.model.get('color') && this.model.set('color', '#000000');\r\n\r\n        this.popupPanel = Core.dropdown.factory.createDropdown({\r\n            buttonView: IconButtonView,\r\n            panelView: IconPanelView,\r\n            buttonViewOptions: {\r\n                model: this.model\r\n            },\r\n            panelViewOptions: {\r\n                collection: this.__getConfig(),\r\n                model: this.model\r\n            },\r\n            autoOpen: true\r\n        });\r\n\r\n        this.popupPanel.on('panel:click:item', id => {\r\n            this.ui.deleteIconButton.removeAttribute('displayNone');;\r\n            this.model.set('iconClass', id);\r\n            this.trigger('click:item', id);\r\n            this.close();\r\n        });\r\n\r\n        this.showChildView('iconSelectorHeaderRegion', this.popupPanel);\r\n        if (!this.model.get('iconClass')) {\r\n            this.ui.deleteIconButton.setAttribute('displayNone', true);\r\n        }\r\n    },\r\n\r\n    open() {\r\n        this.popupPanel.open();\r\n    },\r\n\r\n    close() {\r\n        this.popupPanel.close();\r\n    },\r\n\r\n    isEmptyValue() {\r\n        return !this.model.has('iconClass');\r\n    },\r\n\r\n    __getConfig() {\r\n        return new Backbone.Collection(\r\n            Object.values(iconPalette).map((value) => ({\r\n                name: value.label,\r\n                groupItems: value.icons.map(icon => Object.assign({\r\n                        filter: icons[icon.id].search.terms\r\n                    }, icon)\r\n                )\r\n            }))\r\n        );\r\n    },\r\n\r\n    __onDeleteIconClick() {\r\n        this.model.set('iconClass', null);\r\n        this.trigger('click:item', null);\r\n        this.ui.deleteIconButton.setAttribute('displayNone', true);\r\n    }\r\n});\r\n","// @flow\r\nimport template from './templates/membersSplitPanelEditor.html';\r\nimport MembersSplitController from './impl/membersSplit/controller/MembersSplitController';\r\nimport formRepository from '../formRepository';\r\nimport BaseLayoutEditorView from './base/BaseLayoutEditorView';\r\nimport WindowService from '../../services/WindowService';\r\n\r\n// used as function because Localization service is not initialized yet\r\nconst defaultOptions = () => ({\r\n    exclude: [],\r\n    displayText: '',\r\n    hideUsers: false,\r\n    hideGroups: false,\r\n    hideToolbar: false,\r\n    maxQuantitySelected: null,\r\n    allowRemove: true,\r\n    title: '',\r\n    itemsToSelectText: Localizer.get('CORE.FORM.EDITORS.MEMBERSPLIT.USERSTOSELECT'),\r\n    selectedItemsText: Localizer.get('CORE.FORM.EDITORS.MEMBERSPLIT.SELECTEDUSERS'),\r\n    searchPlaceholder: Localizer.get('CORE.FORM.EDITORS.MEMBERSPLIT.SEARCHUSERS'),\r\n    emptyListText: Localizer.get('CORE.FORM.EDITORS.MEMBERSPLIT.EMPTYLIST'),\r\n    users: undefined,\r\n    groups: undefined,\r\n    showMode: null,\r\n    cacheService: undefined,\r\n    getDisplayText: null\r\n});\r\n\r\nexport default (formRepository.editors.MembersSplit = BaseLayoutEditorView.extend({\r\n    initialize(options = {}) {\r\n        _.defaults(this.options, _.pick(options.schema ? options.schema : options, Object.keys(defaultOptions())), defaultOptions());\r\n\r\n        const defOps = Object.assign(defaultOptions(), {\r\n            users:\r\n                options.users ||\r\n                options.cacheService.GetUsers().map(user => ({\r\n                    id: user.Id,\r\n                    name: user.Text || user.Username,\r\n                    abbreviation: user.abbreviation,\r\n                    userpicUri: user.userpicUri,\r\n                    type: 'users'\r\n                })),\r\n            groups:\r\n                options.groups ||\r\n                options.cacheService.GetGroups().map(group => ({\r\n                    id: group.id,\r\n                    name: group.name,\r\n                    type: 'groups'\r\n                }))\r\n        });\r\n\r\n        _.defaults(this.options, _.pick(options.schema ? options.schema : options, Object.keys(defOps)), defOps);\r\n\r\n        this.options.selected = this.getValue();\r\n\r\n        this.controller = new MembersSplitController(this.options);\r\n        if (this.getOption('showMode') !== 'button') {\r\n            this.controller.on('popup:ok', () => {\r\n                this.__value(this.options.selected, true);\r\n            });\r\n        }\r\n    },\r\n\r\n    className: 'member-split',\r\n\r\n    focusElement: null,\r\n\r\n    attributes: {\r\n        tabindex: 0\r\n    },\r\n\r\n    regions: {\r\n        splitPanelRegion: '.js-split-panel-region'\r\n    },\r\n\r\n    ui: {\r\n        membersEditor: '.js-members-editor',\r\n        membersText: '.js-members-text'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.membersEditor': '__showPopup'\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        return {\r\n            displayText: this.options.displayText,\r\n            showButton: this.getOption('showMode') === 'button'\r\n        };\r\n    },\r\n\r\n    setValue(value) {\r\n        this.__value(value, false);\r\n    },\r\n\r\n    onRender() {\r\n        if (this.getOption('showMode') !== 'button') {\r\n            this.controller.initItems();\r\n\r\n            this.showChildView('splitPanelRegion', this.controller.view);\r\n        }\r\n    },\r\n\r\n    reloadCollection(users: Array<{ id: string, name: string }>, groups: Array<{ id: string, name: string }>): void {\r\n        this.options.users = users;\r\n        this.options.groups = groups;\r\n        this.controller.fillInModel();\r\n        this.controller.initItems();\r\n    },\r\n\r\n    __showPopup() {\r\n        if (!this.getEnabled()) {\r\n            return;\r\n        }\r\n        this.options.selected = this.getValue();\r\n        this.controller.initItems();\r\n\r\n        const popup = new Core.layout.Popup({\r\n            size: {\r\n                width: '980px',\r\n                height: '700px'\r\n            },\r\n            header: this.getOption('title') || Localizer.get('CORE.FORM.EDITORS.MEMBERSPLIT.MEMBERSTITLE'),\r\n            buttons: [\r\n                {\r\n                    id: 'close',\r\n                    text: Localizer.get('CORE.FORM.EDITORS.MEMBERSPLIT.CANCEL'),\r\n                    customClass: 'btn-small btn-outline',\r\n                    handler: () => {\r\n                        this.controller.cancelMembers();\r\n                        Core.services.WindowService.closePopup();\r\n                    }\r\n                },\r\n                {\r\n                    id: 'save',\r\n                    text: Localizer.get('CORE.FORM.EDITORS.MEMBERSPLIT.APPLY'),\r\n                    customClass: 'btn-small',\r\n                    handler: () => {\r\n                        this.controller.updateMembers();\r\n                        this.__value(this.options.selected, true);\r\n                        Core.services.WindowService.closePopup();\r\n                    }\r\n                }\r\n            ],\r\n            content: this.controller.view\r\n        });\r\n\r\n        WindowService.showPopup(popup);\r\n    },\r\n\r\n    __updateText() {\r\n        this.ui.membersText.innerHTML = this.controller.getDisplayText();\r\n    },\r\n\r\n    __value(value, triggerChange) {\r\n        if (this.getOption('showMode') === 'button') {\r\n            this.__updateText();\r\n        }\r\n        this.value = value;\r\n\r\n        if (triggerChange) {\r\n            this.__triggerChange();\r\n        }\r\n    }\r\n}));\r\n","// @flow\r\nimport template from './templates/mentionEditor.hbs';\r\nimport dropdown from 'dropdown';\r\nimport { keyCode } from 'utils';\r\nimport BaseLayoutEditorView from './base/BaseLayoutEditorView';\r\nimport membersFactory from './impl/members/services/factory';\r\nimport TextAreaEditorView from './TextAreaEditorView';\r\nimport LocalizationService from '../../services/LocalizationService';\r\nimport formRepository from '../formRepository';\r\n\r\nconst defaultOptions = {\r\n    editorOptions: undefined\r\n};\r\n\r\n/**\r\n * @name MentionEditorView\r\n * @memberof module:core.form.editors\r\n * @class       (mentions).   : <code>String</code>\r\n * (  ). , <code>'Hello, @alex!'</code>.   \r\n *   <code>core.services.CacheService</code>.\r\n * @extends module:core.form.editors.base.BaseEditorView\r\n * @param {Object} options Options object. All the properties of {@link module:core.form.editors.base.BaseEditorView BaseEditorView} class are also supported.\r\n * @param {Number} [options.editorOptions=Object]    {@link module:core.form.editors.TextAreaEditorView TextAreaEditorView}.\r\n * */\r\nexport default (formRepository.editors.Mention = BaseLayoutEditorView.extend({\r\n    initialize(options = {}) {\r\n        _.defaults(this.options, _.pick(options.schema ? options.schema : options, Object.keys(defaultOptions)), defaultOptions);\r\n\r\n        this.__createViewModel();\r\n    },\r\n\r\n    __createViewModel() {\r\n        this.viewModel = new Backbone.Model();\r\n        const membersCollection = membersFactory.createMembersCollection();\r\n        this.viewModel.set('availableMembers', membersCollection);\r\n        this.viewModel.set(\r\n            'membersByUserName',\r\n            membersCollection.reduce((memo, value) => {\r\n                memo[value.get('userName')] = value;\r\n                return memo;\r\n            }, {})\r\n        );\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    regions: {\r\n        dropdownRegion: '.js-dropdown-region'\r\n    },\r\n\r\n    events: {\r\n        'keydown:captured': '__handleKeydown'\r\n    },\r\n\r\n    onRender() {\r\n        if (this.dropdownView) {\r\n            this.stopListening(this.dropdownView);\r\n        }\r\n        this.dropdownView = dropdown.factory.createDropdown({\r\n            buttonView: TextAreaEditorView,\r\n            buttonViewOptions: _.extend({}, this.options.editorOptions || {}, {\r\n                model: this.model,\r\n                readonly: this.getReadonly(),\r\n                enabled: this.getEnabled(),\r\n                key: this.key,\r\n                autocommit: this.options.autocommit,\r\n                emptyPlaceholder: LocalizationService.get('CORE.FORM.EDITORS.MENTIONS.PLACEHOLDER')\r\n            }),\r\n            panelView: membersFactory.getMembersListView(),\r\n            panelViewOptions: {\r\n                collection: this.viewModel.get('availableMembers')\r\n            },\r\n            autoOpen: false,\r\n            renderAfterClose: false\r\n        });\r\n\r\n        this.showChildView('dropdownRegion', this.dropdownView);\r\n        this.listenTo(this.dropdownView, 'button:change', this.__onTextChange);\r\n        this.listenTo(this.dropdownView, 'button:focus', this.__onFocus);\r\n        this.listenTo(this.dropdownView, 'button:blur', this.__onBlur);\r\n        this.listenTo(this.dropdownView, 'button:input', this.__onInput);\r\n        this.listenTo(this.dropdownView, 'button:caretChange', this.__onCaretChange);\r\n        this.listenTo(this.dropdownView, 'panel:member:select', this.__onMemberSelect);\r\n        _.each(this.keyboardShortcuts, (v, k) => {\r\n            this.dropdownView.button.addKeyboardListener(k, v.bind(this));\r\n        });\r\n\r\n        // We discarded it during render phase, so we do it now.\r\n        this.setPermissions(this.enabled, this.readonly);\r\n        this.setValue(this.value);\r\n    },\r\n\r\n    __handleKeydown(e) {\r\n        switch (e.keyCode) {\r\n            case keyCode.UP:\r\n                if (!this.dropdownView.isOpen) {\r\n                    return true;\r\n                }\r\n                this.__sendPanelCommand('up');\r\n                this.__updateMentionInText();\r\n                return false;\r\n            case keyCode.DOWN:\r\n                if (!this.dropdownView.isOpen) {\r\n                    return true;\r\n                }\r\n                this.__sendPanelCommand('down');\r\n                this.__updateMentionInText();\r\n                return false;\r\n            case keyCode.ENTER:\r\n            case keyCode.NUMPAD_ENTER:\r\n                if (!this.dropdownView.isOpen) {\r\n                    return true;\r\n                }\r\n                this.__updateMentionInText();\r\n                this.dropdownView.close();\r\n                return false;\r\n            case keyCode.ESCAPE:\r\n                this.dropdownView.close();\r\n                return false;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n\r\n    __value(value): void {\r\n        this.setValue(value);\r\n        this.__triggerChange();\r\n    },\r\n\r\n    __onTextChange(): void {\r\n        this.value = this.dropdownView.button.getValue();\r\n        this.__triggerChange();\r\n    },\r\n\r\n    __onFocus(): void {\r\n        this.trigger('focus', this);\r\n    },\r\n\r\n    __onBlur(): void {\r\n        this.trigger('blur', this);\r\n    },\r\n\r\n    __onInput(text: string, caret: { start: number, end: number }): void {\r\n        // 1. Open dropdown when: @ is immediately before caret, @ is at start or prepended by whitespace\r\n        // 2. Maintain dropdown open (and filter the list) when: text between caret and @ matches username pattern [a-zA-Z0-9_\\.]\r\n        // 3. Hide dropdown when: username text doesn't match\r\n        // 4. track caret change and hide dropdown if resulting username patters doesn't match\r\n        // 5. hide dropdown on blur\r\n\r\n        const leftFragment = text.substring(0, caret.end);\r\n\r\n        const regex = /(?:\\s|^)@([a-z0-9_\\.]*)$/i;\r\n        const match = leftFragment.match(regex);\r\n        if (match) {\r\n            const userName = match[1];\r\n            this.dropdownView.open();\r\n            const collection = this.viewModel.get('availableMembers');\r\n            collection.applyTextFilter(userName);\r\n            if (collection.length === 0) {\r\n                this.dropdownView.close();\r\n            }\r\n            this.mentionState = {\r\n                start: caret.end - userName.length,\r\n                end: caret.end,\r\n                text\r\n            };\r\n        } else {\r\n            this.dropdownView.close();\r\n        }\r\n    },\r\n\r\n    __onCaretChange(text, caret) {\r\n        if (this.dropdownView.isOpen) {\r\n            this.__onInput(text, caret);\r\n        }\r\n    },\r\n\r\n    __onMemberSelect(): void {\r\n        this.__updateMentionInText();\r\n        this.dropdownView.close();\r\n    },\r\n\r\n    __updateMentionInText(): void {\r\n        const selectedMember = this.viewModel.get('availableMembers').selected;\r\n        if (!selectedMember) {\r\n            return;\r\n        }\r\n\r\n        const editor = this.dropdownView.button;\r\n        const text = this.mentionState.text;\r\n\r\n        let mention = selectedMember.get('userName') || '';\r\n        if (mention && !text.substring(this.mentionState.end).match(/^\\s/)) {\r\n            mention += ' ';\r\n        }\r\n\r\n        const updatedText = text.substring(0, this.mentionState.start) + mention + text.substring(this.mentionState.end);\r\n        editor.setValue(updatedText);\r\n        editor.setCaretPos(this.mentionState.start + mention.length);\r\n        this.value = updatedText;\r\n        this.__triggerChange();\r\n    },\r\n\r\n    /**\r\n     *   ,   .\r\n     * @return {String[]}    ,   .\r\n     * */\r\n    getMentions(): Array<any> {\r\n        const text = this.getValue();\r\n        const regex = /(?:\\s|^)@([a-z0-9_\\.]+)/gi;\r\n        const members = this.viewModel.get('membersByUserName');\r\n\r\n        const result = [];\r\n        while (true) {\r\n            const matches = regex.exec(text);\r\n            if (!matches) {\r\n                break;\r\n            }\r\n            const userName = matches[1];\r\n            const member = members[userName];\r\n            if (member) {\r\n                result.push(member.id);\r\n            }\r\n        }\r\n        return _.uniq(result);\r\n    },\r\n\r\n    setValue(value) {\r\n        if (this.dropdownView) {\r\n            this.dropdownView.button.setValue(value);\r\n            this.value = this.dropdownView.button.getValue();\r\n        } else {\r\n            this.value = value;\r\n        }\r\n    },\r\n\r\n    __sendPanelCommand(command, options) {\r\n        if (this.dropdownView.isOpen) {\r\n            this.dropdownView.panelView.handleCommand(command, options);\r\n        }\r\n    },\r\n\r\n    __setEnabled(enabled: boolean): void {\r\n        BaseLayoutEditorView.prototype.__setEnabled.call(this, enabled);\r\n        if (this.dropdownView) {\r\n            this.dropdownView.button.setEnabled(enabled);\r\n        }\r\n    },\r\n\r\n    __setReadonly(readonly: boolean): void {\r\n        BaseLayoutEditorView.prototype.__setReadonly.call(this, readonly);\r\n        if (this.dropdownView) {\r\n            this.dropdownView.button.setReadonly(readonly);\r\n        }\r\n    }\r\n}));\r\n","// @flow\r\nimport template from './impl/newExpressionEditor/templates/newExpression.html';\r\nimport BaseLayoutEditorView from './base/BaseLayoutEditorView';\r\nimport DatalistEditorView from './DatalistEditorView';\r\nimport formRepository from '../formRepository';\r\nimport LocalizationService from '../../services/LocalizationService';\r\n\r\nconst valueTypes = {\r\n    value: 'value',\r\n    context: 'context',\r\n    expression: 'expression',\r\n    script: 'script'\r\n};\r\n\r\nconst classes = {\r\n    inline: 'dev-expression-editor-field-inline'\r\n};\r\n\r\nconst defaultOptions = {\r\n    showValue: true,\r\n    showContext: true,\r\n    showExpression: true,\r\n    showScript: true,\r\n    enabled: true,\r\n    valueEditor: formRepository.editors.Text,\r\n    valueEditorOptions: {},\r\n    defaultType: valueTypes.value,\r\n    expressionEditorHeight: 300,\r\n    scriptEditorHeight: 300,\r\n    codeEditorMode: 'normal',\r\n    displayInline: false,\r\n    ontologyService: null\r\n};\r\n\r\nexport default (formRepository.editors.NewExpression = BaseLayoutEditorView.extend({\r\n    className: 'new-expression-editor-field',\r\n\r\n    regions: {\r\n        typeContainer: '.js-new-expression-type-container',\r\n        valueContainer: '.js-new-expression-value-container',\r\n        contextContainer: '.js-new-expression-context-container',\r\n        scriptContainer: '.js-new-expression-script-container',\r\n        expressionContainer: '.js-new-expression-expression-container'\r\n    },\r\n\r\n    ui: {\r\n        type: '.js-new-expression-type-container',\r\n        value: '.js-new-expression-value-container',\r\n        context: '.js-new-expression-context-container',\r\n        script: '.js-new-expression-script-container',\r\n        expression: '.js-new-expression-expression-container'\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        return this.options;\r\n    },\r\n\r\n    initialize(options = {}) {\r\n        _.defaults(this.options, _.pick(options.schema ? options.schema : options, Object.keys(defaultOptions)), defaultOptions);\r\n\r\n        _.extend(this, _.pick(options, 'field'));\r\n        if (_.isString(this.options.valueEditor)) {\r\n            this.options.valueEditor = formRepository.editors[this.options.valueEditor];\r\n        }\r\n        if (!this.value || !Object.keys(this.value).length) {\r\n            this.value = {\r\n                type: this.options.defaultType,\r\n                value: null\r\n            };\r\n        }\r\n        this.options.valueEditorOptions = _.extend(this.options.valueEditorOptions, {\r\n            enabled: this.options.enabled\r\n        });\r\n    },\r\n\r\n    setValue(oldValue) {\r\n        let value = oldValue;\r\n        if (!value || !Object.keys(this.value).length) {\r\n            value = {\r\n                type: this.options.defaultType,\r\n                value: null\r\n            };\r\n        }\r\n\r\n        if (_.isEqual(this.value, value)) {\r\n            return;\r\n        }\r\n        this.typeEditor.setValue(value.type || valueTypes.value);\r\n        switch (value.type) {\r\n            case valueTypes.value:\r\n                if (!this.valueEditor) {\r\n                    return;\r\n                }\r\n                if (Array.isArray(this.value.value) && this.value.value.length === 1) {\r\n                    this.valueEditor.setValue(this.value.value[0]);\r\n                } else {\r\n                    this.valueEditor.setValue(this.value.value);\r\n                }\r\n                break;\r\n            case valueTypes.context:\r\n                if (!this.contextEditor) {\r\n                    return;\r\n                }\r\n                this.contextEditor.setValue(value.value);\r\n                break;\r\n            case valueTypes.expression:\r\n                if (!this.expressionEditor) {\r\n                    return;\r\n                }\r\n                this.expressionEditor.setValue(value.value);\r\n                break;\r\n            case valueTypes.script:\r\n                if (!this.scriptEditor) {\r\n                    return;\r\n                }\r\n                this.scriptEditor.setValue(value.value);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n\r\n    onRender() {\r\n        this.valueTypeCollection = new Backbone.Collection(null, { comparator: false });\r\n        this.__showValueEditor();\r\n        this.__showContextEditor();\r\n        this.__showExpressionEditor();\r\n        this.__showScriptEditor();\r\n        this.__showTypeEditor();\r\n        this.__updateEditorState();\r\n        if (this.options.displayInline) {\r\n            this.el.classList.add(classes.inline);\r\n        }\r\n    },\r\n\r\n    __showTypeEditor() {\r\n        if (this.valueTypeCollection.length === 0) {\r\n            throw new Error('Al least one value option should be specified');\r\n        }\r\n        if (!this.valueTypeCollection.get(this.value.type)) {\r\n            this.value.type = this.valueTypeCollection.at(0).id;\r\n        }\r\n        this.typeEditor = new DatalistEditorView({\r\n            collection: this.valueTypeCollection,\r\n            allowEmptyValue: false,\r\n            valueType: 'id'\r\n        });\r\n        this.typeEditor.on('change', () => {\r\n            this.__updateEditorValue();\r\n            this.__updateEditorState();\r\n        });\r\n\r\n        if (this.valueTypeCollection.length === 1) {\r\n            this.ui.type.setAttribute('displayNone', true);\r\n        }\r\n        this.showChildView('typeContainer', this.typeEditor);\r\n        this.typeEditor.setValue(this.value.type);\r\n    },\r\n\r\n    __showValueEditor() {\r\n        if (!this.options.showValue) {\r\n            return;\r\n        }\r\n        this.valueTypeCollection.add({\r\n            id: valueTypes.value,\r\n            text: LocalizationService.get('CORE.FORM.EDITORS.EXPRESSION.VALUE')\r\n        });\r\n\r\n        const value = this.value.value;\r\n\r\n        this.valueEditor = new this.options.valueEditor(\r\n            _.extend(this.options.valueEditorOptions, {\r\n                value: this.value.type === valueTypes.value ? value : null\r\n            })\r\n        );\r\n\r\n        this.valueEditor.on('change', this.__updateEditorValue, this);\r\n        this.showChildView('valueContainer', this.valueEditor);\r\n    },\r\n\r\n    __showContextEditor() {\r\n        if (!this.options.showContext) {\r\n            return;\r\n        }\r\n\r\n        const contextOptions = _.pick(this.options.schema || this.options, 'recordTypeId', 'context', 'propertyTypes', 'usePropertyTypes', 'popoutFlow', 'allowBlank');\r\n\r\n        _.extend(contextOptions, {\r\n            value: this.value.type === valueTypes.context ? this.value.value : null\r\n        });\r\n\r\n        this.contextEditor = new formRepository.editors.ContextSelect(contextOptions);\r\n        this.contextEditor.on('change', this.__updateEditorValue, this);\r\n        this.showChildView('contextContainer', this.contextEditor);\r\n\r\n        this.valueTypeCollection.add({\r\n            id: valueTypes.context,\r\n            text: LocalizationService.get('CORE.FORM.EDITORS.EXPRESSION.ATTRIBUTE')\r\n        });\r\n    },\r\n\r\n    __showExpressionEditor() {\r\n        if (!this.options.showExpression) {\r\n            return;\r\n        }\r\n        this.valueTypeCollection.add({\r\n            id: valueTypes.expression,\r\n            text: LocalizationService.get('CORE.FORM.EDITORS.EXPRESSION.EXPRESSION')\r\n        });\r\n\r\n        const expressionEditorOptionsOptions = {\r\n            value: this.value.type === valueTypes.expression ? this.value.value : null,\r\n            mode: 'expression',\r\n            height: this.options.expressionEditorHeight,\r\n            showMode: this.options.codeEditorMode,\r\n            ontologyService: this.options.ontologyService\r\n        };\r\n\r\n        this.expressionEditor = new formRepository.editors.Code(expressionEditorOptionsOptions);\r\n        this.expressionEditor.on('change', this.__updateEditorValue, this);\r\n        this.showChildView('expressionContainer', this.expressionEditor);\r\n    },\r\n\r\n    __showScriptEditor() {\r\n        if (!this.options.showScript) {\r\n            return;\r\n        }\r\n        this.valueTypeCollection.add({\r\n            id: valueTypes.script,\r\n            text: LocalizationService.get('CORE.FORM.EDITORS.EXPRESSION.CSHARPSCRIPT')\r\n        });\r\n\r\n        const scriptEditorOptionsOptions = {\r\n            value: this.value.type === valueTypes.script ? this.value.value : null,\r\n            mode: 'script',\r\n            height: this.options.scriptEditorHeight,\r\n            showMode: this.options.codeEditorMode,\r\n            ontologyService: this.options.ontologyService\r\n        };\r\n\r\n        this.scriptEditor = new formRepository.editors.Code(scriptEditorOptionsOptions);\r\n        this.scriptEditor.on('change', this.__updateEditorValue, this);\r\n        this.showChildView('scriptContainer', this.scriptEditor);\r\n    },\r\n\r\n    __updateEditorState() {\r\n        this.ui.value.classList.toggle('hidden', this.value.type !== valueTypes.value);\r\n        this.ui.expression.classList.toggle('hidden', this.value.type !== valueTypes.expression);\r\n        this.ui.script.classList.toggle('hidden', this.value.type !== valueTypes.script);\r\n        this.ui.context.classList.toggle('hidden', this.value.type !== valueTypes.context);\r\n    },\r\n\r\n    __updateEditorValue() {\r\n        const type = this.typeEditor.getValue();\r\n        let value;\r\n        switch (type) {\r\n            case valueTypes.value:\r\n                value = this.valueEditor.getValue();\r\n                break;\r\n            case valueTypes.context:\r\n                value = this.contextEditor.getValue();\r\n                break;\r\n            case valueTypes.expression:\r\n                value = this.expressionEditor ? this.expressionEditor.getValue() : null;\r\n                break;\r\n            case valueTypes.script:\r\n                value = this.scriptEditor ? this.scriptEditor.getValue() : null;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.value = { type, value };\r\n        this.__triggerChange();\r\n    },\r\n\r\n    __setReadonly(readonly) {\r\n        BaseLayoutEditorView.prototype.__setReadonly.call(this, readonly);\r\n\r\n        this.typeEditor.setReadonly(readonly);\r\n        switch (this.value && this.value.type) {\r\n            case valueTypes.value:\r\n                this.valueEditor.setReadonly(readonly);\r\n                break;\r\n            case valueTypes.context:\r\n                this.contextEditor.setReadonly(readonly);\r\n                break;\r\n            case valueTypes.expression:\r\n                this.expressionEditor.setReadonly(readonly);\r\n                break;\r\n            case valueTypes.script:\r\n                this.scriptEditor.setReadonly(readonly);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}));\r\n","import template from './templates/numberEditor.hbs';\r\nimport BaseItemEditorView from './base/BaseItemEditorView';\r\nimport formRepository from '../formRepository';\r\nimport iconWrapRemove from './iconsWraps/iconWrapRemove.html';\r\nimport iconWrapNumber from './iconsWraps/iconWrapNumber.html';\r\nimport { maskInput, createNumberMask } from 'lib';\r\n\r\nconst changeMode = {\r\n    keydown: 'keydown',\r\n    blur: 'blur'\r\n};\r\n\r\nconst defaultOptions = {\r\n    max: undefined,\r\n    min: 0,\r\n    allowFloat: false,\r\n    changeMode: changeMode.blur,\r\n    format: undefined,\r\n    showTitle: true,\r\n    class: undefined\r\n};\r\n\r\n/**\r\n * @name NumberEditorView\r\n * @memberof module:core.form.editors\r\n * @class   .   : <code>Number</code>.\r\n * @extends module:core.form.editors.base.BaseEditorView\r\n * @param {Object} options Options object. All the properties of {@link module:core.form.editors.base.BaseEditorView BaseEditorView} class are also supported.\r\n * @param {Boolean} [options.allowFloat=false]  <code>true</code>,       .\r\n * @param {String} [options.changeMode='blur']     :<ul>\r\n *     <li><code>'keydown'</code> -   .</li>\r\n *     <li><code>'blur'</code> -   .</li></ul>\r\n * @param {Number} [options.max=null]   .  <code>null</code>,  .\r\n * @param {Number} [options.min=0]   .  <code>null</code>,  .\r\n * @param {String} [options.format=null] A [NumeralJS](http://numeraljs.com/) format string (e.g. '$0,0.00' etc.).\r\n * @param {Boolean} {options.showTitle=true} Whether to show title attribute.\r\n * */\r\n\r\nexport default (formRepository.editors.Number = BaseItemEditorView.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    focusElement: '.js-input',\r\n\r\n    className() {\r\n        _.defaults(this.options, _.pick(this.options.schema ? this.options.schema : this.options, Object.keys(defaultOptions)), defaultOptions);\r\n\r\n        return `${this.options.class || ''} editor editor_number`;\r\n    },\r\n\r\n    initialize(options) {\r\n        if (options.format) {\r\n            this.thousandsSeparator = Core.services.LocalizationService.thousandsSeparatorSymbol;\r\n            this.decimalSymbol = Core.services.LocalizationService.decimalSymbol;\r\n            this.numberMask = createNumberMask({\r\n                prefix: '',\r\n                thousandsSeparatorSymbol: this.thousandsSeparator,\r\n                decimalSymbol: this.decimalSymbol,\r\n                allowDecimal: options.allowFloat,\r\n                requireDecimal: options.allowFloat,\r\n                allowNegative: true\r\n            });\r\n        }\r\n    },\r\n    ui: {\r\n        input: '.js-input'\r\n    },\r\n\r\n    events: {\r\n        'click .js-clear-button': '__clear',\r\n        'keyup @ui.input': '__keyup',\r\n        'change @ui.input': '__onChange',\r\n        mouseenter: '__onMouseenter',\r\n        mouseleave: '__onMouseleave'\r\n    },\r\n\r\n    onRender() {\r\n        this.__setInputOptions();\r\n        this.__value(this.value, false, false, true);\r\n    },\r\n\r\n    onAttach() {\r\n        if (this.options.format) {\r\n            this.maskedInputController = maskInput({\r\n                inputElement: this.ui.input,\r\n                mask: this.numberMask\r\n            });\r\n        }\r\n    },\r\n\r\n    onDestroy() {\r\n        this.maskedInputController && this.maskedInputController.destroy();\r\n    },\r\n\r\n    __keyup() {\r\n        const value = this.ui.input.value;\r\n        if (value === `-${this.decimalSymbol}`) {\r\n            return;\r\n        }\r\n        if (this.options.changeMode === changeMode.keydown) {\r\n            this.__value(value, true, true, false);\r\n        } else {\r\n            this.__value(value, true, false, false);\r\n        }\r\n    },\r\n\r\n    __onChange() {\r\n        const input = this.ui.input;\r\n        const max = input[0].getAttribute('max');\r\n        const min = input[0].getAttribute('min');\r\n        const value = this.__checkMaxMinValue(input.value, max, min);\r\n        this.__value(value, false, true, false);\r\n        if (this.options.format) {\r\n            this.maskedInputController && this.maskedInputController.textMaskInputElement.update(value);\r\n        } else {\r\n            this.ui.input.value = value;\r\n        }\r\n    },\r\n\r\n    __checkMaxMinValue(value, max, min) {\r\n        let val = this.__parseToNumber(value);\r\n        if (max) {\r\n            val = val > Number(max) ? max : val;\r\n        }\r\n        if (min) {\r\n            val = val < Number(min) ? min : val;\r\n        }\r\n        return this.__parseToString(val);\r\n    },\r\n\r\n    setValue(value) {\r\n        this.__value(value, false, false, false);\r\n    },\r\n\r\n    isEmptyValue() {\r\n        return !_.isNumber(this.getValue());\r\n    },\r\n\r\n    __setActive(el, isActive) {\r\n        el.classList.toggle('ui-state-active', isActive);\r\n    },\r\n\r\n    __setEnabled(enabled) {\r\n        BaseItemEditorView.prototype.__setEnabled.call(this, enabled);\r\n        this.ui.input.setAttribute('disabled', !enabled);\r\n    },\r\n\r\n    __setReadonly(readonly) {\r\n        BaseItemEditorView.prototype.__setReadonly.call(this, readonly);\r\n        if (this.getEnabled()) {\r\n            this.ui.input.setAttribute('readonly', readonly);\r\n            this.ui.input.setAttribute('tabindex', readonly ? -1 : 0);\r\n        }\r\n    },\r\n\r\n    __clear() {\r\n        this.__value(null, false, true, false);\r\n        this.focus();\r\n        return false;\r\n    },\r\n\r\n    __value(newValue, suppressRender, triggerChange, force) {\r\n        let value = newValue;\r\n        if ((value === this.value && !force) || value === '-') {\r\n            return;\r\n        }\r\n\r\n        let parsed;\r\n        if (value !== '' && value !== null) {\r\n            parsed = this.__parse(value);\r\n            if (parsed !== null) {\r\n                if (!this.options.allowFloat) {\r\n                    value = Math.round(parsed);\r\n                } else {\r\n                    value = parsed;\r\n                }\r\n            } else {\r\n                value = null;\r\n            }\r\n        } else if (value === '') {\r\n            value = null;\r\n        }\r\n\r\n        this.value = value;\r\n        if (this.options.showTitle) {\r\n            this.el.setAttribute('title', value);\r\n        }\r\n\r\n        if (!this.options.format || this.ui.input.value === '' || value === null) {\r\n            this.ui.input.value = value;\r\n        }\r\n\r\n        if (triggerChange) {\r\n            this.__triggerChange();\r\n        }\r\n    },\r\n\r\n    __parse(value) {\r\n        let val = value;\r\n\r\n        if (typeof val === 'string' && val !== '') {\r\n            val = this.__parseToNumber(val);\r\n            if (val === Number.POSITIVE_INFINITY) {\r\n                val = Number.MAX_VALUE;\r\n            } else if (val === Number.NEGATIVE_INFINITY) {\r\n                val = Number.MIN_VALUE;\r\n            }\r\n        }\r\n\r\n        return val === '' || isNaN(val) ? null : val;\r\n    },\r\n\r\n    __onMouseenter() {\r\n        this.el.insertAdjacentHTML('beforeend', this.value ? iconWrapRemove : iconWrapNumber);\r\n    },\r\n\r\n    __onMouseleave() {\r\n        this.el.removeChild(this.el.lastElementChild);\r\n    },\r\n\r\n    __setInputOptions() {\r\n        this.ui.input.setAttribute('min', this.options.min);\r\n        this.ui.input.setAttribute('max', this.options.max);\r\n        this.ui.input.setAttribute('step', this.options.step);\r\n    },\r\n\r\n    __parseToNumber(string) {\r\n        let newValue = string.replace(new RegExp(`\\\\${this.thousandsSeparator}`, 'g'), '');\r\n        newValue = newValue.replace(new RegExp(`\\\\${this.decimalSymbol}`, 'g'), '.');\r\n        newValue = newValue.replace(/[^\\d\\.-]*/g, '');\r\n\r\n        return parseFloat(newValue);\r\n    },\r\n\r\n    __parseToString(number) {\r\n        return String(number).replace(new RegExp('\\\\.', 'g'), this.decimalSymbol);     \r\n    }\r\n}));\r\n","// @flow\r\nimport TextEditorView from './TextEditorView';\r\nimport template from './templates/passwordEditor.hbs';\r\nimport formRepository from '../formRepository';\r\n\r\n/**\r\n * @name PasswordEditorView\r\n * @memberof module:core.form.editors\r\n * @class     .   : <code>String</code>.\r\n * @extends module:core.form.editors.TextEditorView\r\n * @param {Object} options Options object. Doesn't have it's own options.\r\n * All the properties of {@link module:core.form.editors.base.BaseEditorView BaseEditorView} class are also supported.\r\n * */\r\nexport default (formRepository.editors.Password = TextEditorView.extend({\r\n    initialize(options) {\r\n        TextEditorView.prototype.initialize.call(this, options);\r\n        this.options.showTitle = false;\r\n    },\r\n\r\n    template: Handlebars.compile(template)\r\n}));\r\n","// @flow\r\nimport BaseCollectionEditorView from './base/BaseCollectionEditorView';\r\nimport RadioButtonView from './impl/radioGroup/views/RadioButtonView';\r\nimport RadioGroupCollection from './impl/radioGroup/collections/RadioGroupCollection';\r\nimport formRepository from '../formRepository';\r\nimport keyCode from '../../utils/keyCode';\r\n\r\nconst defaultOptions = {\r\n    radioOptions: [{ id: '', displayText: '' }]\r\n};\r\n\r\n/**\r\n * @name RadioGroupEditorView\r\n * @memberof module:core.form.editors\r\n * @class -.      \r\n * ( {@link module:core.form.editors.DropdownEditorView DropdownEditorView}).     \r\n *      <code>id</code>   <code>radioOptions</code>.\r\n * @extends module:core.form.editors.base.BaseEditorView\r\n * @param {Object} options Options object. All the properties of {@link module:core.form.editors.base.BaseEditorView BaseEditorView} class are also supported.\r\n * @param {Array} options.radioOptions   <code>{ id, displayText, displayHtml, title }</code>,  -.\r\n * */\r\nformRepository.editors.RadioGroup = BaseCollectionEditorView.extend(\r\n    /** @lends module:core.form.editors.RadioGroupEditorView.prototype */ {\r\n        initialize() {\r\n            this.collection = new RadioGroupCollection(this.options.radioOptions);\r\n            this.listenTo(this.collection, 'select:one', this.__onSelectChild);\r\n        },\r\n\r\n        className() {\r\n            _.defaults(this.options, _.pick(this.options.schema ? this.options.schema : this.options, Object.keys(defaultOptions)), defaultOptions);\r\n\r\n            return `${this.options.class || ''}`;\r\n        },\r\n\r\n        childView: RadioButtonView,\r\n\r\n        events: {\r\n            keydown: '__onKeyDown'\r\n        },\r\n\r\n        childViewOptions() {\r\n            return {\r\n                selected: this.getValue(),\r\n                enabled: this.getEnabled() && !this.getReadonly()\r\n            };\r\n        },\r\n\r\n        __onSelectChild(model) {\r\n            this.__value(model.get('id'), true);\r\n        },\r\n\r\n        setValue(value) {\r\n            this.__value(value, false);\r\n        },\r\n\r\n        __setEnabled(enabled) {\r\n            BaseCollectionEditorView.prototype.__setEnabled.call(this, enabled);\r\n            const isEnabled = this.getEnabled() && !this.getReadonly();\r\n            this.children.each(cv => {\r\n                cv.setEnabled(isEnabled);\r\n            });\r\n        },\r\n\r\n        __setReadonly(readonly) {\r\n            BaseCollectionEditorView.prototype.__setReadonly.call(this, readonly);\r\n            const isEnabled = this.getEnabled() && !this.getReadonly();\r\n            this.children.each(cv => {\r\n                cv.setEnabled(isEnabled);\r\n            });\r\n            if (this.getEnabled()) {\r\n                this.el.setAttribute('tabindex', readonly ? -1 : 0);\r\n            }\r\n        },\r\n\r\n        __value(value, triggerChange) {\r\n            if (this.value === value) {\r\n                return;\r\n            }\r\n            this.value = value;\r\n            this.collection.findWhere({ id: value }).select();\r\n            if (triggerChange) {\r\n                this.__triggerChange();\r\n            }\r\n        },\r\n\r\n        __onKeyDown(event) {\r\n            let direction;\r\n            switch (event.keyCode) {\r\n                case keyCode.DOWN:\r\n                    direction = 1;\r\n                    break;\r\n                case keyCode.UP:\r\n                    direction = -1;\r\n                    break;\r\n                default:\r\n                    direction = 0;\r\n            }\r\n            if (direction !== 0) {\r\n                this.__selectNew(direction);\r\n                event.preventDefault();\r\n            }\r\n        },\r\n\r\n        __selectNew(direction) {\r\n            const currentElement = this.collection.selected;\r\n            const currentIndex = currentElement ? this.collection.indexOf(currentElement) : -1;\r\n            let newElement = this.collection.at(currentIndex + direction);\r\n            if (!newElement) {\r\n                newElement = direction === 1 ? this.collection.at(0) : this.collection.last();\r\n            }\r\n            newElement.select();\r\n        }\r\n    }\r\n);\r\n\r\nexport default formRepository.editors.RadioGroup;\r\n","// @flow\r\nimport BaseItemEditorView from './base/BaseItemEditorView';\r\nimport formRepository from '../formRepository';\r\n\r\n/**\r\n * @name RangeView\r\n * @memberof module:core.form.editors\r\n * @class Slider editor. Supported data type: <code>Number</code>.\r\n * @extends module:core.form.editors.base.BaseEditorView\r\n * @param {Object} options Options object. All the properties of {@link module:core.form.editors.base.BaseEditorView BaseEditorView} class are also supported.\r\n * @param {Number|null} [options.min=1] Minimal value of the slider.\r\n * @param {Number|null} [options.max=100] Maximum value of the slider.\r\n * @param {Number|null} [options.step=1] Change step of the slider.\r\n * @param {Boolean} {options.showTitle=true} Whether to show title attribute.\r\n * */\r\n\r\nexport default (formRepository.editors.RangeEditor = BaseItemEditorView.extend({\r\n        tagName: 'input',\r\n\r\n        template: false,\r\n\r\n        templateContext() {\r\n            return _.extend(this.options, {\r\n                title: this.value || ''\r\n            });\r\n        },\r\n\r\n        setValue(value) {\r\n            this.__value(value, true, false);\r\n        },\r\n\r\n        events: {\r\n            mouseup: '__change'\r\n        },\r\n\r\n        attributes() {\r\n            return {\r\n                min: this.getOption('min'),\r\n                max: this.getOption('max'),\r\n                step: this.getOption('step'),\r\n                type: 'range'\r\n            };\r\n        },\r\n\r\n        __change() {\r\n            this.__value(Number(this.el.value), false, true);\r\n        },\r\n\r\n        onRender() {\r\n            this.el.value = this.getOption('value');\r\n        },\r\n\r\n        __value(value, updateUi, triggerChange) {\r\n            if (this.value === value) {\r\n                return;\r\n            }\r\n            this.value = value;\r\n\r\n            if (triggerChange) {\r\n                this.__triggerChange();\r\n            }\r\n        }\r\n    }\r\n));\r\n","// @flow\r\nimport template from './templates/textAreaEditor.hbs';\r\nimport BaseItemEditorView from './base/BaseItemEditorView';\r\nimport LocalizationService from '../../services/LocalizationService';\r\nimport { keyCode, helpers } from 'utils';\r\nimport { autosize } from 'lib';\r\nimport formRepository from '../formRepository';\r\n\r\nconst changeMode = {\r\n    blur: 'blur',\r\n    keydown: 'keydown'\r\n};\r\n\r\nconst size = {\r\n    auto: 'auto',\r\n    fixed: 'fixed'\r\n};\r\n\r\n// used as function because Localization service is not initialized yet\r\nconst defaultOptions = () => ({\r\n    changeMode: changeMode.blur,\r\n    size: size.auto,\r\n    emptyPlaceholder: LocalizationService.get('CORE.FORM.EDITORS.TEXTAREAEDITOR.PLACEHOLDER'),\r\n    readonlyPlaceholder: LocalizationService.get('CORE.FORM.EDITORS.TEXTAREAEDITOR.READONLYPLACEHOLDER'),\r\n    disablePlaceholder: LocalizationService.get('CORE.FORM.EDITORS.TEXTAREAEDITOR.DISABLEPLACEHOLDER'),\r\n    maxLength: null,\r\n    height: null,\r\n    minHeight: 2,\r\n    maxHeight: null,\r\n    showTitle: true\r\n});\r\n\r\n/**\r\n * @name TextAreaEditorView\r\n * @memberof module:core.form.editors\r\n * @class Multiline text editor. Supported data type: <code>String</code>.\r\n * @extends module:core.form.editors.base.BaseEditorView\r\n * @param {Object} options Options object. All the properties of {@link module:core.form.editors.base.BaseEditorView BaseEditorView} class are also supported.\r\n * @param {Number|null} [options.maxLength=null] The maximum number of characters. Not limited if <code>null</code>.\r\n * @param {String} [options.changeMode='blur'] Determines the moment the editor's value is updated:<ul>\r\n *     <li><code>'keydown'</code> - on key press.</li>\r\n *     <li><code>'blur'</code> - on focus out.</li></ul>\r\n * @param {String} [options.size='auto'] Determines the strategy to compute the editor's height:<ul>\r\n *     <li><code>'auto'</code> - determined by the content (withing the range [<code>minHeight</code>, <code>maxHeight</code>]).</li>\r\n *     <li><code>'fixed'</code> - fixed, determined by <code>height</code> option.</li></ul>\r\n * @param {String} [options.emptyPlaceholder='Field is empty'] Empty text placeholder.\r\n * @param {String} [options.readonlyPlaceholder='Field is readonly']  placeholder, \r\n *       <code>readonly</code>.\r\n * @param {String} [options.disablePlaceholder='Field is disabled']  placeholder, \r\n *       <code>enabled: false</code>.\r\n * @param {Number} [options.height=null] The height of the editor (in rows) when its size is fixed.\r\n * @param {Number} [options.minHeight=2] The minimum height of the editor (in rows).\r\n * @param {Number} [options.maxHeight=30] The maximum height of the editor (in rows).\r\n * @param {Boolean} {options.showTitle=true} Whether to show title attribute.\r\n * */\r\nexport default (formRepository.editors.TextArea = BaseItemEditorView.extend({\r\n    initialize(options = {}) {\r\n        const defOps = defaultOptions();\r\n        _.defaults(this.options, _.pick(options.schema ? options.schema : options, Object.keys(defOps)), defOps);\r\n\r\n        this.placeholder = this.options.emptyPlaceholder;\r\n    },\r\n\r\n    focusElement: '.js-textarea',\r\n    className: 'editor editor_textarea',\r\n\r\n    ui: {\r\n        textarea: '.js-textarea'\r\n    },\r\n\r\n    events: {\r\n        change: '__change',\r\n        'input @ui.textarea': '__input',\r\n        'keyup @ui.textarea': '__keyup'\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        return this.options;\r\n    },\r\n\r\n    onRender() {\r\n        const value = this.getValue() || '';\r\n        this.ui.textarea.value = value;\r\n        if (this.options.showTitle) {\r\n            this.el.setAttribute('title', value);\r\n        }\r\n        switch (this.options.size) {\r\n            case size.auto:\r\n                this.ui.textarea.setAttribute('rows', this.options.minHeight);\r\n                break;\r\n            case size.fixed:\r\n                this.ui.textarea.setAttribute('rows', this.options.height);\r\n                break;\r\n            default:\r\n                helpers.throwArgumentError('Invalid `size parameter`.');\r\n        }\r\n    },\r\n    onAttach() {\r\n        if (this.options.size === size.auto) {\r\n            if (this.options.maxHeight) {\r\n                const maxHeight = parseInt(this.ui.textarea.css('line-height'), 10) * this.options.maxHeight;\r\n                this.ui.textarea.css('maxHeight', maxHeight);\r\n            }\r\n            autosize(this.ui.textarea);\r\n        }\r\n    },\r\n    setPermissions(enabled, readonly) {\r\n        BaseItemEditorView.prototype.setPermissions.call(this, enabled, readonly);\r\n        this.setPlaceholder();\r\n    },\r\n\r\n    setPlaceholder() {\r\n        if (!this.getEnabled()) {\r\n            this.placeholder = this.options.disablePlaceholder;\r\n        } else if (this.getReadonly()) {\r\n            this.placeholder = this.options.readonlyPlaceholder;\r\n        } else {\r\n            this.placeholder = this.options.emptyPlaceholder;\r\n        }\r\n\r\n        this.ui.textarea.setAttribute('placeholder', this.placeholder);\r\n    },\r\n\r\n    __setEnabled(enabled) {\r\n        //noinspection Eslint\r\n        BaseItemEditorView.prototype.__setEnabled.call(this, enabled);\r\n        this.ui.textarea.setAttribute('disabled', !enabled);\r\n    },\r\n\r\n    __setReadonly(readonly) {\r\n        //noinspection Eslint\r\n        BaseItemEditorView.prototype.__setReadonly.call(this, readonly);\r\n        if (this.getEnabled()) {\r\n            this.ui.textarea.setAttribute('readonly', readonly);\r\n            this.ui.textarea.setAttribute('tabindex', readonly ? -1 : 0);\r\n        }\r\n    },\r\n\r\n    __value(value, updateUi, triggerChange) {\r\n        if (this.value === value) {\r\n            return;\r\n        }\r\n        this.value = value;\r\n\r\n        if (this.options.showTitle) {\r\n            this.el.setAttribute('title', value);\r\n        }\r\n        if (updateUi) {\r\n            this.ui.textarea.value = value;\r\n        }\r\n        if (triggerChange) {\r\n            this.__triggerChange();\r\n        }\r\n    },\r\n\r\n    /**\r\n     *     .\r\n     * @param {Number} position   .\r\n     * */\r\n    setCaretPos(position) {\r\n        this.ui.textarea.selectionStart = position;\r\n        this.ui.textarea.selectionEnd = position;\r\n    },\r\n\r\n    setValue(value) {\r\n        this.__value(value, true, false);\r\n    },\r\n\r\n    __change() {\r\n        this.__triggerInput();\r\n        this.__value(this.ui.textarea.val(), false, true);\r\n    },\r\n\r\n    __input() {\r\n        this.__triggerInput();\r\n        if (this.options.changeMode === changeMode.keydown) {\r\n            this.__value(this.ui.textarea.val(), false, true);\r\n        }\r\n    },\r\n\r\n    __keyup(e) {\r\n        if (e.ctrlKey) {\r\n            return;\r\n        }\r\n        if ([keyCode.LEFT, keyCode.RIGHT, keyCode.HOME, keyCode.END].indexOf(e.keyCode) === -1) {\r\n            return;\r\n        }\r\n\r\n        const caret = {\r\n            start: this.ui.textarea[0].selectionStart,\r\n            end: this.ui.textarea[0].selectionEnd\r\n        };\r\n\r\n        if (this.oldCaret && this.oldCaret.start === caret.start && this.oldCaret.end === caret.end) {\r\n            return;\r\n        }\r\n\r\n        this.oldCaret = caret;\r\n        const text = this.ui.textarea.val();\r\n        this.trigger('caretChange', text, caret);\r\n    },\r\n\r\n    __triggerInput() {\r\n        const text = this.ui.textarea.val();\r\n        if (this.oldText === text) {\r\n            return;\r\n        }\r\n\r\n        this.oldText = text;\r\n\r\n        const caret = {\r\n            start: this.ui.textarea[0].selectionStart,\r\n            end: this.ui.textarea[0].selectionEnd\r\n        };\r\n\r\n        this.trigger('input', text, {\r\n            start: caret.start,\r\n            end: caret.end\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Focuses the editor's input and selects all the text in it.\r\n     * */\r\n    select() {\r\n        this.ui.textarea.select();\r\n    }\r\n}));\r\n","import LocalizationService from '../../services/LocalizationService';\r\nimport BaseItemEditorView from './base/BaseItemEditorView';\r\nimport template from './templates/textEditor.hbs';\r\nimport formRepository from '../formRepository';\r\nimport iconWrapRemove from './iconsWraps/iconWrapRemove.html';\r\nimport iconWrapText from './iconsWraps/iconWrapText.html';\r\n\r\nconst changeMode = {\r\n    blur: 'blur',\r\n    keydown: 'keydown'\r\n};\r\n\r\n// used as function because Localization service is not initialized yet\r\nconst defaultOptions = () => ({\r\n    changeMode: 'blur',\r\n    emptyPlaceholder: LocalizationService.get('CORE.FORM.EDITORS.TEXTEDITOR.PLACEHOLDER'),\r\n    maxLength: undefined,\r\n    mask: undefined,\r\n    maskPlaceholder: '_',\r\n    maskOptions: {},\r\n    showTitle: true,\r\n    allowEmptyValue: true,\r\n    class: undefined\r\n});\r\n\r\n/**\r\n * @name TextEditorView\r\n * @memberof module:core.form.editors\r\n * @class   .   : <code>String</code>.\r\n * @extends module:core.form.editors.base.BaseEditorView\r\n * @param {Object} options Options object. All the properties of {@link module:core.form.editors.base.BaseEditorView BaseEditorView} class are also supported.\r\n * @param {Number|null} [options.maxLength=null]   .  <code>null</code>,  .\r\n * @param {String} [options.changeMode='blur']     :<ul>\r\n *     <li><code>'keydown'</code> -   .</li>\r\n *     <li><code>'blur'</code> -   .</li></ul>\r\n * @param {String} [options.emptyPlaceholder='Field is empty']  placeholder.\r\n * @param {String} [options.mask=null]  ,     <code>mask</code> \r\n * [jquery.inputmask](https://github.com/RobinHerbots/jquery.inputmask).\r\n * @param {String} [options.maskPlaceholder='_']    <code>mask</code>,    placeholder .\r\n * @param {Object} [options.maskOptions={}]    <code>mask</code>,      .\r\n * @param {Boolean} {options.showTitle=true} Whether to show title attribute.\r\n * */\r\n\r\nexport default (formRepository.editors.Text = BaseItemEditorView.extend({\r\n    initialize() {\r\n        this.placeholder = this.options.emptyPlaceholder;\r\n    },\r\n\r\n    onAttach() {\r\n        if (this.options.mask) {\r\n            this.ui.input.inputmask(\r\n                Object.assign(\r\n                    {\r\n                        mask: this.options.mask,\r\n                        placeholder: this.options.maskPlaceholder,\r\n                        autoUnmask: true\r\n                    },\r\n                    this.options.maskOptions || {}\r\n                )\r\n            );\r\n        }\r\n    },\r\n\r\n    focusElement: '.js-input',\r\n\r\n    ui: {\r\n        input: '.js-input',\r\n        clearButton: '.js-clear-button'\r\n    },\r\n\r\n    className() {\r\n        const defOps = defaultOptions();\r\n        _.defaults(this.options, _.pick(this.options.schema ? this.options.schema : this.options, Object.keys(defOps)), defOps);\r\n\r\n        return `${this.options.class || ''} editor`;\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        return _.extend(this.options, {\r\n            title: this.value || ''\r\n        });\r\n    },\r\n\r\n    events: {\r\n        'keyup @ui.input': '__keyup',\r\n        'change @ui.input': '__change',\r\n        'click @ui.clearButton': '__clear',\r\n        mouseenter: '__onMouseenter',\r\n        mouseleave: '__onMouseleave'\r\n    },\r\n\r\n    __keyup() {\r\n        if (this.options.changeMode === changeMode.keydown) {\r\n            this.__value(this.ui.input.value, false, true);\r\n        }\r\n\r\n        this.trigger('keyup', this);\r\n    },\r\n\r\n    __change() {\r\n        this.__value(this.ui.input.value, false, true);\r\n    },\r\n\r\n    __clear() {\r\n        this.ui.input.focus();\r\n        this.__value(null, true, false);\r\n        return false;\r\n    },\r\n\r\n    setValue(value) {\r\n        this.__value(value, true, false);\r\n    },\r\n\r\n    setPermissions(enabled, readonly) {\r\n        BaseItemEditorView.prototype.setPermissions.call(this, enabled, readonly);\r\n        this.setPlaceholder();\r\n    },\r\n\r\n    setPlaceholder() {\r\n        if (!this.getEnabled() || this.getReadonly()) {\r\n            this.placeholder = '';\r\n        } else {\r\n            this.placeholder = this.options.emptyPlaceholder;\r\n        }\r\n\r\n        this.ui.input.setAttribute('placeholder', this.placeholder);\r\n    },\r\n\r\n    __setEnabled(enabled) {\r\n        BaseItemEditorView.prototype.__setEnabled.call(this, enabled);\r\n        this.ui.input.setAttribute('disabled', !enabled);\r\n    },\r\n\r\n    __setReadonly(readonly) {\r\n        BaseItemEditorView.prototype.__setReadonly.call(this, readonly);\r\n        if (this.getEnabled()) {\r\n            this.ui.input.setAttribute('readonly', readonly);\r\n            this.ui.input.setAttribute('tabindex', readonly ? -1 : 0);\r\n        }\r\n    },\r\n\r\n    onRender() {\r\n        const value = this.getValue() || '';\r\n        this.ui.input.value = value;\r\n        if (this.options.showTitle) {\r\n            this.ui.input.setAttribute('title', value);\r\n        }\r\n    },\r\n\r\n    __value(value, updateUi, triggerChange) {\r\n        if (this.value === value) {\r\n            return;\r\n        }\r\n        this.value = value;\r\n\r\n        if (this.getOption('showTitle')) {\r\n            this.ui.input.setAttribute('title', value);\r\n        }\r\n        if (updateUi) {\r\n            this.ui.input.value = value;\r\n        }\r\n        if (triggerChange) {\r\n            this.__triggerChange();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Focuses the editor's input and selects all the text in it.\r\n     * */\r\n    select() {\r\n        this.ui.input.select();\r\n    },\r\n\r\n    deselect() {\r\n        this.ui.input.deselect();\r\n    },\r\n\r\n    __onMouseenter() {\r\n        if (this.getEnabled() && !this.getReadonly() && this.options.allowEmptyValue) {\r\n            this.el.insertAdjacentHTML('beforeend', this.value ? iconWrapRemove : iconWrapText);\r\n        }\r\n    },\r\n\r\n    __onMouseleave() {\r\n        if (this.getEnabled() && !this.getReadonly() && this.options.allowEmptyValue) {\r\n            this.el.removeChild(this.el.lastElementChild);\r\n        }\r\n    }\r\n}));\r\n","// @flow\r\nimport DateTimeEditorView from './DateTimeEditorView';\r\nimport formRepository from '../formRepository';\r\n\r\nexport default (formRepository.editors.Time = DateTimeEditorView.extend({\r\n    initialize(options = {}) {\r\n        options.showDate = false;\r\n\r\n        DateTimeEditorView.prototype.initialize.apply(this, arguments);\r\n    }\r\n}));\r\n","// @flow\r\n/*\r\n * This class is fully compatible with Backbone.Form.editors.Base and should be used to create Marionette-based editors for Backbone.Form\r\n * */\r\n\r\nimport MarionetteEditorPrototype from './MarionetteEditorPrototype';\r\n\r\nexport default Marionette.CollectionView.extend(MarionetteEditorPrototype.create(Marionette.CollectionView));\r\n","// @flow\r\n/*\r\n * This class is fully compatible with Backbone.Form.editors.Base and should be used to create Marionette-based editors for Backbone.Form\r\n * */\r\n\r\nimport MarionetteEditorPrototype from './MarionetteEditorPrototype';\r\n\r\nexport default Marionette.CompositeView.extend(MarionetteEditorPrototype.create(Marionette.CompositeView));\r\n","// @flow\r\n\r\n/*\r\n* This class is fully compatible with Backbone.Form.editors.Base and should be used to create Marionette-based editors for Backbone.Form\r\n* */\r\n\r\nimport MarionetteEditorPrototype from './MarionetteEditorPrototype';\r\n\r\nexport default Marionette.View.extend(MarionetteEditorPrototype.create(Marionette.View));\r\n","// @flow\r\n/*\r\n * This class is fully compatible with Backbone.Form.editors.Base and should be used to create Marionette-based editors for Backbone.Form\r\n * */\r\n\r\nimport MarionetteEditorPrototype from './MarionetteEditorPrototype';\r\n\r\nexport default Marionette.View.extend(MarionetteEditorPrototype.create(Marionette.View));\r\n","// @flow\r\n/*\r\n*\r\n* Marionette-based Backbone.Form editor. MUST NOT be used directly. Use EditorBase*View base views instead while implementing Marionette editors.\r\n*\r\n* */\r\n\r\nimport formRepository from '../../formRepository';\r\nimport { keyCode } from 'utils';\r\n\r\nconst classes = {\r\n    disabled: 'editor_disabled',\r\n    readonly: 'editor_readonly',\r\n    hidden: 'editor_hidden',\r\n    FOCUSED: 'editor_focused',\r\n    EMPTY: 'editor_empty'\r\n};\r\n\r\nconst onRender = function() {\r\n    if (this.id) {\r\n        this.el.setAttribute('id', this.id);\r\n    }\r\n    this.setPermissions(this.enabled, this.readonly);\r\n    this.setHidden(this.hidden);\r\n    this.setValue(this.value);\r\n    if (this.focusElement) {\r\n        this.el.querySelector(this.focusElement).addEventListener('focus', this.onFocus);\r\n        this.el.querySelector(this.focusElement).addEventListener('blur', this.onBlur);\r\n        this.el.querySelector(this.focusElement).addEventListener('keyup', this.onKeyup);\r\n    } else if (this.focusElement !== null) {\r\n        this.el.addEventListener('focus', this.onFocus);\r\n        this.el.addEventListener('blur', this.onBlur);\r\n        this.el.addEventListener('keyup', this.onKeyup);\r\n    }\r\n    this.__updateEmpty();\r\n};\r\n\r\nconst onChange = function() {\r\n    if (this.model && this.schema.autocommit) {\r\n        this.commit();\r\n    }\r\n    if (this.__validatedOnce) {\r\n        if (this.form) {\r\n            this.form.validate();\r\n        } else if (this.field) {\r\n            this.field.validate();\r\n        }\r\n    }\r\n    this.__updateEmpty();\r\n};\r\n\r\n/**\r\n * @name BaseEditorView\r\n * @memberof module:core.form.editors.base\r\n * @class Base class for all editors in the library.\r\n * While implementing editors, inherit from one of the following classes which in turn are inherited from this one:<ul>\r\n * <li><code>BaseCollectionEditorView</code></li>\r\n * <li><code>BaseCompositeEditorView</code></li>\r\n * <li><code>BaseLayoutEditorView</code></li>\r\n * <li><code>BaseItemEditorView</code></li></ul>\r\n * Possible events:<ul>\r\n * <li><code>'change' (thisEditorView)</code> - fires when the value inside the editor is changed.\r\n * This event doesn't imply any change in model (!).</li>\r\n * <li><code>'focus' (thisEditorView)</code> - fire when the editor gets the focus.</li>\r\n * <li><code>'blur' (thisEditorView)</code> - fire when the editor loses the focus.</li>\r\n * <li><code>'enabled' (enabled)</code> - fires when the property <code>enabled</code> is changed.</li>\r\n * <li><code>'readonly' (readonly)</code> - fires when the property <code>readonly</code> is changed.</li>\r\n * <li><code>'&lt;key&gt;:committed' (thisEditorView, model, value)</code> - fires when the value is committed into the model.</li>\r\n * <li><code>'value:committed' (thisEditorView, model, key, value)</code> - fires when the value is committed into the model.</li>\r\n * </ul>\r\n * @constructor\r\n * @extends Marionette.View\r\n * @param {Object} options Options object.\r\n * @param {Boolean} [options.autocommit=false] Indicates whether to call <code>commit()</code> method on the value change.\r\n * @param {Boolean} [options.forceCommit=false] Indicated whether to commit the value into the model if editors validation has failed (not recommended).\r\n * @param {Boolean} [options.enabled=true] The initial value of <code>enabled</code> flag. Can be changed later on by calling <code>setEnabled()</code> method.\r\n * @param {Boolean} [options.readonly=false] The initial value of <code>readonly</code> flag.\r\n *                                           Can be changed later on by calling <code>setReadonly()</code> method.\r\n * @param {Boolean} [options.model] A model which contains an attributes edited by this editor.\r\n *                                  Can only be used if the editor is created standalone (without a form).\r\n *                                   Must be used together with  <code>key</code> options.\r\n * @param {Boolean} [options.key] The name of an attribute in <code>options.model</code> edited by this editor.\r\n *                                Can only be used if the editor is created standalone (without a form).\r\n *                                Must be used together with  <code>model</code> options.\r\n * @param {Function[]} [options.validators] An array of validator function which look like the following:\r\n * <code>function(value, formValues) -> ({type, message}|undefined)</code>\r\n * @param {Object} [options.schema] When created implicitly by form, all the editor options are passed through this option.\r\n *   .\r\n * */\r\n\r\nexport default {\r\n    create(viewClass: Marionette.View | Marionette.View | Marionette.CollectionView | Marionette.CompositeView) {\r\n        return {\r\n            classes: {\r\n                disabled: 'editor_disabled',\r\n                readonly: 'editor_readonly',\r\n                hidden: 'editor_hidden',\r\n                FOCUSED: 'editor_focused',\r\n                EMPTY: 'editor_empty'\r\n            },\r\n\r\n            hasFocus: false,\r\n\r\n            constructor(options: Object = {}) {\r\n                _.bindAll(this, 'onFocus', 'onBlur', 'checkChange', 'onKeyup');\r\n\r\n                //Set initial value\r\n                if (options.model) {\r\n                    this.model = options.model;\r\n                    this.value = this.model.get(options.key);\r\n                } else if (options.value !== undefined) {\r\n                    this.value = options.value;\r\n                }\r\n\r\n                if (this.value === undefined) {\r\n                    this.value = null;\r\n                }\r\n\r\n                this.key = options.key;\r\n                this.form = options.form;\r\n                this.field = options.field;\r\n\r\n                const schema = (this.schema = options.schema || {});\r\n\r\n                this.validators = options.validators || schema.validators;\r\n                this.__validatedOnce = false;\r\n\r\n                this.on('render', onRender.bind(this));\r\n                this.on('change', onChange.bind(this));\r\n                this.setValue = _.wrap(this.setValue, (fn, ...rest) => {\r\n                    fn.call(this, ...rest);\r\n                    if (this.el) {\r\n                        this.__updateEmpty();\r\n                    }\r\n                });\r\n\r\n                schema.autocommit = schema.autocommit || options.autocommit;\r\n\r\n                this.enabled = schema.enabled = schema.enabled || options.enabled || (schema.enabled === undefined && options.enabled === undefined);\r\n                this.readonly = schema.readonly = schema.readonly || options.readonly || (schema.readonly !== undefined && options.readonly !== undefined);\r\n                this.hidden = schema.hidden = schema.hidden || options.hidden || (schema.hidden !== undefined && options.hidden !== undefined);\r\n                schema.forceCommit = options.forceCommit || schema.forceCommit;\r\n\r\n                viewClass.prototype.constructor.apply(this, arguments);\r\n                if (this.model) {\r\n                    this.listenTo(this.model, `change:${this.key}`, this.updateValue);\r\n                    this.listenTo(this.model, 'sync', this.updateValue);\r\n                }\r\n            },\r\n\r\n            __updateEmpty() {\r\n                this.el.classList.toggle(classes.EMPTY, this.isEmptyValue());\r\n            },\r\n\r\n            /**\r\n             * Manually updated editor's internal value with the value from <code>this.model.get(this.key)</code>.\r\n             * Shouldn't be called normally. The method is called internally on model's <code>change</code> event.\r\n             * */\r\n            updateValue() {\r\n                this.setValue(this.getModelValue());\r\n            },\r\n\r\n            /**\r\n             * Retrieves actual value of the bound attribute from the model.\r\n             * @return {*}\r\n             * */\r\n            getModelValue() {\r\n                return !this.model ? undefined : this.model.get(this.key);\r\n            },\r\n\r\n            __getFocusElement() {\r\n                if (this.focusElement) {\r\n                    return this.el.querySelector(this.focusElement);\r\n                }\r\n                return this.el;\r\n            },\r\n\r\n            __triggerChange(...args: Array<any>) {\r\n                this.trigger('change', this, ...args);\r\n            },\r\n\r\n            /**\r\n             * Returns internal editor's value.\r\n             * @return {*}\r\n             */\r\n            getValue() {\r\n                return this.value;\r\n            },\r\n\r\n            /**\r\n             * Sets new internal editor's value.\r\n             * @param {*} value The new value.\r\n             */\r\n            setValue(value: Number | String) {\r\n                this.value = value;\r\n            },\r\n\r\n            setPermissions(enabled: Boolean, readonly: Boolean) {\r\n                this.__setEnabled(enabled);\r\n                this.__setReadonly(readonly);\r\n            },\r\n\r\n            /**\r\n             * Sets a new value of <code>enabled</code> flag. While disabled, the editor's value cannot be changed or copied by the user.\r\n             * It's implied that the value doesn't make sense.\r\n             * @param {Boolean} enabled New flag value.\r\n             */\r\n            setEnabled(enabled: Boolean) {\r\n                const readonly = this.getReadonly();\r\n                this.setPermissions(enabled, readonly);\r\n            },\r\n\r\n            /**\r\n             * Sets a new value of <code>readonly</code> flag. While readonly, the editor's value cannot be changed but can be copied by the user.\r\n             * @param {Boolean} readonly New flag value.\r\n             */\r\n            setReadonly(readonly: Boolean) {\r\n                const enabled = this.getEnabled();\r\n                this.setPermissions(enabled, readonly);\r\n            },\r\n\r\n            /**\r\n             * Sets a new value of <code>hidden</code> flag.\r\n             * @param {Boolean} hidden New flag value.\r\n             */\r\n            setHidden(hidden: Boolean) {\r\n                this.hidden = hidden;\r\n                this.el.classList.toggle(classes.hidden, hidden);\r\n            },\r\n\r\n            __setEnabled(enabled: Boolean) {\r\n                this.enabled = enabled;\r\n                this.trigger('enabled', enabled);\r\n                if (!this.enabled) {\r\n                    this.el.classList.add(classes.disabled);\r\n                } else {\r\n                    this.el.classList.remove(classes.disabled);\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Returns the value of `enabled` flag.\r\n             * @return {Boolean}\r\n             */\r\n            getEnabled() {\r\n                return this.enabled;\r\n            },\r\n\r\n            /**\r\n             * Returns the value of `enabled` flag.\r\n             * @return {Boolean}\r\n             */\r\n            getHidden() {\r\n                return this.hidden;\r\n            },\r\n\r\n            __setReadonly(readonly: Boolean) {\r\n                this.readonly = readonly;\r\n                this.trigger('readonly', readonly);\r\n                if (this.readonly && this.getEnabled()) {\r\n                    this.el.classList.add(classes.readonly);\r\n                } else {\r\n                    this.el.classList.remove(classes.readonly);\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Returns the value of `readonly` flag.\r\n             * @return {Boolean}\r\n             */\r\n            getReadonly() {\r\n                return this.readonly;\r\n            },\r\n\r\n            /**\r\n             * Sets the focus onto this editor.\r\n             */\r\n            focus() {\r\n                this.__getFocusElement().focus();\r\n                this.hasFocus = true;\r\n            },\r\n\r\n            /**\r\n             * Clears the focus.\r\n             */\r\n            blur() {\r\n                this.__getFocusElement().blur();\r\n                this.hasFocus = false;\r\n            },\r\n\r\n            /**\r\n             * Update the model with the internal editor's value.\r\n             * @param {Object} [options] Options to pass to model.set().\r\n             * @param {Boolean} [options.validate] Set to true to trigger built-in model validation.\r\n             * @return {Object|undefined} Returns an error object <code>{ type, message }</code> if validation fails\r\n             * and <code>options.forceCommit</code> is turned off. <code>undefined</code> otherwise.\r\n             */\r\n            commit(options: Object = {}) {\r\n                let error = this.validate(true);\r\n                if (error && !this.schema.forceCommit) {\r\n                    return error;\r\n                }\r\n\r\n                this.listenToOnce(this.model, 'invalid', (model, e) => {\r\n                    error = e;\r\n                });\r\n\r\n                this.model.set(this.key, this.getValue(), {\r\n                    silent: false,\r\n                    validate: options.validate === true\r\n                });\r\n\r\n                if (error && !this.schema.forceCommit) {\r\n                    return error;\r\n                }\r\n                this.trigger(`${this.key}:committed`, this, this.model, this.getValue());\r\n                this.trigger('value:committed', this, this.model, this.key, this.getValue());\r\n            },\r\n            isEmptyValue() {\r\n                return !this.getValue();\r\n            },\r\n\r\n            /**\r\n             * Check validity with built-in validator functions (initially passed into constructor options).\r\n             * @return {Object|undefined} Returns an error object <code>{ type, message }</code> if validation fails. <code>undefined</code> otherwise.\r\n             */\r\n            validate(internal: Boolean) {\r\n                let error = null;\r\n                const value = this.getValue();\r\n                const formValues = this.form ? this.form.getValue() : {};\r\n                const validators = this.validators;\r\n                const getValidator = this.getValidator;\r\n\r\n                if (!internal) {\r\n                    this.__validatedOnce = true;\r\n                }\r\n\r\n                if (validators) {\r\n                    //Run through validators until an error is found\r\n                    validators.every(validator => {\r\n                        error = getValidator(validator)(value, formValues);\r\n                        return !error;\r\n                    });\r\n                }\r\n\r\n                return error;\r\n            },\r\n\r\n            trigger(event: 'focus' | 'blur') {\r\n                if (event === 'focus') {\r\n                    this.hasFocus = true;\r\n                } else if (event === 'blur') {\r\n                    this.hasFocus = false;\r\n                }\r\n\r\n                return Marionette.View.prototype.trigger.apply(this, arguments);\r\n            },\r\n\r\n            getValidator(validator: string | Function) {\r\n                const validators = formRepository.validators;\r\n\r\n                //Convert regular expressions to validators\r\n                if (_.isRegExp(validator)) {\r\n                    return validators.regexp({ regexp: validator });\r\n                }\r\n\r\n                //Use a built-in validator if given a string\r\n                if (typeof validator === 'string') {\r\n                    if (!validators[validator]) {\r\n                        throw new Error(`Validator \"${validator}\" not found`);\r\n                    }\r\n\r\n                    return validators[validator]();\r\n                }\r\n\r\n                //Functions can be used directly\r\n                if (_.isFunction(validator)) {\r\n                    return validator;\r\n                }\r\n\r\n                //Use a customised built-in validator if given an object\r\n                //noinspection JSUnresolvedVariable\r\n                if (_.isObject(validator) && validator.type) {\r\n                    const config = validator;\r\n\r\n                    //noinspection JSUnresolvedVariable\r\n                    return validators[config.type](config);\r\n                }\r\n\r\n                //Unknown validator type\r\n                throw new Error('Invalid validator');\r\n            },\r\n\r\n            checkChange() {\r\n                if (this.model) {\r\n                    if (this.value !== this.model.get(this.key)) {\r\n                        this.__triggerChange();\r\n                    }\r\n                }\r\n            },\r\n\r\n            onKeyup(event: Event) {\r\n                if (event.keyCode === keyCode.ENTER) {\r\n                    this.checkChange();\r\n                }\r\n            },\r\n\r\n            onFocus() {\r\n                this.el.classList.add(classes.FOCUSED);\r\n                this.trigger('focus', this);\r\n            },\r\n\r\n            onBlur() {\r\n                this.checkChange();\r\n                this.el.classList.remove(classes.FOCUSED);\r\n                this.trigger('blur', this);\r\n            }\r\n        };\r\n    }\r\n};\r\n","module.exports = \"<svg class=\\\"svg-icons-wrp__empty svg-icons svg-icons_text\\\"><use xlink:href=\\\"#icon-date\\\" /> </svg>\\r\\n\";","module.exports = \"<svg class=\\\"svg-icons-wrp__empty svg-icons svg-icons_text\\\"><use xlink:href=\\\"#icon-num\\\" /> </svg>\\r\\n\";","module.exports = \"<i class=\\\"js-edit-button editor__icons icon-edit fa fa-edit\\\"></i>\\r\\n\";","module.exports = \"<i class=\\\"js-clear-button editor__icons icon-remove fa fa-times\\\"></i>\";","module.exports = \"<i class=\\\"js-bubble-delete editor__icons icon-remove fa fa-times\\\"></i>\";","module.exports = \"<svg class=\\\"svg-icons-wrp__empty svg-icons svg-icons_text\\\"><use xlink:href=\\\"#icon-text\\\" /> </svg>\\r\\n\";","import { helpers } from 'utils';\r\n\r\nconst defaultOptions = {\r\n    defaultURL:\r\n        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIAQMAAABvIyEEAAAABlBMVEUAAABTU1OoaSf/AAAAAXRSTlMAQObYZgAAAENJREFUeF7tzbEJACEQRNGBLeAasBCza2lLEGx0CxFGG9hBMDDxRy/72O9FMnIFapGylsu1fgoBdkXfUHLrQgdfrlJN1BdYBjQQm3UAAAAASUVORK5CYII='\r\n};\r\n\r\n/**\r\n * @name BaseAvatarEditorController\r\n * @memberof module:core.form.editors.avatar.controllers\r\n * @class Base data provider class for {@link module:core.form.editors.AvatarEditorView AvatarEditorView}.\r\n * Methods <code>upload</code> and <code>getImage</code> must be implemented by subclasses.\r\n * @param {Object} options - Options object.\r\n * @param {string} options.defaultURL - Default image URL to display when neither image value for <code>getImage</code>\r\n * method nor full name for {@link module:core.form.editors.AvatarEditorView AvatarEditorView} provided.\r\n */\r\nexport default Marionette.Object.extend({\r\n    /**\r\n     * Object containing default options to be used when no corresponding options are provided while instantiating controller\r\n     */\r\n    defaultOptions,\r\n\r\n    initialize(options) {\r\n        this.options = _.defaults(options, this.defaultOptions);\r\n    },\r\n\r\n    /**\r\n     * Uploads file to server or processes it any other way.\r\n     * @param {File} file - File to be processed (uploaded to server).\r\n     * @return {Promise} - Promise object that resolves with object containing value to be used as\r\n     * {@link module:core.form.editors.AvatarEditorView AvatarEditorView} value.\r\n     * This value will be used as <code>getImage</code> method argument and may be a file.\r\n     */\r\n    upload() {\r\n        helpers.throwError('Not Implemented', 'NotImplementedError');\r\n    },\r\n\r\n    /**\r\n     * Converts incoming value to valid Image URL to be displayed in {@link module:core.form.editors.AvatarEditorView AvatarEditorView}.\r\n     * @param {?(string|number|File)} value - Value to be converted to valid image URL. If no value provided, the function must return default image URL.\r\n     * @return {!string} - Image URL to be displayed in {@link module:core.form.editors.AvatarEditorView AvatarEditorView}.\r\n     */\r\n    getImage() {\r\n        helpers.throwError('Not Implemented', 'NotImplementedError');\r\n    }\r\n});\r\n","import BaseAvatarEditorController from './BaseAvatarEditorController';\r\n\r\nexport default BaseAvatarEditorController.extend({\r\n    upload(file) {\r\n        // Demo request\r\n        const form = new FormData();\r\n        form.append('file', file);\r\n\r\n        this.__uploadOperation = Ajax.sendFormData('/dev/null', form).catch(() => {\r\n            console.warn('This promise is just an example to show how to send file');\r\n        });\r\n\r\n        return Promise.delay(1000, {\r\n            value: '14167968'\r\n            //value: file // file may also be used as upload result\r\n        });\r\n    },\r\n\r\n    getImage(value) {\r\n        if (_.isUndefined(value)) {\r\n            return this.getOption('defaultURL');\r\n        }\r\n\r\n        if (_.isString(value)) {\r\n            return `https://avatars.githubusercontent.com/u/${value}`;\r\n        }\r\n\r\n        if (_.isObject(value) && {}.toString.call(value).slice(8, -1) === 'File') {\r\n            return value;\r\n        }\r\n    }\r\n});\r\n","/**\r\n * Developer: Stanislav Guryev\r\n * Date: 02.02.2017\r\n * Copyright: 2009-2017 Comindware\r\n *       All Rights Reserved\r\n *\r\n * THIS IS UNPUBLISHED PROPRIETARY SOURCE CODE OF Comindware\r\n *       The copyright notice above does not evidence any\r\n *       actual or intended publication of such source code.\r\n */\r\n\r\nexport default {\r\n    classes: {\r\n        maximized: 'dev-codemirror-maximized',\r\n        highlighted: 'dev-code-editor-highlighted-item',\r\n        function: 'dev-code-editor-function',\r\n        user: 'dev-code-editor-user',\r\n        literal: 'dev-code-editor-literal',\r\n        operator: 'dev-code-editor-operator',\r\n        attribute: 'dev-code-editor-attribute'\r\n    },\r\n\r\n    types: {\r\n        function: 'function',\r\n        user: 'user',\r\n        literal: 'literal',\r\n        operator: 'operator',\r\n        attribute: 'attribute'\r\n    }\r\n};\r\n","export default Backbone.Model.extend({\r\n    initialize() {\r\n        Core.utils.helpers.applyBehavior(this, Core.list.models.behaviors.ListItemBehavior);\r\n    }\r\n});\r\n","import constants from '../Constants';\r\nimport FunctionTooltipView from '../views/FunctionTooltipView';\r\n\r\nconst types = constants.types;\r\nconst classes = constants.classes;\r\nconst HTTP_PREFIX = /http:\\/\\//;\r\n\r\nexport default {\r\n    mapOntologyModelToAutoCompleteArray(ontologyModel) {\r\n        const autoCompleteArray = [];\r\n        const functions = ontologyModel.get('functions');\r\n        if (functions) {\r\n            functions.forEach(func => {\r\n                const item = {};\r\n                const parameters = func.parameters || [];\r\n                item.text = func.name;\r\n                item.returns = func.returns;\r\n                item.description = HTTP_PREFIX.test(func.description) ? Localizer.get('CORE.FORM.EDITORS.CODE.EMPTYDESCRIPTION') : func.description;\r\n                item.className = classes.function;\r\n                item.type = types.function;\r\n                item.hint = (cm, data, completion) => {\r\n                    cm.replaceRange(completion.syntax, data.from, data.to);\r\n                    cm.execCommand('goCharLeft');\r\n                };\r\n                item.syntax = `${item.text}()`;\r\n\r\n                parameters.forEach(parameter => {\r\n                    if (HTTP_PREFIX.test(parameter.description)) {\r\n                        parameter.description = Localizer.get('CORE.FORM.EDITORS.CODE.EMPTYDESCRIPTION');\r\n                    }\r\n                });\r\n\r\n                const justAdded = autoCompleteArray.find(autoCompleteItem => autoCompleteItem.text === func.name);\r\n                if (justAdded) {\r\n                    justAdded.overloads.push({\r\n                        parameters,\r\n                        text: func.name,\r\n                        returns: func.returns\r\n                    });\r\n                } else {\r\n                    if (!item.overloads) {\r\n                        item.overloads = [];\r\n                    }\r\n                    item.overloads.push({\r\n                        parameters,\r\n                        text: func.name,\r\n                        returns: func.returns\r\n                    });\r\n                    autoCompleteArray.push(item);\r\n                }\r\n            });\r\n        }\r\n\r\n        const users = ontologyModel.get('users');\r\n        if (users) {\r\n            users.forEach(user => {\r\n                const item = {};\r\n                item.text = user.name;\r\n                item.syntax = user.syntax;\r\n                item.className = classes.user;\r\n                item.type = types.user;\r\n                item.hint = (cm, data, completion) => {\r\n                    cm.replaceRange(completion.syntax, data.from, data.to);\r\n                };\r\n                autoCompleteArray.push(item);\r\n            });\r\n        }\r\n\r\n        const literals = ontologyModel.get('literals');\r\n        if (literals) {\r\n            literals.forEach(literal => {\r\n                const item = {};\r\n                item.text = literal.name;\r\n                item.syntax = literal.syntax;\r\n                item.arguments = literal.arguments;\r\n                item.returns = literal.returns;\r\n                item.format = literal.format;\r\n                item.description = literal.description;\r\n                item.className = classes.literal;\r\n                item.type = types.literal;\r\n                item.hint = (cm, data, completion) => {\r\n                    cm.replaceRange(completion.syntax, data.from, data.to);\r\n                    cm.execCommand('goCharLeft');\r\n                };\r\n                autoCompleteArray.push(item);\r\n            });\r\n        }\r\n\r\n        const operators = ontologyModel.get('operators');\r\n        if (operators) {\r\n            operators.forEach(operator => {\r\n                const item = {};\r\n                item.text = operator.name;\r\n                item.syntax = operator.syntax;\r\n                item.arguments = operator.arguments;\r\n                item.description = operator.description;\r\n                item.className = classes.operator;\r\n                item.type = types.operator;\r\n                item.hint = (cm, data, completion) => {\r\n                    cm.replaceRange(completion.syntax, data.from, data.to);\r\n                };\r\n                autoCompleteArray.push(item);\r\n            });\r\n        }\r\n\r\n        const attributes = ontologyModel.get('attributes');\r\n        if (attributes) {\r\n            attributes.forEach(attribute => {\r\n                const item = {};\r\n                item.text = attribute.name;\r\n                item.syntax = attribute.syntax;\r\n                item.className = classes.attribute;\r\n                item.type = types.attribute;\r\n                item.hint = (cm, data, completion) => {\r\n                    cm.replaceRange(completion.syntax, data.from, data.to);\r\n                };\r\n                autoCompleteArray.push(item);\r\n            });\r\n        }\r\n\r\n        return autoCompleteArray;\r\n    },\r\n\r\n    getTooltipView(type) {\r\n        switch (type) {\r\n            case types.function:\r\n                return FunctionTooltipView;\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n};\r\n","module.exports = \"<div class=\\\"js-code-codemirror-container\\\"></div>\\r\\n<div class=\\\"js-code-button-edit dev-code-button-edit\\\"></div>\\r\\n<i class=\\\"js-code-button-clear editor__icons icon-remove fa fa-times\\\" title=\\\"{{localize 'CORE.FORM.EDITORS.CODE.CLEAR'}}\\\"></i>\\r\\n<div class=\\\"js-code-fading-panel dev-code-editor-fading-panel\\\"></div>\\r\\n\";","module.exports = \"<div class=\\\"js-code-header-container\\\"></div>\\r\\n<div class=\\\"js-code-toolbar-container\\\"></div>\\r\\n<div class=\\\"js-code-editor-container\\\"></div>\\r\\n<div class=\\\"js-code-tooltip-container\\\"></div>\\r\\n<div class=\\\"js-code-output-container\\\">\\r\\n    <div class=\\\"dev-code-editor-output\\\"></div>\\r\\n</div>\\r\\n\";","module.exports = \"{{#if parameters}}\\r\\n    {{text}}(\\r\\n    {{#each this.parameters}}\\r\\n    <span class=\\\"dev-code-editor-tooltip-parameter-name\\\">{{this.name}}</span>:<span class=\\\"dev-code-editor-tooltip-parameter-type\\\">{{this.type}}</span>{{#unless @last}}, {{/unless}}{{#if @last}} ){{/if}}\\r\\n    {{/each}}\\r\\n    {{#if returns}}: <span class=\\\"dev-code-editor-tooltip-parameter-type\\\">{{returns}}</span>{{/if}}\\r\\n{{else}}\\r\\n    {{text}}()\\r\\n    {{#if returns}}: <span class=\\\"dev-code-editor-tooltip-parameter-type\\\">{{returns}}</span>{{/if}}\\r\\n{{/if}}\\r\\n\";","module.exports = \"{{#each parameters}}\\r\\n    <div>\\r\\n        <span class=\\\"dev-code-editor-tooltip-parameter-name\\\">{{this.name}}</span>: {{this.description}}\\r\\n    </div>\\r\\n{{/each}}\";","module.exports = \"<div class=\\\"js-function-overloads-container\\\"></div>\\r\\n<div class=\\\"dev-code-editor-tooltip-row\\\">{{description}}</div>\\r\\n<div class=\\\"js-function-parameters-container\\\"></div>\\r\\n\\r\\n\\r\\n\\r\\n\";","module.exports = \"<div class=\\\"output-tabs-region\\\"></div>\";","module.exports = \"<div class=\\\"js-code-editor-compile dev-code-editor-toolbar_button_container\\\" title=\\\"{{localize 'CORE.FORM.EDITORS.CODE.COMPILE'}}\\\">\\r\\n    <div class=\\\"dev-code-editor-toolbar_button dev-code-editor-toolbar_button-compile\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"js-code-editor-undo dev-code-editor-toolbar_button_container\\\" title=\\\"{{localize 'CORE.FORM.EDITORS.CODE.UNDO'}}\\\">\\r\\n    <div class=\\\"dev-code-editor-toolbar_button dev-code-editor-toolbar_button-undo\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"js-code-editor-redo dev-code-editor-toolbar_button_container\\\" title=\\\"{{localize 'CORE.FORM.EDITORS.CODE.REDO'}}\\\">\\r\\n    <div class=\\\"dev-code-editor-toolbar_button dev-code-editor-toolbar_button-redo\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"js-code-editor-format dev-code-editor-toolbar_button_container\\\" title=\\\"{{localize 'CORE.FORM.EDITORS.CODE.FORMAT'}}\\\">\\r\\n    <div class=\\\"dev-code-editor-toolbar_button dev-code-editor-toolbar_button-format\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"js-code-editor-hint dev-code-editor-toolbar_button_container\\\" title=\\\"{{localize 'CORE.FORM.EDITORS.CODE.HINT'}}\\\">\\r\\n    <div class=\\\"dev-code-editor-toolbar_button dev-code-editor-toolbar_button-hint\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"js-code-editor-find dev-code-editor-toolbar_button_container\\\" title=\\\"{{localize 'CORE.FORM.EDITORS.CODE.FIND'}}\\\">\\r\\n    <div class=\\\"dev-code-editor-toolbar_button dev-code-editor-toolbar_button-find\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"js-code-editor-maximize dev-code-editor-toolbar_button_container\\\" title=\\\"{{localize 'CORE.FORM.EDITORS.CODE.MAXIMIZE'}}\\\">\\r\\n    <div class=\\\"dev-code-editor-toolbar_button dev-code-editor-toolbar_button-maximize\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"js-code-editor-minimize dev-code-editor-toolbar_button_container\\\" title=\\\"{{localize 'CORE.FORM.EDITORS.CODE.MINIMIZE'}}\\\">\\r\\n    <div class=\\\"dev-code-editor-toolbar_button dev-code-editor-toolbar_button-minimize\\\"></div>\\r\\n</div>\";","import { codemirror } from 'lib';\r\nimport ToolbarView from './ToolbarView';\r\nimport OutputView from './OutputView';\r\nimport template from '../templates/codemirror.html';\r\nimport MappingService from '../services/MappingService';\r\nimport constants from '../Constants';\r\nimport LocalizationService from '../../../../../services/LocalizationService';\r\n\r\nconst modes = {\r\n    expression: 'text/comindware_expression',\r\n    script: 'text/x-csharp'\r\n};\r\n\r\nconst TOOLTIP_PADDING_PX = 15;\r\n\r\nconst CHECK_VISIBILITY_DELAY = 200;\r\n\r\nconst classes = constants.classes;\r\nconst types = constants.types;\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options = {}) {\r\n        this.tt = new Backbone.Model();\r\n        _.bindAll(\r\n            this,\r\n            '__onBlur',\r\n            '__onChange',\r\n            '__showHint',\r\n            '__find',\r\n            '__undo',\r\n            '__redo',\r\n            '__format',\r\n            '__cmwHint',\r\n            '__showTooltip',\r\n            '__hideTooltip',\r\n            '__onMouseover',\r\n            '__onMouseleave',\r\n            '__onKeyDown',\r\n            '__onMinimize',\r\n            '__countOffset',\r\n            '__showCSharpHint',\r\n            '__getCSharpHints',\r\n            '__jumpToLine',\r\n            '__compile',\r\n            '__noSuggestionHint',\r\n            '__checkComments',\r\n            '__countLineAndColumn'\r\n        );\r\n        if (options.mode === 'expression') {\r\n            this.autoCompleteArray = [];\r\n            if (options.ontologyService) {\r\n                options.ontologyService.getOntology().then(ontologyModel => {\r\n                    this.autoCompleteArray = MappingService.mapOntologyModelToAutoCompleteArray(ontologyModel);\r\n\r\n                    if (this.codemirror) {\r\n                        this.codemirror.getMode().ontologyObjects = this.autoCompleteArray;\r\n\r\n                        //retokenize codemirror with ontology model\r\n                        this.setValue(this.getValue());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        if (options.mode === 'script') {\r\n            this.intelliAssist = options.ontologyService;\r\n            codemirror.hintWords['text/x-csharp'] = [];\r\n        }\r\n    },\r\n\r\n    regions: {\r\n        ediorHeaderContainer: '.js-code-header-container',\r\n        toolbarContainer: '.js-code-toolbar-container',\r\n        tooltipContainer: '.js-code-tooltip-container',\r\n        editorContainer: '.js-code-editor-container',\r\n        editorOutputContainer: '.js-code-output-container',\r\n        outputTabs: '.output-tabs-region',\r\n        output: '.dev-code-editor-output'\r\n    },\r\n\r\n    ui: {\r\n        toolbar: '.js-code-toolbar-container',\r\n        editor: '.js-code-editor-container',\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'dev-codemirror',\r\n\r\n    onRender() {\r\n        this.toolbar = new ToolbarView({ maximized: this.options.maximized, editor: this });\r\n        this.toolbar.on('undo', this.__undo);\r\n        this.toolbar.on('redo', this.__redo);\r\n        this.toolbar.on('format', this.__format);\r\n        this.toolbar.on('show:hint', this.__showHint);\r\n        this.toolbar.on('find', this.__find);\r\n        this.toolbar.on('compile', this.__compile);\r\n        this.toolbar.on('maximize', () => {\r\n            this.__onMaximize();\r\n            this.trigger('maximize', this);\r\n        });\r\n        this.toolbar.on('minimize', this.__onMinimize);\r\n\r\n        this.showChildView('toolbarContainer', this.toolbar);\r\n        if (this.options.mode === 'script') {\r\n            this.editor = this;\r\n            this.tt.set('errors', new Backbone.Collection([]));\r\n            this.tt.set('warnings', new Backbone.Collection([]));\r\n            this.output = new OutputView({\r\n                editor: this.editor,\r\n                model: this.tt\r\n            });\r\n            this.showChildView('editorOutputContainer', this.output);\r\n        }\r\n        this.ui.editor.style.height = this.options.height;\r\n        this.hintIsShown = false;\r\n\r\n        const extraKeys = {\r\n            'Ctrl-Space': this.__showHint,\r\n            'Alt-F': this.__format\r\n        };\r\n\r\n        this.codemirror = codemirror(this.ui.editor[0], {\r\n            extraKeys,\r\n            lineNumbers: true,\r\n            lineSeparator: '\\r\\n',\r\n            mode: modes[this.options.mode],\r\n            ontologyObjects: this.autoCompleteArray,\r\n            matchBrackets: true,\r\n            autoCloseBrackets: true,\r\n            styleActiveLine: true,\r\n            lint: true,\r\n            indentUnit: 4,\r\n            foldGutter: true,\r\n            selectionPointer: true,\r\n            showTrailingSpace: true,\r\n            fixedGutter: true,\r\n            gutters: ['CodeMirror-linenumbers', 'CodeMirror-foldgutter'],\r\n            scrollbarStyle: 'native',\r\n            highlightSelectionMatches: {\r\n                minChars: 3,\r\n                showToken: /\\w/\r\n            },\r\n            hintOptions: {\r\n                completeOnSingleClick: false,\r\n                completeSingle: false,\r\n                closeOnUnfocus: false,\r\n                container: this.el\r\n            }\r\n        });\r\n\r\n        this.codemirror.on('blur', this.__onBlur);\r\n        this.codemirror.on('change', this.__onChange);\r\n        this.codemirror.on('keydown', this.__onKeyDown);\r\n\r\n        this.codemirror.on('endCompletion', () => {\r\n            this.__hideTooltip();\r\n            this.isExternalChange = true;\r\n            this.hintIsShown = false;\r\n        });\r\n        if (this.options.mode === 'expression') {\r\n            this.codemirror.getWrapperElement().onmouseover = this.__onMouseover;\r\n            this.codemirror.getWrapperElement().onmouseleave = this.__onMouseleave;\r\n        }\r\n        this.codemirror.on('inputRead', (editor, change) => {\r\n            if (this.intelliAssist) {\r\n                if (change.text[0] === '.') {\r\n                    this.__showCSharpHint();\r\n                }\r\n            }\r\n        });\r\n\r\n        this.listenTo(this.output, 'changeCursorPos', (pos, type) => {\r\n            $('.dev-codemirror').scrollTop(0);\r\n            if (this.currentHighlightedLine) {\r\n                this.codemirror.removeLineClass(this.currentHighlightedLine, 'background', 'dev-code-editor-error');\r\n                this.codemirror.removeLineClass(this.currentHighlightedLine, 'background', 'dev-code-editor-warning');\r\n            }\r\n            this.codemirror.focus();\r\n            this.__jumpToLine(pos.line);\r\n            if (type === 'error') {\r\n                this.codemirror.addLineClass(pos.line, 'background', 'dev-code-editor-error');\r\n            }\r\n            if (type === 'warning') {\r\n                this.codemirror.addLineClass(pos.line, 'background', 'dev-code-editor-warning');\r\n            }\r\n            this.codemirror.setCursor(pos);\r\n            this.currentHighlightedLine = pos.line;\r\n        });\r\n    },\r\n\r\n    onDestroy() {\r\n        if (this.refreshTimerId) {\r\n            clearTimeout(this.refreshTimerId);\r\n        }\r\n    },\r\n\r\n    getValue() {\r\n        return this.codemirror.getValue();\r\n    },\r\n\r\n    setValue(value) {\r\n        this.isExternalChange = true;\r\n        this.codemirror.setValue(value || '');\r\n        this.refresh();\r\n    },\r\n\r\n    refresh() {\r\n        if (this.codemirror) {\r\n            this.__checkVisibleAndRefresh();\r\n        }\r\n    },\r\n\r\n    maximize() {\r\n        this.toolbar.maximize();\r\n        this.__onMaximize();\r\n    },\r\n\r\n    minimize() {\r\n        this.toolbar.minimize();\r\n        this.__onMinimize();\r\n    },\r\n\r\n    setReadonly(readonly) {\r\n        if (this.codemirror) {\r\n            this.codemirror.setOption('readOnly', readonly);\r\n        }\r\n    },\r\n\r\n    __checkVisibleAndRefresh() {\r\n        if (this.el.offsetHeight) {\r\n            this.codemirror.refresh();\r\n            if (this.refreshTimerId) {\r\n                clearTimeout(this.refreshTimerId);\r\n            }\r\n        } else {\r\n            this.refreshTimerId = setTimeout(() => this.__checkVisibleAndRefresh(), CHECK_VISIBILITY_DELAY);\r\n        }\r\n    },\r\n\r\n    __onMaximize() {\r\n        this.el.classList.add(classes.maximized);\r\n        this.ui.editor.style.height = '80%';\r\n        $(this.regions.editorOutputContainer).css('height', '30%');\r\n        $(this.regions.output).css('height', '100%');\r\n        $(this.regions.outputTabs).css('height', '100%');\r\n\r\n        this.codemirror.refresh();\r\n        this.codemirror.focus();\r\n        this.isMaximized = true;\r\n    },\r\n\r\n    __onMinimize() {\r\n        this.trigger('minimize', this);\r\n        this.el.classList.remove(classes.maximized);\r\n        this.ui.editor.style.height = this.options.height;\r\n        this.codemirror.refresh();\r\n        this.isMaximized = false;\r\n        this.__change();\r\n    },\r\n\r\n    __onBlur() {\r\n        this.__change();\r\n    },\r\n\r\n    __change() {\r\n        this.trigger('change', this);\r\n    },\r\n\r\n    __onChange(editor, change) {\r\n        if (!this.isExternalChange) {\r\n            if (this.options.mode === 'expression') {\r\n                this.__showHint();\r\n            }\r\n        }\r\n        this.__change();\r\n    },\r\n\r\n    __undo() {\r\n        if (this.codemirror.isReadOnly()) {\r\n            return;\r\n        }\r\n        this.codemirror.execCommand('undo');\r\n        this.__change();\r\n    },\r\n\r\n    __redo() {\r\n        if (this.codemirror.isReadOnly()) {\r\n            return;\r\n        }\r\n        this.codemirror.execCommand('redo');\r\n        this.__change();\r\n    },\r\n\r\n    __countOffset() {\r\n        const content = this.codemirror.getValue();\r\n        const pos = this.codemirror.getCursor();\r\n        const contentArr = content.split('\\n');\r\n\r\n        let i = 0;\r\n        let offset = 0;\r\n        while (i < pos.line) {\r\n            offset = offset + contentArr[i].length + 1;\r\n            i++;\r\n        }\r\n        offset += pos.ch;\r\n        return offset;\r\n    },\r\n\r\n    __countLineAndColumn(itemOffset, userCodeOffset) {\r\n        const userOffset = itemOffset - userCodeOffset;\r\n        const content = this.codemirror.getValue();\r\n        let curLine = 1;\r\n        let curColumn = 1;\r\n        let j = 1;\r\n        for (let i = 0; i < content.length; i++) {\r\n            j++;\r\n            if (i < userOffset) {\r\n                if (content.charAt(i) === '\\n') {\r\n                    curLine++;\r\n                    j = 1;\r\n                }\r\n            } else {\r\n                curColumn = j;\r\n                return {\r\n                    line: curLine,\r\n                    column: curColumn\r\n                };\r\n            }\r\n        }\r\n    },\r\n\r\n    __getCSharpHints() {\r\n        const completeHoverQuery = {\r\n            SourceCode: this.codemirror.getValue(),\r\n            CursorOffset: this.__countOffset(),\r\n            SourceType: 'CSharp',\r\n            UQueryCompleteHoverType: 'Completion'\r\n        };\r\n        let newArr = [];\r\n        this.intelliAssist.getCSharpOntology(completeHoverQuery).then(ontologyModel => {\r\n            if (ontologyModel) {\r\n                ontologyModel.get('infoList').forEach(el => {\r\n                    newArr = newArr.concat([el.name]);\r\n                });\r\n            } else {\r\n                newArr = [];\r\n            }\r\n        });\r\n        return newArr;\r\n    },\r\n\r\n    __showCSharpHint() {\r\n        const completeHoverQuery = {\r\n            SourceCode: this.codemirror.getValue(),\r\n            CursorOffset: this.__countOffset(),\r\n            SourceType: 'CSharp',\r\n            UQueryCompleteHoverType: 'Completion'\r\n        };\r\n\r\n        this.intelliAssist.getCSharpOntology(completeHoverQuery).then(ontologyModel => {\r\n            let newArr = [];\r\n            if (ontologyModel) {\r\n                ontologyModel.get('infoList').forEach(el => {\r\n                    newArr = newArr.concat([el.name]);\r\n                });\r\n                if (newArr.length === 0) {\r\n                    this.codemirror.showHint({ hint: this.__noSuggestionHint });\r\n                } else {\r\n                    codemirror.hintWords['text/x-csharp'] = newArr;\r\n                    this.codemirror.showHint();\r\n                }\r\n            } else {\r\n                newArr = [];\r\n            }\r\n        });\r\n    },\r\n\r\n    __showHint() {\r\n        if (this.codemirror.isReadOnly()) {\r\n            return;\r\n        }\r\n        this.hintIsShown = true;\r\n        if (this.options.mode === 'expression') {\r\n            this.codemirror.showHint({ hint: this.__cmwHint });\r\n        }\r\n        if (this.options.mode === 'script') {\r\n            this.__showCSharpHint();\r\n        }\r\n    },\r\n\r\n    __noSuggestionHint() {\r\n        let autoCompleteObject = {};\r\n        const cursor = this.codemirror.getCursor();\r\n        autoCompleteObject = {\r\n            from: {\r\n                line: cursor.line,\r\n                ch: cursor.ch\r\n            },\r\n            to: {\r\n                line: cursor.line,\r\n                ch: cursor.ch\r\n            },\r\n            list: [\r\n                {\r\n                    text: '',\r\n                    displayText: LocalizationService.get('CORE.FORM.EDITORS.CODE.NOSUGGESTIONS')\r\n                }\r\n            ]\r\n        };\r\n        return autoCompleteObject;\r\n    },\r\n\r\n    __find() {\r\n        this.codemirror.execCommand('find');\r\n    },\r\n\r\n    __compile() {\r\n        if (this.currentHighlightedLine) {\r\n            this.codemirror.removeLineClass(this.currentHighlightedLine, 'background', 'dev-code-editor-error');\r\n            this.codemirror.removeLineClass(this.currentHighlightedLine, 'background', 'dev-code-editor-warning');\r\n        }\r\n        let newArrErr = [];\r\n        let newArrWarn = [];\r\n        const userCompileQuery = {\r\n            UserCode: this.codemirror.getValue(),\r\n            SourceType: 'CSharp'\r\n        };\r\n        if (this.intelliAssist) {\r\n            this.intelliAssist.getCompile(userCompileQuery).then(ontologyModel => {\r\n                if (ontologyModel) {\r\n                    const userCodeOffset = ontologyModel.get('userCodeOffsetStart');\r\n                    if (ontologyModel.get('compilerRemarks').length > 0) {\r\n                        ontologyModel.get('compilerRemarks').forEach(el => {\r\n                            if (el.offsetStart > userCodeOffset) {\r\n                                if (el.severity === 'Error') {\r\n                                    const obj = this.__countLineAndColumn(el.offsetStart, userCodeOffset);\r\n                                    el.line = obj.line;\r\n                                    el.column = obj.column;\r\n                                    newArrErr = newArrErr.concat([el]);\r\n                                }\r\n                                if (el.severity === 'Warning') {\r\n                                    const obj = this.__countLineAndColumn(el.offsetStart, userCodeOffset);\r\n                                    el.line = obj.line;\r\n                                    el.column = obj.column;\r\n                                    newArrWarn = newArrWarn.concat([el]);\r\n                                }\r\n                            }\r\n                        });\r\n                    } else {\r\n                        Core.ToastNotifications.add(Localizer.get('CORE.FORM.EDITORS.CODE.SUCCESSFULCOMPILE'));\r\n                    }\r\n                } else {\r\n                    newArrErr = [];\r\n                    newArrWarn = [];\r\n                }\r\n                const OutputObj = {\r\n                    errors: newArrErr,\r\n                    warnings: newArrWarn\r\n                };\r\n\r\n                this.trigger('compile', OutputObj);\r\n            });\r\n        }\r\n    },\r\n\r\n    __jumpToLine(i) {\r\n        const t = this.codemirror.charCoords({ line: i, ch: 0 }, 'local').top;\r\n        const middleHeight = this.codemirror.getScrollerElement().offsetHeight / 2;\r\n        this.codemirror.scrollTo(null, t - middleHeight - 5);\r\n    },\r\n\r\n    __format() {\r\n        if (this.codemirror.isReadOnly()) {\r\n            return;\r\n        }\r\n        if (this.options.mode === 'expression') {\r\n            const cm = this.codemirror;\r\n            cm.execCommand('selectAll');\r\n            const from = cm.getCursor(true);\r\n            const to = cm.getCursor(false);\r\n            const mode = cm.getMode();\r\n            const text = cm.getRange(from, to).split('\\n');\r\n            const state = cm.getTokenAt(from).state;\r\n            const indentUnit = cm.getOption('indentUnit');\r\n\r\n            let out = '';\r\n            let lines = 0;\r\n            let atStartOfLine = from.ch === 0;\r\n\r\n            const newline = () => {\r\n                out += '\\n';\r\n                atStartOfLine = true;\r\n                lines += 1;\r\n            };\r\n\r\n            for (let i = 0; i < text.length; i += 1) {\r\n                const stream = new codemirror.StringStream(text[i], indentUnit);\r\n                while (!stream.eol()) {\r\n                    const style = mode.token(stream, state);\r\n                    const cur = stream.current();\r\n                    const cursor = cm.getCursor();\r\n                    const next = cm.getTokenAt({ line: cursor.line, ch: cursor.char + 1 });\r\n                    stream.start = stream.pos;\r\n                    if (!atStartOfLine || /\\S/.test(cur)) {\r\n                        out += cur;\r\n                        atStartOfLine = false;\r\n                    }\r\n                    if (!atStartOfLine && mode.newlineAfterToken && mode.newlineAfterToken(style, cur, next, stream.string.slice(stream.pos) || text[i + 1] || '', mode.state)) {\r\n                        newline();\r\n                    }\r\n                }\r\n                if (!stream.pos && mode.blankLine) mode.blankLine(state);\r\n                if (!atStartOfLine) newline();\r\n            }\r\n\r\n            cm.operation(() => {\r\n                cm.replaceRange(out, from, to);\r\n                for (let cur = from.line + 1, end = from.line + lines; cur <= end; cur += 1) {\r\n                    cm.indentLine(cur, 'smart');\r\n                }\r\n            });\r\n        }\r\n        if (this.options.mode === 'script') {\r\n            const formatQuery = {\r\n                UserCode: {\r\n                    SourceCode: this.codemirror.getValue(),\r\n                    SourceType: 'CSharp'\r\n                }\r\n            };\r\n            this.intelliAssist.getFormatCSharp(formatQuery).then(ontologyModel => {\r\n                this.codemirror.setValue(ontologyModel.get('userCode').sourceCode);\r\n            });\r\n        }\r\n    },\r\n\r\n    __cmwHint() {\r\n        const completion = [];\r\n        let autoCompleteObject = {};\r\n        const cursor = this.codemirror.getCursor();\r\n        const token = this.codemirror.getTokenAt(cursor);\r\n        if (token.type === 'identifier' || types[token.type]) {\r\n            this.autoCompleteArray.forEach(item => {\r\n                if (item.text.toLowerCase().indexOf(token.string.toLowerCase()) > -1) {\r\n                    completion.push(item);\r\n                }\r\n            });\r\n            autoCompleteObject = {\r\n                from: {\r\n                    line: cursor.line,\r\n                    ch: token.start\r\n                },\r\n                to: {\r\n                    line: cursor.line,\r\n                    ch: token.end\r\n                },\r\n                list: completion\r\n            };\r\n        } else if (token.string === '$' || token.string === '->') {\r\n            this.autoCompleteArray.forEach(item => {\r\n                if (item.type === types.attribute) {\r\n                    completion.push(item);\r\n                }\r\n                autoCompleteObject = {\r\n                    from: cursor,\r\n                    to: cursor,\r\n                    list: completion\r\n                };\r\n            });\r\n        } else if (token.string === '(' || this.codemirror.getValue().trim() === '') {\r\n            autoCompleteObject = {\r\n                from: cursor,\r\n                to: cursor,\r\n                list: this.autoCompleteArray\r\n            };\r\n        } else {\r\n            autoCompleteObject = {\r\n                from: cursor,\r\n                to: cursor,\r\n                list: completion\r\n            };\r\n        }\r\n\r\n        codemirror.on(autoCompleteObject, 'select', this.__showTooltip);\r\n        this.hintIsShown = true;\r\n        return autoCompleteObject;\r\n    },\r\n\r\n    __showTooltip(token, hintEl) {\r\n        $(hintEl).focus();\r\n        const tooltipModel = new Backbone.Model(this.__findObjectByText(token.text));\r\n        const tooltipView = MappingService.getTooltipView(tooltipModel.get('type'));\r\n        if (!tooltipView) {\r\n            this.__hideTooltip();\r\n            return;\r\n        }\r\n        this.tooltip = new tooltipView({\r\n            model: tooltipModel,\r\n            isFull: true\r\n        });\r\n        this.listenTo(this.tooltip, 'syntax:changed', syntax => (token.currentSyntax = syntax));\r\n        this.listenTo(this.tooltip, 'peek', this.__onTooltipPeek);\r\n        this.showChildView('tooltipContainer', this.tooltip);\r\n\r\n        const tooltipMargin = 10;\r\n        const hintPanel = $(hintEl).parentElement;\r\n        const hintPanelPosition = hintPanel.position();\r\n        const hintPanelWidth = hintPanel.width();\r\n        const tooltipWidth = this.tooltip.el.offsetWidth;\r\n\r\n        let left = hintPanelPosition.left + hintPanelWidth + tooltipMargin;\r\n        if (left + tooltipWidth > window.innerWidth) {\r\n            left = hintPanelPosition.left - tooltipWidth - tooltipMargin;\r\n        }\r\n        this.tooltip.setPosition({ top: hintPanelPosition.top, left });\r\n    },\r\n\r\n    __hideTooltip() {\r\n        if (this.tooltip) {\r\n            this.tooltip.destroy();\r\n            this.tooltip = null;\r\n        }\r\n    },\r\n\r\n    __onKeyDown(editor, event) {\r\n        const charCode = event.which === null ? event.keyCode : event.which;\r\n        this.isExternalChange = !(\r\n            !event.altKey\r\n            && !event.ctrlKey\r\n            && !event.metaKey\r\n            && (charCode === 62 || charCode === 36 || (charCode > 64 && charCode < 91) || (charCode > 95 && charCode < 123) || charCode === 8)\r\n        );\r\n        this.__change();\r\n    },\r\n\r\n    __onMouseover(e) {\r\n        if (this.hintIsShown) {\r\n            return;\r\n        }\r\n\r\n        const el = $(e.target);\r\n        let text = el.text();\r\n\r\n        if (text.charAt(0) === '\"') {\r\n            text = text.substr(1, text.length - 2);\r\n        }\r\n\r\n        if (!el || el[0].className === 'CodeMirror-search-hint') {\r\n            this.__hideTooltip();\r\n            return;\r\n        }\r\n\r\n        const obj = this.__findObjectByText(text);\r\n        if (el[0].tagName.toLowerCase() === 'span' && obj) {\r\n            const tooltipModel = new Backbone.Model(obj);\r\n            const tooltipView = MappingService.getTooltipView(tooltipModel.get('type'));\r\n\r\n            if (!tooltipView) {\r\n                this.__hideTooltip();\r\n                this.__highlightItem();\r\n                return;\r\n            }\r\n\r\n            this.tooltip = new tooltipView({ model: tooltipModel });\r\n            this.tooltipContainer.show(this.tooltip);\r\n            const documentWidth = document.body.offsetWidth;\r\n            const documentHeight = document.body.offsetHeight;\r\n            const tooltipWidth = this.tooltip.el.offsetWidth;\r\n            const tooltipHeightWithPadding = this.tooltip.el.offsetHeight + TOOLTIP_PADDING_PX;\r\n            const x = e.pageX + tooltipWidth > documentWidth ? documentWidth - tooltipWidth : e.pageX;\r\n            const y = e.pageY + tooltipHeightWithPadding > documentHeight ? e.pageY - tooltipHeightWithPadding : e.pageY + TOOLTIP_PADDING_PX;\r\n            this.tooltip.setPosition({ top: y, left: x });\r\n            this.__highlightItem(el);\r\n        } else {\r\n            this.__hideTooltip();\r\n            this.__highlightItem();\r\n        }\r\n    },\r\n\r\n    __onMouseleave() {\r\n        if (!this.hintIsShown) {\r\n            this.__hideTooltip();\r\n        }\r\n        this.__highlightItem();\r\n    },\r\n\r\n    __findObjectByText(text) {\r\n        return this.autoCompleteArray.find(item => item.text === text);\r\n    },\r\n\r\n    __highlightItem(el) {\r\n        if (this.highlightedItem) {\r\n            this.highlightedItem.classList.remove(classes.highlighted);\r\n        }\r\n        if (el) {\r\n            this.highlightedItem = el;\r\n            this.highlightedItem.classList.add(classes.highlighted);\r\n        }\r\n    },\r\n\r\n    __onTooltipPeek() {\r\n        const event = $.Event('keypdown');\r\n        event.keyCode = 9;\r\n        this.codemirror.triggerOnKeyDown(event);\r\n        this.codemirror.focus();\r\n    },\r\n\r\n    __checkComments() {\r\n        let totalChars = 0;\r\n        let totalCommentsChars = 0;\r\n        const content = this.codemirror.getValue();\r\n        const lines = this.codemirror.lineCount();\r\n        const contentArr = content.split('\\n');\r\n        if (content) {\r\n            let i = 0;\r\n            while (i < lines) {\r\n                const commentCh = contentArr[i].indexOf('//');\r\n                totalChars += contentArr[i].length;\r\n                if (commentCh >= 0) {\r\n                    totalCommentsChars = totalCommentsChars + contentArr[i].length - commentCh - '//'.length;\r\n                }\r\n                i++;\r\n            }\r\n        }\r\n        return totalChars / totalCommentsChars <= 4;\r\n    }\r\n});\r\n","import list from 'list';\r\nimport template from '../templates/functionOverload.html';\r\n\r\nexport default Marionette.View.extend({\r\n    className: 'dev-code-editor-tooltip-title',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    behaviors: [ list.views.behaviors.ListItemViewBehavior],\r\n\r\n    triggers: {\r\n        dblclick: 'peek'\r\n    },\r\n\r\n    modelEvents: {\r\n        selected: '__onSelected'\r\n    },\r\n\r\n    __onSelected() {\r\n        this.trigger('selected', this.model);\r\n    }\r\n});\r\n","import template from '../templates/functionParameters.html';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template)\r\n});\r\n","import FunctionOverloadView from './FunctionOverloadView';\r\nimport FunctionOverloadModel from '../models/FunctionOverloadModel';\r\nimport FunctionParametersView from '../views/FunctionParametersView';\r\nimport template from '../templates/functionTooltip.html';\r\n\r\nconst FUNCTION_ITEM_HEIGHT = 25;\r\nconst FUNCTIONS_MAX_ROWS = 10;\r\n\r\nexport default Marionette.View.extend({\r\n    className: 'dev-code-editor-tooltip',\r\n\r\n    regions: {\r\n        functionOverloadsRegion: '.js-function-overloads-container',\r\n        functionParametersRegion: '.js-function-parameters-container'\r\n    },\r\n\r\n    events: {\r\n        keydown: '__onKeydown'\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    onAttach() {\r\n        const collection = new Backbone.Collection(this.model.get('overloads'), {\r\n            model: FunctionOverloadModel\r\n        });\r\n        this.functionOverloads = new Core.list.factory.createDefaultList({\r\n            collection: new Core.collections.VirtualCollection(collection),\r\n            listViewOptions: {\r\n                childView: FunctionOverloadView,\r\n                childHeight: FUNCTION_ITEM_HEIGHT,\r\n                height: 'auto',\r\n                maxRows: FUNCTIONS_MAX_ROWS\r\n            }\r\n        });\r\n        this.functionOverloads.on('childview:selected', model => {\r\n            this.showChildView('functionParametersRegion', new FunctionParametersView({ model }));\r\n        });\r\n        this.functionOverloads.on('childview:peek', () => this.trigger('peek'));\r\n        this.showChildView('functionOverloadsRegion', this.functionOverloads);\r\n\r\n        if (this.options.isFull) {\r\n            collection.at(0).select();\r\n        }\r\n    },\r\n\r\n    setPosition(position) {\r\n        this.el.css('top', position.top);\r\n        this.el.css('left', position.left);\r\n    },\r\n\r\n    __onKeydown(e) {\r\n        if (e.keyCode === 9 || e.keyCode === 13) {\r\n            this.trigger('peek');\r\n        }\r\n    }\r\n});\r\n","import template from '../templates/output.html';\r\nimport LocalizationService from '../../../../../services/LocalizationService';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        this.model = options.model;\r\n        this.editor = options.editor;\r\n        this.listenTo(this.editor, 'compile', compileOutput => {\r\n            this.model.get('errors').reset(compileOutput.errors);\r\n            this.model.get('warnings').reset(compileOutput.warnings);\r\n        });\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'dev-code-editor-output',\r\n\r\n    regions: {\r\n        tabsRegion: '.output-tabs-region'\r\n    },\r\n\r\n    onRender() {\r\n        const errorsGridController = new Core.list.controllers.GridController({\r\n            columns: this.__getErrorsColumns(),\r\n            excludeActions: 'all',\r\n            collection: this.model.get('errors')\r\n        });\r\n        const errorsGrid = errorsGridController.view;\r\n\r\n        const warningsGridController = new Core.list.controllers.GridController({\r\n            columns: this.__getWarningsColumns(),\r\n            excludeActions: 'all',\r\n            collection: this.model.get('warnings')\r\n        });\r\n        const warningsGrid = warningsGridController.view;\r\n\r\n        this.listenTo(errorsGridController, 'dblclick', model => {\r\n            const cursorPos = {\r\n                ch: model.get('column') - 2,\r\n                line: model.get('line') - 1\r\n            };\r\n            const type = 'error';\r\n            this.trigger('changeCursorPos', cursorPos, type);\r\n        });\r\n        this.listenTo(warningsGridController, 'dblclick', model => {\r\n            const cursorPos = {\r\n                ch: model.get('column') - 2,\r\n                line: model.get('line') - 1\r\n            };\r\n            const type = 'warning';\r\n            this.trigger('changeCursorPos', cursorPos, type);\r\n        });\r\n\r\n        const tabsPanelsView = new Core.layout.TabLayout({\r\n            tabs: this.__getTabs(errorsGrid, warningsGrid)\r\n        });\r\n\r\n        this.showChildView('tabsRegion', tabsPanelsView);\r\n    },\r\n\r\n    __getErrorsColumns() {\r\n        return [\r\n            {\r\n                title: LocalizationService.get('CORE.FORM.EDITORS.CODE.OUTPUT.ERRORS.LINE'),\r\n                key: 'line',\r\n                type: Core.meta.objectPropertyTypes.INTEGER,\r\n                autocommit: true,\r\n                width: 0.15\r\n            },\r\n            {\r\n                title: LocalizationService.get('CORE.FORM.EDITORS.CODE.OUTPUT.ERRORS.COLUMN'),\r\n                key: 'column',\r\n                type: Core.meta.objectPropertyTypes.INTEGER,\r\n                autocommit: true,\r\n                width: 0.15\r\n            },\r\n            {\r\n                title: LocalizationService.get('CORE.FORM.EDITORS.CODE.OUTPUT.ERRORS.MESSCODE'),\r\n                key: 'messcode',\r\n                type: Core.meta.objectPropertyTypes.STRING,\r\n                autocommit: true,\r\n                width: 0.2\r\n            },\r\n            {\r\n                title: LocalizationService.get('CORE.FORM.EDITORS.CODE.OUTPUT.ERRORS.MESSAGE'),\r\n                key: 'message',\r\n                type: Core.meta.objectPropertyTypes.STRING,\r\n                autocommit: true,\r\n                width: 0.5\r\n            }\r\n        ];\r\n    },\r\n\r\n    __getWarningsColumns() {\r\n        return [\r\n            {\r\n                title: LocalizationService.get('CORE.FORM.EDITORS.CODE.OUTPUT.WARNINGS.LINE'),\r\n                key: 'line',\r\n                type: Core.meta.objectPropertyTypes.INTEGER,\r\n                autocommit: true,\r\n                width: 0.1\r\n            },\r\n            {\r\n                title: LocalizationService.get('CORE.FORM.EDITORS.CODE.OUTPUT.WARNINGS.COLUMN'),\r\n                key: 'column',\r\n                type: Core.meta.objectPropertyTypes.INTEGER,\r\n                autocommit: true,\r\n                width: 0.1\r\n            },\r\n            {\r\n                title: LocalizationService.get('CORE.FORM.EDITORS.CODE.OUTPUT.WARNINGS.MESSCODE'),\r\n                key: 'messcode',\r\n                type: Core.meta.objectPropertyTypes.STRING,\r\n                autocommit: true,\r\n                width: 0.1\r\n            },\r\n            {\r\n                title: LocalizationService.get('CORE.FORM.EDITORS.CODE.OUTPUT.WARNINGS.MESSAGE'),\r\n                key: 'message',\r\n                type: Core.meta.objectPropertyTypes.STRING,\r\n                autocommit: true,\r\n                width: 0.35\r\n            },\r\n            {\r\n                title: LocalizationService.get('CORE.FORM.EDITORS.CODE.OUTPUT.WARNINGS.WARNINGLEVEL'),\r\n                key: 'warningLevel',\r\n                type: Core.meta.objectPropertyTypes.INTEGER,\r\n                autocommit: true,\r\n                width: 0.25\r\n            }\r\n        ];\r\n    },\r\n\r\n    __getTabs(errorsGrid, warningsGrid) {\r\n        return [\r\n            {\r\n                id: 'tab1',\r\n                name: LocalizationService.get('CORE.FORM.EDITORS.CODE.ERRORS'),\r\n                view: errorsGrid\r\n            },\r\n            {\r\n                id: 'tab2',\r\n                name: LocalizationService.get('CORE.FORM.EDITORS.CODE.WARNINGS'),\r\n                view: warningsGrid\r\n            },\r\n            {\r\n                id: 'tab3',\r\n                name: LocalizationService.get('CORE.FORM.EDITORS.CODE.INFO'),\r\n                view: new Core.list.factory.createDefaultGrid({\r\n                    gridViewOptions: {\r\n                        columns: [\r\n                            {\r\n                                title: 'Line',\r\n                                key: 'line',\r\n                                type: Core.meta.objectPropertyTypes.INTEGER,\r\n                                autocommit: true,\r\n                                width: 0.15\r\n                            },\r\n                            {\r\n                                title: 'Column',\r\n                                key: 'column',\r\n                                type: Core.meta.objectPropertyTypes.INTEGER,\r\n                                autocommit: true,\r\n                                width: 0.15\r\n                            },\r\n                            {\r\n                                title: 'Messcode',\r\n                                key: 'messcode',\r\n                                type: Core.meta.objectPropertyTypes.STRING,\r\n                                autocommit: true,\r\n                                width: 0.2\r\n                            },\r\n                            {\r\n                                title: 'Message',\r\n                                key: 'message',\r\n                                type: Core.meta.objectPropertyTypes.STRING,\r\n                                autocommit: true,\r\n                                width: 0.5\r\n                            }\r\n                        ],\r\n                        selectableBehavior: 'multi'\r\n                    },\r\n                    key: 'errors',\r\n                    collection: this.model.get('errors'),\r\n                    autocommit: true,\r\n                    height: 'auto',\r\n                    maxRows: 5\r\n                })\r\n            }\r\n        ];\r\n    }\r\n});\r\n","import template from '../templates/toolbar.html';\r\n\r\nexport default Marionette.View.extend({\r\n    className: 'dev-code-editor-toolbar',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    ui: {\r\n        compile: '.js-code-editor-compile',\r\n        undo: '.js-code-editor-undo',\r\n        redo: '.js-code-editor-redo',\r\n        format: '.js-code-editor-format',\r\n        hint: '.js-code-editor-hint',\r\n        find: '.js-code-editor-find',\r\n        maximize: '.js-code-editor-maximize',\r\n        minimize: '.js-code-editor-minimize'\r\n    },\r\n\r\n    triggers: {\r\n        'click @ui.compile': 'compile',\r\n        'click @ui.undo': 'undo',\r\n        'click @ui.redo': 'redo',\r\n        'click @ui.format': 'format',\r\n        'click @ui.hint': 'show:hint',\r\n        'click @ui.find': 'find'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.maximize': '__onMaximize',\r\n        'click @ui.minimize': '__onMinimize'\r\n    },\r\n\r\n    onRender() {\r\n        if (this.options.editor.options.mode === 'expression') {\r\n            this.ui.compile.style.display = 'none';\r\n        }\r\n    },\r\n\r\n    onAttach() {\r\n        this.ui.minimize.setAttribute('displayNone', true);\r\n    },\r\n\r\n    maximize() {\r\n        this.ui.maximize.setAttribute('displayNone', true);\r\n        this.ui.minimize.removeAttribute('displayNone');;\r\n    },\r\n\r\n    minimize() {\r\n        this.ui.maximize.removeAttribute('displayNone');;\r\n        this.ui.minimize.setAttribute('displayNone', true);\r\n    },\r\n\r\n    __onMaximize() {\r\n        this.maximize();\r\n        this.trigger('maximize');\r\n    },\r\n\r\n    __onMinimize() {\r\n        this.minimize();\r\n        this.trigger('minimize');\r\n    }\r\n});\r\n","module.exports = \"{{buttonText}}\";","module.exports = \"<div class='js-popout-wrapper'></div>\\r\\n\";","import template from '../templates/popoutButton.html';\r\n\r\nconst classes = {\r\n    EMPTY: 'dev-context-editor__empty'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    tagName: 'span',\r\n\r\n    className: 'source-text',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        const value = this.model.get('value');\r\n        return {\r\n            buttonText: value || Localizer.get('CORE.GRID.NOTSET')\r\n        };\r\n    },\r\n\r\n    modelEvents: {\r\n        'change:value': 'render'\r\n    },\r\n\r\n    onRender() {\r\n        this.el.classList.toggle(classes.EMPTY, !this.model.get('value'));\r\n    }\r\n});\r\n","import template from '../templates/popoutWrapperPanel.html';\r\nimport list from 'list';\r\n\r\nexport default Marionette.View.extend({\r\n    classes: {\r\n        itemTitleSelected: '.js-item-title-selected'\r\n    },\r\n\r\n    events: {\r\n        'click .js-clear-value': '__onChildItemTitleSelectEmpty',\r\n        mousewheel: '__handleMousewheel'\r\n    },\r\n\r\n    regions: {\r\n        popoutWrapper: {\r\n            el: '.js-popout-wrapper',\r\n            replaceElement: true\r\n        }\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'data-source-popout-view',\r\n\r\n    onRender() {\r\n        const columns = [\r\n            {\r\n                key: 'name',\r\n                type: 'String',\r\n                title: 'TextCell',\r\n                sorting: 'asc',\r\n                width: 240\r\n            }\r\n        ];\r\n\r\n        const listView = list.factory.createDefaultGrid({\r\n            gridViewOptions: {\r\n                columns,\r\n                selectableBehavior: 'multi',\r\n                isTree: true,\r\n                childrenAttribute: 'children',\r\n                showHeader: false,\r\n                expandOnShow: false,\r\n                class: 'compact'\r\n            },\r\n            collection: this.model.get('context')\r\n        });\r\n\r\n        this.showChildView('popoutWrapper', listView);\r\n\r\n        listView.on('childview:dblclick', model => this.trigger('context:selected', model));\r\n    }\r\n});\r\n","// @flow\r\nexport default Backbone.Model.extend({\r\n    updateEmpty() {\r\n        this.set('empty', this.collection.models.length === 1);\r\n    }\r\n});\r\n","module.exports = \"<svg class=\\\"svg-icons svg-icons_plus\\\">\\r\\n        <use xlink:href=\\\"#icon-plus\\\" />\\r\\n</svg>\\r\\n&nbsp;{{localize 'CORE.FORM.EDITORS.REFERENCE.CREATENEW'}}\";","module.exports = \"{{#if url}}\\r\\n  <a href=\\\"{{url}}\\\" target=\\\"_blank\\\" tabindex=\\\"-1\\\">{{text}}</a>\\r\\n{{else}}\\r\\n  {{text}}\\r\\n{{/if}}\\r\\n\";","module.exports = \"<div class=\\\"dropdown__wrp_list\\\">\\r\\n    <div class=\\\"js-list-region dd-list__wrp {{#if showAddNewButton}}dd-list__wrp_button{{/if}}\\\"></div>\\r\\n</div>\\r\\n{{#if showAddNewButton}}\\r\\n<div class=\\\"dd-list__btn js-add-new-button-region\\\"></div>\\r\\n{{/if}}\\r\\n<div class=\\\"js-elements-quantity-warning-region\\\"></div>\\r\\n\";","module.exports = \"<div class=\\\"js-collection-region\\\"></div>\\r\\n<div class=\\\"js-loading-region\\\"></div>\\r\\n<i class=\\\"fa fa-angle-down bubbles__caret\\\"></i>\";","module.exports = \"<span>{{localize 'CORE.FORM.EDITORS.REFERENCE.QUANTITYWARNING'}}</span>\";","module.exports = \"<input type=\\\"text\\\" class=\\\"js-input bubbles__input\\\" autocomplete=\\\"off\\\">\";","module.exports = \"<i class=\\\"fa fa-spinner fa-pulse\\\"></i>\";","module.exports = \"{{#if showCheckboxes}}\\r\\n    <span class=\\\"checkbox js-checkbox\\\">\\r\\n        <svg class=\\\"svg-icons svg-icons_checked svg-icons_checked-reference\\\">\\r\\n            <use xlink:href=\\\"#icon-checked\\\"/>\\r\\n        </svg>\\r\\n    </span>\\r\\n{{/if}}\\r\\n<span class=\\\"dd-list__text\\\" title=\\\"{{text}}\\\">{{text}}</span>\\r\\n\";","//@flow\r\nimport { helpers } from 'utils';\r\nimport template from '../templates/addNewButton.hbs';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'reqres');\r\n        this.reqres = options.reqres;\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    events: {\r\n        click: '__onClick'\r\n    },\r\n\r\n    className: 'reference-btn',\r\n\r\n    __onClick() {\r\n        this.reqres.request('add:new:item');\r\n    }\r\n});\r\n","// @flow\r\nimport BubbleItemView from './BubbleItemView';\r\nimport InputView from './InputView';\r\nimport FakeInputModel from '../models/FakeInputModel';\r\n\r\nexport default Marionette.CollectionView.extend({\r\n    initialize(options) {\r\n        this.reqres = options.reqres;\r\n        this.collection = this.model.selected;\r\n    },\r\n\r\n    className: 'bubbles__list',\r\n\r\n    childView(model) {\r\n        if (model instanceof FakeInputModel) {\r\n            return InputView;\r\n        }\r\n        return BubbleItemView;\r\n    },\r\n\r\n    focus() {\r\n        const fakeInputModel = this.__findFakeInputModel();\r\n        if (!fakeInputModel) {\r\n            return;\r\n        }\r\n        const input = this.children.findByModel(fakeInputModel);\r\n        if (input && input.focus) {\r\n            input.focus();\r\n        }\r\n    },\r\n\r\n    blur() {\r\n        const fakeInputModel = this.__findFakeInputModel();\r\n        if (!fakeInputModel) {\r\n            return;\r\n        }\r\n        const input = this.children.findByModel(fakeInputModel);\r\n\r\n        if (input && input.blur) {\r\n            input.blur();\r\n        }\r\n    },\r\n\r\n    updateInput() {\r\n        const fakeInputModel = this.__findFakeInputModel();\r\n        if (fakeInputModel) {\r\n            const input = this.children.findByModel(fakeInputModel);\r\n            if (input) {\r\n                input.updateInput();\r\n            }\r\n        }\r\n    },\r\n\r\n    __findFakeInputModel() {\r\n        return this.collection.models.find(model => model instanceof FakeInputModel && model);\r\n    },\r\n\r\n    childViewOptions() {\r\n        return {\r\n            reqres: this.reqres,\r\n            parent: this.el,\r\n            enabled: this.options.enabled,\r\n            createValueUrl: this.options.createValueUrl,\r\n            showEditButton: this.options.showEditButton,\r\n            showRemoveButton: this.options.canDeleteItem,\r\n            getDisplayText: this.options.getDisplayText\r\n        };\r\n    },\r\n\r\n    updateEnabled(enabled) {\r\n        this.children.each(cv => {\r\n            if (cv.updateEnabled) {\r\n                cv.updateEnabled(enabled);\r\n            }\r\n        });\r\n    }\r\n});\r\n","// @flow\r\nimport iconWrapRemoveBubble from '../../../iconsWraps/iconWrapRemoveBubble.html';\r\nimport iconWrapPencil from '../../../iconsWraps/iconWrapPencil.html';\r\nimport template from '../templates/bubbleItem.hbs';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        this.reqres = options.reqres;\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        return {\r\n            url: this.options.createValueUrl(this.model.attributes),\r\n            text: this.options.getDisplayText(this.options.model.attributes)\r\n        };\r\n    },\r\n\r\n    attributes() {\r\n        return {\r\n            draggable: true,\r\n            title: this.options.getDisplayText(this.options.model.attributes),\r\n            tabindex: '-1'\r\n        };\r\n    },\r\n\r\n    className: 'bubbles__i',\r\n\r\n    ui: {\r\n        clearButton: '.js-bubble-delete',\r\n        editButton: '.js-edit-button'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.clearButton': '__delete',\r\n        'click @ui.editButton': '__edit',\r\n        click: '__click',\r\n        drag: '__handleDrag',\r\n        mouseenter: '__onMouseenter',\r\n        mouseleave: '__onMouseleave'\r\n    },\r\n\r\n    __delete() {\r\n        this.reqres.request('bubble:delete', this.model);\r\n        return false;\r\n    },\r\n\r\n    __click(e) {\r\n        if (e.target.tagName === 'A') {\r\n            e.stopPropagation();\r\n            return;\r\n        }\r\n        this.reqres.request('button:click');\r\n    },\r\n\r\n    __edit() {\r\n        if (this.reqres.request('value:edit', this.model.attributes)) {\r\n            return false;\r\n        }\r\n        return null;\r\n    },\r\n\r\n    updateEnabled(enabled) {\r\n        this.options.enabled = enabled;\r\n    },\r\n\r\n    onRender() {\r\n        this.updateEnabled(this.options.enabled);\r\n        if (this.options.showEditButton && Boolean(this.model.attributes)) {\r\n            this.el.classList.add('bubbles__i-edit-btn');\r\n        }\r\n    },\r\n\r\n    __handleDrag(event) {\r\n        event.data = {\r\n            id: this.model.id,\r\n            type: 'reference'\r\n        };\r\n    },\r\n\r\n    __onMouseenter() {\r\n        if (this.options.showEditButton && Boolean(this.model.attributes)) {\r\n            this.el.insertAdjacentHTML('beforeend', iconWrapPencil);\r\n        }\r\n        if (this.options.enabled && this.options.showRemoveButton) {\r\n            this.el.insertAdjacentHTML('beforeend', iconWrapRemoveBubble);\r\n        }\r\n    },\r\n\r\n    __onMouseleave() {\r\n        if (this.options.showEditButton && Boolean(this.model.attributes)) {\r\n            this.el.removeChild(this.el.lastElementChild);\r\n        }\r\n        if (this.options.enabled && this.options.showRemoveButton) {\r\n            this.el.removeChild(this.el.lastElementChild);\r\n        }\r\n    }\r\n});\r\n","// @flow\r\nimport template from '../templates/button.hbs';\r\nimport BubbleCollection from './BubbleCollectionView';\r\nimport LoadingView from './LoadingView';\r\n\r\nconst classes = {\r\n    CLASS_NAME: 'bubbles',\r\n    DISABLED: ' disabled'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        this.reqres = options.reqres;\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className() {\r\n        return classes.CLASS_NAME + (this.options.enabled ? '' : classes.DISABLED);\r\n    },\r\n\r\n    regions: {\r\n        collectionRegion: {\r\n            el: '.js-collection-region',\r\n            replaceElement: true\r\n        },\r\n        loadingRegion: '.js-loading-region'\r\n    },\r\n\r\n    events: {\r\n        click: '__click'\r\n    },\r\n\r\n    __click() {\r\n        this.reqres.request('button:click');\r\n    },\r\n\r\n    onRender(): void {\r\n        this.collectionView = new BubbleCollection(this.options);\r\n        this.showChildView('collectionRegion', this.collectionView);\r\n        this.collectionView.on('add:child remove:child', () => this.trigger('change:content'));\r\n    },\r\n\r\n    focus() {\r\n        this.collectionView.focus();\r\n    },\r\n\r\n    blur() {\r\n        this.collectionView.blur();\r\n    },\r\n\r\n    setLoading(state) {\r\n        if (this.isDestroyed()) {\r\n            return;\r\n        }\r\n        // this.isLoading = state;\r\n        if (state) {\r\n            this.showChildView('loadingRegion', new LoadingView());\r\n        } else {\r\n            this.getRegion('loadingRegion').reset();\r\n        }\r\n    }\r\n});\r\n","// @flow\r\nimport template from '../templates/elementsQuantityWarning.hbs';\r\n\r\nexport default Marionette.View.extend({\r\n    className: 'bubble_editor__elements_quantity_warning',\r\n\r\n    template: Handlebars.compile(template)\r\n});\r\n","// @flow\r\nimport LocalizationService from '../../../../../services/LocalizationService';\r\nimport template from '../templates/input.hbs';\r\n\r\nconst classes = {\r\n    EMPTY: 'empty'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        this.reqres = options.reqres;\r\n        this.parent = options.parent;\r\n\r\n        this.filterValue = '';\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'bubbles__form',\r\n\r\n    ui: {\r\n        input: '.js-input'\r\n    },\r\n\r\n    focusElement: '.js-input',\r\n\r\n    events: {\r\n        'keydown @ui.input': '__search',\r\n        'input @ui.input': '__search'\r\n    },\r\n\r\n    modelEvents: {\r\n        'change:empty': '__updateInputPlaceholder'\r\n    },\r\n\r\n    onRender() {\r\n        this.updateInput();\r\n        this.__updateInputPlaceholder();\r\n    },\r\n\r\n    focus() {\r\n        this.ui.input.focus();\r\n    },\r\n\r\n    blur() {\r\n        this.ui.input.blur();\r\n    },\r\n\r\n    __getFilterValue() {\r\n        return (\r\n            this.__getRawValue()\r\n                .toLowerCase()\r\n                .trim() || ''\r\n        );\r\n    },\r\n\r\n    __getRawValue() {\r\n        return this.ui.input.value;\r\n    },\r\n\r\n    updateInput(value = '') {\r\n        this.ui.input.value = value;\r\n    },\r\n\r\n    __search(e) {\r\n        const value = this.__getFilterValue();\r\n        switch (e.keyCode) {\r\n            case 8: {\r\n                if (this.__getRawValue().length === 0) {\r\n                    if (!this.options.enabled) {\r\n                        return;\r\n                    }\r\n                    this.reqres.request('bubble:delete:last');\r\n                }\r\n                break;\r\n            }\r\n            case 13: {\r\n                this.reqres.request('try:value:select');\r\n                break;\r\n            }\r\n            case 38: {\r\n                this.reqres.request('input:up');\r\n                break;\r\n            }\r\n            case 40: {\r\n                this.reqres.request('input:down');\r\n                break;\r\n            }\r\n            default: {\r\n                if (this.filterValue === value) {\r\n                    return;\r\n                }\r\n                this.filterValue = value;\r\n                this.reqres.request('input:search', value, false);\r\n            }\r\n        }\r\n    },\r\n\r\n    __updateInputPlaceholder() {\r\n        const empty = this.model.get('empty');\r\n        const placeholder = empty ? LocalizationService.get('CORE.FORM.EDITORS.BUBBLESELECT.NOTSET') : '';\r\n\r\n        this.ui.input.setAttribute('placeholder', placeholder);\r\n        this.ui.input.classList.toggle(classes.EMPTY, empty);\r\n    }\r\n});\r\n","import template from '../templates/loading.hbs';\r\n\r\nexport default Marionette.View.extend({\r\n    className: 'spinner',\r\n\r\n    template: Handlebars.compile(template)\r\n});\r\n","// @flow\r\nimport list from 'list';\r\nimport template from '../templates/bubblePanel.hbs';\r\nimport LocalizationService from '../../../../../services/LocalizationService';\r\nimport AddNewButtonView from './AddNewButtonView';\r\nimport ElementsQuantityWarningView from './ElementsQuantityWarningView';\r\n\r\nconst config = {\r\n    CHILD_HEIGHT: 25\r\n};\r\n\r\nconst classes = {\r\n    EMPTY_VIEW: 'editor__common-empty-view'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        this.reqres = options.reqres;\r\n        this.showAddNewButton = this.options.showAddNewButton;\r\n    },\r\n\r\n    className: 'dropdown__wrp dropdown__wrp_reference',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        return {\r\n            showAddNewButton: this.showAddNewButton\r\n        };\r\n    },\r\n\r\n    regions: {\r\n        listRegion: {\r\n            el: '.js-list-region',\r\n            replaceElement: true\r\n        },\r\n        addNewButtonRegion: '.js-add-new-button-region',\r\n        listTitleRegion: '.js-list-title-region',\r\n        elementsQuantityWarningRegion: '.js-elements-quantity-warning-region'\r\n    },\r\n\r\n    onAttach() {\r\n        const collection = this.options.collection;\r\n\r\n        this.listView = list.factory.createDefaultList({\r\n            collection,\r\n            listViewOptions: {\r\n                childView: this.options.listItemView,\r\n                childViewOptions: {\r\n                    reqres: this.reqres,\r\n                    getDisplayText: this.options.getDisplayText,\r\n                    showCheckboxes: this.options.showCheckboxes\r\n                },\r\n                emptyViewOptions: {\r\n                    text: LocalizationService.get('CORE.FORM.EDITORS.REFERENCE.NOITEMS'),\r\n                    className: classes.EMPTY_VIEW\r\n                },\r\n                selectOnCursor: false,\r\n                childHeight: config.CHILD_HEIGHT\r\n            }\r\n        });\r\n\r\n        if (this.showAddNewButton) {\r\n            this.el.classList.add('dropdown__wrp_reference-button');\r\n            const addNewButton = new AddNewButtonView({ reqres: this.reqres });\r\n            this.showChildView('addNewButtonRegion', addNewButton);\r\n        }\r\n        this.showChildView('listRegion', this.listView);\r\n\r\n        this.showChildView('elementsQuantityWarningRegion', new ElementsQuantityWarningView());\r\n        this.__toggleElementsQuantityWarning(collection.length, collection.totalCount);\r\n\r\n        this.listenTo(this.listView, 'update:height', () => this.trigger('change:content'));\r\n        this.listenTo(collection, 'add reset update', () => this.__toggleElementsQuantityWarning(collection.length, collection.totalCount));\r\n    },\r\n\r\n    handleCommand(command) {\r\n        switch (command) {\r\n            case 'up':\r\n                this.listView.moveCursorBy(-1, false);\r\n                break;\r\n            case 'down':\r\n                this.listView.moveCursorBy(1, false);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n\r\n    __toggleElementsQuantityWarning(collectionLength, count) {\r\n        const warningRegion = this.getRegion('elementsQuantityWarningRegion');\r\n\r\n        if (warningRegion) {\r\n            count > collectionLength ? warningRegion.el.removeAttribute('displayNone') : warningRegion.el.setAttribute('displayNone', true);\r\n        }\r\n    },\r\n\r\n    __valueSelect() {\r\n        this.reqres.request('value:select');\r\n    }\r\n});\r\n","import template from '../templates/referenceListItem.hbs';\r\nimport list from 'list';\r\n\r\nconst classes = {\r\n    SELECTED: 'editor_checked'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    className() {\r\n        return `dd-list__i${this.options.showCheckboxes ? ' dd-list__i_checkbox' : ''}`;\r\n    },\r\n\r\n    behaviors: [{\r\n        behaviorClass: list.views.behaviors.ListItemViewBehavior,\r\n        multiSelect: true,\r\n        selectOnCursor: false\r\n    }],\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        return {\r\n            text: this.options.getDisplayText(this.model.toJSON()),\r\n            showCheckboxes: this.options.showCheckboxes\r\n        };\r\n    },\r\n\r\n    onRender() {\r\n        if (this.model.selected) {\r\n            this.__markSelected();\r\n        } else {\r\n            this.__markDeselected();\r\n        }\r\n    },\r\n\r\n    modelEvents: {\r\n        selected: '__markSelected',\r\n        deselected: '__markDeselected'\r\n    },\r\n\r\n    __markSelected() {\r\n        this.el.find('.js-checkbox') && this.el.find('.js-checkbox').classList.add(classes.SELECTED);\r\n    },\r\n\r\n    __markDeselected() {\r\n        this.el.find('.js-checkbox') && this.el.find('.js-checkbox').classList.remove(classes.SELECTED);\r\n    }\r\n});\r\n","module.exports = \"<div class=\\\"js-datetimepicker\\\"></div>\";","import { helpers } from 'utils';\r\nimport LocalizationService from '../../../../../services/LocalizationService';\r\nimport DateTimeService from '../../../services/DateTimeService';\r\nimport TextEditorView from '../../../TextEditorView';\r\n\r\nexport default TextEditorView.extend({\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'allowEmptyValue');\r\n    },\r\n\r\n    events: {\r\n        click: '__onClick',\r\n        'focus @ui.input': '__onFocus'\r\n    },\r\n\r\n    onRender() {\r\n        this.setPlaceholder();\r\n        this.setValue(this.options.value);\r\n    },\r\n\r\n    setPlaceholder() {\r\n        this.ui.input.setAttribute('placeholder', LocalizationService.get('CORE.FORM.EDITORS.DATE.EMPTYPLACEHOLDER'));\r\n    },\r\n\r\n    setValue(value) {\r\n        if (this.isDestroyed()) {\r\n            return;\r\n        }\r\n        const displayValue = DateTimeService.getDateDisplayValue(value, this.options.dateDisplayFormat);\r\n        this.ui.input.value = displayValue;\r\n        if (this.getOption('showTitle')) {\r\n            this.el.setAttribute('title', displayValue);\r\n        }\r\n    },\r\n\r\n    __onClick() {\r\n        this.trigger('calendar:open');\r\n    },\r\n\r\n    __onFocus() {\r\n        this.trigger('focus');\r\n    },\r\n\r\n    focus() {\r\n        this.ui.input.focus();\r\n        this.trigger('focus');\r\n        this.trigger('calendar:open');\r\n    }\r\n});\r\n","import { dateHelpers } from 'utils';\r\nimport template from '../templates/datePanel.hbs';\r\nimport LocalizationService from '../../../../../services/LocalizationService';\r\n\r\nconst defaultOptions = {\r\n    pickerFormat: 'YYYY-MM-DD'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    initialize() {\r\n        this.pickerOptions = {\r\n            minView: 2,\r\n            format: this.options.pickerFormat,\r\n            todayBtn: true,\r\n            weekStart: dateHelpers.getWeekStartDay(),\r\n            language: LocalizationService.langCode\r\n        };\r\n    },\r\n\r\n    className: 'dropdown__wrp dropdown__wrp_datepicker',\r\n\r\n    ui: {\r\n        pickerInput: '.js-datetimepicker'\r\n    },\r\n\r\n    updatePickerDate(val) {\r\n        let value = val;\r\n        if (isNaN(val)) {\r\n            value = new Date();\r\n            return;\r\n        }\r\n\r\n        const format = defaultOptions.pickerFormat;\r\n        const pickerFormattedDate = val ? moment(new Date(val)).format(format) : moment({}).format(format);\r\n        this.ui.pickerInput.datetimepicker('setDate', value);\r\n        this.ui.pickerInput.setAttribute('data-date', pickerFormattedDate);\r\n        this.ui.pickerInput.datetimepicker('update');\r\n    },\r\n\r\n    updateValue(date) {\r\n        this.updatePickerDate(date);\r\n        this.trigger('select', date);\r\n    },\r\n\r\n    onAttach() {\r\n        this.ui.pickerInput.datetimepicker(this.pickerOptions).on('changeDate', e => this.updateValue(e.date));\r\n        this.updatePickerDate(new Date(this.options.value));\r\n    }\r\n});\r\n","(factory => {\r\n    factory(require('jquery'));\r\n})($ => {\r\n    let DPGlobal;\r\n    let dates;\r\n\r\n    const old = $.fn.datetimepicker;\r\n\r\n    function timeZoneAbbreviation() {\r\n        const date = new Date().toString();\r\n        let ref;\r\n\r\n        return ((ref = date.split('(')[1]) != null ? ref.slice(0, -1) : 0) || date.split(' ');\r\n    }\r\n\r\n    function UTCDate() {\r\n        return new Date(Date.UTC.apply(Date, arguments));\r\n    }\r\n\r\n    // Picker object\r\n    const Datetimepicker = function (element, options) {\r\n        this.element = $(element);\r\n\r\n        this.language = 'en';\r\n        this.language = this.language in dates ? this.language : this.language.split('-')[0]; // fr-CA fallback to fr\r\n        this.language = this.language in dates ? this.language : 'en';\r\n        this.isRTL = dates[this.language].rtl || false;\r\n        this.formatType = options.formatType || this.element.data('format-type') || 'standard';\r\n        this.format = DPGlobal.parseFormat(\r\n            options.format || this.element.data('date-format') || dates[this.language].format || DPGlobal.getDefaultFormat(this.formatType, 'input'),\r\n            this.formatType\r\n        );\r\n\r\n        this.initialDate = new Date();\r\n        this.zIndex = options.zIndex || this.element.data('z-index') || undefined;\r\n        this.title = typeof options.title === 'undefined' ? false : options.title;\r\n        this.timezone = options.timezone || timeZoneAbbreviation();\r\n\r\n        this.icons = {\r\n            leftArrow: 'icon-arrow-left',\r\n            rightArrow: 'icon-arrow-right'\r\n        };\r\n        this.icontype = 'glyphicon';\r\n\r\n        this._attachEvents();\r\n\r\n        this.formatViewType = 'datetime';\r\n\r\n        this.minView = DPGlobal.convertViewMode(2);\r\n\r\n        this.maxView = DPGlobal.convertViewMode(DPGlobal.modes.length - 1);\r\n\r\n        this.startViewMode = DPGlobal.convertViewMode(2);\r\n\r\n        this.viewMode = this.startViewMode;\r\n\r\n        this.viewSelect = DPGlobal.convertViewMode(this.minView);\r\n\r\n        let template = DPGlobal.template;\r\n\r\n        while (template.indexOf('{iconType}') !== -1) {\r\n            template = template.replace('{iconType}', this.icontype);\r\n        }\r\n        while (template.indexOf('{leftArrow}') !== -1) {\r\n            template = template.replace('{leftArrow}', this.icons.leftArrow);\r\n        }\r\n        while (template.indexOf('{rightArrow}') !== -1) {\r\n            template = template.replace('{rightArrow}', this.icons.rightArrow);\r\n        }\r\n        this.picker = $(template)\r\n            .appendTo(this.element)\r\n            .on({\r\n                click: $.proxy(this.click, this),\r\n                mousedown: $.proxy(this.mousedown, this)\r\n            });\r\n\r\n        this.picker.classList.add('datetimepicker-inline');\r\n\r\n        if (this.isRTL) {\r\n            this.picker.classList.add('datetimepicker-rtl');\r\n            const selector = '.prev i, .next i';\r\n            this.picker.find(selector).classList.toggle(`${this.icons.leftArrow} ${this.icons.rightArrow}`);\r\n        }\r\n\r\n        $(document).on('mousedown touchend', this.clickedOutside);\r\n\r\n        this.weekStart = 0;\r\n        if (typeof options.weekStart !== 'undefined') {\r\n            this.weekStart = options.weekStart;\r\n        } else if (typeof dates[this.language].weekStart !== 'undefined') {\r\n            this.weekStart = dates[this.language].weekStart;\r\n        }\r\n        this.weekStart = this.weekStart % 7;\r\n        this.weekEnd = (this.weekStart + 6) % 7;\r\n        this.onRenderDay = date => {\r\n            let render = (options.onRenderDay\r\n                || function () {\r\n                    return [];\r\n                })(date);\r\n            if (typeof render === 'string') {\r\n                render = [render];\r\n            }\r\n            const res = ['day'];\r\n            return res.concat(render || []);\r\n        };\r\n\r\n        this.onRenderYear = function (date) {\r\n            let render = (options.onRenderYear\r\n                || function () {\r\n                    return [];\r\n                })(date);\r\n            const res = ['year'];\r\n            if (typeof render === 'string') {\r\n                render = [render];\r\n            }\r\n            if (this.date.getUTCFullYear() === date.getUTCFullYear()) {\r\n                res.push('active');\r\n            }\r\n            const currentYear = date.getUTCFullYear();\r\n            const endYear = this.endDate.getUTCFullYear();\r\n            if (date < this.startDate || currentYear > endYear) {\r\n                res.push('disabled');\r\n            }\r\n            return res.concat(render || []);\r\n        };\r\n        this.onRenderMonth = function (date) {\r\n            let render = (options.onRenderMonth\r\n                || function () {\r\n                    return [];\r\n                })(date);\r\n            const res = ['month'];\r\n            if (typeof render === 'string') {\r\n                render = [render];\r\n            }\r\n            return res.concat(render || []);\r\n        };\r\n        this.startDate = new Date(-8639968443048000);\r\n        this.endDate = new Date(8639968443048000);\r\n        this.datesDisabled = [];\r\n        this.daysOfWeekDisabled = [];\r\n        this.setStartDate(options.startDate);\r\n        this.setEndDate(options.endDate);\r\n        this.setDatesDisabled(options.datesDisabled);\r\n        this.setDaysOfWeekDisabled(options.daysOfWeekDisabled);\r\n        this.fillDow();\r\n        this.fillMonths();\r\n        this.update();\r\n        this.showMode();\r\n\r\n        this.removeAttribute('displayNone');;\r\n    };\r\n\r\n    Datetimepicker.prototype = {\r\n        constructor: Datetimepicker,\r\n\r\n        _events: [],\r\n        _attachEvents() {\r\n            this._detachEvents();\r\n\r\n            for (let i = 0, el, ev; i < this._events.length; i++) {\r\n                el = this._events[i][0];\r\n                ev = this._events[i][1];\r\n                el.on(ev);\r\n            }\r\n        },\r\n\r\n        _detachEvents() {\r\n            for (let i = 0, el, ev; i < this._events.length; i++) {\r\n                el = this._events[i][0];\r\n                ev = this._events[i][1];\r\n                el.off(ev);\r\n            }\r\n            this._events = [];\r\n        },\r\n\r\n        show(e) {\r\n            this.picker.removeAttribute('displayNone');;\r\n            this.height = this.element.outerHeight();\r\n\r\n            if (e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n            }\r\n\r\n            this.element.trigger({\r\n                type: 'show',\r\n                date: this.date\r\n            });\r\n        },\r\n\r\n        remove() {\r\n            this._detachEvents();\r\n            $(document).off('mousedown', this.clickedOutside);\r\n            this.picker.remove();\r\n            delete this.picker;\r\n            delete this.element.data().datetimepicker;\r\n        },\r\n\r\n        getDate() {\r\n            const d = this.getUTCDate();\r\n            if (d === null) {\r\n                return null;\r\n            }\r\n            return new Date(d.getTime() + d.getTimezoneOffset() * 60000);\r\n        },\r\n\r\n        getUTCDate() {\r\n            return this.date;\r\n        },\r\n\r\n        getInitialDate() {\r\n            return this.initialDate;\r\n        },\r\n\r\n        setInitialDate(initialDate) {\r\n            this.initialDate = initialDate;\r\n        },\r\n\r\n        setDate(d) {\r\n            this.setUTCDate(new Date(d.getTime() - d.getTimezoneOffset() * 60000));\r\n        },\r\n\r\n        setUTCDate(d) {\r\n            if (d >= this.startDate && d <= this.endDate) {\r\n                this.date = d;\r\n                this.setValue();\r\n                this.viewDate = this.date;\r\n                this.fill();\r\n            } else {\r\n                this.element.trigger({\r\n                    type: 'outOfRange',\r\n                    date: d,\r\n                    startDate: this.startDate,\r\n                    endDate: this.endDate\r\n                });\r\n            }\r\n        },\r\n\r\n        setFormat(format) {\r\n            this.format = DPGlobal.parseFormat(format, this.formatType);\r\n            let element;\r\n\r\n            if (element && element.val()) {\r\n                this.setValue();\r\n            }\r\n        },\r\n\r\n        setValue() {\r\n            this.element.data('date', this.getFormattedDate());\r\n        },\r\n\r\n        getFormattedDate(format = this.format) {\r\n            return DPGlobal.formatDate(this.date, format, this.language, this.formatType, this.timezone);\r\n        },\r\n\r\n        setStartDate(startDate) {\r\n            this.startDate = startDate || this.startDate;\r\n            if (this.startDate.valueOf() !== 8639968443048000) {\r\n                this.startDate = DPGlobal.parseDate(this.startDate, this.format, this.language, this.formatType, this.timezone);\r\n            }\r\n            this.update();\r\n            this.updateNavArrows();\r\n        },\r\n\r\n        setEndDate(endDate) {\r\n            this.endDate = endDate || this.endDate;\r\n            if (this.endDate.valueOf() !== 8639968443048000) {\r\n                this.endDate = DPGlobal.parseDate(this.endDate, this.format, this.language, this.formatType, this.timezone);\r\n            }\r\n            this.update();\r\n            this.updateNavArrows();\r\n        },\r\n\r\n        setDatesDisabled(datesDisabled) {\r\n            this.datesDisabled = datesDisabled || [];\r\n            if (!$.isArray(this.datesDisabled)) {\r\n                this.datesDisabled = this.datesDisabled.split(/,\\s*/);\r\n            }\r\n            const mThis = this;\r\n            this.datesDisabled = $.map(this.datesDisabled, d => DPGlobal.parseDate(d, mThis.format, mThis.language, mThis.formatType, mThis.timezone).toDateString());\r\n            this.update();\r\n            this.updateNavArrows();\r\n        },\r\n\r\n        setTitle(selector, value) {\r\n            return this.picker\r\n                .find(selector)\r\n                .find('th:eq(1)')\r\n                .text(this.title === false ? value : this.title);\r\n        },\r\n\r\n        setDaysOfWeekDisabled(daysOfWeekDisabled) {\r\n            this.daysOfWeekDisabled = daysOfWeekDisabled || [];\r\n            if (!$.isArray(this.daysOfWeekDisabled)) {\r\n                this.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\\s*/);\r\n            }\r\n            this.daysOfWeekDisabled = $.map(this.daysOfWeekDisabled, d => parseInt(d, 10));\r\n            this.update();\r\n            this.updateNavArrows();\r\n        },\r\n\r\n        hour_minute: '^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]',\r\n\r\n        update() {\r\n            let date;\r\n            let fromArgs = false;\r\n            if (arguments && arguments.length && (typeof arguments[0] === 'string' || arguments[0] instanceof Date)) {\r\n                date = arguments[0];\r\n                fromArgs = true;\r\n            } else {\r\n                date = this.element.find('input').val() || this.element.data('date') || this.initialDate;\r\n                if (typeof date === 'string') {\r\n                    date = date.replace(/^\\s+|\\s+$/g, '');\r\n                }\r\n            }\r\n\r\n            if (!date) {\r\n                date = new Date();\r\n                fromArgs = false;\r\n            }\r\n\r\n            if (typeof date === 'string') {\r\n                if (new RegExp(this.hour_minute).test(date) || new RegExp(`${this.hour_minute}:[0-5][0-9]`).test(date)) {\r\n                    date = this.getDate();\r\n                }\r\n            }\r\n\r\n            this.date = DPGlobal.parseDate(date, this.format, this.language, this.formatType, this.timezone);\r\n\r\n            if (fromArgs) this.setValue();\r\n\r\n            if (this.date < this.startDate) {\r\n                this.viewDate = new Date(this.startDate);\r\n            } else if (this.date > this.endDate) {\r\n                this.viewDate = new Date(this.endDate);\r\n            } else {\r\n                this.viewDate = new Date(this.date);\r\n            }\r\n            this.fill();\r\n        },\r\n\r\n        fillDow() {\r\n            let dowCnt = this.weekStart;\r\n            let html = '<tr>';\r\n            while (dowCnt < this.weekStart + 7) {\r\n                html += `<th class=\"dow\">${dates[this.language].daysMin[dowCnt++ % 7]}</th>`;\r\n            }\r\n            html += '</tr>';\r\n            this.picker.find('.datetimepicker-days thead').append(html);\r\n        },\r\n\r\n        fillMonths() {\r\n            let html = '';\r\n            const d = new Date(this.viewDate);\r\n            for (let i = 0; i < 12; i++) {\r\n                d.setUTCMonth(i);\r\n                const classes = this.onRenderMonth(d);\r\n                html += `<span class=\"${classes.join(' ')}\">${dates[this.language].monthsShort[i]}</span>`;\r\n            }\r\n            this.picker.find('.datetimepicker-months td').html(html);\r\n        },\r\n\r\n        fill() {\r\n            if (!this.date || !this.viewDate) {\r\n                return;\r\n            }\r\n            let d = new Date(this.viewDate);\r\n            let year = d.getUTCFullYear();\r\n            const month = d.getUTCMonth();\r\n            const startYear = this.startDate.getUTCFullYear();\r\n            const startMonth = this.startDate.getUTCMonth();\r\n            const endYear = this.endDate.getUTCFullYear();\r\n            const endMonth = this.endDate.getUTCMonth() + 1;\r\n            const currentDate = new UTCDate(this.date.getUTCFullYear(), this.date.getUTCMonth(), this.date.getUTCDate()).valueOf();\r\n            const today = new Date();\r\n\r\n            this.setTitle('.datetimepicker-days', `${dates[this.language].months[month]} ${year}`);\r\n\r\n            this.picker.find('tfoot th.today').text(dates[this.language].today || dates.en.today);\r\n\r\n            this.updateNavArrows();\r\n            this.fillMonths();\r\n            const prevMonth = UTCDate(year, month - 1, 28, 0, 0, 0, 0);\r\n            const day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\r\n            prevMonth.setUTCDate(day);\r\n            prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.weekStart + 7) % 7);\r\n            let nextMonth = new Date(prevMonth);\r\n            nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\r\n            nextMonth = nextMonth.valueOf();\r\n            let html = [];\r\n            let classes;\r\n            while (prevMonth.valueOf() < nextMonth) {\r\n                if (prevMonth.getUTCDay() === this.weekStart) {\r\n                    html.push('<tr>');\r\n                }\r\n                classes = this.onRenderDay(prevMonth);\r\n                if (prevMonth.getUTCFullYear() < year || (prevMonth.getUTCFullYear() === year && prevMonth.getUTCMonth() < month)) {\r\n                    classes.push('old');\r\n                } else if (prevMonth.getUTCFullYear() > year || (prevMonth.getUTCFullYear() === year && prevMonth.getUTCMonth() > month)) {\r\n                    classes.push('new');\r\n                }\r\n                // Compare internal UTC date with local today, not UTC today\r\n                if (prevMonth.getUTCFullYear() === today.getFullYear() && prevMonth.getUTCMonth() === today.getMonth() && prevMonth.getUTCDate() === today.getDate()) {\r\n                    classes.push('today');\r\n                }\r\n                if (prevMonth.valueOf() === currentDate) {\r\n                    classes.push('active');\r\n                }\r\n                if (\r\n                    prevMonth.valueOf() + 86400000 <= this.startDate ||\r\n                    prevMonth.valueOf() > this.endDate ||\r\n                    $.inArray(prevMonth.getUTCDay(), this.daysOfWeekDisabled) !== -1 ||\r\n                    $.inArray(prevMonth.toDateString(), this.datesDisabled) !== -1\r\n                ) {\r\n                    classes.push('disabled');\r\n                }\r\n                html.push(`<td class=\"${classes.join(' ')}\">${prevMonth.getUTCDate()}</td>`);\r\n                if (prevMonth.getUTCDay() === this.weekEnd) {\r\n                    html.push('</tr>');\r\n                }\r\n                prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\r\n            }\r\n            this.picker\r\n                .find('.datetimepicker-days tbody')\r\n                .empty()\r\n                .append(html.join(''));\r\n\r\n            const currentYear = this.date.getUTCFullYear();\r\n            const months = this.setTitle('.datetimepicker-months', year)\r\n                .end()\r\n                .find('.month')\r\n                .classList.remove('active');\r\n            if (currentYear === year) {\r\n                // getUTCMonths() returns 0 based, and we need to select the next one\r\n                // To cater bootstrap 2 we don't need to select the next one\r\n                months.eq(this.date.getUTCMonth()).classList.add('active');\r\n            }\r\n            if (year < startYear || year > endYear) {\r\n                months.classList.add('disabled');\r\n            }\r\n            if (year === startYear) {\r\n                months.slice(0, startMonth).classList.add('disabled');\r\n            }\r\n            if (year === endYear) {\r\n                months.slice(endMonth).classList.add('disabled');\r\n            }\r\n\r\n            html = '';\r\n            year = parseInt(year / 10, 10) * 10;\r\n            const yearCont = this.setTitle('.datetimepicker-years', `${year}-${year + 9}`)\r\n                .end()\r\n                .find('td');\r\n            year -= 1;\r\n            d = new Date(this.viewDate);\r\n            for (let i = -1; i < 11; i++) {\r\n                d.setUTCFullYear(year);\r\n                classes = this.onRenderYear(d);\r\n                if (i === -1 || i === 10) {\r\n                    classes.push(old);\r\n                }\r\n                html += `<span class=\"${classes.join(' ')}\">${year}</span>`;\r\n                year += 1;\r\n            }\r\n            yearCont.html(html);\r\n        },\r\n\r\n        updateNavArrows() {\r\n            const d = new Date(this.viewDate);\r\n            const year = d.getUTCFullYear();\r\n            const month = d.getUTCMonth();\r\n            const day = d.getUTCDate();\r\n            const hour = d.getUTCHours();\r\n\r\n            switch (this.viewMode) {\r\n                case 0:\r\n                    if (\r\n                        year <= this.startDate.getUTCFullYear() &&\r\n                        month <= this.startDate.getUTCMonth() &&\r\n                        day <= this.startDate.getUTCDate() &&\r\n                        hour <= this.startDate.getUTCHours()\r\n                    ) {\r\n                        this.picker.find('.prev').css({ visibility: 'hidden' });\r\n                    } else {\r\n                        this.picker.find('.prev').css({ visibility: 'visible' });\r\n                    }\r\n                    if (year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth() && day >= this.endDate.getUTCDate() && hour >= this.endDate.getUTCHours()) {\r\n                        this.picker.find('.next').css({ visibility: 'hidden' });\r\n                    } else {\r\n                        this.picker.find('.next').css({ visibility: 'visible' });\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    if (year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth() && day <= this.startDate.getUTCDate()) {\r\n                        this.picker.find('.prev').css({ visibility: 'hidden' });\r\n                    } else {\r\n                        this.picker.find('.prev').css({ visibility: 'visible' });\r\n                    }\r\n                    if (year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth() && day >= this.endDate.getUTCDate()) {\r\n                        this.picker.find('.next').css({ visibility: 'hidden' });\r\n                    } else {\r\n                        this.picker.find('.next').css({ visibility: 'visible' });\r\n                    }\r\n                    break;\r\n                case 2:\r\n                    if (year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth()) {\r\n                        this.picker.find('.prev').css({ visibility: 'hidden' });\r\n                    } else {\r\n                        this.picker.find('.prev').css({ visibility: 'visible' });\r\n                    }\r\n                    if (year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth()) {\r\n                        this.picker.find('.next').css({ visibility: 'hidden' });\r\n                    } else {\r\n                        this.picker.find('.next').css({ visibility: 'visible' });\r\n                    }\r\n                    break;\r\n                case 3:\r\n                case 4:\r\n                    if (year <= this.startDate.getUTCFullYear()) {\r\n                        this.picker.find('.prev').css({ visibility: 'hidden' });\r\n                    } else {\r\n                        this.picker.find('.prev').css({ visibility: 'visible' });\r\n                    }\r\n                    if (year >= this.endDate.getUTCFullYear()) {\r\n                        this.picker.find('.next').css({ visibility: 'hidden' });\r\n                    } else {\r\n                        this.picker.find('.next').css({ visibility: 'visible' });\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        },\r\n\r\n        click(e) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            let target = $(e.target).closest('span, td, th, legend');\r\n            if (target.is(`.${this.icontype}`)) {\r\n                target = $(target)\r\n                    .parentElement\r\n                    .closest('span, td, th, legend');\r\n            }\r\n            if (target.length === 1) {\r\n                if (target.is('.disabled')) {\r\n                    this.element.trigger({\r\n                        type: 'outOfRange',\r\n                        date: this.viewDate,\r\n                        startDate: this.startDate,\r\n                        endDate: this.endDate\r\n                    });\r\n                    return;\r\n                }\r\n                switch (target[0].nodeName.toLowerCase()) {\r\n                    case 'th':\r\n                        switch (target[0].className) {\r\n                            case 'switch':\r\n                                this.showMode(1);\r\n                                break;\r\n                            case 'prev':\r\n                            case 'next': {\r\n                                const dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className === 'prev' ? -1 : 1);\r\n                                switch (this.viewMode) {\r\n                                    case 0:\r\n                                        this.viewDate = this.moveHour(this.viewDate, dir);\r\n                                        break;\r\n                                    case 1:\r\n                                        this.viewDate = this.moveDate(this.viewDate, dir);\r\n                                        break;\r\n                                    case 2:\r\n                                        this.viewDate = this.moveMonth(this.viewDate, dir);\r\n                                        break;\r\n                                    case 3:\r\n                                    case 4:\r\n                                        this.viewDate = this.moveYear(this.viewDate, dir);\r\n                                        break;\r\n                                    default:\r\n                                        break;\r\n                                }\r\n                                this.fill();\r\n                                this.element.trigger({\r\n                                    type: `${target[0].className}:${this.convertViewModeText(this.viewMode)}`,\r\n                                    date: this.viewDate,\r\n                                    startDate: this.startDate,\r\n                                    endDate: this.endDate\r\n                                });\r\n                                break;\r\n                            }\r\n                            case 'clear':\r\n                                this.reset();\r\n                                break;\r\n                            case 'today': {\r\n                                let date = new Date();\r\n                                date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), 0);\r\n\r\n                                // Respect startDate and endDate.\r\n                                if (date < this.startDate) date = this.startDate;\r\n                                else if (date > this.endDate) date = this.endDate;\r\n\r\n                                this.viewMode = this.startViewMode;\r\n                                this.showMode(0);\r\n                                this._setDate(date);\r\n                                this.fill();\r\n                                break;\r\n                            }\r\n                            default:\r\n                                break;\r\n                        }\r\n                        break;\r\n                    case 'span':\r\n                        if (!target.is('.disabled')) {\r\n                            let year = this.viewDate.getUTCFullYear();\r\n                            let month = this.viewDate.getUTCMonth();\r\n                            let day = this.viewDate.getUTCDate();\r\n                            const hours = this.viewDate.getUTCHours();\r\n                            const minutes = this.viewDate.getUTCMinutes();\r\n                            const seconds = this.viewDate.getUTCSeconds();\r\n\r\n                            if (target.is('.month')) {\r\n                                this.viewDate.setUTCDate(1);\r\n                                month = target\r\n                                    .parentElement\r\n                                    .find('span')\r\n                                    .index(target);\r\n                                day = this.viewDate.getUTCDate();\r\n                                this.viewDate.setUTCMonth(month);\r\n                                this.element.trigger({\r\n                                    type: 'changeMonth',\r\n                                    date: this.viewDate\r\n                                });\r\n                                if (this.viewSelect >= 3) {\r\n                                    this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\r\n                                }\r\n                            } else if (target.is('.year')) {\r\n                                this.viewDate.setUTCDate(1);\r\n                                year = parseInt(target.text(), 10) || 0;\r\n                                this.viewDate.setUTCFullYear(year);\r\n                                this.element.trigger({\r\n                                    type: 'changeYear',\r\n                                    date: this.viewDate\r\n                                });\r\n                                if (this.viewSelect >= 4) {\r\n                                    this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\r\n                                }\r\n                            }\r\n                            if (this.viewMode !== 0) {\r\n                                this.showMode(-1);\r\n                                this.fill();\r\n                            } else {\r\n                                this.fill();\r\n                            }\r\n                        }\r\n                        break;\r\n                    case 'td':\r\n                        if (target.is('.day') && !target.is('.disabled')) {\r\n                            const day = parseInt(target.text(), 10) || 1;\r\n                            let year = this.viewDate.getUTCFullYear();\r\n                            let month = this.viewDate.getUTCMonth();\r\n                            const hours = this.viewDate.getUTCHours();\r\n                            const minutes = this.viewDate.getUTCMinutes();\r\n                            const seconds = this.viewDate.getUTCSeconds();\r\n\r\n                            if (target.is('.old')) {\r\n                                if (month === 0) {\r\n                                    month = 11;\r\n                                    year -= 1;\r\n                                } else {\r\n                                    month -= 1;\r\n                                }\r\n                            } else if (target.is('.new')) {\r\n                                if (month === 11) {\r\n                                    month = 0;\r\n                                    year += 1;\r\n                                } else {\r\n                                    month += 1;\r\n                                }\r\n                            }\r\n                            this.viewDate.setUTCFullYear(year);\r\n                            this.viewDate.setUTCMonth(month, day);\r\n                            this.element.trigger({\r\n                                type: 'changeDay',\r\n                                date: this.viewDate\r\n                            });\r\n                            if (this.viewSelect >= 2) {\r\n                                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\r\n                            }\r\n                        }\r\n                        this.showMode(-1);\r\n                        this.fill();\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        },\r\n\r\n        _setDate(date, which) {\r\n            if (!which || which === 'date') this.date = date;\r\n            if (!which || which === 'view') this.viewDate = date;\r\n            this.fill();\r\n            this.setValue();\r\n            let element;\r\n\r\n            if (element) {\r\n                element.change();\r\n            }\r\n            this.element.trigger({\r\n                type: 'changeDate',\r\n                date: this.getDate()\r\n            });\r\n            if (date === null) this.date = this.viewDate;\r\n        },\r\n\r\n        moveMinute(date, dir) {\r\n            if (!dir) return date;\r\n            const new_date = new Date(date.valueOf());\r\n            //dir = dir > 0 ? 1 : -1;\r\n            new_date.setUTCMinutes(new_date.getUTCMinutes() + dir * 5);\r\n            return new_date;\r\n        },\r\n\r\n        moveHour(date, dir) {\r\n            if (!dir) return date;\r\n            const new_date = new Date(date.valueOf());\r\n            //dir = dir > 0 ? 1 : -1;\r\n            new_date.setUTCHours(new_date.getUTCHours() + dir);\r\n            return new_date;\r\n        },\r\n\r\n        moveDate(date, dir) {\r\n            if (!dir) return date;\r\n            const new_date = new Date(date.valueOf());\r\n            //dir = dir > 0 ? 1 : -1;\r\n            new_date.setUTCDate(new_date.getUTCDate() + dir);\r\n            return new_date;\r\n        },\r\n\r\n        moveMonth(date, dir) {\r\n            if (!dir) return date;\r\n            let new_date = new Date(date.valueOf());\r\n            let day = new_date.getUTCDate();\r\n            const month = new_date.getUTCMonth();\r\n            const mag = Math.abs(dir);\r\n            let new_month;\r\n            let test;\r\n\r\n            dir = dir > 0 ? 1 : -1;\r\n            if (mag === 1) {\r\n                test =\r\n                    dir === -1\r\n                        ? // If going back one month, make sure month is not current month\r\n                        // (eg, Mar 31 -> Feb 31 === Feb 28, not Mar 02)\r\n                        function () {\r\n                            return new_date.getUTCMonth() === month;\r\n                        }\r\n                        : // If going forward one month, make sure month is as expected\r\n                        // (eg, Jan 31 -> Feb 31 === Feb 28, not Mar 02)\r\n                        function () {\r\n                            return new_date.getUTCMonth() !== new_month;\r\n                        };\r\n                new_month = month + dir;\r\n                new_date.setUTCMonth(new_month);\r\n                // Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\r\n                if (new_month < 0 || new_month > 11) new_month = (new_month + 12) % 12;\r\n            } else {\r\n                // For magnitudes >1, move one month at a time...\r\n                for (\r\n                    let i = 0;\r\n                    i < mag;\r\n                    i++ // ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\r\n                ) {\r\n                    new_date = this.moveMonth(new_date, dir);\r\n                }\r\n                // ...then reset the day, keeping it in the new month\r\n                new_month = new_date.getUTCMonth();\r\n                new_date.setUTCDate(day);\r\n                test = function () {\r\n                    return new_month !== new_date.getUTCMonth();\r\n                };\r\n            }\r\n            // Common date-resetting loop -- if date is beyond end of month, make it\r\n            // end of month\r\n            while (test()) {\r\n                new_date.setUTCDate(--day);\r\n                new_date.setUTCMonth(new_month);\r\n            }\r\n            return new_date;\r\n        },\r\n\r\n        moveYear(date, dir) {\r\n            return this.moveMonth(date, dir * 12);\r\n        },\r\n\r\n        dateWithinRange(date) {\r\n            return date >= this.startDate && date <= this.endDate;\r\n        },\r\n\r\n        keydown(e) {\r\n            if (this.picker.is(':not(:visible)')) {\r\n                if (e.keyCode === 27) {\r\n                    // allow escape to hide and re-show picker\r\n                    this.removeAttribute('displayNone');;\r\n                    return;\r\n                }\r\n                let dateChanged = false;\r\n                let dir;\r\n                let newDate;\r\n                let newViewDate;\r\n                switch (e.keyCode) {\r\n                    case 27: // escape\r\n                        e.preventDefault();\r\n                        break;\r\n                    case 37: // left\r\n                    case 39: {\r\n                        // right\r\n                        dir = e.keyCode === 37 ? -1 : 1;\r\n                        let viewMode = this.viewMode;\r\n                        if (e.ctrlKey) {\r\n                            viewMode += 2;\r\n                        } else if (e.shiftKey) {\r\n                            viewMode += 1;\r\n                        }\r\n                        if (viewMode === 4) {\r\n                            newDate = this.moveYear(this.date, dir);\r\n                            newViewDate = this.moveYear(this.viewDate, dir);\r\n                        } else if (viewMode === 3) {\r\n                            newDate = this.moveMonth(this.date, dir);\r\n                            newViewDate = this.moveMonth(this.viewDate, dir);\r\n                        } else if (viewMode === 2) {\r\n                            newDate = this.moveDate(this.date, dir);\r\n                            newViewDate = this.moveDate(this.viewDate, dir);\r\n                        } else if (viewMode === 1) {\r\n                            newDate = this.moveHour(this.date, dir);\r\n                            newViewDate = this.moveHour(this.viewDate, dir);\r\n                        } else if (viewMode === 0) {\r\n                            newDate = this.moveMinute(this.date, dir);\r\n                            newViewDate = this.moveMinute(this.viewDate, dir);\r\n                        }\r\n                        if (this.dateWithinRange(newDate)) {\r\n                            this.date = newDate;\r\n                            this.viewDate = newViewDate;\r\n                            this.setValue();\r\n                            this.update();\r\n                            e.preventDefault();\r\n                            dateChanged = true;\r\n                        }\r\n                        break;\r\n                    }\r\n                    case 38: // up\r\n                    case 40: // down\r\n                        dir = e.keyCode === 38 ? -1 : 1;\r\n                        viewMode = this.viewMode;\r\n                        if (e.ctrlKey) {\r\n                            viewMode += 2;\r\n                        } else if (e.shiftKey) {\r\n                            viewMode += 1;\r\n                        }\r\n                        if (viewMode === 4) {\r\n                            newDate = this.moveYear(this.date, dir);\r\n                            newViewDate = this.moveYear(this.viewDate, dir);\r\n                        } else if (viewMode === 3) {\r\n                            newDate = this.moveMonth(this.date, dir);\r\n                            newViewDate = this.moveMonth(this.viewDate, dir);\r\n                        } else if (viewMode === 2) {\r\n                            newDate = this.moveDate(this.date, dir * 7);\r\n                            newViewDate = this.moveDate(this.viewDate, dir * 7);\r\n                        } else if (viewMode === 1) {\r\n                            newDate = this.moveHour(this.date, dir * 4);\r\n                            newViewDate = this.moveHour(this.viewDate, dir * 4);\r\n                        } else if (viewMode === 0) {\r\n                            newDate = this.moveMinute(this.date, dir * 4);\r\n                            newViewDate = this.moveMinute(this.viewDate, dir * 4);\r\n                        }\r\n                        if (this.dateWithinRange(newDate)) {\r\n                            this.date = newDate;\r\n                            this.viewDate = newViewDate;\r\n                            this.setValue();\r\n                            this.update();\r\n                            e.preventDefault();\r\n                            dateChanged = true;\r\n                        }\r\n                        break;\r\n                    case 13: // enter\r\n                        if (this.viewMode !== 0) {\r\n                            this.showMode(-1);\r\n                            this.fill();\r\n                        } else {\r\n                            this.fill();\r\n                        }\r\n                        e.preventDefault();\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n                if (dateChanged) {\r\n                    let element;\r\n\r\n                    if (element) {\r\n                        element.change();\r\n                    }\r\n                    this.element.trigger({\r\n                        type: 'changeDate',\r\n                        date: this.getDate()\r\n                    });\r\n                }\r\n            }\r\n        },\r\n\r\n        showMode(dir) {\r\n            if (dir) {\r\n                const newViewMode = Math.max(0, Math.min(DPGlobal.modes.length - 1, this.viewMode + dir));\r\n                if (newViewMode >= this.minView && newViewMode <= this.maxView) {\r\n                    this.element.trigger({\r\n                        type: 'changeMode',\r\n                        date: this.viewDate,\r\n                        oldViewMode: this.viewMode,\r\n                        newViewMode\r\n                    });\r\n\r\n                    this.viewMode = newViewMode;\r\n                }\r\n            }\r\n            /*\r\n       vitalets: fixing bug of very special conditions:\r\n       jquery 1.7.1 + webkit + show inline datetimepicker in bootstrap popover.\r\n       Method show() does not set display css correctly and datetimepicker is not shown.\r\n       Changed to .css('display', 'block') solve the problem.\r\n       See https://github.com/vitalets/x-editable/issues/37\r\n\r\n       In jquery 1.7.2+ everything works fine.\r\n       */\r\n            //this.picker.find('>div').hide().filter('.datetimepicker-'+DPGlobal.modes[this.viewMode].clsName).removeAttribute('displayNone');;\r\n            this.picker\r\n                .find('>div')\r\n                .hide()\r\n                .filter(`.datetimepicker-${DPGlobal.modes[this.viewMode].clsName}`)\r\n                .css('display', 'block');\r\n\r\n            this.updateNavArrows();\r\n        },\r\n\r\n        reset() {\r\n            this._setDate(null, 'date');\r\n        },\r\n\r\n        convertViewModeText(viewMode) {\r\n            switch (viewMode) {\r\n                case 4:\r\n                    return 'decade';\r\n                case 3:\r\n                    return 'year';\r\n                case 2:\r\n                    return 'month';\r\n                case 1:\r\n                    return 'day';\r\n                case 0:\r\n                    return 'hour';\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    $.fn.datetimepicker = function (option) {\r\n        const args = Array.apply(null, arguments);\r\n        args.shift();\r\n        let internal_return;\r\n        this.each(function () {\r\n            const $this = $(this);\r\n            let data = $this.data('datetimepicker');\r\n            const options = typeof option === 'object' && option;\r\n            if (!data) {\r\n                $this.data('datetimepicker', (data = new Datetimepicker(this, $.extend({}, $.fn.datetimepicker.defaults, options))));\r\n            }\r\n            if (typeof option === 'string' && typeof data[option] === 'function') {\r\n                internal_return = data[option].apply(data, args);\r\n                if (internal_return !== undefined) {\r\n                    return false;\r\n                }\r\n            }\r\n        });\r\n        if (internal_return !== undefined) return internal_return;\r\n        return this;\r\n    };\r\n\r\n    $.fn.datetimepicker.defaults = {};\r\n    $.fn.datetimepicker.Constructor = Datetimepicker;\r\n    dates = $.fn.datetimepicker.dates = {\r\n        en: {\r\n            days: ['Sunday',\r\n                'Monday',\r\n                'Tuesday',\r\n                'Wednesday',\r\n                'Thursday',\r\n                'Friday',\r\n                'Saturday',\r\n                'Sunday'],\r\n            daysShort: ['Sun',\r\n                'Mon',\r\n                'Tue',\r\n                'Wed',\r\n                'Thu',\r\n                'Fri',\r\n                'Sat',\r\n                'Sun'],\r\n            daysMin: ['Su',\r\n                'Mo',\r\n                'Tu',\r\n                'We',\r\n                'Th',\r\n                'Fr',\r\n                'Sa',\r\n                'Su'],\r\n            months: ['January',\r\n                'February',\r\n                'March',\r\n                'April',\r\n                'May',\r\n                'June',\r\n                'July',\r\n                'August',\r\n                'September',\r\n                'October',\r\n                'November',\r\n                'December'],\r\n            monthsShort: ['Jan',\r\n                'Feb',\r\n                'Mar',\r\n                'Apr',\r\n                'May',\r\n                'Jun',\r\n                'Jul',\r\n                'Aug',\r\n                'Sep',\r\n                'Oct',\r\n                'Nov',\r\n                'Dec'],\r\n            meridiem: ['am', 'pm'],\r\n            suffix: ['st',\r\n                'nd',\r\n                'rd',\r\n                'th'],\r\n            today: 'Today',\r\n            clear: 'Clear'\r\n        }\r\n    };\r\n\r\n    DPGlobal = {\r\n        modes: [\r\n            {\r\n                clsName: 'minutes',\r\n                navFnc: 'Hours',\r\n                navStep: 1\r\n            },\r\n            {\r\n                clsName: 'hours',\r\n                navFnc: 'Date',\r\n                navStep: 1\r\n            },\r\n            {\r\n                clsName: 'days',\r\n                navFnc: 'Month',\r\n                navStep: 1\r\n            },\r\n            {\r\n                clsName: 'months',\r\n                navFnc: 'FullYear',\r\n                navStep: 1\r\n            },\r\n            {\r\n                clsName: 'years',\r\n                navFnc: 'FullYear',\r\n                navStep: 10\r\n            }\r\n        ],\r\n        isLeapYear(year) {\r\n            return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\r\n        },\r\n        getDaysInMonth(year, month) {\r\n            return [31, DPGlobal.isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\r\n        },\r\n        getDefaultFormat(type, field) {\r\n            if (type === 'standard') {\r\n                if (field === 'input') {\r\n                    return 'yyyy-mm-dd hh:ii';\r\n                }\r\n                return 'yyyy-mm-dd hh:ii:ss';\r\n            } else if (type === 'php') {\r\n                if (field === 'input') {\r\n                    return 'Y-m-d H:i';\r\n                }\r\n                return 'Y-m-d H:i:s';\r\n            }\r\n            throw new Error('Invalid format type.');\r\n        },\r\n        validParts(type) {\r\n            if (type === 'standard') {\r\n                return /t|hh?|HH?|p|P|z|Z|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;\r\n            } else if (type === 'php') {\r\n                return /[dDjlNwzFmMnStyYaABgGhHis]/g;\r\n            }\r\n            throw new Error('Invalid format type.');\r\n        },\r\n        nonpunctuation: /[^ -\\/:-@\\[-`{-~\\t\\n\\rTZ]+/g,\r\n        parseFormat(format, type) {\r\n            // IE treats \\0 as a string end in inputs (truncating the value),\r\n            // so it's a bad format delimiter, anyway\r\n            const separators = format.replace(this.validParts(type), '\\0').split('\\0');\r\n            const parts = format.match(this.validParts(type));\r\n            if (!separators || !separators.length || !parts || parts.length === 0) {\r\n                throw new Error('Invalid date format.');\r\n            }\r\n            return { separators, parts };\r\n        },\r\n        parseDate(date, format, language, type, timezone) {\r\n            let part;\r\n            let parts;\r\n            if (date instanceof Date) {\r\n                const dateUTC = new Date(date.valueOf() - date.getTimezoneOffset() * 60000);\r\n                dateUTC.setMilliseconds(0);\r\n                return dateUTC;\r\n            }\r\n            if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}$/.test(date)) {\r\n                format = this.parseFormat('yyyy-mm-dd', type);\r\n            }\r\n            if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}$/.test(date)) {\r\n                format = this.parseFormat('yyyy-mm-dd hh:ii', type);\r\n            }\r\n            if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}\\:\\d{1,2}[Z]{0,1}$/.test(date)) {\r\n                format = this.parseFormat('yyyy-mm-dd hh:ii:ss', type);\r\n            }\r\n            if (/^[-+]\\d+[dmwy]([\\s,]+[-+]\\d+[dmwy])*$/.test(date)) {\r\n                const part_re = /([-+]\\d+)([dmwy])/;\r\n                parts = date.match(/([-+]\\d+)([dmwy])/g);\r\n                let dir;\r\n                date = new Date();\r\n                for (let i = 0; i < parts.length; i++) {\r\n                    part = part_re.exec(parts[i]);\r\n                    dir = parseInt(part[1]);\r\n                    switch (part[2]) {\r\n                        case 'd':\r\n                            date.setUTCDate(date.getUTCDate() + dir);\r\n                            break;\r\n                        case 'm':\r\n                            date = Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype, date, dir);\r\n                            break;\r\n                        case 'w':\r\n                            date.setUTCDate(date.getUTCDate() + dir * 7);\r\n                            break;\r\n                        case 'y':\r\n                            date = Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype, date, dir);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                }\r\n                return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), 0);\r\n            }\r\n            parts = (date && date.toString().match(this.nonpunctuation)) || [];\r\n            var date = new Date(0, 0, 0, 0, 0, 0, 0);\r\n            const parsed = {};\r\n            const setters_order = ['hh', 'h', 'ii', 'i', 'ss', 's', 'yyyy', 'yy', 'M', 'MM', 'm', 'mm', 'D', 'DD', 'd', 'dd', 'H', 'HH', 'p', 'P', 'z', 'Z'];\r\n            const setters_map = {\r\n                hh(d, v) {\r\n                    return d.setUTCHours(v);\r\n                },\r\n                h(d, v) {\r\n                    return d.setUTCHours(v);\r\n                },\r\n                HH(d, v) {\r\n                    return d.setUTCHours(v === 12 ? 0 : v);\r\n                },\r\n                H(d, v) {\r\n                    return d.setUTCHours(v === 12 ? 0 : v);\r\n                },\r\n                ii(d, v) {\r\n                    return d.setUTCMinutes(v);\r\n                },\r\n                i(d, v) {\r\n                    return d.setUTCMinutes(v);\r\n                },\r\n                ss(d, v) {\r\n                    return d.setUTCSeconds(v);\r\n                },\r\n                s(d, v) {\r\n                    return d.setUTCSeconds(v);\r\n                },\r\n                yyyy(d, v) {\r\n                    return d.setUTCFullYear(v);\r\n                },\r\n                yy(d, v) {\r\n                    return d.setUTCFullYear(2000 + v);\r\n                },\r\n                m(d, v) {\r\n                    v -= 1;\r\n                    while (v < 0) v += 12;\r\n                    v %= 12;\r\n                    d.setUTCMonth(v);\r\n                    while (d.getUTCMonth() !== v) {\r\n                        if (isNaN(d.getUTCMonth())) return d;\r\n                        d.setUTCDate(d.getUTCDate() - 1);\r\n                    }\r\n                    return d;\r\n                },\r\n                d(d, v) {\r\n                    return d.setUTCDate(v);\r\n                },\r\n                p(d, v) {\r\n                    return d.setUTCHours(v === 1 ? d.getUTCHours() + 12 : d.getUTCHours());\r\n                },\r\n                z() {\r\n                    return timezone;\r\n                }\r\n            };\r\n            let val;\r\n            let filtered;\r\n            setters_map.M = setters_map.MM = setters_map.mm = setters_map.m;\r\n            setters_map.dd = setters_map.d;\r\n            setters_map.P = setters_map.p;\r\n            setters_map.Z = setters_map.z;\r\n            date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds());\r\n            if (parts.length === format.parts.length) {\r\n                for (let i = 0, cnt = format.parts.length; i < cnt; i++) {\r\n                    val = parseInt(parts[i], 10);\r\n                    part = format.parts[i];\r\n                    if (isNaN(val)) {\r\n                        switch (part) {\r\n                            case 'MM':\r\n                                filtered = $(dates[language].months).filter(() => {\r\n                                    const m = this.slice(0, parts[i].length);\r\n                                    const p = parts[i].slice(0, m.length);\r\n\r\n                                    return m === p;\r\n                                });\r\n                                val = $.inArray(filtered[0], dates[language].months) + 1;\r\n                                break;\r\n                            case 'M':\r\n                                filtered = $(dates[language].monthsShort).filter(() => {\r\n                                    const m = this.slice(0, parts[i].length);\r\n                                    const p = parts[i].slice(0, m.length);\r\n\r\n                                    return m.toLowerCase() === p.toLowerCase();\r\n                                });\r\n                                val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\r\n                                break;\r\n                            case 'p':\r\n                            case 'P':\r\n                                val = $.inArray(parts[i].toLowerCase(), dates[language].meridiem);\r\n                                break;\r\n                            case 'z':\r\n                            case 'Z':\r\n                                return timezone;\r\n                            default:\r\n                                break;\r\n                        }\r\n                    }\r\n                    parsed[part] = val;\r\n                }\r\n                for (let i = 0, s; i < setters_order.length; i++) {\r\n                    s = setters_order[i];\r\n                    if (s in parsed && !isNaN(parsed[s])) setters_map[s](date, parsed[s]);\r\n                }\r\n            }\r\n            return date;\r\n        },\r\n        formatDate(date, format, language, type, timezone) {\r\n            if (date === null) {\r\n                return '';\r\n            }\r\n            let val;\r\n            if (type === 'standard') {\r\n                val = {\r\n                    t: date.getTime(),\r\n                    // year\r\n                    yy: date\r\n                        .getUTCFullYear()\r\n                        .toString()\r\n                        .substring(2),\r\n                    yyyy: date.getUTCFullYear(),\r\n                    // month\r\n                    m: date.getUTCMonth() + 1,\r\n                    M: dates[language].monthsShort[date.getUTCMonth()],\r\n                    MM: dates[language].months[date.getUTCMonth()],\r\n                    // day\r\n                    d: date.getUTCDate(),\r\n                    D: dates[language].daysShort[date.getUTCDay()],\r\n                    DD: dates[language].days[date.getUTCDay()],\r\n                    p: dates[language].meridiem.length === 2 ? dates[language].meridiem[date.getUTCHours() < 12 ? 0 : 1] : '',\r\n                    // hour\r\n                    h: date.getUTCHours(),\r\n                    // minute\r\n                    i: date.getUTCMinutes(),\r\n                    // second\r\n                    s: date.getUTCSeconds(),\r\n                    // timezone\r\n                    z: timezone\r\n                };\r\n\r\n                if (dates[language].meridiem.length === 2) {\r\n                    val.H = val.h % 12 === 0 ? 12 : val.h % 12;\r\n                } else {\r\n                    val.H = val.h;\r\n                }\r\n                val.HH = (val.H < 10 ? '0' : '') + val.H;\r\n                val.P = val.p.toUpperCase();\r\n                val.Z = val.z;\r\n                val.hh = (val.h < 10 ? '0' : '') + val.h;\r\n                val.ii = (val.i < 10 ? '0' : '') + val.i;\r\n                val.ss = (val.s < 10 ? '0' : '') + val.s;\r\n                val.dd = (val.d < 10 ? '0' : '') + val.d;\r\n                val.mm = (val.m < 10 ? '0' : '') + val.m;\r\n            } else if (type === 'php') {\r\n                // php format\r\n                val = {\r\n                    // year\r\n                    y: date\r\n                        .getUTCFullYear()\r\n                        .toString()\r\n                        .substring(2),\r\n                    Y: date.getUTCFullYear(),\r\n                    // month\r\n                    F: dates[language].months[date.getUTCMonth()],\r\n                    M: dates[language].monthsShort[date.getUTCMonth()],\r\n                    n: date.getUTCMonth() + 1,\r\n                    t: DPGlobal.getDaysInMonth(date.getUTCFullYear(), date.getUTCMonth()),\r\n                    // day\r\n                    j: date.getUTCDate(),\r\n                    l: dates[language].days[date.getUTCDay()],\r\n                    D: dates[language].daysShort[date.getUTCDay()],\r\n                    w: date.getUTCDay(), // 0 -> 6\r\n                    N: date.getUTCDay() === 0 ? 7 : date.getUTCDay(), // 1 -> 7\r\n                    S: date.getUTCDate() % 10 <= dates[language].suffix.length ? dates[language].suffix[date.getUTCDate() % 10 - 1] : '',\r\n                    // hour\r\n                    a: dates[language].meridiem.length === 2 ? dates[language].meridiem[date.getUTCHours() < 12 ? 0 : 1] : '',\r\n                    g: date.getUTCHours() % 12 === 0 ? 12 : date.getUTCHours() % 12,\r\n                    G: date.getUTCHours(),\r\n                    // minute\r\n                    i: date.getUTCMinutes(),\r\n                    // second\r\n                    s: date.getUTCSeconds()\r\n                };\r\n                val.m = (val.n < 10 ? '0' : '') + val.n;\r\n                val.d = (val.j < 10 ? '0' : '') + val.j;\r\n                val.A = val.a.toString().toUpperCase();\r\n                val.h = (val.g < 10 ? '0' : '') + val.g;\r\n                val.H = (val.G < 10 ? '0' : '') + val.G;\r\n                val.i = (val.i < 10 ? '0' : '') + val.i;\r\n                val.s = (val.s < 10 ? '0' : '') + val.s;\r\n            } else {\r\n                throw new Error('Invalid format type.');\r\n            }\r\n            const newDate = [];\r\n            const seps = $.extend([], format.separators);\r\n\r\n            for (let i = 0, cnt = format.parts.length; i < cnt; i++) {\r\n                if (seps.length) {\r\n                    newDate.push(seps.shift());\r\n                }\r\n                newDate.push(val[format.parts[i]]);\r\n            }\r\n            if (seps.length) {\r\n                newDate.push(seps.shift());\r\n            }\r\n            return newDate.join('');\r\n        },\r\n\r\n        convertViewMode(viewMode) {\r\n            switch (viewMode) {\r\n                case 4:\r\n                case 'decade':\r\n                    return (viewMode = 4);\r\n                case 3:\r\n                case 'year':\r\n                    return (viewMode = 3);\r\n                case 2:\r\n                case 'month':\r\n                    return (viewMode = 2);\r\n                case 1:\r\n                case 'day':\r\n                    return (viewMode = 1);\r\n                case 0:\r\n                case 'hour':\r\n                    return (viewMode = 0);\r\n                default:\r\n                    break;\r\n            }\r\n        },\r\n        headTemplate:\r\n            '<thead>'\r\n            + '<tr>'\r\n            + '<th class=\"prev\"><i class=\"{iconType} {leftArrow}\"/></th>'\r\n            + '<th colspan=\"5\" class=\"switch\"></th>'\r\n            + '<th class=\"next\"><i class=\"{iconType} {rightArrow}\"/></th>'\r\n            + '</tr>'\r\n            + '</thead>',\r\n        contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\r\n        footTemplate: '<tfoot><tr><th colspan=\"7\" class=\"today\"></th></tr><tr><th colspan=\"7\" class=\"clear\"></th></tr></tfoot>'\r\n    };\r\n    DPGlobal.template = `<div class=\"datetimepicker\">\r\n<div class=\"datetimepicker-days\">\r\n<table class=\" table-condensed\">${DPGlobal.headTemplate}<tbody>\r\n</tbody>${DPGlobal.footTemplate}</table>\r\n</div>\r\n<div class=\"datetimepicker-months\">\r\n<table class=\"table-condensed\">${DPGlobal.headTemplate}${DPGlobal.contTemplate}${DPGlobal.footTemplate}</table>\r\n</div>\r\n<div class=\"datetimepicker-years\">\r\n<table class=\"table-condensed\">${DPGlobal.headTemplate}${DPGlobal.contTemplate}${DPGlobal.footTemplate}</table>\r\n</div>\r\n</div>`;\r\n    $.fn.datetimepicker.DPGlobal = DPGlobal;\r\n\r\n    /* DATETIMEPICKER NO CONFLICT\r\n   * =================== */\r\n\r\n    $.fn.datetimepicker.noConflict = function () {\r\n        $.fn.datetimepicker = old;\r\n        return this;\r\n    };\r\n\r\n    /* DATETIMEPICKER DATA-API\r\n   * ================== */\r\n\r\n    $(document).on('focus.datetimepicker.data-api click.datetimepicker.data-api', '[data-provide=\"datetimepicker\"]', function (e) {\r\n        const $this = $(this);\r\n        if ($this.data('datetimepicker')) return;\r\n        e.preventDefault();\r\n        // component click requires us to explicitly show it\r\n        $this.datetimepicker('show');\r\n    });\r\n    $(() => {\r\n        $('[data-provide=\"datetimepicker-inline\"]').datetimepicker();\r\n    });\r\n});\r\n","//@flow\r\nimport DocumentReferenceModel from '../models/DocumentReferenceModel';\r\n\r\nexport default Backbone.Collection.extend({\r\n    model: DocumentReferenceModel\r\n});\r\n","//@flow\r\nimport { dateHelpers } from 'utils';\r\n\r\nexport default Marionette.Object.extend({\r\n    initialize(options = {}) {\r\n        this.view = options.view;\r\n        this.reqres = Backbone.Radio.channel(_.uniqueId('documentController'));\r\n        this.reqres.reply('document:revise', this.__getDocumentRevision.bind(this));\r\n    },\r\n\r\n    async __getDocumentRevision(documentId) {\r\n        if (Ajax && Ajax.Documents) {\r\n            const result = await Ajax.Documents.GetDocumentRevisions(documentId);\r\n            return result.map(item => ({\r\n                id: item.id,\r\n                creator: item.creatorName,\r\n                url: item.revisionLink,\r\n                creationDate: dateHelpers.dateToDateTimeString(item.creationDate, 'generalDateShortTime'),\r\n                version: item.revisionIndex\r\n            }));\r\n        }\r\n        return [];\r\n    }\r\n});\r\n","//@flow\r\nimport GalleryWindowView from './views/GalleryWindowView';\r\n\r\nconst classes = {\r\n    IMAGE: 'galleryImageBuffer',\r\n    HIDDEN: 'hidden'\r\n};\r\n\r\nconst graphicFileExtensions = ['gif', 'png', 'bmp', 'jpg', 'jpeg', 'jfif', 'jpeg2000', 'exif', 'tiff', 'ppm', 'pgm', 'pbm', 'pnm', 'webp', 'bpg', 'bat'];\r\n\r\nexport default Marionette.Object.extend({\r\n    initialize() {\r\n        this.imagesBuffer = {};\r\n        this.bindReqres();\r\n    },\r\n\r\n    bindReqres() {\r\n        this.reqres = Backbone.Radio.channel(_.uniqueId('attachC'));\r\n        this.reqres.reply('close', this.__closeGallery, this);\r\n        this.reqres.reply('image:get', this.__getImage, this);\r\n    },\r\n\r\n    showGallery(model) {\r\n        if (this.__isImage(model)) {\r\n            this.view = new GalleryWindowView({\r\n                reqres: this.reqres,\r\n                imagesCollection: new Backbone.Collection(model.collection.filter(m => this.__isImage(m))),\r\n                model\r\n            });\r\n            this.__togglePopupRegion(true);\r\n            Core.services.WindowService.showPopup(this.view);\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n\r\n    __closeGallery() {\r\n        this.__togglePopupRegion(false);\r\n        Core.services.WindowService.closePopup();\r\n    },\r\n\r\n    __getImage(model) {\r\n        const modelId = model.get('id');\r\n        if (_.has(this.imagesBuffer, modelId)) {\r\n            return this.imagesBuffer[modelId];\r\n        }\r\n        this.view.setLoading(true);\r\n        const image = document.createElement('img');\r\n        image.classList.add(classes.IMAGE);\r\n        image.setAttribute('src', model.get('url'));\r\n        image.addEventListener('load', () => {\r\n            this.view.setLoading(false);\r\n        });\r\n        this.imagesBuffer[modelId] = image;\r\n        return image;\r\n    },\r\n\r\n    __togglePopupRegion(show) {\r\n        window.application.ui.popupRegion.classList.toggle(classes.HIDDEN, !show);\r\n    },\r\n\r\n    __isImage(model) {\r\n        let isImage = false;\r\n        const extension = model.get('extension');\r\n        if (extension && typeof extension === 'string' && graphicFileExtensions.indexOf(extension.toLowerCase()) > -1) {\r\n            isImage = true;\r\n        }\r\n        return isImage;\r\n    }\r\n});\r\n","module.exports = \"<div class=\\\"js-close galleryButton\\\" title=\\\"{{localize 'CORE.FORM.EDITORS.DOCUMENT.GALLERY.CLOSE'}}\\\">X</div>\\r\\n<div class=\\\"js-image galleryImage\\\"></div>\\r\\n<div class=\\\"js-download galleryImageDownload\\\"><span>{{localize 'CORE.FORM.EDITORS.DOCUMENT.DOWNLOAD'}}</span></div>\\r\\n<div class=\\\"js-loading-region dev-l-loader-image-gallery\\\"></div>\";","module.exports = \"<span class=\\\"loader\\\">{{localize 'PROCESS.COMMON.DEFAULTLOADINGSMALL'}}</span>\";","//@flow\r\nimport { helpers } from 'utils';\r\nimport template from '../templates/galleryWindow.html';\r\nimport LoadingView from './LoadingView';\r\n\r\nconst classes = {\r\n    GALLERY_WINDOW: 'js-gallery-window galleryWindow'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'reqres');\r\n        this.reqres = options.reqres;\r\n    },\r\n\r\n    className: classes.GALLERY_WINDOW,\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    ui: {\r\n        close: '.js-close',\r\n        download: '.js-download',\r\n        image: '.js-image'\r\n    },\r\n\r\n    regions: {\r\n        loadingRegion: '.js-loading-region'\r\n    },\r\n\r\n    events: {\r\n        click: '__onClick',\r\n        'click @ui.close': '__onClose',\r\n        'click @ui.download': '__onDownload',\r\n        'click @ui.image': '__onImageClick'\r\n    },\r\n\r\n    onRender() {\r\n        this.__addImage(this.model);\r\n    },\r\n\r\n    setLoading(visible) {\r\n        const loadingRegion = this.getRegion('loadingRegion');\r\n        if (visible) {\r\n            loadingRegion.show(new LoadingView());\r\n        } else {\r\n            loadingRegion.reset();\r\n        }\r\n    },\r\n\r\n    __onClose() {\r\n        this.reqres.request('close');\r\n    },\r\n\r\n    __onDownload() {\r\n        const url = this.model.get('url');\r\n        if (url) {\r\n            window.open(url);\r\n        }\r\n    },\r\n\r\n    __onImageClick() {\r\n        const collection = this.options.imagesCollection;\r\n        let index = collection.indexOf(this.model);\r\n        if (index === collection.length - 1) {\r\n            index = 0;\r\n        } else {\r\n            index++;\r\n        }\r\n        this.model = collection.at(index);\r\n        this.__addImage(this.model);\r\n    },\r\n\r\n    __onClick(event) {\r\n        if (event.target.className === classes.GALLERY_WINDOW) {\r\n            this.__onClose();\r\n            return false;\r\n        }\r\n    },\r\n\r\n    __addImage(model) {\r\n        this.ui.image.empty().append(this.reqres.request('image:get', model));\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/loading.html';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'l-loader'\r\n});\r\n","//@flow\r\nexport default Backbone.Model.extend({\r\n    defaults: {\r\n        id: '',\r\n        name: ''\r\n    }\r\n});\r\n","module.exports = \"{{#if url}}\\r\\n<a class=\\\"task-links__link js-link\\\" target=\\\"_blank\\\" href=\\\"{{url}}\\\" title=\\\"{{text}}\\\">{{text}}</a>\\r\\n{{else}}\\r\\n<span>{{text}}</span>\\r\\n{{/if}}\\r\\n<span class=\\\"js-revise-button-region dev-btn-document-revise\\\" title=\\\"{{localize 'CORE.FORM.EDITORS.DOCUMENT.SHOWREVISION'}}\\\"></span>\\r\\n\";","module.exports = \"{{#unless isSingleRevision}}<td>{{version}}</td>{{/unless}}\\r\\n<td>{{creationDate}}</td>\\r\\n<td>{{creator}}</td>\\r\\n{{#unless isSingleRevision}}\\r\\n<td><a href=\\\"{{url}}\\\" target=\\\"_blank\\\" class=\\\"btn btn-icon\\\">\\r\\n    <i class=\\\"far fa-arrow-to-bottom\\\"></i>\\r\\n</a></td>\\r\\n{{/unless}}\";","module.exports = \"<table class=\\\"dev-revision-container\\\">\\r\\n    {{#unless isSingleRevision}}\\r\\n    <thead>\\r\\n        <tr>\\r\\n            <th>{{localize 'CORE.FORM.EDITORS.DOCUMENT.DOCUMENTREVISION.VERSION'}}</th>\\r\\n            <th>{{localize 'CORE.FORM.EDITORS.DOCUMENT.DOCUMENTREVISION.CREATIONDATE'}}</th>\\r\\n            <th>{{localize 'CORE.FORM.EDITORS.DOCUMENT.DOCUMENTREVISION.AUTHOR'}}</th>\\r\\n            <th>{{localize 'CORE.FORM.EDITORS.DOCUMENT.DOWNLOAD'}}</th>\\r\\n        </tr>\\r\\n    </thead>\\r\\n    {{/unless}}\\r\\n    <tbody class=\\\"js-revision-list\\\"></tbody>\\r\\n</table>\\r\\n\";","//@flow\r\nexport default Marionette.View.extend({\r\n    template: false,\r\n\r\n    className: 'anchor fa fa-angle-down',\r\n    tagName: 'i'\r\n});\r\n","//@flow\r\nimport template from '../templates/documentRevisionItem.html';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    tagName: 'tr',\r\n\r\n    templateContext() {\r\n        return {\r\n            version: this.model.get('version') + 1,\r\n            isSingleRevision: this.model.collection.length === 1\r\n        };\r\n    }\r\n});\r\n","//@flow\r\nimport DocumentRevisionItemView from './DocumentRevisionItemView';\r\nimport template from '../templates/documentRevisionPanel.html';\r\n\r\nexport default Marionette.CompositeView.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        return {\r\n            isSingleRevision: this.collection.length === 1\r\n        };\r\n    },\r\n\r\n    className: 'dropdown__wrp',\r\n\r\n    childView: DocumentRevisionItemView,\r\n\r\n    childViewContainer: '.js-revision-list'\r\n});\r\n","//@flow\r\nimport dropdown from 'dropdown';\r\nimport template from '../templates/MultiselectItem.html';\r\nimport DocumentRevisionButtonView from './DocumentRevisionButtonView';\r\nimport DocumentRevisionPanelView from './DocumentRevisionPanelView';\r\nimport DocumentItemController from '../controllers/DocumentItemController';\r\nimport iconWrapRemoveBubble from '../../../iconsWraps/iconWrapRemoveBubble.html';\r\n\r\nconst savedDocumentPrefix = 'document';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        this.revisionCollection = new Backbone.Collection();\r\n        const controller = new DocumentItemController({ view: this });\r\n        this.reqres = controller.reqres;\r\n\r\n        this.attachmentsController = options.attachmentsController;\r\n    },\r\n\r\n    regions: {\r\n        reviseRegion: '.js-revise-button-region'\r\n    },\r\n\r\n    tagName: 'li',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        return {\r\n            text: this.model.get('text') || this.model.get('name')\r\n        };\r\n    },\r\n\r\n    className: 'task-links__i dev-task-links__links__i',\r\n\r\n    ui: {\r\n        remove: '.js-bubble-delete',\r\n        revise: '.js-revise-button-region',\r\n        link: '.js-link'\r\n    },\r\n\r\n    triggers: {\r\n        'click @ui.remove': 'remove'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.revise': '__getDocumentRevision',\r\n        'click @ui.link': '__showPreview',\r\n        mouseenter: '__onMouseenter',\r\n        mouseleave: '__onMouseleave'\r\n    },\r\n\r\n    __getDocumentRevision() {\r\n        this.reqres.request('document:revise', this.model.get('id')).then(revisionList => {\r\n            this.revisionCollection.reset(revisionList.sort((a, b) => a.version - b.version));\r\n            this.isRevisionOpen = true;\r\n            this.documentRevisionPopout.open();\r\n        });\r\n    },\r\n\r\n    __showPreview() {\r\n        return this.attachmentsController.showGallery(this.model);\r\n    },\r\n\r\n    __onMouseenter() {\r\n        if (this.options.allowDelete) {\r\n            this.el.insertAdjacentHTML('beforeend', iconWrapRemoveBubble);\r\n        }\r\n        if (this.model.get('id').indexOf(savedDocumentPrefix) > -1 && this.options.showRevision) {\r\n            if (!this.isRevisonButtonShown) {\r\n                this.documentRevisionPopout = new dropdown.factory.createDropdown({\r\n                    buttonView: DocumentRevisionButtonView,\r\n                    panelView: DocumentRevisionPanelView,\r\n                    panelViewOptions: { collection: this.revisionCollection },\r\n                    popoutFlow: 'right',\r\n                    autoOpen: false,\r\n                    panelMinWidth: 'none'\r\n                });\r\n                this.documentRevisionPopout.on('close', () => (this.isRevisionOpen = false));\r\n                this.showChildView('reviseRegion', this.documentRevisionPopout);\r\n                this.isRevisonButtonShown = true;\r\n            } else {\r\n                this.ui.revise.removeAttribute('displayNone');;\r\n            }\r\n        }\r\n    },\r\n\r\n    __onMouseleave() {\r\n        if (this.options.allowDelete) {\r\n            this.el.removeChild(this.el.lastElementChild);\r\n        }\r\n        if (!this.isRevisionOpen) {\r\n            this.ui.revise.setAttribute('displayNone', true);\r\n        }\r\n    }\r\n});\r\n","module.exports = \"<div class=\\\"context-wrp js-context-selector\\\"></div>\";","module.exports = \"using System;\\r\\nusing System.Linq;\\r\\nusing Comindware.Data.Entity;\\r\\n\\r\\nclass Script\\r\\n{\\r\\n    public static void Main(Comindware.Process.Api.Data.ScriptContext context, Comindware.Entities entities)\\r\\n    {\\r\\n        var processObject = Api.Process.ProcessObjectService.Get(context.ProcessId);\\r\\n        var businessObject = entities.<business object alias>.Where(cr => cr.id == processObject.BusinessObjectId).First();\\r\\n        throw new NotImplementedException();\\r\\n    }\\r\\n}\";","module.exports = \"<textarea class=\\\"js-expression-input\\\"></textarea>\\r\\n\";","module.exports = \"<span class=\\\"type-expression__name\\\">\\r\\n    <span class=\\\"type-expression__radio\\\"></span>\\r\\n    {{name}}\\r\\n</span>\";","module.exports = \"<div class=\\\"h1-popup\\\">\\r\\n    <span class=\\\"h1-popup__txt\\\">{{titleText}}</span>\\r\\n</div>\\r\\n<div class=\\\"pp-setting-editor js-content-region\\\"></div>\\r\\n<div class=\\\"pp-buttons\\\">\\r\\n    <div class=\\\"js-accept button-txt\\\">{{localize 'PROCESS.PROCESSTEMPLATES.ACTIVITY.CONTROL.SETVALUE.SAVE'}}</div>\\r\\n    <div class=\\\"js-reject button-txt\\\">{{localize 'PROCESS.PROCESSTEMPLATES.ACTIVITY.CONTROL.SETVALUE.CANCEL'}}</div>\\r\\n</div>\";","module.exports = \"<textarea wrap=\\\"off\\\" class=\\\"js-script-input\\\"></textarea>\\r\\n\";","module.exports = \"{{name}}\";","import template from '../templates/context.html';\r\nimport ContextSelectEditorView from '../../../ContextSelectEditorView';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    regions: {\r\n        contextRegion: '.js-context-selector'\r\n    },\r\n\r\n    getValue() {\r\n        return this.contextSelectEditorView.getValue();\r\n    },\r\n\r\n    setValue(value) {\r\n        //if (value.type == 'context')\r\n        //    this.contextSelectEditorView.setValue(value.value);\r\n        this.contextSelectEditorView.setValue(value);\r\n    },\r\n\r\n    onAttach() {\r\n        this.contextSelectEditorView = new ContextSelectEditorView(Object.assign(this.options));\r\n        this.contextSelectEditorView.on('change', this.trigger.bind(this, 'change'));\r\n\r\n        //var self = this;\r\n        //this.contextSelectEditorView.__applyContext = function(selected) {\r\n        //    this.popoutView.close();\r\n        //    this.__value(selected, false);\r\n        //    self.trigger(\"change\");\r\n        //}.bind(this.contextSelectEditorView);\r\n\r\n        this.showChildView('contextRegion', this.contextSelectEditorView);\r\n    }\r\n});\r\n","import template from '../templates/expression.html';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    ui: {\r\n        expressionInput: '.js-expression-input'\r\n    },\r\n\r\n    className: 'pp-setting__textarea',\r\n\r\n    getValue() {\r\n        return this.ui.expressionInput.val();\r\n    },\r\n\r\n    setValue(value) {\r\n        this.value = value;\r\n    },\r\n\r\n    onAttach() {\r\n        this.ui.expressionInput.val(this.value);\r\n    }\r\n});\r\n","import OptionItemView from './OptionItemView';\r\n\r\nexport default Marionette.CollectionView.extend({\r\n    childView: OptionItemView,\r\n\r\n    childViewEvents: {\r\n        execute: '__execute'\r\n    },\r\n\r\n    __execute(data) {\r\n        this.options.parent.close();\r\n        this.options.parent.trigger('execute', data.model.id, data.model);\r\n    }\r\n});\r\n","import template from '../templates/optionItem.html';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'dropdown-menu__i',\r\n\r\n    initialize() {\r\n        this.model.on('selected', this.updateRadio.bind(this));\r\n        this.model.on('deselected', this.updateRadio.bind(this));\r\n    },\r\n\r\n    triggers: {\r\n        click: 'execute'\r\n    },\r\n\r\n    updateRadio() {\r\n        if (this.model.selected) {\r\n            this.el.classList.add('selected');\r\n        } else {\r\n            this.el.classList.remove('selected');\r\n        }\r\n    },\r\n\r\n    onAttach() {\r\n        this.updateRadio();\r\n    }\r\n});\r\n","import template from '../templates/popup.html';\r\n\r\nimport ExpressionView from '../views/ExpressionView';\r\nimport ScriptView from '../views/ScriptView';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        this.value = options.value;\r\n        this.model = new Backbone.Model();\r\n        this.model.set({\r\n            titleText:\r\n                this.value.type === 'expression' ? Localizer.get('CORE.FORM.EDITORS.EXPRESSION.DEFINEEXPRESSION') : Localizer.get('CORE.FORM.EDITORS.EXPRESSION.DEFINESCRIPT')\r\n        });\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'l-popup',\r\n\r\n    events: {\r\n        'click .js-reject': '__reject',\r\n        'click .js-accept': '__accept'\r\n    },\r\n\r\n    regions: {\r\n        contentRegion: '.js-content-region'\r\n    },\r\n\r\n    getValue() {\r\n        return this.value;\r\n    },\r\n\r\n    __createView() {\r\n        if (this.value.type === 'expression') {\r\n            this.view = new ExpressionView();\r\n        } else {\r\n            this.view = new ScriptView();\r\n        }\r\n    },\r\n\r\n    __reject() {\r\n        Core.services.WindowService.closePopup();\r\n    },\r\n\r\n    __accept() {\r\n        this.trigger('accept', this.view.getValue());\r\n        Core.services.WindowService.closePopup();\r\n    },\r\n\r\n    onAttach() {\r\n        this.__createView();\r\n        this.view.setValue(this.value.value);\r\n        this.showChildView('contentRegion', this.view);\r\n    }\r\n});\r\n","import template from '../templates/script.html';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    ui: {\r\n        scriptInput: '.js-script-input'\r\n    },\r\n\r\n    regions: {},\r\n\r\n    className: 'pp-setting__textarea',\r\n\r\n    getValue() {\r\n        return this.ui.scriptInput.val();\r\n    },\r\n\r\n    setValue(value) {\r\n        this.value = value;\r\n    },\r\n\r\n    onAttach() {\r\n        this.ui.scriptInput.val(this.value);\r\n    }\r\n});\r\n","import template from '../templates/selectButton.html';\r\n\r\nexport default Marionette.View.extend({\r\n    className: 'type-expression__btn',\r\n\r\n    modelEvents: {\r\n        'change:name': 'render'\r\n    },\r\n\r\n    template: Handlebars.compile(template)\r\n});\r\n","module.exports = \"<i class=\\\"fa fa-{{#unless iconClass}}level-down-alt{{/unless}}{{iconClass}} fa-2x\\\" aria-hidden=\\\"true\\\"></i>\\r\\n\";","module.exports = \"\";","module.exports = \"<div class=\\\"js-icon-selector-header icons-wrp\\\"></div>\\r\\n<i class=\\\"js-delete-icon editor__icons icon-remove fa fa-times\\\"></i>\\r\\n\";","module.exports = \"<div class=\\\"icons-panel-category__name\\\">{{name}}</div>\\r\\n<div class=\\\"js-item-palette icons-panel-category__palette\\\">\\r\\n    {{#each groupItems}}\\r\\n        <div data-id=\\\"{{this.id}}\\\" class=\\\"icons-panel-i js-icon-item\\\">\\r\\n            <i class=\\\"icons-panel-i__img fa default-fontawesome fa-{{this.id}}\\\" aria-hidden=\\\"true\\\"></i>\\r\\n            <div class=\\\"icons-panel-i__text\\\" title=\\\"{{this.name}}\\\">{{this.name}}</div>\\r\\n        </div>\\r\\n    {{/each}}\\r\\n</div>\\r\\n\";","module.exports = \"<div class=\\\"icons-panel-head\\\">\\r\\n    <div class=\\\"icons-panel-head__title\\\">Choose a color:</div>\\r\\n    <div class=\\\"icons-panel-head__title\\\">Search by name:</div>\\r\\n    <div class=\\\"js-color-picker-region icons-panel-head__editor\\\"></div>\\r\\n    <div class=\\\"js-search-input-region icons-panel-head__editor\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"js-search-area icons-panel-collection\\\" style=\\\"display: none;\\\"></div>\\r\\n<div class=\\\"js-collection-area icons-panel-collection\\\"></div>\";","import template from '../templates/iconButton.html';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize() {\r\n        this.__setIconColor();\r\n        this.listenTo(this.model, 'change:color', this.__setIconColor);\r\n        this.listenTo(this.model, 'change:iconClass', this.render);\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    triggers: {\r\n        click: 'click:item'\r\n    },\r\n\r\n    className: 'editor_icons',\r\n\r\n    __setIconColor() {\r\n        this.el.css({ color: this.model.get('color') });\r\n    }\r\n});\r\n","import template from '../templates/iconCollectionView.html';\r\nimport IconItemCategoryView from './IconItemCategoryView';\r\n\r\nexport default Marionette.CollectionView.extend({\r\n    className: 'ld-setting-dd-panel ld-setting-dd-panel_icons dev-setting-dd-panel_icons',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    childView: IconItemCategoryView,\r\n\r\n    childViewEvents: {\r\n        'click:item': '__triggerChildSelect'\r\n    },\r\n\r\n    __triggerChildSelect(model) {\r\n        this.trigger('click:item', model);\r\n    }\r\n});\r\n","import template from '../templates/iconItemCategory.html';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    ui: {\r\n        itemPalette: '.js-item-palette',\r\n        iconItem: '.js-icon-item'\r\n    },\r\n\r\n    events: {\r\n        'click .js-icon-item': '__onItemClick'\r\n    },\r\n\r\n    className: 'icons-panel-category',\r\n\r\n    __onItemClick(data) {\r\n        const id = data.target.getAttribute('data-id') || data.target.parentElement.getAttribute('data-id');\r\n        this.trigger('click:item', id);\r\n    }\r\n});\r\n","import template from '../templates/iconPanel.html';\r\nimport IconCollectionView from './IconCollectionView';\r\nimport IconItemCategoryView from './IconItemCategoryView';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize() {\r\n        this.iconGroupsCollection = this.options.collection;\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'dropdown__wrp dropdown__icons',\r\n\r\n    regions: {\r\n        searchInputRegion: '.js-search-input-region',\r\n        searchAreaRegion: '.js-search-area',\r\n        collectionAreaRegion: '.js-collection-area',\r\n        colorPickerRegion: '.js-color-picker-region'\r\n    },\r\n\r\n    modelEvents: {\r\n        'change:searchKey': '__changeSearchKey'\r\n    },\r\n\r\n    onRender() {\r\n        this.search = new Core.form.editors.TextEditor({\r\n            model: this.model,\r\n            key: 'searchKey',\r\n            changeMode: 'keydown',\r\n            autocommit: true\r\n        });\r\n\r\n        this.colorPicker = new Core.form.editors.ColorPickerEditor({\r\n            model: this.model,\r\n            key: 'color',\r\n            changeMode: 'keydown',\r\n            autocommit: true\r\n        });\r\n\r\n        this.showChildView('colorPickerRegion', this.colorPicker);\r\n        this.showChildView('searchInputRegion', this.search);\r\n\r\n        const iconCollectionView = new IconCollectionView({\r\n            collection: this.options.collection\r\n        });\r\n\r\n        this.showChildView('collectionAreaRegion', iconCollectionView);\r\n\r\n        this.listenTo(iconCollectionView, 'click:item', id => this.trigger('click:item', id));\r\n        this.listenTo(this.model, 'change:color', this.__setIconsColor);\r\n\r\n        this.__setIconsColor();\r\n        this.trigger('change:color', this.model.get('color'));\r\n    },\r\n\r\n    __changeSearchKey(model) {\r\n        const value = model.get('searchKey');\r\n        if (value && value.length) {\r\n            const matchesItems = this.__searchItem(value);\r\n            this.__showSearchResult(matchesItems);\r\n        } else {\r\n            this.getRegion('collectionAreaRegion').$el.removeAttribute('displayNone');;\r\n            this.getRegion('searchAreaRegion').$el.setAttribute('displayNone', true);\r\n        }\r\n    },\r\n\r\n    __showSearchResult(matchesItems) {\r\n        const model = new Backbone.Model({\r\n            name: Localizer.get('CORE.FORM.EDITORS.ICONEDITOR.SEARCHTITLE'),\r\n            groupItems: matchesItems\r\n        });\r\n\r\n        const iconItemCategoryView = new IconItemCategoryView({\r\n            model\r\n        });\r\n\r\n        const searchAreaRegion = this.getRegion('searchAreaRegion');\r\n        searchAreaRegion.show(iconItemCategoryView);\r\n        searchAreaRegion.$el.removeAttribute('displayNone');;\r\n        this.getRegion('collectionAreaRegion').$el.setAttribute('displayNone', true);\r\n        this.listenTo(iconItemCategoryView, 'click:item', id => this.trigger('click:item', id));\r\n    },\r\n\r\n    __searchItem(value) {\r\n        const matchesItems = [];\r\n        const matchSearch = searchStr => {\r\n            if (typeof searchStr !== 'string') {\r\n                return;\r\n            }\r\n\r\n            const splitName = searchStr.split('-');\r\n            return _.some(splitName, item => item.toLowerCase().indexOf(value) === 0);\r\n        };\r\n\r\n        this.iconGroupsCollection.each(groupItem => {\r\n            _.each(groupItem.get('groupItems'), item => {\r\n                if (\r\n                    matchSearch(item.id) ||\r\n                    (item.filter && item.filter.find(filterItem => matchSearch(filterItem)))\r\n                ) {\r\n                    const isItemExistInCollection = _.some(matchesItems, matchesItem => item.id === matchesItem.id);\r\n                    if (!matchesItems.length || !isItemExistInCollection) {\r\n                        matchesItems.push(item);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        return matchesItems;\r\n    },\r\n\r\n    __setIconsColor() {\r\n        this.getRegion('collectionAreaRegion').$el.css({ color: this.model.get('color') });\r\n    }\r\n});\r\n","/**\r\n * Developer: Ksenia Kartvelishvili\r\n * Date: 05.12.2014\r\n * Copyright: 2009-2016 Comindware\r\n *       All Rights Reserved\r\n * Published under the MIT license\r\n */\r\n\r\n/*eslint-disable*/\r\n\r\nimport { helpers, comparators } from 'utils';\r\nimport VirtualCollection from '../../../../../collections/VirtualCollection';\r\nimport HighlightableBehavior from '../../../../../collections/behaviors/HighlightableBehavior';\r\nimport MemberModel from '../models/MemberModel';\r\n\r\nexport default VirtualCollection.extend({\r\n    initialize() {\r\n        helpers.applyBehavior(this, HighlightableBehavior);\r\n    },\r\n\r\n    model: MemberModel,\r\n\r\n    comparator: helpers.comparatorFor(comparators.stringComparator2Asc, 'name'),\r\n\r\n    applyTextFilter(text) {\r\n        this.deselect();\r\n        this.unhighlight();\r\n\r\n        if (!text) {\r\n            this.filter(null);\r\n            this.selectFirst();\r\n            return;\r\n        }\r\n        text = text.toLowerCase();\r\n        this.filter(model => model.matchText(text));\r\n        this.highlight(text);\r\n        this.selectFirst();\r\n    },\r\n\r\n    selectFirst() {\r\n        if (this.length > 0) {\r\n            this.at(0).select();\r\n        }\r\n    }\r\n});\r\n","import { helpers } from 'utils';\r\nimport list from 'list';\r\n\r\nexport default Backbone.Model.extend({\r\n    initialize() {\r\n        helpers.applyBehavior(this, list.models.behaviors.ListItemBehavior);\r\n    },\r\n\r\n    matchText(text) {\r\n        const name = this.get('name');\r\n        const userName = this.get('userName');\r\n        return (name && name.toLowerCase().indexOf(text) !== -1) || (userName && userName.toLowerCase().indexOf(text) !== -1);\r\n    }\r\n});\r\n","import MembersCollection from '../collections/MembersCollection';\r\nimport MembersListView from '../views/MembersListView';\r\nimport UserService from 'services/UserService';\r\nimport 'utils';\r\n\r\nexport default {\r\n    createMembersCollection() {\r\n        const membersCollection = new MembersCollection();\r\n        membersCollection.reset(UserService.listUsers());\r\n        return membersCollection;\r\n    },\r\n\r\n    createMembersListView(options) {\r\n        return new MembersListView(options);\r\n    },\r\n\r\n    getMembersListView() {\r\n        return MembersListView;\r\n    }\r\n};\r\n","module.exports = \"<div class=\\\"dd-list__list\\\">\\r\\n    <div class=\\\"js-list-region dd-list__wrp\\\"></div>\\r\\n</div>\";","import { helpers } from 'utils';\r\nimport list from 'list';\r\nimport template from '../templates/panel.hbs';\r\nimport ListView from './MembersListView';\r\n\r\nconst config = {\r\n    CHILD_HEIGHT: 34\r\n};\r\n\r\nconst classes = {\r\n    EMPTY_VIEW: 'editor__common-empty-view'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'collection');\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'dd-list',\r\n\r\n    regions: {\r\n        listRegion: '.js-list-region'\r\n    },\r\n\r\n    onAttach() {\r\n        this.listView = list.factory.createDefaultList({\r\n            collection: this.collection,\r\n            listViewOptions: {\r\n                childView: ListView,\r\n                childViewOptions: {\r\n                    reqres: this.reqres\r\n                },\r\n                emptyViewOptions: {\r\n                    className: classes.EMPTY_VIEW\r\n                },\r\n                childHeight: config.CHILD_HEIGHT,\r\n                height: 'auto',\r\n                maxRows: 12\r\n            }\r\n        });\r\n\r\n        this.listenTo(this.listView, 'childview:member:select', (view, model) => {\r\n            this.trigger('member:select', model);\r\n        });\r\n\r\n        this.showChildView('listRegion', this.listView);\r\n    },\r\n\r\n    handleCommand(command) {\r\n        switch (command) {\r\n            case 'up':\r\n                this.listView.moveCursorBy(-1, false);\r\n                break;\r\n            case 'down':\r\n                this.listView.moveCursorBy(1, false);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n});\r\n","import { helpers } from 'utils/index';\r\nimport VirtualCollection from '../../../../../collections/VirtualCollection';\r\nimport HighlightableBehavior from '../../../../../collections/behaviors/HighlightableBehavior';\r\nimport ItemModel from '../model/ItemModel';\r\n\r\nexport default VirtualCollection.extend({\r\n    constructor() {\r\n        VirtualCollection.prototype.constructor.apply(this, arguments);\r\n        helpers.applyBehavior(this, HighlightableBehavior);\r\n    },\r\n\r\n    model: ItemModel\r\n});\r\n","import MembersSplitPanelView from '../views/MembersSplitPanelView';\r\nimport LocalizationService from '../../../../../services/LocalizationService';\r\nimport helpers from '../../../../../utils/helpers';\r\nimport ItemCollection from '../collection/ItemsCollection';\r\nimport ItemModel from '../model/ItemModel';\r\n\r\nexport default Marionette.Object.extend({\r\n    initialize(options) {\r\n        this.options = options;\r\n        this.channel = new Backbone.Radio.channel(_.uniqueId('splitC'));\r\n        this.channel.on('items:select', this.selectItemsByToolbar, this);\r\n        this.channel.on('items:move', this.moveItems, this);\r\n        this.channel.on('items:update', this.updateMembers, this);\r\n        this.channel.on('items:cancel', this.cancelMembers, this);\r\n        this.__createModel();\r\n\r\n        this.channel = new Backbone.Radio.channel(_.uniqueId('membersSplitPanel'));\r\n        this.channel.on('items:select', this.selectItemsByToolbar, this);\r\n        this.channel.on('items:move', this.__onItemsMove, this);\r\n    },\r\n\r\n    fillInModel() {\r\n        const users = this.options.users;\r\n        const groups = this.options.groups;\r\n        const members = {};\r\n\r\n        users.forEach(model => (members[model.id] = model));\r\n\r\n        groups.forEach(model => (members[model.id] = model));\r\n\r\n        this.model.set({\r\n            title: this.__getFullMemberSplitTitle(),\r\n            items: members,\r\n            showUsers: !this.options.hideUsers,\r\n            showGroups: !this.options.hideGroups,\r\n            showAll: !this.options.hideUsers && !this.options.hideGroups,\r\n            itemsToSelectText: this.options.itemsToSelectText,\r\n            selectedItemsText: this.options.selectedItemsText,\r\n            confirmEdit: true,\r\n            showToolbar: !this.options.hideToolbar,\r\n            emptyListText: this.options.emptyListText\r\n        });\r\n    },\r\n\r\n    getDisplayText() {\r\n        let resultText = '';\r\n        const members = this.model.get('items');\r\n\r\n        const membersCount = {\r\n            users: 0,\r\n            groups: 0\r\n        };\r\n\r\n        let selected = this.options.selected;\r\n\r\n        if (selected) {\r\n            if (!Array.isArray(selected)) {\r\n                selected = [selected];\r\n            }\r\n            selected.forEach(id => {\r\n                if (members[id]) {\r\n                    membersCount[members[id].type]++;\r\n                }\r\n            });\r\n        } else {\r\n            selected = [];\r\n        }\r\n\r\n        if (_.isFunction(this.options.getDisplayText)) {\r\n            return this.options.getDisplayText(selected);\r\n        }\r\n\r\n        resultText = this.options.hideUsers\r\n            ? ''\r\n            : helpers.getPluralForm(membersCount.users, LocalizationService.get('CORE.FORM.EDITORS.MEMBERSPLIT.USERS')).replace('{0}', membersCount.users);\r\n        resultText += resultText.length > 0 ? ' ' : '';\r\n        resultText += this.options.hideGroups\r\n            ? ''\r\n            : helpers.getPluralForm(membersCount.groups, LocalizationService.get('CORE.FORM.EDITORS.MEMBERSPLIT.GROUPS')).replace('{0}', membersCount.groups);\r\n        return resultText;\r\n    },\r\n\r\n    __getFullMemberSplitTitle() {\r\n        if (this.options.title) {\r\n            switch (this.options.title) {\r\n                case 'Members':\r\n                    return LocalizationService.get('CORE.FORM.EDITORS.MEMBERSPLIT.MEMBERSTITLE');\r\n                case 'Performers':\r\n                    return LocalizationService.get('CORE.FORM.EDITORS.MEMBERSPLIT.PERFORMERSTITLE');\r\n                default:\r\n                    return this.options.title;\r\n            }\r\n        }\r\n        return LocalizationService.get('CORE.FORM.EDITORS.MEMBERSPLIT.TITLE');\r\n    },\r\n\r\n    createView() {\r\n        this.view = new MembersSplitPanelView({\r\n            channel: this.channel,\r\n            model: this.model\r\n        });\r\n    },\r\n\r\n    __onItemsMove(...args) {\r\n        this.moveItems(...args);\r\n        setTimeout(() => this.updateMembers(), 100);\r\n    },\r\n\r\n    initItems() {\r\n        this.createView();\r\n        this.setValue();\r\n    },\r\n\r\n    updateMembers() {\r\n        const allSelectedModels = _.clone(this.model.get('selected'));\r\n        //allSelectedModels.filter(null); todo figure it out, WHY?!\r\n        this.options.selected = allSelectedModels.models.map(model => model.id);\r\n        this.trigger('popup:ok');\r\n    },\r\n\r\n    cancelMembers() {\r\n        this.trigger('popup:cancel');\r\n    },\r\n\r\n    selectItemsByToolbar(type, value) {\r\n        this.collectionFilterValue[type] = value;\r\n        this.__applyFilter(type);\r\n    },\r\n\r\n    __applyFilter(type) {\r\n        this.__createCollection(type);\r\n        this.collection.selectNone();\r\n        this.collection.unhighlight();\r\n\r\n        const filterValue = this.collectionFilterValue[type];\r\n        const searchValue = this.collectionSearchValue[type];\r\n\r\n        if (!filterValue && !searchValue) {\r\n            this.collection.filter(null);\r\n            return;\r\n        }\r\n        this.collection.filter(model => {\r\n            const modelType = model.get('type');\r\n            const modelName = model.get('name');\r\n\r\n            return (filterValue ? modelType && modelType === filterValue : true) && (searchValue ? modelName && modelName.toLowerCase().indexOf(searchValue) !== -1 : true);\r\n        });\r\n    },\r\n\r\n    moveItems(typeFrom, typeTo, all, model) {\r\n        const modelsTo = this.model.get(typeTo);\r\n        const allSelectedModels = _.clone(modelsTo);\r\n        const modelsFrom = this.model.get(typeFrom);\r\n\r\n        const maxQuantitySelected = this.model.get('maxQuantitySelected');\r\n        if (maxQuantitySelected && typeTo === 'selected') {\r\n            allSelectedModels.filter(null);\r\n            if (allSelectedModels.length >= maxQuantitySelected) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        let selected = all ? [].concat(modelsFrom.models) : Object.values(modelsFrom.checked);\r\n        model && selected.push(model);\r\n        if (!all && !selected.length) {\r\n            return;\r\n        }\r\n\r\n        if (maxQuantitySelected && typeTo === 'selected' && allSelectedModels) {\r\n            if (allSelectedModels.length + selected.length > maxQuantitySelected) {\r\n                selected = selected.slice(0, maxQuantitySelected - allSelectedModels.length);\r\n            }\r\n        }\r\n\r\n        const selectedIndexFrom = [];\r\n\r\n        modelsFrom.selectNone && modelsFrom.selectNone();\r\n        modelsTo.selectNone && modelsTo.selectNone();\r\n        modelsFrom.uncheckAll && modelsFrom.uncheckAll();\r\n        modelsTo.uncheckAll && modelsTo.uncheckAll();\r\n\r\n        const newSelectedFragment = this.collectionSearchValue[typeTo];\r\n\r\n        selected.forEach(selectedModel => {\r\n            if (!(selectedModel instanceof ItemModel)) {\r\n                return;\r\n            }\r\n            if (this.options.orderEnabled) {\r\n                if (typeTo === 'selected') {\r\n                    const newOrder = modelsTo.length ? modelsTo.at(modelsTo.length - 1).get('order') + 1 : 1;\r\n                    selectedModel.set('order', newOrder);\r\n                } else {\r\n                    selectedModel.unset('order');\r\n                }\r\n            }\r\n            !all && selectedIndexFrom.push(modelsFrom.indexOf(selectedModel));\r\n            modelsFrom.remove(selectedModel);\r\n            modelsTo.add(selectedModel, { delayed: false });\r\n            selectedModel.unhighlight();\r\n            if (newSelectedFragment) {\r\n                selectedModel.highlight(newSelectedFragment);\r\n            }\r\n            if (!all) {\r\n                selectedModel.select();\r\n            }\r\n        });\r\n\r\n        if (all) {\r\n            return;\r\n        }\r\n\r\n        const nextIndexFrom = Math.min(Math.min.apply(0, selectedIndexFrom), modelsFrom.length - 1);\r\n        if (nextIndexFrom < 0) {\r\n            return;\r\n        }\r\n        const selectedElemFrom = modelsFrom.at(nextIndexFrom);\r\n        selectedElemFrom.select();\r\n    },\r\n\r\n    __createCollection(type) {\r\n        this.collection = this.model.get(type);\r\n    },\r\n\r\n    __createModel() {\r\n        this.model = new Backbone.Model();\r\n\r\n        const availableModels = new ItemCollection(\r\n            new Backbone.Collection([], {\r\n                model: ItemModel\r\n            }),\r\n            {\r\n                isSliding: true,\r\n                selectableBehavior: 'multi',\r\n                comparator: Core.utils.helpers.comparatorFor(Core.utils.comparators.stringComparator2Asc, 'name')\r\n            }\r\n        );\r\n        if (this.groupConfig) {\r\n            availableModels.group(this.groupConfig);\r\n        }\r\n        this.model.set('available', availableModels);\r\n\r\n        const selectedComparator = this.options.orderEnabled\r\n            ? Core.utils.helpers.comparatorFor(Core.utils.comparators.numberComparator2Asc, 'order')\r\n            : Core.utils.helpers.comparatorFor(Core.utils.comparators.stringComparator2Asc, 'name');\r\n\r\n        const selectedModels = new ItemCollection(\r\n            new Backbone.Collection([], {\r\n                model: ItemModel\r\n            }),\r\n            {\r\n                isSliding: true,\r\n                selectableBehavior: 'multi',\r\n                comparator: selectedComparator\r\n            }\r\n        );\r\n        this.model.set('selected', selectedModels);\r\n\r\n        this.model.set({\r\n            maxQuantitySelected: this.options.maxQuantitySelected\r\n        });\r\n\r\n        this.model.set('allowRemove', this.options.allowRemove);\r\n        this.fillInModel();\r\n    },\r\n\r\n    setValue() {\r\n        this.collectionFilterValue = [];\r\n        this.collectionSearchValue = [];\r\n        this.__applyFilter('available');\r\n        this.__applyFilter('selected');\r\n\r\n        Promise.resolve(this.model.get('items')).then(oldItems => {\r\n            const items = _.clone(oldItems);\r\n            this.options.exclude.forEach(id => {\r\n                if (items[id]) {\r\n                    delete items[id];\r\n                }\r\n            });\r\n            const selected = this.options.selected;\r\n            let selectedItems = Array.isArray(selected)\r\n                ? this.options.selected.map(id => {\r\n                    const model = items[id];\r\n                    delete items[id];\r\n                    return model;\r\n                })\r\n                : [];\r\n\r\n            const availableItems = Object.values(items);\r\n            let i = 1;\r\n            selectedItems = _.chain(selectedItems)\r\n                .filter(item => item !== undefined)\r\n                .map(item => {\r\n                    if (this.options.orderEnabled) {\r\n                        item.order = i++;\r\n                    }\r\n                    return item;\r\n                })\r\n                .value();\r\n\r\n            this.model.get('available').reset(availableItems);\r\n            this.model.get('selected').reset(selectedItems);\r\n        });\r\n    }\r\n});\r\n","export default Backbone.Model.extend({\r\n    initialize() {\r\n        _.extend(this, new Core.list.models.behaviors.ListItemBehavior(this));\r\n    }\r\n});\r\n","module.exports = \"<div class=\\\"js-menu-select-item list-item\\\">\\r\\n    {{#if userpicUri}}\\r\\n    <img src=\\\"{{userpicUri}}\\\" alt=\\\"\\\" class=\\\"avatar-icon avatar-icon_list\\\">\\r\\n    {{else}}\\r\\n    {{#if abbreviation}}\\r\\n    <div class=\\\"avatar-icon avatar-icon_list\\\">{{abbreviation}}</div>\\r\\n    {{/if}}\\r\\n    {{/if}}\\r\\n    {{#if isGroup}}\\r\\n    <span class=\\\"group-icon\\\"></span>\\r\\n    {{/if}}\\r\\n    <span class=\\\"js-name\\\">{{name}}</span>\\r\\n</div>\";","module.exports = \"<div class=\\\"columns-select__panel\\\">\\r\\n    {{#if showToolbar}}\\r\\n    <h3 class=\\\"columns-select__header\\\">{{itemsToSelectText}}</h3>\\r\\n    {{/if}} {{#if showToolbar}}\\r\\n    <div class=\\\"js-available-items-toolbar-region \\\"> </div>{{/if}}\\r\\n    <div class=\\\"columns-select-list js-available-items-list-region\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"columns-select__btn\\\">\\r\\n    <div class=\\\"btn btn-outline btn-icon btn_arrow btn_arrow-right js-move-right-button\\\"></div>\\r\\n    <div class=\\\"btn btn-outline btn-icon btn_arrow btn_arrow-all-right js-move-right-all-button\\\"></div>\\r\\n    {{#if allowRemove}}\\r\\n    <div class=\\\"btn btn-outline btn-icon btn_arrow btn_arrow-left js-move-left-button\\\"></div>\\r\\n    <div class=\\\"btn btn-outline btn-icon btn_arrow btn_arrow-all-left js-move-left-all-button\\\"></div>\\r\\n    {{/if}}\\r\\n</div>\\r\\n<div class=\\\"columns-select__panel\\\">\\r\\n    {{#if showToolbar}}\\r\\n    <h3 class=\\\"columns-select__header columns-select__header_right\\\">{{selectedItemsText}}</h3>\\r\\n    {{/if}} {{#if showToolbar}}\\r\\n    <div class=\\\"js-selected-items-toolbar-region\\\"></div>{{/if}}\\r\\n    <div class=\\\"columns-select-list js-selected-items-list-region\\\"></div>\\r\\n</div>\";","module.exports = \"{{#if showAll}}\\r\\n    <div class=\\\"tabs__i tabs__i_current js-all-button js-filter-button\\\">\\r\\n        <span class=\\\"tabs__link tabs__link_current js-all-link js-filter-link\\\">{{localize 'CORE.FORM.EDITORS.MEMBERSPLIT.ALL'}}</span>\\r\\n    </div>\\r\\n{{/if}}\\r\\n{{#if showUsers}}\\r\\n    <div class=\\\"tabs__i js-users-button js-filter-button\\\">\\r\\n        <span class=\\\"tabs__link js-users-link js-filter-link\\\">{{localize 'CORE.FORM.EDITORS.MEMBERSPLIT.PEOPLE'}}</span>\\r\\n    </div>\\r\\n{{/if}}\\r\\n{{#if showGroups}}\\r\\n    <div class=\\\"tabs__i js-groups-button js-filter-button\\\">\\r\\n    <span class=\\\"tabs__link js-groups-link js-filter-link\\\">{{localize 'CORE.FORM.EDITORS.MEMBERSPLIT.GROUP'}}</span>\\r\\n    </div>\\r\\n{{/if}}\";","import list from 'list';\r\nimport { htmlHelpers } from 'utils';\r\nimport template from '../templates/membersListItem.html';\r\n\r\nexport default Marionette.View.extend({\r\n    templateContext() {\r\n        return {\r\n            isGroup: this.model.get('type') === 'groups'\r\n        };\r\n    },\r\n\r\n    ui: {\r\n        name: '.js-name'\r\n    },\r\n\r\n    behaviors: [ list.views.behaviors.ListItemViewBehavior],\r\n\r\n    onHighlighted(fragment) {\r\n        const text = htmlHelpers.highlightText(this.model.get('name'), fragment);\r\n        this.ui.name.html(text);\r\n    },\r\n\r\n    onUnhighlighted() {\r\n        this.ui.name.innerHTML = this.model.get('name');\r\n    },\r\n\r\n    template: Handlebars.compile(template)\r\n});\r\n","import template from '../templates/membersSplitPanel.html';\r\nimport MembersListItemView from './MembersListItemView';\r\nimport MembersToolbarView from './membersToolbarView';\r\nimport helpers from '../../../../../utils/helpers';\r\n\r\nconst config = {\r\n    CHILD_HEIGHT: 34\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    constructor(options) {\r\n        Marionette.View.prototype.constructor.apply(this, arguments);\r\n        this.channel = options.channel;\r\n        _.bindAll(this, '__onSelectedItemsSelect', '__moveRight', '__moveLeft', '__moveRightAll', '__moveLeftAll');\r\n        this.eventAggregator = [];\r\n\r\n        this.model.set('isDisplayedAvailable', false);\r\n        this.model.set('isDisplayedSelected', false);\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'columns-select',\r\n\r\n    events: {\r\n        'click .js-move-right-button': '__moveRight',\r\n        'click .js-move-left-button': '__moveLeft',\r\n        'click .js-move-right-all-button': '__moveRightAll',\r\n        'click .js-move-left-all-button': '__moveLeftAll'\r\n    },\r\n\r\n    regions: {\r\n        availableItemsListRegion: '.js-available-items-list-region',\r\n        availableItemsToolbarRegion: '.js-available-items-toolbar-region',\r\n        selectedItemsListRegion: '.js-selected-items-list-region',\r\n        selectedItemsToolbarRegion: '.js-selected-items-toolbar-region'\r\n    },\r\n\r\n    onRender() {\r\n        const maxQuantitySelected = this.model.get('maxQuantitySelected');\r\n\r\n        if (this.model.get('showToolbar')) {\r\n            // Available toolbar\r\n            const availableItemsToolbarView = new MembersToolbarView({\r\n                model: this.model\r\n            });\r\n            this.listenTo(availableItemsToolbarView, 'select', this.__onAvailableItemsSelect);\r\n            this.showChildView('availableItemsToolbarRegion', availableItemsToolbarView);\r\n\r\n            // Selected toolbar\r\n            const selectedMembersToolbarView = new MembersToolbarView({\r\n                model: this.model\r\n            });\r\n            this.showChildView('selectedItemsToolbarRegion', selectedMembersToolbarView);\r\n            this.listenTo(selectedMembersToolbarView, 'select', this.__onSelectedItemsSelect);\r\n        }\r\n    },\r\n\r\n    onAttach() {\r\n        const availableList = new Core.list.controllers.GridController({\r\n            collection: this.model.get('available'),\r\n            selectableBehavior: 'multi',\r\n            showSearch: true,\r\n            showCheckbox: true,\r\n            showHeader: false,\r\n            columns: [\r\n                {\r\n                    title: 'name',\r\n                    type: 'String',\r\n                    key: 'name'\r\n                }\r\n            ],\r\n            listViewOptions: {\r\n                height: 'auto',\r\n                childView: MembersListItemView,\r\n                childHeight: config.CHILD_HEIGHT,\r\n                emptyViewOptions: {\r\n                    text: this.model.get('emptyListText')\r\n                },\r\n                maxRows: 10,\r\n                childViewSelector: this.options.childViewSelector\r\n            }\r\n        }).view;\r\n\r\n        availableList.on('childview:dblclick', this.__moveRight);\r\n\r\n        this.showChildView('availableItemsListRegion', availableList);\r\n\r\n        const selectedList = new Core.list.controllers.GridController({\r\n            collection: this.model.get('selected'),\r\n            selectableBehavior: 'multi',\r\n            columns: [\r\n                {\r\n                    title: 'name',\r\n                    type: 'String',\r\n                    key: 'name'\r\n                }\r\n            ],\r\n            showSearch: true,\r\n            showHeader: false,\r\n            listViewOptions: {\r\n                height: 'auto',\r\n                childView: MembersListItemView,\r\n                childHeight: config.CHILD_HEIGHT,\r\n                emptyViewOptions: {\r\n                    text: this.model.get('emptyListText')\r\n                },\r\n                maxRows: 10\r\n            },\r\n            showCheckbox: true\r\n        }).view;\r\n\r\n        selectedList.on('childview:dblclick', this.__moveLeft);\r\n        \r\n        this.listenTo(this.model.get('available'), 'move:right enter', this.__moveRight);\r\n        this.listenTo(this.model.get('selected'), 'move:left enter', this.__moveLeft);\r\n\r\n        this.showChildView('selectedItemsListRegion', selectedList);\r\n    },\r\n\r\n    __moveRight(model) {\r\n        this.channel.trigger('items:move', 'available', 'selected', false, (model instanceof Backbone.Model && model));\r\n    },\r\n\r\n    __moveLeft(model) {\r\n        this.channel.trigger('items:move', 'selected', 'available', false, (model instanceof Backbone.Model && model));\r\n    },\r\n\r\n    __moveRightAll() {\r\n        this.channel.trigger('items:move', 'available', 'selected', true);\r\n    },\r\n\r\n    __moveLeftAll() {\r\n        this.channel.trigger('items:move', 'selected', 'available', true);\r\n    },\r\n\r\n    __onAvailableItemsSelect(id) {\r\n        this.channel.trigger('items:select', 'available', id);\r\n    },\r\n\r\n    __onSelectedItemsSelect(id) {\r\n        this.channel.trigger('items:select', 'selected', id);\r\n    },\r\n\r\n    __accept() {\r\n        this.channel.trigger('items:update');\r\n        Core.services.WindowService.closePopup();\r\n    },\r\n\r\n    __reject() {\r\n        this.channel.trigger('items:cancel');\r\n        Core.services.WindowService.closePopup();\r\n    }\r\n});\r\n","import template from '../templates/membersToolbar.html';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        this.reqres = options.reqres;\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'tabs tabs_columns-select',\r\n\r\n    regions: {\r\n        listRegion: '.js-list-region'\r\n    },\r\n\r\n    ui: {\r\n        allButton: '.js-all-button',\r\n        usersButton: '.js-users-button',\r\n        groupsButton: '.js-groups-button',\r\n        resourcesButton: '.js-resource-button',\r\n\r\n        filterButtons: '.js-filter-button',\r\n\r\n        allLink: '.js-all-link',\r\n        usersLink: '.js-users-link',\r\n        groupsLink: '.js-groups-link',\r\n        resourcesLink: '.js-resource-link',\r\n\r\n        filterLink: '.js-filter-link'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.allButton': '__filterAll',\r\n        'click @ui.usersButton': '__filterUsers',\r\n        'click @ui.groupsButton': '__filterGroups',\r\n        'click @ui.resourcesButton': '__filterResources'\r\n    },\r\n\r\n    classes: {\r\n        active: 'tabs__i_current',\r\n        activeLink: 'tabs__link_current'\r\n    },\r\n\r\n    onRender() {\r\n        if (!this.model.get('showAll')) {\r\n            if (this.model.get('showUsers')) {\r\n                this.__filterUsers();\r\n            } else if (this.model.get('showGroups')) {\r\n                this.__filterGroups();\r\n            }\r\n        }\r\n    },\r\n\r\n    __filterAll() {\r\n        if (this.ui.allButton.hasClass(this.classes.active)) return;\r\n        this.ui.filterButtons.classList.remove(this.classes.active);\r\n        this.ui.allButton.classList.add(this.classes.active);\r\n        this.ui.filterLink.classList.remove(this.classes.activeLink);\r\n        this.ui.allLink.classList.add(this.classes.activeLink);\r\n        this.trigger('select', '');\r\n    },\r\n\r\n    __filterUsers() {\r\n        if (this.ui.usersButton.hasClass(this.classes.active)) return;\r\n        this.ui.filterButtons.classList.remove(this.classes.active);\r\n        this.ui.usersButton.classList.add(this.classes.active);\r\n        this.ui.filterLink.classList.remove(this.classes.activeLink);\r\n        this.ui.usersLink.classList.add(this.classes.activeLink);\r\n        this.trigger('select', 'users');\r\n    },\r\n\r\n    __filterGroups() {\r\n        if (this.ui.groupsButton.hasClass(this.classes.active)) return;\r\n        this.ui.filterButtons.classList.remove(this.classes.active);\r\n        this.ui.groupsButton.classList.add(this.classes.active);\r\n        this.ui.filterLink.classList.remove(this.classes.activeLink);\r\n        this.ui.groupsLink.classList.add(this.classes.activeLink);\r\n        this.trigger('select', 'groups');\r\n    },\r\n\r\n    __filterResources() {\r\n        if (this.ui.resourcesButton.hasClass(this.classes.active)) return;\r\n        this.ui.filterButtons.classList.remove(this.classes.active);\r\n        this.ui.resourcesButton.classList.add(this.classes.active);\r\n        this.ui.filterLink.classList.remove(this.classes.activeLink);\r\n        this.ui.resourcesLink.classList.add(this.classes.activeLink);\r\n        this.trigger('select', 'resources');\r\n    }\r\n});\r\n","module.exports = \"<div class=\\\"js-new-expression-type-container dev-new-expression-padding\\\"></div>\\r\\n<div class=\\\"js-new-expression-value-container dev-new-expression-editor-item\\\"></div>\\r\\n<div class=\\\"js-new-expression-context-container dev-new-expression-editor-item\\\"></div>\\r\\n<div class=\\\"js-new-expression-script-container dev-new-expression-editor-item\\\"></div>\\r\\n<div class=\\\"js-new-expression-expression-container dev-new-expression-editor-item\\\" ></div>\\r\\n\";","//@flow\r\nimport { helpers } from 'utils';\r\nimport SelectableBehavior from '../../../../../models/behaviors/SelectableBehavior';\r\nimport RadioButtonModel from '../models/RadioButtonModel';\r\n\r\nexport default Backbone.Collection.extend({\r\n    initialize() {\r\n        helpers.applyBehavior(this, SelectableBehavior.SingleSelect);\r\n    },\r\n\r\n    model: RadioButtonModel\r\n});\r\n","//@flow\r\nimport { helpers } from 'utils';\r\nimport SelectableBehavior from '../../../../../models/behaviors/SelectableBehavior';\r\n\r\nexport default Backbone.Model.extend({\r\n    initialize() {\r\n        helpers.applyBehavior(this, SelectableBehavior.Selectable);\r\n    }\r\n});\r\n","module.exports = \"{{#if customHtml}} {{customHtml}} {{else}}\\r\\n<span class=\\\"radiobutton\\\"></span>\\r\\n<span class=\\\"radiobutton-text\\\">{{#if displayHtml}}{{{displayHtml}}}{{else}}{{displayText}}{{/if}}</span>\\r\\n{{/if}}\";","//@flow\r\nimport template from '../templates/radioButton.hbs';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'editor editor_radiobutton',\r\n\r\n    focusElement: null,\r\n\r\n    attributes() {\r\n        return {\r\n            title: (this.model && this.model.get('title')) || null\r\n        };\r\n    },\r\n\r\n    initialize(options) {\r\n        this.enabled = options.enabled;\r\n    },\r\n\r\n    classes: {\r\n        checked: 'editor_checked'\r\n    },\r\n\r\n    modelEvents: {\r\n        selected: '__toggle',\r\n        deselected: '__toggle'\r\n    },\r\n\r\n    events: {\r\n        click: '__changeModelSelected'\r\n    },\r\n\r\n    onRender() {\r\n        if (this.model.get('id') === this.options.selected) {\r\n            this.model.select();\r\n        }\r\n    },\r\n\r\n    __toggle() {\r\n        this.el.classList.toggle(this.classes.checked, this.model.selected);\r\n    },\r\n\r\n    __changeModelSelected() {\r\n        if (!this.enabled) {\r\n            return;\r\n        }\r\n        this.model.select();\r\n    },\r\n\r\n    setEnabled(enabled) {\r\n        this.enabled = enabled;\r\n    }\r\n});\r\n","//@flow\r\nimport { dateHelpers } from 'utils';\r\n\r\nexport default {\r\n    getDateDisplayValue(value?: string, format: string): string {\r\n        let formattedDisplayValue;\r\n        if (value === null) {\r\n            formattedDisplayValue = '';\r\n        } else if (format) {\r\n            formattedDisplayValue = moment(value).format(format);\r\n        } else {\r\n            formattedDisplayValue = dateHelpers.getDisplayDate(moment(value));\r\n        }\r\n        return formattedDisplayValue;\r\n    },\r\n\r\n    getTimeDisplayValue(value?: string, format: string): string {\r\n        let formattedValue;\r\n        if (value === null || value === '') {\r\n            formattedValue = '';\r\n        } else if (format) {\r\n            formattedValue = moment(value).format(format);\r\n        } else {\r\n            formattedValue = dateHelpers.getDisplayTime(moment(value));\r\n        }\r\n        return formattedValue;\r\n    }\r\n};\r\n","module.exports = \"<div class=\\\"js-remove user-avatar-editor__empty\\\">X</div>\\r\\n<div class=\\\"js-image user-avatar-editor\\\">\\r\\n    <div class=\\\"js-initials user-avatar-editor__txt\\\"></div>\\r\\n    <div class=\\\"js-tooltip user-avatar-editor__btn\\\"><span class=\\\"user-avatar-editor-btn\\\">{{localize 'CORE.FORM.EDITORS.AVATAR.CHANGE'}}</span></div>\\r\\n</div>\";","module.exports = \"<span class=\\\"checkbox\\\">\\r\\n    <svg class=\\\"svg-icons svg-icons_checked\\\"><use xlink:href=\\\"#icon-checked\\\" /> </svg>\\r\\n</span>\\r\\n{{#if displayText}}\\r\\n<span class=\\\"checkbox-text js-display-text\\\">{{displayText}}</span>\\r\\n{{else}}\\r\\n    {{#if displayHtml}}\\r\\n        <span class=\\\"checkbox-text js-display-text\\\">{{{displayHtml}}}</span>\\r\\n    {{/if}}\\r\\n{{/if}}\";","module.exports = \"<span class=\\\"boolean-switch-editor__toggle-button js-toggle-button\\\"></span><span class=\\\"boolean-switch-editor__display-text js-display-text\\\">{{displayText}}</span>\";","module.exports = \"<input type=\\\"text\\\" class=\\\"colorpicker dev-colorpicker\\\" name=\\\"color\\\" value=\\\"{{value}}\\\">\\r\\n<input type=\\\"text\\\" class=\\\"hexcolor dev-hexcolor input input_color js-input\\\" value=\\\"{{value}}\\\">\\r\\n<div class=\\\"svg-icons-wrp\\\">\\r\\n    <div class=\\\"svg-icons-wrp__empty\\\">\\r\\n        <svg class=\\\"svg-icons svg-icons_paint-brush\\\"><use xlink:href=\\\"#icon-paint-brush\\\" /></svg>\\r\\n    </div>\\r\\n</div>\\r\\n<i class=\\\"js-clear-button editor__icons icon-remove fa fa-times\\\"></i>\\r\\n\\r\\n\";","module.exports = \"<div class=\\\"context-wrp js-context-popout-region\\\"></div>\\r\\n<i class=\\\"js-clear-button editor__icons icon-remove fa fa-times\\\"></i>\";","module.exports = \"<div class=\\\"js-dropdown-region\\\"></div>\";","module.exports = \"<div class=\\\"js-date-dropdown-region date-dropdown-wrp\\\"></div>\\r\\n<div class=\\\"js-time-dropdown-region time-dropdown-wrp\\\"></div>\\r\\n\";","module.exports = \"<span class=\\\"js-add-region js-file-button btn btn-icon\\\" title=\\\"{{displayText}}\\\">\\r\\n    <i class=\\\"fa fa-paperclip\\\"></i>\\r\\n</span>\\r\\n<form class=\\\"js-file-form\\\">\\r\\n    <input name=\\\"fileId\\\" type=\\\"file\\\" multiple=\\\"\\\" class=\\\"js-file-input input-upload\\\" accept=\\\"{{fileFormat}}\\\" style=\\\"display: none\\\">\\r\\n</form>\\r\\n<ul class=\\\"documents js-collection-container\\\"></ul>\\r\\n<div class=\\\"field-documents__more js-show-more\\\">\\r\\n    <span class=\\\"js-show-more-text\\\">{{localize 'CORE.FORM.EDITORS.DOCUMENT.SHOWMORE'}}</span>\\r\\n    <span class=\\\"js-invisible-count show-more-counter\\\"></span>\\r\\n</div>\\r\\n\";","module.exports = \"<div class=\\\"js-new-expression-type-container dev-new-expression-padding\\\"></div>\\r\\n<div class=\\\"js-new-expression-value-container\\\"></div>\\r\\n<div class=\\\"js-new-expression-context-container\\\"></div>\\r\\n<div class=\\\"js-new-expression-script-container\\\"></div>\\r\\n<div class=\\\"js-new-expression-expression-container\\\" ></div>\\r\\n<div class=\\\"js-new-expression-template-container\\\" ></div>\";","module.exports = \"<input class=\\\"js-input input input_duration\\\" placeholder=\\\"{{localize 'CORE.FORM.EDITORS.DURATION.NOTSET'}}\\\" id=\\\"{{fieldId}}\\\">\\r\\n\";","module.exports = \"<div class=\\\"field-expression\\\">\\r\\n    <div class=\\\"field-expression__field js-value-container\\\"></div>\\r\\n    <div class=\\\"field-expression__val field-expression__val_func js-expression-container\\\"></div>\\r\\n    <div class=\\\"field-expression__val field-expression__val_func js-script-container\\\"></div>\\r\\n    <div style=\\\"overflow: inherit\\\" class=\\\"field-expression__val dev-field-expression__val js-context-container\\\"></div>\\r\\n    <div class=\\\"type-expression js-select-type\\\"></div>\\r\\n</div>\";","module.exports = \"{{#if showButton}}\\r\\n<div class=\\\"field-toggle toggle-wrp js-members-editor\\\">\\r\\n    <span class=\\\"link-for-popup js-members-text\\\">{{displayText}}</span>\\r\\n</div>\\r\\n{{else}}\\r\\n<div class=\\\"js-split-panel-region member-split__wrp\\\"></div>\\r\\n{{/if}}\";","module.exports = \"<div class=\\\"js-dropdown-region dev-mention-editor__dropdown-region\\\"></div>\";","module.exports = \"<input class=\\\"input input_number js-input\\\" type=\\\"text\\\" id=\\\"{{fieldId}}\\\">\";","module.exports = \"{{#if maxLength}}\\r\\n    <input type=\\\"Password\\\" class=\\\"input js-input\\\" placeholder=\\\"{{placeholder}}\\\" maxlength=\\\"{{maxLength}}\\\" id=\\\"{{fieldId}}\\\">\\r\\n{{else}}\\r\\n    <input type=\\\"Password\\\" class=\\\"input js-input\\\" placeholder=\\\"{{placeholder}}\\\" id=\\\"{{fieldId}}\\\">\\r\\n{{/if}}\";","module.exports = \"{{#if maxLength}}\\r\\n    <textarea class=\\\"textarea js-textarea\\\" placeholder=\\\"{{placeholder}}\\\" maxLength=\\\"{{maxLength}}\\\"></textarea>\\r\\n{{else}}\\r\\n    <textarea class=\\\"textarea js-textarea\\\" placeholder=\\\"{{placeholder}}\\\"></textarea>\\r\\n{{/if}}\";","module.exports = \"<input type=\\\"text\\\" class=\\\"input input_text js-input\\\" placeholder=\\\"{{placeholder}}\\\" {{#if maxLength}}maxlength=\\\"{{maxLength}}\\\"{{/if}} title=\\\"{{title}}\\\" id=\\\"{{fieldId}}\\\">\";","// @flow\r\nimport ErrorPlaceholderView from './templates/ErrorPlaceholder.hbs';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize() {\r\n        this.id = _.uniqueId('failed-view_');\r\n    },\r\n\r\n    templateContext() {\r\n        return {\r\n            id: this.id,\r\n            placeholderText: Localizer.get('CORE.FORM.FIELDS.ERRORFIELD')\r\n        };\r\n    },\r\n\r\n    template: Handlebars.compile(ErrorPlaceholderView),\r\n\r\n    getId() {\r\n        return this.id;\r\n    }\r\n});\r\n","// @flow\r\nimport template from './templates/field.hbs';\r\nimport dropdown from 'dropdown';\r\nimport ErrorButtonView from './views/ErrorButtonView';\r\nimport InfoButtonView from './views/InfoButtonView';\r\nimport TooltipPanelView from './views/TooltipPanelView';\r\nimport ErrosPanelView from './views/ErrosPanelView';\r\nimport formRepository from '../formRepository';\r\n\r\nconst classes = {\r\n    REQUIRED: 'required',\r\n    READONLY: 'readonly',\r\n    DISABLED: 'disabled',\r\n    ERROR: 'error'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options = {}) {\r\n        this.schema = options.schema;\r\n\r\n        this.fieldId = _.uniqueId('field-');\r\n\r\n        this.__createEditor(options, this.fieldId, _.isString(this.schema.type) ? formRepository.editors[this.schema.type] : this.schema.type);\r\n        if (this.schema.getReadonly || this.schema.getHidden) {\r\n            this.listenTo(this.model, 'change', this.__updateExternalChange);\r\n        }\r\n    },\r\n\r\n    className: 'form-group',\r\n\r\n    templateContext() {\r\n        return {\r\n            title: this.schema.title,\r\n            fieldId: this.fieldId\r\n        };\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    regions: {\r\n        editorRegion: {\r\n            el: '.js-editor-region',\r\n            replaceElement: true\r\n        },\r\n        errorTextRegion: '.js-error-text-region',\r\n        helpTextRegion: '.js-help-text-region'\r\n    },\r\n\r\n    onRender() {\r\n        this.showChildView('editorRegion', this.editor);\r\n        if (this.schema.helpText) {\r\n            const viewModel = new Backbone.Model({\r\n                helpText: this.schema.helpText,\r\n                errorText: null\r\n            });\r\n\r\n            const infoPopout = dropdown.factory.createPopout({\r\n                buttonView: InfoButtonView,\r\n                panelView: TooltipPanelView,\r\n                panelViewOptions: {\r\n                    model: viewModel,\r\n                    textAttribute: 'helpText'\r\n                },\r\n                popoutFlow: 'right',\r\n                customAnchor: true\r\n            });\r\n            this.showChildView('helpTextRegion', infoPopout);\r\n        }\r\n        this.__rendered = true;\r\n        this.setRequired(this.schema.required);\r\n        this.__updateEditorState(this.schema.readonly, this.schema.enabled);\r\n    },\r\n\r\n    /**\r\n     * Check the validity of the field\r\n     *\r\n     * @return {String}\r\n     */\r\n    validate() {\r\n        const error = this.editor.validate();\r\n        if (error) {\r\n            this.setError([error]);\r\n        } else {\r\n            this.clearError();\r\n        }\r\n        return error;\r\n    },\r\n\r\n    setError(errors: Array<any>): void {\r\n        if (!this.__checkUiReady()) {\r\n            return;\r\n        }\r\n\r\n        this.el.classList.add(classes.ERROR);\r\n        this.errorCollection ? this.errorCollection.reset(errors) : (this.errorCollection = new Backbone.Collection(errors));\r\n        if (!this.isErrorShown) {\r\n            const errorPopout = dropdown.factory.createPopout({\r\n                buttonView: ErrorButtonView,\r\n                panelView: ErrosPanelView,\r\n                panelViewOptions: {\r\n                    collection: this.errorCollection\r\n                },\r\n                popoutFlow: 'right',\r\n                customAnchor: true\r\n            });\r\n            this.showChildView('errorTextRegion', errorPopout);\r\n            this.isErrorShown = true;\r\n        }\r\n    },\r\n\r\n    clearError(): void {\r\n        if (!this.__checkUiReady()) {\r\n            return;\r\n        }\r\n        this.el.classList.remove(classes.ERROR);\r\n        this.errorCollection && this.errorCollection.reset();\r\n    },\r\n\r\n    /**\r\n     * Update the model with the new value from the editor\r\n     *\r\n     * @return {Mixed}\r\n     */\r\n    commit() {\r\n        return this.editor.commit();\r\n    },\r\n\r\n    /**\r\n     * Get the value from the editor\r\n     *\r\n     * @return {Mixed}\r\n     */\r\n    getValue() {\r\n        return this.editor.getValue();\r\n    },\r\n\r\n    /**\r\n     * Set/change the value of the editor\r\n     *\r\n     * @param {Mixed} value\r\n     */\r\n    setValue(value) {\r\n        this.editor.setValue(value);\r\n    },\r\n\r\n    /**\r\n     * Give the editor focus\r\n     */\r\n    focus() {\r\n        this.editor.focus();\r\n    },\r\n\r\n    /**\r\n     * Remove focus from the editor\r\n     */\r\n    blur() {\r\n        this.editor.blur();\r\n    },\r\n\r\n    setRequired(required) {\r\n        if (!this.__checkUiReady()) {\r\n            return;\r\n        }\r\n        this.el.classList.toggle(classes.REQUIRED, Boolean(required));\r\n    },\r\n\r\n    __updateEditorState(readonly, enabled) {\r\n        if (!this.__checkUiReady()) {\r\n            return;\r\n        }\r\n        this.el.classList.toggle(classes.READONLY, Boolean(readonly));\r\n        this.el.classList.toggle(classes.DISABLED, Boolean(readonly || !enabled));\r\n    },\r\n\r\n    __updateExternalChange() {\r\n        if (_.isFunction(this.schema.getReadonly)) {\r\n            this.editor.setReadonly(this.schema.getReadonly(this.model));\r\n        }\r\n        if (_.isFunction(this.schema.getHidden)) {\r\n            this.editor.setHidden(Boolean(this.schema.getHidden(this.model)));\r\n        }\r\n    },\r\n\r\n    __createEditor(options, fieldId, ConstructorFn) {\r\n        this.editor = new ConstructorFn({\r\n            schema: this.schema,\r\n            form: options.form,\r\n            field: this,\r\n            key: options.key,\r\n            model: this.model,\r\n            id: this.__createEditorId(options.key),\r\n            value: this.options.value,\r\n            fieldId\r\n        });\r\n        this.key = options.key;\r\n        this.editor.on('readonly', readonly => {\r\n            this.__updateEditorState(readonly, this.editor.getEnabled());\r\n        });\r\n        this.editor.on('enabled', enabled => {\r\n            this.__updateEditorState(this.editor.getReadonly(), enabled);\r\n        });\r\n    },\r\n\r\n    __createEditorId(key) {\r\n        if (this.model) {\r\n            return `${this.model.cid}_${key}`;\r\n        }\r\n        return key;\r\n    },\r\n\r\n    __checkUiReady() {\r\n        return this.__rendered && !this.isDestroyed();\r\n    }\r\n});\r\n","// @flow\r\nimport template from './templates/simplifiedField.hbs';\r\nimport dropdown from 'dropdown';\r\nimport ErrorButtonView from './views/ErrorButtonView';\r\nimport InfoButtonView from './views/InfoButtonView';\r\nimport TooltipPanelView from './views/TooltipPanelView';\r\nimport ErrosPanelView from './views/ErrosPanelView';\r\nimport formRepository from '../formRepository';\r\nimport SimplifiedButtonView from './views/SimplifiedButtonView';\r\nimport SimplifiedPanelView from './views/SimplifiedPanelView';\r\n\r\nconst classes = {\r\n    REQUIRED: 'required',\r\n    READONLY: 'readonly',\r\n    DISABLED: 'disabled',\r\n    ERROR: 'error'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options = {}) {\r\n        this.schema = options.schema;\r\n\r\n        this.fieldId = _.uniqueId('field-');\r\n\r\n        this.__createEditor(options, this.fieldId, _.isString(this.schema.type) ? formRepository.editors[this.schema.type] : this.schema.type);\r\n    },\r\n\r\n    templateContext() {\r\n        return {\r\n            title: this.schema.title,\r\n            fieldId: this.fieldId\r\n        };\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    regions: {\r\n        editorRegion: {\r\n            el: '.js-editor-region',\r\n            replaceElement: true\r\n        },\r\n        errorTextRegion: '.js-error-text-region',\r\n        helpTextRegion: '.js-help-text-region'\r\n    },\r\n\r\n    onRender() {\r\n        const menuView = Core.dropdown.factory.createDropdown({\r\n            buttonView: SimplifiedButtonView,\r\n            panelView: SimplifiedPanelView,\r\n            panelViewOptions: {\r\n                editorConstructor: this.editorConstructor,\r\n                editorConfig: this.editorConfig\r\n            },\r\n            buttonViewOptions: {\r\n                editor: this.editor,\r\n                model: this.model\r\n            },\r\n            class: 'simplified-panel_container',\r\n            autoopen: true\r\n        });\r\n\r\n        if (this.schema.helpText) {\r\n            const viewModel = new Backbone.Model({\r\n                helpText: this.schema.helpText,\r\n                errorText: null\r\n            });\r\n\r\n            const infoPopout = dropdown.factory.createPopout({\r\n                buttonView: InfoButtonView,\r\n                panelView: TooltipPanelView,\r\n                panelViewOptions: {\r\n                    model: viewModel,\r\n                    textAttribute: 'helpText'\r\n                },\r\n                popoutFlow: 'right',\r\n                customAnchor: true\r\n            });\r\n            this.showChildView('helpTextRegion', infoPopout);\r\n        }\r\n        this.__rendered = true;\r\n        this.setRequired(this.schema.required);\r\n        this.__updateEditorState(this.schema.readonly, this.schema.enabled);\r\n        this.showChildView('editorRegion', menuView);\r\n    },\r\n\r\n    /**\r\n     * Check the validity of the field\r\n     *\r\n     * @return {String}\r\n     */\r\n    validate() {\r\n        const error = this.editor.validate();\r\n        if (error) {\r\n            this.setError([error]);\r\n        } else {\r\n            this.clearError();\r\n        }\r\n        return error;\r\n    },\r\n\r\n    setError(errors: Array<any>): void {\r\n        if (!this.__checkUiReady()) {\r\n            return;\r\n        }\r\n\r\n        this.el.classList.add(classes.ERROR);\r\n        this.errorCollection ? this.errorCollection.reset(errors) : (this.errorCollection = new Backbone.Collection(errors));\r\n        if (!this.isErrorShown) {\r\n            const errorPopout = dropdown.factory.createPopout({\r\n                buttonView: ErrorButtonView,\r\n                panelView: ErrosPanelView,\r\n                panelViewOptions: {\r\n                    collection: this.errorCollection\r\n                },\r\n                popoutFlow: 'right',\r\n                customAnchor: true\r\n            });\r\n            this.showChildView('errorTextRegion', errorPopout);\r\n            this.isErrorShown = true;\r\n        }\r\n    },\r\n\r\n    clearError(): void {\r\n        if (!this.__checkUiReady()) {\r\n            return;\r\n        }\r\n        this.el.classList.remove(classes.ERROR);\r\n        this.errorCollection && this.errorCollection.reset();\r\n    },\r\n\r\n    /**\r\n     * Update the model with the new value from the editor\r\n     *\r\n     * @return {Mixed}\r\n     */\r\n    commit() {\r\n        return this.editor.commit();\r\n    },\r\n\r\n    /**\r\n     * Get the value from the editor\r\n     *\r\n     * @return {Mixed}\r\n     */\r\n    getValue() {\r\n        return this.editor.getValue();\r\n    },\r\n\r\n    /**\r\n     * Set/change the value of the editor\r\n     *\r\n     * @param {Mixed} value\r\n     */\r\n    setValue(value) {\r\n        this.editor.setValue(value);\r\n    },\r\n\r\n    /**\r\n     * Give the editor focus\r\n     */\r\n    focus() {\r\n        this.editor.focus();\r\n    },\r\n\r\n    /**\r\n     * Remove focus from the editor\r\n     */\r\n    blur() {\r\n        this.editor.blur();\r\n    },\r\n\r\n    setRequired(required) {\r\n        if (!this.__checkUiReady()) {\r\n            return;\r\n        }\r\n        this.el.classList.toggle(classes.REQUIRED, Boolean(required));\r\n    },\r\n\r\n    __updateEditorState(readonly, enabled) {\r\n        if (!this.__checkUiReady()) {\r\n            return;\r\n        }\r\n        this.el.classList.toggle(classes.READONLY, Boolean(readonly));\r\n        this.el.classList.toggle(classes.DISABLED, Boolean(readonly || !enabled));\r\n    },\r\n\r\n    __createEditor(options, fieldId, ConstructorFn) {\r\n        this.editorConfig = {\r\n            schema: this.schema,\r\n            form: options.form,\r\n            field: this,\r\n            key: options.key,\r\n            model: this.model,\r\n            id: this.__createEditorId(options.key),\r\n            value: this.options.value,\r\n            fieldId\r\n        };\r\n        this.editor = new ConstructorFn(this.editorConfig);\r\n\r\n        this.editorConstructor = ConstructorFn;\r\n        this.key = options.key;\r\n        this.editor.on('readonly', readonly => {\r\n            this.__updateEditorState(readonly, this.editor.getEnabled());\r\n        });\r\n        this.editor.on('enabled', enabled => {\r\n            this.__updateEditorState(this.editor.getReadonly(), enabled);\r\n        });\r\n    },\r\n\r\n    __createEditorId(key) {\r\n        if (this.model) {\r\n            return `${this.model.cid}_${key}`;\r\n        }\r\n        return key;\r\n    },\r\n\r\n    __checkUiReady() {\r\n        return this.__rendered && !this.isDestroyed();\r\n    }\r\n});\r\n","module.exports = \"<div class=\\\"field-error-view_text\\\" title=\\\"{{placeholderText}}\\\" id=\\\"{{id}}\\\">{{placeholderText}}</div>\";","module.exports = \"<span class=\\\"js-anchor form-label__error-button-anchor\\\"></span>\";","module.exports = \"{{#if severity}}\\r\\n    <i class=\\\"form-label__error-icon form-label__error-icon-{{severity}} fa fa-lg fa-warning\\\"></i>\\r\\n    <span class=\\\"form-label__error-text\\\">{{message}}</span>\\r\\n{{else}}\\r\\n    {{message}}\\r\\n{{/if}}\\r\\n\";","module.exports = \"<div class=\\\"form-label {{#unless title}}form-label--empty{{/unless}}\\\">\\r\\n    <label class=\\\"form-label__txt\\\" for=\\\"{{fieldId}}\\\">{{title}}</label>\\r\\n    <div class=\\\"js-help-text-region form-label__info\\\"></div>\\r\\n    <div class=\\\"js-error-text-region form-label__error\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"form-editor js-editor-region\\\"></div>\";","module.exports = \"<span class=\\\"form-label__info-button-anchor js-anchor\\\"></span>\";","module.exports = \"<div class=\\\"js-grid-region\\\"></div>\\r\\n<div class=\\\"js-counter-region counter_container\\\">\\r\\n    <div class=\\\"js-counter-region__counter\\\"></div>\\r\\n    <i class=\\\"fas fa-plus\\\"></i>\\r\\n</div>\";","module.exports = \"<div class=\\\"form-editor js-editor-region\\\"></div>\";","module.exports = \"<div class=\\\"js-editor-region\\\"></div>\";","//@flow\r\nimport dropdown from 'dropdown';\r\nimport template from '../templates/errorButton.hbs';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'form-label__error-button fa fa-exclamation-circle',\r\n    tagName: 'i',\r\n\r\n    behaviors: {\r\n        CustomAnchorBehavior: {\r\n            behaviorClass: dropdown.views.behaviors.CustomAnchorBehavior,\r\n            anchor: '.js-anchor',\r\n            omitDefaultStyling: true\r\n        }\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/errorItem.hbs';\r\n\r\nexport default Marionette.View.extend({\r\n    tagName: 'li',\r\n\r\n    className: 'form-label__error-item',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        const severity = this.model.get('severity');\r\n        return {\r\n            severity: severity && severity.toLowerCase()\r\n        };\r\n    }\r\n});\r\n","//@flow\r\nimport ErrorItemView from './ErrorItemView';\r\n\r\nexport default Marionette.CollectionView.extend({\r\n    tagName: 'ul',\r\n\r\n    className: 'form-label__error-panel',\r\n\r\n    template: false,\r\n\r\n    childView: ErrorItemView\r\n});\r\n","//@flow\r\nimport dropdown from 'dropdown';\r\nimport template from '../templates/infoButton.hbs';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'form-label__info-button fa fa-question-circle',\r\n    tagName: 'i',\r\n\r\n    behaviors: {\r\n        CustomAnchorBehavior: {\r\n            behaviorClass: dropdown.views.behaviors.CustomAnchorBehavior,\r\n            anchor: '.js-anchor',\r\n            omitDefaultStyling: true\r\n        }\r\n    }\r\n});\r\n","import template from '../templates/simplifiedButton.hbs';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'simplified-button_container',\r\n\r\n    regions: {\r\n        gridRegion: '.js-grid-region'\r\n    },\r\n\r\n    ui: {\r\n        counterRegion: '.js-counter-region',\r\n        counterRegionCounter: '.js-counter-region__counter'\r\n    },\r\n\r\n    onRender() {\r\n        const columns = [\r\n            {\r\n                key: 'value',\r\n                type: Core.meta.objectPropertyTypes.STRING,\r\n                format: 'HTML',\r\n                width: 35\r\n            }\r\n        ];\r\n\r\n        this.options.model.on('change', () => this.__updateDisplayValue(this.options.editor.getValue()));\r\n        const values = this.options.editor.getValue();\r\n\r\n        const collectionValues = this.__formatValues(this.options.editor.schema, values);\r\n\r\n        let showCounter = false;\r\n        let counterValue = false;\r\n\r\n        if (collectionValues.length > 3) { //todo make dynamic\r\n            counterValue = collectionValues.length;\r\n            collectionValues.splice(2, collectionValues.length - 3);\r\n            showCounter = true;\r\n        }\r\n\r\n        this.collection = new Backbone.Collection(collectionValues);\r\n\r\n        const grid = new Core.list.factory.createDefaultGrid({\r\n            gridViewOptions: {\r\n                columns,\r\n                showHeader: false,\r\n                class: 'simplified-button_grid'\r\n            },\r\n            isSliding: false,\r\n            collection: this.collection\r\n        });\r\n\r\n        this.showChildView('gridRegion', grid);\r\n        if (showCounter) {\r\n            this.ui.counterRegion.removeAttribute('displayNone');\r\n            this.ui.counterRegionCounter.innerHTML = counterValue;\r\n        } else {\r\n            this.ui.counterRegion.setAttribute('displayNone', true);\r\n        }\r\n    },\r\n\r\n    __formatValues(schema, values) {\r\n        switch (schema.type) {\r\n            case 'Datalist': {\r\n                return Array.isArray(values) ? values.map(v => ({\r\n                    value: `\r\n                <div class=\"user-edit-wrp\" title=\"${v.name}\">\r\n                    <div class=\"user-abr__container\">\r\n                    ${v.userpicUri ? `<img src=\"${v.userpicUri}\">` : this.__getAbbreviation(v.name).toUpperCase()}\r\n                </div>\r\n            </div>`\r\n                })) : [{ value: values.name }];\r\n            }\r\n            case 'Document': {\r\n                return Array.isArray(values) ? values.map(v => ({\r\n                    value: `\r\n                <div class=\"user-edit-wrp\" title=\"${v.name}\">\r\n                    <div class=\"user-abr__container\">\r\n                    ${v.userpicUri ? `<img src=\"${v.userpicUri}\">` : this.__getAbbreviation(v.name).toUpperCase()}\r\n                </div>\r\n            </div>`\r\n                })) : [{ value: values.name }];\r\n            }\r\n            default:\r\n                return Array.isArray(values) ? values : [values];\r\n        }\r\n    },\r\n\r\n    __getAbbreviation(fullName) {\r\n        if (!fullName) {\r\n            return '';\r\n        }\r\n\r\n        const words = fullName.split(/[, _]/);\r\n        switch (words.length) {\r\n            case 0:\r\n                return '';\r\n            case 1:\r\n                return this._getWordAbbreviation(words[0], true);\r\n            default:\r\n                return this._getWordAbbreviation(words[0], words[1].length === 0) + this._getWordAbbreviation(words[1], words[0].length === 0);\r\n        }\r\n    },\r\n\r\n    _getWordAbbreviation(word, takeTwo) {\r\n        if (word.length === 0) {\r\n            return '';\r\n        }\r\n\r\n        return word.substring(0, word.length > 1 && takeTwo ? 2 : 1);\r\n    },\r\n\r\n    __updateDisplayValue(values) {\r\n        const collectionValues = this.__formatValues(this.options.editor.schema, values);\r\n\r\n        let showCounter = false;\r\n        let counterValue = false;\r\n\r\n        if (collectionValues.length > 3) { //todo make dynamic\r\n            counterValue = collectionValues.length;\r\n            collectionValues.splice(2, collectionValues.length - 3);\r\n            showCounter = true;\r\n        }\r\n        this.collection.reset(collectionValues);\r\n        if (showCounter) {\r\n            this.ui.counterRegion.removeAttribute('displayNone');\r\n            this.ui.counterRegionCounter.innerHTML = counterValue;\r\n        } else {\r\n            this.ui.counterRegion.setAttribute('displayNone', true);\r\n        }\r\n    }\r\n});\r\n","import template from '../templates/simplifiedPanel.hbs';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    regions: {\r\n        editorRegion: '.js-editor-region'\r\n    },\r\n\r\n    className: 'simplified-panel_container',\r\n\r\n    onRender() {\r\n        this.showChildView('editorRegion', new this.options.editorConstructor(Object.assign({ openOnRender: true }, this.options.editorConfig)));\r\n    }\r\n});\r\n","//@flow\r\nexport default Marionette.View.extend({\r\n    modelEvents: {\r\n        change: 'onChangeText'\r\n    },\r\n\r\n    className: 'form-label__tooltip-panel',\r\n\r\n    template: false,\r\n\r\n    onRender() {\r\n        this.el.innerHtml = this.model.get(this.options.textAttribute);\r\n    },\r\n\r\n    onChangeText() {\r\n        this.el.textinnerHtml = this.model.get(this.options.textAttribute);\r\n    }\r\n});\r\n","import RequiredValidator from './validators/requiredValidator';\r\nimport LengthValidator from './validators/lengthValidator';\r\nimport PasswordValidator from './validators/passwordValidator';\r\nimport PhoneValidator from './validators/phoneValidator';\r\nimport SystemNameValidator from './validators/systemNameValidator';\r\nimport EmailValidator from './validators/emailValidator';\r\nimport CodeValidation from './validators/codeValidation';\r\n\r\n\r\nexport default {\r\n    editors: {},\r\n    validators: {\r\n        required: RequiredValidator,\r\n        length: LengthValidator,\r\n        password: PasswordValidator,\r\n        phone: PhoneValidator,\r\n        systemName: SystemNameValidator,\r\n        email: EmailValidator,\r\n        code: CodeValidation\r\n    }\r\n};\r\n","//@flow\r\nimport BackboneFormBehavior from './behaviors/BackboneFormBehavior';\r\nimport FieldView from './fields/FieldView';\r\nimport SimpleFieldView from './fields/SimplifiedFieldView';\r\nimport BaseItemEditorView from './editors/base/BaseItemEditorView';\r\nimport BaseLayoutEditorView from './editors/base/BaseLayoutEditorView';\r\nimport BaseCollectionEditorView from './editors/base/BaseCollectionEditorView';\r\nimport BaseCompositeEditorView from './editors/base/BaseCompositeEditorView';\r\nimport BooleanEditorView from './editors/BooleanEditorView';\r\nimport NumberEditorView from './editors/NumberEditorView';\r\nimport TextAreaEditorView from './editors/TextAreaEditorView';\r\nimport TextEditorView from './editors/TextEditorView';\r\nimport PasswordEditorView from './editors/PasswordEditorView';\r\nimport DatalistEditorView from './editors/DatalistEditorView';\r\nimport DurationEditorView from './editors/DurationEditorView';\r\nimport RadioGroupEditorView from './editors/RadioGroupEditorView';\r\nimport DateEditorView from './editors/DateEditorView';\r\nimport TimeEditorView from './editors/TimeEditorView';\r\nimport DateTimeEditorView from './editors/DateTimeEditorView';\r\nimport DateWidget from './editors/impl/dateTime/views/DateWidget';\r\nimport MentionEditorView from './editors/MentionEditorView';\r\nimport AvatarEditorView from './editors/AvatarEditorView';\r\nimport DocumentEditorView from './editors/DocumentEditorView';\r\nimport CodeEditorView from './editors/CodeEditorView';\r\nimport ContextSelectEditorView from './editors/ContextSelectEditorView';\r\nimport BooleanSwitchEditorView from './editors/BooleanSwitchEditorView';\r\nimport MembersSplitEditorView from './editors/MembersSplitEditorView';\r\nimport ExpressionEditorView from './editors/ExpressionEditorView';\r\nimport DocumentExpressionEditorView from './editors/DocumentExpressionEditorView';\r\nimport NewExpressionEditorView from './editors/NewExpressionEditorView';\r\nimport editorsImplCommonMembersFactory from './editors/impl/members/services/factory';\r\nimport editorsImplCommonMembersCollection from './editors/impl/members/collections/MembersCollection';\r\nimport editorsImplCommonMemberModel from './editors/impl/members/models/MemberModel';\r\nimport IconEditorView from './editors/IconEditorView';\r\nimport BaseAvatarEditorController from './editors/impl/avatar/controllers/BaseAvatarEditorController';\r\nimport DemoAvatarEditorController from './editors/impl/avatar/controllers/DemoAvatarEditorController';\r\nimport DatalistButtonView from './editors/impl/datalist/views/ButtonView';\r\nimport ColorPickerEditor from './editors/ColorPickerEditor';\r\nimport RangeEditor from './editors/RangeEditor';\r\nimport AudioEditor from './editors/AudioEditor';\r\nimport formRepository from './formRepository';\r\n\r\nconst api = /** @lends module:core.form */ {\r\n    /**\r\n     * Marionette.Behavior classes useful with Backbone.Form.\r\n     * @namespace\r\n     * */\r\n    behaviors: {\r\n        BackboneFormBehavior\r\n    },\r\n    /**\r\n     * Repository that is used when an editor or validator is declared as string in form schema.\r\n     * @namespace\r\n     * */\r\n    repository: formRepository,\r\n    /**\r\n     * Extended version of Backbone.Form.Field which is able to display validation errors and information tooltips.\r\n     * @namespace\r\n     * */\r\n    Field: FieldView,\r\n\r\n    SimpleField: SimpleFieldView,\r\n    /**\r\n     * A lot of editors\r\n     * @namespace\r\n     * */\r\n    editors: {\r\n        impl: {\r\n            common: {\r\n                members: {\r\n                    collections: {\r\n                        MembersCollection: editorsImplCommonMembersCollection\r\n                    },\r\n                    models: {\r\n                        MemberModel: editorsImplCommonMemberModel\r\n                    },\r\n                    factory: editorsImplCommonMembersFactory\r\n                },\r\n                DateWidget\r\n            }\r\n        },\r\n        /**\r\n         * Base classes for implementing editors on various Marionette Views.\r\n         * @namespace\r\n         * */\r\n        base: {\r\n            BaseItemEditorView,\r\n            BaseLayoutEditorView,\r\n            BaseCollectionEditorView,\r\n            BaseCompositeEditorView\r\n        },\r\n        /**\r\n         * Avatar editor data providers and internal implementation.\r\n         * @namespace\r\n         * */\r\n        avatar: {\r\n            /**\r\n             * Base implementation of data providers for AvatarEditorView.\r\n             * @namespace\r\n             * */\r\n            controllers: {\r\n                BaseAvatarEditorController,\r\n                DemoAvatarEditorController\r\n            }\r\n        },\r\n        /**\r\n         * Reference editor data providers and internal implementation.\r\n         * @namespace\r\n         * */\r\n        reference: {\r\n            views: {\r\n                DatalistButtonView\r\n            }\r\n        },\r\n        BooleanEditor: BooleanEditorView,\r\n        NumberEditor: NumberEditorView,\r\n        TextAreaEditor: TextAreaEditorView,\r\n        TextEditor: TextEditorView,\r\n        PasswordEditor: PasswordEditorView,\r\n        DatalistEditor: DatalistEditorView,\r\n        DurationEditor: DurationEditorView,\r\n        RadioGroupEditor: RadioGroupEditorView,\r\n        DateEditor: DateEditorView,\r\n        TimeEditor: TimeEditorView,\r\n        DateTimeEditor: DateTimeEditorView,\r\n        MentionEditor: MentionEditorView,\r\n        AvatarEditor: AvatarEditorView,\r\n        DocumentEditor: DocumentEditorView,\r\n        CodeEditor: CodeEditorView,\r\n        ContextSelectEditor: ContextSelectEditorView,\r\n        BooleanSwitchEditor: BooleanSwitchEditorView,\r\n        MembersSplitEditor: MembersSplitEditorView,\r\n        ExpressionEditor: ExpressionEditorView,\r\n        DocumentExpressionEditor: DocumentExpressionEditorView,\r\n        NewExpressionEditor: NewExpressionEditorView,\r\n        IconEditor: IconEditorView,\r\n        ColorPickerEditor,\r\n        RangeEditor,\r\n        AudioEditor\r\n    }\r\n};\r\n\r\nexport default api;\r\nexport const editors = api.editors;\r\nexport const behaviors = api.behaviors;\r\n","/*eslint-disable*/\r\n\r\nimport LocalizationService from '../../services/LocalizationService';\r\n\r\nexport default function(options) {\r\n    options = {\r\n        type: 'code',\r\n        message: LocalizationService.get('CORE.FORM.VALIDATION.CODE')\r\n    };\r\n\r\n    return function code(val) {\r\n        const error = {\r\n            type: options.type,\r\n            message:options.message\r\n        };\r\n        let totalCommentsChars = 0;\r\n        const content = val;\r\n        const totalCharsWithoutComments = content.replace(/(\\/\\*[\\w\\'\\s\\r\\n\\*]*\\*\\/)|(\\/\\/[^\\r\\n]*)|(\\<![\\-\\-\\s\\w\\>\\/]*\\>)/g,'').replace(/\\s/g,'').replace(/\\r\\n/g,'').length;\r\n        const result = val.match (/(\\/\\*[\\w\\'\\s\\r\\n\\*]*\\*\\/)|(\\/\\/[^\\r\\n]*)|(\\<![\\-\\-\\s\\w\\>\\/]*\\>)/g);\r\n        if (result) {\r\n            result.forEach(el => {\r\n                let temp = 0;\r\n                switch (el.slice(0, 2)) {\r\n                    case '//':\r\n                        temp = el.replace(/\\s/g, '');\r\n                        totalCommentsChars += temp.slice(2, temp.length).length;\r\n                        break;\r\n                    case '/*':\r\n                        temp = el.replace(/\\s/g, '');\r\n                        totalCommentsChars += temp.slice(2, temp.length - 2).length;\r\n                        break;\r\n                    case '<!':\r\n                        temp = el.replace(/\\s/g, '');\r\n                        totalCommentsChars += temp.slice(4, temp.length - 3).length;\r\n                        break;\r\n                }\r\n            });\r\n        }\r\n        if (val) {\r\n            if (totalCharsWithoutComments / totalCommentsChars > 4) {\r\n                return error;\r\n            }\r\n        }\r\n    };\r\n}","export default config => {\r\n    const options = _.extend(\r\n        {\r\n            type: 'email',\r\n            message: Localizer.get('CORE.FORM.VALIDATION.EMAIL')\r\n        },\r\n        config\r\n    );\r\n\r\n    return function email(value) {\r\n        options.value = value;\r\n\r\n        const err = {\r\n            type: options.type,\r\n            message: _.isFunction(options.message) ? options.message(options) : options.message\r\n        };\r\n        if (value === null || value === undefined || value === false || value === '') {\r\n            return true;\r\n        }\r\n\r\n        if (!/^[\\w\\-]{1,}([\\w\\-\\+.]{1,1}[\\w\\-]{1,}){0,}[@][\\w\\-]{1,}([.]([\\w\\-]{1,})){1,3}$/.test(value)) {\r\n            return err;\r\n        }\r\n    };\r\n};\r\n","/*eslint-disable*/\r\n\r\nimport LocalizationService from '../../services/LocalizationService';\r\n\r\nexport default function(options) {\r\n    options = _.extend({\r\n        type: 'length',\r\n        message: LocalizationService.get('CORE.FORM.VALIDATION.LENGTH')\r\n    }, options);\r\n\r\n    return function length(value) {\r\n        const val = _.isObject(value) ? value.value : value;\r\n        options.value = val;\r\n        const err = {\r\n            type: options.type,\r\n            message: _.isFunction(options.message) ? options.message(options) : options.message\r\n        };\r\n        //Don't check empty values (add a 'required' validator for this)\r\n        if (val === null || val === undefined || val === '') return;\r\n\r\n        if (options.min) {\r\n            if (val.length < options.min) {\r\n                return err;\r\n            }\r\n        }\r\n        if (options.max) {\r\n            if (val.length > options.max) {\r\n                return err;\r\n            }\r\n        }\r\n    };\r\n};\r\n","/*eslint-disable*/\r\n\r\nimport LocalizationService from '../../services/LocalizationService';\r\nimport formRepository from '../formRepository';\r\n\r\nexport default function(options) {\r\n    options = _.extend({\r\n        type: 'length',\r\n        message: LocalizationService.get('CORE.FORM.VALIDATION.PASSWORD'),\r\n        min: 8\r\n    }, options);\r\n\r\n    return formRepository.validators.length(options);\r\n};\r\n","/*eslint-disable*/\r\n\r\nimport LocalizationService from '../../services/LocalizationService';\r\nimport formRepository from '../formRepository';\r\n    \r\nexport default function(options) {\r\n    return formRepository.validators.regexp(_.extend({\r\n        type: 'phone',\r\n        message: LocalizationService.get('CORE.FORM.VALIDATION.PHONE'),\r\n        regexp: /^\\+?[0-9]+[0-9\\-().\\s]{7,}$/\r\n    }, options));\r\n};\r\n","/*eslint-disable*/\r\n\r\nimport LocalizationService from '../../services/LocalizationService';\r\n\r\nexport default function(config) {\r\n    let options = _.extend({\r\n        type: 'required',\r\n        message: LocalizationService.get('CORE.FORM.VALIDATION.REQUIRED')\r\n    }, config);\r\n\r\n    return function required(value) {\r\n        const val = _.isObject(value) && _.has(value, 'value') ? value.value : value;\r\n        options.value = val;\r\n\r\n        const err = {\r\n            type: options.type,\r\n            message: _.isFunction(options.message) ? options.message(options) : options.message\r\n        };\r\n        if (val === null || val === undefined || val === '') {\r\n            return err;\r\n        }\r\n        if (Array.isArray(val) && val.length === 0) {\r\n            return err;\r\n        }\r\n    };\r\n};\r\n","export default config => {\r\n    const options = _.extend(\r\n        {\r\n            type: 'invalidIdentifier',\r\n            message: Localizer.get('CORE.FORM.VALIDATION.SYSTEMNAME')\r\n        },\r\n        config\r\n    );\r\n\r\n    return function systemName(value) {\r\n        options.value = value;\r\n\r\n        const err = {\r\n            type: options.type,\r\n            message: _.isFunction(options.message) ? options.message(options) : options.message\r\n        };\r\n        if (value === null || value === undefined || value === false || value === '') {\r\n            return;\r\n        }\r\n\r\n        if (!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(value)) {\r\n            return err;\r\n        }\r\n    };\r\n};\r\n","// @flow\r\nimport { helpers } from 'utils';\r\nimport LayoutBehavior from './behaviors/LayoutBehavior';\r\n\r\nconst classes = {\r\n    CLASS_NAME: 'layout__horizontal-layout',\r\n    ITEM: 'layout__horizontal-layout-list-item',\r\n    HIDDEN: 'layout__hidden'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'columns');\r\n\r\n        this.columns = options.columns;\r\n    },\r\n\r\n    tagName: 'div',\r\n\r\n    template: false,\r\n\r\n    className() {\r\n        return `${classes.CLASS_NAME} ${this.options.class || ''}`;\r\n    },\r\n\r\n    behaviors: {\r\n        LayoutBehavior: {\r\n            behaviorClass: LayoutBehavior\r\n        }\r\n    },\r\n\r\n    templateContext() {\r\n        return {\r\n            title: this.options.title\r\n        };\r\n    },\r\n\r\n    onRender() {\r\n        this.__columnsCtx = [];\r\n        this.columns.forEach(view => {\r\n            view.on('change:visible', (activeView, visible) => this.__handleChangeVisibility(activeView, visible));\r\n\r\n            this.el.append(view.render().$el);\r\n            this.__columnsCtx.push({\r\n                view\r\n            });\r\n        });\r\n        this.__updateState();\r\n    },\r\n\r\n    onAttach() {\r\n        this.columns.forEach(view => view.triggerMethod('attach'));\r\n    },\r\n\r\n    update() {\r\n        this.columns.forEach(view => {\r\n            if (view.update) {\r\n                view.update();\r\n            }\r\n        });\r\n        this.__updateState();\r\n    },\r\n\r\n    __handleChangeVisibility(view, visible) {\r\n        view.$el.classList.toggle(classes.HIDDEN, !visible);\r\n    },\r\n\r\n    onDestroy() {\r\n        this.columns.forEach(view => view.destroy());\r\n    }\r\n});\r\n","// @flow\r\nimport { helpers } from 'utils';\r\nimport LayoutBehavior from './behaviors/LayoutBehavior';\r\n\r\nconst classes = {\r\n    CLASS_NAME: 'layout__vertical-layout',\r\n    ITEM: 'layout__vertical-layout-item',\r\n    HIDDEN: 'layout__hidden'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'rows');\r\n\r\n        this.rows = options.rows;\r\n    },\r\n\r\n    tagName: 'div',\r\n\r\n    template: false,\r\n\r\n    className() {\r\n        return `${classes.CLASS_NAME} ${this.options.class || ''}`;\r\n    },\r\n\r\n    behaviors: {\r\n        LayoutBehavior: {\r\n            behaviorClass: LayoutBehavior\r\n        }\r\n    },\r\n\r\n    templateContext() {\r\n        return {\r\n            title: this.options.title\r\n        };\r\n    },\r\n\r\n    onRender() {\r\n        this.__rowsCtx = [];\r\n        this.rows.forEach(view => {\r\n            view.on('change:visible', (activeView, visible) => this.__handleChangeVisibility(activeView, visible));\r\n\r\n            this.el.append(view.render().$el);\r\n            this.__rowsCtx.push({\r\n                view\r\n            });\r\n        });\r\n    },\r\n\r\n    onAttach() {\r\n        this.rows.forEach(view => view.triggerMethod('attach'));\r\n    },\r\n\r\n    update() {\r\n        this.rows.forEach(view => {\r\n            if (view.update) {\r\n                view.update();\r\n            }\r\n        });\r\n        this.__updateState();\r\n    },\r\n\r\n    __handleChangeVisibility(view, visible) {\r\n        view.$el.classList.toggle(classes.HIDDEN, !visible);\r\n    },\r\n\r\n    onDestroy() {\r\n        this.rows.forEach(view => view.destroy());\r\n    }\r\n});\r\n","// @flow\r\nconst classes: { HIDDEN: string } = {\r\n    HIDDEN: 'layout__hidden'\r\n};\r\n\r\nexport default Marionette.Behavior.extend({\r\n    initialize(options: {}, view): void {\r\n        view.__updateState = this.__updateState.bind(this);\r\n\r\n        this.__state = {};\r\n    },\r\n\r\n    __updateState(): void {\r\n        const nextState = this.__computeViewState();\r\n\r\n        if (this.__state.visible !== nextState.visible) {\r\n            this.el.classList.toggle(classes.HIDDEN, !nextState.visible);\r\n            this.view.trigger('change:visible', this.view, nextState.visible);\r\n        }\r\n        this.__state = nextState;\r\n    },\r\n\r\n    __computeViewState(): { visible: boolean } {\r\n        let visible = this.view.options.visible;\r\n\r\n        visible = _.isFunction(visible) ? visible.call(this.view) : visible;\r\n        if (_.isUndefined(visible)) {\r\n            visible = true;\r\n        }\r\n        return {\r\n            visible\r\n        };\r\n    }\r\n});\r\n","// @flow\r\nimport { helpers } from 'utils';\r\nimport template from './button.hbs';\r\nimport LayoutBehavior from '../behaviors/LayoutBehavior';\r\n\r\nconst classes = {\r\n    CLASS_NAME: 'layout__button'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'text');\r\n        helpers.ensureOption(options, 'handler');\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        return {\r\n            customClass: this.options.class || '',\r\n            text: this.options.text\r\n        };\r\n    },\r\n\r\n    className: classes.CLASS_NAME,\r\n\r\n    behaviors: {\r\n        LayoutBehavior: {\r\n            behaviorClass: LayoutBehavior\r\n        }\r\n    },\r\n\r\n    events: {\r\n        click: '__onClick'\r\n    },\r\n\r\n    onRender() {\r\n        this.__updateState();\r\n    },\r\n\r\n    __onClick() {\r\n        this.trigger('click');\r\n        this.options.handler(this.options.context);\r\n    },\r\n\r\n    update() {\r\n        this.__updateState();\r\n    }\r\n});\r\n","module.exports = \"<div class=\\\"btn {{customClass}}\\\">\\r\\n    <span class=\\\"btn__text\\\">{{text}}</span>\\r\\n</div>\";","// @flow\r\nimport FormFieldAnchor from './form/FormFieldAnchor';\r\nimport FormEditorAnchor from './form/FormEditorAnchor';\r\n\r\nexport function createEditorAnchor(key: string, options: {} = {}) {\r\n    return new FormEditorAnchor(\r\n        Object.assign(\r\n            {\r\n                key\r\n            },\r\n            options\r\n        )\r\n    );\r\n}\r\n\r\nexport function createFieldAnchor(key: string, options: {} = {}) {\r\n    return new FormFieldAnchor(\r\n        Object.assign(\r\n            {\r\n                key\r\n            },\r\n            options\r\n        )\r\n    );\r\n}\r\n","// @flow\r\nimport * as elementsFactory from '../factory';\r\nimport VerticalLayout from '../VerticalLayoutView';\r\nimport HorizontalLayout from '../HorizontalLayoutView';\r\nimport TabLayoutView from '../tabLayout/TabLayoutView';\r\nimport Group from '../group/GroupView';\r\nimport Button from '../button/ButtonView';\r\nimport Popup from '../popup/PopupView';\r\nimport PlainText from '../plainText/PlainTextView';\r\nimport GridController from '../../list/controllers/GridController';\r\nimport ToolbarView from '../../components/toolbar/ToolbarView';\r\n\r\nexport default {\r\n    __uniqueFormId: '',\r\n\r\n    getContentFromSchema(schema: Array<any>, uniqueFormId: String) {\r\n        this.__uniqueFormId = uniqueFormId;\r\n        return this.__parseConfiguration(schema)[0];\r\n    },\r\n\r\n    __parseConfiguration(schema: Array<any>) {\r\n        return schema.map(child => {\r\n            switch (child.type) {\r\n                //auto layout components\r\n                case 'v-container': // vertical layout container\r\n                    return new VerticalLayout(\r\n                        Object.assign({}, child, {\r\n                            rows: this.__parseConfiguration(child.items)\r\n                        })\r\n                    );\r\n                case 'h-container': // horizontal layout container\r\n                    return new HorizontalLayout(\r\n                        Object.assign({}, child, {\r\n                            columns: this.__parseConfiguration(child.items)\r\n                        })\r\n                    );\r\n                //complex components\r\n                case 'tab':\r\n                    return new TabLayoutView(\r\n                        Object.assign({}, child, {\r\n                            tabs: this.__parseConfiguration(child.items)\r\n                        })\r\n                    );\r\n                case 'group':\r\n                    return new Group(\r\n                        Object.assign({}, child, {\r\n                            view: this.__parseConfiguration(child.items)[0]\r\n                        })\r\n                    );\r\n                case 'Popup':\r\n                case 'popup':\r\n                    return new Popup(_.omit(child, 'type'));\r\n                case 'Button':\r\n                case 'button':\r\n                    return new Button(_.omit(child, 'type'));\r\n                case 'grid': {\r\n                    const controller = new GridController(child);\r\n\r\n                    return controller.view;\r\n                }\r\n                case 'toolbar': {\r\n                    const toolbar = new ToolbarView(child);\r\n\r\n                    toolbar.on('command:execute', function (...args) {\r\n                        child.handler.apply(this, args);\r\n                    });\r\n\r\n                    return toolbar;\r\n                }\r\n                case 'plainText':\r\n                    return new PlainText(_.omit(child, 'type'));\r\n                case 'custom':\r\n                default: {\r\n                    if (child.type) {\r\n                        if (child.type.includes('field')) {\r\n                            return elementsFactory.createFieldAnchor(\r\n                                child.key,\r\n                                Object.assign(\r\n                                    { uniqueFormId: this.__uniqueFormId },\r\n                                    child,\r\n                                    {\r\n                                        type: child.type.replace('-field', '')\r\n                                    }\r\n                                )\r\n                            );\r\n                        } else if (child.type.includes('editor')) {\r\n                            return elementsFactory.createEditorAnchor(\r\n                                child.key,\r\n                                Object.assign(\r\n                                    { uniqueFormId: this.__uniqueFormId },\r\n                                    child,\r\n                                    {\r\n                                        type: child.type.replace('-editor', '')\r\n                                    }\r\n                                )\r\n                            );\r\n                        }\r\n                    }\r\n                    const childContructor = new child.view(_.omit(child, 'view'));\r\n\r\n                    if (child.viewEvents) {\r\n                        Object.keys(child.viewEvents).forEach(key => childContructor.on(key, child.viewEvents[key]));\r\n                    }\r\n\r\n                    return childContructor.view ? childContructor.view : childContructor;\r\n                }\r\n            }\r\n        });\r\n    },\r\n\r\n    __parseConfigurationOld(schema: Array<any>) {\r\n        return schema.map(child => {\r\n            switch (child.cType) {\r\n                case 'container':\r\n                    switch (child.layout) {\r\n                        case 'vertical':\r\n                            return new VerticalLayout(\r\n                                Object.assign({}, child, {\r\n                                    rows: this.__parseConfiguration(child.items)\r\n                                })\r\n                            );\r\n                        case 'tab':\r\n                            return new TabLayoutView(\r\n                                Object.assign({}, child, {\r\n                                    tabs: this.__parseConfiguration(child.items)\r\n                                })\r\n                            );\r\n                        case 'group':\r\n                            return new Group(\r\n                                Object.assign({}, child, {\r\n                                    view: this.__parseConfiguration(child.items)[0]\r\n                                })\r\n                            );\r\n                        case 'horizontal':\r\n                        default:\r\n                            return new HorizontalLayout(\r\n                                Object.assign({}, child, {\r\n                                    columns: this.__parseConfiguration(child.items)\r\n                                })\r\n                            );\r\n                    }\r\n                case 'field':\r\n                    return elementsFactory.createFieldAnchor(child.key, Object.assign({ uniqueFormId: this.__uniqueFormId }, child));\r\n                case 'editor':\r\n                    return elementsFactory.createEditorAnchor(child.key, Object.assign({ uniqueFormId: this.__uniqueFormId }, child));\r\n                case 'popup':\r\n                    return new Popup(_.pick(child, ['size', 'header', 'content']));\r\n                case 'button':\r\n                case 'Button':\r\n                    return new Button(_.omit(child, 'cType'));\r\n                case 'plainText':\r\n                    return new PlainText(_.omit(child, 'cType'));\r\n                case 'custom':\r\n                default: {\r\n                    const view = new child.view(_.omit(child, 'view'));\r\n                    if (child.viewEvents) {\r\n                        Object.keys(child.viewEvents).forEach(key => view.on(key, child.viewEvents[key]));\r\n                    }\r\n                    return view;\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\n","// @flow\r\nimport { helpers } from 'utils';\r\nimport LayoutBehavior from '../behaviors/LayoutBehavior';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'key');\r\n    },\r\n\r\n    template: false,\r\n\r\n    attributes() {\r\n        return {\r\n            'data-editors': this.options.key,\r\n            'editor-for': this.options.uniqueFormId\r\n        };\r\n    },\r\n\r\n    behaviors: {\r\n        LayoutBehavior: {\r\n            behaviorClass: LayoutBehavior\r\n        }\r\n    },\r\n\r\n    onRender() {\r\n        this.__updateState();\r\n    },\r\n\r\n    update() {\r\n        this.__updateState();\r\n    }\r\n});\r\n","// @flow\r\nimport { helpers } from 'utils';\r\nimport LayoutBehavior from '../behaviors/LayoutBehavior';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'key');\r\n    },\r\n\r\n    template: false,\r\n\r\n    attributes() {\r\n        return {\r\n            'data-fields': this.options.key,\r\n            'field-for': this.options.uniqueFormId\r\n        };\r\n    },\r\n\r\n    behaviors: {\r\n        LayoutBehavior: {\r\n            behaviorClass: LayoutBehavior\r\n        }\r\n    },\r\n\r\n    onRender() {\r\n        this.__updateState();\r\n    },\r\n\r\n    update() {\r\n        this.__updateState();\r\n    }\r\n});\r\n","// @flow\r\nexport default {\r\n    getSchema(schema: Array<any>) {\r\n        const schemaPlain = {};\r\n        this.__fillConfiguration(schema, schemaPlain);\r\n\r\n        return schemaPlain;\r\n    },\r\n\r\n    __fillConfiguration(schemaTree: Array<any>, schemaPlain: Object) {\r\n        schemaTree.forEach(item => {\r\n            item.type && (item.type.includes('container') || item.type.includes('group'))\r\n                ? this.__fillConfiguration(item.items, schemaPlain)\r\n                : item.key && (schemaPlain[item.key] = Object.assign(_.omit(item, ['key']), { type: item.type.replace('-field', '').replace('-editor', '') }));\r\n        });\r\n    }\r\n};\r\n","// @flow\r\nimport { helpers } from 'utils';\r\nimport form from 'form';\r\nimport LayoutBehavior from '../behaviors/LayoutBehavior';\r\nimport FormContentFactory from './FormContentFactory';\r\nimport FormSchemaFactory from './FormSchemaFactory';\r\n\r\nconst classes = {\r\n    CLASS_NAME: 'layout__form-view'\r\n};\r\n\r\nconst anchors = ['field', 'editor'];\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'schema');\r\n        helpers.ensureOption(options, 'model');\r\n        this.uniqueFormId = _.uniqueId('form-');\r\n        if (!('content' in options)) {\r\n            this.content = FormContentFactory.getContentFromSchema(options.schema, this.uniqueFormId);\r\n            this.schema = FormSchemaFactory.getSchema(options.schema);\r\n        } else {\r\n            this.content = options.content;\r\n            this.schema = options.schema;\r\n        }\r\n\r\n        const model = this.options.model;\r\n        this.model = typeof model === 'function' ? model.call(this) : model;\r\n        this.__addUniqueFormIdToModel();\r\n    },\r\n\r\n    template: Handlebars.compile('<div class=\"form-class\"></div>'),\r\n\r\n    tagName: 'form',\r\n\r\n    className: classes.CLASS_NAME,\r\n\r\n    regions: {\r\n        contentRegion: {\r\n            el: '.form-class',\r\n            replaceElement: true\r\n        }\r\n    },\r\n\r\n    behaviors: {\r\n        LayoutBehavior: {\r\n            behaviorClass: LayoutBehavior\r\n        },\r\n        BackboneFormBehavior: {\r\n            behaviorClass: form.behaviors.BackboneFormBehavior,\r\n            model() {\r\n                return this.model;\r\n            },\r\n            schema() {\r\n                const schema = this.schema;\r\n                return _.isFunction(schema) ? schema.call(this) : schema;\r\n            }\r\n        }\r\n    },\r\n\r\n    onRender() {\r\n        this.showChildView('contentRegion', this.content);\r\n        if ('content' in this.options) {\r\n            anchors.forEach((anchor) => {\r\n                this.content.$el.find(`[data-${anchor}s]`).each((i, el) => { el.setAttribute(`${anchor}-for`, this.uniqueFormId); });\r\n            });\r\n        }\r\n        this.__updateState();\r\n    },\r\n\r\n    getValue(key) {\r\n        if (!this.form) {\r\n            return this.model.get(key);\r\n        }\r\n        return this.form.getValue(key);\r\n    },\r\n\r\n    __addUniqueFormIdToModel() {\r\n        const modelUniqueFormId = this.model.get('uniqueFormId');\r\n        const setOfUniqueFormId = modelUniqueFormId instanceof Set ? modelUniqueFormId : new Set();\r\n        setOfUniqueFormId.add(this.uniqueFormId);\r\n        this.model.set('uniqueFormId', setOfUniqueFormId, { silent: true });\r\n    },\r\n\r\n    update() {\r\n        if (this.content.update) {\r\n            this.content.update();\r\n        }\r\n        this.__updateState();\r\n    }\r\n});\r\n","// @flow\r\nimport { helpers } from 'utils';\r\nimport template from './group.hbs';\r\nimport LayoutBehavior from '../behaviors/LayoutBehavior';\r\n\r\nconst defaults = {\r\n    collapsed: false\r\n};\r\n\r\nconst classes = {\r\n    CLASS_NAME: 'layout-group',\r\n    COLLAPSED_CLASS: 'layout__group-collapsed__button'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'view');\r\n\r\n        this.model = new Backbone.Model(Object.assign(defaults, options));\r\n        this.model.set({ collapsible: options.collapsible === undefined ? true : options.collapsible });\r\n        this.listenTo(this.model, 'change:collapsed', this.__onCollapsedChange);\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: classes.CLASS_NAME,\r\n\r\n    regions: {\r\n        containerRegion: '.js-container-region'\r\n    },\r\n\r\n    behaviors: {\r\n        LayoutBehavior: {\r\n            behaviorClass: LayoutBehavior\r\n        }\r\n    },\r\n\r\n    ui: {\r\n        toggleCollapseButton: '.js-toggle'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.toggleCollapseButton': '__toggleCollapse'\r\n    },\r\n\r\n    onRender() {\r\n        const view = this.model.get('view');\r\n        if (view) {\r\n            this.showChildView('containerRegion', view);\r\n        }\r\n        this.__updateState();\r\n    },\r\n\r\n    update() {\r\n        const view = this.model.get('view');\r\n        if (view.update) {\r\n            view.update();\r\n        }\r\n        this.__updateState();\r\n    },\r\n\r\n    __toggleCollapse() {\r\n        if (!this.model.get('collapsible')) {\r\n            return;\r\n        }\r\n        if (this.model.get('collapsible') !== false) {\r\n            this.model.set('collapsed', !this.model.get('collapsed'));\r\n            return false;\r\n        }\r\n    },\r\n\r\n    __onCollapsedChange(model, collapsed) {\r\n        this.ui.toggleCollapseButton.classList.toggle(classes.COLLAPSED_CLASS, collapsed);\r\n        if (collapsed) {\r\n            this.getRegion('containerRegion').$el.hide(200);\r\n        } else {\r\n            this.getRegion('containerRegion').$el.show(200);\r\n        }\r\n        return false;\r\n    }\r\n});\r\n","module.exports = \"<div class=\\\"layout-group__head\\\">\\r\\n    {{#if collapsible}}\\r\\n    <span class=\\\"js-toggle group-toggle\\\">\\r\\n        <svg viewBox=\\\"0 0 12 12\\\">\\r\\n            <polygon class=\\\"d-svg-icons d-svg-icons_arrow\\\" points=\\\"8,2 4.5,5.5 1,2 0,2 0,3 4,7 5,7 9,3 9,2 \\\" />\\r\\n        </svg>\\r\\n    </span>\\r\\n    {{/if}}\\r\\n    <span class=\\\"group-title {{#if collapsible}}group-title__collapsible {{/if}}js-toggle\\\">{{name}}</span>\\r\\n</div>\\r\\n<div class=\\\"layout-group__content js-container-region\\\"></div>\";","// @flow\r\nimport './resources/layout.css';\r\nimport './resources/tabLayout.css';\r\nimport './resources/verticalLayout.css';\r\nimport './resources/horizontalLayout.css';\r\nimport './resources/popup.css';\r\nimport './resources/form.css';\r\nimport './resources/button.css';\r\nimport './resources/group.css';\r\n\r\nexport { default as TabLayout } from './tabLayout/TabLayoutView';\r\nexport { default as VerticalLayout } from './VerticalLayoutView';\r\nexport { default as HorizontalLayout } from './HorizontalLayoutView';\r\nexport { default as Button } from './button/ButtonView';\r\nexport { default as Form } from './form/FormView';\r\nexport { default as Popup } from './popup/PopupView';\r\nexport { default as Group } from './group/GroupView';\r\nexport { default as PlainText } from './plainText/PlainTextView';\r\n\r\nexport * from './factory';\r\n","// @flow\r\nimport LayoutBehavior from '../behaviors/LayoutBehavior';\r\n\r\ntype optionsT = {\r\n    text: string,\r\n    model?: Backbone.Model,\r\n    key?: string\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options: optionsT) {\r\n        this.text = options.text || '';\r\n        this.key = options.key;\r\n        if (this.model && this.key) {\r\n            this.listenTo(this.model, `change:${this.key}`, (model, newValue) => this.el.text(newValue));\r\n        }\r\n    },\r\n\r\n    className() {\r\n        return this.options.class ? this.options.class : '';\r\n    },\r\n\r\n    template: false,\r\n\r\n    behaviors: {\r\n        LayoutBehavior: {\r\n            behaviorClass: LayoutBehavior\r\n        }\r\n    },\r\n\r\n    onRender() {\r\n        if (this.model && this.key) {\r\n            this.el.innerHTML = this.model.get(this.key);\r\n        } else {\r\n            this.el.innerHTML = this.text;\r\n        }\r\n    },\r\n\r\n    update() {\r\n        this.__updateState();\r\n    }\r\n});\r\n","// @flow\r\nimport { helpers } from 'utils';\r\nimport WindowService from 'services/WindowService';\r\nimport template from './popup.hbs';\r\nimport LayoutBehavior from '../behaviors/LayoutBehavior';\r\nimport GlobalEventService from '../../services/GlobalEventService';\r\nimport LoadingBehavior from '../../views/behaviors/LoadingBehavior';\r\nimport ButtonView from '../button/ButtonView';\r\n\r\nconst classes = {\r\n    CLASS_NAME: 'layout__popup-view'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'header');\r\n        helpers.ensureOption(options, 'buttons');\r\n        helpers.ensureOption(options, 'content');\r\n\r\n        this.listenTo(GlobalEventService, 'window:keydown:captured', (document, event) => this.__keyAction(event));\r\n        this.content = options.content;\r\n        this.onClose = options.onClose;\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        return {\r\n            headerText: this.options.header\r\n        };\r\n    },\r\n\r\n    className: classes.CLASS_NAME,\r\n\r\n    behaviors: {\r\n        LayoutBehavior: {\r\n            behaviorClass: LayoutBehavior\r\n        },\r\n        LoadingBehavior: {\r\n            behaviorClass: LoadingBehavior,\r\n            region: 'loadingRegion'\r\n        }\r\n    },\r\n\r\n    ui: {\r\n        button: '.js-button',\r\n        window: '.js-window',\r\n        close: '.js-close'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.button': '__onButtonClick',\r\n        'click @ui.close': '__close'\r\n    },\r\n\r\n    regions: {\r\n        contentRegion: '.js-content-region',\r\n        buttonsRegion: '.js-buttons-region',\r\n        loadingRegion: '.js-loading-region'\r\n    },\r\n\r\n    onRender() {\r\n        if (this.options.size) {\r\n            this.ui.window.css(this.options.size);\r\n        }\r\n        this.ui.window.css({ top: -50 });\r\n        this.showChildView('contentRegion', this.options.content);\r\n        this.showChildView('buttonsRegion', this.__createButtonsView());\r\n        this.__updateState();\r\n        this.ui.window.css({ top: 'inherit' });\r\n    },\r\n\r\n    update() {\r\n        if (this.content.update) {\r\n            this.content.update();\r\n        }\r\n        this.__updateState();\r\n    },\r\n\r\n    __keyAction(event) {\r\n        if (event.keyCode === 27) {\r\n            this.__close();\r\n        }\r\n    },\r\n\r\n    async __close() {\r\n        if (this.onClose) {\r\n            const closeResult = await this.onClose();\r\n\r\n            closeResult && WindowService.closePopup();\r\n        } else {\r\n            WindowService.closePopup();\r\n        }\r\n    },\r\n\r\n    __createButtonsView() {\r\n        const buttons = this.options.buttons.map(item => new ButtonView(Object.assign({ context: this }, item)));\r\n\r\n        return new Core.layout.HorizontalLayout({\r\n            columns: buttons\r\n        });\r\n    },\r\n\r\n    setLoading(loading) {\r\n        if (!this.isDestroyed()) {\r\n            this.loading.setLoading(loading);\r\n        }\r\n    }\r\n});\r\n","module.exports = \"<div class=\\\"layout__popup-view-window js-window\\\">\\r\\n    <div class=\\\"layout__popup-view-header\\\">\\r\\n        <span class=\\\"layout__popup-view-header-text\\\">{{headerText}}</span>\\r\\n        <span class=\\\"layout__popup-view-header__close js-close\\\">\\r\\n            <svg viewBox=\\\"0 0 12 12\\\">\\r\\n                <polygon class=\\\"d-svg-icons d-svg-icons_close\\\" points=\\\"11.7,1 11,0.3 6,5.2 1.3,0.5 0.6,1.2 5.4,5.9 0.3,11 1,11.7 6.1,6.6 10.9,11.5 11.6,10.8 6.8,6 \\\"></polygon>\\r\\n            </svg>\\r\\n        </span>\\r\\n    </div>\\r\\n    <div class=\\\"layout__popup-view-content js-content-region\\\"></div>\\r\\n    <div class=\\\"layout__popup-view-button-list js-buttons-region\\\"></div>\\r\\n    <div class=\\\"js-loading-region\\\"></div>\\r\\n</div>\";","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// @flow\r\nimport template from './templates/headerItem.hbs';\r\n\r\nexport default Marionette.View.extend({\r\n    tagName: 'li',\r\n\r\n    className() {\r\n        return `layout__tab-layout__header-view-item ${this.model.get('tabClass') || ''}`;\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    events: {\r\n        click: '__onClick'\r\n    },\r\n\r\n    modelEvents: {\r\n        'change:selected change:error change:enabled'() {\r\n            this.render();\r\n        }\r\n    },\r\n\r\n    onRender() {\r\n        this.el.classList.toggle('layout__tab-layout__header-view-item_selected', Boolean(this.model.get('selected')));\r\n        this.el.classList.toggle('layout__tab-layout__header-view-item_error', Boolean(this.model.get('error')));\r\n        this.el.classList.toggle('layout__tab-layout__header-view-item_disabled', !this.model.get('enabled'));\r\n\r\n        this.el.setAttribute('id', this.model.id);\r\n    },\r\n\r\n    __onClick() {\r\n        if (this.model.get('enabled')) {\r\n            this.trigger('select', this.model);\r\n        }\r\n    }\r\n});\r\n","// @flow\r\nimport { helpers } from 'utils';\r\nimport HeaderView from './HeaderItemView';\r\n\r\nexport default Marionette.CollectionView.extend({\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'collection');\r\n    },\r\n\r\n    tagName: 'ul',\r\n\r\n    className() {\r\n        return `layout__tab-layout__header-view ${this.getOption('headerClass')}`;\r\n    },\r\n\r\n    childView: HeaderView,\r\n\r\n    childViewEvents: {\r\n        select(model) {\r\n            this.trigger('select', model);\r\n        }\r\n    }\r\n});\r\n","// @flow\r\nimport stepperItem from './templates/stepperItem.hbs';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(stepperItem),\r\n\r\n    className: 'layout__tab-layout__stepper_view-item',\r\n\r\n    triggers: {\r\n        click: 'step:selected'\r\n    }\r\n});\r\n","// @flow\r\nimport template from './templates/headerItem.hbs';\r\nimport StepperView from './StepperItemView';\r\n\r\nexport default Marionette.CollectionView.extend({\r\n    className: 'layout__tab-layout__stepper_container',\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    childView: StepperView,\r\n\r\n    childViewEvents: {\r\n        'step:selected': '__handleStepSelect'\r\n    },\r\n\r\n    __handleStepSelect(model) {\r\n        if (model.get('enabled')) {\r\n            this.trigger('stepper:item:selected', model);\r\n        }\r\n    }\r\n});\r\n","// @flow\r\nimport { helpers } from 'utils';\r\nimport template from './templates/tabLayout.hbs';\r\nimport HeaderView from './HeaderView';\r\nimport StepperView from './StepperView';\r\nimport LayoutBehavior from '../behaviors/LayoutBehavior';\r\n\r\ntype Tab = { view: any, id: string };\r\n\r\ntype TabsList = Array<Tab>;\r\n\r\nconst classes = {\r\n    CLASS_NAME: 'layout__tab-layout',\r\n    PANEL_REGION: 'layout__tab-layout__panel-region',\r\n    HIDDEN: 'layout__tab-hidden'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options: { tabs: TabsList }) {\r\n        helpers.ensureOption(options, 'tabs');\r\n\r\n        this.__tabsCollection = options.tabs;\r\n        if (!(this.__tabsCollection instanceof Backbone.Collection)) {\r\n            this.__tabsCollection = new Backbone.Collection(this.__tabsCollection);\r\n        }\r\n        this.__tabsCollection.each(model => {\r\n            if (model.get('enabled') === undefined) {\r\n                model.set('enabled', true);\r\n            }\r\n        });\r\n        const selectedTab = this.__findSelectedTab();\r\n        if (!selectedTab) {\r\n            this.selectTab(this.__tabsCollection.at(0).id);\r\n            this.selectTabIndex = 0;\r\n        } else {\r\n            this.__getSelectedTabIndex(selectedTab);\r\n        }\r\n\r\n        this.listenTo(this.__tabsCollection, 'change:selected', this.__onSelectedChanged);\r\n\r\n        this.tabs = options.tabs.reduce((s, a) => {\r\n            s[a.id] = a.view;\r\n            return s;\r\n        }, {});\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className() {\r\n        const classList = [];\r\n        classList.push(this.getOption('bodyClass') || '');\r\n        classList.push(this.getOption('showMoveButtons') ? 'layout__tab-layout--move' : '');\r\n\r\n        return `${classes.CLASS_NAME} ${classList.join(' ')}`;\r\n    },\r\n\r\n    regions: {\r\n        headerRegion: '.js-header-region',\r\n        stepperRegion: '.js-stepper-region'\r\n    },\r\n\r\n    ui: {\r\n        panelContainer: '.js-panel-container',\r\n        buttonMoveNext: '.js-button_move-next',\r\n        buttonMovePrevious: '.js-button_move-previous'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.buttonMoveNext': 'moveToNextTab',\r\n        'click @ui.buttonMovePrevious': 'moveToPreviousTab'\r\n    },\r\n\r\n    behaviors: {\r\n        LayoutBehavior: {\r\n            behaviorClass: LayoutBehavior\r\n        }\r\n    },\r\n\r\n    onRender() {\r\n        const headerView = new HeaderView({\r\n            collection: this.__tabsCollection,\r\n            headerClass: this.getOption('headerClass')\r\n        });\r\n        this.listenTo(headerView, 'select', this.__handleSelect);\r\n        this.showChildView('headerRegion', headerView);\r\n\r\n        this.__tabsCollection.each(tabModel => {\r\n            const regionEl = document.createElement('div');\r\n            regionEl.className = classes.PANEL_REGION;\r\n            this.ui.panelContainer.append(regionEl);\r\n            const region = this.addRegion(`${tabModel.id}TabRegion`, {\r\n                el: regionEl\r\n            });\r\n            const view = tabModel.get('view');\r\n\r\n            view.on('all', (...args) => {\r\n                args[0] = `tab:${args[0]}`;\r\n                this.triggerMethod(...args);\r\n            });\r\n            region.show(view);\r\n            tabModel.set({\r\n                region,\r\n                regionEl\r\n            });\r\n            this.__updateTabRegion(tabModel);\r\n        });\r\n        this.__updateState();\r\n        if (this.getOption('showStepper')) {\r\n            const stepperView = new StepperView({ collection: this.__tabsCollection });\r\n            this.showChildView('stepperRegion', stepperView);\r\n            this.listenTo(stepperView, 'stepper:item:selected', this.__handleStepperSelect);\r\n        }\r\n        if (!this.getOption('showMoveButtons')) {\r\n            this.ui.buttonMoveNext.style.displayText = 'none';\r\n            this.ui.buttonMovePrevious.style.displayText = 'none';\r\n        }\r\n    },\r\n\r\n    update() {\r\n        Object.values(this.tabs).forEach(view => {\r\n            if (view && typeof view.update === 'function') {\r\n                view.update();\r\n            }\r\n        });\r\n        this.__updateState();\r\n    },\r\n\r\n    getViewById(tabId: string) {\r\n        return this.__findTab(tabId).get('view');\r\n    },\r\n\r\n    selectTab(tabId: string) {\r\n        const tab = this.__findTab(tabId);\r\n        if (tab.get('selected')) {\r\n            return;\r\n        }\r\n        const selectedTab = this.__findSelectedTab();\r\n        if (selectedTab) {\r\n            if (this.getOption('validateBeforeMove')) {\r\n                const errors = !selectedTab.get('view').form || selectedTab.get('view').form.validate();\r\n                this.setTabError(selectedTab.id, errors);\r\n                if (errors) {\r\n                    return false;\r\n                }\r\n            }\r\n            selectedTab.set('selected', false);\r\n            this.selectTabIndex = this.__getSelectedTabIndex(tab);\r\n        }\r\n        if (tab.get('enabled')) {\r\n            tab.set('selected', true);\r\n        }\r\n    },\r\n\r\n    setEnabled(tabId: string, enabled) {\r\n        this.__findTab(tabId).set({\r\n            enabled\r\n        });\r\n    },\r\n\r\n    setTabError(tabId: string, error) {\r\n        this.__findTab(tabId).set({ error });\r\n    },\r\n\r\n    moveToNextTab() {\r\n        let errors = null;\r\n        if (this.getOption('validateBeforeMove')) {\r\n            const selectedTab = this.__findSelectedTab();\r\n            errors = !selectedTab.get('view').form || selectedTab.get('view').form.validate();\r\n            return this.setTabError(selectedTab.id, errors);\r\n        }\r\n        if (!errors) {\r\n            let newIndex = this.selectTabIndex + 1;\r\n            if (this.__tabsCollection.length - 1 < newIndex) {\r\n                newIndex = 0;\r\n            }\r\n            const newTab = this.__tabsCollection.at(newIndex);\r\n            if (newTab.get('enabled')) {\r\n                this.selectTab(newTab.id);\r\n            } else {\r\n                this.selectTabIndex++;\r\n                this.moveToNextTab();\r\n            }\r\n        }\r\n    },\r\n\r\n    moveToPreviousTab() {\r\n        let errors = null;\r\n        if (this.getOption('validateBeforeMove')) {\r\n            const selectedTab = this.__findSelectedTab();\r\n            errors = !selectedTab.get('view').form || selectedTab.get('view').form.validate();\r\n            return this.setTabError(selectedTab.id, errors);\r\n        }\r\n        if (!errors) {\r\n            let newIndex = this.selectTabIndex - 1;\r\n            if (newIndex < 0) {\r\n                newIndex = this.__tabsCollection.length - 1;\r\n            }\r\n            const newTab = this.__tabsCollection.at(newIndex);\r\n            if (newTab.get('enabled')) {\r\n                this.selectTab(this.__tabsCollection.at(newIndex).id);\r\n            } else {\r\n                this.selectTabIndex--;\r\n                this.moveToPreviousTab();\r\n            }\r\n        }\r\n    },\r\n\r\n    __findSelectedTab() {\r\n        return this.__tabsCollection.find(x => x.get('selected'));\r\n    },\r\n\r\n    __getSelectedTabIndex(model) {\r\n        return this.__tabsCollection.indexOf(model);\r\n    },\r\n\r\n    __findTab(tabId: string): Backbone.Model {\r\n        helpers.assertArgumentNotFalsy(tabId, 'tabId');\r\n\r\n        const tabModel = this.__tabsCollection.find(x => x.id === tabId);\r\n        if (!tabModel) {\r\n            helpers.throwInvalidOperationError(`TabLayout: tab '${tabId}' is not present in the collection.`);\r\n        }\r\n        return tabModel;\r\n    },\r\n\r\n    __handleSelect(model: Backbone.Model): void {\r\n        this.selectTab(model.id);\r\n    },\r\n\r\n    __onSelectedChanged(model: Backbone.Model): void {\r\n        this.__updateTabRegion(model);\r\n    },\r\n\r\n    __updateTabRegion(model: Backbone.Model): void {\r\n        const selected = model.get('selected');\r\n\r\n        if (selected) {\r\n            model.get('regionEl').classList.remove(classes.HIDDEN);\r\n        } else {\r\n            model.get('regionEl').classList.add(classes.HIDDEN);\r\n        }\r\n\r\n        this.trigger('changed:selectedTab', model);\r\n        // model.get('regionEl').classList.toggle(classes.HIDDEN, !selected); //second argument don't work in IE 11;\r\n\r\n        // todo: find bettter way to initiate child resize\r\n        Core.services.GlobalEventService.trigger('window:resize');\r\n    },\r\n\r\n    __handleStepperSelect(model: Backbone.Model): void {\r\n        this.__handleSelect(model);\r\n    }\r\n});\r\n","module.exports = \"<span class=\\\"layout__tab-layout__header-view-item-text\\\">{{{name}}}</span>\\r\\n{{#if description}}\\r\\n<span class=\\\"layout__tab-layout__header-view-item-text\\\">{{{description}}}</span>\\r\\n{{/if}}\";","module.exports = \"<div class=\\\"js-stepper-step stepper-view_content\\\">&#9711</div>\";","module.exports = \"<div class=\\\"js-header-region layout__tab-layout__header-region\\\"></div>\\r\\n<div class=\\\"js-panel-container layout__tab-layout__panel-container\\\"></div>\\r\\n<div class=\\\"js-button_move-next layout__tab-layout_move-button\\\">\\r\\n  <svg class=\\\"svg-icons svg-icons_dropdown\\\"><use xlink:href=\\\"#icon-dropdown\\\" /></svg>\\r\\n</div>\\r\\n<div class=\\\"js-button_move-previous layout__tab-layout_move-button prev-layout_move-button\\\">\\r\\n  <svg class=\\\"svg-icons svg-icons_dropdown\\\"><use xlink:href=\\\"#icon-dropdown\\\" /></svg>\\r\\n</div>\\r\\n<div class=\\\"js-stepper-region\\\"></div>\\r\\n\";","//@flow\r\n/* Data & Datatime utils*/\r\nimport moment_ from 'moment-timezone';\r\nimport '../node_modules/moment-timezone/moment-timezone-utils';\r\nimport 'moment/locale/ru';\r\nimport 'moment/locale/en-gb';\r\nimport 'moment/locale/de';\r\n\r\n/* Text Mask */\r\nimport maskInput from 'vanilla-text-mask';\r\nimport createNumberMask from 'text-mask-addons/dist/createNumberMask';\r\n\r\n/* --- */\r\nimport underscoreLib from 'underscore';\r\nimport mixin from './utils/underscore';\r\n/* Core.Model utils */\r\nimport backbone from 'backbone';\r\nimport * as Marionette_ from 'backbone.marionette';\r\nimport 'backbone.modelbinder';\r\nimport 'backbone-computedfields';\r\nimport 'backbone.radio';\r\nimport 'backbone-associations';\r\n/* --- */\r\nimport 'jstorage';\r\nimport * as Handlebars_ from 'handlebars';\r\nimport $_ from 'jquery';\r\nimport autosize from 'autosize';\r\n\r\nimport codemirror_ from 'codemirror/lib/codemirror';\r\nimport 'innersvg-polyfill';\r\nimport jsencrypt from 'jsencrypt';\r\n\r\nwindow._ = underscoreLib;\r\nwindow._.mixin(mixin);\r\n\r\n$_.browser = {\r\n    msie: /msie|trident/i.test(navigator.userAgent)\r\n};\r\n\r\nconst api = {\r\n    moment: moment_,\r\n    Handlebars: Handlebars_,\r\n    $: $_,\r\n    _: window._,\r\n    Backbone: backbone,\r\n    Marionette: Marionette_,\r\n    codemirror: codemirror_,\r\n    JSEncrypt: jsencrypt.JSEncrypt,\r\n    autosize,\r\n    maskInput,\r\n    createNumberMask\r\n};\r\n\r\nconst moment = api.moment;\r\nconst Handlebars = api.Handlebars;\r\nconst $ = api.$;\r\nconst _ = window._;\r\nconst Backbone = backbone;\r\nconst Marionette = Marionette_;\r\nconst codemirror = api.codemirror;\r\n\r\nexport default api;\r\nexport { moment, Handlebars, $, _, Backbone, Marionette, codemirror, autosize, createNumberMask, maskInput };\r\n","//@flow\r\nimport { objectPropertyTypes } from '../Meta';\r\nimport { dateHelpers } from 'utils';\r\nimport EditableGridFieldView from './views/EditableGridFieldView';\r\nimport SimplifiedFieldView from '../form/fields/SimplifiedFieldView';\r\n\r\nlet factory;\r\n\r\ntype Column = { key: string, columnClass: string, editable: boolean, type: string, dataType: string, format: string }; //todo wtf datatype\r\n\r\nexport default (factory = {\r\n    getCellViewForColumn(column: Column, model: Backbone.Model) {\r\n        if (column.editable) {\r\n            return column.simplified ? SimplifiedFieldView : EditableGridFieldView;\r\n        }\r\n\r\n        return factory.getCellHtml(column, model);\r\n    },\r\n\r\n    getCellHtml(column: Column, model: Backbone.Model) {\r\n        const value = model.get(column.key);\r\n\r\n        if (value == null) {\r\n            return `<div class=\"cell ${column.columnClass}\"></div>`;\r\n        }\r\n        let adjustedValue = value;\r\n\r\n        switch (column.type) {\r\n            case objectPropertyTypes.STRING:\r\n                adjustedValue = this.__adjustValue(value);\r\n                return `<div class=\"cell ${column.columnClass}\" title=\"${column.format === 'HTML' ? '' : adjustedValue}\">${adjustedValue}</div>`;\r\n            case objectPropertyTypes.INSTANCE:\r\n                if (Array.isArray(value)) {\r\n                    adjustedValue = value.map(v => v && v.name).join(', ');\r\n                } else if (value && value.name) {\r\n                    adjustedValue = value.name;\r\n                }\r\n                return `<div class=\"cell ${column.columnClass}\" title=\"${adjustedValue || ''}\">${adjustedValue || ''}</div>`;\r\n            case objectPropertyTypes.ACCOUNT:\r\n                if (value.length > 0) {\r\n                    adjustedValue = value\r\n                        .map(item => ({\r\n                            id: item.id,\r\n                            text: item.text || item.name || (item.columns && item.columns[0])\r\n                        }))\r\n                        .sort((a, b) => a.text > b.text)\r\n                        .reduce((memo, member) => {\r\n                            if (memo) {\r\n                                return `${memo}, ${member.text}`;\r\n                            }\r\n                            return member.text;\r\n                        }, null);\r\n                    return `<div class=\"cell ${column.columnClass}\" title=\"${adjustedValue} || ''\">${adjustedValue}</div>`;\r\n                } else if (value.name) {\r\n                    return `<div class=\"cell ${column.columnClass}\" title=\"${value.name}\">${value.name}</div>`;\r\n                }\r\n            case objectPropertyTypes.ENUM:\r\n                adjustedValue = value ? value.valueExplained : '';\r\n                return `<div class=\"cell ${column.columnClass}\" title=\"${adjustedValue}\">${adjustedValue}</div>`;\r\n            case objectPropertyTypes.INTEGER:\r\n            case objectPropertyTypes.DOUBLE:\r\n            case objectPropertyTypes.DECIMAL:\r\n                adjustedValue = this.__adjustValue(value) || '';\r\n                return `<div class=\"cell cell-right ${column.columnClass}\" title=\"${adjustedValue}\">${adjustedValue}</div>`;\r\n            case objectPropertyTypes.DURATION: {\r\n                adjustedValue = Array.isArray(value) ? value : [value];\r\n                adjustedValue = adjustedValue\r\n                    .map(v => {\r\n                        let result = '';\r\n                        if (value === 0) {\r\n                            return '0';\r\n                        }\r\n                        if (!value) {\r\n                            return '';\r\n                        }\r\n\r\n                        const duration = dateHelpers.durationISOToObject(value);\r\n                        if (duration.days) {\r\n                            result += `${duration.days + Localizer.get('CORE.FORM.EDITORS.DURATION.WORKDURATION.DAYS')} `;\r\n                        }\r\n                        if (duration.hours) {\r\n                            result += `${duration.hours + Localizer.get('CORE.FORM.EDITORS.DURATION.WORKDURATION.HOURS')} `;\r\n                        }\r\n                        if (duration.minutes) {\r\n                            result += `${duration.minutes + Localizer.get('CORE.FORM.EDITORS.DURATION.WORKDURATION.MINUTES')} `;\r\n                        }\r\n                        return result;\r\n                    })\r\n                    .join(', ')\r\n                    .trim();\r\n\r\n                return `<div class=\"cell ${column.columnClass}\" title=\"${adjustedValue}\">${adjustedValue}</div>`;\r\n            }\r\n            case objectPropertyTypes.BOOLEAN:\r\n                adjustedValue = Array.isArray(value) ? value : [value || ''];\r\n                adjustedValue = adjustedValue\r\n                    .map(v => {\r\n                        let result = '';\r\n                        if (v === true) {\r\n                            result = '<svg class=\"svg-grid-icons svg-icons_flag-yes\"><use xlink:href=\"#icon-checked\"></use></svg>';\r\n                        } else if (v === false) {\r\n                            result = '<svg class=\"svg-grid-icons svg-icons_flag-none\"><use xlink:href=\"#icon-remove\"></use></svg>';\r\n                        }\r\n                        return result;\r\n                    })\r\n                    .join(', ');\r\n                return `<div class=\"cell ${column.columnClass}\">${adjustedValue}</div>`;\r\n            case objectPropertyTypes.DATETIME:\r\n                adjustedValue = Array.isArray(value) ? value : [value];\r\n                adjustedValue = adjustedValue\r\n                    .map(v => dateHelpers.dateToDateTimeString(v, column.format || 'generalDateShortTime')).join(', ');\r\n                return `<div class=\"cell ${column.columnClass}\" title=\"${adjustedValue}\">${adjustedValue}</div>`;\r\n            case objectPropertyTypes.DOCUMENT:\r\n                if (value.length > 0) {\r\n                    return `<div class=\"cell ${column.columnClass}\">${value\r\n                        .map(item => {\r\n                            const text = item.text || item.name || (item.columns && item.columns[0]);\r\n                            const url = item.url || (item.columns && item.columns[1]);\r\n                            return `<a href=\"${url}\" target=\"_blank\" title=\"${text}\">${text}</a>`;\r\n                        })\r\n                        .sort((a, b) => a.text > b.text)\r\n                        .join(', ')}</div>`;\r\n                }\r\n            default:\r\n                adjustedValue = this.__adjustValue(value);\r\n                return `<div class=\"cell ${column.columnClass}\">${adjustedValue || ''}</div>`;\r\n        }\r\n    },\r\n\r\n    __adjustValue(value: Array<string | number> | string) {\r\n        if (Array.isArray(value)) {\r\n            return value.join(', ');\r\n        }\r\n        return value;\r\n    }\r\n});\r\n","//@flow\r\nimport GridView from '../views/GridView';\r\nimport meta from '../meta';\r\nimport VirtualCollection from '../../collections/VirtualCollection';\r\nimport factory from '../factory';\r\n\r\n/*\r\n * @param {Array} options.excludeActions Array of strings. Example: <code>[ 'archive', 'delete' ]</code>.\r\n * @param {Array} options.additionalActions Array of objects <code>[ id,  name,\r\n * type=button'|'checkbox', isChecked, iconClass, severity]</code>.\r\n * @param {Boolean} options.showCheckbox show or hide checkbox\r\n */\r\n\r\nconst defaultOptions = {\r\n    isSliding: true,\r\n    showHeader: true\r\n};\r\n\r\nexport default Marionette.Object.extend({\r\n    initialize(options = {}) {\r\n        this.options = Object.assign({}, defaultOptions, options);\r\n        this.__createView(this.options);\r\n    },\r\n\r\n    setLoading(state) {\r\n        this.view.setLoading(state);\r\n    },\r\n\r\n    __createView(options) {\r\n        const allToolbarActions = new VirtualCollection(new Backbone.Collection(this.__getToolbarActions()));\r\n        const comparator = factory.getDefaultComparator(options.columns);\r\n        const collection = factory.createWrappedCollection(Object.assign({}, options, { comparator }));\r\n\r\n        const debounceUpdateAction = _.debounce(() => this.__updateActions(allToolbarActions, collection), 10);\r\n        this.__updateActions(allToolbarActions, collection);\r\n        if (this.options.showToolbar) {\r\n            if (this.options.showCheckbox) {\r\n                this.listenTo(collection, 'check:all check:some check:none', debounceUpdateAction);\r\n            } else {\r\n                this.listenTo(collection, 'select:all select:some select:none deselect:one select:one', debounceUpdateAction);\r\n            }\r\n        }\r\n\r\n        this.view = new GridView(\r\n            Object.assign(this.options, {\r\n                actions: allToolbarActions,\r\n                collection,\r\n                columns: options.columns\r\n            })\r\n        );\r\n\r\n        this.listenTo(this.view, 'search', text => this.__onSearch(text, options.columns, collection));\r\n        this.listenTo(this.view, 'execute:action', model => this.__executeAction(model, collection));\r\n        this.listenTo(this.view, 'childview:click', this.__onItemClick);\r\n        this.listenTo(this.view, 'childview:dblclick', this.__onItemDblClick);\r\n        this.listenTo(this.view, 'drag:drop', this.__onItemMoved);\r\n    },\r\n\r\n    __onSearch(text, columns, collection) {\r\n        if (text) {\r\n            this.__applyFilter(new RegExp(text, 'i'), columns, collection);\r\n            this.__highlightCollection(text, collection);\r\n        } else {\r\n            this.__clearFilter(collection);\r\n            this.__unhighlightCollection(collection);\r\n        }\r\n    },\r\n\r\n    __applyFilter(regexp, columns, collection) {\r\n        collection.filter(model => {\r\n            let result = false;\r\n            const searchableColumns = columns.filter(column => column.searchable !== false).map(column => column.id || column.key);\r\n            searchableColumns.forEach(column => {\r\n                const values = model.get(column);\r\n                const testValueFunction = value => {\r\n                    if (value) {\r\n                        const testValue = value.name || value.text || value.toString();\r\n                        return regexp.test(testValue);\r\n                    }\r\n                };\r\n                if (Array.isArray(values) && values.length) {\r\n                    values.forEach(value => {\r\n                        result = result || testValueFunction(value);\r\n                    });\r\n                } else {\r\n                    result = result || testValueFunction(values);\r\n                }\r\n            });\r\n\r\n            return result;\r\n        });\r\n    },\r\n\r\n    __clearFilter(collection) {\r\n        collection.filter();\r\n    },\r\n\r\n    __highlightCollection(text, collection) {\r\n        collection.each(model => {\r\n            model.highlight(text);\r\n        });\r\n    },\r\n\r\n    __unhighlightCollection(collection) {\r\n        collection.each(model => {\r\n            model.unhighlight();\r\n        });\r\n    },\r\n\r\n    __getToolbarActions() {\r\n        let toolbarActions = [];\r\n        const defaultActions = meta.getDefaultActions();\r\n        if (!this.options.excludeActions) {\r\n            toolbarActions = defaultActions;\r\n        } else if (this.options.excludeActions !== 'all') {\r\n            toolbarActions = defaultActions.filter(action => this.options.excludeActions.indexOf(action.id) === -1);\r\n        }\r\n        if (this.options.additionalActions) {\r\n            toolbarActions = toolbarActions.concat(this.options.additionalActions);\r\n        }\r\n        return toolbarActions;\r\n    },\r\n\r\n    __updateActions(allToolbarActions, collection) {\r\n        const selected = this.__getSelectedItems(collection).length;\r\n\r\n        allToolbarActions.filter(action => {\r\n            switch (action.get('contextType')) {\r\n                case 'void':\r\n                    return true;\r\n                case 'one':\r\n                    return selected === 1;\r\n                case 'any':\r\n                    return selected;\r\n                default:\r\n                    return true;\r\n            }\r\n        });\r\n    },\r\n\r\n    __getSelectedItems(collection) {\r\n        const selected = (this.options.showCheckbox ? collection.checked : collection.selected) || {};\r\n        if (selected instanceof Backbone.Model) {\r\n            return [selected];\r\n        }\r\n        return Object.values(selected);\r\n    },\r\n\r\n    __executeAction(model, collection) {\r\n        const selected = this.__getSelectedItems(collection);\r\n        switch (model.get('id')) {\r\n            case 'delete':\r\n                this.__confirmUserAction(\r\n                    Localizer.get('CORE.GRID.ACTIONS.DELETE.CONFIRM.TEXT'),\r\n                    Localizer.get('CORE.GRID.ACTIONS.DELETE.CONFIRM.TITLE'),\r\n                    Localizer.get('CORE.GRID.ACTIONS.DELETE.CONFIRM.YESBUTTONTEXT'),\r\n                    Localizer.get('CORE.GRID.ACTIONS.DELETE.CONFIRM.NOBUTTONTEXT')\r\n                ).then(result => {\r\n                    if (result) {\r\n                        this.__triggerAction(model, selected);\r\n                    }\r\n                });\r\n                break;\r\n            case 'archive':\r\n                this.__confirmUserAction(\r\n                    Localizer.get('CORE.GRID.ACTIONS.ARCHIVE.CONFIRM.TEXT'),\r\n                    Localizer.get('CORE.GRID.ACTIONS.ARCHIVE.CONFIRM.TITLE'),\r\n                    Localizer.get('CORE.GRID.ACTIONS.ARCHIVE.CONFIRM.YESBUTTONTEXT'),\r\n                    Localizer.get('CORE.GRID.ACTIONS.ARCHIVE.CONFIRM.NOBUTTONTEXT')\r\n                ).then(result => {\r\n                    if (result) {\r\n                        this.__triggerAction(model, selected);\r\n                    }\r\n                });\r\n                break;\r\n            case 'unarchive':\r\n                this.__confirmUserAction(\r\n                    Localizer.get('CORE.GRID.ACTIONS.UNARCHIVE.CONFIRM.TEXT'),\r\n                    Localizer.get('CORE.GRID.ACTIONS.UNARCHIVE.CONFIRM.TITLE'),\r\n                    Localizer.get('CORE.GRID.ACTIONS.UNARCHIVE.CONFIRM.YESBUTTONTEXT'),\r\n                    Localizer.get('CORE.GRID.ACTIONS.UNARCHIVE.CONFIRM.NOBUTTONTEXT')\r\n                ).then(result => {\r\n                    if (result) {\r\n                        this.__triggerAction(model, selected);\r\n                    }\r\n                });\r\n                break;\r\n            case 'add':\r\n            default:\r\n                this.__triggerAction(model, selected);\r\n                break;\r\n        }\r\n    },\r\n\r\n    __confirmUserAction(text, title, yesButtonText, noButtonText) {\r\n        return Core.services.MessageService.showMessageDialog(text || '', title || '', [{ id: true, text: yesButtonText || 'Yes' }, { id: false, text: noButtonText || 'No' }]);\r\n    },\r\n\r\n    __triggerAction(model, selected) {\r\n        this.trigger('execute', model, selected);\r\n    },\r\n\r\n    __onItemClick(model) {\r\n        this.trigger('click', model);\r\n    },\r\n\r\n    __onItemDblClick(model) {\r\n        this.trigger('dblclick', model);\r\n    },\r\n\r\n    __onItemMoved(...args) {\r\n        this.trigger('move', ...args);\r\n    }\r\n});\r\n","import { comparators, helpers } from 'utils';\r\nimport VirtualCollection from '../collections/VirtualCollection';\r\nimport ListView from './views/CollectionView';\r\nimport EmptyListView from './views/EmptyListView';\r\nimport EmptyGridView from './views/EmptyGridView';\r\nimport GridView from './views/GridView';\r\n\r\nexport const getDefaultComparator = (columns = []) => {\r\n    const sortingColumn = columns.find(column => column.sorting);\r\n    let comparator;\r\n    if (sortingColumn) {\r\n        comparator = sortingColumn.sorting === 'asc' ? sortingColumn.sortAsc : sortingColumn.sortDesc;\r\n        if (!comparator) {\r\n            comparator = helpers.comparatorFor(comparators.getComparatorByDataType(sortingColumn.dataType || sortingColumn.type, sortingColumn.sorting), sortingColumn.key);\r\n        }\r\n    }\r\n    return comparator;\r\n};\r\n\r\nexport const createWrappedCollection = options => {\r\n    const collection = options.collection;\r\n    const childrenAttribute = options.childrenAttribute;\r\n    const processCollection = (sourceCollection, parentModel = null) => {\r\n        sourceCollection.forEach(item => {\r\n            let children;\r\n            if (childrenAttribute) {\r\n                children = item.get(childrenAttribute);\r\n                if (Array.isArray(children)) {\r\n                    children = new Backbone.Collection(children);\r\n                }\r\n                if (children && children.length) {\r\n                    item.children = children;\r\n                    processCollection(children, item);\r\n                }\r\n            }\r\n            item.parentModel = parentModel;\r\n            item.collapsed = !options.expandOnShow;\r\n        });\r\n    };\r\n    if (!(collection instanceof VirtualCollection)) {\r\n        if (!collection || Array.isArray(collection)) {\r\n            const adjustedCollection = new Backbone.Collection(collection);\r\n            processCollection(adjustedCollection);\r\n            return new VirtualCollection(adjustedCollection, options);\r\n        } else if (collection instanceof Backbone.Collection) {\r\n            processCollection(collection);\r\n            return new VirtualCollection(collection, options);\r\n        }\r\n    }\r\n    return collection;\r\n};\r\n\r\nconst factory = {\r\n    /**\r\n     * @memberof module:core.list.factory\r\n     * @method createDefaultList\r\n     * @description    \r\n     * @param {Object} options Constructor options\r\n     * @param {Array} options.collection   \r\n     * @param {Object} options.collectionOptions  \r\n     * @param {Object} options.listViewOptions  \r\n     * @param {Backbone.View} options.listViewOptions.childView View  \r\n     * @returns {Backbone.View} listView View-\r\n     * */\r\n    createDefaultList(options) {\r\n        helpers.ensureOption(options, 'collection');\r\n        helpers.ensureOption(options, 'listViewOptions');\r\n        if (!options.listViewOptions.childView && !options.listViewOptions.childViewSelector) {\r\n            helpers.throwError('The option `childView` or `childViewSelector` is required.', 'MissingOptionError');\r\n        }\r\n        helpers.ensureOption(options, 'listViewOptions.childHeight');\r\n\r\n        const collection = factory.createWrappedCollection(\r\n            Object.assign(\r\n                {},\r\n                {\r\n                    collection: options.collection,\r\n                    isSliding: true\r\n                },\r\n                options.collectionOptions\r\n            )\r\n        );\r\n\r\n        const listViewOptions = _.extend(\r\n            {\r\n                collection,\r\n                emptyView: EmptyListView\r\n            },\r\n            options.listViewOptions\r\n        );\r\n\r\n        return new ListView(listViewOptions);\r\n    },\r\n\r\n    /**\r\n     * @memberof module:core.nativeGrid.factory\r\n     * @method createDefaultList\r\n     * @description    \r\n     * @param {Object} options Constructor options\r\n     * @param {Backbone.View} [options.emptyView] View        ( )\r\n     * @param {Object} options.gridViewOptions  \r\n     * @param {Object} [options.gridViewOptions.selectableBehavior]     (none/single/multi)\r\n     * @param {Function} [options.onColumnSort]  oncColumnSort \r\n     * @param {Backbone.View} [options.headerView] View,     \r\n     * @param {Backbone.View} [options.rowView] View  \r\n     * @param {Function} [options.rowViewSelector]    (resolve) View,     \r\n     * @returns {Backbone.View} NativeGridView View-\r\n     * */\r\n    createDefaultGrid(options) {\r\n        const collection = createWrappedCollection({\r\n            collection: options.collection,\r\n            childrenAttribute: options.gridViewOptions.childrenAttribute,\r\n            selectableBehavior: options.gridViewOptions.selectableBehavior,\r\n            isTree: options.gridViewOptions.isTree,\r\n            expandOnShow: options.gridViewOptions.expandOnShow,\r\n            isSliding: options.isSliding === false ? options.isSliding : true,\r\n            comparator: getDefaultComparator(options.columns || options.gridViewOptions.columns || [])\r\n        });\r\n\r\n        const gridViewOptions = Object.assign(\r\n            {\r\n                collection,\r\n                onColumnSort: options.onColumnSort,\r\n                headerView: options.headerView,\r\n                childView: options.childView,\r\n                childViewSelector: options.childViewSelector,\r\n                emptyView: EmptyGridView,\r\n                emptyViewOptions: {\r\n                    text: Localizer.get('CORE.GRID.EMPTYVIEW.EMPTY')\r\n                }\r\n            },\r\n            options.gridViewOptions\r\n        );\r\n\r\n        return new GridView(gridViewOptions);\r\n    },\r\n\r\n    /**\r\n     * @memberof module:core.list.factory\r\n     * @method createWrappedCollection\r\n     * @description   Backbone-  \r\n     * @param {Object} options Constructor options\r\n     * @param {Array} options.collection  \r\n     * @returns {Object}\r\n     * @returns {Backbone.Collection} collection   \r\n     * */\r\n    createWrappedCollection,\r\n\r\n    getDefaultComparator\r\n};\r\nexport default factory;\r\n","import EmptyListView from './views/EmptyListView';\r\nimport EmptyGridView from './views/EmptyGridView';\r\nimport GridHeaderView from './views/GridHeaderView';\r\nimport GridView from './views/GridView';\r\nimport ListView from './views/CollectionView';\r\nimport RowView from './views/RowView';\r\nimport EditableGridFieldView from './views/EditableGridFieldView';\r\nimport ListItemViewBehavior from './views/behaviors/ListItemViewBehavior';\r\nimport GridItemViewBehavior from './views/behaviors/GridItemViewBehavior';\r\nimport LoadingRowModel from './models/LoadingRowModel';\r\nimport ListGroupBehavior from './models/behaviors/ListGroupBehavior';\r\nimport ListItemBehavior from './models/behaviors/ListItemBehavior';\r\nimport factory from './factory';\r\nimport cellFactory from './CellViewFactory';\r\nimport GridController from './controllers/GridController';\r\nimport meta from './meta';\r\n\r\nexport default {\r\n    controllers: {\r\n        GridController\r\n    },\r\n\r\n    /**\r\n     *  \r\n     * @namespace\r\n     * */\r\n    factory,\r\n    /**\r\n     *  \r\n     * @namespace\r\n     * */\r\n    cellFactory,\r\n    /**\r\n     * Views-\r\n     * @namespace\r\n     * */\r\n    views: {\r\n        EmptyListView,\r\n        EmptyGridView,\r\n        GridHeaderView,\r\n        GridView,\r\n        ListView,\r\n        RowView,\r\n        EditableGridFieldView,\r\n\r\n        behaviors: {\r\n            ListItemViewBehavior,\r\n            GridItemViewBehavior\r\n        }\r\n    },\r\n    /**\r\n     * Backbone- \r\n     * @namespace\r\n     * */\r\n    models: {\r\n        LoadingRowModel,\r\n        behaviors: {\r\n            ListGroupBehavior,\r\n            ListItemBehavior\r\n        }\r\n    },\r\n\r\n    meta\r\n};\r\n","export const contextTypes = {\r\n    void: 'void',\r\n    any: 'any',\r\n    one: 'one'\r\n};\r\n\r\nexport const columnTypes = {\r\n    STRING: 'string',\r\n    NUMBER: 'number',\r\n    BOOLEAN: 'boolean',\r\n    DATETIME: 'dateTime',\r\n    HTML: 'html',\r\n    DOCUMENT: 'document'\r\n};\r\n\r\nexport const getDefaultActions = () => [\r\n    {\r\n        id: 'add',\r\n        name: Localizer.get('CORE.GRID.ACTIONS.ADD'),\r\n        iconClass: 'plus'\r\n    },\r\n    {\r\n        id: 'archive',\r\n        name: Localizer.get('CORE.GRID.ACTIONS.ARCHIVE'),\r\n        contextType: contextTypes.any\r\n    },\r\n    {\r\n        id: 'unarchive',\r\n        name: Localizer.get('CORE.GRID.ACTIONS.UNARCHIVE'),\r\n        contextType: contextTypes.any\r\n    },\r\n    {\r\n        id: 'delete',\r\n        name: Localizer.get('CORE.GRID.ACTIONS.DELETE'),\r\n        contextType: contextTypes.any\r\n    }\r\n];\r\n\r\nexport default {\r\n    contextTypes,\r\n    columnTypes,\r\n    getDefaultActions\r\n};\r\n","/**\r\n * Some description for initializer\r\n * @name LoadingRowModel\r\n * @memberof module:core.list.models\r\n * @class LoadingRowModel\r\n * @constructor\r\n * @description Model  \r\n * @extends Backbone.Model\r\n * */\r\nexport default Backbone.Model.extend({\r\n    initialize() {},\r\n\r\n    defaults: {\r\n        isLoadingRowModel: true\r\n    }\r\n});\r\n","//@flow\r\nexport default function () {\r\n    // Select this model, and tell our\r\n    // collection that we're selected\r\n    return {\r\n        select(options: { isSilent: boolean } = { isSilent: false }) {\r\n            if (this.selected) {\r\n                return;\r\n            }\r\n\r\n            this.selected = true;\r\n\r\n            if (!options.isSilent) {\r\n                this.trigger('selected', this, options.isSilent);\r\n            }\r\n            if (this.collection) {\r\n                this.collection.select(this);\r\n            }\r\n        },\r\n\r\n        // Deselect this model, and tell our\r\n        // collection that we're deselected\r\n        deselect(options: { isSilent: boolean } = { isSilent: false }) {\r\n            if (!this.selected) {\r\n                return;\r\n            }\r\n\r\n            this.selected = false;\r\n\r\n            if (!options.isSilent) {\r\n                this.trigger('deselected', this, options.isSilent);\r\n            }\r\n\r\n            if (this.collection && this.collection.deselect) {\r\n                this.collection.deselect(this);\r\n            }\r\n        },\r\n\r\n        pointTo() {\r\n            this.pointed = true;\r\n            this.trigger('pointed', this);\r\n        },\r\n\r\n        pointOff() {\r\n            this.pointed = false;\r\n            this.trigger('unpointed', this);\r\n        },\r\n\r\n        // Change selected to the opposite of what\r\n        // it currently is\r\n        toggleSelected() {\r\n            if (this.selected) {\r\n                this.deselect();\r\n            } else {\r\n                this.select();\r\n            }\r\n        },\r\n\r\n        check() {\r\n            if (this.checked) {\r\n                return;\r\n            }\r\n\r\n            this.checked = true;\r\n            this.trigger('checked', this);\r\n\r\n            if (this.collection) {\r\n                this.collection.check(this);\r\n            }\r\n        },\r\n\r\n        uncheck() {\r\n            if (this.checked === false) {\r\n                return;\r\n            }\r\n\r\n            this.checked = false;\r\n            this.trigger('unchecked', this);\r\n\r\n            if (this.collection) {\r\n                this.collection.uncheck(this);\r\n            }\r\n        },\r\n\r\n        checkSome() {\r\n            if (this.checked === null) {\r\n                return;\r\n            }\r\n\r\n            this.checked = null;\r\n            this.trigger('checked:some', this);\r\n            if (this.collection) {\r\n                this.collection.checkSome(this);\r\n            }\r\n        },\r\n\r\n        toggleChecked() {\r\n            if (this.checked) {\r\n                this.uncheck();\r\n            } else {\r\n                this.check();\r\n            }\r\n        },\r\n\r\n        highlight(text: String) {\r\n            if (this.highlighted) {\r\n                return;\r\n            }\r\n\r\n            this.highlighted = true;\r\n            this.highlightedFragment = text;\r\n            this.set('highlightedFragment', text);\r\n            this.trigger('highlighted', this, {\r\n                text\r\n            });\r\n        },\r\n\r\n        unhighlight() {\r\n            if (!this.highlighted) {\r\n                return;\r\n            }\r\n\r\n            this.highlighted = false;\r\n            this.highlightedFragment = undefined;\r\n            this.trigger('unhighlighted', this);\r\n        },\r\n\r\n        collapse(internal: Boolean) {\r\n            if (this.collapsed) {\r\n                return;\r\n            }\r\n\r\n            this.collapsed = true;\r\n            this.trigger('collapsed', this);\r\n            this.trigger('toggle:collapse', this);\r\n\r\n            if (!internal && this.collection && this.collection.collapse) {\r\n                this.collection.collapse(this);\r\n            }\r\n        },\r\n\r\n        expand(internal: Boolean) {\r\n            if (this.collapsed === false) {\r\n                return;\r\n            }\r\n\r\n            this.collapsed = false;\r\n            this.trigger('expanded', this);\r\n            this.trigger('toggle:collapse', this);\r\n            if (!internal && this.collection && this.collection.expand) {\r\n                this.collection.expand(this);\r\n            }\r\n        },\r\n\r\n        toggleCollapsed() {\r\n            if (this.collapsed) {\r\n                this.expand();\r\n            } else {\r\n                this.collapse();\r\n            }\r\n        }\r\n    };\r\n}\r\n","import CollapsibleBehavior from '../../../models/behaviors/CollapsibleBehavior';\r\n\r\nconst ListGroupBehavior = function(model) {\r\n    _.extend(this, new CollapsibleBehavior(model));\r\n};\r\n\r\n_.extend(ListGroupBehavior.prototype, {\r\n    deselect() {},\r\n\r\n    select() {}\r\n});\r\n\r\nexport default ListGroupBehavior;\r\n","import SelectableBehavior from '../../../models/behaviors/SelectableBehavior';\r\nimport HighlightableBehavior from '../../../models/behaviors/HighlightableBehavior';\r\n\r\nexport default function(model) {\r\n    _.extend(this, new SelectableBehavior.Selectable(model));\r\n    _.extend(this, new HighlightableBehavior(model));\r\n}\r\n","module.exports = \"<div class=\\\"js-visible-collection-wrp visible-collection-wrp\\\"></div>\";","module.exports = \"<div class=\\\"form-editor js-editor-region\\\"></div>\\r\\n<div class=\\\"js-error-text-region form-label__error\\\"></div>\\r\\n\";","module.exports = \"{{text}}\";","module.exports = \"<div class=\\\"form-label form-label_editable-grid js-grid-title\\\"></div>\\r\\n<div class=\\\"grid-toolbar-wrp js-grid-tools\\\">\\r\\n    <div class=\\\"js-grid-tools-search-region grid-toolbar__search\\\"></div>\\r\\n    <div class=\\\"js-grid-tools-toolbar-region grid-toolbar-region\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"grid-header-wrp js-grid-header\\\">\\r\\n    <div class=\\\"js-grid-selection-header-view grid-selection-cell-all\\\"></div>\\r\\n    <div class=\\\"js-grid-header-view grid-header-view\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"grid-content-wrp js-grid-content\\\">\\r\\n    <div class=\\\"js-grid-selection-panel-view grid-selection-panel-region\\\"></div>\\r\\n    <div class=\\\"js-grid-content-view grid-content-view\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"js-nocolumns-view-region\\\"></div>\\r\\n<div class=\\\"js-loading-region\\\"></div>\";","module.exports = \"{{#each columns}}\\r\\n    <div class=\\\"grid-header-column\\\">\\r\\n        <div class=\\\"grid-header-dragger\\\"></div>\\r\\n    </div>\\r\\n{{/each}}\";","module.exports = \"{{localize 'CORE.GRID.LOADINGROW.LOADING'}}\";","module.exports = \"{{localize 'CORE.GRID.NOCOLUMNSVIEW.ALLCOLUMNSHIDDEN'}}\";","module.exports = \"{{#if draggable}}\\r\\n<div class=\\\"js-dots cell__dots\\\" draggable=\\\"true\\\">\\r\\n    <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" x=\\\"0px\\\" y=\\\"0px\\\" viewBox=\\\"0 0 20 20\\\"\\r\\n        xml:space=\\\"preserve\\\">\\r\\n        <circle cx=\\\"2\\\" cy=\\\"5\\\" r=\\\"1.5\\\"></circle>\\r\\n        <circle cx=\\\"2\\\" cy=\\\"10\\\" r=\\\"1.5\\\"></circle>\\r\\n        <circle cx=\\\"2\\\" cy=\\\"15\\\" r=\\\"1.5\\\"></circle>\\r\\n    </svg>\\r\\n</div>\\r\\n{{/if}} {{#if index}}\\r\\n<span class=\\\"js-index cell__index\\\">\\r\\n    {{index}}\\r\\n</span>\\r\\n{{/if}}\\r\\n<div class=\\\"checkbox checkbox_cell-selection js-checkbox\\\">\\r\\n    <svg class=\\\"svg-icons-wrp_checked svg-icons svg-icons_checked\\\">\\r\\n        <use xlink:href=\\\"#icon-checked\\\" /> </svg>\\r\\n</div>\";","module.exports = \"<div class=\\\"js-selection-panel-wrp selection-panel-wrp\\\"></div>\";","//@flow\r\nimport { keyCode, helpers, htmlHelpers } from 'utils';\r\nimport GlobalEventService from '../../services/GlobalEventService';\r\nimport template from '../templates/collection.hbs';\r\n\r\n/*\r\n    Public interface:\r\n\r\n    This view produce:\r\n        trigger: positionChanged (sender, { oldPosition, position })\r\n        trigger: viewportHeightChanged (sender, { oldViewportHeight, viewportHeight })\r\n    This view react on:\r\n        collection change (via Backbone.Collection events)\r\n        position change (when we scroll with scrollbar for example): updatePosition(newPosition)\r\n */\r\n\r\nconst config = {\r\n    VISIBLE_COLLECTION_RESERVE: 20,\r\n    VISIBLE_COLLECTION_AUTOSIZE_RESERVE: 100\r\n};\r\n\r\nconst heightOptions = {\r\n    AUTO: 'auto',\r\n    FIXED: 'fixed'\r\n};\r\n\r\nconst defaultOptions = {\r\n    height: heightOptions.FIXED,\r\n    maxRows: 100,\r\n    defaultElHeight: 300,\r\n    useSlidingWindow: true\r\n};\r\n\r\n/**\r\n * Some description for initializer\r\n * @name ListView\r\n * @memberof module:core.list.views\r\n * @class ListView\r\n * @constructor\r\n * @description View  \r\n * @extends Marionette.View\r\n * @param {Object} options Constructor options\r\n * @param {Array} options.collection   \r\n * @param {Number} options.childHeight    (childView)\r\n * @param {Backbone.View} options.childView view  \r\n * @param {Backbone.View} options.childViewOptions   childView\r\n * @param {Function} options.childViewSelector ?\r\n * @param {Backbone.View} options.emptyView View     ( )\r\n * @param {Object} [options.emptyViewOptions]   emptyView\r\n * @param {String} options.height     , : fixed, auto\r\n * @param {Backbone.View} options.loadingChildView view-,    \r\n * @param {Number} options.maxRows     (   height: auto)\r\n * @param {Boolean} options.useDefaultRowView  RowView  .  ,  true - \r\n * @param {Boolean} options.forbidSelection       \r\n *    cellView   .\r\n * */\r\n\r\nexport default Marionette.CompositeView.extend({\r\n    initialize(options) {\r\n        if (this.collection === undefined) {\r\n            helpers.throwInvalidOperationError(\"ListView: you must specify a 'collection' option.\");\r\n        }\r\n        this.gridEventAggregator = options.gridEventAggregator;\r\n\r\n        options.childViewOptions && (this.childViewOptions = options.childViewOptions);\r\n        options.emptyView && (this.emptyView = options.emptyView);\r\n        options.emptyViewOptions && (this.emptyViewOptions = options.emptyViewOptions);\r\n        options.childView && (this.childView = options.childView);\r\n        options.childViewSelector && (this.childViewSelector = options.childViewSelector);\r\n        options.loadingChildView && (this.loadingChildView = options.loadingChildView);\r\n        this.listenTo(this.gridEventAggregator, 'toggle:collapse:all', this.__toggleCollapseAll);\r\n        // this.listenTo(this, 'childview:click', child => this.trigger('row:click', child.model));\r\n        // this.listenTo(this, 'childview:dblclick', child => this.trigger('row:dblclick', child.model));\r\n        this.listenTo(this, 'childview:toggle:collapse', this.__updateCollapseAll);\r\n        this.maxRows = options.maxRows || defaultOptions.maxRows;\r\n        this.useSlidingWindow = options.useSlidingWindow || defaultOptions.useSlidingWindow;\r\n        this.height = options.height;\r\n        this.forbidSelection = _.isBoolean(options.forbidSelection) ? options.forbidSelection : true;\r\n\r\n        if (options.height === undefined) {\r\n            this.height = defaultOptions.height;\r\n        }\r\n\r\n        this.childHeight = options.childHeight || 25;\r\n        this.state = {\r\n            position: 0\r\n        };\r\n\r\n        if (this.collection.getState().position !== 0 && this.collection.isSliding) {\r\n            this.collection.updatePosition(0);\r\n        }\r\n\r\n        this.debouncedHandleResize = _.debounce(() => this.handleResize(), 100);\r\n        this.listenTo(GlobalEventService, 'window:resize', this.debouncedHandleResize);\r\n        this.listenTo(this.collection.parentCollection, 'add remove reset ', this.debouncedHandleResize);\r\n    },\r\n\r\n    attributes() {\r\n        return {\r\n            tabindex: 1\r\n        };\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    childViewContainer: '.js-visible-collection-wrp',\r\n\r\n    ui: {\r\n        childViewContainer: '.js-visible-collection-wrp'\r\n    },\r\n\r\n    events: {\r\n        keydown: '__handleKeydown'\r\n    },\r\n\r\n    className: 'visible-collection',\r\n\r\n    onAttach() {\r\n        this.handleResize();\r\n        if (this.forbidSelection) {\r\n            htmlHelpers.forbidSelection(this.el);\r\n        }\r\n        this.listenTo(this.collection, 'update:child', model => this.__updateChildTop(this.children.findByModel(model)));\r\n        this.el.parentElement.addEventListener('scroll', this.__onScroll.bind(this));\r\n    },\r\n\r\n    _showCollection() {\r\n        const models = this.collection.visibleModels;\r\n\r\n        models.forEach((child, index) => {\r\n            this._addChild(child, index);\r\n        });\r\n        this.children._updateLength();\r\n    },\r\n\r\n    // override default method to correct add twhen index === 0 in visible collection\r\n    _onCollectionAdd(child, collection, opts) {\r\n        // `index` is present when adding with `at` since BB 1.2; indexOf fallback for < 1.2\r\n        let index = opts.at !== undefined && (opts.index !== undefined ? opts.index : collection.indexOf(child));\r\n\r\n        if (this.filter || index === false) {\r\n            index = _.indexOf(this._filteredSortedModels(index), child);\r\n        }\r\n\r\n        if (this._shouldAddChild(child, index)) {\r\n            this._destroyEmptyView();\r\n            this._addChild(child, index);\r\n        }\r\n    },\r\n\r\n    childView(child) {\r\n        if (child.get('isLoadingRowModel')) {\r\n            return this.getOption('loadingChildView');\r\n        }\r\n\r\n        const childViewSelector = this.getOption('childViewSelector');\r\n        if (childViewSelector) {\r\n            return childViewSelector(child);\r\n        }\r\n\r\n        const childView = this.getOption('childView');\r\n        if (!childView) {\r\n            helpers.throwInvalidOperationError(\"ListView: you must specify either 'childView' or 'childViewSelector' option.\");\r\n        }\r\n        return childView;\r\n    },\r\n\r\n    up(e) {\r\n        this.moveCursorBy(-1, e.shiftKey);\r\n    },\r\n\r\n    down(e) {\r\n        this.moveCursorBy(+1, e.shiftKey);\r\n    },\r\n\r\n    pageup(e) {\r\n        const delta = Math.ceil(this.state.viewportHeight * 0.8);\r\n        this.moveCursorBy(-delta, e.shiftKey);\r\n    },\r\n\r\n    pagedown(e) {\r\n        const delta = Math.ceil(this.state.viewportHeight * 0.8);\r\n        this.moveCursorBy(delta, e.shiftKey);\r\n    },\r\n\r\n    home(e) {\r\n        this.__moveCursorTo(0, e.shiftKey);\r\n    },\r\n\r\n    end(e) {\r\n        this.__moveCursorTo(this.collection.length - 1, e.shiftKey);\r\n    },\r\n\r\n    __handleKeydown(e) {\r\n        let delta;\r\n        const handle = (!this.getOption('isEditable') || e.ctrlKey) && this.collection.isSliding;\r\n        const eventResult = !handle && e.target.tagName === 'INPUT';\r\n        const selectedModels: Array<any> = this.collection.selected instanceof Backbone.Model ? [this.collection.selected] : Object.values(this.collection.selected || {});\r\n\r\n        e.stopPropagation();\r\n        switch (e.keyCode) {\r\n            case keyCode.UP:\r\n                if (handle) {\r\n                    this.moveCursorBy(-1, e.shiftKey);\r\n                }\r\n                return eventResult;\r\n            case keyCode.DOWN:\r\n                if (handle) {\r\n                    this.moveCursorBy(1, e.shiftKey);\r\n                }\r\n                return eventResult;\r\n            case keyCode.PAGE_UP:\r\n                delta = Math.ceil(this.state.viewportHeight * 0.8);\r\n                this.moveCursorBy(-delta, e.shiftKey);\r\n                return false;\r\n            case keyCode.PAGE_DOWN:\r\n                delta = Math.ceil(this.state.viewportHeight * 0.8);\r\n                this.moveCursorBy(delta, e.shiftKey);\r\n                return false;\r\n            case keyCode.SPACE:\r\n                if (handle) {\r\n                    selectedModels.forEach(model => model.toggleChecked());\r\n                }\r\n                return eventResult;\r\n            case keyCode.LEFT:\r\n                if (handle) {\r\n                    this.collection.trigger('move:left');\r\n                }\r\n                return eventResult;\r\n            case keyCode.RIGHT:\r\n                if (handle) {\r\n                    this.collection.trigger('move:right');\r\n                }\r\n                return eventResult;\r\n            case keyCode.TAB:\r\n                return false;\r\n            case keyCode.ENTER:\r\n                if (handle) {\r\n                    this.collection.trigger('enter');\r\n                }\r\n                return eventResult;\r\n            case keyCode.DELETE:\r\n            case keyCode.BACKSPACE:\r\n            case keyCode.ESCAPE:\r\n                break;\r\n            case keyCode.HOME:\r\n                if (handle) {\r\n                    this.__moveCursorTo(0, e.shiftKey);\r\n                }\r\n                return eventResult;\r\n            case keyCode.END:\r\n                if (handle) {\r\n                    this.__moveCursorTo(this.collection.length - 1, e.shiftKey);\r\n                }\r\n                return eventResult;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n\r\n    __moveCursorTo(newCursorIndex, shiftPressed) {\r\n        const cid = this.collection.cursorCid;\r\n        let index = 0;\r\n        this.collection.find((x, i) => {\r\n            if (x.cid === cid) {\r\n                index = i;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n\r\n        const nextIndex = this.__normalizeCollectionIndex(newCursorIndex);\r\n        if (nextIndex !== index) {\r\n            const model = this.collection.at(nextIndex);\r\n            const selectFn = this.collection.selectSmart || this.collection.select;\r\n            if (selectFn) {\r\n                selectFn.call(this.collection, model, false, shiftPressed);\r\n            }\r\n            this.scrollTo(nextIndex);\r\n        }\r\n    },\r\n\r\n    // Move the cursor to a new position [cursorIndex + positionDelta] (like when user changes selected item using keyboard)\r\n    moveCursorBy(cursorIndexDelta, shiftPressed) {\r\n        const cid = this.collection.cursorCid;\r\n        let index = 0;\r\n        this.collection.find((x, i) => {\r\n            if (x.cid === cid) {\r\n                index = i;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n\r\n        const nextIndex = this.__normalizeCollectionIndex(index + cursorIndexDelta);\r\n        if (nextIndex !== index) {\r\n            const model = this.collection.at(nextIndex);\r\n            const selectFn = this.collection.selectSmart || this.collection.select;\r\n            if (selectFn) {\r\n                selectFn.call(this.collection, model, false, shiftPressed, this.getOption('selectOnCursor'));\r\n            }\r\n\r\n            this.scrollTo(nextIndex);\r\n        }\r\n    },\r\n\r\n    scrollTo(index) {\r\n        const indexDelta = index - this.state.position;\r\n        const criticalOffset = 7;\r\n        if (indexDelta < criticalOffset || indexDelta > this.state.viewportHeight - criticalOffset) {\r\n            const centerItemDelta = Math.floor(this.state.viewportHeight / 2 - 1);\r\n            const newPosition = this.state.position + indexDelta - centerItemDelta;\r\n            this.__updatePositionInternal(newPosition, true);\r\n        }\r\n    },\r\n\r\n    __normalizePosition(position) {\r\n        const maxPos = Math.max(0, this.collection.length - this.state.visibleCollectionSize);\r\n        return Math.max(0, Math.min(maxPos, position - config.VISIBLE_COLLECTION_RESERVE / 2));\r\n    },\r\n\r\n    // normalized the index so that it fits in range [0, this.collection.length - 1]\r\n    __normalizeCollectionIndex(index) {\r\n        return Math.max(0, Math.min(this.collection.length - 1, index));\r\n    },\r\n\r\n    __onScroll() {\r\n        if (this.state.viewportHeight === undefined || this.collection.length <= this.state.viewportHeight || this.internalScroll || this.isDestroyed()) {\r\n            return;\r\n        }\r\n\r\n        const newPosition = Math.max(0, Math.floor(this.el.parentElement.scrollTop() / this.childHeight));\r\n        this.__updatePositionInternal(newPosition, false);\r\n        this.__updateTop();\r\n    },\r\n\r\n    __updateTop() {\r\n        const top = Math.max(0, this.collection.indexOf(this.collection.visibleModels[0]) * this.childHeight);\r\n        this.ui.childViewContainer[0].style.top = `${top}px`;\r\n\r\n        if (this.gridEventAggregator) {\r\n            this.gridEventAggregator.trigger('update:top', top);\r\n        }\r\n    },\r\n\r\n    updatePosition(newPosition) {\r\n        this.__updatePositionInternal(newPosition, false);\r\n    },\r\n\r\n    __updatePositionInternal(position, triggerEvents) {\r\n        let newPosition = position;\r\n        newPosition = this.__normalizePosition(newPosition);\r\n        if (newPosition === this.state.position || !this.collection.isSliding) {\r\n            return;\r\n        }\r\n\r\n        newPosition = this.collection.updatePosition(Math.max(0, newPosition));\r\n        this.state.position = newPosition;\r\n        if (triggerEvents) {\r\n            this.internalScroll = true;\r\n            const scrollTop =\r\n                Math.max(0, newPosition > (this.collection.length - config.VISIBLE_COLLECTION_RESERVE) / 2 ? newPosition + config.VISIBLE_COLLECTION_RESERVE : newPosition) *\r\n                this.childHeight;\r\n            if (this.el.parentNode) {\r\n                this.el.parentElement.scrollTop(scrollTop);\r\n            }\r\n            this.__updateTop();\r\n            _.delay(() => (this.internalScroll = false), 100);\r\n        }\r\n\r\n        return newPosition;\r\n    },\r\n\r\n    handleResize() {\r\n        if (!this.collection.isSliding) {\r\n            return;\r\n        }\r\n        const oldViewportHeight = this.state.viewportHeight;\r\n        const oldAllItemsHeight = this.state.allItemsHeight;\r\n\r\n        const availableHeight\r\n            = this.el.parentElement && this.el.parentElement.clientHeight && this.el.parentElement.clientHeight !== this.childHeight\r\n                ? this.el.parentElement.clientHeight\r\n                : window.innerHeight;\r\n\r\n        if (this.children && this.children.length && !this.isEmpty()) {\r\n            const firstChild = this.children.first().el;\r\n            if (firstChild && firstChild.offsetHeight) {\r\n                this.childHeight = firstChild.offsetHeight;\r\n            }\r\n        }\r\n\r\n        if (this.height === heightOptions.AUTO && !_.isFinite(this.maxRows)) {\r\n            helpers.throwInvalidOperationError(\"ListView configuration error: you have passed option height: AUTO into ListView control but didn't specify maxRows option.\");\r\n        }\r\n\r\n        // Computing new elementHeight and viewportHeight\r\n        this.state.viewportHeight = Math.max(1, Math.floor(Math.min(availableHeight, window.innerHeight) / this.childHeight));\r\n        const visibleCollectionSize = (this.state.visibleCollectionSize = this.state.viewportHeight);\r\n        const allItemsHeight = (this.state.allItemsHeight = this.childHeight * this.collection.length);\r\n\r\n        if (allItemsHeight !== oldAllItemsHeight) {\r\n            this.el.style.height = `${(allItemsHeight || '')}px`;\r\n            if (this.gridEventAggregator) {\r\n                this.gridEventAggregator.trigger('update:height', allItemsHeight);\r\n            } else {\r\n                this.trigger('update:height', allItemsHeight);\r\n            }\r\n        }\r\n\r\n        if (this.state.viewportHeight === oldViewportHeight) {\r\n            return;\r\n        }\r\n\r\n        this.collection.updateWindowSize(visibleCollectionSize + config.VISIBLE_COLLECTION_RESERVE);\r\n        this.handleResize();\r\n    },\r\n\r\n    __updatePadding() {\r\n        if (this.el.scrollHeight > this.el.offsetHeight) {\r\n            const scrollBarWidth = this.el.offsetWidth - this.el.clientWidth;\r\n            this.el.css({\r\n                width: `calc(100% + ${scrollBarWidth}px)`,\r\n                paddingRight: scrollBarWidth\r\n            });\r\n        }\r\n    },\r\n\r\n    getAdjustedElementHeight(elementHeight) {\r\n        let adjustedElementHeight;\r\n        if (this.height !== heightOptions.AUTO) {\r\n            if (elementHeight) {\r\n                adjustedElementHeight = elementHeight;\r\n            } else {\r\n                let parent = this.el.offsetParent;\r\n                let clientHeight = parent.clientHeight;\r\n                while (parent && !clientHeight && parent !== document.body) {\r\n                    parent = parent.offsetParent;\r\n                    clientHeight = parent.clientHeight;\r\n                }\r\n                const parentStyles = getComputedStyle(parent);\r\n                const contentHeight = clientHeight - parseFloat(parentStyles.paddingTop) - parseFloat(parentStyles.paddingBottom);\r\n                adjustedElementHeight = contentHeight || defaultOptions.defaultElHeight;\r\n            }\r\n        } else {\r\n            const computedViewportHeight = Math.min(this.maxRows, this.collection.length);\r\n            let minHeight = 0;\r\n            let outerBoxAdjustments = 0;\r\n\r\n            if (this.isEmpty()) {\r\n                minHeight = this.el.find('.empty-view').height();\r\n            }\r\n\r\n            outerBoxAdjustments = this.ui.visibleCollection.outerHeight() % this.childHeight;\r\n\r\n            adjustedElementHeight = Math.max(this.childHeight * computedViewportHeight + outerBoxAdjustments, minHeight);\r\n        }\r\n        return adjustedElementHeight;\r\n    },\r\n\r\n    onAddChild(view, child) {\r\n        this.__updateChildTop(child);\r\n    },\r\n\r\n    __updateChildTop(child) {\r\n        if (!child || !this.collection.length) {\r\n            return;\r\n        }\r\n        requestAnimationFrame(() => {\r\n            const childModel = child.model;\r\n            if (this.getOption('showRowIndex')) {\r\n                const index = childModel.collection.indexOf(childModel) + 1;\r\n                if (index !== childModel.currentIndex) {\r\n                    childModel.trigger('update:model', index);\r\n                }\r\n            }\r\n            if (this.getOption('isTree') && typeof child.insertFirstCellHtml === 'function') {\r\n                child.insertFirstCellHtml();\r\n            }\r\n        });\r\n    },\r\n\r\n    __toggleCollapseAll(collapsed) {\r\n        this.__updateTreeCollapse(this.collection, collapsed);\r\n        if (this.gridEventAggregator) {\r\n            this.gridEventAggregator.trigger('collapse:change');\r\n        }\r\n        this.collection.rebuild();\r\n        this.debouncedHandleResize();\r\n    },\r\n\r\n    __updateTreeCollapse(collection, collapsed) {\r\n        collection.forEach(model => {\r\n            model.collapsed = collapsed;\r\n            model.trigger('toggle:collapse', model);\r\n            if (model.children && model.children.length) {\r\n                this.__updateTreeCollapse(model.children, collapsed);\r\n            }\r\n        });\r\n    },\r\n\r\n    __getParentCollapsed(model) {\r\n        let collapsed = false;\r\n        let parentModel = model.parentModel;\r\n        while (parentModel) {\r\n            if (parentModel.collapsed !== false) {\r\n                collapsed = true;\r\n                break;\r\n            }\r\n            parentModel = parentModel.parentModel;\r\n        }\r\n        return collapsed;\r\n    },\r\n\r\n    __updateCollapseAll() {\r\n        const collapsed = !this.collection.parentCollection.some(model => model.collapsed === false);\r\n        if (this.gridEventAggregator) {\r\n            this.gridEventAggregator.trigger('update:collapse:all', collapsed);\r\n            this.gridEventAggregator.trigger('collapse:change');\r\n        }\r\n        this.debouncedHandleResize();\r\n    }\r\n});\r\n","//@flow\r\nimport FieldView from '../../form/fields/FieldView';\r\nimport template from '../templates/editableCellField.hbs';\r\n\r\nexport default FieldView.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'editable-grid-field',\r\n\r\n    onRender() {\r\n        this.showChildView('editorRegion', this.editor);\r\n        this.__rendered = true;\r\n        this.setRequired(this.schema.required);\r\n        this.__updateEditorState(this.schema.readonly, this.schema.enabled);\r\n        if (this.schema.getReadonly || this.schema.getHidden) {\r\n            this.__updateExternalChange();\r\n        }\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/emptyGrid.hbs';\r\nimport LocalizationService from '../../services/LocalizationService';\r\n\r\n/**\r\n * Some description for initializer\r\n * @name EmptyGridView\r\n * @memberof module:core.list.views\r\n * @class EmptyGridView\r\n * @constructor\r\n * @description View     \r\n * @extends Marionette.View\r\n * @param {Object} options Constructor options\r\n * @param {string} [options.text= ]  \r\n * */\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        this.model = new Backbone.Model({\r\n            text: options.text || LocalizationService.get('CORE.GRID.EMPTYVIEW.EMPTY')\r\n        });\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n    className: 'empty-view'\r\n});\r\n","//@flow\r\nimport template from '../templates/emptyGrid.hbs';\r\nimport LocalizationService from '../../services/LocalizationService';\r\n\r\n/**\r\n * Some description for initializer\r\n * @name EmptyListView\r\n * @memberof module:core.list.views\r\n * @class EmptyListView\r\n * @constructor\r\n * @description View        ( ),\r\n *   {@link module:core.list.views.GridView GridView options.emptyView}\r\n * @extends Marionette.View\r\n * @param {Object} options Constructor options\r\n * @param {string} [options.text= ]  \r\n * */\r\nconst EmptyListView = Marionette.View.extend({\r\n    initialize(options) {\r\n        this.model = new Backbone.Model({\r\n            text: (options && options.text) || LocalizationService.get('CORE.GRID.EMPTYVIEW.EMPTY')\r\n        });\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'empty-view'\r\n});\r\n\r\nexport default EmptyListView;\r\n","//@flow\r\nimport { comparators, helpers } from 'utils';\r\nimport template from '../templates/gridheader.hbs';\r\n\r\n/*\r\n*\r\n* Fires: columnsResize(this, { changes: { 0: 0.5, 1: 0.5 } })\r\n*\r\n* */\r\n\r\n/**\r\n * @name GridHeaderView\r\n * @memberof module:core.list.views\r\n * @class GridHeaderView\r\n * @constructor\r\n * @description View     () \r\n * @extends Marionette.View\r\n * @param {Object} options Constructor options\r\n * @param {Array} options.columns  \r\n * @param {Object} options.gridEventAggregator ?\r\n * */\r\n\r\nconst classes = {\r\n    expanded: 'collapsible-btn_expanded',\r\n    dragover: 'dragover'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'columns');\r\n        helpers.ensureOption(options, 'gridEventAggregator');\r\n\r\n        this.gridEventAggregator = options.gridEventAggregator;\r\n        this.columns = options.columns;\r\n        this.collection = options.gridEventAggregator.collection;\r\n\r\n        this.styleSheet = options.styleSheet;\r\n        this.listenTo(this.collection, 'dragover:head', this.__handleModelDragOver);\r\n        this.listenTo(this.collection, 'dragleave:head', this.__handleModelDragLeave);\r\n        this.listenTo(this.collection, 'drop:head', this.__handleModelDrop);\r\n        _.bindAll(this, '__draggerMouseUp', '__draggerMouseMove', '__handleColumnSort');\r\n        this.listenTo(this.gridEventAggregator, 'update:collapse:all', this.__updateCollapseAll);\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'grid-header',\r\n\r\n    ui: {\r\n        gridHeaderColumn: '.grid-header-column'\r\n    },\r\n\r\n    events: {\r\n        'mousedown .grid-header-dragger': '__handleDraggerMousedown',\r\n        'click .js-collapsible-button': '__toggleCollapseAll',\r\n        dragover: '__handleDragOver',\r\n        dragenter: '__handleDragEnter',\r\n        dragleave: '__handleDragLeave',\r\n        drop: '__handleDrop'\r\n    },\r\n\r\n    constants: {\r\n        MIN_COLUMN_WIDTH: 50 //todo wtf unify\r\n    },\r\n\r\n    templateContext() {\r\n        return {\r\n            columns: this.columns\r\n        };\r\n    },\r\n\r\n    onRender() {\r\n        if (this.__columnEls) {\r\n            this.__columnEls.forEach(c => c.destroy());\r\n        }\r\n        this.__columnEls = [];\r\n\r\n        this.collapsed = !this.getOption('expandOnShow');\r\n\r\n        this.ui.gridHeaderColumn.forEach((el, i) => { //TODO return aligh right\r\n            const column = this.columns[i];\r\n            const view = `${column.title || ''}${column.sorting === 'asc' ? '<span className=\"sort_down\"></span>' : '<span class=\"sort_up\"></span>'}`;\r\n\r\n            this.__columnEls.push(view);\r\n            this.listenTo(view, 'click', this.__handleColumnSort);\r\n            el.insertAdjacentHTML('afterbegin', view);\r\n            el.classList.add(column.columnClass);\r\n        });\r\n\r\n        if (this.options.isTree) { //TODO return aligh right\r\n            this.__columnEls[0].el.insertAdjacentHTML(\r\n                'afterbegin',\r\n                `<span class=\"collapsible-btn js-collapsible-button ${this.collapsed === false ? classes.expanded : ''}\"></span>&nbsp;`\r\n            );\r\n        }\r\n    },\r\n\r\n    updateSorting() {\r\n        this.render();\r\n    },\r\n\r\n    __handleColumnSort(sender, args) {\r\n        const column = args.column;\r\n        const sorting = column.sorting === 'asc' ? 'desc' : 'asc';\r\n        this.columns.forEach(c => (c.sorting = null));\r\n        column.sorting = sorting;\r\n        let comparator = sorting === 'desc' ? column.sortDesc : column.sortAsc;\r\n        if (!comparator) {\r\n            comparator = helpers.comparatorFor(comparators.getComparatorByDataType(column.dataType || column.type, sorting), column.key);\r\n        }\r\n        if (comparator) {\r\n            this.updateSorting();\r\n            this.trigger('onColumnSort', column, comparator);\r\n        }\r\n    },\r\n\r\n    __handleDraggerMousedown(e) {\r\n        this.__stopDrag();\r\n        this.__startDrag(e);\r\n        return false;\r\n    },\r\n\r\n    __getElementOuterWidth(el) {\r\n        return el.getBoundingClientRect().width;\r\n    },\r\n\r\n    __startDrag(e) {\r\n        const dragger = e.target;\r\n        const column = dragger.parentNode;\r\n\r\n        const draggedColumn = {\r\n            el: column,\r\n            initialWidth: this.__getElementOuterWidth(column),\r\n            index: Array.prototype.indexOf.call(column.parentNode.children, column)\r\n        };\r\n\r\n        this.dragContext = {\r\n            pageOffsetX: e.pageX,\r\n            dragger,\r\n            draggedColumn\r\n        };\r\n\r\n        dragger.classList.add('active');\r\n\r\n        document.addEventListener('mousemove', this.__draggerMouseMove);\r\n        document.addEventListener('mouseup', this.__draggerMouseUp);\r\n    },\r\n\r\n    __stopDrag() {\r\n        if (!this.dragContext) {\r\n            return;\r\n        }\r\n\r\n        this.dragContext.dragger.classList.remove('active');\r\n        this.dragContext = null;\r\n\r\n        document.removeEventListener('mousemove', this.__draggerMouseMove);\r\n        document.removeEventListener('mouseup', this.__draggerMouseUp);\r\n    },\r\n\r\n    __draggerMouseMove(e) {\r\n        if (!this.dragContext) {\r\n            return;\r\n        }\r\n\r\n        const ctx = this.dragContext;\r\n        const delta = e.pageX - ctx.pageOffsetX;\r\n\r\n        if (delta !== 0) {\r\n            const index = ctx.draggedColumn.index;\r\n\r\n            this.updateColumnAndNeighbourWidths(index, delta);\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    __draggerMouseUp() {\r\n        this.__stopDrag();\r\n        return false;\r\n    },\r\n\r\n    __getFullWidth() {\r\n        return this.el.clientWidth;\r\n    },\r\n\r\n    updateColumnAndNeighbourWidths(index, delta) {\r\n        const newColumnWidth = this.dragContext.draggedColumn.initialWidth + delta;\r\n\r\n        if (newColumnWidth < this.constants.MIN_COLUMN_WIDTH) {\r\n            return;\r\n        }\r\n\r\n        this.trigger('update:width', index, newColumnWidth);\r\n\r\n        this.gridEventAggregator.trigger('singleColumnResize', newColumnWidth);\r\n\r\n        this.el.style.width = `${this.dragContext.tableInitialWidth + delta + 1}px`;\r\n        this.columns[index].width = newColumnWidth;\r\n    },\r\n\r\n    __toggleCollapseAll() {\r\n        this.__updateCollapseAll(!this.collapsed);\r\n        this.gridEventAggregator.trigger('toggle:collapse:all', this.collapsed);\r\n    },\r\n\r\n    __updateCollapseAll(collapsed) {\r\n        this.collapsed = collapsed;\r\n        this.$('.js-collapsible-button').classList.toggle(classes.expanded, !collapsed);\r\n    },\r\n\r\n    __handleDragOver(event) {\r\n        if (!this.collection.draggingModel) {\r\n            return;\r\n        }\r\n        this.collection.trigger('dragover:head', event);\r\n        event.preventDefault();\r\n    },\r\n\r\n    __handleDragEnter(event) {\r\n        if (!this.collection.draggingModel) {\r\n            return;\r\n        }\r\n        this.collection.dragoverModel = undefined;\r\n        this.collection.trigger('dragover:head', event);\r\n    },\r\n\r\n    __handleModelDragOver() {\r\n        this.el.parentElement && this.el.parentElement.classList.add(classes.dragover);\r\n    },\r\n\r\n    __handleDragLeave(event) {\r\n        if (!this.el.contains(event.relatedTarget) && this.collection.dragoverModel !== this.model) {\r\n            this.collection.trigger('dragleave:head', event);\r\n        }\r\n    },\r\n\r\n    __handleModelDragLeave() {\r\n        this.el.parentElement && this.el.parentElement.classList.remove(classes.dragover);\r\n    },\r\n\r\n    __handleDrop(event) {\r\n        this.collection.trigger('drop:head', event);\r\n    },\r\n\r\n    __handleModelDrop() {\r\n        this.el.parentElement && this.el.parentElement.classList.remove(classes.dragover);\r\n        if (this.collection.draggingModel) {\r\n            this.trigger('drag:drop', this.collection.draggingModel, this.model);\r\n        }\r\n    }\r\n});\r\n","//@flow\r\n/* eslint-disable no-param-reassign */\r\n\r\nimport { htmlHelpers } from 'utils';\r\nimport template from '../templates/grid.hbs';\r\nimport ListView from './CollectionView';\r\nimport RowView from './RowView';\r\nimport SelectionPanelView from './SelectionPanelView';\r\nimport SelectionCellView from './SelectionCellView';\r\nimport GridHeaderView from './GridHeaderView';\r\nimport NoColumnsDefaultView from './NoColumnsView';\r\nimport LoadingChildView from './LoadingRowView';\r\nimport ToolbarView from '../../components/toolbar/ToolbarView';\r\nimport MobileService from '../../services/MobileService';\r\nimport LoadingBehavior from '../../views/behaviors/LoadingBehavior';\r\nimport SearchBarView from '../../views/SearchBarView';\r\n\r\n/*\r\n    Public interface:\r\n\r\n    This view produce:\r\n        trigger: positionChanged (sender, { oldPosition, position })\r\n        trigger: viewportHeightChanged (sender, { oldViewportHeight, viewportHeight })\r\n    This view react on:\r\n        collection change (via Backbone.Collection events)\r\n        position change (when we scroll with scrollbar for example): updatePosition(newPosition)\r\n */\r\n\r\n/**\r\n * @name GridView\r\n * @memberof module:core.list.views\r\n * @class GridView\r\n * @constructor\r\n * @description View-    \r\n * @extends Marionette.View\r\n * @param {Object} options Constructor options\r\n * @param {Array} options.collection   \r\n * @param {Array} options.columns  \r\n * @param {Backbone.View} options.emptyView View     ( )\r\n * @param {Number} options.childHeight    (childView)\r\n * @param {Backbone.View} [options.childView] view  \r\n * @param {Backbone.View} [options.childViewOptions]   childView\r\n * @param {Function} options.childViewSelector ?\r\n * @param {Object} [options.emptyViewOptions]   emptyView\r\n * @param {Backbone.View} options.gridColumnHeaderView View  \r\n * @param {String} options.height     , : fixed, auto\r\n * @param {Backbone.View} [options.loadingChildView] view-,    \r\n * @param {Backbone.View} options.noColumnsView View     \r\n * @param {Object} [options.noColumnsViewOptions]   noColumnsView\r\n * @param {Number} options.maxRows     (   height: auto)\r\n * @param {Boolean} options.useDefaultRowView  RowView  .\r\n *  ,  true      cellView   \r\n * @param {Boolean} options.forbidSelection       \r\n * */\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        if (this.collection === undefined) {\r\n            throw new Error('You must provide a collection to display.');\r\n        }\r\n\r\n        if (options.columns === undefined) {\r\n            throw new Error('You must provide columns definition (\"columns\" option)');\r\n        }\r\n\r\n        options.onColumnSort && (this.onColumnSort = options.onColumnSort); //jshint ignore:line\r\n\r\n        this.uniqueId = _.uniqueId('native-grid');\r\n        this.styleSheet = document.createElement('style');\r\n\r\n        const HeaderView = this.options.headerView || GridHeaderView;\r\n\r\n        this.columnClasses = [];\r\n        options.columns.forEach((c, i) => {\r\n            const cClass = `${this.uniqueId}-column${i}`;\r\n\r\n            this.columnClasses.push(cClass);\r\n            c.columnClass = cClass;\r\n        });\r\n\r\n        if (this.options.showHeader !== false) {\r\n            this.options.showHeader = true;\r\n        }\r\n\r\n        if (this.options.showHeader) {\r\n            this.headerView = new HeaderView({\r\n                columns: options.columns,\r\n                gridEventAggregator: this,\r\n                checkBoxPadding: options.checkBoxPadding || 0,\r\n                gridColumnHeaderView: options.gridColumnHeaderView,\r\n                uniqueId: this.uniqueId,\r\n                isTree: this.options.isTree,\r\n                expandOnShow: options.expandOnShow\r\n            });\r\n\r\n            this.listenTo(this.headerView, 'onColumnSort', this.onColumnSort, this);\r\n            this.listenTo(this.headerView, 'update:width', this.__setColumnWidth);\r\n        }\r\n\r\n        if (options.noColumnsView) {\r\n            this.noColumnsView = options.noColumnsView;\r\n        } else {\r\n            this.noColumnsView = NoColumnsDefaultView;\r\n        }\r\n        options.noColumnsViewOptions && (this.noColumnsViewOptions = options.noColumnsViewOptions); // jshint ignore:line\r\n\r\n        if (!options.draggable) {\r\n            this.forbidSelection = typeof options.forbidSelection === 'boolean' ? options.forbidSelection : true;\r\n        }\r\n        const childView = options.childView || RowView;\r\n\r\n        const showRowIndex = this.getOption('showRowIndex');\r\n\r\n        const childViewOptions = Object.assign(options.childViewOptions || {}, {\r\n            columns: options.columns,\r\n            gridEventAggregator: this,\r\n            columnClasses: this.columnClasses,\r\n            isTree: this.options.isTree\r\n        });\r\n\r\n        this.isEditable = _.isBoolean(options.editable) ? options.editable : options.columns.some(column => column.editable);\r\n        if (this.isEditable) {\r\n            this.editableCellsIndexes = [];\r\n            this.options.columns.forEach((column, index) => {\r\n                if (column.editable) {\r\n                    this.editableCellsIndexes.push(index);\r\n                }\r\n            });\r\n            this.listenTo(this.collection, 'move:left', () => this.__onCursorMove(-1));\r\n            this.listenTo(this.collection, 'move:right', () => this.__onCursorMove(+1));\r\n            this.listenTo(this.collection, 'select:some select:one', () => this.__onCursorMove(0));\r\n        }\r\n\r\n        this.listView = new ListView({\r\n            collection: this.collection,\r\n            gridEventAggregator: this,\r\n            childView,\r\n            childViewSelector: options.childViewSelector,\r\n            emptyView: options.emptyView,\r\n            emptyViewOptions: options.emptyViewOptions,\r\n            noColumnsView: options.noColumnsView,\r\n            noColumnsViewOptions: options.noColumnsViewOptions,\r\n            childHeight: options.childHeight,\r\n            childViewOptions,\r\n            loadingChildView: options.loadingChildView || LoadingChildView,\r\n            maxRows: options.maxRows,\r\n            height: options.height,\r\n            forbidSelection: this.forbidSelection,\r\n            isTree: this.options.isTree,\r\n            isEditable: this.isEditable,\r\n            showRowIndex\r\n        });\r\n\r\n        if (this.options.showCheckbox) {\r\n            const draggable = this.getOption('draggable');\r\n            this.selectionPanelView = new SelectionPanelView({\r\n                collection: this.listView.collection,\r\n                gridEventAggregator: this,\r\n                showRowIndex: this.options.showRowIndex,\r\n                childViewOptions: {\r\n                    draggable,\r\n                    showRowIndex,\r\n                    bindSelection: this.getOption('bindSelection')\r\n                }\r\n            });\r\n\r\n            this.selectionHeaderView = new SelectionCellView({\r\n                collection: this.collection,\r\n                selectionType: 'all',\r\n                gridEventAggregator: this,\r\n                showRowIndex\r\n            });\r\n\r\n            if (draggable) {\r\n                this.listenTo(this.selectionPanelView, 'childview:drag:drop', (...args) => this.trigger('drag:drop', ...args));\r\n                this.listenTo(this.selectionHeaderView, 'drag:drop', (...args) => this.trigger('drag:drop', ...args));\r\n            }\r\n        }\r\n\r\n        this.listenTo(this.listView, 'all', (eventName, eventArguments) => {\r\n            //TODO WFT\r\n            if (eventName.startsWith('childview')) {\r\n                this.trigger.apply(this, [eventName].concat(eventArguments));\r\n            }\r\n        });\r\n\r\n        //if (this.collection.length) {\r\n        //this.__presortCollection(options.columns); TODO WFT\r\n        //}\r\n        this.collection = options.collection;\r\n\r\n        if (options.showToolbar) {\r\n            this.toolbarView = new ToolbarView({\r\n                allItemsCollection: options.actions || new Backbone.Collection() //TODO WFT\r\n            });\r\n            this.listenTo(this.toolbarView, 'command:execute', this.__executeAction);\r\n        }\r\n        if (options.showSearch) {\r\n            this.searchView = new SearchBarView();\r\n            this.listenTo(this.searchView, 'search', this.__onSearch);\r\n        }\r\n    },\r\n\r\n    __onCursorMove(delta) {\r\n        const currentSelectedIndex = this.editableCellsIndexes.indexOf(this.pointedCell);\r\n        const newPosition = Math.min(this.editableCellsIndexes.length - 1, Math.max(0, currentSelectedIndex + delta));\r\n\r\n        this.pointedCell = this.editableCellsIndexes[newPosition];\r\n        const pointed = this.collection.find(model => model.cid === this.collection.cursorCid);\r\n        if (pointed) {\r\n            pointed.trigger('select:pointed', this.pointedCell);\r\n        }\r\n    },\r\n\r\n    onColumnSort(column, comparator) {\r\n        this.collection.comparator = comparator;\r\n        this.collection.sort();\r\n    },\r\n\r\n    regions: {\r\n        headerRegion: '.js-grid-header-view',\r\n        contentRegion: '.js-grid-content-view',\r\n        selectionPanelRegion: '.js-grid-selection-panel-view',\r\n        selectionHeaderRegion: '.js-grid-selection-header-view',\r\n        noColumnsViewRegion: '.js-nocolumns-view-region',\r\n        toolbarRegion: '.js-grid-tools-toolbar-region',\r\n        searchRegion: '.js-grid-tools-search-region',\r\n        loadingRegion: '.js-loading-region'\r\n    },\r\n\r\n    ui: {\r\n        title: '.js-grid-title',\r\n        tools: '.js-grid-tools',\r\n        header: '.js-grid-header',\r\n        content: '.js-grid-content'\r\n    },\r\n\r\n    events: {\r\n        dragleave: '__handleDragLeave'\r\n    },\r\n\r\n    className() {\r\n        return `${this.options.class || ''} fr-collection`;\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    behaviors: {\r\n        LoadingBehavior: {\r\n            behaviorClass: LoadingBehavior,\r\n            region: 'loadingRegion'\r\n        }\r\n    },\r\n\r\n    onRender() {\r\n        if (this.options.columns.length === 0) {\r\n            const noColumnsView = new this.noColumnsView(this.noColumnsViewOptions);\r\n            this.noColumnsViewRegion.show(noColumnsView);\r\n        }\r\n\r\n        this.showChildView('contentRegion', this.listView);\r\n\r\n        if (this.options.showHeader) {\r\n            this.showChildView('headerRegion', this.headerView);\r\n        } else {\r\n            this.el.classList.add('grid__headless');\r\n        }\r\n\r\n        if (this.options.showCheckbox) {\r\n            if (this.options.showHeader) {\r\n                this.showChildView('selectionHeaderRegion', this.selectionHeaderView);\r\n            }\r\n            this.showChildView('selectionPanelRegion', this.selectionPanelView);\r\n            if (this.getOption('showRowIndex')) {\r\n                this.getRegion('selectionHeaderRegion').el.classList.add('cell_selection-index');\r\n            }\r\n        }\r\n\r\n        if (this.options.showToolbar) {\r\n            this.showChildView('toolbarRegion', this.toolbarView);\r\n        }\r\n        if (this.options.showSearch) {\r\n            this.showChildView('searchRegion', this.searchView);\r\n        }\r\n        if (!(this.options.showToolbar || this.options.showSearch)) {\r\n            this.ui.tools.style.display = 'none';\r\n        }\r\n\r\n        if (this.getOption('title')) {\r\n            this.ui.title.innerHTML = this.getOption('title') || '';\r\n        } else if (this.ui.title) {\r\n            this.ui.title.style.display = 'none';\r\n        }\r\n        this.updatePosition = this.listView.updatePosition.bind(this.listView.collectionView);\r\n    },\r\n\r\n    onAttach() {\r\n        if (this.forbidSelection) {\r\n            htmlHelpers.forbidSelection(this.el);\r\n        }\r\n        this.options.columns.forEach((column, i) => {\r\n            this.__setColumnWidth(i, column.width);\r\n        });\r\n        document.body && document.body.appendChild(this.styleSheet); //TODO better method for width\r\n        this.__bindListRegionScroll();\r\n        if (this.options.showSearch) {\r\n            this.searchView.focus();\r\n        }\r\n        //this.ui.content.css('maxHeight', window.innerHeight); //TODO BUG\r\n    },\r\n\r\n    __executeAction(model) {\r\n        this.trigger('execute:action', model);\r\n    },\r\n\r\n    __onSearch(text) {\r\n        this.trigger('search', text);\r\n        if (this.options.isTree) {\r\n            this.trigger('toggle:collapse:all', !text && !this.options.expandOnShow);\r\n        }\r\n    },\r\n\r\n    __bindListRegionScroll() {\r\n        const headerRegionEl = this.options.showHeader && this.getRegion('headerRegion').el;\r\n        const selectionPanelRegionEl = this.options.showCheckbox && this.getRegion('selectionPanelRegion').el;\r\n\r\n        this.getRegion('contentRegion').el.addEventListener('scroll', event => {\r\n            if (headerRegionEl) {\r\n                headerRegionEl.scrollLeft = event.currentTarget.scrollLeft;\r\n            }\r\n            if (selectionPanelRegionEl) {\r\n                selectionPanelRegionEl.scrollTop = event.currentTarget.scrollTop;\r\n            }\r\n        });\r\n    },\r\n\r\n    onDestroy() {\r\n        this.styleSheet && document.body && document.body.removeChild(this.styleSheet);\r\n    },\r\n\r\n    sortBy(columnIndex, sorting) {\r\n        const column = this.options.columns[columnIndex];\r\n        if (sorting) {\r\n            this.options.columns.forEach(c => (c.sorting = null));\r\n            column.sorting = sorting;\r\n\r\n            switch (sorting) {\r\n                case 'asc':\r\n                    this.collection.comparator = column.sortAsc;\r\n                    break;\r\n                case 'desc':\r\n                    this.collection.comparator = column.sortDesc;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        } else {\r\n            sorting = column.sorting;\r\n            this.options.columns.forEach(c => (c.sorting = null));\r\n\r\n            switch (sorting) {\r\n                case 'asc':\r\n                    column.sorting = 'desc';\r\n                    this.collection.comparator = column.sortDesc;\r\n                    break;\r\n                case 'desc':\r\n                    column.sorting = 'asc';\r\n                    this.collection.comparator = column.sortAsc;\r\n                    break;\r\n                default:\r\n                    column.sorting = 'asc';\r\n                    this.collection.comparator = column.sortAsc;\r\n                    break;\r\n            }\r\n        }\r\n        this.onColumnSort(column, this.collection.comparator);\r\n        if (this.options.showHeader) {\r\n            this.headerView.updateSorting();\r\n        }\r\n    },\r\n\r\n    handleResize() {\r\n        if (this.options.showHeader) {\r\n            this.headerView.handleResize();\r\n        }\r\n    },\r\n\r\n    setLoading(state) {\r\n        if (!this.isDestroyed()) {\r\n            this.loading.setLoading(state);\r\n        }\r\n    },\r\n\r\n    __handleDragLeave(e) {\r\n        if (!this.el.contains(e.relatedTarget)) {\r\n            if (this.collection.dragoverModel) {\r\n                this.collection.dragoverModel.trigger('dragleave');\r\n            } else {\r\n                this.collection.trigger('dragleave:head');\r\n            }\r\n            this.collection.dragoverModel = null;\r\n        }\r\n    },\r\n\r\n    __setColumnWidth(index, width = 0) {\r\n        const style = this.styleSheet;\r\n        const columnClass = this.columnClasses[index];\r\n        const regexp = new RegExp(`.${columnClass} { flex: [0,1] 0 [+, -]?\\\\S+\\\\.?\\\\S*; } `);\r\n        let basis;\r\n        let widthCell = '';\r\n        if (width > 0) {\r\n            if (width < 1) {\r\n                basis = `${width * 100}%`;\r\n                widthCell = `max-width: ${width * 100}%`;\r\n            } else {\r\n                basis = `${width}px`;\r\n                widthCell = `max-width: ${width}px`;\r\n            }\r\n        } else {\r\n            basis = '0%';\r\n        }\r\n\r\n        const grow = width > 0 ? 0 : 1;\r\n        const newValue = `.${columnClass} { flex: ${grow} 0 ${basis}; } `;\r\n\r\n        if (MobileService.isIE) {\r\n            if (widthCell) {\r\n                const regexpCells = new RegExp(`.cell.${columnClass} { max-width: [0-9]*\\\\.?[0-9]*[%,px;]* } `);\r\n                const newCellValue = `.cell.${columnClass} { ${widthCell}; } `;\r\n                if (regexpCells.test(style.innerHTML)) {\r\n                    style.innerHTML = style.innerHTML.replace(regexpCells, newCellValue);\r\n                } else {\r\n                    style.innerHTML += newCellValue;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (regexp.test(style.innerHTML)) {\r\n            style.innerHTML = style.innerHTML.replace(regexp, newValue);\r\n        } else {\r\n            style.innerHTML += newValue;\r\n        }\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/loadingRow.hbs';\r\n\r\n/**\r\n * Some description for initializer\r\n * @name LoadingRowView\r\n * @memberof module:core.list.views\r\n * @class LoadingRowView\r\n * @extends Marionette.View\r\n * @constructor\r\n * @description View  loader   \r\n * */\r\nexport default Marionette.View.extend({\r\n    className: 'dev-loading-row',\r\n\r\n    template: Handlebars.compile(template)\r\n});\r\n","//@flow\r\nimport template from '../templates/noColumns.hbs';\r\n\r\n/**\r\n * Some description for initializer\r\n * @name NoColumnsView\r\n * @memberof module:core.list.views\r\n * @class NoColumnsView\r\n * @extends Marionette.View\r\n * @constructor\r\n * @description View        \r\n * */\r\nexport default Marionette.View.extend({\r\n    className: 'dev-no-columns-view',\r\n    template: Handlebars.compile(template)\r\n});\r\n","//@flow\r\nimport CellViewFactory from '../CellViewFactory';\r\n\r\nconst classes = {\r\n    selected: 'selected',\r\n    expanded: 'collapsible-btn_expanded',\r\n    collapsible: 'js-collapsible-button',\r\n    dragover: 'dragover',\r\n    hover: 'hover',\r\n    cellFocused: 'cell-focused',\r\n    cellEditable: 'cell_editable'\r\n};\r\n\r\nconst defaultOptions = {\r\n    levelMargin: 10,\r\n    collapsibleButtonWidth: 20\r\n};\r\n\r\n/**\r\n * Some description for initializer\r\n * @name RowView\r\n * @memberof module:core.list.views\r\n * @class RowView\r\n * @extends Marionette.View\r\n * @constructor\r\n * @description View       \r\n * @param {Object} options Constructor options\r\n * @param {Array} options.columns  \r\n * @param {Object} options.gridEventAggregator ?\r\n * @param {Number} [options.paddingLeft=20]  \r\n * @param {Number} [options.paddingRight=10]  \r\n * */\r\nexport default Marionette.View.extend({\r\n    className: 'row',\r\n\r\n    ui: {\r\n        cells: '.js-grid-cell',\r\n        collapsibleButton: '.js-collapsible-button'\r\n    },\r\n\r\n    events: {\r\n        click: '__handleClick',\r\n        dblclick: '__handleDblClick',\r\n        'click @ui.collapsibleButton': '__toggleCollapse',\r\n        dragover: '__handleDragOver',\r\n        dragenter: '__handleDragEnter',\r\n        dragleave: '__handleDragLeave',\r\n        drop: '__handleDrop',\r\n        mouseenter: '__handleMouseEnter',\r\n        mouseleave: '__handleMouseLeave',\r\n        contextmenu: '__handleContextMenu'\r\n    },\r\n\r\n    modelEvents: {\r\n        click: '__handleModelClick',\r\n        dblclick: '__handleModelDblClick',\r\n        selected: '__handleSelection',\r\n        deselected: '__handleDeselection',\r\n        'select:pointed': '__selectPointed',\r\n        highlighted: '__handleHighlight',\r\n        unhighlighted: '__handleUnhighlight',\r\n        change: '__handleChange',\r\n        dragover: '__handleModelDragOver',\r\n        dragleave: '__handleModelDragLeave',\r\n        drop: '__handleModelDrop',\r\n        mouseenter: '__handleModelMouseEnter',\r\n        mouseleave: '__handleModelMouseLeave',\r\n        'toggle:collapse': 'updateCollapsed'\r\n    },\r\n\r\n    initialize() {\r\n        _.defaults(this.options, defaultOptions);\r\n        this.gridEventAggregator = this.options.gridEventAggregator;\r\n        this.columnClasses = this.options.columnClasses;\r\n\r\n        // TODO: think about implementation in tree or grouped grids\r\n        // this.listenTo(this.model, 'checked', this.__onModelChecked);\r\n        // this.listenTo(this.model, 'unchecked', this.__onModelUnchecked);\r\n    },\r\n\r\n    getValue(id) {\r\n        this.model.get(id);\r\n    },\r\n\r\n    onRender() {\r\n        const model = this.model;\r\n        if (model.selected) {\r\n            this.__handleSelection();\r\n            if (this.gridEventAggregator.isEditable && this.gridEventAggregator.pointedCell !== undefined) {\r\n                this.__selectPointed(this.gridEventAggregator.pointedCell);\r\n            }\r\n        }\r\n        if (model.highlighted) {\r\n            this.__handleHighlight(model.highlightedFragment);\r\n        }\r\n    },\r\n\r\n    onDestroy() {\r\n        if (this.cellViews) {\r\n            this.cellViews.forEach(x => x.destroy());\r\n        }\r\n    },\r\n\r\n    updateCollapsed(model) {\r\n        const collaspibleButtons = this.el.getElementsByClassName(classes.collapsible);\r\n        if (!model.collapsed) {\r\n            if (collaspibleButtons.length) {\r\n                collaspibleButtons[0].classList.add(classes.expanded);\r\n            }\r\n        } else if (collaspibleButtons.length) {\r\n            collaspibleButtons[0].classList.remove(classes.expanded);\r\n        }\r\n    },\r\n\r\n    _renderTemplate() {\r\n        if (this.cellViews) {\r\n            this.cellViews.forEach(view => view.destroy());\r\n        }\r\n        this.cellViews = [];\r\n\r\n        this.options.columns.forEach(gridColumn => {\r\n            const cell = gridColumn.cellView || CellViewFactory.getCellViewForColumn(gridColumn, this.model); // move to factory\r\n\r\n            if (typeof cell === 'string') {\r\n                return this.el.insertAdjacentHTML('beforeend', cell);\r\n            }\r\n            let cellClasses = '';\r\n            if (gridColumn.editable) cellClasses += classes.cellEditable;\r\n\r\n            const cellView = new cell({\r\n                className: `cell ${gridColumn.columnClass} ${cellClasses}`,\r\n                schema: gridColumn,\r\n                model: this.model,\r\n                key: gridColumn.key\r\n            });\r\n            cellView.render();\r\n            this.el.insertAdjacentElement('beforeend', cellView.el);\r\n            cellView.triggerMethod('attach');\r\n\r\n            this.cellViews.push(cellView);\r\n        });\r\n        if (this.getOption('isTree')) {\r\n            this.insertFirstCellHtml();\r\n        }\r\n    },\r\n\r\n    __handleChange() {\r\n        const changed = this.model.changedAttributes();\r\n        if (changed) {\r\n            this.getOption('columns').forEach((column, index) => {\r\n                if (Object.prototype.hasOwnProperty.call(changed, column.key) && !column.cellView && !column.editable) {\r\n                    const elements = this.el.getElementsByClassName(this.columnClasses[index]);\r\n                    if (elements.length) {\r\n                        elements[0].innerHTML = CellViewFactory.getCellHtml(column, this.model);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    __handleClick(event) {\r\n        this.model.trigger('click', event);\r\n    },\r\n\r\n    __handleDblClick(event) {\r\n        this.model.trigger('dblclick', event);\r\n    },\r\n\r\n    __handleDragOver(event) {\r\n        event.preventDefault();\r\n    },\r\n\r\n    __handleDragEnter(event) {\r\n        if (!this.model.collection.draggingModel) {\r\n            return;\r\n        }\r\n        this.model.collection.dragoverModel = this.model;\r\n        if (this.model.collection.draggingModel !== this.model && !this.__findInParents(this.model.collection.draggingModel, this.model)) {\r\n            this.model.trigger('dragover', event);\r\n        }\r\n    },\r\n\r\n    __findInParents(draggingModel, model) {\r\n        if (model === draggingModel) {\r\n            return true;\r\n        }\r\n        if (model.parentModel) {\r\n            return this.__findInParents(draggingModel, model.parentModel);\r\n        }\r\n        return false;\r\n    },\r\n\r\n    __handleModelDragOver() {\r\n        this.el.classList.add(classes.dragover);\r\n    },\r\n\r\n    __handleDragLeave(event) {\r\n        if (!this.el.contains(event.relatedTarget) && this.model.collection.dragoverModel !== this.model) {\r\n            this.model.trigger('dragleave', event);\r\n            delete this.model.dragover;\r\n        }\r\n    },\r\n\r\n    __handleModelDragLeave() {\r\n        this.el.classList.remove(classes.dragover);\r\n    },\r\n\r\n    __handleDrop(event) {\r\n        this.model.trigger('drop', event);\r\n    },\r\n\r\n    __handleModelDrop() {\r\n        this.el.classList.remove(classes.dragover);\r\n    },\r\n\r\n    __handleContextMenu(event) {\r\n        this.model.trigger('contextmenu', event);\r\n    },\r\n\r\n    __handleHighlight(fragment) {\r\n        this.cellViews.forEach(cellView => {\r\n            cellView.model.set('highlightedFragment', fragment);\r\n        });\r\n    },\r\n\r\n    __handleUnhighlight() {\r\n        this.cellViews.forEach(cellView => {\r\n            cellView.model.set('highlightedFragment', null);\r\n        });\r\n    },\r\n\r\n    insertFirstCellHtml() {\r\n        if (this.isRendered()) {\r\n            const elements = this.el.getElementsByClassName(this.columnClasses[0]);\r\n            if (elements.length) {\r\n                const el = elements[0];\r\n                const level = this.model.level || 0;\r\n                const margin = level * this.options.levelMargin;\r\n                const hasChildren = this.model.children && this.model.children.length;\r\n                const treeFirstCell = el.getElementsByClassName('js-tree-first-cell')[0];\r\n                if (this.lastHasChildren === hasChildren && this.lastMargin === margin) {\r\n                    return;\r\n                }\r\n\r\n                if (treeFirstCell) {\r\n                    el.removeChild(treeFirstCell);\r\n                }\r\n                if (hasChildren) {\r\n                    el.insertAdjacentHTML(\r\n                        'afterbegin',\r\n                        `<span class=\"js-tree-first-cell collapsible-btn ${classes.collapsible} ${\r\n                            this.model.collapsed === false ? classes.expanded : ''\r\n                        }\" style=\"margin-left:${margin}px;\"></span>&nbsp;`\r\n                    );\r\n                } else {\r\n                    el.insertAdjacentHTML('afterbegin', `<span class=\"js-tree-first-cell\" style=\"margin-left:${margin + defaultOptions.collapsibleButtonWidth}px;\"></span>`);\r\n                }\r\n                this.lastHasChildren = hasChildren;\r\n                this.lastMargin = margin;\r\n            }\r\n        }\r\n    },\r\n\r\n    __handleModelClick(e) {\r\n        const model = this.model;\r\n\r\n        if (model.selected) {\r\n            model.deselect();\r\n            this.trigger('click', this.model);\r\n            return;\r\n        }\r\n\r\n        const selectFn = model.collection.selectSmart || model.collection.select;\r\n        if (selectFn) {\r\n            if (this.gridEventAggregator.isEditable) {\r\n                const cellIndex = this.__getFocusedCellIndex(e);\r\n                if (cellIndex > -1) {\r\n                    this.gridEventAggregator.pointedCell = cellIndex;\r\n                    this.__selectPointed(cellIndex);\r\n                }\r\n            }\r\n            selectFn.call(model.collection, model, e.ctrlKey, e.shiftKey);\r\n        }\r\n        this.trigger('click', this.model);\r\n    },\r\n\r\n    __handleModelDblClick() {\r\n        this.trigger('dblclick', this.model);\r\n    },\r\n\r\n    __handleSelection() {\r\n        this.el.classList.add(classes.selected);\r\n    },\r\n\r\n    __handleDeselection() {\r\n        this.el.classList.remove(classes.selected);\r\n        if (this.lastPointedEl) {\r\n            this.lastPointedEl.classList.remove(classes.cellFocused);\r\n        }\r\n    },\r\n\r\n    __toggleCollapse() {\r\n        this.updateCollapsed(this.model);\r\n        if (this.model.collapsed === undefined ? false : !this.model.collapsed) {\r\n            this.model.collapse();\r\n        } else {\r\n            this.model.expand();\r\n        }\r\n        this.trigger('toggle:collapse', this.model);\r\n        return false;\r\n    },\r\n\r\n    __onModelChecked() {\r\n        this.internalCheck = true;\r\n        if (this.model.children && this.model.children.length) {\r\n            this.model.children.forEach(model => {\r\n                model.check();\r\n            });\r\n        }\r\n        this.internalCheck = false;\r\n        this.__updateParentChecked();\r\n    },\r\n\r\n    __onModelUnchecked() {\r\n        this.internalCheck = true;\r\n        if (this.model.children && this.model.children.length) {\r\n            this.model.children.forEach(model => {\r\n                model.uncheck();\r\n            });\r\n        }\r\n        this.internalCheck = false;\r\n        this.__updateParentChecked();\r\n    },\r\n\r\n    __updateParentChecked() {\r\n        if (this.internalCheck) {\r\n            return;\r\n        }\r\n        const parentModel = this.model.parentModel;\r\n        if (parentModel) {\r\n            let checkedChildren = 0;\r\n            parentModel.children.forEach(child => {\r\n                if (child.checked) {\r\n                    checkedChildren++;\r\n                }\r\n            });\r\n            if (checkedChildren === 0) {\r\n                parentModel.uncheck();\r\n            } else if (parentModel.children.length === checkedChildren) {\r\n                parentModel.check();\r\n            } else {\r\n                parentModel.checkSome();\r\n            }\r\n        }\r\n    },\r\n\r\n    __selectPointed(pointed) {\r\n        if (this.lastPointedEl) {\r\n            this.lastPointedEl.classList.remove(classes.cellFocused);\r\n        }\r\n        const pointedEls = this.el.getElementsByClassName(this.columnClasses[pointed]);\r\n        if (pointedEls && pointedEls.length) {\r\n            const pointedEl = pointedEls[0];\r\n            pointedEl.classList.add(classes.cellFocused);\r\n            const editor = pointedEl.querySelector('input') || pointedEl.querySelector('[class~=editor]');\r\n            if (editor && !pointedEl.contains(document.activeElement)) {\r\n                editor.focus();\r\n            }\r\n            this.lastPointedEl = pointedEl;\r\n        }\r\n    },\r\n\r\n    __getFocusedCellIndex(e) {\r\n        let current = e.target;\r\n        let result = -1;\r\n        let parent = current.parentElement;\r\n        while (current && parent && parent !== this.el) {\r\n            const index = this.columnClasses.findIndex(className => parent.className.includes(className));\r\n            if (index > -1 && this.getOption('columns')[index].editable) {\r\n                result = index;\r\n            }\r\n            current = parent;\r\n            parent = current.parentElement;\r\n        }\r\n        return result;\r\n    },\r\n\r\n    __handleMouseEnter() {\r\n        this.model.trigger('mouseenter');\r\n    },\r\n\r\n    __handleModelMouseEnter() {\r\n        this.el.classList.add(classes.hover);\r\n    },\r\n\r\n    __handleMouseLeave() {\r\n        this.model.trigger('mouseleave');\r\n    },\r\n\r\n    __handleModelMouseLeave() {\r\n        this.el.classList.remove(classes.hover);\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/selectionCell.hbs';\r\n\r\nconst selectionTypes = {\r\n    all: 'all',\r\n    single: 'single'\r\n};\r\n\r\nconst classes = {\r\n    checked: 'editor_checked',\r\n    checked_some: 'editor_checked_some',\r\n    selected: 'selected',\r\n    dragover: 'dragover',\r\n    hover: 'hover'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        if (options.selectionType === selectionTypes.all) {\r\n            this.collection = options.collection;\r\n            this.selectAllCell = true;\r\n        } else {\r\n            this.collection = options.model.collection;\r\n            this.model.currentIndex = this.model.collection.indexOf(this.model) + 1;\r\n        }\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    templateContext() {\r\n        let index = '';\r\n        if (this.getOption('showRowIndex') && this.model) {\r\n            index = this.model.collection.indexOf(this.model) + 1;\r\n        }\r\n        return {\r\n            draggable: this.getOption('draggable'),\r\n            index\r\n        };\r\n    },\r\n\r\n    className: 'cell cell_selection',\r\n\r\n    ui: {\r\n        checkbox: '.js-checkbox',\r\n        dots: '.js-dots',\r\n        index: '.js-index'\r\n    },\r\n\r\n    events: {\r\n        'click @ui.checkbox': '__handleCheckboxClick',\r\n        'dragstart @ui.dots': '__handleDragStart',\r\n        'dragend @ui.dots': '__handleDragEnd',\r\n        click: '__handleClick',\r\n        dblclick: '__handleDblClick',\r\n        dragover: '__handleDragOver',\r\n        dragenter: '__handleDragEnter',\r\n        dragleave: '__handleDragLeave',\r\n        drop: '__handleDrop',\r\n        mouseenter: '__handleMouseEnter',\r\n        mouseleave: '__handleMouseLeave',\r\n        contextmenu: '__handleContextMenu'\r\n    },\r\n\r\n    modelEvents: {\r\n        'update:model': '__updateIndex',\r\n        selected: '__handleSelection',\r\n        deselected: '__handleDeselection',\r\n        dragover: '__handleModelDragOver',\r\n        dragleave: '__handleModelDragLeave',\r\n        drop: '__handleModelDrop',\r\n        mouseenter: '__handleModelMouseEnter',\r\n        mouseleave: '__handleModelMouseLeave'\r\n    },\r\n\r\n    onRender() {\r\n        this.__updateState();\r\n        // todo: release it by stylesheet?\r\n        if (this.options.showRowIndex) {\r\n            this.el.classList.add('cell_selection-index');\r\n        }\r\n        if (this.getOption('selectionType') === selectionTypes.all) {\r\n            this.listenTo(this.collection, 'check:all check:none check:some', this.__updateState);\r\n            this.listenTo(this.collection, 'dragover:head', this.__handleModelDragOver);\r\n            this.listenTo(this.collection, 'dragleave:head', this.__handleModelDragLeave);\r\n            this.listenTo(this.collection, 'drop:head', this.__handleModelDrop);\r\n        } else {\r\n            this.listenTo(this.model, 'checked unchecked checked:some', this.__updateState);\r\n        }\r\n    },\r\n\r\n    __handleClick(event) {\r\n        if (!this.selectAllCell) {\r\n            this.model.trigger('click', event);\r\n        }\r\n    },\r\n\r\n    __handleDblClick(event) {\r\n        if (!this.selectAllCell) {\r\n            this.model.trigger('dblclick', event);\r\n        }\r\n    },\r\n\r\n    __handleCheckboxClick() {\r\n        if (this.selectAllCell) {\r\n            this.collection.toggleCheckAll();\r\n        } else {\r\n            this.model.toggleChecked();\r\n            if (this.getOption('bindSelection')) {\r\n                this.model.collection.updateTreeNodesCheck(this.model);\r\n            }\r\n        }\r\n    },\r\n\r\n    __handleDragStart() {\r\n        this.collection.draggingModel = this.model;\r\n    },\r\n\r\n    __handleDragEnd() {\r\n        delete this.collection.draggingModel;\r\n        delete this.collection.dragoverModel;\r\n    },\r\n\r\n    __handleDragOver(event) {\r\n        event.preventDefault();\r\n    },\r\n\r\n    __handleDragEnter(event) {\r\n        if (!this.collection.draggingModel) {\r\n            return;\r\n        }\r\n        this.collection.dragoverModel = this.model;\r\n        if (this.collection.draggingModel !== this.model && !this.__findInParents(this.collection.draggingModel, this.model)) {\r\n            if (this.selectAllCell) {\r\n                this.collection.trigger('dragover:head', event);\r\n            } else {\r\n                this.model.trigger('dragover', event);\r\n            }\r\n        }\r\n    },\r\n\r\n    __findInParents(draggingModel, model) {\r\n        if (model === draggingModel) {\r\n            return true;\r\n        }\r\n        if (model && model.parentModel) {\r\n            return this.__findInParents(draggingModel, model.parentModel);\r\n        }\r\n        return false;\r\n    },\r\n\r\n    __handleModelDragOver() {\r\n        this.el.classList.add(classes.dragover);\r\n    },\r\n\r\n    __handleDragLeave(event) {\r\n        if (!this.el.contains(event.relatedTarget) && this.collection.dragoverModel !== this.model) {\r\n            if (this.selectAllCell) {\r\n                this.collection.trigger('dragleave:head', event);\r\n            } else {\r\n                this.model.trigger('dragleave', event);\r\n                delete this.model.dragover;\r\n            }\r\n        }\r\n    },\r\n\r\n    __handleModelDragLeave() {\r\n        this.el.classList.remove(classes.dragover);\r\n    },\r\n\r\n    __handleDrop(event) {\r\n        if (this.selectAllCell) {\r\n            this.collection.trigger('drop:head', event);\r\n        } else {\r\n            this.model.trigger('drop', event);\r\n        }\r\n    },\r\n\r\n    __handleModelDrop() {\r\n        this.el.classList.remove(classes.dragover);\r\n        if (this.collection.draggingModel) {\r\n            this.trigger('drag:drop', this.collection.draggingModel, this.model);\r\n        }\r\n    },\r\n\r\n    __handleContextMenu(event) {\r\n        if (!this.selectAllCell) {\r\n            this.model.trigger('contextmenu', event);\r\n        }\r\n    },\r\n\r\n    __updateIndex(index) {\r\n        if (this.model && this.isRendered()) {\r\n            this.model.currentIndex = index;\r\n\r\n            this.ui.index.innerHTML = index;\r\n        }\r\n    },\r\n\r\n    __handleSelection() {\r\n        this.el.classList.add(classes.selected);\r\n    },\r\n\r\n    __handleDeselection() {\r\n        this.el.classList.remove(classes.selected);\r\n    },\r\n\r\n    __updateState(model, stateCollection) {\r\n        if (this.selectAllCell) {\r\n            if (stateCollection === 'none') {\r\n                this.ui.checkbox.classList.remove(classes.checked);\r\n                this.ui.checkbox.classList.remove(classes.checked_some);\r\n            }\r\n            if (stateCollection === 'all') {\r\n                this.ui.checkbox.classList.add(classes.checked);\r\n                this.ui.checkbox.classList.remove(classes.checked_some);\r\n            }\r\n            if (stateCollection === 'some') {\r\n                this.ui.checkbox.classList.remove(classes.checked);\r\n                this.ui.checkbox.classList.add(classes.checked_some);\r\n            }\r\n        } else if (this.model.checked) {\r\n            this.ui.checkbox.classList.add(classes.checked);\r\n        } else {\r\n            this.ui.checkbox.classList.remove(classes.checked);\r\n        }\r\n    },\r\n\r\n    __handleMouseEnter() {\r\n        if (this.model) {\r\n            this.model.trigger('mouseenter');\r\n        }\r\n    },\r\n\r\n    __handleModelMouseEnter() {\r\n        this.el.classList.add(classes.hover);\r\n    },\r\n\r\n    __handleMouseLeave() {\r\n        if (this.model) {\r\n            this.model.trigger('mouseleave');\r\n        }\r\n    },\r\n\r\n    __handleModelMouseLeave() {\r\n        this.el.classList.remove(classes.hover);\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/selectionPanel.hbs';\r\n\r\nimport SelectionCellView from './SelectionCellView';\r\n\r\nexport default Marionette.CompositeView.extend({\r\n    initialize(options) {\r\n        this.gridEventAggregator = options.gridEventAggregator;\r\n        this.listenTo(this.gridEventAggregator, 'update:height', this.__updateHeight);\r\n        this.listenTo(this.gridEventAggregator, 'update:top', this.__updateTop);\r\n    },\r\n\r\n    className: 'grid-selection-panel',\r\n\r\n    childView: SelectionCellView,\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    childViewContainer: '.js-selection-panel-wrp',\r\n\r\n    ui: {\r\n        childViewContainer: '.js-selection-panel-wrp'\r\n    },\r\n\r\n    _showCollection() {\r\n        const models = this.collection.visibleModels;\r\n\r\n        models.forEach((child, index) => {\r\n            this._addChild(child, index);\r\n        });\r\n        this.children._updateLength();\r\n    },\r\n\r\n    // override default method to correct add when index === 0 in visible collection\r\n    _onCollectionAdd(child, collection, opts) {\r\n        // `index` is present when adding with `at` since BB 1.2; indexOf fallback for < 1.2\r\n        let index = opts.at !== undefined && (opts.index !== undefined ? opts.index : collection.indexOf(child));\r\n\r\n        if (this.filter || index === false) {\r\n            index = _.indexOf(this._filteredSortedModels(index), child);\r\n        }\r\n\r\n        if (this._shouldAddChild(child, index)) {\r\n            this._destroyEmptyView();\r\n            this._addChild(child, index);\r\n        }\r\n    },\r\n\r\n    onRender() {\r\n        // todo: find way to remove it\r\n        if (this.options.showRowIndex) {\r\n            this.el.classList.add('cell_selection-index');\r\n        }\r\n    },\r\n\r\n    __updateHeight(height) {\r\n        this.el.style.height = `${height}px`;\r\n    },\r\n\r\n    __updateTop(top) {\r\n        this.ui.childViewContainer[0].style.top = `${top}px`;\r\n    }\r\n});\r\n","import { helpers, htmlHelpers } from 'utils';\r\n\r\nconst eventBubblingIgnoreList = ['before:render',\r\n'render',\r\n'dom:refresh',\r\n'before:show',\r\n'show',\r\n'before:destroy',\r\n'destroy'];\r\n\r\nexport default Marionette.Behavior.extend({\r\n    initialize(options, view) {\r\n        helpers.ensureOption(view.options, 'columns');\r\n        helpers.ensureOption(view.options, 'gridEventAggregator');\r\n        helpers.ensureOption(options, 'padding');\r\n\r\n        this.padding = options.padding;\r\n        this.columns = view.options.columns;\r\n    },\r\n\r\n    modelEvents: {\r\n        selected: '__handleSelection',\r\n        deselected: '__handleDeselection',\r\n        highlighted: '__handleHighlighting',\r\n        unhighlighted: '__handleUnhighlighting'\r\n    },\r\n\r\n    events: {\r\n        mousedown: '__handleClick'\r\n    },\r\n\r\n    ui: {\r\n        cells: '.js-grid-cell'\r\n    },\r\n\r\n    onRender() {\r\n        const model = this.view.model;\r\n        if (model.selected) {\r\n            this.__handleSelection();\r\n        }\r\n        if (model.highlighted) {\r\n            this.__highlight(model.highlightedFragment);\r\n        }\r\n        if (htmlHelpers.isElementInDom(this.el)) {\r\n            Marionette.triggerMethodOn(this.view, 'show');\r\n        }\r\n    },\r\n\r\n    __getAvailableWidth() {\r\n        return this.el.offsetWidth - this.padding - 1; //Magic cross browser pixel, don't remove it\r\n    },\r\n\r\n    __handleClick(e) {\r\n        const model = this.view.model;\r\n        const selectFn = model.collection.selectSmart || model.collection.select;\r\n        if (selectFn) {\r\n            selectFn.call(model.collection, model, e.ctrlKey, e.shiftKey);\r\n        }\r\n    },\r\n\r\n    __handleHighlighting(sender, e) {\r\n        this.__highlight(e.text);\r\n    },\r\n\r\n    __highlight(fragment) {\r\n        this.view.onHighlighted(fragment);\r\n    },\r\n\r\n    __handleUnhighlighting() {\r\n        this.view.onUnhighlighted();\r\n    },\r\n\r\n    __handleSelection() {\r\n        this.el.classList.add('selected');\r\n    },\r\n\r\n    __handleDeselection() {\r\n        this.el.classList.remove('selected');\r\n    }\r\n});\r\n","import { helpers } from 'utils';\r\n\r\n/*\r\n    This behavior adds to an item the expect list item behaviors: selectable and highlightable.\r\n    \r\n    The selectable behavior expects that the model implements SelectableBehavior and works as follows:\r\n    \r\n    1. The 'selected' class is set to $el when the model is selected.\r\n    2. The item becomes selected on $el `mousedown` event. NOTE: use stopPropagation() method in a child element's `mousedown` callback\r\n        to prevent item selection.\r\n    \r\n    The highlightable behavior expects that the model implements HighlightableBehavior and works as follows:\r\n    \r\n    1. Highlighting expect that view has onHighlighted(fragment) and onUnhighlighted() methods to render text highlighting.\r\n\r\n    IMPLEMENTATION NOTE: onHighlighted(text) and onUnhighlighted() methods are expected to modify element's DOM marking\r\n    highlighted text with <SPAN class='highlight'> tags. Please note the following:\r\n\r\n    1. The htmlHelpers.highlightText(text, fragment, escape = true) function was created for this purpose and recommended\r\n        to use for implementation. It also escapes the input text by default.\r\n    2. (!) Be sure that the text you set into html is escaped.\r\n*/\r\n\r\nconst eventBubblingIgnoreList = ['before:render',\r\n'render',\r\n'dom:refresh',\r\n'before:show',\r\n'show',\r\n'before:destroy',\r\n'destroy'];\r\n\r\nexport default Marionette.Behavior.extend({\r\n    initialize(options, view) {\r\n        this.__debounceClickHandle = _.debounce(this.__handleDebouncedClick, 300, true);\r\n    },\r\n\r\n    modelEvents: {\r\n        selected: '__handleSelection',\r\n        deselected: '__handleDeselection',\r\n        highlighted: '__handleHighlighting',\r\n        unhighlighted: '__handleUnhighlighting',\r\n        pointed: '__handlePointedOn',\r\n        unpointed: '__handlePointedOff'\r\n    },\r\n\r\n    events: {\r\n        click: '__handleClick'\r\n    },\r\n\r\n    onRender() {\r\n        const model = this.view.model;\r\n        if (model.selected) {\r\n            this.__handleSelection();\r\n        }\r\n        if (model.highlighted) {\r\n            this.__highlight(model.highlightedFragment);\r\n        }\r\n    },\r\n\r\n    __handleClick(e) {\r\n        this.__debounceClickHandle(e);\r\n    },\r\n\r\n    __handleHighlighting(sender, e) {\r\n        this.__highlight(e.text);\r\n    },\r\n\r\n    __highlight(fragment) {\r\n        this.view.onHighlighted(fragment);\r\n    },\r\n\r\n    __handleUnhighlighting() {\r\n        this.view.onUnhighlighted();\r\n    },\r\n\r\n    __handleSelection() {\r\n        this.getOption('selectOnCursor') !== false && this.el.classList.add('selected');\r\n    },\r\n\r\n    __handleDeselection() {\r\n        this.getOption('selectOnCursor') !== false && this.el.classList.remove('selected');\r\n    },\r\n\r\n    __handlePointedOn() {\r\n        this.el.classList.add('selected');\r\n    },\r\n\r\n    __handlePointedOff() {\r\n        this.el.classList.remove('selected');\r\n    },\r\n\r\n    __handleDebouncedClick(e) {\r\n        const model = this.view.model;\r\n        if (model.selected) {\r\n            model.deselect();\r\n            return;\r\n        }\r\n\r\n        const selectFn = this.getOption('multiSelect') ? model.collection.select : model.collection.selectSmart || model.collection.select;\r\n        if (selectFn) {\r\n            selectFn.call(model.collection, model, e.ctrlKey, e.shiftKey, this.getOption('selectOnCursor'));\r\n        }\r\n    }\r\n});\r\n","/*eslint-disable*/\r\n\r\n//can't use Backbone.Collection for checked because VirtualCollection change prototype\r\n\r\nconst CheckableBehavior = {};\r\n\r\nfunction __updateChecked() {\r\n    this.checked = {};\r\n    this.collection.each(model => {\r\n        if (model.checked) {\r\n            this.checked[model.cid] = model;\r\n        }\r\n    });\r\n    this.__triggerCheck();\r\n}\r\n\r\nCheckableBehavior.CheckableCollection = function (collection) {\r\n    this.collection = collection;\r\n    this.__updateChecked();\r\n    collection.on('add remove reset update', function() {\r\n        if (this.internalCheck) {\r\n            return;\r\n        }\r\n        this.__debounceUpdateChecked();\r\n    });\r\n};\r\n\r\n_.extend(CheckableBehavior.CheckableCollection.prototype, {\r\n\r\n    check(model) {\r\n        if (this.internalCheck || this.checked[model.cid]) { return; }\r\n\r\n        this.checked[model.cid] = model;\r\n        model.check();\r\n        this.__triggerCheck();\r\n    },\r\n\r\n    uncheck(model) {\r\n        if (this.internalCheck || !this.checked[model.cid]) { return; }\r\n\r\n        delete this.checked[model.cid];\r\n        model.uncheck();\r\n        this.__triggerCheck();\r\n    },\r\n\r\n    checkSome(model) {\r\n        if (!this.checked[model.cid]) { return; }\r\n\r\n        delete this.checked[model.cid];\r\n        model.checkSome();\r\n        this.__triggerCheck();\r\n    },\r\n\r\n    checkAll() {\r\n        this.internalCheck = true;\r\n        this.each(model => {\r\n            this.checked[model.cid] = model;\r\n            model.check();\r\n        });\r\n        this.internalCheck = false;\r\n        this.__triggerCheck();\r\n    },\r\n\r\n    uncheckAll() {\r\n        this.internalCheck = true;\r\n        this.each(model => {\r\n            delete this.checked[model.cid];\r\n            model.uncheck();\r\n        });\r\n        this.internalCheck = false;\r\n        this.__triggerCheck();\r\n    },\r\n\r\n    toggleCheckAll() {\r\n        const checkedLength = this.checked ? Object.keys(this.checked).length : 0;\r\n        if (checkedLength === this.length) {\r\n            this.uncheckAll();\r\n        } else {\r\n            this.checkAll();\r\n        }\r\n    },\r\n\r\n    updateTreeNodesCheck(model, updateParent = true) {\r\n        if (model.children && model.children.length) {\r\n            model.children.forEach(child => {\r\n                if (model.checked) {\r\n                    child.check();\r\n                } else {\r\n                    child.uncheck();\r\n                }\r\n                this.updateTreeNodesCheck(child, false);\r\n            })\r\n        }\r\n        if (!updateParent) {\r\n            return;\r\n        }\r\n        let parent = model.parentModel;\r\n        while (parent && parent.children) {\r\n            const length = parent.children.length;\r\n            const checkedLength = parent.children.filter(child => child.checked || child.checked === null).length;\r\n            if (checkedLength === length) {\r\n                parent.check()\r\n            } else if (checkedLength > 0 && checkedLength < length) {\r\n                parent.checkSome();\r\n            } else if (checkedLength === 0) {\r\n                parent.uncheck();\r\n            }\r\n            parent = parent.parentModel;\r\n        }\r\n    },\r\n\r\n    __debounceUpdateChecked: _.debounce(__updateChecked, 10),\r\n\r\n    __updateChecked,\r\n\r\n    __triggerCheck() {\r\n        const checkedLength = this.checked ? Object.keys(this.checked).length : 0;\r\n        const length = this.length;\r\n    \r\n        if (checkedLength === length) {\r\n            this.collection.trigger('check:all', this, 'all');\r\n            return;\r\n        }\r\n    \r\n        if (checkedLength === 0) {\r\n            this.collection.trigger('check:none', this, 'none');\r\n            return;\r\n        }\r\n    \r\n        if (checkedLength > 0 && checkedLength < length) {\r\n            this.collection.trigger('check:some', this, 'some');\r\n        }\r\n    }\r\n});\r\n\r\nCheckableBehavior.CheckableModel = function (model) {\r\n    this.model = model;\r\n};\r\n\r\n_.extend(CheckableBehavior.CheckableModel.prototype, {\r\n\r\n    check() {\r\n        if (this.checked) { return; }\r\n\r\n        this.checked = true;\r\n        this.trigger('checked', this);\r\n\r\n        if (this.collection) {\r\n            this.collection.check(this);\r\n        }\r\n    },\r\n\r\n    uncheck() {\r\n        if (this.checked === false) { return; }\r\n\r\n        this.checked = false;\r\n        this.trigger('unchecked', this);\r\n\r\n        if (this.collection) {\r\n            this.collection.uncheck(this);\r\n        }\r\n    },\r\n\r\n    checkSome() {\r\n        if (this.checked === null) { return; }\r\n\r\n        this.checked = null;\r\n        this.trigger('checked:some', this);\r\n        if (this.collection) {\r\n            this.collection.checkSome(this);\r\n        }\r\n    },\r\n\r\n    toggleChecked() {\r\n        if (this.checked) {\r\n            this.uncheck();\r\n        } else {\r\n            this.check();\r\n        }\r\n    }\r\n});\r\n\r\nexport default CheckableBehavior;\r\nexport const CheckableCollection = CheckableBehavior.CheckableCollection;\r\nexport const CheckableModel = CheckableBehavior.CheckableModel;\r\n","const CollapsibleBehavior = function() {};\r\n\r\n_.extend(CollapsibleBehavior.prototype, {\r\n    collapse(internal) {\r\n        if (this.collapsed) {\r\n            return;\r\n        }\r\n\r\n        this.collapsed = true;\r\n        this.trigger('collapsed', this);\r\n        this.trigger('toggle:collapse', this);\r\n\r\n        if (!internal && this.collection && this.collection.collapse) {\r\n            this.collection.collapse(this);\r\n        }\r\n    },\r\n\r\n    expand(internal) {\r\n        if (this.collapsed === false) {\r\n            return;\r\n        }\r\n\r\n        this.collapsed = false;\r\n        this.trigger('expanded', this);\r\n        this.trigger('toggle:collapse', this);\r\n        if (!internal && this.collection && this.collection.expand) {\r\n            this.collection.expand(this);\r\n        }\r\n    },\r\n\r\n    toggleCollapsed() {\r\n        if (this.collapsed) {\r\n            this.expand();\r\n        } else {\r\n            this.collapse();\r\n        }\r\n    }\r\n});\r\n\r\nexport default CollapsibleBehavior;\r\n","const HighlightableBehavior = function() {};\r\n\r\n_.extend(HighlightableBehavior.prototype, {\r\n    highlight(text) {\r\n        if (this.highlighted) {\r\n            return;\r\n        }\r\n\r\n        this.highlighted = true;\r\n        this.highlightedFragment = text;\r\n        this.set('highlightedFragment', text);\r\n        this.trigger('highlighted', this, {\r\n            text\r\n        });\r\n    },\r\n\r\n    unhighlight() {\r\n        if (!this.highlighted) {\r\n            return;\r\n        }\r\n\r\n        this.highlighted = false;\r\n        this.highlightedFragment = undefined;\r\n        this.trigger('unhighlighted', this);\r\n    }\r\n});\r\n\r\nexport default HighlightableBehavior;\r\n","/*eslint-disable*/\r\n\r\n/*\r\n* This is a modified version of Backbone.Picky with extended list of features related to multiselect collections\r\n*\r\n* */\r\n\r\nconst SelectableBehavior = {};\r\n\r\n// SelectableBehavior.SingleSelect\r\n// ------------------\r\n// A single-select mixin for Backbone.Collection, allowing a single\r\n// model to be selected within a collection. Selection of another\r\n// model within the collection causes the previous model to be\r\n// deselected.\r\n\r\nSelectableBehavior.SingleSelect = function(collection) {\r\n    this.collection = collection;\r\n};\r\n\r\n_.extend(SelectableBehavior.SingleSelect.prototype, {\r\n\r\n    // Select a model, deselecting any previously\r\n    // selected model\r\n    select(model) {\r\n        if (model && this.selected === model) { return; }\r\n\r\n        this.deselect();\r\n\r\n        this.selected = model;\r\n        this.selected.select();\r\n        this.lastSelectedModel = model.cid;\r\n        this.cursorCid = model.cid;\r\n        this.trigger('select:one', model);\r\n    },\r\n\r\n    // Deselect a model, resulting in no model\r\n    // being selected\r\n    deselect(model) {\r\n        if (!this.selected) { return; }\r\n\r\n        model = model || this.selected;\r\n        if (this.selected !== model) { return; }\r\n\r\n        this.lastSelectedModel = undefined;\r\n        this.cursorCid = undefined;\r\n        this.selected.deselect();\r\n        if (this.selected !== undefined) {\r\n            this.trigger('deselect:one', this.selected);\r\n            delete this.selected;\r\n        }\r\n    }\r\n\r\n});\r\n\r\n// SelectableBehavior.MultiSelect\r\n// -----------------\r\n// A mult-select mixin for Backbone.Collection, allowing a collection to\r\n// have multiple items selected, including `selectAll` and `selectNone`\r\n// capabilities.\r\n\r\nSelectableBehavior.MultiSelect = function(collection) {\r\n    this.collection = collection;\r\n    this.selected = {};\r\n};\r\n\r\n_.extend(SelectableBehavior.MultiSelect.prototype, {\r\n\r\n    // Select a specified model, make sure the\r\n    // model knows it's selected, and hold on to\r\n    // the selected model.\r\n    select(model, ctrlPressed, shiftPressed, selectOnCursor) {\r\n        if (this.selected[model.cid]) { return; }\r\n\r\n        this.selected[model.cid] = model;\r\n        model.select();\r\n        if (selectOnCursor === false) {\r\n            this.pointOff();\r\n            model.pointTo();\r\n            this.lastPointedModel = model;\r\n            this.cursorCid = model.cid;\r\n        }\r\n        calculateSelectedLength(this);\r\n    },\r\n\r\n    // Select a specified model and update selection for the whole collection according to the key modifiers\r\n    selectSmart(model, ctrlPressed, shiftPressed, selectOnCursor) {\r\n        const collection = this;\r\n        if (selectOnCursor === false) {\r\n            collection.pointOff();\r\n            model.pointTo();\r\n            collection.lastPointedModel = model;\r\n            collection.cursorCid = model.cid;\r\n        } else if (!ctrlPressed && !shiftPressed) {\r\n            // with no hotkeys we select this item and deselect the others\r\n            // collection.selectNone();\r\n            Object.values(collection.selected).forEach(selected => {\r\n                if (selected !== model) {\r\n                    selected.deselect();\r\n                }\r\n            });\r\n            model.select();\r\n            collection.lastSelectedModel = model.cid;\r\n            collection.cursorCid = model.cid;\r\n        } else if (shiftPressed) {\r\n            // if shift or ctrl+shift is pressed we select the items in range [lastSelectedItem, thisItem] and deselect the others\r\n            const lastSelectedModel = collection.lastSelectedModel;\r\n            if (!lastSelectedModel) {\r\n                // we select this item alone if this is the first click\r\n                Object.values(collection.selected).forEach(selected => {\r\n                    if (selected !== model) {\r\n                        selected.deselect();\r\n                    }\r\n                });\r\n                model.select();\r\n                collection.cursorCid = model.cid;\r\n            } else {\r\n                // if not, we select the range\r\n                let lastSelectedIndex = 0;\r\n                let thisIndex = 0;\r\n                collection.each((m, i) => {\r\n                    if (m.cid === lastSelectedModel) {\r\n                        lastSelectedIndex = i;\r\n                    }\r\n                    if (m === model) {\r\n                        thisIndex = i;\r\n                    }\r\n                });\r\n                const startIndex = Math.min(lastSelectedIndex, thisIndex);\r\n                const endIndex = Math.max(lastSelectedIndex, thisIndex);\r\n                const models = collection.models;\r\n                Object.values(collection.selected).forEach(selected => {\r\n                    if (selected !== model) {\r\n                        selected.deselect();\r\n                    }\r\n                });\r\n                for (let i = startIndex; i <= endIndex; i++) {\r\n                    models[i].select();\r\n                }\r\n                collection.cursorCid = models[thisIndex].cid;\r\n            }\r\n        } else if (ctrlPressed) {\r\n            // adding this item to the multiple selection list\r\n            model.select();\r\n            collection.lastSelectedModel = model.cid;\r\n        }\r\n    },\r\n\r\n    // Deselect a specified model, make sure the\r\n    // model knows it has been deselected, and remove\r\n    // the model from the selected list.\r\n    deselect(model) {\r\n        if (!this.selected[model.cid]) { return; }\r\n\r\n        delete this.selected[model.cid];\r\n        model.deselect();\r\n        calculateSelectedLength(this);\r\n    },\r\n\r\n    // Select all models in this collection\r\n    selectAll() {\r\n        this.each(model => { model.select(); });\r\n        calculateSelectedLength(this);\r\n    },\r\n\r\n    // Deselect all models in this collection\r\n    selectNone() {\r\n        this.each(model => { model.deselect(); });\r\n        calculateSelectedLength(this);\r\n    },\r\n\r\n    pointOff() {\r\n        this.lastPointedModel && this.lastPointedModel.pointOff();\r\n        delete this.lastPointedModel;\r\n    },\r\n\r\n    // Toggle select all / none. If some are selected, it\r\n    // will select all. If all are selected, it will select\r\n    // none. If none are selected, it will select all.\r\n    toggleSelectAll() {\r\n        if (this.selectedLength === this.length) {\r\n            this.selectNone();\r\n        } else {\r\n            this.selectAll();\r\n        }\r\n    }\r\n});\r\n\r\n// SelectableBehavior.Selectable\r\n// ----------------\r\n// A selectable mixin for Backbone.Model, allowing a model to be selected,\r\n// enabling it to work with SelectableBehavior.MultiSelect or on it's own\r\n\r\nSelectableBehavior.Selectable = function(model) {\r\n    this.model = model;\r\n};\r\n\r\n_.extend(SelectableBehavior.Selectable.prototype, {\r\n\r\n    // Select this model, and tell our\r\n    // collection that we're selected\r\n    select() {\r\n        if (this.selected) { return; }\r\n\r\n        this.selected = true;\r\n        this.trigger('selected', this);\r\n\r\n        if (this.collection) {\r\n            this.collection.select(this);\r\n        }\r\n    },\r\n\r\n    // Deselect this model, and tell our\r\n    // collection that we're deselected\r\n    deselect() {\r\n        if (!this.selected) { return; }\r\n\r\n        this.selected = false;\r\n        this.trigger('deselected', this);\r\n\r\n        if (this.collection) {\r\n            this.collection.deselect(this);\r\n        }\r\n    },\r\n\r\n    pointTo() {\r\n        this.pointed = true;\r\n        this.trigger('pointed', this);\r\n    },\r\n\r\n    pointOff() {\r\n        this.pointed = false;\r\n        this.trigger('unpointed', this);\r\n    },\r\n\r\n    // Change selected to the opposite of what\r\n    // it currently is\r\n    toggleSelected() {\r\n        if (this.selected) {\r\n            this.deselect();\r\n        } else {\r\n            this.select();\r\n        }\r\n    }\r\n});\r\n\r\n// Helper Methods\r\n// --------------\r\n\r\n// Calculate the number of selected items in a collection\r\n// and update the collection with that length. Trigger events\r\n// from the collection based on the number of selected items.\r\nconst calculateSelectedLength = _.debounce((collection) => {\r\n    collection.selectedLength = _.filter(collection.models, model => model.selected).length;\r\n\r\n    const selectedLength = collection.selectedLength;\r\n    const length = collection.length;\r\n\r\n    if (selectedLength === length) {\r\n        collection.trigger('select:all', collection);\r\n        return;\r\n    }\r\n\r\n    if (selectedLength === 0) {\r\n        collection.trigger('select:none', collection);\r\n        return;\r\n    }\r\n\r\n    if (selectedLength > 0 && selectedLength < length) {\r\n        collection.trigger('select:some', collection);\r\n    }\r\n}, 10);\r\n\r\nexport default SelectableBehavior;\r\nexport var Selectable = SelectableBehavior.Selectable;\r\nexport var SingleSelect = SelectableBehavior.SingleSelect;\r\nexport var MultiSelect = SelectableBehavior.MultiSelect;\r\n","import { helpers } from 'utils';\r\nimport PromiseService from './PromiseService';\r\n\r\nconst methodName = {\r\n    mvc: 'Mvc',\r\n    WebApi: 'WebApi'\r\n};\r\n\r\nlet beforeSent = null;\r\n\r\nexport default (window.Ajax = new (Marionette.Object.extend({\r\n    load(options) {\r\n        helpers.ensureOption(options, 'ajaxMap');\r\n        options.ajaxMap.forEach(actionInfo => {\r\n            /* eslint-disable */\r\n            const controller = this[actionInfo.className] || (this[actionInfo.className] = {});\r\n\r\n            // The result of compilation below is something like this:\r\n            //     controller[actionInfo.methodName] = function RecordTypes_List(/*optional*/ callback) {\r\n            //         return window.Ajax.getJsApiResponse('RecordTypes/List', [  ], _.take(arguments, 0), callback);\r\n            //     };\r\n            const actionParameters = actionInfo.parameters.map(parameterInfo => `/*${parameterInfo.typeName}*/ ${parameterInfo.name}`);\r\n\r\n            actionParameters.push('/*optional*/ callback');\r\n            const actionBody = helpers.format(\r\n                'return window.Ajax.getJsApiResponse(\\'{0}\\', [ {1} ], _.take(arguments, {2}) || [], \\'{3}\\', \\'{4}\\', callback);',\r\n                actionInfo.url,\r\n                actionInfo.parameters.map(p => `'${p.name}'`).join(', '),\r\n                actionInfo.parameters.length,\r\n                actionInfo.httpMethod,\r\n                actionInfo.protocol\r\n            );\r\n            //noinspection JSUnresolvedVariable\r\n            const actionFn = helpers.format(\r\n                'function {0}_{1}({2}) {\\r\\n{3}\\r\\n}',\r\n                actionInfo.className,\r\n                actionInfo.methodName,\r\n                actionParameters.join(', '), actionBody\r\n            );\r\n\r\n            eval(`controller[actionInfo.methodName] = ${actionFn};`);\r\n            /* eslint-enable */\r\n        });\r\n\r\n        if (options.beforeSent) {\r\n            beforeSent = options.beforeSent;\r\n        }\r\n    },\r\n\r\n    async getResponse(type, url, data, options) {\r\n        helpers.assertArgumentNotFalsy(type, 'type');\r\n        helpers.assertArgumentNotFalsy(url, 'url');\r\n\r\n        const config = Object.assign(\r\n            {\r\n                type,\r\n                url,\r\n                data: data ? JSON.stringify(data) : null,\r\n                traditional: true,\r\n                dataType: 'json',\r\n                contentType: 'application/json'\r\n            },\r\n            options || {}\r\n        );\r\n\r\n        if (beforeSent) {\r\n            const canProceed = await beforeSent();\r\n\r\n            if (canProceed) {\r\n                return PromiseService.registerPromise($.ajax(config));\r\n            }\r\n        } else {\r\n            return PromiseService.registerPromise($.ajax(config));\r\n        }\r\n    },\r\n\r\n    sendFormData(url, formData) {\r\n        helpers.assertArgumentNotFalsy(url, 'url');\r\n        helpers.assertArgumentNotFalsy(formData, 'formData');\r\n        return Promise.resolve(\r\n            $.ajax({\r\n                url,\r\n                type: 'POST',\r\n                data: formData,\r\n                processData: false,\r\n                contentType: false\r\n            })\r\n        );\r\n    },\r\n\r\n    getJsApiResponse(url, parameterNames, parameters, httpMethod, protocol, callback) {\r\n        if (callback && !_.isFunction(callback)) {\r\n            helpers.throwArgumentError('Invalid argument: callback is set but not a function.');\r\n        }\r\n        const parametersLength = _.last(parameters) === callback && callback !== undefined ? parameters.length - 1 : parameters.length;\r\n        if (parametersLength < parameterNames.length) {\r\n            helpers.throwFormatError(helpers.format('Invalid request parameters: expected {0} parameters, actual: {1}.', parameterNames.length, parametersLength));\r\n        }\r\n        const successCallback = callback || null;\r\n        let data;\r\n        if (protocol === methodName.WebApi) {\r\n            for (let i = 0; i < parameterNames.length; i++) {\r\n                if (url.indexOf(parameterNames[i]) !== -1) {\r\n                    /*eslint-disable*/\r\n                    url = url.replace(`{${parameterNames[i]}}`, parameters[i]); // set up url parameters\r\n                    /* eslint-enable */\r\n                } else {\r\n                    data = parameters[i]; // set up [FromBody] parameters\r\n                }\r\n            }\r\n        } else {\r\n            data = {};\r\n            for (let i = 0; i < parameterNames.length; i++) {\r\n                data[parameterNames[i]] = parameters[i];\r\n            }\r\n        }\r\n\r\n        return this.getResponse(httpMethod, url, data, {\r\n            success: result => {\r\n                if (result && result.success === false) {\r\n                    this.trigger('jsApi:error', result);\r\n                } else if (successCallback) {\r\n                    successCallback(result.data);\r\n                }\r\n            }\r\n        }).then(result => {\r\n            if (result && protocol === methodName.WebApi && !result.errorMessage) {\r\n                return result;\r\n            }\r\n            if (result && result.success === false) {\r\n                this.trigger('jsApi:error', result);\r\n                const error = new Error(result.errorMessage);\r\n                error.name = 'JsApiError';\r\n                error.errorType = result.errorType;\r\n                error.errorData = result.errorData;\r\n                error.source = result;\r\n                throw error;\r\n            }\r\n            return result ? result.data : result;\r\n        });\r\n    }\r\n}))());\r\n","export default class CTEventsService {\r\n    static initialize() {\r\n        window.addEventListener('storage', event => {\r\n            if (event.key === 'cbEvent') {\r\n                this.__handleStorageEvent(event.newValue);\r\n            }\r\n        });\r\n        Object.assign(this, Backbone.Events);\r\n    }\r\n\r\n    static triggerStorageEvent(eventId, data) {\r\n        localStorage.setItem('cbEvent', JSON.stringify({ id: eventId, data }));\r\n    }\r\n\r\n    static __handleStorageEvent(newValue) {\r\n        this.trigger('cbEvent', JSON.parse(newValue));\r\n    }\r\n}\r\n","const windowEventList = [\r\n    {\r\n        name: 'click',\r\n        capture: true\r\n    },\r\n    {\r\n        name: 'keydown',\r\n        capture: true\r\n    },\r\n    {\r\n        name: 'mousedown',\r\n        capture: true\r\n    },\r\n    {\r\n        name: 'mouseup',\r\n        capture: true\r\n    },\r\n    {\r\n        name: 'wheel',\r\n        capture: true\r\n    },\r\n    {\r\n        name: 'resize',\r\n        capture: false\r\n    },\r\n    {\r\n        name: 'load',\r\n        capture: false\r\n    }\r\n];\r\n\r\nconst globalEventService = /** @lends module:core.services.GlobalEventService */ {\r\n    initialize() {\r\n        this.__windowEvents = windowEventList.map(x => {\r\n            const captureSuffix = x.capture ? ':captured' : '';\r\n            const eventName = `window:${x.name}${captureSuffix}`;\r\n            return {\r\n                name: x.name,\r\n                capture: x.capture,\r\n                handler: e => {\r\n                    this.trigger(eventName, e.target, e);\r\n                }\r\n            };\r\n        });\r\n        this.__windowEvents.forEach(x => {\r\n            window.addEventListener(x.name, x.handler, x.capture);\r\n        });\r\n        this.listenTo(this, 'window:load', () => this.pageLoaded = true);\r\n    },\r\n\r\n    onDestroy() {\r\n        this.__windowEvents.forEach(x => {\r\n            window.removeEventListener(x.name, x.handler, x.capture);\r\n        });\r\n    }\r\n};\r\n\r\n_.extend(globalEventService, Backbone.Events);\r\n\r\nexport default globalEventService;\r\n","export default class InterfaceErrorMessageService {\r\n    static initialize() {\r\n        Object.assign(this, Backbone.Events);\r\n    }\r\n\r\n    static logError(exception, viewId) {\r\n        this.trigger('InterfaceError', { exception, viewId });\r\n        console.log(exception); //TODO check on listeners, hide if exist\r\n    }\r\n}\r\n","//@flow\r\nconst global = window;\r\nconst defaultLangCode = 'en';\r\n\r\ntype locOpt = {\r\n    langCode?: string,\r\n    timeZone?: string,\r\n    localizationMap?: Object\r\n};\r\n\r\ntype LocalizationService = {\r\n    initialize: locOpt => void,\r\n\r\n    langCode?: string,\r\n\r\n    timeZone?: string,\r\n\r\n    thousandsSeparatorSymbol?: string,\r\n\r\n    decimalSymbol?: string,\r\n\r\n    localizationMap?: Object,\r\n\r\n    get(locId: string): string,\r\n\r\n    tryGet(locId: string): ?string,\r\n\r\n    resolveLocalizedText(localizedText: Object): string\r\n};\r\n\r\nconst service: LocalizationService = {\r\n    initialize(options: locOpt = {}) {\r\n        this.langCode = options.langCode;\r\n        this.timeZone = options.timeZone || moment.tz.guess();\r\n        this.localizationMap = options.localizationMap;\r\n\r\n        const formattedNumber = new Intl.NumberFormat(this.langCode, {\r\n            minimumFractionDigits: 2\r\n        }).format(1000);\r\n\r\n        this.thousandsSeparatorSymbol = formattedNumber.slice(1, 2);\r\n        this.decimalSymbol = formattedNumber.slice(-3, -2);\r\n\r\n        //TODO remove this then server start to return full date\r\n        const offset = moment.tz.zone(this.timeZone).utcOffset(new Date());\r\n        const unpacked = {\r\n            name: 'Custom/CMW',\r\n            abbrs: ['CMWC', 'CMWC'],\r\n            offsets: [offset, offset],\r\n            untils: [-1988164200000, null]\r\n        };\r\n        moment.tz.add(moment.tz.pack(unpacked));\r\n\r\n        moment.tz.setDefault('Custom/CMW');\r\n        //moment.tz.setDefault(this.timeZone); //this line is perfect, use it\r\n        //End of hack\r\n\r\n        moment.locale(this.langCode);\r\n    },\r\n\r\n    get(locId: string) {\r\n        if (!locId) {\r\n            throw new Error(`Bad localization id: (locId = ${locId})`);\r\n        }\r\n        const text = this.localizationMap[locId];\r\n\r\n        if (text === undefined) {\r\n            console.error(`Missing localization constant: ${locId}`);\r\n\r\n            return `<missing:${locId}>`;\r\n        }\r\n        return text;\r\n    },\r\n\r\n    tryGet(locId: string) {\r\n        if (!locId) {\r\n            throw new Error(`Bad localization id: (locId = ${locId})`);\r\n        }\r\n        const text = this.localizationMap[locId];\r\n        if (text === undefined) {\r\n            return null;\r\n        }\r\n        return text;\r\n    },\r\n\r\n    resolveLocalizedText(localizedText: Object) {\r\n        if (!localizedText) {\r\n            return '';\r\n        }\r\n\r\n        return localizedText[this.langCode] || localizedText[defaultLangCode] || '';\r\n    }\r\n};\r\n\r\nexport default (global.Localizer = service);\r\n","import WindowService from './WindowService';\r\nimport LocalizationService from './LocalizationService';\r\n\r\nconst iconIds = {\r\n    NONE: 'none',\r\n    QUESTION: 'question',\r\n    ERROR: 'error'\r\n};\r\n\r\nexport default {\r\n    systemMessagesTypes: {\r\n        unsavedChanges: 'unsavedChanges'\r\n    },\r\n\r\n    confirm(description) {\r\n        return this.askYesNo(description, LocalizationService.get('CORE.SERVICES.MESSAGE.TITLE.CONFIRMATION'));\r\n    },\r\n\r\n    askYesNo(description, text) {\r\n        return this.showMessageDialog(\r\n            description,\r\n            text,\r\n            [\r\n                {\r\n                    id: true,\r\n                    text: LocalizationService.get('CORE.SERVICES.MESSAGE.BUTTONS.YES')\r\n                },\r\n                {\r\n                    id: false,\r\n                    text: LocalizationService.get('CORE.SERVICES.MESSAGE.BUTTONS.NO'),\r\n                    default: true\r\n                }\r\n            ],\r\n            iconIds.QUESTION\r\n        );\r\n    },\r\n\r\n    error(description, text = LocalizationService.get('CORE.SERVICES.MESSAGE.TITLE.ERROR')) {\r\n        return this.showMessageDialog(\r\n            description,\r\n            text,\r\n            [\r\n                {\r\n                    id: false,\r\n                    text: LocalizationService.get('CORE.SERVICES.MESSAGE.BUTTONS.OK'),\r\n                    default: true\r\n                }\r\n            ],\r\n            iconIds.ERROR\r\n        );\r\n    },\r\n\r\n    showMessageDialog(description, text, buttons, iconId = iconIds.NONE) {\r\n        return new Promise(resolve => {\r\n            const view = new Core.layout.Popup({\r\n                header: text,\r\n                buttons: buttons.map(button => ({\r\n                    id: button.id,\r\n                    text: button.text,\r\n                    customClass: button.customClass,\r\n                    handler() {\r\n                        WindowService.closePopup(this.openedPopupId);\r\n                        this.openedPopupId = null;\r\n                        resolve(button.id);\r\n                    }\r\n                })),\r\n                content: `<div class='systemMessageBody'>${description}</div>`\r\n            });\r\n\r\n            if (this.openedPopupId) {\r\n                WindowService.closePopup(this.openedPopupId);\r\n            }\r\n            this.openedPopupId = WindowService.showPopup(view);\r\n        });\r\n    },\r\n\r\n    showSystemMessage(messageConfiguration) {\r\n        const systemMessages = {\r\n            unsavedChanges: {\r\n                description: Localizer.get('CORE.SERVICES.MESSAGE.UNSAVEDCHANGES.DESCRIPTION'),\r\n                buttons: [\r\n                    {\r\n                        id: true,\r\n                        text: Localizer.get('CORE.SERVICES.MESSAGE.UNSAVEDCHANGES.LEAVE'),\r\n                        customClass: 'btn-small btn-outline'\r\n                    },\r\n                    {\r\n                        id: false,\r\n                        text: Localizer.get('CORE.SERVICES.MESSAGE.UNSAVEDCHANGES.STAY'),\r\n                        customClass: 'btn-small'\r\n                    }\r\n                ]\r\n            }\r\n        };\r\n\r\n        switch (messageConfiguration.type) {\r\n            case this.systemMessagesTypes.unsavedChanges: {\r\n                return this.showMessageDialog(systemMessages.unsavedChanges.description, systemMessages.unsavedChanges.text, systemMessages.unsavedChanges.buttons);\r\n            }\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n};\r\n","export default class MobileService {\r\n    static initialize() {\r\n        if (\r\n            navigator.userAgent.match(/Android/i)\r\n            || navigator.userAgent.match(/webOS/i)\r\n            || navigator.userAgent.match(/iPhone/i)\r\n            || navigator.userAgent.match(/iPad/i)\r\n            || navigator.userAgent.match(/iPod/i)\r\n            || navigator.userAgent.match(/BlackBerry/i)\r\n            || navigator.userAgent.match(/Windows Phone/i)\r\n        ) {\r\n            this.isMobile = true;\r\n        } else {\r\n            this.isMobile = false;\r\n        }\r\n        if (\r\n            navigator.appName === 'Microsoft Internet Explorer'\r\n            || !!(navigator.userAgent.match(/Trident/) || navigator.userAgent.match(/rv:11/)) ||\r\n            (typeof $.browser !== 'undefined' && $.browser.msie === 1)\r\n        ) {\r\n            this.isIE = true;\r\n        } else {\r\n            this.isIE = false;\r\n        }\r\n    }\r\n}\r\n","//@flow\r\nimport { presentingComponentsTypes } from '../Meta';\r\n\r\ntype typeIdPare = {\r\n    type: string,\r\n    id: string\r\n};\r\n\r\nexport default class CTEventsService {\r\n    static presentComponentSequence(componentSequenceString: string) {\r\n        const componentSequence = this.__getComponentSequenceFromString(componentSequenceString);\r\n\r\n        componentSequence.forEach(component => {\r\n            const parsedComponent = this.__getTypeIdPare(component);\r\n\r\n            this.__executeActionForComponent(parsedComponent);\r\n        });\r\n\r\n        this.__navigateToComponent(this.__getTypeIdPare(componentSequence[componentSequence.length - 1]));\r\n    }\r\n\r\n    static __getComponentSequenceFromString(componentSequenceString: string): Array<string> {\r\n        return componentSequenceString.split(';');\r\n    }\r\n\r\n    static __getTypeIdPare(component: string): typeIdPare {\r\n        const params = component.split(':');\r\n\r\n        return {\r\n            type: params[0],\r\n            id: params[1]\r\n        };\r\n    }\r\n\r\n    static __executeActionForComponent(component: typeIdPare): void {\r\n        const element = document.getElementById(component.id);\r\n        if (!element) {\r\n            return;\r\n        }\r\n\r\n        switch (component.type) {\r\n            case presentingComponentsTypes.form:\r\n                element.click();\r\n                break;\r\n            case presentingComponentsTypes.popup:\r\n                element.click();\r\n                break;\r\n            case presentingComponentsTypes.group:\r\n                element.click();\r\n                break;\r\n            case presentingComponentsTypes.field:\r\n                element.click();\r\n                break;\r\n            case presentingComponentsTypes.tab:\r\n                element.click();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    static __navigateToComponent(component: typeIdPare): void {\r\n        const element = document.getElementById(component.id);\r\n        if (!element) {\r\n            return;\r\n        }\r\n\r\n        switch (component.type) {\r\n            case presentingComponentsTypes.form:\r\n                element.scrollIntoView();\r\n                break;\r\n            case presentingComponentsTypes.popup:\r\n                element.scrollIntoView();\r\n                break;\r\n            case presentingComponentsTypes.group:\r\n                element.scrollIntoView();\r\n                break;\r\n            case presentingComponentsTypes.field:\r\n                element.scrollIntoView();\r\n                break;\r\n            case presentingComponentsTypes.tab:\r\n                element.scrollIntoView();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n","export default {\r\n    canceledPromises: [],\r\n\r\n    promiseQueue: [],\r\n\r\n    async registerPromise(promise) {\r\n        promise.id = _.uniqueId('promise_');\r\n        this.promiseQueue.push(promise);\r\n        try {\r\n            const rejectPromise = new Promise((resolve, reject) => {\r\n                promise.reject = reject;\r\n            });\r\n\r\n            return await Promise.race([promise, rejectPromise]);\r\n        } finally {\r\n            delete this.promiseQueue.splice(this.promiseQueue.findIndex(cP => cP.id === promise.id), 1);\r\n            delete this.canceledPromises.splice(this.promiseQueue.findIndex(cP => cP.id === promise.id), 1);\r\n        }\r\n    },\r\n\r\n    cancelAll() {\r\n        this.promiseQueue.forEach(promise => {\r\n            promise.reject({ isCanceled: true });\r\n        });\r\n    }\r\n};\r\n","import ContentLoadingView from './routing/ContentLoadingView';\r\nimport WindowService from './WindowService';\r\n\r\n// storing active url to get back to it while canceling module leave\r\nlet previousUrl;\r\nlet activeUrl;\r\nlet shouldCheckUrl = true;\r\n\r\nconst originalCheckUrl = Backbone.history.checkUrl;\r\nBackbone.history.checkUrl = () => {\r\n    previousUrl = activeUrl;\r\n    activeUrl = window.location.hash;\r\n\r\n    if (shouldCheckUrl) {\r\n        originalCheckUrl.apply(this, arguments);\r\n    }\r\n    shouldCheckUrl = true;\r\n};\r\n\r\nexport default {\r\n    initialize(options) {\r\n        Object.assign(this, Backbone.Events);\r\n        this.defaultUrl = options.defaultUrl;\r\n        options.modules.forEach(config => {\r\n            const controller = {};\r\n\r\n            Object.values(config.routes).forEach(callbackName => {\r\n                controller[callbackName] = (...theArgs) => {\r\n                    this.__onModuleLoaded(callbackName, theArgs, config, config.module);\r\n                };\r\n            });\r\n\r\n            new Marionette.AppRouter({\r\n                controller,\r\n                appRoutes: config.routes\r\n            });\r\n        });\r\n\r\n        new (Marionette.AppRouter.extend({\r\n            routes: {\r\n                '': 'defaultRoute'\r\n            },\r\n            defaultRoute: () => this.navigateToUrl(this.defaultUrl, { replace: true })\r\n        }))();\r\n\r\n        Backbone.history.start();\r\n        Backbone.history.checkUrl();\r\n\r\n        window.addEventListener('beforeunload', e => {\r\n            this.trigger('module:leave', {\r\n                page: this.activeModule ? this.activeModule.moduleId : null\r\n            });\r\n            const canLeave = this.activeModule ? this.activeModule.leave(true) : true;\r\n\r\n            if (canLeave !== true) {\r\n                // We need just to return smth to show default drowser leaving alert\r\n                (e || window.event).returnValue = '42';\r\n                return '42';\r\n            }\r\n        });\r\n    },\r\n\r\n    canNavigateBack() {\r\n        return previousUrl !== undefined;\r\n    },\r\n\r\n    navigateBack() {\r\n        Backbone.history.history.back();\r\n    },\r\n\r\n    // options: replace (history), trigger (routing)\r\n    navigateToUrl(url, options = {}) {\r\n        if (options.trigger === undefined) {\r\n            options.trigger = true;\r\n        }\r\n        shouldCheckUrl = options.trigger || activeUrl === url;\r\n        Backbone.history.navigate(url, options);\r\n    },\r\n\r\n    getPreviousUrl() {\r\n        return previousUrl;\r\n    },\r\n\r\n    refresh() {\r\n        Backbone.history.fragment = null;\r\n        this.navigateToUrl(activeUrl);\r\n    },\r\n\r\n    setDefaultUrl(newDefaultUrl) {\r\n        this.defaultUrl = newDefaultUrl;\r\n    },\r\n\r\n    async __onModuleLoaded(callbackName, routingArgs, config, Module) {\r\n        WindowService.closePopup();\r\n        this.loadingContext = {\r\n            config,\r\n            leavingPromise: null,\r\n            loaded: false\r\n        };\r\n        if (!this.activeModule) {\r\n            window.app\r\n                .getView()\r\n                .getRegion('contentLoadingRegion')\r\n                .show(new ContentLoadingView());\r\n        } else {\r\n            this.trigger('module:before:leave', {\r\n                page: this.activeModule ? this.activeModule.moduleId : null\r\n            });\r\n            const canLeave = await this.activeModule.leave();\r\n            if (!canLeave && this.getPreviousUrl()) {\r\n                // getting back to last url\r\n                this.navigateToUrl(this.getPreviousUrl(), { replace: true, trigger: false });\r\n                return;\r\n            }\r\n            this.trigger('module:leave', {\r\n                page: this.activeModule ? this.activeModule.moduleId : null\r\n            });\r\n            //clear all promises of the previous module\r\n            Core.services.PromiseService.cancelAll();\r\n            if (!this.loadingContext.loaded) {\r\n                this.activeModule.view.setModuleLoading(true);\r\n            }\r\n        }\r\n\r\n        // reject race condition\r\n        if (this.loadingContext === null || this.loadingContext.config.module !== config.module) {\r\n            return;\r\n        }\r\n\r\n        this.loadingContext.loaded = true;\r\n        // reset loading region\r\n        window.app\r\n            .getView()\r\n            .getRegion('contentLoadingRegion')\r\n            .reset();\r\n        if (this.activeModule) {\r\n            this.activeModule.view.setModuleLoading(false);\r\n        }\r\n        const movingOut = this.activeModule && this.activeModule.options.config.module !== config.module;\r\n\r\n        // destroy active module\r\n        if (this.activeModule && movingOut) {\r\n            this.activeModule.destroy();\r\n        }\r\n\r\n        // construct new module\r\n        if (!this.activeModule || movingOut) {\r\n            this.activeModule = new Module({\r\n                config,\r\n                region: window.app.getView().getRegion('contentRegion')\r\n            });\r\n        }\r\n        this.trigger('module:loaded', {\r\n            page: this.activeModule ? this.activeModule.moduleId : null\r\n        });\r\n\r\n        let componentQuery;\r\n        const lastArg = _.last(_.compact(routingArgs));\r\n        const index = routingArgs.indexOf(lastArg);\r\n\r\n        if (lastArg) {\r\n            componentQuery = lastArg.split('@');\r\n\r\n            if (componentQuery && componentQuery.length > 1) {\r\n                routingArgs[index] = componentQuery[0];\r\n            }\r\n        }\r\n\r\n        // navigate to new module\r\n        this.loadingContext = null;\r\n        if (this.activeModule.onRoute) {\r\n            this.activeModule.routerAction = callbackName;\r\n            const continueHandling = await this.activeModule.onRoute.apply(this.activeModule, routingArgs);\r\n            if (continueHandling === false) {\r\n                return;\r\n            }\r\n        }\r\n        if (this.activeModule.routingActions && this.activeModule.routingActions[callbackName]) {\r\n            const configuration = this.activeModule.routingActions[callbackName];\r\n            configuration.routingAction = callbackName;\r\n            this.activeModule.handleRouterEvent.call(this.activeModule, configuration, routingArgs);\r\n        } else {\r\n            const routingCallback = this.activeModule[callbackName];\r\n            if (!routingCallback) {\r\n                Core.utils.helpers.throwError(`Failed to find callback method \\`${callbackName}\\` for the module \\`${config.id}` || `${config.module}\\`.`);\r\n            }\r\n            routingCallback.apply(this.activeModule, routingArgs);\r\n        }\r\n\r\n        if (componentQuery && componentQuery.length > 1) {\r\n            this.activeModule.componentQuery = componentQuery[1];\r\n        } else {\r\n            this.activeModule.componentQuery = null;\r\n        }\r\n    }\r\n};\r\n","import { $ } from 'lib';\r\n\r\nconst defaultOptions = {\r\n    themesPath: './themes/',\r\n    theme: 'main'\r\n};\r\n\r\nexport default class ThemeService {\r\n    static initialize(options) {\r\n        this.options = Object.assign(defaultOptions, options);\r\n        this.setTheme(this.options.theme);\r\n    }\r\n\r\n    static setTheme(name) {\r\n        this.options.theme = name || this.options.theme;\r\n        if (name === this.currentTheme) return;\r\n\r\n        this.currentTheme = name;\r\n        this.url = `${this.options.themesPath + this.currentTheme}`;\r\n        this._removeElement('core-ui-theme-styles');\r\n        this._removeElement('core-ui-sprites');\r\n        this._setStyle();\r\n        this._setSprite();\r\n    }\r\n\r\n    static _setStyle() {\r\n        const url = `${this.url}/theme.css`;\r\n        document.head.insertAdjacentHTML('beforeend', `<link rel='stylesheet' type='text/css' id=\"core-ui-theme-styles\" href=\"${url}\">`);\r\n    }\r\n\r\n    static _setSprite() {\r\n        const url = `${this.url}/sprites.svg`;\r\n        $.get(url, data => {\r\n            const div = document.createElement('div');\r\n            div.id = 'core-ui-sprites';\r\n            div.classList.add('visually-hidden');\r\n            div.innerHTML = new XMLSerializer().serializeToString(data.documentElement);\r\n            document.body.insertAdjacentElement('afterbegin', div);\r\n        });\r\n    }\r\n\r\n    static _removeElement(id) {\r\n        const el = document.getElementById(id);\r\n        if (el != null) el.parentNode.removeChild(el);\r\n    }\r\n}\r\n","import NotificationCollectionView from './toastNotification/views/NotificationCollectionView';\r\n\r\nconst defaultTimeOfShow = 12000;\r\n\r\nexport default class ToastNotificationService {\r\n    static initialize(options = {}) {\r\n        this.notificationCollection = new Backbone.Collection();\r\n\r\n        options.toastNotificationRegion.show(\r\n            new NotificationCollectionView({\r\n                collection: this.notificationCollection\r\n            })\r\n        );\r\n\r\n        this.notificationTypes = {\r\n            INFO: 'Info',\r\n            ERROR: 'Error',\r\n            SUCCESS: 'Success'\r\n        };\r\n        Object.assign(this, Backbone.Events);\r\n    }\r\n\r\n    static add(message, type = this.notificationTypes.INFO, time) {\r\n        if (!message) {\r\n            return;\r\n        }\r\n        let text = message;\r\n        let title = null;\r\n        if (_.isObject(message)) {\r\n            text = message.text;\r\n            title = message.title;\r\n        }\r\n        this.notificationCollection.add(\r\n            new Backbone.Model({\r\n                type,\r\n                title,\r\n                text,\r\n                time: time === 0 ? time : time || defaultTimeOfShow\r\n            }),\r\n            { at: this.notificationCollection.length }\r\n        );\r\n\r\n        this.trigger('publish:notification', {\r\n            message: title || text,\r\n            affectedText: title ? text : '',\r\n            severity: type || 'Info'\r\n        });\r\n    }\r\n}\r\n","import helpers from 'utils/helpers';\r\n\r\nlet dataProvider;\r\n\r\n/**\r\n * @name UserService\r\n * @memberof module:core.services\r\n * @class User service provides access to information about loaded users (synchronously).\r\n * @constructor\r\n * @param {Object} options Options object.\r\n * @param {Object} options.dataProvider A data provider object that must contain method <code>listUsers()</code>.\r\n * The method returns an array of objects of the following signature: <code>{ id, name, userName, abbreviation, avatarUrl, url }</code>.\r\n * For example: <code>{ id: 'user.1', name: 'Jack Crook', userName: 'jcrook', abbreviation: 'JC', avatarUrl: '/avatars?id=user.1', url: '#People/1' }</code>\r\n * */\r\n\r\nexport default {\r\n    initialize(options) {\r\n        helpers.ensureOption(options, 'dataProvider');\r\n\r\n        dataProvider = options.dataProvider;\r\n    },\r\n\r\n    listUsers() {\r\n        return dataProvider.listUsers();\r\n    },\r\n\r\n    listGroups() {\r\n        return dataProvider.listGroups();\r\n    }\r\n};\r\n","let peerConn = {};\r\nconst peerConnCfg = {};\r\n\r\nexport default class {\r\n    inialize(websocket) {\r\n        this.wsc = websocket;\r\n    }\r\n\r\n    static initiateCall(localTarget, remoteTarget) {\r\n        this.localTarget = localTarget;\r\n        this.remoteTarget = remoteTarget;\r\n\r\n        this.__prepareCall(remoteTarget);\r\n        navigator.getUserMedia(\r\n            { audio: true, video: true },\r\n            stream => {\r\n                this.localVideoStream = stream;\r\n                localTarget.src = URL.createObjectURL(stream);\r\n                peerConn.addStream(stream);\r\n                this.__createAndSendOffer();\r\n            },\r\n            error => {\r\n                console.log(error);\r\n            }\r\n        );\r\n    }\r\n\r\n    static endCall() {\r\n        peerConn.close();\r\n        this.localVideoStream.getTracks().forEach(track => {\r\n            track.stop();\r\n        });\r\n        this.localVideo.src = '';\r\n        this.remoteVideo.src = '';\r\n    }\r\n\r\n    __prepareCall(remoteTarget) {\r\n        peerConn = new RTCPeerConnection(peerConnCfg);\r\n        peerConn.onicecandidate = this.__onIceCandidateHandler;\r\n        peerConn.onaddstream = this.__onAddStreamHandler(remoteTarget);\r\n    }\r\n\r\n    __onIceCandidateHandler(evt) {\r\n        if (!evt || !evt.candidate) {\r\n            return;\r\n        }\r\n        this.wsc.send(JSON.stringify({ candidate: evt.candidate }));\r\n    }\r\n\r\n    __onAddStreamHandler(evt) {\r\n        this.remoteVideo.src = URL.createObjectURL(evt.stream);\r\n    }\r\n\r\n    __createAndSendOffer() {\r\n        peerConn.createOffer(\r\n            offer => {\r\n                const off = new RTCSessionDescription(offer);\r\n                peerConn.setLocalDescription(\r\n                    new RTCSessionDescription(off),\r\n                    () => {\r\n                        this.wsc.send(JSON.stringify({ sdp: off }));\r\n                    },\r\n                    error => {\r\n                        console.log(error);\r\n                    }\r\n                );\r\n            },\r\n            error => {\r\n                console.log(error);\r\n            }\r\n        );\r\n    }\r\n}\r\n","export default class WebSocketService {\r\n    static initialize(options = {}) {\r\n        Object.assign(this, Backbone.Events);\r\n        this.isConnectionOpened = true;\r\n        this.socket = new WebSocket(options.url);\r\n\r\n        this.socket.onopen = () => this.__handleSocketOpen();\r\n        this.socket.onclose = () => this.__handleSocketClosed();\r\n        this.socket.onmessage = data => this.__handleSocketMessage(data);\r\n        this.socket.onerror = error => this.trigger('ws:error', { id: 'onWebSocketError', data: error });\r\n    }\r\n\r\n    static close() {\r\n        this.socket.close();\r\n    }\r\n\r\n    static send(eventId, data) {\r\n        try {\r\n            this.socket.send(JSON.stringify({ id: eventId, data }));\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    static __handleSocketMessage(data) {\r\n        try {\r\n            this.trigger('ws:message', JSON.parse(data.data));\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    static __handleSocketOpen() {\r\n        this.isConnectionOpened = true;\r\n        this.trigger('ws:open', { id: 'onWebSocketOpen', data: null });\r\n    }\r\n\r\n    static __handleSocketClosed() {\r\n        this.isConnectionOpened = false;\r\n        this.trigger('ws:closed', { id: 'onWebSocketClose', data: null });\r\n    }\r\n\r\n    static isConnected() {\r\n        return this.isConnectionOpened;\r\n    }\r\n}\r\n","import PopupStackView from './window/views/PopupStackView';\r\n\r\nexport default {\r\n    initialize() {\r\n        Object.assign(this, Backbone.Events);\r\n\r\n        const __popupStackRegionEl = document.createElement('div');\r\n\r\n        document.body.appendChild(__popupStackRegionEl);\r\n\r\n        const rootView = window.app.getView();\r\n\r\n        rootView.addRegion('popupStackRegion', {\r\n            el: __popupStackRegionEl,\r\n            replaceElement: true\r\n        });\r\n\r\n        this.__popupStackView = new PopupStackView();\r\n\r\n        rootView.showChildView('popupStackRegion', this.__popupStackView);\r\n\r\n        this.__popupStackView.on('popup:close', popupId => this.trigger('popup:close', popupId));\r\n    },\r\n\r\n    /**\r\n     * Shows a marionette.view as a popup. If another popup is already shown, overlaps it.\r\n     * The size of the view and it's location is totally the view's responsibility.\r\n     * @param {Marionette.View} view A Marionette.View instance to show.\r\n     * @returns {String} The popup id that you can use to close it.\r\n     * */\r\n    showPopup(view) {\r\n        return this.__popupStackView.showPopup(view, {\r\n            fadeBackground: true,\r\n            transient: false,\r\n            hostEl: null\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Closes the top-level popup or does nothing if there is none.\r\n     * @param {string} [popupId=null]\r\n     * */\r\n    closePopup(popupId = null) {\r\n        this.__popupStackView && this.__popupStackView.closePopup(popupId);\r\n    },\r\n\r\n    /**\r\n     * Shows a marionette.view as a transient popup. If another popup is already shown, overlaps it.\r\n     * The size of the view and it's location is totally the view's responsibility.\r\n     * @param {Marionette.View} view A Marionette.View instance to show.\r\n     * @param {Object} options Options object.\r\n     * @param {Boolean} [options.fadeBackground=true] Whether to fade the background behind the popup.\r\n     * */\r\n    showTransientPopup(view, options = { fadeBackground: false, hostEl: null }) {\r\n        return this.__popupStackView.showPopup(view, {\r\n            fadeBackground: options.fadeBackground,\r\n            anchorEl: options.anchorEl,\r\n            transient: true,\r\n            hostEl: options.hostEl\r\n        });\r\n    },\r\n\r\n    get(popupId) {\r\n        return this.__popupStackView.get(popupId);\r\n    },\r\n\r\n    isPopupOpen() {\r\n        const stack = this.__popupStackView.getStack();\r\n        return stack.length > 0;\r\n    },\r\n\r\n    fadeBackground(fade) {\r\n        this.__popupStackView.fadeBackground(fade);\r\n    }\r\n};\r\n","import template from './templates/contentLoading.html';\r\n\r\nexport default Marionette.View.extend({\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'loader'\r\n});\r\n","module.exports = \"Loading...\";","module.exports = \"<div class=\\\"icon-container\\\">\\r\\n    {{#if isSuccess}}\\r\\n    <i class=\\\"fas fa-check-circle\\\"></i>{{/if}} {{#if isInfo}}\\r\\n    <i class=\\\"fas fa-info-circle\\\"></i>{{/if}} {{#if isError}}\\r\\n    <i class=\\\"fas fa-exclamation-circle\\\"></i>{{/if}}\\r\\n</div>\\r\\n{{#if title}}\\r\\n<div class=\\\"notification-body_container\\\">\\r\\n    <div class=\\\"fr-alert-title\\\">{{title}}</div>\\r\\n    {{/if}}\\r\\n    <div class=\\\"text-container\\\">\\r\\n        {{text}}\\r\\n    </div>\\r\\n</div>\";","import ToastNotificationView from './ToastNotificationView';\r\n\r\nconst maxNotification = 5;\r\n\r\nexport default Marionette.CollectionView.extend({\r\n    className: 'notification-container',\r\n\r\n    childView: ToastNotificationView,\r\n\r\n    onBeforeAddChild(_, child) {\r\n        if (this.collection.length > maxNotification) {\r\n            this.collection.remove(this.children.findByIndex(0).model);\r\n        } else if (this.collection.length > maxNotification - 1) {\r\n            this.children.findByIndex(0).hideView();\r\n        }\r\n        const sameNotification = this.children.find(childView => childView.model.get('text') === child.model.get('text'));\r\n        if (sameNotification) {\r\n            this.collection.remove(sameNotification.model);\r\n        }\r\n        child.hideTimeout = setTimeout(() => child.hideView(), child.model.get('time'));\r\n    }\r\n});\r\n","import template from '../templates/toastNotification.html';\r\n\r\nconst notificationTypes = {\r\n    INFO: 'Info',\r\n    ERROR: 'Error',\r\n    SUCCESS: 'Success'\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    className() {\r\n        const sizeClass = this.model.get('title') ? 'dev-fr-alert-extended' : 'dev-fr-alert-compact';\r\n\r\n        switch (this.model.get('type')) {\r\n            case notificationTypes.SUCCESS:\r\n                return `${sizeClass} fr-alert dev-alert_success dev-fr-alert`;\r\n            case notificationTypes.ERROR:\r\n                return `${sizeClass} fr-alert fr-alert_error dev-fr-alert`;\r\n            case notificationTypes.INFO:\r\n            default:\r\n                return `${sizeClass} fr-alert dev-fr-alert`;\r\n        }\r\n    },\r\n\r\n    events: {\r\n        click: 'hideView'\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    hideView() {\r\n        this.el.fadeOut(200, () => this.model.collection && this.model.collection.remove(this.model));\r\n    },\r\n\r\n    templateContext() {\r\n        return {\r\n            isInfo: this.model.get('type') === notificationTypes.INFO,\r\n            isError: this.model.get('type') === notificationTypes.ERROR,\r\n            isSuccess: this.model.get('type') === notificationTypes.SUCCESS\r\n        };\r\n    }\r\n});\r\n","module.exports = \"<div class=\\\"fadingPanel js-fading-panel\\\"></div>\";","//@flow\r\nimport template from '../templates/PopupStack.hbs';\r\n\r\nconst classes = {\r\n    POPUP_REGION: 'js-popup-region-',\r\n    POPUP_FADE: 'popup-fade'\r\n};\r\n\r\nconst POPUP_ID_PREFIX = 'popup-region-';\r\n\r\nexport default Marionette.View.extend({\r\n    initialize() {\r\n        this.__stack = [];\r\n        this.__forceFadeBackground = false;\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    ui: {\r\n        fadingPanel: '.js-fading-panel'\r\n    },\r\n\r\n    showPopup(view, options) {\r\n        const { fadeBackground, transient, hostEl } = options;\r\n\r\n        if (!transient) {\r\n            this.__removeTransientPopups();\r\n        }\r\n\r\n        const popupId = _.uniqueId(POPUP_ID_PREFIX);\r\n        const regionEl = document.createElement('div');\r\n        regionEl.setAttribute('data-popup-id', popupId);\r\n        regionEl.classList.add('js-core-ui__global-popup-region');\r\n\r\n        let parentPopup;\r\n        let parentPopupId = null;\r\n\r\n        if (hostEl) {\r\n            parentPopup = hostEl.closest && hostEl.closest('.js-core-ui__global-popup-region');\r\n            parentPopupId = parentPopup ? parentPopup.getAttribute('popup-id') : null;\r\n        }\r\n        const config = {\r\n            view,\r\n            options,\r\n            regionEl,\r\n            popupId,\r\n            parentPopupId\r\n        };\r\n\r\n        if (parentPopupId) {\r\n            // If there is a child popup, it must be closed:\r\n            // 1. There might be nested dropdowns\r\n            // 2. There can't be dropdowns opened on the same level\r\n            const childPopupDef = this.__stack.find(x => x.parentPopupId === parentPopupId);\r\n            if (childPopupDef) {\r\n                this.closePopup(childPopupDef.popupId);\r\n            }\r\n        }\r\n\r\n        this.el.append(regionEl);\r\n        this.addRegion(popupId, {\r\n            el: regionEl\r\n        });\r\n        this.getRegion(popupId).show(view);\r\n\r\n        if (fadeBackground) {\r\n            const lastFaded = _.last(this.__stack.filter(x => x.options.fadeBackground));\r\n            if (lastFaded) {\r\n                lastFaded.regionEl.classList.remove(classes.POPUP_FADE);\r\n            } else {\r\n                this.__toggleFadedBackground(true);\r\n            }\r\n            regionEl.classList.add(classes.POPUP_FADE);\r\n        }\r\n\r\n        this.__stack.push(config);\r\n        return popupId;\r\n    },\r\n\r\n    closePopup(popupId = null) {\r\n        if (this.__stack.length === 0) {\r\n            return;\r\n        }\r\n\r\n        let targets = [];\r\n        const popupDef = this.__stack.find(x => x.popupId === popupId);\r\n        if (popupDef) {\r\n            if (!popupDef.options.transient) {\r\n                this.__removeTransientPopups();\r\n            }\r\n            // All the children of the popup will also be closed\r\n            // Important: we collect only logical children because another popup might have been opened at the same level already.\r\n            // e.g.: focus-blur events (usually focus comes first) - one popup is opened on focus and the previous one is closed on blur.\r\n            if (this.__stack.includes(popupDef)) {\r\n                targets = [popupDef];\r\n                const handleChildren = pId => {\r\n                    const children = this.__stack.filter(x => x.parentPopupId === pId);\r\n                    targets.push(...children);\r\n                    children.forEach(c => handleChildren(c.popupId));\r\n                };\r\n                handleChildren(popupId);\r\n            } else {\r\n                targets = [];\r\n            }\r\n        } else if (popupId) {\r\n            // If we don't find the popup, it must have been closed so the job is done\r\n            targets = [];\r\n        } else {\r\n            // Close all transient popups and the top-most non-transient\r\n            this.__removeTransientPopups();\r\n            const topMostNonTransient = _.last(this.__stack);\r\n            if (topMostNonTransient) {\r\n                targets = [topMostNonTransient];\r\n            }\r\n        }\r\n        targets.reverse().forEach(pd => {\r\n            this.__removePopup(pd);\r\n        });\r\n\r\n        const lastFaded = _.last(this.__stack.filter(x => x.options.fadeBackground));\r\n        if (lastFaded) {\r\n            lastFaded.regionEl.classList.add(classes.POPUP_FADE);\r\n        } else {\r\n            this.__toggleFadedBackground(this.__forceFadeBackground);\r\n        }\r\n    },\r\n\r\n    __removeTransientPopups() {\r\n        this.__stack\r\n            .filter(x => x.options.transient)\r\n            .reverse()\r\n            .forEach(popupDef => {\r\n                this.__removePopup(popupDef);\r\n            });\r\n    },\r\n\r\n    __removePopup(popupDef) {\r\n        this.removeRegion(popupDef.popupId);\r\n        this.el.removeChild(popupDef.regionEl);\r\n        this.__stack.splice(this.__stack.indexOf(popupDef), 1);\r\n        this.trigger('popup:close', popupDef.popupId);\r\n    },\r\n\r\n    get(popupId) {\r\n        const index = this.__stack.findIndex(x => x.popupId === popupId);\r\n        if (index === -1) {\r\n            return [];\r\n        }\r\n        return this.__stack.slice(index).map(x => x.view);\r\n    },\r\n\r\n    getStack() {\r\n        return this.__stack;\r\n    },\r\n\r\n    fadeBackground(fade) {\r\n        this.__forceFadeBackground = fade;\r\n        this.__toggleFadedBackground(this.__forceFadeBackground || this.__stack.find(x => x.options.fadeBackground));\r\n    },\r\n\r\n    __toggleFadedBackground(fade) {\r\n        this.ui.fadingPanel.classList.toggle('fadingPanel_open', fade);\r\n    }\r\n});\r\n","module.exports = \"<span class=\\\"loader\\\">{{text}}</span>\";","module.exports = \"<div class=\\\"tr-search tr-search_mselect\\\" id=\\\"searchInput\\\">\\r\\n    <input class=\\\"tr-search__input js-search-input\\\" name=\\\"searchName\\\" placeholder=\\\"{{{placeholder}}}\\\">\\r\\n    <div class=\\\"js-search-clear tr-search__clear\\\"></div>\\r\\n</div>\";","module.exports = \"<div class=\\\"js-panel1 double-panels__panel\\\"></div>\\r\\n<div class=\\\"js-resizer double-panels__resizer\\\"></div>\\r\\n<div class=\\\"js-panel2 double-panels__panel\\\"></div>\";","/*eslint-disable*/\r\n\r\nconst defineMode = config => {\r\n    const lexerTokens = {\r\n        NUMBER: /^(?:[+\\-]?(?:\\d+|\\d*\\.\\d+)(?:[efd][+\\-]?\\d+)?|[+\\-]?\\d+(?:\\/[+\\-]?\\d+)?|#b[+\\-]?[01]+|#o[+\\-]?[0-7]+|#x[+\\-]?[\\da-f]+)/,\r\n        FARROW: '->',\r\n        BARROW: '<-',\r\n        PLUS: '+',\r\n        MINUS: '-',\r\n        COMMA: ',',\r\n        OR: '||',\r\n        AND: '&&',\r\n        EQUAL2: '==',\r\n        NOT_EQUAL: '!=',\r\n        LESS_EQUAL: '<=',\r\n        GREATER_EQUAL: '=>',\r\n        EQUAL: '=',\r\n        LESS: '<',\r\n        GREATER: '>',\r\n        MULTIPLY: '*',\r\n        DIVIDE: '/',\r\n        NOT: '!',\r\n        OPEN_CURLY_BRACE: '{',\r\n        CLOSE_CURLY_BRACE: '}',\r\n        SEMICOLON: ';',\r\n        OPEN_BRACE: '(',\r\n        CLOSE_BRACE: ')',\r\n        COLON: ':',\r\n        DOUBLEDOLLAR: '$$',\r\n        DOLLAR: '$',\r\n        WS: /\\s+/,\r\n        DOT: '.',\r\n        OPEN_SQUARE_BRACE: '[',\r\n        CLOSE_SQUARE_BRACE: ']'\r\n    };\r\n\r\n    const keywords = {\r\n        NULL: 'null',\r\n        TRUE: 'true',\r\n        FALSE: 'false'\r\n    };\r\n\r\n    const styles = {\r\n        NUMBER: 'number',\r\n        FARROW: 'keyword',\r\n        BARROW: 'keyword',\r\n        PLUS: 'operator',\r\n        MINUS: 'operator',\r\n        COMMA: 'punctuation',\r\n        OR: 'operator',\r\n        AND: 'operator',\r\n        EQUAL2: 'operator',\r\n        EQUAL: 'operator',\r\n        NOT_EQUAL: 'operator',\r\n        LESS_EQUAL: 'operator',\r\n        GREATER_EQUAL: 'operator',\r\n        LESS: 'operator',\r\n        GREATER: 'operator',\r\n        MULTIPLY: 'operator',\r\n        DIVIDE: 'operator',\r\n        NOT: 'operator',\r\n        OPEN_CURLY_BRACE: 'punctuation',\r\n        CLOSE_CURLY_BRACE: 'punctuation',\r\n        SEMICOLON: 'punctuation',\r\n        OPEN_BRACE: 'punctuation',\r\n        CLOSE_BRACE: 'punctuation',\r\n        COLON: 'punctuation',\r\n        DOUBLEDOLLAR: 'keyword',\r\n        DOLLAR: 'keyword',\r\n        NULL: 'keyword',\r\n        TRUE: 'keyword',\r\n        FALSE: 'keyword',\r\n        WS: null,\r\n        DOT: 'punctuation',\r\n        OPEN_SQUARE_BRACE: 'punctuation',\r\n        CLOSE_SQUARE_BRACE: 'punctuation',\r\n    };\r\n    const IDENTIFIER_START = /^[A-Za-z_~\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]+/;\r\n    const IDENTIFIER_BODY = /^[A-Za-z0-9_\\.\\*~\\u00B7\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0300-\\u036F\\u0370-\\u037D\\u037F-\\u1FFF\\u203F-\\u2040\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]+/;\r\n\r\n    let type;\r\n\r\n    const tokenString = quote => (stream, state) => {\r\n        let escaped = false,\r\n            next,\r\n            end = false;\r\n        while ((next = stream.next()) != null) {\r\n            if (next == quote && !escaped) {\r\n                end = true;\r\n                break;\r\n            }\r\n            escaped = !escaped && next == '\\\\';\r\n        }\r\n        if (end) {\r\n            state.tokenize = base;\r\n        }\r\n        state.ctx.prev = 'string';\r\n        return 'string';\r\n    };\r\n\r\n    const base = (stream, state) => {\r\n        if (stream.sol()) {\r\n            state.ctx.prev = null;\r\n        }\r\n        if (stream.eatSpace()) {\r\n            type = 'ws';\r\n            return null;\r\n        }\r\n\r\n        for (const m in lexerTokens) {\r\n            const token = lexerTokens[m];\r\n            const k = stream.match(token);\r\n            if (k) {\r\n                state.ctx.prev = token;\r\n                if (/[({\\[]/.test(token)) {\r\n                    state.ctx.indentTo += 4;\r\n                }\r\n\r\n                if (/[)}\\]]/.test(token)) {\r\n                    state.ctx.indentTo -= 4;\r\n                }\r\n                return styles[m];\r\n            }\r\n        }\r\n\r\n        for (const m in keywords) {\r\n            if (stream.match(keywords[m])) {\r\n                state.ctx.prev = 'keyword';\r\n                const style = 'keyword';\r\n                return style;\r\n            }\r\n        }\r\n\r\n        const idStart = stream.match(IDENTIFIER_START);\r\n        if (idStart) {\r\n            const idbody = stream.match(IDENTIFIER_BODY);\r\n            let style = 'identifier';\r\n            const id = idStart[0] + (idbody ? idbody[0] : '');\r\n            if (id) {\r\n                const result = state.ontologyObjects.find(obj => obj.text === id);\r\n                if (result) {\r\n                    style = result.type;\r\n                    state.ctx.prev = style;\r\n                }\r\n            }\r\n\r\n            state.ctx.prev = 'identifier';\r\n            return style;\r\n        }\r\n\r\n        const ch = stream.next();\r\n        if (ch == '\\'' || ch == '\"') {\r\n            state.tokenize = tokenString(ch);\r\n            return state.tokenize(stream, state);\r\n        }\r\n\r\n        return 'error';\r\n    };\r\n\r\n\r\n    return {\r\n        startState() {\r\n            return { ctx: { prev: null, start: 0, indentTo: 0 }, tokenize: base, firstToken: true, ontologyObjects: this.ontologyObjects };\r\n        },\r\n        token(stream, state) {\r\n            return state.tokenize(stream, state);\r\n        },\r\n        indent(state) {\r\n            return state.ctx.indentTo;\r\n        },\r\n        newlineAfterToken(type, content) {\r\n            return /\\w{0,}[(;,{]/.test(content);\r\n        },\r\n\r\n        ontologyObjects: config.ontologyObjects\r\n    };\r\n};\r\n\r\nexport default defineMode;\r\n\r\n","import { codemirror } from 'lib';\r\nimport 'codemirror/mode/clike/clike';\r\nimport 'codemirror/addon/hint/show-hint';\r\nimport 'codemirror/addon/search/search';\r\nimport 'codemirror/addon/search/searchcursor';\r\nimport 'codemirror/addon/edit/closebrackets';\r\nimport 'codemirror/addon/edit/matchbrackets';\r\nimport 'codemirror/addon/fold/foldcode';\r\nimport 'codemirror/addon/fold/foldgutter';\r\nimport 'codemirror/addon/fold/brace-fold';\r\nimport 'codemirror/addon/fold/comment-fold';\r\nimport comindwareMode from './comindwareMode';\r\n\r\ncodemirror.defineMode('comindware', comindwareMode);\r\ncodemirror.defineMIME('text/comindware_expression', 'comindware');\r\ncodemirror.extendMode('clike', {\r\n    newlineAfterToken(type, content, next) {\r\n        return (/[\\[(;,{]/.test(content) && !/[)}\\]]/.test(next.string));\r\n    }\r\n});\r\n","/*eslint-disable*/\r\n\r\nimport { objectPropertyTypes } from '../Meta';\r\n\r\nexport const stringComparator2Asc = function(a, b) {\r\n    if (a) {\r\n        if (b) {\r\n            return a.localeCompare(b);\r\n        }\r\n        return -1;\r\n    } else if (b) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n};\r\n\r\nexport const stringComparator2Desc = function(a, b) {\r\n    if (a) {\r\n        if (b) {\r\n            return -a.localeCompare(b);\r\n        }\r\n        return 1;\r\n    } else if (b) {\r\n        return -1;\r\n    }\r\n    return 0;\r\n};\r\n\r\nexport const numberComparator2Asc = function(a, b) {\r\n    return a - b;\r\n};\r\n\r\nexport const numberComparator2Desc = function(a, b) {\r\n    return b - a;\r\n};\r\n\r\nexport const durationComparator2Asc = function(a, b) {\r\n    if (a) {\r\n        a = moment.duration(a);\r\n    }\r\n    if (b) {\r\n        b = moment.duration(b);\r\n    }\r\n    return a ? (b ? a - b : 1) : (b ? -1 : 0);\r\n};\r\n\r\nexport const durationComparator2Desc = function(a, b) {\r\n    if (a) {\r\n        a = moment.duration(a);\r\n    }\r\n    if (b) {\r\n        b = moment.duration(b);\r\n    }\r\n    return b ? (a ? b - a : 1) : (a ? -1 : 0);\r\n};\r\n\r\nexport const booleanComparator2Asc = function(a, b) {\r\n    // true goes first\r\n    return a ? (b ? 0 : -1) : (b ? 1 : 0);\r\n};\r\n\r\nexport const dateComparator2Asc = function(a, b) {\r\n    if (a) {\r\n        a = moment(a);\r\n    }\r\n    if (b) {\r\n        b = moment(b);\r\n    }\r\n    return a ? (b ? a - b : 1) : (b ? -1 : 0);\r\n};\r\n\r\nexport const dateComparator2Desc = function(a, b) {\r\n    if (a) {\r\n        a = moment(a);\r\n    }\r\n    if (b) {\r\n        b = moment(b);\r\n    }\r\n    return b ? (a ? b - a : 1) : (a ? -1 : 0);\r\n};\r\n\r\nexport const booleanComparator2Desc = function(a, b) {\r\n    return a ? (b ? 0 : 1) : (b ? -1 : 0);\r\n};\r\n\r\nexport const referenceComparator2Asc = function(a, b) {\r\n    const effectiveA = a ? a.name ? a.name : '' : '';\r\n    const effectiveB = b ? b.name ? b.name : '' : '';\r\n    return stringComparator2Asc(effectiveA, effectiveB);\r\n};\r\n\r\nexport const referenceComparator2Desc = function(a, b) {\r\n    const effectiveA = a ? a.name ? a.name : '' : '';\r\n    const effectiveB = b ? b.name ? b.name : '' : '';\r\n    return stringComparator2Desc(effectiveA, effectiveB);\r\n};\r\n\r\nexport const getComparatorByDataType = function(dataType, sorting) {\r\n    let comparator;\r\n    const isDesc = sorting === 'desc';\r\n\r\n    switch (dataType) {\r\n        case objectPropertyTypes.STRING:\r\n            comparator = isDesc ? stringComparator2Desc : stringComparator2Asc;\r\n            break;\r\n        case objectPropertyTypes.DOUBLE:\r\n        case objectPropertyTypes.INTEGER:\r\n        case objectPropertyTypes.DECIMAL:\r\n            comparator = isDesc ? numberComparator2Desc : numberComparator2Asc;\r\n            break;\r\n        case objectPropertyTypes.DURATION:\r\n            comparator = isDesc ? durationComparator2Desc : durationComparator2Asc;\r\n            break;\r\n        case objectPropertyTypes.DATETIME:\r\n            comparator = isDesc ? dateComparator2Desc : dateComparator2Asc;\r\n            break;\r\n        case objectPropertyTypes.BOOLEAN:\r\n            comparator = isDesc ? booleanComparator2Desc : booleanComparator2Asc;\r\n            break;\r\n        case objectPropertyTypes.ACCOUNT:\r\n        case objectPropertyTypes.INSTANCE:\r\n        case objectPropertyTypes.DOCUMENT:\r\n        case objectPropertyTypes.ENUM:\r\n            comparator = isDesc ? referenceComparator2Desc : referenceComparator2Asc;\r\n            break;\r\n        default:\r\n            comparator = isDesc ? stringComparator2Desc : stringComparator2Asc;\r\n            break;\r\n    }\r\n\r\n    return comparator;\r\n};\r\n\r\nexport const stringComparator1 = function(a) {\r\n    return a;\r\n};\r\n\r\nexport const emptyComparator = function() {\r\n    return 0;\r\n};\r\n\r\nexport default /** @lends module:core.utils.comparators */ {\r\n    /**\r\n     * @param {String} a Argument A.\r\n     * @return {String} An object to compare with simple operators (&gt;&lt;=).\r\n     * */\r\n    stringComparator1,\r\n    /**\r\n     * @function\r\n     * @param {String} a Argument A.\r\n     * @param {String} b Argument B.\r\n     * @return {Number} Result as follows:\r\n     * <ul>\r\n     *     <li><code>-1</code> - if A &lt; B.</li>\r\n     *     <li><code>0</code> - if A == B.</li>\r\n     *     <li><code>1</code> - if A &gt; B.</li>\r\n     * </ul>\r\n     * */\r\n    stringComparator2Asc,\r\n    /**\r\n     * @function\r\n     * @param {String} a Argument A.\r\n     * @param {String} b Argument B.\r\n     * @return {Number} Result as follows:\r\n     * <ul>\r\n     *     <li><code>-1</code> - if A &lt; B.</li>\r\n     *     <li><code>0</code> - if A == B.</li>\r\n     *     <li><code>1</code> - if A &gt; B.</li>\r\n     * </ul>\r\n     * */\r\n    stringComparator2Desc,\r\n    /**\r\n     * Empty comparator.\r\n     * @function\r\n     * @return {Number} Always 0 (means equals).\r\n     * */\r\n    emptyComparator,\r\n    /**\r\n     * @function\r\n     * @param {Date|String|moment} a Argument A. Javascript <code>Date</code>, date string in ISO8691 or momentJS date.\r\n     * @param {Date|String|moment} b Argument B. Javascript <code>Date</code>, date string in ISO8691 or momentJS date.\r\n     * @return {Number} Result as follows:\r\n     * <ul>\r\n     *     <li><code>-1</code> - if A &lt; B.</li>\r\n     *     <li><code>0</code> - if A == B.</li>\r\n     *     <li><code>1</code> - if A &gt; B.</li>\r\n     * </ul>\r\n     * */\r\n    dateComparator2Asc,\r\n    /**\r\n     * @function\r\n     * @param {Date|String|moment} a Argument A. Javascript <code>Date</code>, date string in ISO8691 or momentJS date.\r\n     * @param {Date|String|moment} b Argument B. Javascript <code>Date</code>, date string in ISO8691 or momentJS date.\r\n     * @return {Number} Result as follows:\r\n     * <ul>\r\n     *     <li><code>-1</code> - if A &lt; B.</li>\r\n     *     <li><code>0</code> - if A == B.</li>\r\n     *     <li><code>1</code> - if A &gt; B.</li>\r\n     * </ul>\r\n     * */\r\n    dateComparator2Desc,\r\n    /**\r\n     * @function\r\n     * @param {Number} a Argument A.\r\n     * @param {Number} b Argument B.\r\n     * @return {Number} Result as follows:\r\n     * <ul>\r\n     *     <li><code>-1</code> - if A &lt; B.</li>\r\n     *     <li><code>0</code> - if A == B.</li>\r\n     *     <li><code>1</code> - if A &gt; B.</li>\r\n     * </ul>\r\n     * */\r\n    numberComparator2Asc,\r\n    /**\r\n     * @function\r\n     * @param {Number} a Argument A.\r\n     * @param {Number} b Argument B.\r\n     * @return {Number} Result as follows:\r\n     * <ul>\r\n     *     <li><code>-1</code> - if A &lt; B.</li>\r\n     *     <li><code>0</code> - if A == B.</li>\r\n     *     <li><code>1</code> - if A &gt; B.</li>\r\n     * </ul>\r\n     * */\r\n    numberComparator2Desc,\r\n    /**\r\n     * @function\r\n     * @param {String|Object} a Argument A. An ISO8601 duration string ('P1Y2M3DT4H5M6S'), a string separated by colons like '7.23:59:59.999'\r\n     * or MomentJS object like <code>{ seconds: 2, minutes: 2, hours: 2, days: 2, weeks: 2, months: 2, years: 2 }</code>.\r\n     * @param {String|Object} a Argument B. An ISO8601 duration string ('P1Y2M3DT4H5M6S'), a string separated by colons like '7.23:59:59.999'\r\n     * or MomentJS object like <code>{ seconds: 2, minutes: 2, hours: 2, days: 2, weeks: 2, months: 2, years: 2 }</code>.\r\n     * @return {Number} Result as follows:\r\n     * <ul>\r\n     *     <li><code>-1</code> - if A &lt; B.</li>\r\n     *     <li><code>0</code> - if A == B.</li>\r\n     *     <li><code>1</code> - if A &gt; B.</li>\r\n     * </ul>\r\n     * */\r\n    durationComparator2Asc,\r\n    /**\r\n     * @function\r\n     * @param {String|Object} a Argument A. An ISO8601 duration string ('P1Y2M3DT4H5M6S'), a string separated by colons like '7.23:59:59.999'\r\n     * or MomentJS object like <code>{ seconds: 2, minutes: 2, hours: 2, days: 2, weeks: 2, months: 2, years: 2 }</code>.\r\n     * @param {String|Object} a Argument B. An ISO8601 duration string ('P1Y2M3DT4H5M6S'), a string separated by colons like '7.23:59:59.999'\r\n     * or MomentJS object like <code>{ seconds: 2, minutes: 2, hours: 2, days: 2, weeks: 2, months: 2, years: 2 }</code>.\r\n     * @return {Number} Result as follows:\r\n     * <ul>\r\n     *     <li><code>-1</code> - if A &lt; B.</li>\r\n     *     <li><code>0</code> - if A == B.</li>\r\n     *     <li><code>1</code> - if A &gt; B.</li>\r\n     * </ul>\r\n     * */\r\n    durationComparator2Desc,\r\n    /**\r\n     * @function\r\n     * @param {Boolean} a Argument A.\r\n     * @param {Boolean} b Argument B.\r\n     * @return {Number} Result as follows:\r\n     * <ul>\r\n     *     <li><code>-1</code> - if A &lt; B.</li>\r\n     *     <li><code>0</code> - if A == B.</li>\r\n     *     <li><code>1</code> - if A &gt; B.</li>\r\n     * </ul>\r\n     * */\r\n    booleanComparator2Asc,\r\n    /**\r\n     * @function\r\n     * @param {Boolean} a Argument A.\r\n     * @param {Boolean} b Argument B.\r\n     * @return {Number} Result as follows:\r\n     * <ul>\r\n     *     <li><code>-1</code> - if A &lt; B.</li>\r\n     *     <li><code>0</code> - if A == B.</li>\r\n     *     <li><code>1</code> - if A &gt; B.</li>\r\n     * </ul>\r\n     * */\r\n    booleanComparator2Desc,\r\n    /**\r\n     * Method to compare objects by it's <code>name</code> property.\r\n     * @function\r\n     * @param {Object} a Argument A.\r\n     * @param {Object} b Argument B.\r\n     * @return {Number} Result as follows:\r\n     * <ul>\r\n     *     <li><code>-1</code> - if A &lt; B.</li>\r\n     *     <li><code>0</code> - if A == B.</li>\r\n     *     <li><code>1</code> - if A &gt; B.</li>\r\n     * </ul>\r\n     * */\r\n    referenceComparator2Asc,\r\n    /**\r\n     * Method to compare objects by it's <code>name</code> property.\r\n     * @function\r\n     * @param {Object} a Argument A.\r\n     * @param {Object} b Argument B.\r\n     * @return {Number} Result as follows:\r\n     * <ul>\r\n     *     <li><code>-1</code> - if A &lt; B.</li>\r\n     *     <li><code>0</code> - if A == B.</li>\r\n     *     <li><code>1</code> - if A &gt; B.</li>\r\n     * </ul>\r\n     * */\r\n    referenceComparator2Desc,\r\n    /**\r\n     * Method returns comparator function based on type name.\r\n     * @function\r\n     * @param {String} dataType Data type as in <code>core.meta.objectPropertyTypes</code>.\r\n     * @param {String} sorting What sorting do we need? Options: <ul><li><code>'asc'</code></li><li><code>'desc'</code></li></ul>\r\n     * @return {Function} Comparator function.\r\n     * */\r\n    getComparatorByDataType\r\n};\r\n","/* Useful and general methods for work with Date and Time put here*/\r\n\r\nimport LocalizationService from '../services/LocalizationService';\r\n\r\nconst dateTimeFormats = {\r\n    en: {\r\n        shortDate: { general: 'MM/D/YYYY' /* 6/15/2009 */},\r\n        sateISO: { general: 'YYYY-MM-DD' /* 2005-08-09 */},\r\n        condensedDate: { general: 'MMM. D, YYYY' /* Jun. 15, 2009 */},\r\n        longDate: { general: 'dddd, MMMM D, YYYY' /* Monday, June 15, 2009 */},\r\n        monthDay: { general: 'MMMM D' /* June 15 */},\r\n        yearMonth: { general: 'MMMM, YYYY' /* June, 2009 */},\r\n        fullDateShortTime: {\r\n            general: 'dddd, MMMM D, YYYY h:mm A', // Monday, June 15, 2009 1:45 PM\r\n            date: 'dddd, MMMM D, YYYY', // Monday, June 15\r\n            time: 'h:mm A' // 1:45 PM\r\n        },\r\n        fullDateLongTime: {\r\n            general: 'dddd, MMMM D, YYYY h:mm:ss A', // Monday, June 15, 2009 1:45:30 PM\r\n            date: 'dddd, MMMM D, YYYY', // Monday, June 15, 2009\r\n            time: 'h:mm:ss A' // 1:45:30 PM\r\n        },\r\n        generalDateShortTime: {\r\n            general: 'MM/DD/YYYY h:mm A', // 6/15/2009 1:45 PM\r\n            date: 'MM/DD/YYYY', // 6/15/2009\r\n            time: 'h:mm A' // 1:45 PM\r\n        },\r\n        generalDateLongTime: {\r\n            general: 'MM/DD/YYYY h:mm:ss A', // 6/15/2009 1:45:30 PM\r\n            date: 'MM/DD/YYYY', // 6/15/2009\r\n            time: 'h:mm:ss A' // 1:45:30 PM\r\n        },\r\n        condensedDateTime: {\r\n            general: 'MMM. D, YYYY h:mm A', // Jun. 15, 2009 1:45 PM\r\n            date: 'MMM. D, YYYY', // Jun. 15, 2009\r\n            time: 'h:mm A' // 1:45 PM\r\n        },\r\n        shortTime: {\r\n            general: '', // 2014-12-29T11:45:00+04:00 it's ISO date(!) (wrong name from main tracker)\r\n            date: 'YYYY-MM-DD', // 2014-12-29\r\n            time: 'HH:mm:ssZ' // 11:45:00+04:00\r\n        },\r\n        longTime: { general: 'h:mm:ss A' }, // 1:45:30 PM\r\n        dateTimeISO: {\r\n            general: 'YYYY-MM-DD HH:mm:ss', // 2005-08-09 18:31:42 its not ISO date (!) (wrong name from main tracker)\r\n            date: 'YYYY-MM-DD', // 2005-08-09\r\n            time: 'HH:mm:ss' // 18:31:42\r\n        }\r\n    },\r\n    de: {\r\n        shortDate: { general: 'DD.MM.YYYY' /* 03.12.2014 */},\r\n        dateISO: { general: 'YYYY-MM-DD' /* 2005-08-09 */},\r\n        condensedDate: { general: 'DD. MMM YYYY' /* 03. Dez. 2014 */},\r\n        longDate: { general: 'dddd, DD. MMMM YYYY' /* Mittwoch, 03. Dezember 2014 */},\r\n        monthDay: { general: 'DD. MMMM' /* 03. Dezember */},\r\n        yearMonth: { general: 'MMMM YYYY' /* Dezember 2014 */},\r\n        fullDateShortTime: {\r\n            general: 'dddd, DD. MMMM YYYY HH:mm', // Mittwoch, 03. Dezember 2014 19:00\r\n            date: 'dddd, DD. MMMM YYYY', // Mittwoch, 03. Dezember 2014\r\n            time: 'HH:mm' // 19:00\r\n        },\r\n        fullDateLongTime: {\r\n            general: 'dddd, DD. MMMM YYYY HH:mm:ss', // Mittwoch, 03. Dezember 2014 19:00:00\r\n            date: 'dddd, DD. MMMM YYYY', // Mittwoch, 03. Dezember 2014\r\n            time: 'HH:mm:ss' //19:00:00\r\n        },\r\n        generalDateShortTime: {\r\n            general: 'DD.MM.YYYY HH:mm', // 03.12.2014 19:00\r\n            date: 'DD.MM.YYYY', // 03.12.2014\r\n            time: 'HH:mm' // 19:00\r\n        },\r\n        generalDateLongTime: {\r\n            general: 'DD.MM.YYYY HH:mm:ss', // 6/15/2009 1:45:30 PM\r\n            date: 'DD.MM.YYYY', // 6/15/2009\r\n            time: 'HH:mm:ss' //1:45:30 PM\r\n        },\r\n        condensedDateTime: {\r\n            general: 'MMM D, YYYY h:mm A', // Jun. 15, 2009 1:45 PM\r\n            date: 'MMM D, YYYY', // Jun. 15, 2009\r\n            time: 'h:mm A' // 1:45 PM\r\n        },\r\n        shortTime: {\r\n            general: '', // 2014-12-29T11:45:00+04:00 it's ISO date(!) (wrong name from main tracker)\r\n            date: 'YYYY-MM-DD', // 2014-12-29\r\n            time: 'HH:mm:ssZ' // 11:45:00+04:00\r\n        },\r\n        longTime: {\r\n            general: 'h:mm:ss A' /// 1:45:30 PM\r\n        },\r\n        dateTimeISO: {\r\n            general: 'YYYY-MM-DD HH:mm:ss', // 2005-08-09 18:31:42 its not ISO date (!) (wrong name from main tracker)\r\n            date: 'YYYY-MM-DD', // 2005-08-09\r\n            time: 'HH:mm:ss' // 18:31:42\r\n        }\r\n    },\r\n    ru: {\r\n        shortDate: { general: 'DD.MM.YYYY' /* 03.12.2009 */},\r\n        dateISO: { general: 'YYYY-MM-DD' /* 2005-08-09 */},\r\n        condensedDate: { general: 'D MMM YYYY' /* 3  2014 */},\r\n        longDate: { general: 'D MMMM YYYY' /* 3  2014 */},\r\n        monthDay: { general: 'D MMMM' /* 3  */},\r\n        yearMonth: { general: 'MMMM YYYY' /*  2014 */},\r\n        fullDateShortTime: {\r\n            general: 'D MMMM, YYYY HH:mm', /* 3  2014 19:00 */\r\n            date: 'D MMMM, YYYY', // 3  2014\r\n            time: 'HH:mm' // 19:00\r\n        },\r\n        fullDateLongTime: {\r\n            general: 'D MMMM, YYYY HH:mm:ss', // 3  2014 19:00:00\r\n            date: 'D MMMM, YYYY', // 3  2014\r\n            time: 'HH:mm:ss' // 19:00:00\r\n        },\r\n        generalDateShortTime: {\r\n            general: 'DD.MM.YYYY HH:mm', // 03.11.2014 19:00\r\n            date: 'DD.MM.YYYY', // 03.11.2014\r\n            time: 'HH:mm' // 19:00\r\n        },\r\n        generalDateLongTime: {\r\n            general: 'DD.MM.YYYY HH:mm:ss', // 03.11.2014 19:00:00\r\n            date: 'DD.MM.YYYY', // 03.11.2014\r\n            time: 'HH:mm:ss' // 19:00:00\r\n        },\r\n        condensedDateTime: {\r\n            general: 'MMM. D, YYYY h:mm A', // Jun. 15, 2009 1:45 PM\r\n            date: 'MMM. D, YYYY', // Jun. 15, 2009\r\n            time: 'h:mm A' // 1:45 PM\r\n        },\r\n        shortTime: {\r\n            general: '', // 2014-12-29T11:45:00+04:00 it's ISO date(!) (wrong name from main tracker)\r\n            date: 'YYYY-MM-DD', // 2014-12-29\r\n            time: 'HH:mm:ssZ' // 11:45:00+04:00\r\n        },\r\n        longTime: { general: 'h:mm:ss A' /* 1:45:30 PM */},\r\n        dateTimeISO: {\r\n            general: 'YYYY-MM-DD HH:mm:ss', // 2005-08-09 18:31:42 its not ISO date (!) (wrong name from main tracker)\r\n            date: 'YYYY-MM-DD', // 2005-08-09\r\n            time: 'HH:mm:ss' // 18:31:42\r\n        }\r\n    }\r\n};\r\n\r\nexport default /** @lends module:core.utils.dateHelpers */ {\r\n    /**\r\n     * Takes a date in the format that momentJS supports and converts it into a JavaScript <code>Date</code> object.\r\n     * @param {String|Date|Object} date Date string in ISO8601 format, JavaScript or momentJS date object.\r\n     * @return {Date} JavaScript <code>Date</code> object.\r\n     * */\r\n    dateToISOString(date) {\r\n        return moment(date).toISOString();\r\n    },\r\n\r\n    /**\r\n     * Takes a date string in ISO8601 format and converts it into a JavaScript <code>Date</code> object.\r\n     * @param {String} dateIsoString Date in ISO8601 format.\r\n     * @return {Date} JavaScript <code>Date</code> object.\r\n     * */\r\n    dateISOToDate(dateIsoString) {\r\n        return moment(dateIsoString).toDate();\r\n    },\r\n\r\n    durationISOToObject(duration) {\r\n        if (!duration) {\r\n            return null;\r\n        }\r\n        const val = moment.duration(duration);\r\n        return {\r\n            // we don't use moment.days() here because it returns only up to 30 days\r\n            days: Math.floor(val.asDays()),\r\n            hours: val.hours(),\r\n            minutes: val.minutes(),\r\n            seconds: val.seconds()\r\n        };\r\n    },\r\n\r\n    dateISOToDuration(dateIsoString, options) {\r\n        const opt = _.defaults(options, {seconds: true, minutes: true, hours: true, days: true, months: false, years: false });\r\n        const mom = moment(dateIsoString);\r\n        return moment.duration({\r\n            seconds: opt.seconds && mom.seconds(),\r\n            minutes: opt.minutes && mom.minutes(),\r\n            hours: opt.hours && mom.hours(),\r\n            days: opt.days && mom.days(),\r\n            // weeks:  mom.weeks(),\r\n            months: opt.months && mom.month(),\r\n            years: opt.years && mom.years()\r\n        });\r\n    },\r\n\r\n    getWeekStartDay() {\r\n        let startDay = 0;\r\n\r\n        switch (LocalizationService.langCode) {\r\n            case 'ru':\r\n            case 'de':\r\n                startDay = 1;\r\n                break;\r\n            default:\r\n                startDay = 0;\r\n                break;\r\n        }\r\n\r\n        return startDay;\r\n    },\r\n\r\n    getRelativeDate(val) {\r\n        const lang = LocalizationService.langCode;\r\n        const now = moment();\r\n        const daysFromNow = now.diff(val, 'days');\r\n\r\n        if (daysFromNow < 2) {\r\n            return moment(val).locale(lang).calendar();\r\n        }\r\n        const format = dateTimeFormats[lang].condensedDate.general;\r\n        return moment(val).locale(lang).format(format);\r\n    },\r\n\r\n    getDisplayDate(val) {\r\n        const lang = LocalizationService.langCode;\r\n        const format = dateTimeFormats[lang].condensedDate.general;\r\n\r\n        return val ? moment(val).locale(lang).format(format) : '';\r\n    },\r\n\r\n    getDisplayTime(time) {\r\n        const lang = LocalizationService.langCode;\r\n        const format = dateTimeFormats[lang].fullDateShortTime.time;\r\n\r\n        return time.locale(lang).format(format);\r\n    },\r\n\r\n    getTimeEditFormat(hasSeconds) {\r\n        return hasSeconds\r\n            ? dateTimeFormats[LocalizationService.langCode].generalDateLongTime.time\r\n            : dateTimeFormats[LocalizationService.langCode].generalDateShortTime.time;\r\n    },\r\n\r\n    getDateEditFormat() {\r\n        return dateTimeFormats[LocalizationService.langCode].generalDateShortTime.date;\r\n    },\r\n\r\n    dateToDateTimeString(date, formatName) {\r\n        const lang = LocalizationService.langCode;\r\n        return moment(date).format(dateTimeFormats[lang][formatName].general);\r\n    },\r\n\r\n    dateToDateString(date, formatName) {\r\n        const lang = LocalizationService.langCode;\r\n        return moment(date).format(dateTimeFormats[lang][formatName].date);\r\n    },\r\n\r\n    dateToTimeString(date, formatName) {\r\n        const lang = LocalizationService.langCode;\r\n        return moment(date).format(dateTimeFormats[lang][formatName].time);\r\n    }\r\n};\r\n","//@flow\r\ntype diffObject = {\r\n    elem: {},\r\n    t: -1 | 0 | 1\r\n};\r\n\r\nexport default function(a_: Array<any>, b_: Array<any>) {\r\n    let a = a_;\r\n    let b = b_;\r\n    let m = a.length;\r\n    let n = b.length;\r\n    let reverse = false;\r\n    let ed = null;\r\n    let offset = m + 1;\r\n    const path = [];\r\n    const pathposi: Array<{ x: number, y: number, k: number }> = [];\r\n    const ses: Array<diffObject> = [];\r\n    let lcs = '';\r\n    const SES_DELETE = -1;\r\n    const SES_COMMON = 0;\r\n    const SES_ADD = 1;\r\n    let tmp1;\r\n    let tmp2;\r\n\r\n    const init = function() {\r\n        if (m >= n) {\r\n            tmp1 = a;\r\n            tmp2 = m;\r\n            a = b;\r\n            b = tmp1;\r\n            m = n;\r\n            n = tmp2;\r\n            reverse = true;\r\n            offset = m + 1;\r\n        }\r\n    };\r\n\r\n    const P = function(\r\n        x: number,\r\n        y: number,\r\n        k: ?number\r\n    ): {\r\n        x: number,\r\n        y: number,\r\n        k: ?number\r\n    } {\r\n        return {\r\n            x,\r\n            y,\r\n            k\r\n        };\r\n    };\r\n\r\n    const seselem = function(elem, t) {\r\n        return {\r\n            elem,\r\n            t\r\n        };\r\n    };\r\n\r\n    const snake = function(k: number, p, pp) {\r\n        let r: number;\r\n        let x: number;\r\n        let y: number;\r\n\r\n        if (p > pp) {\r\n            r = path[k - 1 + offset];\r\n        } else {\r\n            r = path[k + 1 + offset];\r\n        }\r\n\r\n        y = Math.max(p, pp);\r\n        x = y - k;\r\n        while (x < m && y < n && a[x] === b[y]) {\r\n            ++x;\r\n            ++y;\r\n        }\r\n\r\n        path[k + offset] = pathposi.length;\r\n        pathposi[pathposi.length] = new P(x, y, r);\r\n        return y;\r\n    };\r\n\r\n    const recordseq = function(epc) {\r\n        let px_idx;\r\n        let py_idx;\r\n        let i;\r\n        px_idx = py_idx = 0;\r\n        for (i = epc.length - 1; i >= 0; --i) {\r\n            while (px_idx < epc[i].x || py_idx < epc[i].y) {\r\n                if (epc[i].y - epc[i].x > py_idx - px_idx) {\r\n                    if (reverse) {\r\n                        ses[ses.length] = new seselem(b[py_idx], SES_DELETE);\r\n                    } else {\r\n                        ses[ses.length] = new seselem(b[py_idx], SES_ADD);\r\n                    }\r\n                    ++py_idx;\r\n                } else if (epc[i].y - epc[i].x < py_idx - px_idx) {\r\n                    if (reverse) {\r\n                        ses[ses.length] = new seselem(a[px_idx], SES_ADD);\r\n                    } else {\r\n                        ses[ses.length] = new seselem(a[px_idx], SES_DELETE);\r\n                    }\r\n                    ++px_idx;\r\n                } else {\r\n                    ses[ses.length] = new seselem(a[px_idx], SES_COMMON);\r\n                    lcs += a[px_idx];\r\n                    ++px_idx;\r\n                    ++py_idx;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    init();\r\n\r\n    return {\r\n        SES_DELETE: -1,\r\n        SES_COMMON: 0,\r\n        SES_ADD: 1,\r\n        editdistance() {\r\n            return ed;\r\n        },\r\n        getlcs() {\r\n            return lcs;\r\n        },\r\n        getses(): Array<diffObject> {\r\n            return ses;\r\n        },\r\n        compose() {\r\n            let p: number;\r\n            let r: number;\r\n            let i: number;\r\n            let k: number;\r\n            const delta = n - m;\r\n            const size = m + n + 3;\r\n            const fp = {};\r\n            for (i = 0; i < size; ++i) {\r\n                fp[i] = -1;\r\n                path[i] = -1;\r\n            }\r\n            p = -1;\r\n            do {\r\n                ++p;\r\n                for (k = -p; k <= delta - 1; ++k) {\r\n                    fp[k + offset] = snake(k, fp[k - 1 + offset] + 1, fp[k + 1 + offset]);\r\n                }\r\n                for (k = delta + p; k >= delta + 1; --k) {\r\n                    fp[k + offset] = snake(k, fp[k - 1 + offset] + 1, fp[k + 1 + offset]);\r\n                }\r\n                fp[delta + offset] = snake(delta, fp[delta - 1 + offset] + 1, fp[delta + 1 + offset]);\r\n            } while (fp[delta + offset] !== n);\r\n\r\n            ed = delta + 2 * p;\r\n\r\n            r = path[delta + offset];\r\n\r\n            const epc = [];\r\n            while (r !== -1) {\r\n                const curpathpos = pathposi[r];\r\n                if (curpathpos) {\r\n                    epc[epc.length] = new P(curpathpos.x, curpathpos.y, null);\r\n                    r = curpathpos.k;\r\n                }\r\n            }\r\n            recordseq(epc);\r\n        }\r\n    };\r\n}\r\n","import or from './or';\r\nimport join from './join';\r\nimport debug from './debug';\r\nimport equal from './equal';\r\nimport isNull from './isNull';\r\nimport highlightFragment from './highlightFragment';\r\nimport localize from './localize';\r\nimport localizedText from './localizedText';\r\nimport renderAsHtml from './renderAsHtml';\r\nimport renderFullDate from './renderFullDate';\r\nimport renderFullDateTime from './renderFullDateTime';\r\nimport renderShortDuration from './renderShortDuration';\r\n\r\nHandlebars.registerHelper('or', or);\r\nHandlebars.registerHelper('join', join);\r\nHandlebars.registerHelper('debug', debug);\r\nHandlebars.registerHelper('equal', equal);\r\nHandlebars.registerHelper('isNull', isNull);\r\nHandlebars.registerHelper('highlightFragment', highlightFragment);\r\nHandlebars.registerHelper('localize', localize);\r\nHandlebars.registerHelper('localizedText', localizedText);\r\nHandlebars.registerHelper('renderAsHtml', renderAsHtml);\r\nHandlebars.registerHelper('renderFullDate', renderFullDate);\r\nHandlebars.registerHelper('renderFullDateTime', renderFullDateTime);\r\nHandlebars.registerHelper('renderShortDuration', renderShortDuration);\r\n","export default function(optionalValue) {\r\n    console.log('Current Context');\r\n    console.log('====================');\r\n    console.log(this);\r\n    if (optionalValue) {\r\n        console.log('Value');\r\n        console.log('====================');\r\n        console.log(optionalValue);\r\n    }\r\n}\r\n","export default function(a, b, options) {\r\n    if (a !== b) {\r\n        return options.inverse(this);\r\n    }\r\n    return options.fn(this);\r\n}\r\n","import { htmlHelpers } from '../index';\r\n\r\nexport default function(text, fragment) {\r\n    if (!text) {\r\n        return '';\r\n    }\r\n    if (!fragment) {\r\n        return new Handlebars.SafeString(Handlebars.escapeExpression(text));\r\n    }\r\n    return new Handlebars.SafeString(htmlHelpers.highlightText(text, fragment, true));\r\n}\r\n","export default function(a, options) {\r\n    if (_.isNull(a)) {\r\n        return options.fn(this);\r\n    }\r\n    return options.inverse(this);\r\n}\r\n","export default function(context, separator, options) {\r\n    let ret = '';\r\n\r\n    for (let i = 0, j = context.length; i < j; i++) {\r\n        ret = ret + (i === 0 ? '' : separator) + options.fn(context[i]);\r\n    }\r\n\r\n    return ret;\r\n}\r\n","import LocalizationService from '../../services/LocalizationService';\r\n\r\nexport default function(textId) {\r\n    return LocalizationService.get(textId);\r\n}\r\n","import LocalizationService from '../../services/LocalizationService';\r\n\r\nexport default function(textModel) {\r\n    return LocalizationService.resolveLocalizedText(textModel);\r\n}\r\n","export default function(v1, v2, v3, options) {\r\n    if (!!v1 || !!v2 || !!v3) {\r\n        return options.fn(this);\r\n    }\r\n    options.inverse(this);\r\n}\r\n","export default function(text) {\r\n    if (!text) {\r\n        return '';\r\n    }\r\n    const lines = text.split(/[\\r\\n]+/g);\r\n    const result = [];\r\n    _.each(lines, line => {\r\n        result.push(Handlebars.Utils.escapeExpression(line));\r\n    });\r\n    return result.join('<br>');\r\n}\r\n","export default function(date) {\r\n    return moment(date).format('ll');\r\n}\r\n","export default function(date) {\r\n    return moment(date).format('LLL');\r\n}\r\n","import { dateHelpers } from '../index';\r\n\r\nexport default function(duration) {\r\n    if (duration === 0) {\r\n        return '0';\r\n    }\r\n    if (!duration) {\r\n        return '';\r\n    }\r\n    const o = dateHelpers.durationISOToObject(duration);\r\n    let result = '';\r\n    if (o.days) {\r\n        result += `${o.days + Localizer.get('CORE.FORM.EDITORS.DURATION.WORKDURATION.DAYS')} `;\r\n    }\r\n    if (o.hours) {\r\n        result += `${o.hours + Localizer.get('CORE.FORM.EDITORS.DURATION.WORKDURATION.HOURS')} `;\r\n    }\r\n    if (o.minutes) {\r\n        result += `${o.minutes + Localizer.get('CORE.FORM.EDITORS.DURATION.WORKDURATION.MINUTES')} `;\r\n    }\r\n    return result.trimRight();\r\n}\r\n","/*eslint-ignore*/\r\nimport LocalizationService from '../services/LocalizationService';\r\n\r\nconst timeoutCache = {};\r\nconst queueCache = {};\r\nlet getPluralFormIndex = null;\r\n\r\nexport default /** @lends module:core.utils.helpers */ {\r\n    /**\r\n     * Deprecated. Use <code>_.debounce()</code> instead. Defers invoking the function until after `delay` milliseconds\r\n     * have elapsed since the last time it was invoked.\r\n     * @param {String} someUniqueId Function identifier.\r\n     * @param {Function} callback The function tobe called after delay.\r\n     * @param {Number} delay Callback delay in milliseconds.\r\n     * @deprecated\r\n     * */\r\n    setUniqueTimeout(someUniqueId, callback, delay) {\r\n        const timeoutId = timeoutCache[someUniqueId];\r\n        if (timeoutId) {\r\n            clearTimeout(timeoutId);\r\n        }\r\n        const handler = setTimeout(() => {\r\n            callback();\r\n            delete timeoutCache[someUniqueId];\r\n        }, delay);\r\n        timeoutCache[someUniqueId] = handler;\r\n        return handler;\r\n    },\r\n\r\n    /**\r\n     * Deprecated. Use <code>_.defer()</code> instead. Defers invoking the function until the current call stack has cleared.\r\n     * @param {Function} callback Callback to be called when the current call stack has cleared.\r\n     * @deprecated\r\n     * */\r\n    nextTick(callback) {\r\n        return setTimeout(callback, 10);\r\n    },\r\n\r\n    /**\r\n     * Creates and returns a new function that maps the passed comparator onto the specified attribute of Backbone.Model.\r\n     * Look at the example for details.\r\n     * @example\r\n     * var referenceComparator = core.utils.helpers.comparatorFor(core.utils.comparators.stringComparator2Asc, 'text');\r\n     * var a = new Backbone.Model({ id: 2, text: '1' });\r\n     * var b = new Backbone.Model({ id: 1, text: '2' });\r\n     * // returns -1\r\n     * var result = referenceComparator(a, b);\r\n     * @param {Function} comparatorFn Wrapped comparator function. 1 or 2 arguments.\r\n     * @param {String} propertyName Attribute of a Backbone.Model to which the function is mapped.\r\n     * @return {Function} Result function.\r\n     * */\r\n    comparatorFor(comparatorFn, propertyName) {\r\n        if (comparatorFn.length === 1) {\r\n            return a => comparatorFn(a.get(propertyName));\r\n        } else if (comparatorFn.length === 2) {\r\n            return (a, b) => comparatorFn(a.get(propertyName), b.get(propertyName));\r\n        }\r\n        throw new Error('Invalid arguments count in comparator function.');\r\n    },\r\n\r\n    /**\r\n     * Accepts string and duplicates it into every field of LocalizedText object.\r\n     * The LocalizedText  looks like this: <code>{ en: 'foo', de: 'foo', ru: 'foo' }</code>.\r\n     * @param {String} defaultText A text that is set into each field of the resulting LocalizedText object.\r\n     * @return {Object} LocalizedText object like <code>{ en, de, ru }</code>.\r\n     * */\r\n    createLocalizedText(defaultText) {\r\n        return {\r\n            en: defaultText,\r\n            de: defaultText,\r\n            ru: defaultText\r\n        };\r\n    },\r\n\r\n    /**\r\n     * Javascript version of the Microsoft .NET framework method <code>string.Format</code>.\r\n     * @example\r\n     * // returns 'Hello, Javascript!'\r\n     * core.utils.helpers.format('Hello, {0}!', 'Javascript');\r\n     * @param {String} text Formatted text that contains placeholders like <code>{i}</code>.\r\n     * Where <code>i</code> - index of the inserted argument (starts from zero).\r\n     * @param {...*} arguments Arguments that will replace the placeholders in text.\r\n     * @return {String} Resulting string.\r\n     * */\r\n    format(text) {\r\n        if (!_.isString(text)) {\r\n            return '';\r\n        }\r\n        for (let i = 1; i < arguments.length; i++) {\r\n            const regexp = new RegExp(`\\\\{${i - 1}\\\\}`, 'gi');\r\n            text = text.replace(regexp, arguments[i]);\r\n        }\r\n        return text;\r\n    },\r\n\r\n    /**\r\n     * Takes a number and array of strings and then returns a valid plural form.\r\n     * Works with complex cases and valid for all supported languages (by default for en, de and ru).\r\n     * The core algorithm is located in localization text `CORE.SERVICES.LOCALIZATION.PLURALFORM`.\r\n     * @function\r\n     * @example\r\n     * // returns 'car'\r\n     * core.utils.helpers.getPluralForm(1, 'car,cars');\r\n     * // returns 'cars'\r\n     * core.utils.helpers.getPluralForm(10, 'car,cars');\r\n     * @param {Number} n A number which requires a correct work form.\r\n     * @param {String} texts Comma separated string of word forms.\r\n     * (2 word forms for en and de, 3 word forms for ru).\r\n     * @return {String} Resulting string.\r\n     * */\r\n    getPluralForm(n, texts) {\r\n        if (!getPluralFormIndex) {\r\n            const formula = LocalizationService.get('CORE.SERVICES.LOCALIZATION.PLURALFORM');\r\n            getPluralFormIndex = new Function('n', `var r = ${formula};return typeof r !== 'boolean' ? r : r === true ? 1 : 0;`); // jshint ignore:line\r\n        }\r\n        return texts.split(',')[getPluralFormIndex(n)];\r\n    },\r\n\r\n    /**\r\n     * Creates a queue of asynchronous operations.\r\n     * New operation function is executed only after the previous function with the same id has executed.\r\n     * @example\r\n     * var save = form.save.bind(form);\r\n     * // Three sequential calls\r\n     * var promise1 = core.utils.helpers.enqueueOperation(save, 42);\r\n     * var promise2 = core.utils.helpers.enqueueOperation(save, 42);\r\n     * var promise3 = core.utils.helpers.enqueueOperation(save, 42);\r\n     * promise3.then(function () {\r\n     *     // Will be called only when all the 'save' operations has been fired and returned success.\r\n     * });\r\n     * @param {Function} operation A function that triggers asynchronous operation and returns a Promise object.\r\n     * @param {String} queueId String identifier of operations queue.\r\n     * */\r\n    enqueueOperation(operation, queueId) {\r\n        if (queueCache[queueId] && queueCache[queueId].isPending()) {\r\n            queueCache[queueId] = queueCache[queueId].then(() => (_.isFunction(operation) ? operation() : operation));\r\n        } else {\r\n            queueCache[queueId] = Promise.resolve(_.isFunction(operation) ? operation() : operation);\r\n        }\r\n        return queueCache[queueId];\r\n    },\r\n\r\n    /**\r\n     * Sequentially applies passed Behavior objects on to the given instance.\r\n     * The method has nothing to do with Marionette.Behavior.\r\n     * @example\r\n     * core.utils.helpers.applyBehavior(this, core.models.behaviors.SelectableBehavior);\r\n     * @param {Object} target Target instance that is getting behaviors applied.\r\n     * @param {...Function} arguments 1 or more Behavior objects (constructor functions).\r\n     * */\r\n    applyBehavior(target) {\r\n        const behaviors = _.rest(arguments, 1);\r\n        _.each(behaviors, Behavior => {\r\n            _.extend(target, new Behavior(target));\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Allows to perform validation of input options. The method is usually used in constructor or initializer methods.\r\n     * Allows to check both direct and nested properties of the options object.\r\n     * Throws <code>MissingOptionError</code> if the attribute is undefined.\r\n     * @example\r\n     * // Checks that property options.model exists.\r\n     * core.utils.helpers.ensureOption(options, 'model');\r\n     * // Checks that property options.property1.subProperty exists.\r\n     * core.utils.helpers.ensureOption(options, 'property1.subProperty');\r\n     * @param {Object} options Options object to check.\r\n     * @param {String} optionName Property name or dot-separated property path.\r\n     * */\r\n    ensureOption(options, optionName) {\r\n        if (!options) {\r\n            Core.InterfaceError.logError('The options object is required.', 'MissingOptionError');\r\n        }\r\n        let recursiveOptions = options;\r\n\r\n        if (optionName.indexOf('.') !== -1) {\r\n            const selector = optionName.split('.');\r\n            for (let i = 0, len = selector.length; i < len; i++) {\r\n                let name = selector[i];\r\n                if (recursiveOptions[name] === undefined) {\r\n                    name = _.take(selector, i + 1).join('.');\r\n                    Core.InterfaceError.logError(`The option \\`${name}\\` is required.`, 'MissingOptionError');\r\n                }\r\n                recursiveOptions = recursiveOptions[name];\r\n            }\r\n        } else if (options[optionName] === undefined) {\r\n            Core.InterfaceError.logError({\r\n                error: `The option \\`${optionName}\\` is required.`,\r\n                object: options\r\n            });\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Allows to perform validation of property in an object. Allows to check both direct and nested properties of the object.\r\n     * Throws <code>MissingOptionError</code> if the attribute is undefined.\r\n     * @example\r\n     * // Checks that property this.view.moduleRegion exists.\r\n     * core.utils.helpers.ensureOption(this.view, 'moduleRegion');\r\n     * @param {Object} object An object to check.\r\n     * @param {String} propertyName Property name or dot-separated property path.\r\n     * */\r\n    ensureProperty(options, optionName) {\r\n        if (!options) {\r\n            this.throwError('The options object is required.', 'MissingOptionError');\r\n        }\r\n        let recursiveOptions = options;\r\n\r\n        if (optionName.indexOf('.') !== -1) {\r\n            const selector = optionName.split('.');\r\n            for (let i = 0, len = selector.length; i < len; i++) {\r\n                let name = selector[i];\r\n                if (recursiveOptions[name] === undefined) {\r\n                    name = _.take(selector, i + 1).join('.');\r\n                    this.throwError(`The option \\`${name}\\` is required.`, 'MissingOptionError');\r\n                }\r\n                recursiveOptions = recursiveOptions[name];\r\n            }\r\n        } else if (options[optionName] === undefined) {\r\n            this.throwError(`The option \\`${optionName}\\` is required.`, 'MissingOptionError');\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Allows to retrieve a property (or subproperty) of an object. Does not throw any error if one of the properties along the way are missing.\r\n     * Doesn't throw if the object itself is undefined.\r\n     * @example\r\n     * var foo = { a: {} };\r\n     * // returns undefined (doesn't throw an error)\r\n     * core.utils.helpers.getPropertyOrDefault(foo, 'a.b.c.d');\r\n     * @param {String} propertyPath propertyName Property name or dot-separated property path.\r\n     * @param {Object} obj An object to get the property from.\r\n     * */\r\n    getPropertyOrDefault(propertyPath, obj) {\r\n        return [obj].concat(propertyPath.split('.')).reduce((prev, curr) => (prev === undefined ? undefined : prev[curr]));\r\n    },\r\n\r\n    /**\r\n     * Pre-validation helper that allows to check that function argument is not falsy.\r\n     * Falsy value means that the value is one of the following: <code>undefined, null, 0, '', false</code>.\r\n     * Throws <code>ArgumentFalsyError</code> if validation is failed.\r\n     * @example\r\n     * core.utils.helpers.assertArgumentNotFalsy(argument1, 'argument1');\r\n     * @param {*} argumentValue Value to check.\r\n     * @param {String} argumentName Name of the checked argument. Needs to specify in the exception text.\r\n     * */\r\n    assertArgumentNotFalsy(argumentValue, argumentName) {\r\n        if (!argumentValue) {\r\n            this.throwError(`Argument \\`${argumentName}\\` is falsy.`, 'ArgumentFalsyError');\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Simplified way to throw an error. Throws an Error object with the specified name and message.\r\n     * @example\r\n     * core.utils.helpers.throwError('Request is invalid.');\r\n     * @param {String} message Error message.\r\n     * @param {String} [name='Error'] Error name (`name` attribute of Error object).\r\n     * */\r\n    throwError(message, name) {\r\n        const error = new Error(message);\r\n        error.name = name || 'Error';\r\n        Core.InterfaceError.logError(error);\r\n    },\r\n\r\n    /**\r\n     * Throws InvalidOperationError. The exception should be thrown when a class is in invalid state to call the checked method.\r\n     * @example\r\n     * // Inside of implementation of some Marionette.View.\r\n     * addKeyboardListener: function (key, callback) {\r\n     *     if (!this.keyListener) {\r\n     *         utils.helpers.throwInvalidOperationError('You must apply keyboard listener after \\'render\\' event has happened.');\r\n     *     }\r\n     *     var keys = key.split(',');\r\n     *     _.each(keys, function (k) {\r\n     *         this.keyListener.simple_combo(k, callback);\r\n     *     }, this);\r\n     * },\r\n     * // ...\r\n     * @param {String} [message='Invalid operation'] Error message.\r\n     * */\r\n    throwInvalidOperationError(message) {\r\n        this.throwError(message || 'Invalid operation', 'InvalidOperationError');\r\n    },\r\n\r\n    /**\r\n     * Throws FormatError. The exception should be thrown when the format of an argument is invalid, or when a is not well formed.\r\n     * @example\r\n     * function (url, parameterNames, parameters, callback) {\r\n     *     // Some code here ...\r\n     *     if (parameters.Length !== parameterNames.length) {\r\n     *         utils.helpers.throwFormatError('The arrays `parameters` and `parameterNames` should have identical length.');\r\n     *     }\r\n     *     // Some code here ...\r\n     * @param {String} [message='Invalid format'] Error message.\r\n     * */\r\n    throwFormatError(message) {\r\n        this.throwError(message || 'Invalid format', 'FormatError');\r\n    },\r\n\r\n    /**\r\n     * Throws ArgumentError. The exception should be thrown when one of the arguments provided to a method is not valid.\r\n     * Should be thrown only when one particular argument is invalid. If a combination of arguments is invalid use <code>FormatError</code>.\r\n     * @example\r\n     * function (url, parameterNames, parameters, callback) {\r\n     *     // Some code here ...\r\n     *     if (parameterNames.Length !== 2) {\r\n     *         utils.helpers.throwArgumentError('The array `parameterNames` should contain exactly 2 elements.');\r\n     *     }\r\n     *     // Some code here ...\r\n     * @param {String} [message='Invalid argument'] Error message.\r\n     * */\r\n    throwArgumentError(message) {\r\n        this.throwError(message || 'Invalid argument', 'ArgumentError');\r\n    },\r\n\r\n    /**\r\n     * Throws NotSupportedError. The exception should be thrown when an invoked method is not supported.\r\n     * For example: some class doesn't support all the methods of the interface it implements.\r\n     * @example\r\n     * // Inside of implementation of some Stream class\r\n     * seek() {\r\n     *     // Some code here ...\r\n     *     utils.helpers.throwNotSupportedError('The network stream doesn't support `seek`.');\r\n     *     // Some code here ...\r\n     * }\r\n     * @param {String} [message='The operation is not supported'] Error message.\r\n     * */\r\n    throwNotSupportedError(message) {\r\n        this.throwError(message || 'The operation is not supported', 'NotSupportedError');\r\n    },\r\n\r\n    /**\r\n     * Throws NotImplementedError. The exception should be thrown when a requested method or operation is not implemented.\r\n     * For example: a base class could have abstract methods that throws such error.\r\n     * @example\r\n     * // Inside of implementation of some base controller class.\r\n     * navigate() {\r\n     *     utils.this.throwNotImplementedError();\r\n     * }\r\n     * @param {String} [message='The operation is not implemented'] Error message.\r\n     * */\r\n    throwNotImplementedError(message) {\r\n        this.throwError(message || 'The operation is not implemented', 'NotImplementedError');\r\n    },\r\n\r\n    /**\r\n     * Throws NotFoundError. The exception should be thrown when a requested object could not be found.\r\n     * For example: we looked up in the database and could find a person with requested id.\r\n     * @param {String} [message='Object not found'] Error message.\r\n     * */\r\n    throwNotFoundError(message) {\r\n        this.throwError(message || 'Object not found', 'NotFoundError');\r\n    }\r\n};\r\n","import UserService from 'services/UserService';\r\n\r\nexport default /** @lends module:core.utils.htmlHelpers */ {\r\n    /**\r\n     * Highlights fragments within a text with &lt;span class='highlight'&gt;&lt;/span&gt;.\r\n     * @param {String} rawText Text to highlight.\r\n     * @param {String} fragment highlighted fragment.\r\n     * @param {Boolean} [escape=true] If true, <code>Handlebars.Utils.escapeExpression</code> will be applied to\r\n     * the <code>text</code> before highlighting.\r\n     * @return {String} Highlighted text\r\n     * */\r\n    highlightText(rawText, fragment, escape) {\r\n        let text = rawText;\r\n        if (!text) {\r\n            return '';\r\n        }\r\n        if (escape || escape === undefined) {\r\n            text = Handlebars.Utils.escapeExpression(text);\r\n        }\r\n\r\n        const lowerText = text.toLowerCase();\r\n        let startIndex = 0;\r\n        let index;\r\n        let output = '';\r\n        while ((index = lowerText.indexOf(fragment, startIndex)) !== -1) {\r\n            const index2 = index + fragment.length;\r\n            output += `${text.substring(startIndex, index)}<span class='highlight'>${text.substring(index, index2)}</span>`;\r\n            startIndex = index2;\r\n        }\r\n\r\n        if (startIndex < text.length) {\r\n            output += text.substring(startIndex);\r\n        }\r\n\r\n        return output;\r\n    },\r\n\r\n    /**\r\n     * Highlights mentions within a text with &lt;a href='...'&gt;&lt;/a&gt;.\r\n     * @param {String} rawText Text to highlight.\r\n     * @param {Boolean} [escape=true] If true, <code>Handlebars.Utils.escapeExpression</code> will be applied to\r\n     * the <code>text</code> before highlighting.\r\n     * @return {String} Highlighted text\r\n     * */\r\n    highlightMentions(rawText, escape) {\r\n        let text = rawText;\r\n        if (!text) {\r\n            return '';\r\n        }\r\n        if (escape || escape === undefined) {\r\n            text = Handlebars.Utils.escapeExpression(text);\r\n        }\r\n\r\n        const membersByUserName = _.reduce(UserService.listUsers(), (memo, user) => {\r\n            if (user.userName) {\r\n                memo[user.userName] = user;\r\n            }\r\n            return memo;\r\n        }, {});\r\n        const regex = /(\\s|^)@([a-z0-9_\\.]+)/gi;\r\n\r\n        return text.replace(regex, (fragment, whitespace, userName) => {\r\n            const user = membersByUserName[userName];\r\n            if (user) {\r\n                return `${whitespace}<a href=\"${user.url}\" title=\"${user.name}\">@${user.userName}</a>`;\r\n            }\r\n            return fragment;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Highlights urls within a text with &lt;a href='...'&gt;&lt;/a&gt;.\r\n     * @param {String} rawText Text to highlight.\r\n     * @param {Boolean} [escape=true] If true, <code>Handlebars.Utils.escapeExpression</code> will be applied on to\r\n     * the <code>text</code> before highlighting.\r\n     * @return {String} Highlighted text\r\n     * */\r\n    highlightUrls(rawText, escape) {\r\n        let text = rawText;\r\n        if (!text) {\r\n            return '';\r\n        }\r\n        if (escape || escape === undefined) {\r\n            text = Handlebars.Utils.escapeExpression(text);\r\n        }\r\n\r\n        const regex = /(?:ht|f)tp(?:s?):\\/\\/[^\\s]*/gi;\r\n        return text.replace(regex, url => `<a href=\"${url}\">${url}</a>`);\r\n    },\r\n\r\n    /**\r\n     * Checks if element is presented in visible DOM.\r\n     * @param {Object} el DOM-element to check.\r\n     * @return {Boolean} True if an element is presented in DOM.\r\n     * */\r\n    isElementInDom(el) {\r\n        return document.body.contains(el);\r\n    },\r\n\r\n    /**\r\n     * Use CSS for the same effect. IE8 is not supported anymore.\r\n     * @deprecated\r\n     */\r\n    forbidSelection(el) {\r\n        function stopAndPreventDefault(e) {\r\n            if (e === undefined) {\r\n                return false;\r\n            }\r\n\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n\r\n        el.onselectstart = stopAndPreventDefault;\r\n        el.ondragstart = stopAndPreventDefault;\r\n    }\r\n};\r\n","import comparators_ from './comparators';\r\nimport helpers_ from './helpers';\r\nimport htmlHelpers_ from './htmlHelpers';\r\nimport dateHelpers_ from './dateHelpers';\r\nimport diffHelper_ from './diffHelper';\r\nimport keyCode_ from './keyCode';\r\nimport './handlebars/all';\r\nimport './codemirror';\r\n\r\nexport const comparators = comparators_;\r\nexport const helpers = helpers_;\r\nexport const htmlHelpers = htmlHelpers_;\r\nexport const dateHelpers = dateHelpers_;\r\nexport const keyCode = keyCode_;\r\nexport const diffHelper = diffHelper_;\r\n\r\nexport default {\r\n    /**\r\n     * A set of useful comparators compatible with <code>_.sortBy()</code>.<br/><br/> The following naming convention is used:\r\n     * <code>&lt;dataType&gt;Comparator&lt;Arguments count: 1 or 2&gt;&lt;Comparing direction: 'Asc' or 'Desc'&gt;</code>.<br/><br/>\r\n     * For example: `stringComparator2Asc` means that comparator function takes 2 string objects and compares it in ascending order.<br/><br/>\r\n     * Can be used as <code>comparator</code> in Backbone.Collection.\r\n     * @namespace\r\n     * */\r\n    comparators,\r\n    /**\r\n     * Useful methods used across the library.\r\n     * @namespace\r\n     * */\r\n    helpers,\r\n    /**\r\n     * Useful methods to generate HTML and manipulate DOM-elements.\r\n     * @namespace\r\n     * */\r\n    htmlHelpers,\r\n    /**\r\n     * Date formatters and related methods.\r\n     * @namespace\r\n     * */\r\n    dateHelpers,\r\n    /**\r\n     * Enumeration of key codes used in keyboard events.\r\n     * @namespace\r\n     * */\r\n    keyCode,\r\n\r\n    diffHelper\r\n};\r\n","export default /** @lends module:core.utils.keyCode */ {\r\n    BACKSPACE: 8,\r\n    COMMA: 188,\r\n    DELETE: 46,\r\n    DOWN: 40,\r\n    END: 35,\r\n    ENTER: 13,\r\n    ESCAPE: 27,\r\n    HOME: 36,\r\n    LEFT: 37,\r\n    NUMPAD_ADD: 107,\r\n    NUMPAD_DECIMAL: 110,\r\n    NUMPAD_DIVIDE: 111,\r\n    NUMPAD_ENTER: 108,\r\n    NUMPAD_MULTIPLY: 106,\r\n    NUMPAD_SUBTRACT: 109,\r\n    NUMPAD_0: 96,\r\n    NUMPAD_9: 105,\r\n    NUM_0: 48,\r\n    NUM_9: 57,\r\n    PAGE_DOWN: 34,\r\n    PAGE_UP: 33,\r\n    PERIOD: 190,\r\n    RIGHT: 39,\r\n    SPACE: 32,\r\n    TAB: 9,\r\n    UP: 38,\r\n    CTRL: 17,\r\n    ALT: 18,\r\n    ADD: 187,\r\n    SUBTRACT: 189,\r\n    SLASH: 191,\r\n    E: 69\r\n};\r\n","export default {\r\n    cloneDeep: function (obj) {\r\n        var out;\r\n        var i;\r\n        var pureJSType = obj && obj.toJSON ? obj.toJSON() : obj; //converting Backbone to js\r\n\r\n        if (_.isArray(pureJSType)) {\r\n            out = [];\r\n            for (i = pureJSType.length; i;) {\r\n                --i;\r\n                out[i] = _.cloneDeep(pureJSType[i]);\r\n            }\r\n\r\n            return out;\r\n        }\r\n\r\n        if (_.isObject(pureJSType) && typeof pureJSType !== 'function') {\r\n            out = {};\r\n            _.map(pureJSType, function (value, key) {\r\n                out[key] = _.cloneDeep(value);\r\n            });\r\n\r\n            return out;\r\n        }\r\n\r\n        return pureJSType;\r\n    }\r\n};\r\n","module.exports = global[\"_\"] = require(\"-!.\\\\underscore.js\");","//@flow\r\nimport template from '../templates/loading.hbs';\r\n\r\nexport default Marionette.View.extend({\r\n    templateContext() {\r\n        return {\r\n            text: this.options.text\r\n        };\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'l-loader'\r\n});\r\n","//@flow\r\nimport template from '../templates/searchBar.hbs';\r\nimport LocalizationService from '../services/LocalizationService';\r\n\r\nconst defaultOptions = () => ({\r\n    placeholder: LocalizationService.get('CORE.VIEWS.SEARCHBAR.PLACEHOLDER'),\r\n    delay: 300\r\n});\r\n\r\nexport default Marionette.View.extend({\r\n    initialize(options) {\r\n        _.extend(this.options, defaultOptions(), options || {});\r\n        this.model = new Backbone.Model({\r\n            placeholder: this.options.placeholder\r\n        });\r\n        this.__triggerSearch = _.debounce(this.__triggerSearch, this.options.delay);\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    className: 'search-view',\r\n\r\n    ui: {\r\n        input: '.js-search-input',\r\n        clear: '.js-search-clear'\r\n    },\r\n\r\n    events: {\r\n        'keyup @ui.input': '__search',\r\n        'click @ui.clear': '__clear'\r\n    },\r\n\r\n    onRender() {\r\n        this.__adjustClearButtonVisibility(!!this.ui.input.value);\r\n    },\r\n\r\n    focus() {\r\n        if (this.isRendered()) {\r\n            this.ui.input.focus();\r\n        }\r\n    },\r\n\r\n    __search() {\r\n        const value = this.ui.input.value;\r\n        this.__triggerSearch(value);\r\n        this.__adjustClearButtonVisibility(!!value);\r\n    },\r\n\r\n    __triggerSearch(value) {\r\n        this.trigger('search', value);\r\n    },\r\n\r\n    __clear() {\r\n        this.ui.input.value = '';\r\n        this.__search();\r\n        this.ui.input.focus();\r\n    },\r\n\r\n    __adjustClearButtonVisibility(isShown) {\r\n        if (isShown) {\r\n            this.ui.clear.removeAttribute('displayNone');\r\n        } else {\r\n            this.ui.clear.setAttribute('displayNone', true);\r\n        }\r\n    }\r\n});\r\n","//@flow\r\nimport template from '../templates/splitPanel.hbs';\r\nimport GlobalEventService from '../services/GlobalEventService';\r\n\r\nconst config = {\r\n    smallSize: 550,\r\n    largeSize: 700,\r\n    throttleDelay: 200\r\n};\r\n\r\nconst classes = {\r\n    smallPanelSize: 'size-small',\r\n    largePanelSize: 'size-large',\r\n    middlePanelSize: 'size-middle'\r\n};\r\n\r\nconst defaultOptions = {\r\n    panel1Min: 20,\r\n    panel2Min: 20\r\n};\r\n\r\nexport default Marionette.View.extend({\r\n    constructor() {\r\n        Marionette.View.prototype.constructor.apply(this, arguments);\r\n\r\n        _.defaults(this.options, defaultOptions);\r\n\r\n        _.bindAll(this, '__startDragging', '__stopDragging', '__handleDocumentMouseMove', '__handleDocumentMouseUp', '__handleResizerMousedown', '__handleWindowResize');\r\n\r\n        this.listenTo(GlobalEventService, 'window:resize', _.throttle(this.__handleWindowResize, config.throttleDelay));\r\n        this.on('render', () => {\r\n            this.el.classList.add('double-panels');\r\n        });\r\n        this.on('show', () => {\r\n            this.__handleWindowResize();\r\n        });\r\n    },\r\n\r\n    template: Handlebars.compile(template),\r\n\r\n    regions: {\r\n        panel1Region: '.js-panel1',\r\n        panel2Region: '.js-panel2'\r\n    },\r\n\r\n    ui: {\r\n        resizer: '.js-resizer',\r\n        panel1: '.js-panel1',\r\n        panel2: '.js-panel2'\r\n    },\r\n\r\n    events: {\r\n        'mousedown @ui.resizer': '__handleResizerMousedown'\r\n    },\r\n\r\n    __handleResizerMousedown(event) {\r\n        this.__stopDragging();\r\n        this.__startDragging(event);\r\n        return false;\r\n    },\r\n\r\n    __handleDocumentMouseMove(event) {\r\n        if (!this.dragContext) {\r\n            return;\r\n        }\r\n\r\n        const ctx = this.dragContext;\r\n        if (event.pageX === ctx.pageX) {\r\n            return;\r\n        }\r\n\r\n        const newPanel1Width = Math.min(Math.max(ctx.panel1InitialWidth + event.pageX - ctx.pageX, this.options.panel1Min), ctx.containerWidth - this.options.panel2Min);\r\n        const leftWidthPx = (newPanel1Width / ctx.containerWidth) * 100;\r\n        const rightWidthPx = 100 - leftWidthPx;\r\n        this.ui.panel1.css('width', `${leftWidthPx}%`);\r\n        this.ui.resizer.css('left', `${leftWidthPx}%`);\r\n        this.ui.panel2.css('width', `${rightWidthPx}%`);\r\n        this.__handleWindowResize();\r\n        return false;\r\n    },\r\n\r\n    __handleDocumentMouseUp() {\r\n        this.__stopDragging();\r\n        return false;\r\n    },\r\n\r\n    __startDragging(event) {\r\n        this.dragContext = {\r\n            pageX: event.pageX,\r\n            containerWidth: this.el.offsetWidth,\r\n            panel1InitialWidth: this.ui.panel1.offsetWidth\r\n        };\r\n\r\n        document.addEventListener('mousemove', this.__handleDocumentMouseMove);\r\n        document.addEventListener('mouseup', this.__handleDocumentMouseUp);\r\n    },\r\n\r\n    __stopDragging() {\r\n        if (!this.dragContext) {\r\n            return;\r\n        }\r\n\r\n        document.removeEventListener('mousemove', this.__handleDocumentMouseMove);\r\n        document.removeEventListener('mouseup', this.__handleDocumentMouseUp);\r\n\r\n        this.dragContext = null;\r\n    },\r\n\r\n    __updatePanelClasses($panelEl) {\r\n        const panelWidth = $panelEl.width();\r\n        if (!panelWidth) {\r\n            return;\r\n        }\r\n\r\n        let newClass;\r\n        if (panelWidth < config.smallSize) {\r\n            newClass = classes.smallPanelSize;\r\n        } else if (panelWidth < config.largeSize) {\r\n            newClass = classes.middlePanelSize;\r\n        } else {\r\n            newClass = classes.largePanelSize;\r\n        }\r\n\r\n        if (!$panelEl.hasClass(newClass)) {\r\n            $panelEl.classList.remove(classes.smallPanelSize);\r\n            $panelEl.classList.remove(classes.middlePanelSize);\r\n            $panelEl.classList.remove(classes.largePanelSize);\r\n            $panelEl.classList.add(newClass);\r\n        }\r\n    },\r\n\r\n    __handleWindowResize() {\r\n        this.__updatePanelClasses(this.ui.panel1);\r\n        this.__updatePanelClasses(this.ui.panel2);\r\n    }\r\n});\r\n","import { helpers } from 'utils';\r\nimport LocalizationService from '../../services/LocalizationService';\r\nimport LoadingView from '../../views/LoadingView';\r\n\r\nexport default Marionette.Behavior.extend({\r\n    initialize(options, view) {\r\n        helpers.ensureOption(options, 'region');\r\n\r\n        this.loadingViewOptions = {\r\n            text: options.text || LocalizationService.get('CORE.VIEWS.BEHAVIORS.LOADING.DEFAULTLOADINGSMALL')\r\n        };\r\n        view.loading = {\r\n            setLoading: this.setLoading.bind(this)\r\n        };\r\n    },\r\n\r\n    setLoading(visible) {\r\n        if (_.isBoolean(visible)) {\r\n            if (visible) {\r\n                this.view.getRegion(this.options.region).show(new LoadingView(this.loadingViewOptions));\r\n            } else {\r\n                this.view.getRegion(this.options.region).reset();\r\n            }\r\n        } else if (visible instanceof Promise) {\r\n            this.setLoading(true);\r\n            Promise.resolve(visible).then(\r\n                () => {\r\n                    this.setLoading(false);\r\n                },\r\n                () => {\r\n                    //noinspection JSPotentiallyInvalidUsageOfThis\r\n                    this.setLoading(false);\r\n                }\r\n            );\r\n        } else {\r\n            helpers.throwError('Invalid argument format.', 'FormatError');\r\n        }\r\n    }\r\n});\r\n"],"sourceRoot":""}